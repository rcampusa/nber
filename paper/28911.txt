                              NBER WORKING PAPER SERIES




                   MECHANISM DESIGN MEETS PRIORITY DESIGN:
                 REDESIGNING THE US ARMY'S BRANCHING PROCESS

                                        Kyle Greenberg
                                        Parag A. Pathak
                                        Tayfun Sönmez

                                      Working Paper 28911
                              http://www.nber.org/papers/w28911


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                     June 2021




All opinions expressed in this manuscript are those of the authors and do not represent the
opinions of the United States Military Academy (USMA), United States Cadet Command, the
United States Army, or the Department of Defense. We are grateful for excellent research
assistance from Kate Bradley and Robert Upton. Eryn Heying provided superb help with research
administration. The Army's Office of Economic and Manpower Analysis provided administrative
branching data for this project to Kyle Greenberg as part of a restricted use agreement with
USMA and MIT that specifies that data can only be stored, accessed, and analyzed within
USMA's information system. Any parties interested in accessing this data must make a direct
application to USMA. We are grateful to Scott Kominers for helpful conversations. Pathak
acknowledges support from the National Science Foundation for this project. The views
expressed herein are those of the authors and do not necessarily reflect the views of the National
Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2021 by Kyle Greenberg, Parag A. Pathak, and Tayfun Sönmez. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Mechanism Design meets Priority Design: Redesigning the US Army's Branching Process
Kyle Greenberg, Parag A. Pathak, and Tayfun Sönmez
NBER Working Paper No. 28911
June 2021
JEL No. D47

                                         ABSTRACT

Army cadets obtain occupations through a centralized process. Three objectives ­ increasing
retention, aligning talent, and enhancing trust ­ have guided reforms to this process since 2006.
West Point's mechanism for the Class of 2020 exacerbated challenges implementing Army policy
aims. We formulate these desiderata as axioms and study their implications theoretically and with
administrative data. We show that the Army's objectives not only determine an allocation
mechanism, but also a specific priority policy, a uniqueness result that integrates mechanism and
priority design. These results led to a re-design of the mechanism, now adopted at both West
Point and ROTC.

Kyle Greenberg                                      Tayfun Sönmez
United States Military Academy at West Point        Boston College
Department of Social Sciences                       Department of Economics
606 Thayer Road                                     140 Comm. Ave.
West Point, NY 10996                                Chestnut Hill, MA, 02467
kyle.greenberg@westpoint.edu                        tayfun.sonmez@bc.edu

Parag A. Pathak
Department of Economics, E52-426
MIT
77 Massachusetts Avenue
Cambridge, MA 02139
and NBER
ppathak@mit.edu
1    Introduction
Each year, the US Army assigns thousands of graduating cadets from the United States Military
Academy (USMA) at West Point and the Reserve Officer Training Corps (ROTC) to their first job
in a military occupation, or branch, through centralized systems. Combined, the West Point and
ROTC branching systems determine the branch placements for 70 percent of newly commissioned
Army officers (DoD, 2020). In 2006, the US Army created a "market-based" system for branch
assignments with the goal of increasing officer retention (Colarruso, Lyle, and Wardynski, 2010).
The system, known as the Branch-of-Choice or BRADSO program, gives cadets heightened priority
for a fraction of a branch's positions if they express a willingness to BRADSO, or extend the length
of their service commitment.1
    Since the allocation problem involves both branch assignment and length of service com-
mitment, the Army's branching system is a natural application of the matching with contracts
framework developed by Kelso and Crawford (1982) and Hatfield and Milgrom (2005). In that
framework, a centralized mechanism assigns both positions and contractual terms. However,
the Army's mechanism, hereafter USMA-2006, was designed while the matching with contracts
model was still being developed and the original formulation in Hatfield and Milgrom (2005)
did not directly apply to the Army's problem. Subsequent research by Hatfield and Kojima (2010)
broadened the framework in a way that allows it to apply to the Army's problem.2 Building on this
           ¨
research, Sonmez and Switzer (2013) proposed that the Army use the cumulative offer mechanism
to assign cadets to branches. While this proposal had desirable theoretical properties, it required
a more complex strategy space in which cadets have to rank branches and terms jointly. Under
the USMA-2006 mechanism, cadets only rank branches and separately indicate their willingness
to BRADSO for any branch. The Army considered the existing strategy space more manageable
                                               ¨
than a more complex alternative. In addition, Sonmez and Switzer (2013) showed that the Nash
equilibrium outcome of the USMA-2006 mechanism was equivalent to the outcome of the cumu-
lative offer mechanism if cadet preferences took a particular form, where willingness to BRADSO
is secondary to rankings of branches. Seeing the proximity between USMA-2006 and the proposal,
the Army decided to keep the simpler strategy space and maintain the USMA-2006 mechanism.
    In 2012, the US Army introduced Talent-Based Branching to develop a "talent market" where
additional information about each cadet influences the priority a cadet receives at a branch (Co-
larusso, Heckel, Lyle, and Skimmyhorn, 2016). In the branch assignment process, prioritization
at each branch has long been based on the order-of-merit list (OML), a composite of a cadet's
academic, physical, and military performance scores. Talent-Based Branching was introduced to
allow branches and cadets to better align their interests and fit for one another. Under Talent-
Based Branching, branches prioritize cadets into one of three tiers: high, medium, and low. These
    1 ADSO   is short for Active Duty Service Obligation. BRADSO stands for Branch of Choice Active Duty Service
Obligation. BRADSO slots are 25% of total branch allocations at USMA from the Class of 2006 through 2020 and 35%
for the Class of 2021, and either 50% or 60% of total branch allocations at ROTC depending on the graduating class.
USMA and ROTC cadets receive branches through separate centralized branching systems.
    2 Further elaboration is provided by Echenique (2012), Schlegel (2015), and Jagadeesan (2019).



                                                        2
ratings of cadets were originally a pilot initiative, but for the Class of 2020, the US Army decided
to use these ratings to adjust the underlying OML-based prioritization, constructing priorities at
each branch first by the tier and then by the OML within the tier.
    The desire to use branching to improve talent alignment created a new objective for the Branch-
of-Choice program beyond retention. Since the decision to integrate cadet ratings into the mecha-
nism took place under an abbreviated timeline, the US Army maintained the same strategy space
for the mechanism as in previous years, and devised the USMA-2020 mechanism to accommodate
heterogenous branch priorities. In their design, the Army created two less-than-ideal theoretical
possibilities in the USMA-2020 mechanism. First, a cadet could be charged BRADSO under the
USMA-2020 mechanism even if she does not need heightened priority to receive a position at that
branch. While this was also possible under USMA-2006, it was nearly four times as common un-
der USMA-2020. Second, under USMA-2020, a cadet's willingness to BRADSO for a branch can
improve priorities even for regular positions. Surveys of cadets showed that these aspects poten-
tially undermined trust in the branching system, and led the Army to reconsider the cumulative
offer mechanism, despite its more complex strategy space. At that point, the Army established a
partnership with market designers.
    This paper reports on the design of a new branching system for the Class of 2021, COM-
BRADSO, based on the cumulative offer mechanism together with a choice rule for each branch
that reflects the Army's dual objectives of retention and talent alignment. We develop a model that
integrates priority design with mechanism design. Our main formal result is that the Army's ob-
jectives, when formulated through intuitive axioms, uniquely give us the cumulative offer mecha-
nism together with a choice rule, endogenous in our setting. In developing this result, we provide
direct evidence of the relevance of these axioms in the design. To the best of our knowledge,
our main result is the first joint characterization of the cumulative offer mechanism along with a
specific choice rule that is induced by the central planner's policy objectives.3
    A second contribution of this paper is to provide a formal analysis of the USMA-2020 mecha-
nism. Our analysis shows how issues related to the lack of incentive compatibility became more
pressing with the USMA-2020 mechanism, leading the Army to abandon this mechanism. We il-
lustrate the issues using a single-branch model and by characterizing Nash equilibria of the game
induced by the USMA-2020 mechanism. This characterization for a complete information envi-
ronment and an example on the Bayesian equilibria of the same game for an incomplete infor-
mation environment support our argument that the structure of incentives under the USMA-2020
mechanism is highly complex. We complement this theoretical analysis with field evidence on the
performance of the USMA-2020 mechanism. Taken together, this analysis provides insight into
why the Army adopted COM-BRADSO after using USMA-2020.
    Finally, as part of the design, the US Army also considered policies to affect the balance be-
tween talent alignment and retention. To do so, the Army considered two policy levers: increasing
    3 Hirata and Kasuya (2017) and Hatfield, Kominers, and Westkamp (forthcoming) provide characterizations of the

cumulative offer mechanism for fixed choice rules that satisfy various technical conditions. Our main result differs
from theirs in the endogeneity of the choice rule that emerges in our characterization.


                                                         3
the number of BRADSO-eligible positions and making the BRADSO policy more effective. Based
on the tools developed in this paper, the Army decided to use a more effective BRASDO policy for
the Class of 2021 than it used for the Class of 2020. We establish comparative static results about
these policy levers and show how each increases the total number of BRADSOs collected using
data from the Class of 2021.
    Aside from our specific application, our paper offers two additional lessons for market design.
A longstanding folk-wisdom about the matching with contracts framework is that its applicability
may be limited because it is too complex for participants to submit rich information on preferences
over positions and contractual terms.4 Indeed, this was a major reason USMA did not adopt a cu-
                                         ¨
mulative offer mechanism as proposed in Sonmez and Switzer (2013). We show that while not all
cadets used the flexibility of the richer strategy space, many valued this option and several took
advantage of it when submitting preferences. And because the new mechanism utilizes this more
detailed information, it is able to avoid failures due to its unavailability. Therefore, our application
shows possibilities for using more complicated strategy spaces in the field.5 Second, field evidence
on the failures of incentive and equity properties of existing allocation mechanisms is important
for making the case to change mechanisms.6 The adoption of the USMA-2020 mechanism led to a
dramatic increase in the prevalence of failures due to the mechanism's lack of incentive compat-
ibility. This field evidence laid the foundation for the new mechanism as West Point leadership
decided that incentivizing cadets to misreport their true preferences degraded cadets' trust in each
other and the Army.
    The rest of this paper is organized as follows. The next section introduces model and addi-
tional background on BRADSO policies. Section 3 provides details on quasi-direct mechanisms,
including the mechanism the US Army used starting in 2006. Section 4 describes the mechanism
used by USMA in 2020, and uses data on cadet preferences and branch priorities to measure is-
sues related to incentive compatibility and the accommodation of the Army's objectives between
these two mechanisms. Focusing on the simpler case of a single branch, Section 5 illustrates the
complexity of the game induced by that USMA-2020 mechanism. In this section, we also present
an alternative and intuitive formulation of our proposed mechanism, and relate its outcome to
the Nash equilibrium outcome of the USMA-2020 mechanism. Section 6 extends our analysis to
the general multiple branch case, presents our main result characterizing COM-BRADSO, and de-
scribes some design issues with the new mechanism. The last section concludes. All proofs are
    4 For  instance, Crawford (2008) proposes that a flexible-salary match based on Kelso and Crawford (1982) is a
natural way to incorporate wages into the National Residency Matching Program. He argues that participants would
"be willing to bear the additional reporting costs to reap the benefits of improved allocation." Communication costs of
mechanisms are old theme in mechanism design, including Hurwicz (1977), Mount and Reiter (1974), and Segal (2007).
     5 A related analogy is two-sided matching with couples. Roth (1984) shows that previous systems that elicited

preferences from couples did not succeed in eliciting preferences over pairs of jobs. Subsequent reforms changed the
strategy-space to include such information.
     6 A growing literature has shown that a major cost of a manipulable mechanism is that some participants may not

strategize while others may make mistakes by not strategizing optimally. Studies including Abdulkadiroglu,        Pathak,
             ¨
Roth, and Sonmez                         ¨
                     (2006), Pathak and Sonmez                       ¨
                                               (2008), Pathak and Sonmez     (2013), and Budish and Cantillon (2012) relate
field evidence on incentives to arguments about changing mechanisms.



                                                            4
contained in Appendix A.


2     Model
There is a finite set of cadets I and a finite set of branches B. There are qb identical positions at
any given branch b  B, and a total of b B qb positions across all branches. Each cadet is in
need of at most one position, and she can be assigned one at any branch either at a base cost of
t0 years of mandatory service, or at an increased cost of t+ years through a BRADSO program.
Let T = {t0 , t+ } denote the set of possible mandatory service lengths. For any branch b  B,
at most q+                                                            +
         b of its positions can be assigned at the increased cost of t . We refer these positions
                                                                    +
as BRADSO-eligible positions. For any branch b  B, let q0
                                                        b = ( qb - qb ) denote the number of
remaining positions which can only be assigned at the base cost of t0 .


2.1     Cadet Preferences and Branch Baseline Priorities

Each cadet has a strict preference relation on branch-cost pairs and remaining unmatched, repre-
sented by a linear order on B × T  {}. We assume that, at any branch b  B, each cadet i  I
strictly prefers a position at the base cost t0 to one at the increased cost t+ . Let Q denote the set of
linear orders on B × T  {} identified by this assumption. Therefore, for any i  I ,          i    Q, and
b  B,
                                           ( b, t0 )   i   ( b, t + ).

For any strict preference relation   i Q, let i denote the resulting weak preference relation.
    In parts of our analysis, cadet preferences over branches (alone) and remaining unmatched
will also be useful. In these preferences, each branch is evaluated at its base cost t0 . Let P be the
set of linear orders on B  {}. Here, for any i  I , Pi  P , and b, b  B,

                                                   b Pi b

means that branch b at base cost t0 is strictly preferred by cadet i to branch b at base cost t0 .
      Let  denote the set of all linear orders on the set of cadets I . Each branch b  B has a strict
priority order b   on the set of cadets I . We refer b as the baseline priority order at branch b.


2.2     BRADSO Policy

For any branch b  B, in addition to the baseline priority order b (which represents the "baseline
claims" of cadets for positions at branch b), cadets' willingness to serve the increased cost t+ for a
position at branch b may also affect the allocation of positions at this branch.
      Given a branch b  B and a baseline priority order b  , a BRADSO policy is a linear order
+
b     on I × T with the following two properties:




                                                       5
   1. for any i, j  I and t  T ,

                                              +
                                      (i, t ) b ( j, t )                i b j   and


   2. for any i  I ,
                                                    (i, t + ) b
                                                              +
                                                                ( i , t0 ).

Let +
    b be the set of all linear orders on I × T which satisfy these two conditions.
      When a given BRADSO policy is invoked at a branch b  B (for some or all of the positions), (i)
the relative priority order of cadets with identical willingness to serve the increased cost remain
the same as the baseline priority order b , and (ii) any cadet has higher claims for a position at
branch b with the increased cost t+ compared to her claims for the same position with the base
cost t0 .
      How much of an advantage a BRADSO policy grants to a cadet in securing a position at branch
b due to her willingness to serve the increased cost t+ differs between distinct elements of +
                                                                                             b .
                            , b  +
                          + +
Given two BRADSO policies b                     +
                                 b , the policy b has weakly more effective BRADSO
                +
than the policy b if,

                       for any i, j  I ,      (i, t + ) b
                                                        +
                                                          ( j, t0 ) = (i, t+ ) b
                                                                               +
                                                                                 ( j, t0 ).

                                  +
That is, the boost received under b (for the units the BRADSO policy is invoked) is at least as
                                 +                         +
much as the boost received under b for any individual when b has weakly more effective
            +
BRADSO than b .


2.3     Examples of BRADSO Policies: Ultimate and Tiered

Given a branch b  B and a baseline priority order b  , define the ultimate BRADSO policy
b  b as the BRADSO policy where willingness to serve the increased cost t overrides any
+  +                                                                     +

differences in cadet ranking under branch-b baseline priority order b . That is, for any pair of
cadet i, j  I ,
                                                (i, t+ )  +       0
                                                          b ( j, t ).

      For the Classes of 2006-2019, USMA implemented the ultimate BRADSO policy. During these
years, USMA capped the positions that could be assigned the increased cost t+ at 25 percent of
total positions within each branch. For any branch b  B, cadets who were willing to serve at
the increased cost for branch b had higher priority for the q+
                                                             b BRADSO-eligible positions than all
cadets who were not willing to serve at the increased cost for branch b.

      Given a branch b  B and a baseline priority order b  , partition cadets into n tiers




                                                           6
 1 , I 2 , . . . , I n so that, for any two tiers , m  {1, . . . , n } and pair of cadets i, j  I ,
Ib    b             b

                                                           
                                                 < m,      
                                               i  Ib , and  = i b j.
                                                           
                                                   m
                                               j  Ib
                                                           

                             +
Under a tiered BRADSO policy b , for any tier  {1, . . . , n} and three cadets i, j, k  I ,
                                 
                  i b k,         
                  j b k, and            =             ( k, t + ) b
                                                                 +
                                                                   ( i , t0 )                      +
                                                                                        ( k, t + ) b ( j, t0 ) .
                                 
                  i, j  Ib
                                 


That is, under a tiered BRADSO policy, given two cadets i, j  I in the same tier and a third cadet
k  I with lower b -priority than both i and j, cadet k can gain priority over cadet i through
willingness to serve at the increased cost t+ if and only if cadet k can gain priority over cadet j
through willingness to serve at the increased cost t+ .
      For the Classes of 2020 and 2021, tiered BRADSO policies were used. In both years, cadets
were prioritized by each branch into one of three tiers, which we denote high, middle and low.7
In 2020, when a cadet expressed a willingness to serve the increased cost t+ , it only resulted in
higher priority among cadets who had the same categorical branch rating. For example, a middle
tier cadet who was willing to serve with increased cost would not obtain higher priority than a
high tier cadet who was unwilling to serve with increased cost. Therefore, under the 2020 policy,
the willingness to serve overrides any difference in cadet ranking under b only among cadets in
the same tier.
      Relative to the 2020 policy, the USMA BRADSO policy for the Class of 2021 granted cadets
more advantage in securing a position at branch b. Specifically, if a cadet in the Class of 2021
expressed a willingness to serve t+ , then she had higher priority over all other cadets if she was
in the medium or high tier categories. Low tier cadets who expressed a willingness to serve t+
only received higher priority among other low tier cadets. Formally, the ultimate BRADSO policy
is weakly more effective than the 2021 BRADSO policy, which is weakly more effective than the
2020 BRADSO policy.


2.4     Formulation through the Matching with Contracts Model

To introduce the outcome of an economy and some of the mechanisms analyzed in the paper, the
following formulation through the matching with contracts model by Hatfield and Milgrom (2005)
will be helpful.
      For any i  I , b  B, and t  T , the triple x = (i, b, t) is called a contract. It represents a
      7 Branch   rating categories are known to cadets and finalized before cadets submit their preferences for branches.




                                                                7
bilateral match between cadet i and branch b at the cost of t. Let

                                                      X = I×B×T

denote the set of all contracts. Given a contract x  X , let i( x ) denote the cadet, b( x ) denote the
branch, and t( x ) denote the cost of the contract x. That is, x = i( x ), b( x ), t( x ) .
      For any cadet i  I , let
                                             X i = { x  X : i( x ) = i }

denote the set of contracts that involve cadet i. Similarly, for any branch b  B, let

                                            X b = { x  X : b( x ) = b }

denote the set of contracts that involve branch b. Observe that for any cadet i  I , her preferences
   Q originally defined over B × T  {} can be redefined over Xi  {} (i.e. her contracts
  i
and remaining unmatched) by simply interpreting a branch-cost pair (b, t)  B × T in the original
domain as a contract between cadet i and branch b at cost t in the new domain.


2.5     Allocations, Mechanisms, and their Desiderata

An allocation is a (possibly empty) set of contracts X  X , such that

                   (1) for any i  I ,             |{ x  X : i( x ) = i }|  1,
                   (2) for any b  B,              |{ x  X : b( x ) = b}|  qb , and
                   (3) for any b  B,              |{ x  X : b( x ) = b and t( x ) = t+ }|  q+
                                                                                            b .

That is, under an allocation X , no individual can appear in more than one contract, no branch b
can appear in more contracts than the number of its positions qb , and no branch b can appear in
more than q+                                    +
           b contracts with the increased cost t . Let A denote the set of all allocations.
      For a given allocation X  A and cadet i  I , the assignment Xi of cadet i under allocation X
is defined as
                                                      ( b, t )   if (i, b, t)  X
                                         Xi =
                                                                 if X  Xi = .
For the latter case, i.e. if Xi = , we say that cadet i in unmatched under X .
      For a given allocation X  A and cadet i  I , with a slight abuse of the notation,8 let b( Xi ) be
defined as
                                                           b     if (i, b, t)  X
                                         b ( Xi ) =
                                                                 if X  Xi = .
    8 The abuse of notation is due to the fact that while the argument of the function b(.) is previously introduced as a

contract, here it is an assignment. Since a cadet and an assignment uniquely defines a (possibly empty) contract, the
notational abuse is innocuous.




                                                                 8
    A mechanism is a strategy space Si for each cadet i  I along with an outcome function

                                                     :      Si  A
                                                           i I

that selects an allocation for each strategy profile. Let S = i I Si .
   Given a mechanism S ,  , the resulting assignment function i : S  B × T  {} for cadet
i  I is defined as follows: For any s  S and X = (s),

                                                          i ( s ) = Xi .

    A direct mechanism is a mechanism where Si = Q for each cadet i  I .
    We next formulate the desiderata for allocations and mechanisms. Our first three axioms are
basic, and standard in the literature.

Definition 1. An allocation X  A satisfies individual rationality if, for any i  I,

                                                          Xi         i   .

A mechanism S ,  satisfies individual rationality if, the allocation (s) satisfies individual rationality
for any strategy profile s  S .

Definition 2. An allocation X  A satisfies satisfies non-wastefulness if for any b  B and i  I,

                              { x  X : b( x ) = b} < qb , and
                                                                                =       i   ( b, t0 ).
                                          Xi = 

A mechanism S ,  satisfies non-wastefulness if, the allocation (s) satisfies non-wastefulness for any
strategy profile s  S .

Definition 3. An allocation X  A has no priority reversals if, for any i, j  I, and b  B

                                           b( X j ) = b, and
                                                                             = j b i.
                                               Xj    i   Xi

A mechanism S ,  has no priority reversals if, the allocation (s) satisfies elimination of priority
reversals for any strategy profile s  S .

    This condition states that if cadet j is assigned branch b at any cost and cadet i prefers cadet
j's assignment to her own, then j must have higher baseline priority than i.9 If instead cadet i
strictly prefers cadet j's assignment even though cadet j has lower baseline priority than cadet i,
then there is a priority reversal. When an allocation or mechanism satisfies this axiom, we also say
it lacks priority reversals.
   9 This                                                                ¨
            condition is identical to the fairness condition defined by Sonmez and Switzer (2013).


                                                                 9
    Our next axiom formulates how the BRADSO policy is to be implemented.

Definition 4. An allocation X  A satisfies enforcement of the BRADSO policy if, for any b  B, and
i, j  I,
                      Xi = (b, t+ ), and                                    +
               (1)                                        =       (i, t + ) b ( j, t0 ), and
                         ( b, t0 )   j   Xj

                                                
                          X j = ( b, t0 ),      
               (2)    (b, t+ ) i Xi , and                 =            i  I : Xi = ( b , t + )   = q+
                                                                                                    b .
                                             
                                 +
                       (i, t + ) b ( j, t0 )
                                             

A mechanism S ,  satisfies enforcement of the BRADSO policy if the allocation (s) satisfies enforce-
ment of the BRADSO policy for any strategy profile s  S .

    Here the first condition states that if a cadet i (by invoking the BRADSO policy) receives an
assignment (b, t+ ) at the expense of another cadet j who would rather receive an assignment of
(b, t0 ), then it must be the case that the increased cost contract of cadet i has higher priority under
                          +
the BRADSO policy b         than the base cost contract of cadet j. The second condition, on the other
hand, states that if the BRADSO policy is not invoked for a cadet i who would rather receive an
                                                                                     +
assignment of (b, t+ ) and who has higher priority under the BRADSO policy b           than the base cost
                                                            0
contract of another cadet j with an assignment of (b, t ), then it must be the case that the upper
limit for BRADSO-eligible positions at branch b is already reached.
     Our last condition is the highly sought-after incentive compatibility property for direct mech-
anisms.

Definition 5. A direct mechanism  is strategy-proof if, for any                 Q| I | , any i  I, and any   i    Q,

                                              i ( )   i   i (   -i ,    i ).



3    BRADSO Program for Improved Retention
Prior to the Class of 2006, USMA cadets were assigned positions at Army branches using a se-
rial dictatorship that is induced by a cadet performance ranking known as the order of merit list
(OML). Cadets submitted their preferences over the set of branches, and the highest-OML cadet
was assigned her most-preferred branch, the second highest-OML cadet was assigned her most-
preferred branch among branches with remaining positions, and so on. Let us refer to this mech-
anism as OML .
    In response to declining junior officer retention rates during the late 1990s and early 2000s, the
U.S. Army offered a menu of retention incentives to cadets at USMA and ROTC through the Officer
Career Satisfaction Program, first implemented in 2006 (Colarruso, Lyle, and Wardynski, 2010). The
most popular incentive, which involved a reform of the branching mechanism, was the branch of
choice, or BRADSO program. Under this program, for a given percentage of the positions in any

                                                          10
branch b  B, cadets who are willing to extend their Active Duty Service Obligation (ADSO) by
three years if assigned to branch b are given higher priority.10 To infer which cadets are willing
to serve the additional three years of ADSO for any given branch b, the strategy space of the
new mechanism was also modified by requesting cadets to report the set of branches they are
willing to serve the additional ADSO. Hence, the strategy space of each cadet under the modified
mechanism is P × 2B .
      It is important to emphasize that the modified mechanism is not a direct mechanism. Rather
than merely submitting their preferences over branch-cost pairs, cadets instead submit their pref-
erences over branches alone and "signal" their willingness to serve the increased cost at any
branch. The structure of the strategy space under the modified mechanism has two important
implications in relation to the axioms we introduce in Section 2.5. First, our primary incentive
compatibility axiom, strategy-proofness, is only defined for direct mechanisms. Hence, it is not
well-defined for the Army's modified mechanism. Second, while the remaining four axioms are
all well-defined for any mechanism regardless of their strategy spaces, they all depend on cadet
preferences over branch-cost pairs, which is private information. Under a direct mechanism, this
private information is solicited from cadets, and hence this private information becomes available
to the central planner. As a result, verifying these axioms becomes a straightforward task un-
der the "submitted" preferences. Moreover if the direct mechanism is strategy-proof, the central
planner has a formal basis to assume that the submitted preferences are truthful. The mechanism
adopted by the USMA for the class of 2006, however, is not a direct mechanism. Therefore, ver-
ification of these axioms may be less clear under the modified mechanism. This distinction, at
least partially, contributed the Army's decision to maintain the USMA-2006 mechanism for over
a decade. Before formally introducing this mechanism, we first formulate axioms that are both
well-defined and possible to verify under a simpler strategy space.


3.1     Quasi-Direct Mechanisms and their Desiderata

A quasi-direct mechanism is a mechanism where the strategy space is Si = P × 2B for each cadet
i  I.

      We next formulate three axioms for quasi-direct mechanisms; axioms which play important
role in Army's decision to reform its branching process both for the USMA and the ROTC for the
Class of 2021.

      Our first axiom on quasi-direct mechanisms formulates the goal of charging the increased cost
only to cadets for whom the BRADSO policy has been pivotal in securing a branch.

Definition 6. A quasi-direct mechanism  satisfies BRADSO-incentive compatibility (or BRADSO-
  10 The Officer Career Satisfaction Program also gave cadets the opportunity to receive their post of choice (PADSO)

and the guaranteed option to attend graduate school (GRADSO) in exchange for extending their ADSO by three years.
Neither PADSO nor GRADSO influenced the branching mechanism.




                                                         11
IC) if, for any s = Pj , Bj       j I
                                         (P × 2B )| I | , i  I, and b  B,

                               i (s) = (b, t+ ) = i ( Pi , Bi \ {b}), s-i = (b, t0 ).

    That is, any cadet i  I who receives a position at branch b at the increased cost t+ under 
should not be able to profit by receiving a position at the same branch at the cheaper base cost t0
by dropping branch b from the set of branches Bi for which she has indicated willingness to serve
the increased cost t+ . Alternatively, a cadet should never be charged BRADSO for a branch merely
because of his/her willingness to serve the increased cost.
    Our next axiom formulates the idea that the willingness to serve the increased cost t+ at a
branch should never serve the sole purpose of enabling an assignment in this branch at the base
cost t0 .

Definition 7. A quasi-direct mechanism  satisfies elimination of strategic BRADSO if, for any s =
 Pj , Bj    j I
                   (P × 2B )| I | , i  I, and b  B,

                               i (s) = (b, t0 ) = i ( Pi , Bi \ {b}), s-i = (b, t0 ).

    That is, any cadet i  I who receives a position at branch b at the base cost t0 under  should
still do so upon dropping branch b from the set of branches Bi for which she has indicated will-
ingness to serve the increased cost t+ (in case b  Bi ).11 Whenever this axiom fails for a cadet
i  I at a branch b  B, cadet i has an opportunity to strategically indicate a willingness to serve
the increased cost t+ at branch b and receive a position at this branch at the base cost t0 which is
otherwise beyond reach in the absence of this strategy.
    Our last axiom relaxes the lack of priority reversals formulated in Section 2.5 by removing any
dependence on cadet preference information on branch-cost pairs not solicited by the mechanism.

Definition 8. A quasi-direct mechanism  has no detectable priority reversals if, for any s =
 Pj , Bj    j I
                   (P × 2B )| I | , b  B, and i, j  I,

                                             j (s) = (b, t0 ), and
                                                                             = j b i.
                                  i ( s ) = ( b, t + )   or   b Pi b i (s)

    This condition requires that whenever a cadet j  I is assigned a position at a branch b  B at
the cheaper base cost t0 , while another cadet i  I receives a visibly less desired assignment by

   (i) either receiving a position at the same branch at the increased cost t+ or

  (ii) by receiving a position at a strictly less preferred (and possibly empty) branch based on cadet
       i's submitted preferences Pi on B  {},

cadet j must have higher baseline priority under branch b than cadet i.
   11 This   statement holds vacuously if b  Bi .


                                                               12
      The distinction between our axiom on the lack of priority reversals and its weaker version on
the lack of detectable priority reversals is subtle. When a mechanism has priority reversals, thus
failing the stronger of the two axioms, there is a cadet i  I who strictly prefers the assignment
of another cadet j  I \ {i } despite having higher claims for this position. The key difference
is that verification of this anomaly may require knowing the preferences        i  Q of cadet i over
branch-cost pairs, which is potentially private information that may not be always available (even
to the central planner). Verification is particularly challenging if the mechanism is not a direct
mechanism. In contrast, when a quasi-direct mechanism has detectable priority reversals, thus
failing the weaker of the two axioms, there is a cadet i  I who strictly prefers the assignment of
another cadet j  I \ {i } no matter what cadet i's preferences i  Q over branch-cost pairs are
provided that they are consistent with her submitted preferences Pi  P over branches alone. In
that sense, all detectable priority reversals can be verified under a quasi-direct mechanism, but the
same is not true for all priority reversals.


3.2     USMA-2006 Mechanism

We are ready to introduce the quasi-direct mechanism the Army has adopted at USMA starting
with the Class of 2006 to implement its BRADSO program. Since it is a quasi-direct mechanism,
the strategy space for this mechanism is given as

                                                           |I|
                                         S 2006 = P × 2B         ,

and the following construction is useful to introduce its outcome function:
      Given an OML  and a strategy profile s = ( Pi , Bi )i I  S 2006 , for any branch b  B construct
                                      +
the following adjusted priority order b   on the set of cadets I . For any pair of cadets i, j  I ,
                                      +
  1. b  Bi and b  Bj         =      i b j  i  j,
                                      +
  2. b  Bi and b  Bj         =      i b j  i  j, and
                                      +
  3. b  Bi and b  Bj         =      i b j.
                                  +
Under the adjusted priority order b , any pair of cadets are rank ordered through the OML  if
they have indicated the same willingness to serve for branch b, and through the ultimate BRADSO
policy  +
        b (which gives higher priority to the cadet who has indicated to serve the increases cost)
otherwise.
      Given an OML  and a strategy profile s = ( Pi , Bi )i I  S 2006 , the outcome 2006 (s) of the
USMA-2006 mechanism is obtained with the following sequential procedure:


           Branch assignment: At any step       1 of the procedure, the highest  -priority
           cadet i who is not tentatively on hold for a position at any branch applies to her



                                                  13
           highest-ranked acceptable branch b under her submitted branch preferences Pi
           that has not rejected her from earlier steps.12
           Branch b considers cadet i together with all cadets it has been tentatively holding
                                                               +
           both for its q0
                         b primary positions and also for its qb BRADSO-eligible positions,
           and

             1. it tentatively holds (up to) q0                                               0
                                              b highest  -priority applicants for one of its qb
                 primary positions,
             2. among the remaining applicants it tentatively holds (up to) q+         +
                                                                             b highest b -
                 priority applicants for one of its q+
                                                     b BRADSO-eligible positions, and
             3. it rejects any remaining applicant.

           The procedure terminates when no applicant is rejected. Any cadet who is not
           tentatively on hold at any brach remains unmatched, and all tentative branch
           assignments are finalized.
           Cost assignment: For any branch b  B,

             1. any cadet i  I who is assigned one of the q0
                                                           b primary positions at branch b
                 is charged the base cost t0 , and
             2. any cadet i  I who is assigned one of the q+
                                                           b BRADSO-eligible positions is
                 charged
                 (a) the increased cost t+ if b  Bi , and
                 (b) the base cost t0 if b  Bi .


3.3     Shortcomings of the USMA-2006 Mechanism

While a natural extension of its predecessor OML , Sonmez
                                                    ¨     and Switzer (2013) show that the
USMA-2006 mechanism has a number of shortcomings. These are largely due to the inability
of its strategy space to capture cadet preferences over branch-cost pairs. In particular, they have
shown that the USMA-2006 mechanism fails BRADSO-IC and has priority reversals even at its
                                         ¨
Nash equilibrium outcomes. As a remedy, Sonmez and Switzer (2013) proposed the cumulative
offer mechanism (presented in Section 6) implemented with the ultimate BRADSO policy reflecting
the Army's BRADSO policy at the time.
      As a direct mechanism, the cumulative offer mechanism requires cadets to submit their pref-
erences over branch-cost pairs (rather than their preferences over branches alone together with a
set of branches for which cadets indicate their willingness to serve the increased cost t+ to receive
preferential treatment for their BRADSO-eligible positions). This change in the strategy space was
initially seen at the Army as unnecessary due to three main reasons:
   12 The USMA-2006 mechanism can also be implemented with a variant of the algorithm where each cadet who is not

tentatively holding a position simultaneously apply to her next choice branch among branches that has not rejected her
application.


                                                         14
    1. While in theory the USMA-2006 mechanism has BRADSO-IC failures and detectable prior-
      ity reversals, these issues have been relatively rare in practice. For example, each year on
      average 22 cadets have been affected by BRADSO-IC failures and 20 cadets have been af-
      fected by detectable priority reversals under the USMA-2006 mechanism across the Classes
      of 2014-2019 (These facts are described in further detail below in Figure 1).

    2. Any potential BRADSO-IC failure or detectable priority reversal can be manually corrected
      ex-post, since each only involves a cadet needlessly paying the increased cost at her assigned
      branch. An ex-post manual reduction of the cost to the base cost t0 completely resolves the
      issue.

    3. Even though the USMA-2006 mechanism allows for additional priority reversals which may
      alter a cadet's branch assignment and consequently cannot be manually corrected ex-post,
      the verification of any such theoretical failure relies on cadet preferences over branch-cost
      pairs. Since USMA-2006 is a quasi-direct mechanism, information on cadet preferences over
      branch-cost pairs is not available.

    In summary, any possible failure of the properties above under the USMA-2006 mechanism
can either be manually corrected ex-post or cannot be verified based on the existing data. In large
part for these reasons, the USMA-2006 mechanism was maintained by the Army for fourteen years
until the Class of 2020. At this point, the introduction of a new program aimed at improved talent
assignment triggered an adjustment in the mechanism, which we describe next.


4    Talent-Based Branching Program for Improved Talent Alignment
The Army began piloting the Talent-Based Branching (TBB) program with the USMA Class of
2013 with the aim of matching cadets to branches which better fit their talents (Colarusso, Heckel,
Lyle, and Skimmyhorn, 2016). A substantial component of TBB is an opportunity for branches
to interview and rate cadets into three tiers. Prior to the Class of 2020, these rating categories
did not influence baseline branch priorities at USMA. Ratings could only indirectly influence a
cadet's branch assignments either by causing some cadets to adjust their preferences for branches
or by convincing the Army to make an ex-post adjustment to a cadet's branch assignment after
executing the branching assignment mechanism.
    In July 2019, the Army decided to incorporate branch rating categories into baseline branch
priorities beginning with the USMA Class of 2020. Just as the introduction of the BRADSO pro-
gram triggered a reform in the branching mechanism, the full integration of the TBB program
with the branching process resulted in another adjustment. The Army replaced the USMA-2006
mechanism with another quasi-direct mechanism based on the individual-proposing deferred ac-
ceptance algorithm, where branches have heterogeneous baseline priorities over cadets according
to the tiered BRADSO policy described in Section 2.3.



                                                 15
      A key distinction between the USMA-2006 mechanism and the USMA-2020 mechanism was
that, even though the Army continued to cap the number of BRADSO-eligible positions at 25 per-
cent of the total number of positions within each branch, the Army used the adjusted priority
ranking of cadets mainly intended for the BRADSO-eligible positions also for the regular posi-
tions. Through this practice the matching aspect of the branching process was transformed into a
standard priority-based assignment problem, which in turn made it possible for the Army to use
the individual-proposing deferred acceptance algorithm to determine the branch assignments.
The cost assignments were then subsequently determined based on submitted cadet willingness
to serve the increased cost t+ . Importantly, the Army charged the increased cost to willing cadets
in reverse-priority order, stopping when 25 percent of cadets assigned to the branch had been
charged the increased cost. For example, if 100 cadets were assigned to a branch and 50 of the
cadets volunteered for the increased cost t+ , the Army would charge the increased cost to the 25
lowest priority cadets of the 50 willing to serve t+ .13


4.1     USMA-2020 Mechanism

We next formally introduce and analyze the USMA-2020 mechanism. As in the case of USMA-2006
mechanism, the USMA-2020 mechanism is also a quasi-direct mechanism. Hence, the strategy
space Si2020 for each cadet i  I under the USMA-2020 mechanism is

                                                     Si2020 = P × 2B .

      For the rest of this section, fix a a profile of baseline branch priorities (b )b B  | B| and a
                           +
profile of BRADSO policies b             b B +
                                       b B            b .
   Given a strategy profile s = ( Pi , Bi )i I , for any branch b  B construct the following adjusted
               +
priority order b   on the set of cadets I . For any i, j  I ,
                                          +
   1. b  Bi and b  Bj          =        i b j  i b j,
                                          +
   2. b  Bi and b  Bj          =        i b j  i b j, and
                                          +             +
   3. b  Bi and b  Bj          =        i b j  (i, t+ ) b ( j, t0 ).
                         +
Under the priority order b , any two cadets are rank ordered using the baseline priority order b
if they have indicated the same willingness to serve for branch b, and using the BRADSO policy
+
b otherwise.14
      For any strategy profile s = ( Pi , Bi )i I , let µ be the outcome of the individual-proposing de-
ferred acceptance algorithm (Gale and Shapley, 1962) for submitted cadet preferences ( Pi )i I and
                              +
constructed branch priorities b          b B
                                               .15
   13 USMA    leadership described this mechanism to cadets during two separate briefings.
   14 When                                                                                                      +
             (i) the baseline priority order b is fixed as OML at each branch b  B and (ii) the BRADSO policy b   is
                                          +
fixed as the ultimate BRADSO policy  b at each branch b  B, this construction gives the same adjusted priority order
constructed for the USMA-2006 mechanism.
   15 See Appendix B.1 for the individual-proposing deferred acceptance algorithm.



                                                            16
      For any strategy profile s = ( Pi , Bi )i I , the outcome 2020 (s) of the USMA-2020 mechanism is
given as follows. For any cadet i  I ,
               
                                  if µ(i ) = ,
2020
i    (s)   =        µ ( i ), t0   if µ(i )  Bi or    j  I : µ( j) = µ(i ), µ( j)  Bj , and i µ(i) j     q+
                                                                                                         µ (i )
                                                                                                                ,
               
                µ ( i ), t +      if µ(i )  Bi and    j  I : µ( j) = µ(i ), µ( j)  Bj , and i µ(i) j     < q+      .
               
                                                                                                            µ (i )


In the USMA-2020 mechanism, each cadet i  I is asked to submit a preference relation Pi  P
along with a (possibly empty) set of branches Bi  2B for which she indicates her willing to serve
                                                                          +
the increased cost t+ to receive preferential admission. A priority order b of cadets is constructed
                                                                                     +
for each branch b by adjusting the baseline priority order b using the BRADSO policy b when-
ever a pair of cadets submitted different willingness to serve the increased cost t+ at branch b.
Cadets' branch assignments are determined by the individual-proposing deferred acceptance al-
gorithm using the submitted profile of cadet preferences ( Pi )i I and the profile of adjusted priority
          +
rankings (b )b B . A cadet pays the base cost for her branch assignment if either she has not de-
clared willingness to pay the increased cost for her assigned branch or the increased cost capacity
for the branch is already filled with cadets who have lower baseline priorities. With the exception
of those who remain unmatched, all other cadets pay the increased cost for their branch assign-
ments.


4.2     Shortcomings of the USMA-2020 Mechanism

Example 2 in Section 5.2 shows that the USMA-2020 mechanism fails both BRADSO-IC and elim-
ination of strategic BRADSO, and Example 3 in Section 5.2 shows that it can admit detectable
priority reversals even under its Bayesian Nash equilibrium outcomes. Before formally present-
ing these examples in the next section, we first describe how these failures already surfaced at the
USMA in Fall 2019, paving the way for our collaboration with the Army.
      Before a formal analysis of the USMA-2020 mechanism was carried out by our team, USMA
leadership already recognized the possibility of detectable priority reversals under the USMA-
2020 mechanism due to either failure of BRADSO-IC or presence of strategic BRADSO. For exam-
ple, in a typical year, the number of cadets willing to BRADSO for traditionally oversubscribed
branches like Military Intelligence greatly exceeded 25 percent of the branch's allocations. There-
fore, by volunteering for BRADSO for an oversubscribed branch, some cadets could receive a
priority upgrade even though they may not be charged for it, making detectable priority rever-
sals a theoretical possibility. Moreover, unlike the detectable priority reversals under the USMA-
2006 mechanism, some of these detectable priority reversals can affect cadet branch assignments,
thereby making manual ex-post adjustments infeasible.
      Failures of BRADSO-IC, elimination of strategic BRADSO, or presence of detectable priority
reversals, especially when not manually corrected ex-post, could erode cadets' trust in the Army's
branching process. Consider, for example, a comment from a cadet survey administered to the


                                                          17
USMA Class of 2020:       16


          "I believe this system fundamentally does not trust cadets to make the best choice for
          themselves. It makes it so that we cannot choose what we want and have to play games
          to avoid force branching."

A mechanism that erodes trust is unlikely to persist in the US Army, where trust is an essential
characteristic of the profession and the foundation of the organization's talent management strat-
egy.17 Perhaps unsurprisingly, when considering potential reforms to the USMA-2020 mechanism,
the manager of the Talent-Based Branching program stated the the Army prefers a mechanism that
incentivizes honest preference submissions.18
    To address these types of concerns, USMA leadership decided to execute a simulation using
cadet preliminary preferences to inform cadets of the potential cutoffs for each branch.19
    As emphasized in the following quote from a U.S. Army news article on the new mechanism,
the goal of this simulation was to improve transparency and help cadets to optimize their submit-
ted strategies (O'Connor, 2019):

          "We're going to tell all the cadets, we're going to show all of them, here's when the branch
          would have went out, here's the bucket you're in, here's the branch you would have
          received if this were for real. You have six days to go ahead and redo your preferences
          and look at if you want to BRADSO or not." Sunsdahl said. "I think it's good to be
          transparent. I just don't know what 21-year-olds will do with that information."

    The same quote, however, also indicates that USMA leadership recognized the challenges in
cadets optimizing their strategies under the USMA-2020 mechanism. These concerns were well-
justified. For example, considering the relative popularity of a branch like Military Intelligence,
it could be advantageous for some cadets to volunteer to BRADSO for it even if they would nor-
mally not be willing to serve at the increased cost. Relatedly, other cadets who were willing to
BRADSO would also have to determine whether volunteering to BRADSO was a good strategy if
the simulation suggested they were likely to secure the branch even without the increased cost.
This latter point was particularly salient among cadets interested in the Engineer branch. For
example, most cadets who were willing to BRADSO for the Engineer branch were placed in the
   16 The survey was administered to the Class of 2020 immediately before they submitted their preferences for branches

under the USMA-2020 mechanism. The response rate to this survey was 98%. Appendix B.2 contains specific questions
and results.
   17 For example, in The Army Profession, the US Army's Training and Doctrine Command identifies trust as an essential

characteristic that defines the Army as a profession (US Army, 2019b). The Army's People Strategy describes one of
the Army's strategic outcomes as building a professional Army that retains the trust and confidence of the American
people and its members (US Army, 2019a, Training and Doctrine Command).
   18 Lieutenant Colonel Riley Post, the Talent-Based Branching Program Manager, said "cadets should be honest when

submitting preferences for branches, instead of gaming the system" in a statement in West Point's official newspaper
(Garcia, 2020).
   19 Cadets in the Class of 2020 submitted preliminary preferences one month before submitting final preferences.

USMA ran the USMA-2020 mechanism on these preliminary preferences to derive results for the simulation, which
USMA provided to cadets 6 days prior to the deadline for submitting final preferences.


                                                          18
high priority tier, but results from the simulation indicated the branch was very likely to extend
contracts to medium priority cadets by the Engineer branch. As a result, cadets who volunteered
to BRADSO for Engineer who were also placed in the high priority tier by the branch, faced a
high probability of being charged BRADSOs under the USMA-2020 mechanism even though it
was unlikely these cadets needed to BRADSO to branch Engineer.
      Several open-ended survey comments from USMA cadets in the Class of 2020 mirrored USMA
leadership's concern that continued use of the USMA-2020 mechanism would erode trust in the
branching process. We present three additional comments articulating concerns related to the lack
of BRADSO-IC, the presence of strategic BRADSO, and the difficulty of navigating a system with
both shortcomings:

   1) "Volunteering for BRADSO should only move you ahead of others if you are actually charged for
        BRADSO. By doing this, each branch will receive the most qualified people. Otherwise people who
        are lower in class rank will receive a branch over people that have a higher class rank which does
        not benefit the branch. Although those who BRADSO may be willing to serve longer, if they aren't
        charged then they can still leave after their 5 year commitment so it makes more sense to take the
        cadets with a higher OML."

   2) "I think it is still a little hard to comprehend how the branching process works. For example, I do
        not know if I put a BRADSO for my preferred branch that happens to be very competitive, am I at a
        significantly lower chance of getting my second preferred if it happens to be something like engineers?
        Do I have to BRADSO now if I want engineers??? Am I screwing myself over by going for this
        competitive branch now that every one is going to try to beat the system????"

   3) "Releasing the simulation just created chaos and panicked cadets into adding a BRADSO who other-
        wise wouldn't have."


4.3    USMA-2006 and USMA-2020 Mechanism in the Field

In this section, we use administrative data on cadet rankings, branch priorities, and capacities to
investigate the performance of the USMA-2006 and USMA-2020 mechanisms. The data cover the
West Point Classes of 2014 through 2021. Table 1 lists the capacity for each branch, the number
of cadets who list the branch as their top choice, and the number of cadets who expressed a will-
ingness to BRADSO for each branch for the Classes of 2020 and 2021. For the Class of 2020, 1,089
cadets participated in the branching process for 17 different branches. For the Class of 2021, 994
cadets participated in the branching process for 18 different branches.20
      Figure 1 tabulates the incidence of BRADSO-IC failures, strategic BRADSO, and detectable
priority reversals among USMA cadets across the USMA-2006 and USMA-2020 mechanism. For
the USMA-2006 mechanism, we report the average across the Class of 2014 through Class of 2019.
  20 Wesuccessfully replicated the branch assignment for 99.2% of cadets in the Classes of 2014 through 2021. See
Appendix B for details on our replication rates for each class.



                                                       19
Nearly four times as many cadets are part of BRADSO-ICs from the Class of 2020 (where the
USMA-2020 mechanism was used) than earlier Classes from 2014 to 2019 (where USMA-2006
mechanism was used). Figure 1 shows about 22 cadets were part of BRADSO-IC failures under
the USMA-2006 mechanism, while 85 cadets were part of BRADSO-IC failures under the USMA-
2020 mechanism. Parallel to the incidences on BRADSO-IC failures, Figure 1 shows that nearly
four times as many cadets are part of detectable priority reversals under the USMA-2020 mecha-
nism than under the USMA-2006 mechanism (75 versus 20). It is not possible to have a strategic
BRADSOs under the USMA-2006 mechanism. Figure 1 shows that 18 cadets in the Class of 2020
were part of strategic BRADSOs under the USMA-2020 mechanism. Importantly, these instances
are not possible to remedy ex-post since that would require a change in branch assignments (rather
than merely foregoing a BRADSO charge).


5    Single Branch Analysis
As with the USMA-2006 mechanism, truthful revelation of branch preferences is not a dominant
strategy under the USMA-2020 mechanism, thereby making its analysis challenging. Fortunately,
focusing on a simpler version of the model with a single branch is sufficient to illustrate and
analyze the main challenges of the USMA-2020 mechanism. Focusing on this simpler model also
offers a clear path to overcome these shortcomings, a path which is extended in Section 6 to the
model in its full generality with multiple branches.
    When there is a single branch b  B, there are only two preferences for any cadet i  I . The
base cost contract (i, b, t0 ) is by assumption preferred by cadet i to both its increased cost version
(i, b, t+ ) and also to remaining unmatched. Therefore, the only variation in cadet i's preferences
depends on whether the increased cost contact (i, b, t+ ) is preferred to remaining unmatched. For
any cadet i  I , |Q| = 2 When there is a single branch b  B, since

    · indicating willingness to serve the increased cost t+ under a quasi-direct mechanism can
      be naturally mapped to the preference relation where the increased cost contact (i, b, t+ ) is
      acceptable, whereas

    · not doing so can be naturally mapped to the preference relation where the increased cost
      contact (i, b, t+ ) is unacceptable,

any quasi-direct mechanism can be interpreted as a direct mechanism. Therefore, unlike the gen-
eral version of the model, the axioms of BRADSO-IC and elimination of strategic BRADSO are
well-defined for direct mechanisms when there is a single branch, and moreover they are both
implied by strategy-proofness.21
   21 BRADSO-IC and elimination of strategic BRADSO together are equivalent to strategy-proofness when there is a

single branch. Strategy-proofness of a single branch, called non-manipulability via contractual terms also plays an
important role in the analysis of Hatfield, Kominers, and Westkamp (forthcoming).




                                                        20
5.1   Single-Branch Mechanism  BR and Its Characterization

We next introduce a single-branch direct mechanism that is key for our analysis of the USMA-
2020 mechanism. The main feature of this mechanism is its iterative subroutine (in Step 2), which
determines how many BRADSO-eligible positions are assigned at the increased cost and which
cadets receive these positions.

         Mechanism  BR
         For any given profile of cadet preferences               =(       i )i  I        Q| I | , construct the allo-
         cation  BR ( ) as follows:

         Step 0. Let I 0  I be the set of q0
                                           b highest b -priority cadets in I . For each cadet
         i  I 0 , finalize the assignment of cadet i as iBR ( ) = (b, t0 ).

         Step 1. Let I 1  I \ I 0 be the set of q+                                    0
                                                 b highest b -priority cadets in I \ I . Ten-
         tatively assign each cadet in I 1 a position to at the base cost t0 . Relabel the set of
         cadets in I 1 so that cadet i1  I 1 has the lowest b -priority in I 1 , cadet i2  I 1
                                                                                           +
         has the second-lowest b -priority in I 1 , . . ., and cadet iqb  I 1 has the highest
                                                                                                       +
         b -priority in I 1 . Also relabel the lowest b -priority cadet in I 0 as iqb +1 .

         Step 2. This step determines how many positions are assigned at the increased
         cost t+ .

         Step 2.0. Let J 0  I \ ( I 0  I 1 ) be the set of cadets in I \ ( I 0  I 1 ) who declared
         the position at the increased cost t+ as acceptable:

                                J 0 = { j  I \ ( I 0  I 1 ) : ( b, t + )             j     }.

         If
                                      j  J 0 : ( j, t + )  b
                                                           + 1 0
                                                             (i , t )            = 0,

         then finalize Step 2 and proceed to Step 3. In this case no position will be as-
         signed at the increased cost t+ .
         Otherwise, if
                                      j  J 0 : ( j, t + )  b
                                                           + 1 0
                                                             (i , t )             1,

         then proceed to Step 2.1.

         Step 2. . ( = 1, . . . , q+
                                   b ) Let


                                               J   -1        if          i      ( b, t + )
                                J =
                                                                                   i .
                                          J   -1    {i }     if         +
                                                                  ( b, t )

         If
                                    j  J : ( j, t + )  b
                                                       +
                                                         (i       +1
                                                                       , t0 )        = ,

                                                        21
                   then finalize Step 2 and proceed to Step 3.22 In this case                positions will be
                   assigned at the increased cost      t+ .
                   Otherwise, if
                                             j  J : ( j, t + )  b
                                                                +
                                                                  (i   +1
                                                                            , t0 )    + 1,

                   then proceed to Step 2.( + 1), unless           = q+
                                                                      b , in which case finalize Step 2 and
                   proceed to Step 3.

                   Step 3. Let Step 2.n be the final sub-step of Step 2 leading to Step 3. {i1 , . . . , in } 
                   I 1 is the set of cadets in I 1 who each lose their tentative assignment (b, t0 ). For
                   each cadet i  I 1 \ {i1 , . . . , in }, finalize the assignment of cadet i as iBR ( ) =
                   ( b, t0 ).
                   For each cadet i  J n with one of the n highest b -priorities in J n , finalize the
                   assignment of cadet i as iBR ( ) = (b, t+ ). Finalize the assignment of any re-
                   maining cadet as .


      The key step in the procedure is Step 2 where it is determined how many of the q+
                                                                                      b positions
                                                                                         +
are to be awarded at the increased cost t+ . To determine this number, the BRADSO policy b is
used to check

  (1) whether there is at least one cadet with a lower baseline priority b than cadet i1 , who is
           willing to serve the increased cost t+ and whose increased cost contract has higher priority
                                   +
           under the BRADSO policy b than the base cost contract of cadet i1 ;

  (2) whether there are at least two cadets each with a lower baseline priority b than cadet i2 ,
           who are each willing to serve the increased cost t+ and whose increased cost contracts have
                                                   +
           higher priority under the BRADSO policy b than the base cost contract of cadet i2 ;
           .
           .
           .


                                                                                                                          +
(q +                               +                                                          qb
   b ) whether there are at least qb cadets each with a lower baseline priority b than cadet i ,
           who are each willing to serve the increased cost t+ and whose increased cost contracts have
                                                   +                                                              +
           higher priority under the BRADSO policy b than the base cost contract of cadet iqb .

Once the number of positions awarded through increased cost t+ contracts is determined in this
way, all other positions are assigned to the highest baseline priority cadets as base cost contracts.
The increased cost contracts are awarded to the remaining highest baseline priority cadets who
are willing to serve the increased cost t+ .
  22 Since         J  J -1 by construction, the fact that the procedure has reached Step 2. implies that the inequality   j
                    +
J :   ( j, t + )   b  (i +1 , t0 )  must hold.




                                                                 22
                                                                                     +
Example 1. (Mechanics of Mechanism  BR ) There is a single branch b with q0
                                                                          b = 3 and qb = 3.
There are eight cadets, with their set given as I = {i1 , i2 , i3 , i4 , i5 , i6 , j1 , j2 }. The baseline priority
order b is given as
                                           i 6  b i 5  b i 4  b i 3  b i 2  b i 1  b j1  b j2 ,

and the BRADSO policy is the ultimate BRADSO policy  +
                                                     b . Cadet preferences are given as


                      ( b, t0 )        i   ( b, t + )       i                     for any i  {i1 , i3 , i5 , j1 }, and
                      ( b, t0 )        i          i     ( b, t + )                for any i  {i2 , i4 , i6 , j2 }.

We next run the procedure for the mechanism  BR .
Step 0: There are three regular positions. The three highest b -priority cadets in the set I are i6 ,
i5 , and i4 . Let I 0 = {i4 , i5 , i6 }, and finalize the assignments of cadets in I 0 as iBR
                                                                                           6 ( ) = iBR
                                                                                                    5 ( )=
iBR
 4 ( ) = ( b, t0 ).
Step 1: There are three BRADSO-eligible positions. Three highest b -priority cadets in the set
I \ I 0 are i3 , i2 , and i1 . Let I 1 = {i1 , i2 , i3 }, and the tentative assignment of each cadet in I 1 is (b, t0 ).
There is no need to relabel the cadets since cadet i1 is already the lowest b -priority cadet in I 1 ,
cadet i2 is the second lowest b -priority cadet in I 1 , and cadet i3 is the highest b -priority cadet in
I1.
Step 2.0: The set of cadets in I \ ( I 0  I 1 ) = { j1 , j2 } for whom the assignment (b, t+ ) is acceptable
is J 0 = { j1 }. Since
                                                      j  J 0 : ( j, t + )  +   1 0
                                                                           b (i , t )            1,
                                                                 =| J 0 |=|{ j1 }|=1

we proceed to Step 2.1.
Step 2.1: Since (b, t+ )          i1   , we have J 1 = J 0  {i1 } = {i1 , j1 }. Since

                                                      j  J 1 : ( j, t + )  +   2 0
                                                                           b (i , t )            2,
                                                                =| J 1 |=|{i1 , j1 }|=2


we proceed to Step 2.2.
Step 2.2: Since          i2   (b, t+ ), we have J 2 = J 1 = {i1 , j1 }. Since

                                                      j  J 2 : ( j, t + )  +   3 0
                                                                           b (i , t )           = 2,
                                                                =| J 2 |=|{i1 , j1 }|=2


we finalize Step 2 and proceed to Step 2.3.
Step 3: Step 2.2 is the last sub-step of Step 2. Therefore two lowest b -priority cadets in I 1 , i.e
cadets i1 and i2 , lose their tentative assignments of (b, t0 ). In contrast, the only remaining cadet in
the set I 1 \ {i1 , i2 }, i.e cadet i3 maintains her tentative assignment, which is finalized as iBR
                                                                                                  3 ( )=
( b, t0 ).

                                                                             23
      The two highest priority cadets in J 2 are i1 and j1 . Their assignments are finalized as iBR
                                                                                                 1 (

) = jBR
      1 (   ) = (b, t+ ). Assignments of the remaining cadets i2 and j2 are finalized as . The final
allocation is:

                                    i1      i2     i3        i4        i5        i6        j1      j2
                 BR ( ) =                                                                                .
                                 ( b, t + )  ( b, t0 ) ( b, t0 ) ( b, t0 ) ( b, t0 ) ( b, t + ) 



      Our first result shows that when there is a single branch the direct mechanism  BR is the only
mechanism that satisfies our main desiderata.

Theorem 1. Suppose there is a single branch b. Fix a baseline priority order b   and a BRADSO
       +
policy b  +
          b . A direct mechanism  satisfies

   1. individual rationality,

   2. non-wastefulness,

   3. enforcement of the BRADSO policy,

   4. BRADSO-IC, and

   5. has no priority reversals,

if and only if  =  BR .


5.2     Equilibrium Outcomes under the USMA-2020 Mechanism

While the USMA-2020 mechanism is not a direct mechanism in general, when there is a single
branch it can be interpreted a direct mechanism. In this case, for any cadet i  I the first part of
the strategy space Si = P × 2B becomes redundant, and the second part simply solicits whether
branch b is acceptable by cadet i or not (analogous to a direct mechanism).
      Our next result shows that when there is a single branch the truthful outcome of the direct
mechanism  BR is the same as the unique Nash equilibrium outcome of the mechanism 2020 .

Proposition 1. Suppose there is a single branch b. Fix a baseline priority order b  , a BRADSO policy
+
b  +
   b , and a preference profile           Q| I | . Then the strategic-form game induced by the mechanism
(S 2020 , 2020 ) has a unique Nash equilibrium outcome that is equal to the allocation  BR ( ).23

      Caution is needed when interpreting Proposition 1; if interpreted literally, this result can be
misleading. What is more consequential for Proposition 1 is not the result itself, but rather its
proof which constructs the equilibrium strategies of cadets. The proof provides insight into why
   23 Using the terminology of the implementation theory, this result can be alternatively stated as follows: When there is
a single branch, the mechanism (S 2020 , 2020 ) implements the allocation rule  BR in Nash equilibrium. See Maskin and
  ¨ om
Sjostr ¨ (2002) and Jackson (2001) for surveys of implementation theory.


                                                            24
the failure of BRADSO-IC, the presence of strategic BRADSO, and the presence of detectable pri-
ority reversals are all common phenomena under the real-life implementation of the USMA-2020
mechanism (despite the outcome equivalence suggested by Proposition 1).
    Given the byzantine structure of the Nash equilibrium strategies even with a single branch, it
is perhaps not surprising that reaching such a well-behaved Nash equilibrium is highly unlikely to
be observed under the USMA-2020 mechanism. The following example illustrates the knife-edge
structure of the Nash equilibrium strategies under the USMA-2020 mechanism.

Example 2. (Knife-Edge Nash Equilibrium Strategies)
    To illustrate how challenging it is for the cadets to figure out their best responses under the
USMA-2020 mechanism, we present two scenarios. The scenarios differ from each other mini-
mally, but cadet best responses differ dramatically. Our first scenario is same as the one we pre-
sented in Example 1.
                                                        +
Scenario 1: There is a single branch b with q0
                                             b = 3 and qb = 3. There are eight cadets, I =
{i1 , i2 , i3 , i4 , i5 , i6 , j1 , j2 }. The baseline priority order b is given as

                                  i 6  b i 5  b i 4  b i 3  b i 2  b i 1  b j1  b j2         and

and the BRADSO policy is the ultimate BRADSO policy  +
                                                     b . Cadet preferences are


                      ( b, t0 )    i   ( b, t + )       i             for any i  {i1 , i3 , i5 , j1 }, and
                      ( b, t0 )    i          i     ( b, t + )        for any i  {i2 , i4 , i6 , j2 }.

Let s be a Nash equilibrium strategy for Scenario 1 under the USMA-2020 mechanism. Recall
that when there is a single branch b, the strategy space for each cadet i  I is simply Si = {b, }.
We construct the Nash equilibrium strategies in several phases.
    Phase 1: Consider cadets i1 and j1 , each of whom prefers the increased-cost assignment (b, t+ )
to remaining unmatched. Since there are six positions altogether and there are five higher b -
priority cadets than either of these two cadets, at most one of them can receive a position (at any
cost) unless each of them submit a strategy of b. And if one of them submit a strategy of , the
other one has a best response strategy of b assuring a position at the increased cost rather than
remaining unmatched. Hence, si1 = sj1
                                      = b at any Nash equilibrium.
    Phase 2: Consider cadet j2 who prefers remaining unmatched to the increased-cost assignment
(b, t+ ). Since she is the lowest b -priority cadet, she cannot receive an assignment of (b, t0 ) re-
gardless of her strategy. In contrast, she can guarantee remaining unmatched with a strategy of
s j2 = . While this does not at this point rule out a strategy of s j2 =  at Nash equilibrium (just
yet), it means 2020j2
                       ( s  ) = .
     Phase 3: Consider cadet i2 who prefers remaining unmatched to the increased-cost assignment
(b, t+ ). She is the fifth highest b -priority cadet, so she secures a position if she submits a strategy
of si2 = b, but the position will have to be at the increased price t+ , since the lowest b -priority


                                                                 25
cadet j2 is remaining unmatched from Phase 2, and therefore there cannot be three cadets with
lower b -priority who receive an assignment of (b, t+ ). But since cadet j2 prefers remaining un-
matched to the increased-cost assignment (b, t+ ), she cannot receive an assignment of (b, t+ ) at
Nash equilibria. Hence, her Nash equilibrium strategy is si2 = , and her Nash equilibrium
assignment is 2020
              i2
                   ( s  ) = .
    Phase 4: Consider the remaining cadets i3 , i4 , i5 and i6 . Since cadets i2 and j2 have to remain
unmatched (from Phases 2 and 3) at Nash equilibria, they each receive a position at Nash equi-
librium. Since only the two cadets i1 and j1 from Phases 1-3 have Nash equilibrium strategies of
b, the lowest b -priority cadet of the four cadets i3 , i4 , i5 , i6 who submit a strategy of b receives
an assignment of (b, t+ ). But this cannot happen at Nash equilibria since that particular cadet can
instead submit a strategy of  receiving a more preferred assignment of (b, t0 ). Hence, si =  and
2020
i    (s ) = (b, t0 ) for any i  {i3 , i4 , i5 , i6 }.
    The unique Nash equilibrium strategy s and its Nash equilibrium outcome 2020 (s ) for Sce-
nario 1 are given as:

       Cadet                                                i1        i2       i3          i4          i5          i6          j1        j2
       Nash equilibrium strategy                              b                                                                 b        
       Nash equilibrium assignment                       ( b, t + )         ( b, t0 )   ( b, t0 )   ( b, t0 )   ( b, t0 )   ( b, t + )   

Scenario 1 involves BRADSO-IC failures for cadets i3 and i5 whose Nash equilibrium strategies
force them into hiding their willingness to serve the increased cost t+ . Any deviation from her
Nash equilibrium strategy by truthfully declaring her willingness to serve the increased cost t+
will result in an detectable priority reversal for cadet i5 .
    Scenario 2: This scenario differs from Scenario 1 in only the preferences of the lowest b -
priority cadet j2 and nothing else. Thus, cadet preferences for this scenario are given as:

                    ( b, t0 )   i   ( b, t + )       i                     for any i  {i1 , i3 , i5 , j1 , j2 }, and
                    ( b, t0 )   i          i     ( b, t + )                for any i  {i2 , i4 , i6 }.

Let s be a Nash equilibrium strategy for Scenario 2 under the USMA-2020 mechanism.
    Phase 1: Identical to Phase 1 for Scenario 1, and thus si1 = s j1 = b at any Nash equilibrium.
    Phase 2: Consider cadet i2 who prefers remaining unmatched to the increased-cost assignment
(b, t+ ), and cadets i3 and j2 , each of whom prefers the increased-cost assignment (b, t+ ) to remain-
ing unmatched. Since (i) there are six positions altogether, (ii) three cadets with higher b -priority
than each one of i2 , i3 , and j2 , and (iii) si1 = s j1 = b from Phase 1, at most one of the cadets
i2 , i3 , j2 can receive an assignment of (b, t0 ) if any. Therefore, submitting a strategy of si3 =  is a
best response for cadet i3 only if both cadets i2 and j3 also submit a strategy of  each. But this
cannot happen in Nash equilibria, since it gives cadet j2 a profitable deviation by submitting a
strategy of s j2 = b and jumping ahead of cadets i2 and i3 securing her a position. Hence si3 = b
and 2020   i3
               (s ) = (b, t+ ). When cadet i3 joins the two cadets from Phase 1 each also submitting

                                                                       26
a strategy of b, this assures that exactly three positions will be assigned at the increased cost t+ .
Therefore a strategy of f si2 = b assures assures cadet i2 an assignment of (b, t+ ), which cannot
happen at Nash equilibrium. Therefore, si2 =  and 2020
                                                  i2
                                                       (s ) = . This not only assures that
2020
i3
     (s ) = 2020
            i1
                 (s ) = 2020
                        j1
                             (s ) = (b, t+ ), but it also means that s j2 = b at Nash equilibrium, for
otherwise with two lower b -priority cadets with strategies of , cadet i3 would have an incentive
to deviate himself and receiving the position at the base cost rather than the increased cost.
   Phase 3: Consider the remaining cadets i4 , i5 and i6 . Of all lower b -priority cadets, only the
cadet i2 and has Nash equilibrium strategies of  from Phases 1 and 2. Therefore the lowest b -
priority cadet of the three cadets i4 , i5 , i6 who submit a strategy of  receives an assignment of .
But this cannot happen at Nash equilibria since that particular cadet can instead submit a strategy
of b and receive a more preferred assignment of (b, t0 ) since three lower b -priority cadets already
receive an assignment of (b, t+ ) each from Phase 2. Therefore, regardless of their preferences
si4 = si5 = si6 = b, and 2020
                         i4
                              (s ) = 2020
                                     i5
                                          (s ) = 2020
                                                 i6
                                                      (s )(b, t0 ).
   The unique Nash equilibrium strategy s and its Nash equilibrium outcome 2020 (s ) for Sce-
nario 2 are given as:

      Cadet                                 i1        i2        i3          i4          i5          i6          j1        j2
      Nash equilibrium strategy              b                  b           b           b           b            b        b
      Nash equilibrium assignment        ( b, t + )         ( b, t + )   ( b, t0 )   ( b, t0 )   ( b, t0 )   ( b, t + )   

Not only does the Nash equilibrium strategies of cadets i4 and i6 involve strategic BRADSO in Sce-
nario 2 and they have to declare willingness to serve the increased cost t+ even though under their
true preferences they do not, but any deviation from this Nash equilibrium strategy by declaring
their unwillingness to serve the increased cost t+ will result in detectable priority reversals for
both cadets.
   Another key insight from this example is the dramatic difference between the Nash equilib-
rium strategies due to one minor change in the underlying economy, a preference change in the
lowest base priority cadet. This minor change only affects the assignment of cadet i3 by changing
it from (b, t0 ) to (b, t+ ). It also changes the Nash equilibrium strategy of not only cadet i3 , and
also all other higher b -priority cadets i4 , i5 , and i6 . Moreover, in addition to BRADSO-IC failures
and the presence of strategic BRADSO under Nash equilibria, any deviation from these strate-
gies result in detectable priority reversals. The fragility of our equilibrium strategies provides us
intuition on the prevalence of these phenomena under the USMA-2020 mechanism.

   Example 2 shows that while the failure of BRADSO-IC and the presence of strategic BRADSO
can be observed at Nash equilibria of the USMA-2020 mechanism, the presence of detectable pri-
ority reversals is out-of-equilibrium behavior under complete information when there is a single
branch. Our next example shows that if the complete information assumption is relaxed there can
also be detectable priority reversals in the Bayesian equilibria of the USMA-2020 mechanism.

Example 3. (Detectable Priority Reversals at Bayesian Equilibria)

                                                           27
                                                  +
    Suppose there is a single branch b with q0
                                             b = qb = 1 and three cadets i1 , i2 , and i3 . The baseline
priority order b is such that
                                                i1  b i2  b i3 ,
                      +
and the BRADSO policy b is the ultimate BRADSO policy  +
                                                       b .
    Each cadet has a utility function that is drawn from a distribution with the following two
elements, u and v, where:

         u(b, t0 ) = 10, u() = 8, u(b, t+ ) = 0,      and     v(b, t0 ) = 10, v(b, t+ ) = 8, v() = 0.

Let us refer to cadets with a utility function u(.) as type 1 and cadets with a utility function v(.)
as type 2. All cadets have a utility of 10 for their first choice assignment of (b, t0 ), a utility of 8
for their second choice assignment, and a utility of 0 for their last choice assignment. For type 1
cadets, the second choice is remaining unmatched whereas for type 2 cadets the second choice is
receiving a position at the increased cost t+ . Suppose each cadet can be of the either type with a
probability of 50 percent, and they are all expected utility maximizers.
    The unique Bayesian Nash equilibrium s under the incomplete information game induced by
the USMA-2020 mechanism is, for any cadet i  {i1 , i2 , i3 },

                                               if cadet i is of type 1, and
                                 si =
                                          b    if cadet i is of type 2.

That is, truth-telling is the unique Bayesian Nash equilibrium strategy for each cadet. However,
this unique Bayesian Nash equilibrium strategy results in detectable priority reversals whenever
either

    1. cadet i1 is of type 1 and cadets i2 , i3 are of type 2, or

    2. cadet i1 is of type 2 and cadets i2 , i3 and are of type 1.

While cadet i2 receives a position at the base cost t0 in both cases, the highest baseline priority
cadet i1 remains unassigned in the first case and receives a position at the increased cost t+ in the
second case.


6    Multi-Branch Analysis and the 2020 Reform
To resolve the problems with the USMA-2020 mechanism, most notably its failure of BRADSO-
IC, the possibility of strategic BRADSO, and the resulting detectable priority reversals, the Army
established a partnership with a team of market designers to design the USMA-2021 mechanism.
Critical to achieving these objectives was the Army's decision to permit cadets in the Class of
2021 to submit preferences over branch-cost pairs. This decision was aided by evidence from a
cadet survey that mitigated concerns that rating branch-cost pairs would be overly complex or


                                                      28
unnecessary. Indeed, some of the cadets indicated the need for a system that would allow them to
rank order branch-cost pairs. One cadet wrote:

            " [. . .] I believe that DMI (Department of Military Instruction) could elicit a new type
            of ranking list. Within my proposed system, people could add to the list of 17 branches
            BRADSO slots and rank them within that list. For example: AV (Aviation) > IN
            (Infantry) > AV:B (Aviation with BRADSO). While this may be a transmutation of the
            "alternate system," I believe many cadets could utilize this system as it is the case that
            people view branch without ADSO and BRADSO slots are considered almost different
            things."

More generally, the survey revealed that more than twice as many cadets prefer a mechanism that
allows them to submit preferences over branch-cost pairs relative to a mechanism that requires
them to submit preferences over branches and BRADSOs separately as in the USMA-2006 and
USMA-2020 mechanism.24


6.1       COM-BRADSO Mechanism and its Characterization

Unlike its predecessors USMA-2006 and USMA-2020 mechanisms, using the contract terminology
is more convenient to describe the COM-BRADSO mechanism, adopted for the USMA and the
ROTC Class of 2021. We need the following additional terminology.
      A set of contracts X  Xb is viable for branch b  B, if for any i  I ,

                                       (i, b, t+ )  X = (i, b, t0 )  X .

That is, the increased cost contract of a cadet can be available in a viable set of contracts only
together with its base cost version.
                                              0 be the resulting native priority order on I × T that is
      Given a baseline priority order b , let b
uniquely defined by the following two conditions:

   1. for any i, j  I and t, s  T ,

                                               0
                                       (i, t ) b ( j, s )                   i  b j,   and


   2. for any i  I ,
                                                      ( i , t0 )  b
                                                                  0
                                                                    ( i , t + ).
   24 Aquestion on the survey asked cadets whether they prefer a mechanism that allows them to submit preferences
over branch-cost pairs, like the COM-BRADSO mechanism, or a mechanism that requires them to submit preferences
over branches alone while separately indicating willingness to BRADSO for each branch, like the USMA-2006 and
USMA-2020 mechanism. Appendix B.2 shows that 50 percent of respondents preferred the mechanism that permitted
ranking branch-cost pairs, 21 percent preferred the mechanism without the option to rank branch-cost pairs, 24 percent
were indifferent, and 5 percent did not understand.




                                                            29
                        0 simply mirrors the baseline priority order  , and prioritizes cadet-cost
The native linear order b                                            b
pairs in I × T as the cadet of the pair is prioritized under the baseline priority order b , while
giving higher priority to the base cost t0 over the increased cost t+ for any given cadet.

   Under the COM-BRADSO mechanism, each branch b  B relies on the following choice rule
to select a set of contracts from any set of contracts viable for branch b.

                          BR
             Choice Rule Cb
             For any set of contracts X  Xb that is viable for branch b,
             Step 1. If there are less than q0
                                             b contracts in X with distinct cadets, then choose
             all contracts in X with the base cost t0 and terminate the procedure. In this case
              BR ( X ) = x  X : t( x ) = t0 .
             Cb
             Otherwise, let X1 be the set of q0          0
                                              b highest wb -priority contracts in X with distinct
             cadets.25 Pick contracts in X1 and proceed to Step 2.

             Step 2. The set of contracts under consideration for this step is

                                        Y=      x  X \ X1 : i ( x ) , b , t 0  X1 .


             If there are less than q+
                                     b contracts in Y with distinct cadets, then pick all contracts
                                                                                   BR ( X ) =
             in Y with the base cost t0 and terminate the procedure. In this case Cb
             X1  x  Y : t ( x ) = t 0 .
             Otherwise, let X2 be the set of q+          +
                                              b highest wb -priority contracts in Y with distinct
                                                                                     BR ( X ) =
             cadets. Pick contracts in X2 and terminate the procedure. In this case Cb
             X1  X2 .

                              BR relies on the native priority order  0 for the first q0 positions, and
Intuitively, the choice rule Cb                                       b                b
                     +
on the BRADSO policy b for the last q+
                                     b positions.
                                                                                        BR . Therefore,
   Observe that all increased cost contracts are selected in Step 2 of the choice rule Cb
                                                                    0 for fewer positions and
an increase in the BRADSO cap means using the native priority order b
                  +
the BRADSO policy b for more positions, thereby weakly increasing the number of increased-
                                            BR . Moreover, since the increased-cost contracts receive
cost contracts selected by the choice rule Cb
weakly higher priorities when the BRADSO policy becomes more effective at branch b, such a
change in the BRADSO policy also weakly increases the number of increased-cost contracts se-
                           BR . We state these two observations in the following result.
lected by the choice rule Cb

Proposition 2. For any branch b  B and set of contracts X  Xb viable for branch b,

   1. the higher the BRADSO cap q+
                                 b is the weakly higher is the number of increased cost contracts accepted
             BR ( X ), and
      under Cb
  25 Since                   0 is the native priority order, all contracts in X has the base cost t0 .
             X is viable and b                                                 1



                                                              30
                                           +
   2. the more effective the BRADSO policy b is the weakly higher is the number of increased cost con-
                              BR ( X ).
       tracts accepted under Cb

    We are ready to introduce the mechanism central to the Army's 2021 Branching reform. For
                                 +
a given list of BRADSO policies (b )b  B, let C BR = (Cb
                                                       BR )
                                                            b B denote the list of branch-specific
choice rules defined above. COM-BRADSO mechanism is a direct mechanism where each cadet
reports her preferences over B × T  {}. Therefore, the strategy space for each cadet i  I is

                                                  SiCOM- BR = Q.

The outcome function COM- BR for the COM-BRADSO mechanism is given through the following
procedure.

           Cumulative Offer Mechanism under C BR

           Fix a linear order of cadets   .26 For a given profile of cadet preferences
             = ( i )i I  Q| I | , cadets propose their acceptable contracts to branches in a
           sequence of steps = 1, 2, . . .:

           Step 1. Let i1  I be the highest  -ranked cadet who has an acceptable contract.
           Cadet i1  I proposes her most preferred contract x1  Xi1 to branch b( x1 ).
                                           BR
           Branch b( x1 ) holds x1 if x1  Cb    { x1 } and rejects x1 otherwise. Set A2       =
                                             (x     1)                                b( x1 )
           { x1 } and set Ab =  for each b  B \ {b( x1 )}; these are the sets of contracts
                           2

           available to branches at the beginning of step 2.

           Step . Let i  I be the highest  -ranked cadet for whom no contract is cur-
           rently held by any branch, and let x  Xi be her most preferred acceptable
           contract that has not yet been rejected. Cadet i proposes contract x to branch
                                                         BR
           b( x ). Branch b( x ) holds the contracts in Cb                Ab(x )  { x } and rejects all
                                                           (x         )
           other contracts in Ab(x )  { x }. Set         Ab+
                                                        = Ab(x )  { x } and set Ab+1 = Ab
                                                             1
                                                           (x )
           for each b  B \ {b( x )}; these are the sets of contracts available to branches at
           the beginning of step + 1.

           The procedure terminates at a step when either no cadet remains with an accept-
           able contract that has not been rejected, or when no contract is rejected. All the
           contracts on hold in the final step are finalized as the outcome COM- BR ( ) of
           the COSM-2021 mechanism.

                                                                            ¨
COM-BRADSO mechanism is a generalization of the COSM mechanism proposed by Sonmez and
Switzer (2013) for the case of the ultimate BRADSO policy  +
                                                           b , and a special case of the cumulative
                                                                                      ¨
offer mechanism for the matching with slot-specific priorities model by Kominers and Sonmez
(2016).
   26 By                ¨
         Kominers and Sonmez   (2016), the outcome is independent of this linear order. Nevertheless, one natural linear
order is OML, which is also used in the construction of branch priorities.


                                                          31
      Our final and main theoretical result shows COM-BRADSO is the only mechanism that satis-
fies all our desiderata.

Theorem 2. Fix a profile of baseline priority orders (b )b B   and a profile of BRADSO policies
 +
 b     b B
              b B +
                  b . A direct mechanism  satisfies

   1. individual rationality,

   2. non-wastefulness,

   3. enforcement of the BRADSO policy,

   4. strategy-proofness, and

   5. has no priority reversals,

if and only if  is the COM-BRADSO mechanism COM- BR .

      Apart from singling out the COM-BRADSO mechanism as the unique mechanism that satis-
fies our desiderata, to the best of our knowledge Theorem 2 is the first joint characterization of
an allocation mechanism (i.e. the cumulative offer process) together with a specific choice rule
CbBR for each branch b  B.27 In our application, in addition to the standard axioms of individual

rationality, non-wastefulness, lack of priority reversals, and strategy-proofness, the axiom of en-
forcement of the BRADSO policy (which directly formulates the Army policy) uniquely identifies
the cumulative offer process under a specific choice rule Cb BR .

    We finalize our theoretical analysis with a straightforward observation. Since (i) a quasi-direct
mechanism becomes a direct mechanism with only a single branch, and (ii) strategy-proofness
implies BRADSO-IC in this environment, Theorems 1 and 2 immediately imply the following
result.

Corollary 1. Suppose there is a single branch b. Fix a baseline priority order b   and a BRADSO
       +
policy b  +
          b . Then, for any preference profile                Q| I | ,

                                              COM- BR ( ) =  BR ( ).


6.2    Field Evidence on COM-BRADSO

Relative to USMA-2020, a key benefit of the COM-BRADSO mechanism is the ability for cadets
to submit preferences over branch-cost pairs. As described above, survey results from the Class
of 2020 indicated that about half of the cadets prefer a mechanism that permits them to submit
preferences over branch-cost pairs over a mechanism that does not. Preference data from the
   27 Characterizations   of the cumulative offer process are available in the literature for choice rules that are fixed or
that satisfy various criteria. See, for example, Hatfield, Kominers, and Westkamp (forthcoming) and Hirata and Kasuya
(2017). Similarly, there are characterization of choice rules in single institution environments which do not involve the
cumulative offer process (see, e.g., Echenique and Yenmez (2015) and Imamura (2020)).


                                                            32
Class of 2021 confirms that this flexibility was used by cadets. Figure 2 provides details on the
extent to which cadets did not rank a branch with increased cost immediately after the branch at
base cost. For each of 994 cadet first branch choices, 272 cadets rank that branch with BRADSO as
their second choice and 36 cadets rank that branch with BRADSO as their third choice or lower.
These 36 cadets would not have been able to express this preference under the message space of
a quasi-direct mechanism like the USMA-2006 mechanism or the USMA-2020 mechanism. When
we consider the next branch on a cadet's rank order list, cadets also value the flexibility of the
new mechanism. For the branch that appears next on the rank order list, 78 cadets rank that
branch with BRADSO as their immediate next highest choice and 24 cadets rank that branch with
BRADSO two or more places below on their rank order list. These 24 cadets also would not have
been able to express this preference under a quasi-direct mechanism.
   The fact that COM-BRADSO is a strategy-proof mechanism which elicits rankings over branch-
price pairs allows us to compare outcomes under the USMA-2006 and USMA-2020 mechanisms
with knowledge of the underlying branch-price preference relationship. In Figure 1, we could
only measure detectable priority reversals and not all priority reversals. To measure all priority
reversals, we use preferences over branch-price pairs under COM-BRADSO to construct a truthful
strategy denoted si = ( Pi , Bi ) under a quasi-direct mechanism by using the branch rank ordering
for Pi and assuming that if a cadet ever expresses a willingness to BRADSO at a branch, then the
cadet is willing to BRADSO under Bi . Taking this constructed strategy as input, we then simulate
the USMA-2006 and USMA-2020 mechanism using the branch capacities and priorities from the
Class of 2021. Under the USMA-2006 mechanism simulation, there are 29 priority reversals and 20
are detectable priority reversals. Under the USMA-2020 mechanism simulation, there are 204 pri-
ority reversals and 197 are detectable priority reversals. This suggests that the detectable priority
reversals in practice likely constitute the major of priority reversals for the Classes of 2014-2019,
which used the USMA-2006 mechanism, and for the Class of 2020, which used the USMA-2020
mechanism.
   Using truthful strategies to evaluate the USMA-2006 and USMA-2020 mechanism, Figure 3
shows that there are nearly seven times as many BRADSO-IC failures under the USMA-2020
mechanism compared to the USMA-2006 mechanism (146 vs. 21) and seven times as many pri-
ority reversals under the USMA-2020 mechanism compared to the USMA-2006 mechanism (204
vs. 29). This pattern of behavior suggests that the comparison reported in Figure 1 potentially
understates the dramatic increase in BRADSO-IC failures and priority reversals stemming from
the adoption of the USMA-2020 mechanism because that comparison was based on strategies in
the mechanism and not underlying cadet preferences.
   One reason the comparison between USMA-2006 and USMA-2020 in Figure 1 is not as strik-
ing as the comparison in Figure 3 is that, as we have presented in Section 4.2, many cadets were
well-aware of the necessity to strategically make their BRADSO choices under the USMA-2020
mechanism. Our analysis in Section 5 illustrates the perverse incentives in the USMA-2020 mech-
anism. For the Class of 2020, a dry-run of the mechanism where cadets submitted indicative


                                                 33
rankings of branches and learned about their assignment took place. After observing their dry-
run assignment, cadets were allowed to submit a final set of rankings under USMA-2020, and
therefore had the opportunity to revise their strategies in response to this feedback. Figure 4 tabu-
lates strategic BRADSOs, BRADSO-IC failures, and detectable priority reversals under indicative
and final preferences. Final preferences result in fewer strategic BRADSOs, BRADSO-IC failures,
and detectable priority reversals. This pattern is consistent with some cadets responding to the
dry-run by ranking branch choices in response to these issues.
      In general, cadets form their preferences over branches over time as they acquire more infor-
mation about branches and their own tastes. Therefore, the change documented in Figure 4 may
simply reflect general preference formation from acquiring information about branches, and not
revisions to preferences in response to the specific mechanism. We briefly investigate this possibil-
ity by looking at the presence of strategic BRADSOs, BRADSO-IC failures, and priority reversals
using data on the indicative and final preferences from the Class of 2021. This class participated
in the strategy-proof COM-BRADSO mechanism. We take indicative and final cadet preferences
under COM-BRADSO and construct truthful strategies, following the approach described above,
for the USMA-2020 mechanism. Figure 5 shows that with preferences constructed from a strategy-
proof mechanism, there are only modest differences in strategic BRADSOs, BRADSO-IC failures,
and priority reversals between the indicative and final rounds. This comparison supports our
claim that revisions of rank order lists in response to a dry-run of the USMA-2020 mechanism
might understate the issues this mechanism created, and why these issues became so pronounced
with the USMA-2020 mechanism relative to the USMA-2006 mechanism.


6.3     Trade-off Between Talent Alignment vs. Retention

As presented in Section 6.1, the COM-BRADSO mechanism is based on

  1. the cumulative offer process, and
                      BR at any branch b  B, which is a function of
  2. the choice rule Cb

         (a) the baseline priority order b ,
         (b) the BRADSO cap q+
                             b , and
                               +
         (c) the BRADSO policy b .

The flexibility of the COM-BRADSO mechanism to accommodate branch-specific priorities under
any BRADSO policy and BRADSO cap allows policy makers to determine the appropriate balance
between branch priorities and the enforcement of contracts with increased costs. This was critical
during the reform of the USMA-2020 mechanism where Army and USMA leadership had several
discussions about the potential BRADSO policy for the Class of 2021. As described in the excerpt
below from a news article describing an interview with the Talent-Based Branching Program Man-
ager, selecting the specific BRADSO policy presented the Army with a trade-off between retention
and talent alignment (Garcia, 2020):

                                                 34
          A key question the Army considered when designing this year's mechanism
          was how much influence to give cadets who are willing to BRADSO. If every
          cadet who volunteers to BRADSO can gain priority, or "jump" above, every
          cadet who did not volunteer to BRADSO, then that could improve Army re-
          tention through more cadets serving an additional three years, but it could also
          result in more cadets being assigned to branches that do not prefer them.
The comparative static results in Proposition 2 in Section 6.1 motivate our empirical analysis of
different BRADSO policies. While the results on the BRADSO collected given in Proposition 2
hold for a given branch, in theory they may not hold in aggregate across all branches under
COM-BRADSO.28 However, as we show next, the comparative static properties do hold in our
simulations with the Class of 2021 data for several BRADSO policies.
    The Army considered three BRADSO policies: the ultimate BRADSO policy and two tiered
BRADSO policies. Under BRADSO-2020, a cadet who expressed a willingness to sign a BRADSO
contract only obtained priority over other cadets who had the same categorical branch rating.
Under BRADSO-2021, a cadet who expressed a willingness to sign a BRADSO contract obtained
higher priority over all other cadets if she was in the medium or high category. To illustrate the
trade-off between talent alignment and retention, Figure 6 uses preferences from the Class of 2021
and re-runs the COM-BRADSO mechanism under these three BRADSO policies for different levels
of BRADSO cap q+          +
               b , where qb is expressed as a percentage of qb , the total number of positions for
branch b.
    To measure the effects of BRADSO policies on BRADSOs collected, Figure 6 shows how the
number of BRADSOs charged increases with q+
                                          b and with the closeness of the BRADSO policy
to the ultimate BRADSO policy. That is, for a given q+
                                                     b the BRADSO-2021 policy results in more
BRADSOs charged than BRADSO-2020 policy, but fewer BRADSOs charged than the ultimate
BRADSO policy. When the BRADSO cap is small, there is relatively little difference between
BRADSO policies. For example, when the BRADSO cap is 15% of slots, 55 BRADSOs are charged
under the ultimate BRADSO, 47 BRADSOs are charged under BRADSO-2021, and 38 BRADSOs
are charged under BRADSO-2020. When the BRADSO cap is larger, the BRADSO policy has a
larger effect on BRADSOs collected. When the BRADSO cap is 65%, 118 BRADSOs are charged
under the ultimate BRADSO, 95 BRADSOs are charged under BRADSO-2020, and 65 BRADSOs
are charged under BRADSO-2021.
    The ability to run this analysis on the effects of BRADSO policies is a side-benefit of a strategy-
proof mechanism, like COM-BRADSO. At the request of the Army, we had conducted a similar
analysis using data from the Class of 2020, but this analysis required stronger assumptions on
cadet preferences.29 As a result of this analysis, the Army decided to adopt the BRADSO-2021
   28 The fact that a global comparative static result does not hold in matching models with slot-specific priorities has

                                                                       ¨
been explored in other work, including Dur, Kominers, Pathak, and Sonmez                                  ¨
                                                                             (2018) and Dur, Pathak, and Sonmez   (2020).
Both papers contains examples showing that how a comparative static across all branches need not hold. However, the
two papers also show empirically that these theoretical cases do not apply in their applications. See, also, Pathak,
 ¨
Sonmez,   ¨
          Unver,  and Yenmez (2020).
   29 Because cadets in the Class of 2020 did not submit preferences over branch-cost pairs, we assumed that all BRAD-



                                                           35
policy and increase the BRADSO cap, q+
                                     b , from 25 to 35 percent. These are both policies that
increase the power of BRADSO. However, USMA decided against adopting the ultimate BRADSO
policy because branches remained opposed to giving more BRADSO power to low tier cadets.


7    Conclusion
In July 2019, the US Army implemented sweeping changes to the Army's Talent-Based Branching
Program by adopting the USMA-2020 mechanism for the West Point, or USMA, Class of 2020.
The impetus for this change was to give Army branches greater influence and to ultimately as-
sign cadets to better fitting branches. However, the USMA-2020 mechanism retained the same
restricted strategy space as the previous USMA-2006 mechanism. The performance of the USMA-
2020 mechanism made several underlying issues more apparent.
    Our paper describes these reforms and shows how they facilitated the adoption of a cumula-
tive offer mechanism for the Class of 2021. Our main result is that the cumulative offer mechanism
with a particular choice function is the only mechanism that satisfies intuitive criteria, all formu-
lating the Army's objectives. We also formally and empirically study the USMA-2020 mechanism.
That investigation provides insights into the perverse incentives in this mechanism and why these
challenges became difficult to ignore for the Class of 2020.
                                     ¨
    When it was first formulated in Sonmez and Switzer (2013), cadet-branch matching became the
first real-life application of the matching with contracts framework with a non-trivial role for the
contractual terms. Our work builds on foundational theory by Kelso and Crawford (1982), Hat-
                                                                                       ¨
field and Milgrom (2005), and Hatfield and Kojima (2010) and applied theory papers by Sonmez
                        ¨
and Switzer (2013) and Sonmez (2013). This sequence of papers opened the door to influence
mechanisms deployed in the field, and eventually led to the redesign of USMA's mechanism. In
this respect, we contribute to a market design literature where abstract theoretical models, which
are often not contemplated in terms of particular applications, go on to have practical applications
and ultimately influence real-world mechanisms. We hope the chronology of the military's reform
which links theory to practice follows the model of other market design applications, such as for
the medical match, spectrum auctions, school assignment, kidney exchange, internet advertising,
and course assignment.30 Moreover, after the adoption of the cumulative offer mechanism at the
Israeli Psychology Master's Match (Hassidim, Romm, and Shorrer, 2017), the Army's use of the
COM-BRADSO mechanism is, as far as we know, the second field application of matching with
SOs are consecutive, and also considered different assumptions on the prevalence of non-consecutive BRADSOs. These
assumptions are not needed when cadets can rank branch-price pairs in a strategy-proof mechanism.
    30 For the medical match, see Gale and Shapley (1962), Roth (1982), and Roth and Peranson (1999). For package

auctions, see Kelso and Crawford (1982), Demange, Gale, and Sotomayor (1986), Milgrom (2000), Ausubel and Milgrom
(2003), Milgrom and Segal (2017), and Milgrom and Segal (2020). For school assignment, see Gale and Shapley (1962),
                 ¨
Balinski and Sonmez                           and Sonmez
                        (1999), Abdulkadiroglu         ¨                            ¨
                                                              (2003), Pathak and Sonmez                             
                                                                                           (2008), and Abdulkadiroglu,
Pathak, and Roth (2009). For kidney exchange, see Shapley and Scarf (1974), Abdulkadiroglu  and Sonmez
                                                                                                     ¨     (1999), Roth,
  ¨
Sonmez,         ¨
           and Unver                      ¨
                       (2004) and Roth, Sonmez,         ¨
                                                 and Unver    (2005). For internet advertising, see Shapley and Shubik
                                                                                                                 ¨
(1971), Edelman, Ostrovsky, and Schwarz (2007), and Varian (2006). For course allocation, see Varian (1974), Sonmez
       ¨
and Unver    (2010), Budish (2011), Budish and Cantillon (2012), and Budish, Cachon, Kessler, and Othman (2017).


                                                          36
contracts.
    While the Army initially resisted reforms to the USMA branching process, the challenges due
to failures of certain principles formalized by our axioms led the Army to partner with us to fix
these challenges. The Army sought a mechanism that not only promoted retention and talent
alignment as USMA-2020 did, but that was also incentive compatible. The desire for incentive
compatibility was partly to build cadets' trust in Army labor markets (Garcia, 2020), and partly
to obtain truthful information on cadet preferences. The latter objective is particularly important
for Army efforts to understand and address the lack of minority representation in branches like
Infantry and Armor, branches that produce a disproportionate share of Army generals (Briscoe,
2013; Kofoed and mcGovney, 2019). In that sense, reform shows the practical relevance and power
of the matching with contracts framework, as well as the importance of building mechanisms with
straightforward incentives to engender trust between organizations and their employees.
    After seeing the value of COM-BRADSO, the Army made two decisions to expand its utiliza-
tion and to help achieve other policy objectives. First, although the Army originally planned to
use the USMA-2020 mechanism to branch more than 3,000 ROTC cadets graduating in 2021, af-
ter observing the shortcomings of USMA-2020, the Army changed course and decided to adopt
COM-BRADSO for ROTC instead. The decision to use COM-BRADSO for ROTC was in part due
to concerns that ROTC's previous branching mechanism generated dead zones that made prior-
                                                     ¨
ity reversals particularly visible, as discussed in Sonmez (2013). Second, for the West Point and
ROTC Classes of 2022, the Army has asked us to modify COM-BRADSO to help address shortages
of cadets willing to volunteer for the Army's branch-detail program.31 We hope to report on these
developments in future work.
    Finally, beyond cadet branching, our experience with the cumulative offer mechanism shows
that it could be used in other internal labor markets where participants have preferences over
jobs and contract terms. For example, if the US Army were to permit officers to bid increased
service obligations to obtain higher priority for certain jobs, then it could use COM-BRADSO to
determine assignments for the 15,000 officers who participate in the Army's officer labor market
each year (Greenberg, Crow, and Wojtaszek, 2020). Likewise, the US Air Force Academy uses a
centralized process to assign graduates to career fields using cadet preferences with a linear pro-
gram (Armacost and Lowe, 2005). Hatfield, Kominers, and Westkamp (forthcoming) and Cowgill,
Davis, Montagnes, and Perkowski (2021) describe other promising settings for cumulative offer
mechanisms.




   31 Officerswho participate in the branch-detail program serve the first three to four years of their Army career in
a "detail" branch before transitioning to the branch they received through their commissioning source's branching
process. The Army faces an imbalance in branch strengths when there is a shortage of cadets willing to branch-detail.


                                                         37
References
              , A., P. A. PATHAK ,
A BDULKADIRO GLU                             AND   A. E. R OTH (2009): "Strategy-proofness versus Ef-
  ficiency in Matching with Indifferences: Redesigning the New York City High School Match,"
  American Economic Review, 99(5), 1954­1978.

              , A., P. A. PATHAK , A. E. R OTH ,
A BDULKADIRO GLU                                             AND        ¨
                                                                   T. S ONMEZ (2006): "Changing the
  Boston School Choice Mechanism," Working Paper 11965, National Bureau of Economic Re-
  search.

              , A.,
A BDULKADIRO GLU             AND        ¨
                                   T. S ONMEZ (1999): "House Allocation with Existing Tenants," Jour-
  nal of Economic Theory, 88(2), 233­260.

        (2003): "School Choice: A Mechanism Design Approach," American Economic Review, 93,
  729­747.

A RMACOST, A. P.,      AND   J. K. L OWE (2005): "Decision Support for the Career Field Selection Pro-
  cess at the US Air Force Academy," European Journal of Operational Research, 160, 839­850.

A RMY (2019a): "The Army People Strategy," US Army Training and Doctrine Command, Avail-
  able at: https://www.army.mil/e2/downloads/rv7/the army people strategy 2019 10 11 signed final.pdf,
  Last accessed: May 10, 2021.

        (2019b): "The Army Profession," US Army Training and Doctrine Command, Available
  at: https://www.army.mil/standto/archive/2019/08/02/, Last accessed: May 10, 2021.

A USUBEL , L.,   AND   P. M ILGROM (2003): "Ascending Auctions with Package Bidding," Frontiers of
  Theoretical Economics, 1, 1.

B ALINSKI , M.,   AND        ¨
                        T. S ONMEZ (1999): "A Tale of Two Mechanisms: Student Placement," Journal
  of Economic Theory, 84, 73­94.

B RISCOE , D. L. (2013): "The Black Community Perspective: Recruiting Blacks into Combat Arms,"
  Discussion paper, ARMY WAR COLLEGE CARLISLE BARRACKS PA.

B UDISH , E. (2011): "The Combinatorial Assignment Problem: Approximate Competitive Equilib-
  rium from Equal Incomes," Journal of Political Economy, 119(6), 1061­1103.

B UDISH , E., G. C ACHON , J. K ESSLER , AND A. O THMAN (2017): "Course Match: A Large-Scale Im-
  plementation of Approximate Competitive Equilibrium from Equal Incomes for Combinatorial
  Allocation," Operations Research, 65(2), 314­336.

B UDISH , E.,   AND   E. C ANTILLON (2012): "The Multi-Unit Assignment Problem: Theory and Evi-
  dence from Course Allocation at Harvard," American Economic Review, 102(5), 2237­2271.



                                                    38
C OLARRUSO , M., D. S. LYLE ,        AND   C. WARDYNSKI (2010): "Towards a U.S. Army Officer Corps
  Strategy for Success: Retaining Talent," Unpublished manuscript, Strategic Studies Institute.

C OLARUSSO , M. J., K. G. H ECKEL , D. S. LYLE , AND W. L. S KIMMYHORN (2016): "Starting Strong:
  Talent-Based Branching of Newly Commissioned US Army Officers (Officer Corps Strategy,
  Volume 9)," Discussion paper, Army War College-Strategic Studies Institute Carlisle United
  States.

C OWGILL , B., J. D AVIS , B. P. M ONTAGNES ,      AND      P. P ERKOWSKI (2021): "Matching for Strategic
  Organizations: Theory and Empirics from Internal Labor Markets," Available at SSRN.

C RAWFORD , V. P. (2008): "The Flexible-Salary Match: A Proposal to Increase the Salary Flexibility
  of the National Resident Matching Program," Journal of Economic Behavior and Organization, 66,
  149­160.

D EMANGE , G., D. G ALE ,      AND   M. A. O. S OTOMAYOR (1986): "Multi-Item Auctions," Journal of
  Political Economy, 94(4), 863­872.

D O D (2020): "Population Representation in the Military Services: Fiscal Year 2018," Office of the
  Under Secretary of Defense (Personnel and Readiness).

D UR , U., S. D. K OMINERS , P. A. PATHAK ,      AND        ¨
                                                       T. S ONMEZ (2018): "Reserve Design: Unintended
  Consequences and the Demise of Boston?s Walk Zones," Journal of Political Economy, 126(6),
  2457­2479.

D UR , U., P. A. PATHAK ,      AND        ¨
                                     T. S ONMEZ (2020): "Explicit vs. Statistical Preferential Treatment
  in Affirmative Action: Theory and Evidence from Chicago's Exam Schools," Journal of Economic
  Theory, 187, 104996.

E CHENIQUE , F. (2012): "Contracts vs. Salaries in Matching," American Economic Review, 102(1),
  594­601.

E CHENIQUE , F.,     AND   B. Y ENMEZ (2015): "How to Control Controlled School Choice?," American
  Economic Review, 105(8), 2679­2694.

E DELMAN , B., M. O STROVSKY, AND M. S CHWARZ (2007): "Internet Advertising and the General-
  ized Second-Price Auction: Selling Billions of Dollars Worth of Keywords," American Economic
  Review, 97(1), 242­259.

G ALE , D.,   AND   L. S. S HAPLEY (1962): "College Admissions and the Stability of Marriage," Amer-
  ican Mathematical Monthly, 69, 9­15.

G ARCIA , J. (2020): "New innovations improve branching process for cadets, branches," Pointer-
  View, September 17.



                                                       39
G REENBERG , K., M. C ROW,          AND   C. W OJTASZEK (2020): "Winning in the Marketplace: How Of-
  ficers and Units Can Get the Most Out of the Army Talent Alignment Process," Modern War
  Institute.

H ASSIDIM , A., A. R OMM ,        AND   R. I. S HORRER (2017): "Redesigning the Israeli Psychology Mas-
  ter's Match," American Economic Review, Papers and Proceedings, 107(5), 205­209.

H ATFIELD , J. W.,    AND   F. K OJIMA (2010): "Substitutes and Stability for Matching with Contracts,"
  Journal of Economic Theory, 145(5), 1704­1723.

H ATFIELD , J. W., S. D. K OMINERS ,           AND   A. W ESTKAMP (forthcoming): "Stability, Strategy-
  proofness, and Cumulative Offer Mechanisms," Review of Economic Studies.

H ATFIELD , J. W., AND P. M ILGROM (2005): "Matching with Contracts," American Economic Review,
  95, 913­935.

H IRATA , D.,   AND   Y. K ASUYA (2017): "On Stable and Strategy-Proof Rules in Matching Markets
  with Contracts," Journal of Economic Theory, 168, 27­43.

H URWICZ , L. (1977): "On the Dimensional Requirements of Informationally Decentralized Pareto-
  Satisfactory Processes," pp. 413­424.

I MAMURA , K. (2020): "Meritocracy vs. Diversity," Working Paper, Boston College.

J ACKSON , M. O. (2001): "A Crash Course in Implementation Theory," Social Choice and Welfare,
  18(4), 655­708.

J AGADEESAN , R. (2019): "Cadet-branch matching in a Kelso-Crawford economy," American Eco-
  nomic Journal: Microeconomics, 11(3), 191­224.

K ELSO , A.,   AND   V. C RAWFORD (1982): "Job Matching, Coalition Formation, and Gross Substi-
  tutes," Econometrica, 50, 1483­1504.

K OFOED , M. S.,     AND    E.   MC G OVNEY   (2019): "The effect of same-gender or same-race role mod-
  els on occupation choice evidence from randomly assigned mentors at west point," Journal of
  Human Resources, 54(2), 430­467.

                         ¨
K OMINERS , S., AND T. S ONMEZ (2016): "Matching with slot-specific priorities: Theory," Theoretical
  Economics, 11(2).

M ASKIN , E.,   AND          ¨
                      T. S J OSTR ¨ (2002): "Implementation Theory," in The Handbook of Social Choice
                                  OM
  Theory, chap. 5, pp. 237­288. Elsevier.

M ILGROM , P., AND I. S EGAL (2017): "Designing the US Incentive Auction," In Handbook of Spec-
  trum Auction Design, Martin Bichler and Jacob Goeree (eds), Cambridge University Press.



                                                       40
        (2020): "Clock Auctions and Radio Spectrum Reallocation," Journal of Political Economy,
  128(1).

M ILGROM , P. R. (2000): "Putting Auction Theory to Work: The Simultaneous Ascending Auc-
  tion," Journal of Political Economy, 108, 245­272.

M OUNT, K., AND S. R EITER (1974): "The Information Size of Message Spaces," Journal of Economic
  Theory, 28, 1­28.

O'C ONNOR ,      B.    (2019):    "Assigning    branches    to   cadets   takes   on   new   system,"
  https://www.army.mil/article/227124/assigning branches to cadets takes on new system,
  Last Accessed: April 29, 2021.

PATHAK , P. A.,   AND         ¨
                         T. S ONMEZ (2008): "Leveling the Playing Field: Sincere and Sophisticated
  Players in the Boston Mechanism," American Economic Review, 98(4), 1636­1652.

        (2013): "School Admissions Reform in Chicago and England: Comparing Mechanisms by
  their Vulnerability to Manipulation," American Economic Review, 103(1), 80­106.

                     ¨
PATHAK , P. A., T. S ONMEZ         ¨ NVER ,
                           , M. U. U            AND    B. Y ENMEZ (2020): "Leaving No Ethical Value
  Behind: Triage Protocol Design for Pandemic Rationing," NBER Working Paper 26951.

                 ¨
R OTH , A., T. S ONMEZ          ¨ NVER (2004): "Kidney Exchange," Quarterly Journal of Economics,
                       , AND U. U
  119(2), 457­488.

R OTH , A. E. (1982): "The Economics of Matching: Stability and Incentives," Mathematics of Oper-
  ations Research, 7, 617­628.

        (1984): "The Evolution of the Labor Market for Medical Interns and Residents: A Case
  Study in Game Theory," Journal of Political Economy, 92, 991­1016.

R OTH , A. E.,   AND   E. P ERANSON (1999): "The Redesign of the Matching Market for American
  Physicians: Some Engineering Aspects of Economic Design," American Economic Review, 89,
  748­780.

                    ¨
R OTH , A. E., T. S ONMEZ             ¨ NVER (2005): "A Kidney Exchange Clearinghouse in New
                          , AND M. U. U
  England," The American Economic Review, 95(2), 376­380.

S CHLEGEL , J. C. (2015): "Contracts versus Salaries in Matching: A General Result," Journal of
  Economic Theory, 159(A), 552­573.

S EGAL , I. (2007): "The Communication Requirements of Social Choice Rules and Supporting Bud-
  get Sets," Journal of Economic Theory, 136, 341­378.

S HAPLEY, L.,    AND   H. S CARF (1974): "On Cores and Indivisibility," Journal of Mathematical Eco-
  nomics, 1, 23­28.

                                                  41
S HAPLEY, L.,   AND   M. S HUBIK (1971): "The Assignment Game I: The core," International Journal of
  Game Theory, 1(1), 111­130.

  ¨
S ONMEZ , T. (2013): "Bidding for Army Career Specialties: Improving the ROTC Branching Mech-
  anism," Journal of Political Economy, 121(1), 186­219.

  ¨
S ONMEZ , T.,   AND   T. S WITZER (2013): "Matching with (Branch-of-Choice) Contracts at the United
  States Military Academy," Econometrica, 81(2).

  ¨
S ONMEZ , T.,   AND         ¨ NVER (2010): "Course Bidding at Business Schools," International Eco-
                      M. U. U
  nomic Review, 51(1), 99­123.

VARIAN , H. (1974): "Equity, envy, and efficiency," Journal of Economic Theory, 9(1), 63­91.

        (2006): "Position auctions," International Journal of Industrial Organization, 25, 1163­1178.




                                                  42
A    Proofs
Proof of Theorem 1: Suppose there is only one branch b  B, and fix a profile of cadet preferences
    Q. We first show that the direct mechanism  BR satisfies the five axioms.
      Individual rationality: This axiom holds immediately under  BR , since no cadet i  I is
considered for a position at the increased cost t+ unless her submitted preferences is such that
( b, t + ) i .
      Non-wastefulness: Since there is only one branch and we already established individual ratio-
nality, we can focus on cadets who consider a position the base cost acceptable. With this observa-
tion, non-wastefulness also holds immediately under  BR , since all positions are allocated at Steps 0
and 1 at the base cost t0 either as a final assignment or a tentative one. Tentative assignments from
Step 1 may be altered later on by increasing their cost to t+ and possibly changing their recipients,
but not by leaving the position unassigned, hence assuring non-wastefulness.
      Lack of priority reversals: Under the mechanism  BR , each of the q0 b highest b -priority cadets
are assigned a position at the base cost t0 at Step 0, and each of the next q+   b highest b -priority
                                                               0
cadets are tentatively assigned a position at the base cost t at Step 1. Tentative positions are lost
in Step 2 only if there is excess demand from qualified cadets who are willing to pay the increased
cost t+ , and starting with the lowest b priority cadets with tentative assignments. That assures
that, for any i, j  I ,
                             jBR ( ) = (b, t0 ) i iBR ( )     =       j b i.                        (1)

Moreover positions at the increased cost t+ are offered to cadets with highest b priorities among
those (i) who fail to receive a position at the base cost t0 and (ii) who declare the expensive assign-
ment (b, t+ ) as acceptable. Therefore, for any i, j  I ,

                         jBR ( ) = (b, t+ )    i   iBR ( ) =    =       j b i.                      (2)

Relations 1 and 2 imply that mechanism  BR has no priority reversals.
    BRADSO-IC: Fix a cadet i  I . For a given profile of preferences for all cadets except cadet i,
whether cadet i  I receives an assignment of (b, t0 ) under the mechanism  BR is independent of
cadet i's preferences under the mechanism  BR : Cadets who are among the q0
                                                                          b highest b -priority
cadets in I always receive an assignment at the base cost t0 ; cadets who are not among the q highest
b -priority cadets in I never receive an assignment at the base cost t0 ; and for any cadet i who has
one of the highest q but not one of the highest q0
                                                 b priorities, whether she receives an assignment at
the base cost t0 depends on how many lower b -priority cadets are both willing to pay the increase
cost t+ and also able to "jump ahead of" the cadet i through the BRADSO policy. Hence if a cadet
receives a position under  BR at the increased cost t+ , changing her reported preferences can only
result in losing the position altogether. Therefore mechanism  BR satisfies BRADSO-IC.
    Enforcement of the BRADSO policy: The procedure for the mechanism  BR initially assigns all
positions to the qb highest b -priority cadets at the base cost t0 , although the assignments of the



                                                     43
q+
 b -lowest b -priority cadets among these awardees are only tentative. Step 2 of the procedure for
mechanism  BR ensures that, if any cadet j  I loses her tentative assignment (b, t0 ) from Step 1,
                                                                                 +
then any cadet i  I who receives an assignment of (b, t+ ) is such that (i, t+ ) b ( j, t0 ). Therefore,

                          iBR ( ) = (b, t+ ), and
                                                                  =        (i, t + ) b
                                                                                     +
                                                                                       ( j, t0 ).                    (3)
                          ( b, t0 )    j   jBR ( )

Moreover, Step 2 of the same procedure also ensures that, for any  {1, . . . , q+
                                                                                b }, the
                                                                                                         th   lowest b -
priority cadet i with a tentative assignment of (b, t0 ) cannot maintain this tentative assignment,
for as long as there are at least lower b -priority cadets who are both willing to pay the increased
cost t+ and also able to "jump ahead of" the cadet i through the BRADSO policy. Therefore,
                                                
               jBR ( ) = (b, t0 ),              
               (b, t+ ) i iBR ( ), and                 =           i  I : iBR ( ) = (b, t+ )        = q+
                                                                                                       b .           (4)
                                       
                        +
               (i, t+ ) b ( j, t0 )
                                       


Relations (3) and (4) imply that mechanism  BR satisfies enforcement of the BRADSO policy.


    Uniqueness: We next show that mechanism  BR is the only mechanism that satisfies all five
axioms.
    Let the direct mechanism  satisfy individual rationality, non-wastefulness, BRADSO-IC, enforce-
ment of the BRADSO policy, and has no priority reversals. We want to show that ( ) =  BR ( ).
    If there are less than or equal to q cadets for whom the assignment (b, t0 ) is acceptable under the
preference profile     , all such cadets must receive an assignment of (b, t0 ) by individual rationality,
non-wastefulness, and BRADSO-IC. Since this is also the case under the allocation  BR ( ), the result
holds immediately for this case.
    Therefore, w.l.o.g assume that there are strictly more than q cadets for whom the assignment
(b, t0 ) is acceptable under the preference profile . Let I 0 be the set of q0
                                                                             b highest b -priority cadets
in I . By non-wastefulness, all positions are assigned under ( ). Since at most q+      b positions can
                                       +
be awarded at the increased cost t , at least qb positions has to be allocated at the base cost t0 .
                                                   0

Therefore,
                              for any i  I 0 ,   i ( ) = (b, t0 ) = iBR ( )                           (5)

by lack of priority reversals.
    Let I 1 be the set of q+                                    0                                 1
                           b highest b -priority cadets in I \ I . Relabel the cadets in the set I so that
for any  {1, . . . , q+                   th -lowest  -priority cadet in I 1 . Let
                      b }, cadet i is the            b


                                      J 0 = j  I \ ( I 0  I 1 ) : ( b, t + )   j    .




                                                            44
By individual rationality and the lack of priority reversals,

                       for any i  I \ ( I 0  I 1  J 0 ),               i ( ) =  = iBR ( ).                  (6)

By relations (5) and (6), the only set of cadets whose assignments are yet to be determined under
( ) are cadets in I 1  J 0 . Moreover, by the lack of priority reversals, cadets in J 0 can only receive a
position at the increased cost t+ . That is,

                                   for any j  J 0 ,               j ( ) = ( b, t0 ).                        (7)

                                                                                                  +
   For the next phase of our proof, we will rely on the sequence of individuals i1 , . . . , iqb and the
sequence of sets J 0 , J 1 , . . . that are constructed for the Step 2 of the mechanism  BR . Here individual
i1 is the qth highest b -priority cadet in set I , cadet i2 is the (q - 1)th highest b -priority cadet in set
I , and so on. The starting element of the second sequence is J 0 = { j  I \ ( I 0  I 1 ) : (b, t+ )   j    }.
Assuming Step 2.n is the last sub-step of Step 2, the remaining elements of the latter sequence for
n  1 is given as follows: For any  {1, . . . , n},

                                                 J   -1          if           i    ( b, t + )
                                 J =
                                                                                      i 
                                           J   -1     {i }       if   ( b, t + )

We have three cases to consider.

Case 1. n = 0
   For this case, by the mechanics of the Step 2 of the mechanism  BR , we have

                                       j  J 0 : ( j, t + )  b
                                                            + 1 0
                                                              (i , t )              = 0.                    (8)

Therefore, by relations 6, 7, and condition (1) of the axiom enforcement of the BRADSO policy,

                          for any i  I \ ( I 0  I 1 ),            i ( ) =  = iBR ( ).                       (9)

Hence by non-wastefulness,

                              for any i  I 1 ,             i ( )  ( b, t0 ), ( b, t + ) .                  (10)

But since  satisfies individual rationality, relation (10) implies that i ( ) = (b, t0 ) for any i  I 1
with       i (b, t+ ). Furthermore for any i  I 1 with (b, t+ ) i , instead reporting the fake
preference relation i  Q with  i (b, t+ ) would guarantee cadet i an assignment of i ( -i
, i ) = (b, t0 ) due to the same arguments applied for the economy ( -i , i ), and therefore by
BRADSO-IC these cadets too must receive an assignment of (b, t0 ) each. Hence

                             for any i  I 1 ,             i ( ) = (b, t0 ) = iBR ( ).                      (11)



                                                            45
Relations (5), and (11) imply ( ) =  BR ( ), completing the proof for Case 1.

Case 2. n  {1, . . . , q+
                        b - 1}
    For this case, by the mechanics of the Step 2 of the mechanism  BR , we have

                                                                   -1
                      for any  {1, . . . , n},                jJ         : ( j, t + )  b
                                                                                       +
                                                                                         ( i , t0 )    ,   (12)

and
                                         j  J n : ( j, t + )  b
                                                              + n +1 0
                                                                (i , t )           = n.                    (13)

Since mechanism  satisfies condition (2) of the axiom enforcement of the BRADSO policy, the lack of
priority reversals and relation 12 imply

                                  for any i  {i1 , . . . , in },          i ( ) = ( b, t0 ).               (14)

Therefore, by non-wastefulness and relations (5), (6), (7), and (14), at least n positions must be
assigned at the increased cost t+ .
    Moreover, since mechanism  satisfies non-wastefulness, lack of priority reversals, and condition
(1) of the axiom enforcement of the BRADSO policy, relation (13) implies

                                                       +
                          for any i  {in+1 , . . . , iqb },         i ( )  ( b, t0 ), ( b, t + ) .         (15)

But since  satisfies individual rationality, relation (15) implies that i ( ) = (b, t0 ) for any
                  +                                                                                   +
i  {in+1 , . . . , iqb } with  (b, t+ ). Furthermore for any i  {in+1 , . . . , iqb } with (b, t+ ) i ,
                                    i
instead reporting the fake preference relation i  Q with  i (b, t+ ) would guarantee cadet i an
assignment of i ( -i , i ) = (b, t0 ) due to the same arguments applied for the economy ( -i , i ),
and therefore by BRADSO-IC these cadets too must receive an assignment of (b, t0 ) each. Hence

                                                       +
                          for any i  {in+1 , . . . , iqb },        i ( ) = (b, t0 ) = iBR ( ).             (16)

Since we have already shown that at least n positions must be assigned at an increased cost of t+ ,
relation (16) implies that exactly n positions must be assigned this cost, and therefore for any cadet
j  J n who is one of the n highest b -priority cadets in J n ,

                                              j ( ) = (b, t+ ) = iBR ( )                                   (17)

by the lack of priority reversals.
    Relations (5), (16), and (17) imply ( ) =  BR ( ), completing the proof for Case 2.

Case 3. n = q+
             b
    For this case, by the mechanics of the Step 2 of the mechanism  BR , we have

                                                                    -1
                      for any  {1, . . . , q+
                                            b },              jJ                       +
                                                                         : ( j, t + )  b ( i , t0 )    .   (18)


                                                              46
Since mechanism  satisfies condition (2) of the axiom enforcement of the BRADSO policy, relation
18 implies
                                                            +
                               for any i  {i1 , . . . , iqb },    i ( ) = ( b, t0 ).                  (19)
                                                     = I1

Therefore, by non-wastefulness and the lack of priority reversals, exactly q+
                                                                            b positions must be as-
                                                                  +
signed at the increased cost t+ . Hence for any cadet j  J qb who is one of the q+
                                                                                 b highest b -priority
             +
cadets in J qb ,
                                            j ( ) = (b, t+ ) = iBR ( )                                (20)

by elimination of priority reversals.
    Relations (5) and (20) imply ( ) =  BR ( ), completing the proof for Case 3, thus finalizing
the proof of the theorem.

Proof of Proposition 1: Suppose that there is only one branch b  B. Fixing the profile of cadet
                                                                                        +
preferences      Q, the baseline priority order b , and the BRADSO policy b               , consider the
strategic-form game induced by the USMA-2020 mechanism (S            2020 , 2020 ). When there is only
one branch, the first part of the strategy space becomes redundant and the second part contains
only the two elements b and . Hence, for any cadet i  I , the strategy space of cadet i  I under
the USMA-2020 mechanism is Si2020 = {, b}.
                                                                              +
     For a given strategy profile s  S 2020 , construct the priority order b    (s) as follows: For any
i, j  I ,
                                                        +
   1. si = s j                     =                  i b (s) j  i b j,

   2. si = b and s j =             =             +
                                               i b                 +
                                                   (s) j  (i, t+ ) b ( j, t0 ).

                                         +
    Let I + (s) be the set of qb highest b (s)-priority cadets in I .
    For any cadet i  I , the outcome of the USMA-2020 mechanism is given as,
               
                              if i  I + (s),
                ( b, t0 )     if i  I + (s) and si = ,
               
    2020
    i    (s) =
                ( b, t0 )
                              if i  I + (s) and si = b and { j  I + (s) : s j = b and i b j}  q+
                                                                                               b ,
                ( b, t + )    if i  I + (s) and si = b and { j  I + (s) : s j = b and i b j} < q+
               
                                                                                                b .

We first prove a lemma on the structure of Nash equilibrium strategies of the strategic-form game
induced by the USMA-2020 mechanism (S 2020 , 2020 ).

Lemma 1. Let s be a Nash equilibrium of the strategic-form game induced by the mechanism
(S 2020 , 2020 ). Then, for any i, j  I,

                                   2020
                                   j    (s )     i   2020
                                                     i    (s )   =       j b i.




                                                            47
Proof of Lemma 1: Let s be a Nash equilibrium of the strategic-form game induced by the USMA-
2020 mechanism (S 2020 , 2020 ). Contrary to the claim suppose that, there exists i, j  I such that

                                      2020
                                      j    (s )    i   2020
                                                       i    (s )     and       i  b j.

There are three possible cases, where in each case we reach a contradiction by showing that cadet
i has a profitable deviation by mimicking the strategy of cadet j:
Case 1: 2020
        j    (s ) = (b, t0 ) and 2020
                                 i    ( s  ) = ( b, t + ).
    Since by assumption 2020
                        i    ( s  ) = ( b, t + ),

                                                         si = b.

Moreover the assumptions 2020
                         j    (s ) = (b, t0 ), 2020
                                               i    (s ) = (b, t0 ), and i b j imply

                                           j  I + (s )      and      sj = .                                 (21)

                                                                                          ^i =  for
But then, relation (21) and the assumption i b j imply that, for the alternative strategy s
cadet i,
                                                   i  I + (s     ^i ),
                                                            -i , s

and thus
                                       2020
                                       i    (s     ^i ) = (b, t0 )
                                              -i , s                 i   2020
                                                                         i    ( s  ),

contradicting s is a Nash equilibrium strategy. This completes the proof for Case 1.
Case 2: 2020
        j    (s ) = (b, t0 ) and 2020
                                 i    ( s  ) = .
    Since by assumption 2020
                        j    (s ) = (b, t0 ), 2020
                                              i    (s ) = , and i b j, we must have

               j  I + (s )      and   sj = b      and      {k  I + (s ) : s                    +
                                                                           k = b and j b k }  qb ,          (22)

and
                                                         si = .

                                                                                          ^i = b for
But then, relation (22) and the assumption i b j imply that, for the alternative strategy s
cadet i,

           i  I + (s     ^i )
                    -i , s      and   ^i = b
                                      s           and      {k  I + (s     ^i ) : s
                                                                     -i , s
                                                                                                      +
                                                                                  k = b and i b k }  qb ,


and thus
                                       2020
                                       i    (s     ^i ) = (b, t0 )
                                              -i , s                 i   2020
                                                                         i    ( s  ),

contradicting s is a Nash equilibrium strategy. This completes the proof for Case 2.
Case 3: 2020
        j    (s ) = (b, t+ ) and 2020
                                 i    ( s  ) = .


                                                           48
    Since by assumption 2020
                        j    ( s  ) = ( b, t + ),

                                              j  I + (s )         and          sj = b.                                       (23)

Moreover, since 2020
                i    (s ) =  by assumption,

                                                           i  I + ( s  ).

Therefore, since i b j by assumption,

                               j  I + (s ) and i  I + (s )                       =                si = .

But then, again thanks to assumption i b j, the relation (23) implies that, for the alternative
         ^i = b for cadet i,
strategy s
                                                         i  I + (s     ^i ),
                                                                  -i , s

and thus
                                              2020
                                              i    (s     ^i )
                                                     -i , s          i    2020
                                                                          i    ( s  ),
                                              {(b,t0 ),(b,t+ )}

contradicting s is a Nash equilibrium strategy,32 completing the proof for Case 3, and concluding
the proof of Lemma 1.                                                                                                          
    For the next phase of our proof, we rely on the construction in the Step 2 of the mechanism
                                                                                        +
 BR :   Let I 0 be the set of q0                                        1
                               b highest b -priority cadets in I , and I be the set of qb highest b -priority
cadets in I \ I 0 . Relabel the set of cadets in I 1 , so that i1 is the lowest b -priority cadet in I 1 , i2 is
                                                                         +
the second lowest b -priority cadet in I 1 ,. . . , and iqb is the highest b -priority cadet in I 1 . Note
that, cadet i1 is the qth highest b -priority cadet in set I , cadet i2 is the (q - 1)th highest b -priority
cadet in set I , and so on. Let J 0 = { j  I \ ( I 0  I 1 ) : (b, t+ )                       j   }. Assuming Step 2.n is the last
sub-step of Step 2 of the mechanism             BR ,     for any  {1, . . . , n}, let

                                                     J    -1         if              i    ( b, t + )
                                      J =
                                                                                             i 
                                                J   -1    {i }       if      ( b, t + )

Recall that, under the mechanism  BR , exactly n cadets receive an assignment of (b, t+ ). We will
show that, the same is also the case under the Nash equilibria of the strategic-form game induced
by the USMA-2020 mechanism (S 2020 , 2020 ).
    Let s be a Nash equilibrium of the strategic-form game induced by the USMA-2020 mecha-
nism (S 2020 , 2020 ). We have three cases to consider:
Case 1: n = 0
   32 Unlike the first two cases, in this case cadet i may even get a better assignment than cadet j (i.e. cadet i may receive

an assignment of (b, t0 )) by mimicking cadet j's strategy.




                                                                49
   Since by assumption n = 0 in this case,

                                      j  J 0 : ( j, t + )  b ( i , t ) = .
                                                           + 1 0
                                                                                                        (24)

Towards a contradiction, suppose there exists a cadet i  I \ ( I 0  I 1 ) such that i  I + (s ). Since
cadet i1 is the qth highest b -priority cadet in I , the assumption i  I + (s ) and relation (24) imply

                                         i  J 0 =             i   ( b, t + ).                           (25)

Moreover, since cadet i is not one of the q highest b -priority cadets in I ,

                                          i  I + (s ) = si = b.                                         (26)

                                                                  ^i = , assuring that she remains
But this means cadet i can instead submit an alternative strategy s
unmatched, contradicting s is a Nash equilibrium. Therefore,

                     for any i  I \ ( I 0  I 1 ),      (i, t + ) b (i , t ) = si = ,
                                                                 + 1 0
                                                                                                        (27)

which in turn implies
                                              I + (s ) = I 0  I 1 .                                     (28)

Hence all cadets in I 0  I 1 receive a position under 2020 (s ). Next consider the lowest b -priority
cadet i  I 0  I 1 such that 2020
                            i    (s ) = (b, t+ ). This can only happen if si = b. But this means cadet
i can instead submit an alternative strategy s  ^i = , assuring that 2020
                                                                      i   (s      ^i ) = (b, t0 ) by relation
                                                                             -i , s
(27), contradicting s is a Nash equilibrium. Hence

                         for any i  I 0  I 1 ,      2020
                                                    i    (s ) = (b, t0 ) = iBR ( ),                     (29)

and therefore 2020 (s ) =  BR ( ).
   Finally observe that the strategy profile s where si =  for any cadet i  I is a Nash equi-
librium, with an outcome 2020 (s ) =  BR ( ), showing that there exists a Nash equilibrium com-
pleting the proof for Case 1.

   For any  {1, . . . , n}, let J be the set of highest b -priority cadets in the set J :

                                 J =     j  J : {i  J : i b j } <

Before proceeding with the next two cases, we prove the following lemma that will be helpful for
both cases.

Lemma 2. Suppose there are n > 0 positions allocated at the increased cost t+ under the allocation  BR (
). Then, for any Nash equilibrium s of the strategic-form game induced by the USMA-2020 mechanism
(S 2020 , 2020 ) and  {1, . . . , n},


                                                      50
   1. 2020
      i
           ( s  ) = ( b, t + )                         ( b, t + )      i   , and

   2. 2020
      i    ( s  ) = ( b, t + )            for any i  J .

Proof of Lemma 2: Let s be a Nash equilibrium of the strategic-form game induced by the USMA-
2020 mechanism (S 2020 , 2020 ). First recall that,

                                for any j  I \ ( I 0  I 1 ),                    2020
                                                                                j    ( s  )  ( b, t + ),  ,

and therefore, since any cadet j  I \ ( I 0  I 1  J 0 ) prefers remaining unmatched to receiving
a position at the increased cost t+ and she can assure remaining unmatched by submitting the
strategy s j = ,
                                     for any j  I \ ( I 0  I 1  J 0 ),                    2020
                                                                                          j    ( s  ) = .                        (30)

Also, by the mechanics of the Step 2 of the mechanism  BR ,

                                                                                 -1
                      for any  {1, . . . , n},                             jJ         : ( j, t + )  b
                                                                                                    +
                                                                                                      ( i , t0 )    .            (31)

    The proof of the lemma is by induction on . We first prove the result for = 1.
                                                                           + 1 0
    Consider the highest b -priority cadet j in the set j  J 0 : ( j, t+ ) b (i , t ) . By relation 31,
such a cadet exists.
    First assume that (b, t+ )                i1   . In this case, J 1 = J 0  {i1 } and cadet i1 is the highest b -priority
cadet in J 1 . Hence J 1 = {i1 } in this case. Consider the Nash equilibrium strategies of cadet i1 and
cadet j. If si1 = , then by relation (30) her competitor cadet j can secure himself an assignment
of (b, t+ ) by reporting a strategy of s j = b, which would mean cadet i1 has to remain unassigned,
since by Lemma 1 no cadet in I 0  I 1 can envy the assignment of cadet i1 at Nash equilibria. In
contrast, reporting a strategy of si1 = b assures that cadet i1 receives a position, which is preferred
at any price to remaining unmatched by assumption (b, t+ )                                     i1   . Therefore, si1 = b, and hence

                                                                2020 (s ) = (b, t+ ), and
               ( b, t + )      i1             =                 i1                                                               (32)
                                                                2020
                                                                i    ( s  ) = ( b, t + )        for any i  J 1 = {i1 }.

    Next assume that              (b, t+ ). In this case J 1 = J 0 and cadet j is the highest b -priority cadet
                                         i1
in J 1 . Hence J 1 = { j} in this case. By Lemma 1, no cadet in ( I 0  I 1 ) \ {i1 } can envy the assignment
of cadet i1 at Nash equilibria. Therefore, a strategy of si1 = b means that cadet i receives an
assignment of (b, t+ ), which is inferior to remaining unmatched by assumption. Therefore si1 =
. Moreover reporting a strategy of s j =  means that cadet j remains unmatched, whereas
reporting a strategy of s j = b assures that she receives an assignment of (b, t+ ), which is preferred
to remaining unmatched since j  J 0 . Therefore, si1 = , and hence

                                                                    2020 (s ) = , and
                      i1    ( b, t + )        =                     i1                                                           (33)
                                                                    2020
                                                                    i    ( s  ) = ( b, t + )     for any i  J 1 = { j}.


                                                                           51
Relations (32) and (33) complete the proof for = 1.
    Next assume that the inductive hypothesis holds for                               = k < n. We want to show that the
result holds for = (k + 1) as well.
    By the inductive hypothesis,

                                              for any i  J k ,        2020
                                                                      i    ( s  ) = ( b, t + ).                               (34)

                                                                              +
By relation 31, there are at least k + 1 cadets in the set j  J k : ( j, t+ ) b (ik+1 , t0 ) . Therefore,
since there are k cadets in the set J k , there is at least one cadet in the set

                                                  j  J k : ( j, t + )  b
                                                                       + k +1 0
                                                                         (i , t ) \ J k .

Let j be the highest b -priority cadet in this set.
    First assume that (b, t+ )               i k +1   . In this case J k+1 = J k  {ik+1 } and cadet ik+1 is the highest
b -priority cadet in J k+1 . Hence J k+1 = J k  {ik+1 } in this case. Consider the Nash equilibrium
strategies of cadet ik+1 and cadet j. If sik+1 = , then by relation (30) cadet j can secure herself an
assignment of (b, t+ ) by reporting a strategy of s j = b, which would mean cadet ik+1 has to remain
unassigned, since by Lemma 1 no cadet in ( I 0  I 1 ) \ {i1 , . . . , ik } can envy the assignment of cadet
ik+1 at Nash equilibria and by relation (34) all cadets in J k receive an assignment of (b, t+ ).33 In
contrast, reporting a strategy of sik+1 = b assures that cadet ik+1 receives a position, which is
preferred at any price to remaining unmatched by assumption (b, t+ )                              i k +1   . Therefore, sik+1 = b,
and hence

                                                        2020   (s ) = (b, t+ ), and
              ( b, t + )       i k +1    =              i k +1                                                                (35)
                                                        2020
                                                        i    (s ) = (b, t+ ) for any i  J k+1 = J k  {ik+1 }.

Next assume that                                 +
                                      ik+1 ( b, t ). In   this case J k+1 = J k and J k+1 = J k  { j}. By Lemma 1, no
cadet in I 0  I 1 \         {i1 , . . . , ik } can envy   the assignment of cadet ik+1 at Nash equilibria. Therefore,
since all cadets in J k receive an assignment of (b, t+ ) by relation (34), a strategy of sik+1 = b means
that cadet ik+1 receives an assignment of (b, t+ ), which is inferior to remaining unmatched by
assumption. Therefore sik+1 = . Moreover reporting a strategy of s j =  means that cadet j
remains unmatched, whereas reporting a strategy of s j = b assures that she receives an assignment
of (b, t+ ), which is preferred to remaining unmatched since j  J k . Therefore, sik+1 = , and hence

                                                           2020   (s ) = , and
                   i k +1   ( b, t + )   =                 i k +1                                                             (36)
                                                           2020
                                                           i    ( s  ) = ( b, t + )   for any i  J k+1 = J k  { j}.

Relations (35) and (36) complete the proof for = k + 1, and conclude the proof of Lemma 2.                                     
    We are ready to complete prove the theorem for our last two cases:
   33 Since ( I 0  I 1 ) \ {i1 , . . . , ik } = (q - k) and J k = k, this basically means cadets ik+1 and j are competing for a
single position.


                                                                     52
Case 2. n  {1, . . . , q+
                        b - 1}
    For this case, by the mechanics of the Step 2 of the mechanism  BR ,

                                      j  J n : ( j, t + )  b
                                                           + n +1 0
                                                             (i , t )     = n.                     (37)

Consider cadet in+1 . There are q - (n + 1) cadets with higher b -priority, and by relation (37) there
                                                                 +
are n cadets in J n whose increased-cost assignments have higher b priority under the BRADSO
policy than the base-cost assignment for cadet in+1 . For any other cadet i  I \ J n  I 0  I 1 \
                                     (i , t ), we must have  i (b, t+ ) since J n  J 0 . Therefore none
                                   + n +1 0
{i1 , . . . , in+1 } with (i, t+ ) b
of these individuals can receive an assignment of (b, t+ ) under a Nash equilibrium strategy, and
                                                        + 
hence the number of cadets who can have higher b         (s )-priority than cadet is in+1 is at most q -
(n + 1) + n = q - 1 under any Nash equilibrium strategy. That is, cadet in+1  I + (s ) regardless
of her submitted strategy, and therefore,

                                                       
                                             2020                  0
                                             i n +1 ( s ) = ( b , t ) ,                            (38)

since her best response sin+1 to s- i n +1
                                           results in an assignment of (b, t0 ). Moreover, Lemma 1 and
relation (38) imply that, for any cadet i  I 0  I 1 \ {i1 , . . . , in+1 } ,

                                             2020
                                             i    ( s  ) = ( b, t0 ).                              (39)

Hence Lemma 2 and relations (38), (39) imply 2020 (s ) =  BR ( ).
    Finally, the strategy profile s where si = b for any cadet i  J n and s j =  for any cadet
j  I \ J n is a Nash equilibrium, with an outcome 2020 (s ) =  BR ( ), showing that there exists a
Nash equilibrium completing the proof for Case 2.

Case 3. n = q+
             b
    Since at most q+                                                  +
                   b positions can be assigned at the increased cost t , Lemma 1 and Lemma 2
immediately imply 2020 (s ) =  BR ( ).
                                                                               +
    Finally the strategy profile s where si = b for any cadet i  J qb  I 0 and s j =  for any cadet
j  I \ J n  I 0 is a Nash equilibrium, with an outcome 2020 (s ) =  BR ( ), showing that there
exists a Nash equilibrium completing the proof for Case 3, and the proof of the proposition.

Proof of Theorem 2: Fix (b )b B  | B| and (b+
                                              )b B  b B +
                                                        b .
   For any cadet i  I , branch b, and preference i  Q, by assumption we have (b, t0 )                  i
(b, t+ ). Therefore, since cadet proposals to branches follow their submitted preferences, the set
of contracts available to any branch at any stage of the cumulative offer process is viable. That is,
whenever the increased cost contact (i, b, t+ ) of a cadet i  I is available for a branch b  B, so is
her base cost contract (i, b, t0 ).
    We first show that the mechanism COM- BR satisfies the five axioms. For the proofs of indi-
vidual rationality, non-wastefulness, lack of priority reversals, and enforcement of BRADSO policy, fix


                                                        53
      Q| I | .
      Individual rationality: No cadet i  I ever makes a proposal to a branch b at the increased cost
t+   under the cumulative offer process, unless her preferences are such that (b, t+ )                             i   . Hence
the mechanism            COM- BR       satisfies individual rationality.
      Non-wastefulness: For any branch b  B, unless there are already q contracts with distinct
cadets on hold, it is not possible for all contracts of any given cadet to be rejected at any stage of
                                                    BR . Hence the mechanism COM- BR satisfies
the cumulative offer process under the choice rule Cb
non-wastefulness.
                                                   - BR                         COM- BR
      Lack of priority reversals: Suppose that COM
                                               j        ( )                   i i       () for a pair of cadets i, j 
                                                                            COM - BR
I . Since the mechanism              COM- BR
                                        is individually rational,           j        ( )=. Let branch b  B and
             0 +                    COM- BR
cost t  {t , t } be such that j               ( ) = (b, t). Let k be the final step of the cumulative offer
                   COM- BR              COM- BR
process. Since j             ( ) i i             ( ), cadet i has proposed the contract (i, b, t) to branch
b at some step of the cumulative offer process, which is rejected by branch b (strictly speaking for
the first time) either immediately or at a later step. Since the proposed contracts remain available
until the termination of the procedure under the cumulative offer process,34 the contract (i, b, t)
is also rejected by branch b at the final Step k of the cumulative offer process. In contrast, since
       - BR
COMj        ( ) = (b, t), contract ( j, b, t) is chosen by branch b at the final step k of the cumulative
offer process. If the contract ( j, b, t) is accepted as one of the first q0         b positions under the choice
rule Cb , then ( j, b, t) b (i, b, t). Otherwise, if the contract ( j, b, t) is accepted as one of the last q+
        BR                  0
                                                                                                                     b
positions under the choice rule Cb     BR , then ( j, b, t )  + (i, b, t ). In either case we have j  i, proving
                                                             b                                           b
that the mechanism        COM - BR has no priority reversals.
      Enforcement of the BRADSO policy: First suppose that cadets i, j  I are such that iCOM- BR (
                                   - BR                                      - BR
) = (b, t+ ) and (b, t0 ) j COMj        ( ). The relation (b, t0 ) j COMj             ( ) implies that cadet j
has proposed the contract ( j, b, t0 ) to the branch b at some step of the cumulative offer process,
which is rejected by branch b either immediately or at a later step. Let k be the final step of the
cumulative offer process. Since the proposed contracts remain available until the termination of
the procedure under the cumulative offer process, the contract ( j, b, t0 ) is also rejected by branch b
at the final Step k of the cumulative offer process. More specifically, it is rejected by the choice rule
CbBR at the final Step k both for the first q0 positions using the native priority order  0 and for the
                                             b                                                     b
last q+
      b  positions using  the BRADSO     policy w +
                                                  b . In contrast, contract ( i , b , t ) is chosen  by branch b
                                                                                             +
at the final Step k of the cumulative offer process using the BRADSO policy wb . Therefore,

                               iCOM- BR ( ) = (b, t+ ), and
                                                   - BR                    =        (i, t + ) b
                                                                                              +
                                                                                                ( j, t0 ).                 (40)
                               ( b, t0 )   j   COM
                                               j        ( )

                                                         - BR
      Next suppose that cadets i, j  I are such that COM
                                                     j        ( ) = ( b, t0 ), ( b, t + )                    i   iCOM- BR ( ),
          +
(i, t + ) b  ( j, t0 ), and moreover, let cadet j be the lowest b -priority cadet with an assignment of
  COM- BR
j           ( ) = (b, t0 ). The relation (b, t+ ) i iCOM- BR ( ) implies that cadet i has proposed the
     34 It   is this feature of the cumulative offer process that is emphasized in its name.


                                                                 54
contract ( j, b, t+ ) to the branch b at some step of the cumulative offer process, which is rejected
by branch b either immediately or at a later step. Let k be the final step of the cumulative offer
process. Since the proposed contracts remain available until the termination of the procedure
under the cumulative offer process, the contract ( j, b, t+ ) is also rejected by branch b at the final
                                                                                              BR at
Step k of the cumulative offer process. More specifically, it is rejected by the choice rule Cb
the final Step k even for the last q+                                    +
                                    b positions using the BRADSO policy wb . Therefore, since by
                            +
assumption we have (i, t+ ) b ( j, t0 ), cadet j must have received one of the first q0 positions using
                          0 . But since cadet j is the lowest  -priority cadet with an assignment
the native priority order b                                   b
       - BR
of COM
   j        ( ) = (b, t0 ), that means no cadet has received any of the last q+
                                                                              b positions at the base
cost of t0 . Therefore, since COM- BR satisfies non-wastefulness,

          - BR
      COM
                                       
      j        ( ) = ( b, t0 ),        
      (b, t+ ) i iCOM- BR ( ), and          =           i  I : iCOM- BR ( ) = (b, t+ )    = q+
                                                                                             b .    (41)
                                   
                +
      (i, t + ) b ( j, t0 )
                                   


Relations (40) and (41) imply that mechanism COM- BR satisfies enforcement of the BRADSO policy.


   Strategy-proofness: Our model is a special case of matching problems with slot-specific priorities
                 ¨
by Kominers and Sonmez (2016). Hence strategy-poofness of the mechanism COM- BR is a direct
corollary of their Theorem 3, which proves strategy-proofness of the cumulative offer mechanism
more broadly for matching problems with slot-specific priorities.

   Uniqueness: We prove uniqueness via two lemmata.

Lemma 3. Let X , Y  A be two distinct allocations that satisfy individual rationality, non-wastefulness,
enforcement of BRADSO policy, and have no priority reversals. Then there exists a cadet i  I who receives
non-empty and distinct assignments under X and Y.

Proof of Lemma 3: The proof is by contradiction. Fix           Q| I | . Let X , Y  A be two distinct
allocations that satisfy individual rationality, non-wastefulness, enforcement of BRADSO policy, and
have no priority reversals. To derive the desired contradiction, suppose that, for any cadet i  I ,

                                  Xi = Yi   =       Xi =  or Yi = .                                 (42)

   Pick any branch b  B such that Xb = Yb . Let j  I be the highest b -priority cadet who is
assigned to branch b either under X or under Y but not both. W.l.o.g., let cadet j be assigned to
branch b under allocation X but not under allocation Y . By relation (42),

                                                Yj = .

Since allocation Y satisfies non-wastefulness, there exists a cadet k  I who is assigned to branch b



                                                   55
under allocation Y but not under allocation X . By relation (42),

                                                  Xk = ,

and therefore, by choice of cadet j, cadet k has lower b -priority than cadet j. Moreover, since
allocation Y has no priority reversals and Yj = , we have

                                               Yk = (b, t+ ),                                     (43)

and since allocation Y satisfies (condition 1 of) the axiom enforcement of BRADSO policy, we have

                                            ( k, t+ ) b
                                                      +
                                                        ( j, t0 ).                                (44)

Also relation (43) and individual rationality allocation Y imply

                                              ( b, t + )    k   .                                 (45)

Define
                                      I   { i  I : Xi = ( b , t + ) } .

Since allocation X satisfies (condition 2 of) the axiom enforcement of BRADSO policy, the assump-
tion X j  {(b, t0 ), (b, t+ )} and relation (44) imply

                                                 | I  | = q+
                                                           b ,                                    (46)

and since allocation X has no priority reversals and Xk = , for any i  I  ,

                                                    i b k.                                        (47)

But since Yk = (b, t+ ) by relation (43) and | I  | = q+
                                                       b by relation (46), there exists a cadet    I
with Y = (b, t+ ) = X , and therefore by relation (42) we have,

                                                  Y = .                                           (48)

Since X satisfies individual rationality and  I  , we have

                                              ( b, t + )        ,

and therefore relations (43), (47), and (48) imply allocation Y has priority reversals, giving us the
desired contradiction and completing the proof of Lemma (3).                                       

Lemma 4. There can be at most one direct mechanism that satisfies individual rationality, non-
wastefulness, enforcement of BRADSO policy, strategy-proofness, and has no priority reversals.


                                                       56
Proof of Lemma 4: The proof of the lemma is inspired by a technique introduced by Hirata and
Kasuya (2017). Towards a contradiction, suppose there exists two distinct direct mechanisms 
and  that satisfy individual rationality, non-wastefulness, enforcement of BRADSO policy, strategy-
proofness, and have no priority reversals. Let the preference profile                                                     Q| I | be such that,

   1. (      )    = (        ),   and

   2. the aggregate number of acceptable contracts between all cadets is minimized among all
      preference profiles                     Q| I | such that ( ) = ( ).

Let X = (         )    and Y = (                   ).   By Lemma 3, there exists a cadet i  I such that

   1. Xi = ,

   2. Yi = , and

   3. Xi = Yi .

Since both allocations X and Y satisfy individual rationality,

                                                                                                          
                                                                Xi      i           and Yi                i   .

W.l.o.g., assume
                                                                                            
                                                                       Xi      i    Yi      i       .

Construct the preference relation                               i    Q as follows:
   If Xi = (b, t0 ) for some b  B, then

                        ( b, t0 )        i              i       (b , t )           for any (b , t )  B × T \ {(b, t0 )}.

Otherwise, if Xi = (b, t+ ) for some b  B, then

           ( b, t0 )    i   ( b, t + )        i                 i   (b , t )         for any (b , t )  B × T \ {(b, t0 ), (b, t+ )}.

Since Xi      
              i   Yi    
                        i    and (b, t0 )                   
                                     (b, t+ ), the preference relation
                                                            i                                                         i   has strictly fewer acceptable
contracts for cadet i than the preference relation i .
   By strategy-proofness of the mechanism , we have

                                                                                                              
                                                            i (       i,    -i )     i   i (         i,       -i ),
                                                                     =Yi


and since no branch-cost pair (b , t )  B × T with Yi                                           i   (b , t ) is acceptable under          i , by individual
rationality of the mechanism  we have

                                                                                     
                                                                        i (    i,    -i )   = .                                                       (49)

                                                                                    57
Similarly, by strategy-proofness of the mechanism , we have

                                                                              
                                   i (   i,    -i )     i   i (        i,     -i ),
                                                                   = Xi

which in turn implies
                                                       
                                          i (     i,   -i )   = .                                                    (50)

But then, by relations (49) and (50) we have

                                                                            
                                    (     i,    -i )   = (        i,        -i ),


giving us the desired contradiction, since between all cadets the preference profile (                           )
                                                                                                           i,   -i   has
strictly fewer acceptable contracts than the preference profile                       .   This completes the proof of
Lemma 4.                                                                                                              
   Since we have already shown that COM- BR satisfies all five axioms, Lemma 4 establishes the
uniqueness, concluding the proof of Theorem 2.

Proof of Corollary 1: Since BRADSO-IC is implied by strategy-proofness, Corollary 1 is a direct
implication of Theorems 1 and 2.




                                                       58
                    Table 1: Branches and Applications for Classes of 2020 and 2021
                                                     Class of 2020                                      Class of 2021
                                   Number Assigned   Ranked First    BRADSO Willing   Number Assigned   Ranked First    BRADSO Willing
     Branch                             (1)               (2)            (3)               (4)               (5)            (6)
     Air Defense                         61                5              16                54                11              8
     Adjutant General                     2                57             30                19                43             25
     Armor                              112                80             19                97                75             34
     Aviation                           109               129             93                88               116              1
     Chemical                             2                9               9                 8                5               2
     Cyber                               40                42             32                40                51             40
     Engineer                           139               147             49               124               145             62
     Explosive Ordnance Disposal                                                            10                27              7
     Field Artillery                     173              147               17             154                77             17
     Finance                               1               6                16               5                8               6
     Infantry                            237              206               26             207               197             74
     Military Intelligence                58               72               92              65                87             58
     Military Police                      18               27               32              12                18             13
     Medical Services                      7               8                 0              19                27             28
     Ordinance                            36               37               30              14                19             23
     Quartermaster                        26               26               49              17                57             37
     Signal Corp                          43               67               60              44                26             22
     Transportation Corp                  25               24               27              17                5              10
     Total                              1089             1089              597             994               994            467



Notes. This table reports information on branches for the Class of 2020 and 2021. Number As-
signed equals the capacity of the branch. Ranked First is the number of cadets ranking the branch
as their highest rank choice. BRADSO Willing is the number of cadets who rank a BRADSO con-
tract at the branch anywhere on their rank order list. Explosive Ordnance Disposal was not a
branch option for the Class of 2020.




                                                                      59
     Figure 1: Comparison of Outcomes of the USMA-2006 and USMA-2020 Mechanisms




                             200
                             175
                             150
          Number of Cadets
                             125
                             100




                                                                                 85
                                                                                           75
                             75
                             50




                                           22.3       20.2
                             25




                                                                        18

                                   0
                             0




                                   USMA-2006 Mechanism                  USMA-2020 Mechanism

                                        Strategic BRADSOs                    BRADSO-IC Failures
                                        Detectable Priority Reversals



Notes. This figure reports Strategic BRADSOs, BRADSO-IC Failures, and Detectable Priority Re-
versals under the USMA-2006 and USMA-2020 Mechanisms. The leftmost three columns corre-
spond to outcomes under the USMA-2006 Mechanism averaging over six classes who participated
in the mechanism from 2014-2019. The rightmost three columns correspond to outcomes under
USMA-2020 Mechanism for the Class of 2020. A cadet has a Strategic BRADSO if she is assigned a
branch at base cost and would have still received that position at base cost if she did not indicate a
willingness to BRADSO at the branch. A cadet has a BRADSO-IC failure if she is assigned a branch
at increased cost, but would receive that branch at base cost if she did not indicate a willingness
to BRADSO at the branch. A cadet has an detectable Priority Reversal if she is assigned a branch
at base cost and another cadet with higher priority either receives that branch with BRADSO or is
assigned a strictly less preferred branch.




                                                              60
      Figure 2: BRADSO Ranking Relative to Non-BRADSO Ranking by Class of 2021
                300




                            272
         Number of Cadets
         100         200




                                                 78


                                  21                  17                24
                                       13                  6                               7
                                            2                  1             5   4   2         0   0   1
                0




                            1     2    3 4+     1 2 3 4+              1 2 3 4+         1       2   3 4+
                                          Number of Preferences After Non-BRADSO Choice

                                                                    First Branch Choice
                                                                    Second Branch Choice
                                                                    Third Branch Choice
                                                                    Fourth Branch Choice



Notes. This figure reports where in the preference list a branch is ranked with BRADSO relative to
where it is ranked without BRADSO. A value of 1 (2 or 3) indicates that the branch is ranked with
BRADSO immediately after (two places or three places after, respectively) the branch is ranked
at base cost. 4+ means that the a branch is ranked with BRADSO four or more choices after the
branch is ranked at base cost.




                                                               61
Figure 3: USMA-2006 and USMA-2020 Mechanism Performance under Truthful Strategies Sim-
ulated from Preference Data from Class of 2021


                                                                                                               204
                                                                                                       197
                            100 125 150 175 200




                                                                                                146
         Number of Cadets
                            75
                            50




                                                                             29            30
                                                           21       20
                            25




                                                  0
                            0




                                                      USMA-2006 Mechanism                   USMA-2020 Mechanism

                                                           Strategic BRADSOs                    BRADSO-IC Failures
                                                           Detectable Priority Reversals        Priority Reversals



Notes. USMA used the strategy-proof COM-BRADSO mechanism for the Class of 2021. This
figure uses data from the Class of 2021 on cadet preferences, branch priorities, and branch capaci-
ties to simulate the outcomes of the mechanisms USMA-2006 and USMA-2020. Since the strategy
spaces of the mechanisms USMA-2006 and USMA-2020 differ from that of the mechanism COM-
BRADSO, cadet strategies that correspond to truthful branch-preferences and BRADSO willing-
ness are are simulated from cadet preferences over branch-cost pairs under the COM-BRADSO
mechanism. Truthful strategies for the mechanisms USMA-2006 and USMA-2020 are constructed
from Class of 2021 preferences by assuming that a preference indicating willingness to BRADSO
at a branch means the cadet's strategy under the USMA-2006 and USMA-2020 mechanisms has
her willing to BRADSO. Strategic BRADSOs, BRADSO-IC Failures, and Detectable Priority Re-
versals are defined in Figure 1. To compute Priority Reversals, we compare a cadet's outcome
in the USMA-2006 or USMA-2020 mechanism to a cadet's preference submitted under the COM-
BRADSO mechanism. If a cadet prefers a higher ranked choice and has higher priority over a
cadet who is assigned that choice, then the cadet is part of a Priority Reversal.




                                                                                  62
    Figure 4: USMA-2020 Mechanism Performance Under Indicative and Final Strategies




                            200
                                                     178
                            175
                            150
         Number of Cadets
                            125




                                           112
                            100




                                                                                     85
                                                                                             75
                            75




                                   60
                            50
                            25




                                                                          18
                            0




                                  USMA-2020 (Indicative)                   USMA-2020 (Final)

                                          Strategic BRADSOs                    BRADSO-IC Failures
                                          Detectable Priority Reversals



Notes. This figure reports on the number of Strategic BRADSOs, BRADSO-IC failures, Detectable
Priority Reversals, and Priority Reversals under indicative strategies submitted in a dry-run of the
USMA-2020 mechanism and final strategies of the USMA-2020 mechanism for the Class of 2020.




                                                                63
Figure 5: USMA-2020 Mechanism Performance under Truthful Strategies Simulated from In-
dicative and Final Preference Data from Class of 2021


                                                                                                                          204
                                                                                                                197


                                100 125 150 175 200
                                                                                  190
                                                                         185


                                                                154
                                                                                                         146
             Number of Cadets
                                75
                                50




                                                                                                 30
                                                      19
                                25
                                0




                                                           USMA-2020 (Indicative)                     USMA-2020 (Final)

                                                                 Strategic BRADSOs                       BRADSO-IC Failures
                                                                 Detectable Priority Reversals           Priority Reversals



Notes. USMA used the strategy-proof COM-BRADSO mechanism for the Class of 2021. This fig-
ure uses data from the indicative and final rounds from the Class of 2021 on cadet preferences,
branch priorities, and branch capacities to simulate the outcome of the USMA-2020 mechanism.
Since the strategy space of the mechanism USMA-2020 differs from that of the mechanism COM-
BRADSO, cadet strategies that correspond to truthful branch-preferences and BRADSO willing-
ness are are simulated from cadet preferences over branch-cost pairs under the COM-BRADSO
mechanism. Truthful strategies are constructed from Class of 2021 preferences by assuming that
a preference indicating willingness to BRADSO at a branch means the cadet's strategy under the
USMA-2006 and USMA-2020 mechanisms has her willing to BRADSO. USMA-2020 (Indicative)
reports outcomes using strategies constructed from preferences submitted in the dry-run of COM-
BRADSO. USMA-2020 (Final) reports outcomes using strategies constructed from preferences sub-
mitted in the final run of COM-BRADSO.




                                                                                        64
      Figure 6: Number of BRADSOs Charged Across BRADSO Policies and Cap Sizes




                   150
                                                                                                                                       122
                                                                                                                       118
                                                                                                       109
                                                                                                                                         102
            BRADSOs Charged

                                                                                        98
                      100
                                                                                                                             95
                                                                         89
                                                                                                             85

                                                          72                                 75
                                                                              68                                                                  70
                                                                                                                                  65
                                                               57                                                 59
                                           55                                                     52
                                                47                                 46
            50




                                                                    44
                                                     38
                              30
                                   26 25
                   0




                                   5            15             25             35             45              55              65              75
                                                                         BRADSO Cap
                                                          Ultimate BRADSO                                    BRADSO-2021
                                                          BRADSO-2020



Notes. This figure reports on the number of BRADSOs charged for three BRADSO policies:
Ultimate BRADSO, BRADSO-2020, and BRADSO-2021 using data from the Class of 2021. The
BRADSO cap ranges from 5% to 75% of slots at each branch. Each outcome is computed by run-
ning COM-BRADSO given stated cadet preferences under different BRADSO policies and cap
sizes.




                                                                              65
B     Online Appendix: Supplementary Material
B.1    Individual-Proposing Deferred Acceptance

The USMA-2020 mechanism was based on the individual-proposing deferred acceptance algo-
rithm (Gale and Shapley, 1962). Given a ranking over branches, the individual-proposing deferred
acceptance algorithm (DA) produces a matching as follows.


          Individual-Proposing Deferred Acceptance Algorithm (DA)
          Step 1: Each cadet applies to her most preferred branch. Each branch b tenta-
          tively assigns applicants with the highest priority until all cadets are chosen or
          all qb slots as assigned and permanently rejects the rest. If there are no rejections,
          then stop.
          Step k: Each cadet who was rejected in Step k-1 applies to her next preferred
          branch, if such a branch exists. Branch b tentatively assigns cadets with the
          highest priority until all all cadets are chosen or all qb slots are assigned and
          permanently rejects the rest. If there are no rejections, then stop.

          The algorithm terminates when there are no rejections, at which point all tenta-
          tive assignments are finalized.


B.2    Cadet Survey Questions and Answers

In fall 2020, the Army administered a survey of cadets. This survey asked two questions related
to assignment mechanisms, one on cadet understanding of USMA-2020 and the other on cadet
preferences over assignment mechanisms. This section reports the questions and the distribution
of survey responses.

     Question 1. What response below best describes your understanding of the impact of volunteering to
BRADSO for a branch in this year's branching process?

    A. I am more likely to receive the branch, but I am only charged a BRADSO if I would have
       failed to receive the branch had I not volunteered to BRADSO. (43.3% of respondents)

    B. I am charged a BRADSO if I receive the branch, regardless of whether volunteering to
       BRADSO helped me receive the branch or not. (9.5% of respondents)

    C. I am more likely to receive the branch, but I may not be charged a BRADSO if many cadets
       who receive the same branch not only rank below me but also volunteer to BRADSO. (38.8%
       of respondents)

    D. I am more likely to receive the branch, but I do not know how the Army determines who is
       charged a BRADSO. (6.7% of respondents)

                                                   66
  E. I am NOT more likely to receive the branch even though I volunteered to BRADSO. (1.8
      percent of respondents)

   38.8% of cadets answered the correct answer (answer C). 43.3% of cadets believed that the 2020
mechanism would only charge a BRADSO if required to receive the branch (answer A)

   Question 2. A cadet who is charged a BRADSO is required to serve an additional 3 years on Active
Duty. Under the current mechanism, cadets must rank order all 17 branches and indicate if they are willing
to BRADSO for each branch choice. For example:

   · Current Mechanism Example:

         ­ 1: AV/BRADSO, 2: EN, 3: CY


Under an alternative mechanism, cadets could indicate if they prefer to receive their second branch
choice without a BRADSO charge more than they prefer to receive their first branch choice with a
BRADSO charge. For example:

   · Alternative Mechanism Example:

         ­ 1: AV, 2: EN, 3: AV/BRADSO, 4: CY


When submitting branch preferences, which mechanism would you prefer?

   · A. Current Mechanism (21.4% of respondents)

   · B. Alternative Mechanism (49.7% of respondents)

   · C. Indifferent (24.2% of respondents)

   · D. Do Not Understand (4.8% of respondents)




                                                   67
                             Table B.1: Mechanism Replication Rate

                                                                   Percent Correct
                       Total Applicants   Number Incorrect   Branch            BRADSO
     Applicant Class          (1)              (2)             (3)                 (4)
          2014               1006              28             97.2%              98.1%
          2015                976               4             99.6%             100.0%
          2016                951              11             98.8%              99.6%
          2017                944               2             99.8%             100.0%
          2018                963              11             98.9%              99.6%
          2019                931               4             99.6%             100.0%
          2020               1089               0            100.0%             100.0%
          2021                994               0            100.0%             100.0%
           All               7854              60             99.2%              99.7%

Notes. This table reports the replication rate of the USMA assignment mechanism across years.
The USMA-2006 mechanism is used for the Classes of 2014-2019, USMA-2020 mechanism is used
for the Class of 2020, and the COM-BRADSO mechanism is used for the Class of of 2021. Num-
ber incorrect are the number of cadets who obtain a different assignment under our replication.
Branch percent correct is the number of branch assignments that we replicate. BRADSO percent
correct is the number of BRADSO assignments we replicate.




                                                 68
