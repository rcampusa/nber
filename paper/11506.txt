                                  NBER WORKING PAPER SERIES




                             MATCHING AND PRICE COMPETITION

                                             Jeremy Bulow
                                             Jonathan Levin

                                          Working Paper 11506
                                  http://www.nber.org/papers/w11506


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                       June 2005




We thank Simon Board, Peter Coles, Michael Grubb, and Ron Siegel for their research assistance. We also
particularly thank Susan Athey, Jeffrey Ely, Amy Finkelstein, Paul Klemperer, Paul Milgrom, Muriel
Niederle, and Alvin Roth for helpful suggestions. Levin gratefully acknowledges support from the Hoover
nstitution and the National Science Foundation. The views expressed herein are those of the author(s) and
do not necessarily reflect the views of the National Bureau of Economic Research.

©2005 by Jeremy Bulow and Jonathan Levin. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including © notice, is given
to the source.
Matching and Price Competition
Jeremy Bulow and Jonathan Levin
NBER Working Paper No. 11506
July 2005
JEL No. D44, J41, L44

                                           ABSTRACT



We develop a model in which firms set impersonal salary levels before matching with workers.
Salaries fall relative to any competitive equilibrium while profits rise by almost as much, implying
little inefficiency. Furthermore, the best firms gain the most from the system while wages become
compressed. We discuss the performance of alternative institutions and the recent antitrust case
against the National Residency Matching Program in light of our results.



Jeremy Bulow
Stanford University
Graduate School of Business
Stanford, CA 94305 - 5015
and NBER
jbulow@stanford.edu

Jonathan Levin
Stanford University
Department of Economics
579 Serra Mall
Stanford, CA 94305-6072
and NBER
jdlevin@stanford.edu
                                         1. Introduction

    A recent antitrust suit charged that the National Resident Matching Program
suppresses the wages of medical residents. The match, which uses a Gale-Shapley
procedure to assign seniors in medical schools to residency programs in various med-
ical specialties, was developed for eﬃciency reasons, and on that score it appears to
do quite well.1 That is, the right residents appear to get assigned to pretty much the
right residency programs. At the same time, for young doctors who have just com-
pleted four years of medical school, salaries are low, averaging around $40,000 per
year, and compressed, and work hours are long, 80 hours a week in many programs.2
While salary diﬀerentials are only one way in which residency programs might com-
pete, the compression of salaries within programs, within specialties, and across fields
is remarkable, compared to the variation in pay among more senior doctors.
    We develop a model that shows why a market like that for medical residents is
likely to have the features described, namely good eﬃciency properties, salaries that
are below those in any competitive allocation, and severe compression in compensa-
tion. The key elements are two: competition is likely to be somewhat localized, with
hospitals basically competing against others like themselves, and hospitals cannot
easily make oﬀers that discriminate among candidates. The model does not argue
against a centralized match, but rather explains how the absence of personalized
prices can soften competition in a matching market.
    We consider a model in which both “hospitals” and “residents” are easily ranked
and match surplus exhibits increasing diﬀerences so that higher ranked hospitals place
more value on attracting higher ranked residents. Eﬃciency in this setting dictates
an assortative matching of hospitals and residents. To model competition, we assume
   1
      Alvin Roth and collaborators have written a fascinating series of papers documenting the history
of the match, the reasons for its success, and changes in its structure over time; key references include
Roth (1984), Roth and Xing (1994), and Roth and Peranson (1999). The first theoretical study of
matching algorithms is by Gale and Shapley (1962), who analyzed a “deferred acceptance” procedure
that is similar both to the procedure then used by the NRMP and to the one currently in use. Their
algorithm was extended to allow for endogenous price determination in two important papers by
Crawford and Knoer (1981) and Kelso and Crawford (1982). Hatfield and Milgrom (2005) unify and
extend many of the central results in the literature.
    2
      The antitrust case was dismissed in the summer of 2004 after Congress intervened on the side
of the hospitals. Discussions of the case include Chae (2003) and Miller and Greaney (2003).

                                                   1
that hospitals make oﬀers, with the hospital that makes the best oﬀer getting the
best resident and so on. An analogy would be to a condominium auction where
buyers make sealed bids and pay their own bids, with bidders receiving priority in
choosing units based on the rank order of their bids. As in the auction analogy,
we treat hospitals’ oﬀers as prices, but it is easy to re-interpret the oﬀers as non-
wage compensation or as investments hospitals make that provide utility to their
residents. Regardless of the interpretation, the crucial feature is the “all-pay” element
to competition. A hospital will pay its oﬀer regardless of the resident it actually
matches with; it cannot oﬀer 5x for the obstetrical Barry Bonds, but only x for the
obstetrical Mario Mendoza.3
    Were hospitals identical in their distributions for the value of obtaining the best
residents this system would lead to eﬃcient matching and the same average wages as a
system with personalized oﬀers, although it would create some fairly mild compression
in salaries. But the reality is that hospitals have a sense of where they stand, with
more highly ranked hospitals eﬀectively competing for more highly ranked candidates.
This, combined with the all-pay feature, introduces a slight ineﬃciency and dampens
competition.
    In a competitive equilibrium salaries adjust so that each hospital prefers to hire
the resident who is its eﬃcient match. The salary diﬀerential between two “adjacent”
residents must lie between the extra amount that the lower and higher of the firms
with which the residents will match would pay for the superior worker. So the surplus
of the better hospital will exceed that of the lower hospital by an amount somewhere
between the value of output the two firms obtain with the lesser worker and the value
of output the two firms obtain with the superior worker.
    With impersonal price setting followed by matching, there is a pricing equilibrium
in mixed strategies. In this equilibrium, the expected surplus of the better hospital
exceeds that of the lesser hospital by more than the diﬀerence in output with the
superior worker. The reason is that the salary a hospital must oﬀer to obtain in
expectation its appropriately matched resident is less than what the hospital ranked
just below it would have to oﬀer to match in expectation with the same resident.
   3
    Most readers will recognize Bonds as baseball’s greatest player over the past 15 years; Mendoza
is best known for his struggles in keeping his batting average above his weight; a standard that has
become known as the “Mendoza Line”.


                                                 2
This is because the higher ranked hospital will, on average, oﬀer higher wages than
the lower ranked hospital and therefore the higher ranked hospital faces less stiﬀ
competition than the lower ranked hospital.4 Therefore, the diﬀerence in the expected
surplus of two adjacent hospitals reflects the maximum diﬀerential in a competitive
equilibrium, plus the savings from the lower wage that the higher firm must pay
relative to its near competitor to achieve its expected eﬃcient quality worker.
    The incremental surplus diﬀerential between two adjacent hospitals may be small,
but it cumulates: the surplus of a highly ranked hospital exceeds its competitive
surplus by at least the sum of all the incremental diﬀerentials between the hospitals
below it. So the highest ranked hospitals get the most extra surplus. Of course the
entire increase in surplus must come from wages rather than increased productivity,
since the competitive equilibrium is eﬃcient. In fact, given that the pricing and
matching structure allows some ineﬃciency to creep into the match, resident wages
will decline in aggregate by more than the increase in hospital surplus. Because
competition is localized, however – hospitals may oﬀer wages that match them with
residents a bit above or below their competitive match, but no one will oﬀer a wage
that leads to a massively ineﬃcient allocation – the ineﬃciency in the market will
be small. Finally, because the top hospitals gain the most, and they match with the
best residents, the residents whose salaries are most reduced are the very best ones.5
This accounts for the compression in the wage distribution.6
    While we frame the paper in terms of the residency match, we do not intend to
cast negative aspersions on the NRMP. First, the match was designed for eﬃciency
purposes; our model suggests that eﬃciency should be high even relative to an ideal-
   4
     To continue with our baseball analogy, the Yankees have an easier schedule than the Tampa Bay
Devil Rays because they face all the same opponents except that the Yankees get to play the Devil
Rays and the Devil Rays must play the Yankees.
   5
     Such as Jon’s wife, Amy, whose long hours inspired his work on this topic.
   6
     One might expect the average wage problem to be mitigated by entry, though compression
would still remain. In the resident market the accreditation process that also limits the size of
residency programs may eﬀectively limit entry. One might also expect the compression problem to
be “relieved” in part by the exodus of high quality workers from the market. Mitigating this, a
residency lasts for a relatively small fraction of most doctors’ careers and part of the lower wages
that residents receive may return to older doctors, meaning that part of the eﬀect of the system may
be a steepening of doctors’ experience-income profile, particularly for the best doctors.



                                                 3
ized competitive equilibrium.7 Second, we have chosen our assumptions for analytical
simplicity and transparency, not as the most realistic possible model of the residency
match. For instance, we abstract from a broad range of heterogeneity in preferences,
such as locational preferences, that the NRMP process may be well-suited to address.
    Our goal is really to make a set of points about markets like the residency market
that share certain salient characteristics. In many professions (law, investment bank-
ing and academic economics being three important examples though not necessarily
in that order) employers may reasonably conclude that it is in their interest to pay
the same wage to all incoming employees. It is this non-discrimination feature that
we regard as the focus of our study.8
    The outline of the paper is as follows: In section 2 we present a numerical example
that illustrates the basic results in our model and an approach for solving for equilib-
rium. Section 3 briefly describes the model itself and section 4 describes the pricing
equilibrium. Sections 5 and 6 describe the competitive equilibrium, the high profits,
and the salary compression that the model produces. Section 7 explains why the
market has very good performance in terms of eﬃciency. Section 8 argues that while
some of the wage compression would occur in a symmetric model in which firms are
limited to one wage oﬀer, most of the compression and all of the reduction in average
wages is due to the combination of the one wage restriction and the asymmetry of
the firms. Section 9 discusses some extensions to the model and concludes.


                        2. A “Multiplication Game” Example
   7
      In practice, some arguably similar markets without centralized matches perform quite poorly.
See, for example, Avery, Jolls, Posner, and Roth (2001) on the law clerkship market. It is also worth
noting that in the context of medical fellowships, where a centralized matching process is used for
some, but not all sub-specialties, salaries appear to be low across the board and do not seem to
depend much on whether the market is centralized (Niederle and Roth, 2003).
    8
      The model also has some relevance for the study of multi-unit auctions and price discrimination
in product markets (see Bulow and Levin, 2003, for discussion). Within firms, the model also suggests
why tournaments might allow the most talented workers to obtain the most responsible jobs and a
disproportionate share of the firm’s surplus. It suggests that adopting such a pay mechanism might
help the firm attract more of the most talented workers. We have not pursued this extension in any
detail, however.




                                                 4
    Consider a market with N firms (hospitals) 1, 2, ..., N , and a corresponding set of
workers (residents), also labeled 1, 2, ..., N . Each firm is interested in matching with
one worker and wants to maximize the value of its output less the amount it pays
its worker. Firm n’s output if it hires worker m has value m · n, so we refer to this
example as the “multiplication game”. Workers are strictly interested in maximizing
their wage and have a reservation wage of zero. All this information is common
knowledge. Here we explicitly solve the example for N = 3.
    In a competitive equilibrium, firms take the wages of each worker as given, each
worker prefers to work, and each firm hires optimally at the given wages. A com-
petitive equilibrium must have eﬃcient matching, which here means that firm 1 will
hire worker 1, firm 2 will hire worker 2 and firm 3 will hire worker 3. Worker 1’s
wage will be p1 ∈ [0, 1], so that firm and worker 1 each get positive surplus. Worker
2’s wage must be high enough that firm 1 does not want to pay the extra amount
needed to hire worker 2 over worker 1, but low enough that firm 2 does want to pay
it. Therefore p2 − p1 must be greater than 1, firm 1’s value for the incremental worker
quality, but less than 2. So p2 ∈ [p1 + 1, p1 + 2]. Similarly, worker 3’s wage will be
p3 ∈ [p2 + 2, p2 + 3]. The lowest competitive wages are therefore 0,1, and 3. At these
wages the hospitals receive their maximum competitive surpluses of 1,3, and 6.9 The
total surplus is 14.
    In our model of the match, each firm simultaneously oﬀers a wage. These wages
are observed by the workers prior to matching. At the matching stage, each firm
ranks the workers in order of their ability and each worker ranks the firms in order of
their oﬀers. Given the alignment of preferences, we do not specify an exact process
for the match (it could for instance be an NRMP-style algorithm); we simply assume
that worker 3 ends up with the firm that has oﬀered the highest wage, worker 2 with
the firm that oﬀered the second highest wage, and worker 1 with the firm oﬀering the
lowest wage. What we will show in the context of this example is a set of results –
sub-competitive average wages, wage compression, and a high level of eﬃciency –
that we generalize later in the paper.
    In solving this example, we know immediately that firms will use mixed strate-
  9
    Because of the symmetry of the problem the highest possible competitive wages are 1,3, and 6
and the lowest hospital surpluses are 0,1, and 3.



                                               5
gies.10 If there were a pure strategy equilibrium, the middle bidder would oﬀer only
a fraction of a penny above the low bidder and the high bidder only a fraction of
a penny above the medium bidder. But then the lower two bidders would benefit
by raising their bids to attract the top worker. This same logic implies that in a
mixed equilibrium there will be no “atoms” in firm strategies, except possibly at a
salary of zero. We also know that zero must be the lowest salary oﬀered. A firm
making the lowest oﬀer is sure to obtain the lowest worker, so having the lowest oﬀer
be strictly positive is inconsistent with profit maximization.11 What is more, every
salary between zero and the maximum must be potentially oﬀered by at least two
firms. If no firms make oﬀers on some range of salaries, no firm will make an oﬀer at
the top of the range as it would prefer to make an oﬀer at the bottom. Similarly, if
only one firm makes oﬀers on some range, it would do better to always make oﬀers
at the bottom of the range. Finally, we prove in the Appendix that each firm will
randomize over an interval of prices.
    Given these preliminaries, the only real issue is whether at the top and bottom
wages only two or all three firms will randomize. It is easiest to start at the top. If
only two firms randomize over the highest wages, it must be firms 2 and 3 because
they care more about quality. If they are the only active firms, they must randomize
with densities q2 = 13 and q3 = 12 in order that both are indiﬀerent over making
  10
      An alternative approach would be to allow some randomness in hospital valuations, so that
for example hospital j might value an extra unit of worker quality as an amount in the range
[j, j + ], ≤ 1, the exact amount known only to it. This would still allow for unambiguous rankings
of hospitals and would not aﬀect the expected competitive equilibrium prices, but would imply
that each hospital would choose a pure strategy, bidding an amount that looked random to its
competitors but was based on the hospital’s private information about its value. In the limit as
  → 0 the equilibrium of the pure strategy game would be just the equilibrium of the mixed strategy
game. The reason we take the mixed strategy approach is that it leads to simpler exposition and
cleaner proofs. In the mixed strategy equilibrium hospitals choose piecewise linear bidding strategies,
while the pure strategy equilibrium is characterized by the piecewise solution of sets of non-linear
diﬀerential equations. Michael Grubb used Matlab to calculate the equilibrium in the pure strategy
game with = 1, and with diﬀerent numbers of firms. The numerical results extremely similar to
the mixed strategy equilibrium and virtually the same with larger numbers of firms.
   11
      To nail down this argument we must account for the possibility that some firms oﬀer the lowest
salary with discrete possibility. There cannot be two firms with “atoms” at the bottom, however,
or one would want to bid a bit higher; and if there is just one, our argument applies to this firm.


                                                  6
diﬀerent oﬀers in the range. Because q3 + q2 = 56 , firm 1 gains less than one unit of
quality for every extra dollar spent in this range, so it has no incentive to compete
against firms 2 and 3 at the highest salary levels.12
    Because q3 = 12 > q2 the range of wages over which 2 and 3 randomize must be
from the maximum wage, call it p, down to p − 2. Within the range [ p − 2, p] firm
3 will exhaust its total bidding probability (a density of 12 times a range of 2).Firm
2, however, will exhaust only 23 of its probability (a density of 13 over a range of 2).
This leaves firm 2 with a probability mass of 13 to employ over a range in which it
competes with firm 1.
    In the range where 1 and 2 compete q1 = 12 and q2 = 1 to make the other indiﬀerent
between making diﬀerent oﬀers. Given 2’s density and its available probability the
length of the range must be 13 . Since we know that the minimum wage must be zero,
this means that 1 and 2 compete in a range of (0, 13 ] and therefore 2 and 3 compete in
a range of [ 13 , 73 ]. Competing with firm 2 over the range (0, 13 ] only exhausts 12 · 13 = 16
of firm 1’s probability mass, which implies that it will bid 0 with probability 56 .




                                                     Firm 1:
                   1                                 Firm 2:
                                                     Firm 3:

                 1/2
                 1/3



                       0    1/3                                      7/3

                    Figure 1: Equilibrium in the Multiplication Game

  12
    Another way to say this is to note that if we solved for the q1 , q2 and q3 densities that would
simultaneously make all firms indiﬀerent across a range of prices, we would find q1 < 0.



                                                 7
   The equilibrium in the three-firm example can be summarized as follows, with
comparison to the competitive equilibrium that is most favorable to the firms in
parentheses:
                     Table 1. The Multiplication Game
                           Wages                          Profits
                      Worker 1 0.02      (0)        Firm 1 1.00       (1)
                      Worker 2 0.73      (1)        Firm 2 3.67       (3)
                      Worker 3 1.56      (3)        Firm 3 6.67       (6)
                       Total   2.31      (4)         Total 11.33      (10)
      The key results that will hold more generally are that wages are reduced and
compressed but that the match is pretty eﬃcient. In the example, almost four fifths of
the reduction in expected wages goes to increased profits, while one fifth is deadweight
loss. Results are similar with larger numbers of firms. In the multiplication game
with N = 16 expected output in our game declines from a competitive level of 1496 to
1487, while wages decline by over twenty times that amount, from between 680 and
816 in a competitive equilibrium to 496. By comparison, collusion among the firms
on a zero wage and random assignment of workers would yield 50 cents of eﬃciency
loss for every dollar of wage decline.13
      Not only do firms do better on average than in competitive equilibrium, every
firm benefits. In the firm optimal competitive equilibrium, firm n hires worker n at
a competitive salary pn , leaving it with profit n · n − pn . In the match, firm n may
not get worker n, but there is a price p̂n in the support of firm n’s oﬀer distribution
at which firm n gets worker n in expectation. Therefore firm n’s equilibrium profit
is n · n − p̂n and the diﬀerence between n’s equilibrium profit and its competitive
profit is pn − p̂n . We found above that (p1 , p2 , p3 ) = (0, 1, 3), while in the match
(p̂1 , p̂2 , p̂3 ) = (0, 1/3, 7/3). So pn − p̂n ≥ 0 and every firm makes excess profit.
      We want to explain why this is true and why the diﬀerence is larger for higher-
ranked firms. Firm 1 is easy. In the match equilibrium, firm 1 gets worker 1 for sure
by oﬀering p̂1 = 0, which is also the price for worker 1 in competitive equilibrium.
  13
     One might argue that any reasonable centralized market mechanism would probably do very
well compared to a random match, so that the real eﬃciency of an NRMP-type system is its ability
to create such a market. Our point here is that the ratio of the amount redistributed from workers
to firms to the amount of ineﬃciency is very large.


                                                8
So p̂1 = p1 . Now the key feature of (the lowest) competitive prices is that each firm
n − 1 is indiﬀerent between paying pn to hire worker n and paying pn−1 to hire worker
n − 1. Thus pn − pn−1 = ∆n−1 · [n − (n − 1)] = ∆n−1 . In the match, the prices
p̂n−1 and p̂n are both in the support of firm n − 1’s oﬀers, so firm n − 1 is indiﬀerent
between oﬀering p̂n−1 and oﬀering p̂n . But while paying p̂n−1 allows firm n − 1 to get
worker n − 1 in expectation, paying p̂n gets firm n − 1 an expected quality less than
n. For instance, firm 1 expects worker quality 1/3 if it oﬀers p̂2 = 1/3. The reason
firm n − 1 expects lower quality than firm n conditional on oﬀering p̂n (or any other
price) is that in equilibrium firm n makes higher oﬀers than firm n − 1, so n − 1 faces
tougher competition. The upshot is that p̂n − p̂n−1 = ∆n−1 · [ξ n−1,n − (n − 1)], where
ξ n−1,n is the expected worker quality that firm n − 1 gets by oﬀering p̂n . But because
ξ n−1,n ≤ n, it follows that p̂n − p̂n−1 ≤ pn − pn−1 .
    This logic demonstrates several points that will be true more generally. First,
because p̂1 = p1 and p̂n − p̂n−1 ≤ pn − pn−1 , every firm makes at least as high a profit
in the match as it does in a competitive equilibrium. Second, the price diﬀerentials
cumulate, so that firm n makes all the additional profit of firm n−1 plus a little more.
Finally, the price diﬀerence for the top two firms is the same as in the competitive
equilibrium. Because p̂N must be the highest price oﬀered in equilibrium, firm N − 1
and firm N both expect to get the highest ranked worker by oﬀering this price, so
p̂N − p̂N−1 = pN − pN−1 . Apart from this, the diﬀerences are strict so long as the
firms have diﬀerent values for worker quality.
    Another way to think of why the price a firm will pay for high quality will be low
is to think about the equilibrium conditions that determine the price that workers
can expect to receive for providing higher quality. In the three-firm example, firm
1 would not bid against 2 and 3 because the implicit price of increasing its quality
was between 1 and 2 (1.2). In a 100 firm example, firm 100 competes only against
firms 87 to 99 for the top worker, which means that the implicit price of quality for
a non-bidder in the region is between 86 and 87. In a competitive equilibrium, we
would observe firm 100 paying prices of 87 to 99 to beat out these same competitors.
    The fact that higher-ranked firms make higher oﬀers in equilibrium also leads to
relatively eﬃcient equilibrium matching. The key force here is that firms compete
directly only against firms that are similar, so competition is localized. In the three
firm example, firm 3 always makes a higher oﬀer than firm 1, so the best worker

                                           9
can fall only one place from his eﬃcient assignment. With a hundred firms, firm 100
always makes a higher oﬀer than firms 1 through 86, so the best worker can fall no
more than 13 places. In this case, firm 100 obtains an average quality of 96.75, and
all other firms attain something even closer to their eﬃcient quality. This suggests
that larger markets will be very eﬃcient, a point we develop in Section 7.


                                        3. The Model

    Our general model has N firms and N workers.14 Each firm wants to hire a single
worker. Firm n’s surplus from hiring worker m is v(n, m) = ∆n · m, where ∆N ≥
... ≥ ∆1 ≥ 0. Each firm that hires a worker pays a salary. If firm n hires worker m at
a salary p, firm n’s net utility is v(n, m) − p, while worker m’s utility is p. A firm or
worker that fails to match receives zero utility. These preferences, and the workers’
abilities, are commonly known to the firms.
    The market unfolds in three stages. Each firm simultaneously makes a salary oﬀer.
These oﬀers are observed by the workers. Matching follows. Workers rank firms by
their oﬀers, so the firm that makes the highest oﬀer obtains the most able worker, and
so on. To resolve ties, we assume that if several firms oﬀer the same salary, matching
is eﬃcient – the firm with the highest value for talent gets the preferred worker.
Once matching occurs, each firm pays its worker the salary it initially oﬀered. In
a pricing equilibrium, each firm chooses its oﬀer to maximize its expected surplus,
taking into account the matching process and the strategies of other firms. Note that
each firm is implicitly required to rank all workers, so that every firm will match with
a worker. This assumption is inconsequential in the multiplication game, but one can
construct examples where it is relevant for lower ranked firms.15
    Before solving for equilibrium, several points deserve emphasis. First, the model
allows some or all of the firms to have identical value for worker quality. The most
  14
     It is a simple generalization to make the number of firms and workers diﬀerent. Excess workers
simply would not match, so they are irrelevant. Excess firms force the minimum wage up to the
minimum competitive equilibrium wage for the bottom worker who matches, and therefore raise all
wages by exactly that amount.
  15
     We thank Jeﬀrey Ely and Amy Finkelstein for bringing this point to our attention. Our working
paper, Bulow and Levin (2003), provides a numerical example where firms may opt to pay nothing
and not match ex post.

                                                10
notable results, however, arise when there is some asymmetry between firms. Second,
the multiplicative form of match surplus usefully simplifies the equilibrium, but is not
essential. What is important is that v is increasing in m, so that workers are ranked
in terms of their ability, and that v has increasing diﬀerences in n and m, so that
firms are ranked in terms of how they value talent.
    Finally, we emphasize that although we model salaries as prices, we think of
each salary as encompassing job features such as responsibility, hours and training.
Indeed, one can view part of each firm’s expenditure on its worker as an investment
that makes the firm more attractive to workers.16 It is also plausible that some
firms are naturally more attractive to workers, and a simple version of this can be
accommodated as well. If all workers derive additional utility un from working for
firm n, we can let pn denote the total utility firm n oﬀers, of which it pays pn − un
as compensation. This modification will not change either the competitive equilibria
or the pricing and matching equilibrium.17 This being said, the model nonetheless is
somewhat restrictive in assuming that workers have homogenous preferences rather
than allowing for a broader degree of idiosyncrasy. We return to this point in the
concluding section.


                                  4. Pricing and Matching

    This section describes equilibrium salary oﬀers. We start with the basic structure
of the equilibrium, then proceed to the details. We defer a few technicalities to the
Appendix.
    The equilibrium, as in our example, involves mixed strategies. A mixed strategy
for firm n is a distribution Gn , where Gn (p) is the probability that n oﬀers a salary
less than or equal to p. We let gn denote the density for firm n’s oﬀer distribution. As
argued in the example, no firm can oﬀer a price above zero with discrete probability.
  16
     In the medical residency case, the investment might be improved facilities, better senior physi-
cians, more time for research or didactics, or more hospital support staﬀ to relieve the administrative
burden shared by residents.
  17
     It may be useful, however, for squaring the model with reality. For example, if un is viewed
as a career benefit from being placed at firm n, the model could be consistent with a top-ranked
university oﬀering a relatively low salary and still attracting outstanding junior faculty.


                                                  11
Also, we prove in the Appendix that in equilibrium each firm must randomize over
an interval of prices.
    We first establish the key qualitative feature of the equilibrium: higher ranked
firms make (stochastically) higher oﬀers.

Lemma 1 If ∆n ≥ ∆m , then in equilibrium firm n makes higher oﬀers than firm
m in the sense of first order stochastic dominance; for all p, Gn (p) ≤ Gm (p).

    Proof. Consider the returns to firm n to oﬀering p + dp rather than p. The
                                                                     P
benefit is the expected increase in worker quality, equal to ∆n · k6=n gk (p) · dp. The
cost is the additional salary dp. Compare this to the returns to firm m < n. Because
∆m ≤ ∆n , the only way firm m could have a greater (or even equal) incentive to make
the higher oﬀer is if gn (p) ≥ gm (p). Now suppose that in equilibrium firm n makes
oﬀers over some interval [p0 , p00 ]. Since firm n prefers oﬀering p00 to any higher price
and gn (p) = 0 above p00 , firm m must also prefer p00 to any higher price. Between p0
and p00 , firm n is indiﬀerent. This means that if firm m’s oﬀer interval overlaps with
firm n’s, then for any price p oﬀered by both firms, gm (p) ≤ gn (p). Below p0 , firm n
never makes oﬀers, but firm m might. If follows that 1 − Gn (p) ≥ 1 − Gm (p) for all
p, establishing the claim.                                                        Q.E.D.

    The logic behind Lemma 1 is that oﬀering a higher salary attracts a more qualified
worker (at least in expectation), but the higher salary must be paid regardless. Firms
that care more about quality focus more on the benefit and make higher oﬀers. If two
firms are symmetric, so ∆n = ∆m , then they use the same equilibrium strategy. But
if ∆n > ∆m , then n uses a strictly higher strategy: Gn (p) < Gm (p) for all p between
the lowest price oﬀered by m and the highest oﬀered by n.
    The monotonicity property means that, in equilibrium, firms make oﬀers over
staggered price intervals. This basic structure is depicted in Figure 2.




                                           12
                        Firm N
                        Firm N-1




                        Firm 2
                        Firm 1
                                                              Price


                                   Figure 2: Price Supports


    Now consider the “head-to-head” competition that occurs at some given price p.
If p is oﬀered in equilibrium, it is oﬀered by a consecutive set of firms l, ..., m. Each
of these firms must be just indiﬀerent to changing its oﬀer slightly away from p. So
for each n = l, ..., m,                  X
                                    ∆n ·    gk (p) = 1.
                                           k6=n

   By solving this system of equations, we obtain the firms’ oﬀer densities at p. For
each firm n = l, ..., m:

                                      1 X 1
                                            m
                                                   1
                          gn (p) =               −   ≡ qn (l, m).                             (1)
                                     m − l k=l ∆k ∆n
Conveniently, the oﬀer densities depend on the set of firms competing, but not on
p.18 Taking advantage of this, we define qn (l, m) to be firm n’s oﬀer density given
firms l, ..., m are competing. Note that qn (l, m) is increasing in n; that is, higher firms
“drop out” at a faster rate.
    Our next Lemma resolves the question of which firms compete head-to-head.
  18
    This is where the linear form of the surplus function comes into play: the incremental benefit
to getting worker 3 rather than 2 is the same as from getting 2 rather than 1.



                                                  13
Lemma 2 If firm m is the highest-ranked firm that oﬀers p, then firms l(m), ..., m
all oﬀer p, where:
                         l(m)≡ min {l : ql (l, m)>0} .                         (2)

So if firm m is the highest ranked firm to oﬀer p, we can write each firm n’s oﬀer
density at p as qn (m), where qn (m) ≡ qn (l(m), m) if l(m) ≤ n ≤ m, and qn (m) ≡ 0
otherwise.
   With these preliminaries, we can provide an algorithm to describe equilibrium
behavior. The algorithm generalizes the approach we used to solve the numerical
example of the previous section. We will let pN+1 denote the highest salary oﬀered,
and pn denote the lowest salary oﬀered by firm n.
   As in our earlier example, the algorithm starts at the top. On the interval below
pN+1 , firms l(N), ..., N compete head-to-head; and each firm’s oﬀer density is given
by qn (N ). Now, because qN (N) ≥ qn (N) for all n, firm N will “use up” its oﬀer
probability below pN+1 faster than other firms. So this top interval will have length
1/qN (N). Or, letting pN denote the lowest price oﬀered by N,

                               qN (N) · (pN +1 − pN ) = 1.

   What happens just below pN ? Provided that the firms are not all identical, lower-
ranked firms will have residual oﬀer probability that is not used up between pN and
pN+1 . Suppose for instance that ∆N−1 < ∆N . Then below pN , firms l(N −1), ..., N −1
compete head-to-head; and each firm’s oﬀer density is given by qn (N − 1).
   More generally, suppose firms m + 1, ..., N “use up” their oﬀer probability above
pm+1 , but firm m does not. Then between pm and pm+1 , firms l(m), ..., m compete
head-to-head; and each firm’s oﬀer density is given by qn (m). Firm m will use up its
oﬀer probability at its lowest oﬀer pm . By recursion,
                              X
                                 qm (n) · (pn+1 − pn ) = 1.
                              n≥m

    Given a starting point pN+1 , this process continues until we have specified the
behavior of firms 2, ..., N . At this point, there are two possibilities. If ∆1 = ∆2 , then
firms 1 and 2 must use identical strategies, so we have also specified firm 1’s behavior.



                                            14
If ∆1 < ∆2 , then firm 1 has some residual probability, so it oﬀers the lowest price
with discrete probability equal to:
                                             X
                                             N
                              G1 (0) = 1 −          q1 (n) · (pn+1 − pn ).
                                              n=2

In either case, the lowest price oﬀered by the two lowest firms must be zero, so
p1 = p2 = 0. Given this, we complete the derivation by adding up the diﬀerences
pn+1 − pn to obtain the highest price pN+1 .

Proposition 1 There is a unique pricing equilibrium. Letting qn (·) and p1 , ..., pN+1
and G1 (0) be defined as above, then for each firm n, and each non-empty interval
[pm , pm+1 ], gn (p) = qn (m) for all p ∈ (pm , pm+1 ].

    Figure 3 illustrates the equilibrium oﬀer distributions with five firms (using mul-
tiplication game payoﬀs). Only two firms mix concurrently over the lowest range of
prices, but more than two firms may mix over higher ranges of prices. Indeed the
“pool size” is increasing over the price range.19



                       Firm 1:              Firm 3:             Firm 5:
                       Firm 2:              Firm 4:
               1




               0
                   0    p3       p4    p5                                    p6

                             Figure 3: Equilibrium with Five Firms

  19
     In general, the “pool size” increases over the price range provided that ∆n is concave in n (or
at least less convex than an exponential curve xn ).

                                                    15
                             5. Competitive Equilibria

    In the model, as in the residency match, firms make salary oﬀers prior to match-
ing. An alternative would be to negotiate salaries in the process of matching. This
section describes the competitive equilibria that might arise from an idealized form of
negotiations and relates them to the Vickrey auction and a pricing equilibrium with
discriminatory oﬀers.
    A competitive equilibrium is a matching of firms and workers, and a salary for
each worker, that satisfies two conditions. First, it is individually rational; each firm
and worker get at least zero utility. Second, at the going worker salaries, each firm
prefers the worker with which it is matched to any other worker.
    There are a range of competitive equilibria. Each involves eﬃcient matching, but
salaries vary. Extending our earlier example, firm 1 must pay worker 1 an individually
rational salary p1 ∈ [0, ∆1 ]. Also the additional salary of worker n over worker n − 1
must be such that firm n−1 prefers to hire worker n−1 while firm n prefers worker n.
So for each n, pn − pn−1 ∈ [∆n−1 , ∆n ]. This puts a bound on competitive equilibrium
                                          P                                     P
salaries. Firm n must pay at least pFn = k<n ∆k , but not more than pW     n =     k≤n ∆k .
From the firms’ perspective, the best competitive equilibrium has salaries p1 , ..., pFN ;
                                                                                 F

the worst has salaries pW          W
                         1 , ..., pN .
    The firm-optimal competitive equilibrium is the same outcome one would get from
a Vickrey auction where the firms submit their values to a planner who eﬃciently
allocates the workers and sets prices so that each firm’s profit equals its marginal
contribution to social surplus. For this reason, we refer to firm n’s profit in the
firm-preferred competitive equilibrium as its Vickrey profit.
    The Vickrey or firm-optimal competitive outcome also arises as the equilibrium of
the pricing followed by matching model if firms are allowed to make discriminatory
oﬀers. In this version of the model, each firm n makes a contingent oﬀer to each
worker, so firm n’s oﬀer is a vector pn = (pn1 , ..., pnn ). Matching follows taking these
prices as fixed. Assuming the matching process always leads to a stable matching,
Bulow and Levin (2003) show that any equilibrium in prices that does not involve
weakly dominated strategies leads to the firm-optimal competitive equilibrium.


                               6. Profits and Salaries

                                            16
    This section compares firm profits and worker salaries in our model to competitive
equilibrium profits and salaries. We obtain three main results. First, each firm’s
equilibrium profit is at least as large as its profit in any competitive equilibrium.
Second, worker salaries are lower in aggregate than their competitive salaries. Finally,
worker salaries are compressed. Relative to competitive equilibrium, the worst worker
may benefit from the pricing and matching system, but salaries at the top are reduced.
    We start with firm profits. Let Πn (p) denote firm n’s expected profit if it oﬀers
p and other firms use their equilibrium strategies:
                                        "              #
                                             X
                          Πn (p) ≡ ∆n · 1 +      Gk (p) − p.
                                                     k6=n
                                                                P
If firm n oﬀers p, it expects to attract a worker quality of 1 + k6=n Gk (p) and to pay
p.20
     Firm n’s equilibrium profit Πn is equal to Πn (p) for any p in the support of n’s
equilibrium strategy. In contrast, firm n’s maximum competitive profit, or Vickrey
profit, is equal to:                            X
                                  Vn = ∆n · n −     ∆k .
                                                       k<n

    These two profits are exactly equal for the lowest ranked firm. In equilibrium,
firm 1 is willing to oﬀer zero and receive the lowest worker with certainty, so Π1 =
Π1 (0) = ∆1 . Similarly V1 = ∆1 .
    To compare profits more generally, we consider the profit diﬀerential between
adjacent firms. Let p̂n denote the price such that if firm n oﬀers p̂n , its expected
worker quality is n, its Vickrey quality. Such a price must exist in n’s oﬀer region:
when n makes its highest oﬀer, it expects to beat all firms k < n with certainty and
obtain at least worker n; on the other hand, when n makes its lowest oﬀer, it expects
to lose to all firms k > n with certainty and obtain no better than worker n. So p̂
must lie between these two extremes. Moreover, firm n − 1 must also oﬀer p̂n , or else
n would expect quality strictly greater than n when it oﬀered p̂n .
  20
                                                        P
     To see that firm n’s expected worker quality is 1 + k6=n Gk (p), note that n will get worker 1
if p is the lowest oﬀer and will move up one worker for every competing firm that makes an oﬀer
below p. The competing oﬀers are independent and the probability that k makes an oﬀer below p is
Gk (p).


                                                17
   The diﬀerence in equilibrium profits between firms n and n−1 is Πn (p̂n )−Πn−1 (p̂n ).
Noting that oﬀering p̂n gets firm n an expected worker quality of n and firm n − 1 an
expected worker quality of n + Gn (p̂n ) − Gn−1 (p̂n ), we have

               Πn − Πn−1 = ∆n · n − ∆n−1 · [n + Gn (p̂n ) − Gn−1 (p̂n )] .

Substituting and re-arranging,

            Πn − Πn−1 = (∆n − ∆n−1 ) · n + ∆n−1 · [Gn−1 (p̂n ) − Gn (p̂n )] .

The first term is exactly Vn −Vn−1 , the diﬀerence in the Vickrey profits of n and n−1.
The bracketed part of the second term is the diﬀerence between the worker quality
that firms n and n − 1 expect conditional on oﬀering p̂n ; the entire second term is
the value of this diﬀerence to firm n − 1. Because firm n − 1 makes lower oﬀers than
firm n in equilibrium, it expects lower worker quality than does firm n conditional
on oﬀering p̂n , so the second term is positive and is strictly positive provided that
∆n > ∆n−1 and p̂ < p. Therefore Πn − Πn−1 ≥ Vn − Vn−1 , typically with strict
inequality.
    So equilibrium profit and Vickrey profit are the same for the lowest firm, but
if ∆2 > ∆1 , firm two’s equilibrium profit is strictly higher than its Vickrey profit,
and the same is true for every firm n > 2. Moreover, if ∆n+1 > ∆n , the diﬀerence
between the Πn and Vn increases for higher ranked firms. For the very top two firms,
the diﬀerence ceases to increase. That is, the extra profit that firm N makes over
firm N − 1 in equilibrium is the same as the diﬀerence between their Vickrey profits.
This occurs because p̂N = p, and GN−1 (p) = GN (p) = 1.
    We summarize as follows.

Proposition 2 All firms have expected equilibrium profits greater than their Vickrey
profits. Moreover, the diﬀerence cumulates: the lowest firm obtains no extra profit,
while the highest firm sees the biggest increase.

    To re-iterate, the key force is that low ranked firms are less aggressive in equilib-
rium than high ranked firms. So firm n not only derives greater value from a given
worker than firm n − 1, it also expects, conditional on oﬀering a given salary, to
receive a better worker. This creates a larger profit diﬀerential between firms than in

                                           18
a competitive equilibrium where n’s extra profit relative to n − 1 cannot exceed the
diﬀerence in their values for worker n.
    Now consider the workers’ perspective. Because there is mixing, firms and workers
may not be eﬃciently matched. So the expected equilibrium surplus is less than the
eﬃcient competitive equilibrium surplus. Because firm profits are higher, worker
salaries must be lower in the aggregate.
    Not every worker is necessarily worse oﬀ. The worst worker expects a non-zero
salary in equilibrium, which improves on her Vickrey salary of zero (though it may
or may not be lower than her highest possible competitive salary). The best worker,
however, not only expects a lower than competitive salary, in equilibrium she never
receives an oﬀer as high as her lowest possible competitive salary. We provide some
quantitative examples in the next section to show that this diﬀerence is often quite
large.

Proposition 3 The aggregate surplus that accrues to workers in equilibrium is strictly
less than in any competitive allocation. Moreover, wages are compressed; the worst
worker does better and the best worker does worse than under competition.

    Propositions 2 and 3 generalize to the case where match surplus is not simply
multiplicative. Suppose that firm n’s value for worker m is given by v(n, m), where v is
increasing in m and has increasing diﬀerences in (n, m). (Recall that v has increasing
diﬀerences if for all m0 > m, v(n, m0 ) − v(n, m) is increasing in n.) This specification
includes the multiplicative case v(n, m) = ∆n · m, as well as cases where firms have
increasing or decreasing returns to worker quality. We show in the Appendix that the
qualitative features of the equilibrium are preserved in this more general model and
establish the following result.

Proposition 4 Suppose firm values are given by v(n, m), where v is increasing in m
and has increasing diﬀerences in (n, m). Then equilibrium firm profits exceed Vickrey
profits, while equilibrium worker salaries are less than Vickrey salaries on aggregate
and more compressed.


                      7. Local Competition and Eﬃciency


                                           19
    This section examines market eﬃciency. Low-ranked firms may outbid higher-
ranked firms in equilibrium, but because firms compete “locally” against similar op-
ponents, the ineﬃciency this creates is limited. Relative to competitive equilibrium,
there is far more redistribution of surplus than loss of surplus. To expand on this
point, we approximate both market eﬃciency and firm profits and show that the
surplus redistribution is an order of magnitude larger than market ineﬃciency.
    We focus for simplicity on the case where firm values are ∆n = n/N 2 , so a match
between firm n and worker m generates surplus v(n, m) = (m · n)/N 2 .21 The nor-
malization ensures that each match generates a surplus between 0 and 1, and that
an eﬃcient assignment always generates a per-firm surplus of approximately 1/3 pro-
vided N is suﬃciently large.22 This set-up is equivalent to one where both firm
values and worker qualities are uniformly located on the unit interval at locations
1/N, 2/N, ..., N/N . In the latter interpretation, a larger market is one where the
spacing of both firms and workers is denser.
    We first address the extent to which competition is local. As part of our derivation
of equilibrium, we characterized the highest and lowest-ranked firms that make any
given oﬀer. We show in the Appendix that if firm n is the lowest firm to make some
                                                             √
oﬀer p, then the highest firm to oﬀer p is approximately n+ 2n. That is, the number
of higher-ranked firms that firm n could conceivably outbid – the “pool size” of firm
                √
n – is roughly 2n.
                                                         ¯      √ ¯
Lemma 3 Suppose ∆n = n/N 2 . If ρ(n) ≡ l−1 (n) − n, then ¯ρ(n) − 2n¯ < 1.

    Now consider the expected eﬃciency loss in equilibrium relative to an eﬃcient
assortative match. If firm n makes a higher oﬀer than firm m > n in equilibrium,
this creates a surplus loss of ∆m − ∆n (because this “switch” moves n up one unit
of worker quality, generating an additional ∆n in surplus, but moves m down a
corresponding unit, costing ∆m ). The expected per-firm ineﬃciency in equilibrium is
the cost generated by all such displacements, weighted by the probability that they
  21
   The results in this section generalize, with similar conclusions, provided 1/∆n is convex in n.
                                               P                  PN n2
   The last claim follows because S(N ) = N1 N
  22                                                            1
                                                  n=1 v(n, n) = N
                                                                               1
                                                                     n=1 N 2 ≈ 3 . Here and below we
                            1
                              P N   nα
                                            1
employ the approximation N n=1 N α ≈ α+1 .




                                                20
occur, and divided by the total number of firms. That is,

                          1 XX
                            N −1 N−n
                 I(N) =             (∆n+k − ∆n ) · Pr [n beats n + k] .
                          N n=1 k=1

    Our pool size result implies that the probability that firm n beats firm n + k
must be zero for any k > ρ(n). Moreover, for any 0 < k < ρ(n), we know that in
equilibrium firm n + k must make stochastically higher oﬀers than firm n. Therefore
1/2 provides a (very) conservative upper bound on the probability that firm n beats
firm n + k. Using these observations to substitute for the probabilities in the above
expression, and noting that ∆n+k − ∆n = k/N 2 , we have
                            N−1 ρ(n)
                          1 XX k 1         1 X n
                                             N−1
                                                         1
                   I(N) <            2
                                       · ≈          2
                                                      ≈    .
                          N n=1 k=1 N 2    N n=1 2N     4N

That is, the per-firm ineﬃciency disappears at a fast 1/N rate. As we noted, the
approximation is conservative; our numerical calculations suggest somewhat less in-
eﬃciency, though of the same order of magnitude.
   Next consider the magnitude of redistribution. From the previous section we know
that
                             X
                             n−1
                   Πn − Vn =     ∆m · [Gm (p̂m+1 ) − Gm+1 (p̂m+1 )] .
                               m=1

How large is the diﬀerence between Gm (p̂m+1 ) and Gm+1 (p̂m+1 )? Intuitively, in a
large market, the support of firm m’s oﬀer distribution is very nearly [pm , pm+ρ(m) ],
with p̂m at the midpoint of this support. If we approximate the density of firm m’s
                                                               p−pm
oﬀer distribution as being linearly increasing, so gm (p) = pm+ρ(m) −pm
                                                                        (other functional
forms such as a uniform density yield the same answer), we find that Gm (p̂m+1 ) −
Gm+1 (p̂m+1 ) is of the order 1/ρ(m). This intuitive argument is confirmed by numerical
simulations. Thus
                                                                √ 3/2
                              X
                              n−1
                                         1     Xn−1
                                                     m 1          2n
                  Πn − Vn ≈       ∆m ·       ≈        2
                                                        √    ≈          .
                              m=1
                                       ρ(m) m=1 N         2m      3N 2

   This already provides a rough sense of equilibrium wage compression. In a market
with N firms and workers, with ∆n = n/N 2 , the competitive equilibrium salary of
worker N is at least 1 − VN = 12 − 2N1
                                       . In contrast, the highest salary that could

                                           21
possibly be oﬀered to worker N in equilibrium is 1 − ΠN . The diﬀerence between
                                            √     √
these salaries is ΠN − VN , or approximately 2/(3 N).
   For the average firm, the diﬀerence between equilibrium expected profit and com-
petitive profit is

                         1 X
                            N
                                            1 1          1
                  E(N) =       (Πn − Vn ) ≈      ρ(N)3 ≈ √ .
                         N n=1              15 N        5 N

As the number of firms becomes large, the per-firm excess profits disappear, but at
     √
a 1/ N rate that is much slower than the rate at which the per-firm ineﬃciency
disappears. The amount by which the average worker salary falls relative to the
                                                                            √
competitive benchmark, E(N) + I(N), also disappears at the slower 1/ N rate.
    So relative to competitive equilibrium, profits rise and salaries fall by an order of
magnitude more than the change in surplus. In this sense, equilibrium generates far
more re-distribution than ineﬃciency. We summarize the discussion in the following
Proposition.

Proposition 5 Suppose that ∆n = n/N 2 . As the market size increases, the per-
firm ineﬃciency is of the order 1/N, while the amounts by which the average firm
profit exceeds the competitive level and the average worker salary falls short of the
                                     √
competitive level are of the order 1/ N.

    As the market becomes very large, equilibrium becomes approximately eﬃcient
in the sense that virtually 100% of the total possible surplus is realized. Indeed, in
the limiting case when firm values and worker qualities are continuously distributed
on the unit interval, there is a pure strategy equilibrium in which each firm oﬀers the
salary it would pay in the firm-optimal competitive equilibrium, or Vickrey allocation.
    It is perhaps useful to calibrate the magnitude of our results for reasonably sized
markets. To this end, assume firm values are ∆n = 100n/N 2 , where we multiply by
100 to avoid messy decimals. As the number of firms increases from 10 to 100 to
1000, the per-firm eﬃcient surplus stays roughly constant (38.5 with 10 firms, 33.8
with 10 firms and 33.4 with 1000 firms), as does the average firm Vickrey profit (22
with 10 firms, 17.2 with 100 firms and 16.7 with 1000 firms). The ineﬃciency from a
match equilibrium falls rapidly from 0.4 per firm to 0.03 to 0.003, so that with 100
firms the ineﬃciency already is less than 1% of the possible surplus. Excess profits

                                           22
also fall, from 4.8 per firm to 2.2 to 0.8, but more slowly. With 100 firms, the average
firm makes an equilibrium profit that is 13% more than its Vickrey profit.
    As discussed above, the gains and losses are largest at the top. With 100 firms,
the top firm expects a profit of 55.2 in the match and 50.5 in the Vickrey auction,
more than twice the extra profit of the average firm. The top worker expects a wage
of 49.5 in the Vickrey auction, and 43.9 in the match. This wage reduction is similar
to what the top worker would suﬀer if the six top firms in the Vickrey auction, with
values of 95 to 100, were replaced by firms who had values of zero. In absolute terms,
her salary is depressed two and a half times the amount of the average worker.


                        8. The Role of Nondiscrimination

    It is tempting to attribute our results entirely to the fact that firms do not target
their salary oﬀers. On this account, firms are less aggressive because they must make
oﬀers without knowing precisely whom they are hiring. This argument is incomplete,
however. While nondiscrimination does generate salary compression, it cannot on its
own account for an aggregate reduction in salaries. Rather, it is the combination of
the salary-setting process and asymmetries between firms that depresses competition.
    It is perhaps easiest to see this in the context of an example. Imagine two worlds.
In the first, firms draw their values independently and privately from a uniform dis-
tribution on [0, N + 1]. In the second, firm values are drawn without replacement
from {1, 2, ..., N }. The latter is our multiplication game model.
    The environments are parallel in the following sense. In both, the expected value
of the top firm is N, the expected value of the second firm is N − 1, and so on.
Moreover, the Vickrey allocations are identical in expectation. The nth firm has
expected value n, matches with worker n, and pays the sum of the lower valuations,
                           P
equal in expectation to n−1   k=1 k. Given this, we denote aggregate expected surplus,
profits and wages in the Vickrey auction by S, V and W .
    Now consider what happens if the firms set salaries simultaneously, with the best
worker going to the top oﬀer and so on. In the first case, firms have symmetric
beliefs about the values of their competitors. There is a symmetric pure strategy
equilibrium, in which each firm makes an oﬀer that depends monotonically on its
value for quality. Expected salaries are compressed relative to the Vickrey auction:

                                           23
worker N expects a lower salary in equilibrium than in a Vickrey auction,23 while
worker 1 expects a positive salary under the match and a zero salary under the
Vickrey auction. Nevertheless, because firms with higher values make higher oﬀers,
equilibrium is eﬃcient. The expected surplus is again S. Moreover, the Revenue
Equivalence Theorem implies that a firm with value ∆ expects precisely the same
profit in equilibrium as it does in a Vickrey auction. So aggregate firm profits and
worker salaries are given by V and W in expectation.
    In contrast, with asymmetric firms, the match leads to worker salaries that are
significantly lower in aggregate and substantially compressed relative to the Vickrey
allocation. Also, market surplus is lower. Thus, the combination of nondiscriminatory
pricing and asymmetry are what generate a departure from competitive outcomes.
This situation is summarized in Table 2.

                   Table 2. Asymmetry and Nondiscrimination
                                 Symmetric Firms Asymmetric Firms
                                 Vickrey Match Vickrey Match
              Market Surplus        S       S      S       <S
              Firm Profits          V       V      V       ÀV
              Worker Salaries      W        W      W       ¿W
              Salary Compression   No     Some     No       Yes


   We can connect this in a slightly more precise way to auction theory in the fol-
lowing way. The Vickrey auction is essentially a “second-price” environment, where
to get a worker firms have to pay just enough to outbid their next competitor. In
  23
     In the Vickrey auction, conditional on any top signal, the top firm will pay its expected Vickrey
cost conditional on its being the highest ranked firm. In the match, conditional on the same signal,
the firm will pay its unconditional expected payments in a Vickrey auction, averaging in the lower
costs it will have in cases where it is outbid for the top worker(s). This amount will clearly be
lower in the independent values case. The symmetric equilibrium is for a firm with value ∆ to oﬀer
p(∆) = 12 NN−1 (∆2 ). If ∆1 and ∆N are the first and N th order statistics, workers 1 and N expect
salaries p(∆N ) and p(∆1 ). A small amount of algebra shows that the expected highest oﬀer is
N (N −1) N+1                      N (N −1)
    2    N+2 , which is less than    2     , the expected Vickrey salary for worker N . For the bottom
worker the Vickrey salary is zero while the expected symmetric all-pay salary would be N−1   N +2 .




                                                 24
contrast, the match has an “all-pay” flavor. Auction theory tells us that the sym-
metric Vickrey and match auctions will both yield the same average profits for each
type of firm. Therefore, average wages must be unchanged as well and the scope for
compression is limited. In contrast, in an asymmetric match, equilibrium behavior
leads to progressively greater expected profits for the more highly ranked firms, and
therefore to progressively lower wages for the workers with whom the better firms
match. What is remarkable is the degree of redistribution in the model relative to
the very small amount of ineﬃciency.24


                             9. Conclusion and Extensions

    This paper has studied matching markets where firms compete by setting imper-
sonal prices prior to matching. The firms’ inability to target their oﬀers leads to
greater profits, with the highest quality firms benefiting the most. The implication
is that wages are both reduced and compressed, with compression beyond the mild
amount that occurs in all-pay competition among symmetric firms with the same
expected distribution of quality.
    A natural question concerns the robustness of our conclusions to the simplifying
assumptions of the model. One strong assumption is that the firms have perfect
information about the values of their competitors. We have also studied a variant of
the model where each firm n’s marginal value for worker quality is an independent
privately known draw from an atomless distribution on [tn , tn ]. In this version of
the model, there is a unique equilibrium in pure strategies. Assuming the values of
higher-ranked firms stochastically dominate those of lower-ranked firms, their oﬀers
will also be stochastically higher, as in the complete information model.
    A special case of the private information model is where each firm n’s value distri-
bution is tightly concentrated around ∆n . In this case, behavior in the pure strategy
equilibrium is observationally equivalent to behavior in the mixed strategy equilib-
rium of our complete information model (so this model purifies our mixed equilibrium
  24
     Baye, Kovenock and de Vries (1993) make another interesting observation about asymmetric
all-pay auctions, which is that revenue (here wages) may actually increase if a high value bidder is
excluded. They consider a single-unit auction, but their point would also apply here.



                                                25
in the sense of Harsanyi (1974)). The case where there is more uncertainty about com-
petitors’ values is harder to analyze analytically, but numerical computations confirm
that our results remain valid in that setting.
    A second extension that we have pursued with less success is to allow for more
general preferences on the part of workers. It would be interesting to know if our
results continue to hold in a setting where workers have idiosyncratic preferences over
firms, so for instance worker m’s value from matching with firm n is given by pn +εmn ,
where εmn an idiosyncratic component of utility that is privately known to worker m.
Such a model adds an additional layer of realism, but also substantial complication
because once firms are diﬀerentiated, they have some market power, making it non-
trivial to even define an appropriate competitive benchmark. Finding richer tractable
models of matching with non-cooperative price setting is an avenue for future work.


                 Appendix A: Derivation of the Equilibrium

   This appendix fills in the details omitted from Section 3. We derive the equilibrium
and prove uniqueness in a series of steps.


  1. (No Atoms) No equilibrium distribution Gn can have an atom at p > 0.

    Proof. Suppose firm m oﬀers p > 0 with discrete probability. Then no firm
n 6= m could optimally make an oﬀer in a small interval below p, say the interval
[p − ε, p) and no firm n < m will oﬀer p. But then firm m could not be optimizing
since it could achieve a strictly higher payoﬀ by oﬀering p − ε rather than p.


  2. (No Aggregate Gaps) In equilibrium at least two firms oﬀer each p between the
     minimum oﬀer 0 and maximum p.

   Proof. If there was an interval where only one firm was active, this firm could not
be optimizing. If there was an interval where no firms were active, then the lowest
ranked firm active just above this interval could not be optimizing.



                                          26
                                                                 P
  3. (Aggregate Oﬀers) If G1 , ..., Gn is an equilibrium, then   n   gn (p) is non-increasing
     in p.

    Proof. Let J be the set of firms that make oﬀers just below p. Then in order
that these firms be willing to make oﬀers just below p, it must be the case that for
            P               P
each j ∈ J, n6=j gn (p− ) ≥ n6=j gn (p+ ). Summing over this inequality over all firms
                  P            P
in J implies that n gn (p− ) ≥ n gn (p+ ).


  4. (No Gaps) Each equilibrium distribution Gn has interval support.

    Proof. Suppose to the contrary that n makes oﬀers just below p0 and just above
p00 but not in the interval (p0 , p00 ). Because n is optimizing, it must be the case that
for any p in this interval:
                                 X
                          ∆n ·         [Gm (p) − Gm (p0 )] ≤ p − p0 .
                               m6=n

with equality when p = p00 . Since n does not make oﬀers in this interval, the above
                        P
Lemma implies that m6=n gm (p) is non-increasing in this interval. This implies that
                         P
for any p in the gap, m6=n gm (p) = ∆1n . Now, since n does make oﬀers just above
                                   P
p00 , it must also be the case that m6=n gm (p) = ∆1n for all p just above p00 . But then
                                                                      P
gn (p) = 0 just below p00 and gn (p) > 0 just above p00 means that m gm (p) is equal
to ∆1n just below p00 and is strictly greater than ∆1n just above p00 , contradicting the
previous Lemma.


  5. (Monotonicity) If G1 , ..., GN is an equilibrium, and n > m, then Gn (p) ≤ Gm (p)
     for all p.

   Proof. Established in the text.


  6. (Price Distribution) Suppose that in equilibrium, firms l, ..., m oﬀer p. Then for
     each n = l, ..., m,
                                         1 X 1
                                              m
                                                         1
                              gn (p) =               −     .
                                       m − l k=l ∆k ∆n


                                           27
   Proof. Established in the text.


   7. (Supports) If pm < p is the highest oﬀer made by some firm m, it must be
      lowest oﬀer of some firm n > m.

    Proof. Suppose that firms m + 1, ..., n are active just above pm and m, ..., n are
active just below pm . Then result 6 above implies that the aggregate oﬀer rate just
              1
                 Pn      1                      1
                                                    Pn        1
below pm is: n−m    k=m ∆k and just above is n−m−1    k=m+1 ∆k . The latter is strictly
greater contradicting the fact that the aggregate oﬀer rate be non-increasing.


   8. If m is the highest firm making oﬀers on some interval, l(m) is the least.

    Proof. By monotonicity, the set of firms making oﬀers is consecutive. If l <
l(m), then clearly l, ..., m cannot be active since then gl (p) < 0 on this interval –
a contradiction. If instead l, ..., m are active where l > l(m), then for any p in this
          P               1
interval, n gn (p) > ∆l(m)  . Since the aggregate oﬀer rate does not include l(m) above
pl(m) and is non-increasing, it follows that l(m) would do strictly better by oﬀering a
price in this interval or at the top of it than by oﬀering pl(m) .

Proof of Proposition 1. We show that the conjectured strategies are the unique
equilibrium. Suppose they are used by each firm m 6= n. Then on the interval where
gn (p) > 0, the aggregate density of opponent oﬀers is 1/∆n by construction. So n is
indiﬀerent between all oﬀers in this region, the interval (pn , pn = pl−1 (n) ]. If p < pn ,
the aggregate density of opponent oﬀers is strictly greater than 1/∆n , so oﬀering pn
is strictly preferred to a lower oﬀer. And if p > pn the aggregate density of opponent
oﬀers is strictly less than 1/∆n , so oﬀering such a high price cannot be optimal. So
it is optimal for n to use the equilibrium strategy. In terms of uniqueness, it is quite
easy to see that the maximum and minimum oﬀers for each firm are uniquely pinned
down as in the text.                                                                Q.E.D.


                           Appendix B: Omitted Proofs




                                            28
Proof of Proposition 4. Let G1 , ..., Gn be equilibrium strategies. Arguments sim-
ilar to the above establish that these strategies have no atoms or gaps, and that if
n > m, then Gn (p) ≤ Gm (p) for all p. The proof now follows the earlier argument for
the linear case. By an analogous argument, V1 = Π1 = v(1, 0). Now, note that
                          Vn − Vn−1 = v(n, n) − v(n − 1, n).
The diﬀerence in the Vickrey profits of n and n − 1 is the diﬀerence in their value for
worker n. Define p̂n as the price that solves:
                               Πn (p̂n ) = v(n, n) − p̂n .
Such a price exists in the support of n’s equilibrium strategy because at the lowest
price n oﬀers, n gets at best worker n (and potentially lower) and at the highest price
n oﬀers, n gets at worst worker n (and potentially higher), and because Πn (·) will be
continuous in p. Moreover, n−1 must also oﬀer p̂n , and when it does, the distribution
of worker quality it expects is worse than the distribution n expects in the sense of
first order stochastic dominance. So,
                   Πn − Πn−1 > v(n, n) − v(n − 1, n) = Vn − Vn−1 ,
completing the proof.                                                          Q.E.D.

Proof of Lemma 3. By the definition of l(·),
                     1        1              1              1
            (ρ − 1)      ≥         + .... +     ≥ (ρ − 1)
                    ∆n−ρ   ∆n−ρ+1            ∆n           ∆n−ρ+1
Moreover, so long as 1/∆n is convex in n:
                µ              ¶
              1      1       1         1            1         1
            ρ            +       ≥         + .... +    ≥ρ            .
              2 ∆n−ρ+1 ∆n           ∆n−ρ+1          ∆n    ∆n−(ρ−1)/2
Combining these inequalities and re-arranging:
                        ρ(∆n−(ρ−1)/2 − ∆n−ρ ) ≥ ∆n−(ρ−1)/2
                             ρ(∆n − ∆n−ρ+1 ) ≤ 2∆n
Substituting for ∆n and re-arranging gives
                             ρ2 + 2ρ − 1 ≥ 2n ≥ ρ2 − ρ.
                                   √             √
From here, it is easy to show that 2n + 1 > ρ > 2n − 1.                        Q.E.D.


                                           29
                                  References

Avery, Christopher, Christine Jolls, Richard A. Posner, and Alvin E. Roth (2001),
    “The Market for Federal Judicial Law Clerks”, University of Chicago Law Re-
    view, 68(3), Summer, 793-902.

Baye, Michael R., Dan Kovenock and Casper G. de Vries, “Rigging the Lobbying
    Process: An Application of the All-Pay Auction,” American Economic Review,
    83(1), March 1993, pp. 289—294.

Bulow, Jeremy and Jonathan Levin, “Matching and Price Competition,” Stanford
    Institute for Economic Policy Working Paper, 2003.

Chae, Sanders H., “Is the Match Illegal?” The New England Journal of Medicine,
   348(4), January 23, 2003, pp. 352—356.

Crawford, Vincent P. and Elsie Marie Knoer, “Job Matching with Heterogeneous
    Firms and Workers,” Econometrica, 49(2), March 1981, pp. 437—450.

Gale, David and Lloyd Shapley, “College Admissions and the Stability of Marriage,”
    American Mathematical Monthly, 69, 1962, pp. 9—15.

Harsanyi, John, “Games with Randomly Disturbed Payoﬀs: A New Rationale for
    Mixed Strategy Equilibrium Points,” Int. J. Game Theory, 2, 1973, pp. 1—23.

Hatfield, John and Paul Milgrom, “Auctions, Matching and the Law of Aggregate
    Demand” American Economic Review, forthcoming 2005.

Kamecke, Ulrich, “Wage Formation in a Centralized Matching Market,” Interna-
   tional Economic Review, 39(1), February 1998, pp. 33—53.

Kelso, Alexander S. and Vincent P. Crawford, “Job Matching, Coalition Formation,
    and Gross Substitutes,” Econometrica, 50(6), November 1982, pp. 1453—1504.

Miller, Frances H. and Thomas L. Greaney, “The National Resident Matching Pro-
     gram and Antitrust Law,” Journal of the American Medical Association, 289(7),
     February 19, 2003, pp. 913—918.


                                       30
Niederle, Muriel and Alvin E. Roth, “What are the Eﬀects of a Match: Evidence
    from Internal Medicine,” mimeo, 2003.

Roth, Alvin E., “The Evolution of the Labor Market for Medical Interns and Resi-
    dents: A Case Study in Game Theory,” Journal of Political Economy, 92, 1984,
    pp. 991—1016.

Roth, Alvin E. and Elliott Peranson, “The Redesign of the Matching Market for
    American Physicians: Some Engineering Aspects of Economic Design,” Amer-
    ican Economic Review, 89(4), September 1999, pp. 748—780.

Roth, Alvin E. and Xing, Xiaolin, “Jumping the Gun: Imperfections and Institutions
    Related to the Timing of Market Transactions,” American Economic Review,
    84, September 1994, pp. 992—1044.




                                       31
