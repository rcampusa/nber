                                 NBER WORKING PAPER SERIES




                         THE COMPARATIVE ADVANTAGE OF CITIES

                                             Donald R. Davis
                                            Jonathan I. Dingel

                                          Working Paper 20602
                                  http://www.nber.org/papers/w20602


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                      October 2014




Thanks to Arnaud Costinot, Gilles Duranton, Vernon Henderson, Corinne Low, Joan Monras, Gianmarco
Ottaviano, Keeyoung Rhee, John Romalis, Bernard Salanié, Kurt Schmidheiny, Will Strange, Bruno
Strulovici, Daniel Sturm, Matt Turner, Jonathan Vogel, and seminar audiences at Barcelona GSE,
Berkeley, CURE, NBER ITI, NBER URB, New York Fed, NYU Stern, Penn State, Philadelphia Fed,
Princeton IES Summer Workshop, UCLA, and the Urban Economics Association for helpful comments
and suggestions. We thank Yuxiao Huang and especially Antonio Miscio for research assistance. Dingel
thanks the Institute for Humane Studies, the Program for Economic Research at Columbia University,
and the Kathryn and Grant Swick Faculty Research Fund at the University of Chicago Booth School
of Business for financial support. The views expressed herein are those of the authors and do not necessarily
reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2014 by Donald R. Davis and Jonathan I. Dingel. All rights reserved. Short sections of text, not
to exceed two paragraphs, may be quoted without explicit permission provided that full credit, including
© notice, is given to the source.
The Comparative Advantage of Cities
Donald R. Davis and Jonathan I. Dingel
NBER Working Paper No. 20602
October 2014
JEL No. F11,F14,R12,R13

                                              ABSTRACT

What determines the distributions of skills, occupations, and industries across cities? We develop a
theory to jointly address these fundamental questions about the spatial organization of economies.
Our model incorporates a system of cities, their internal urban structures, and a high-dimensional theory
of factor-driven comparative advantage. It predicts that larger cities will be skill-abundant and specialize
in skill-intensive activities according to the monotone likelihood ratio property. We test the model
using data on 270 US metropolitan areas, 3 to 9 educational categories, 22 occupations, and 21 manufacturing
industries. The results provide support for our theory's predictions.


Donald R. Davis
Department of Economics
Columbia University
1004 International Affairs Building
420 West 118th St.
New York, NY 10027
and NBER
drd28@columbia.edu

Jonathan I. Dingel
The University of Chicago
Booth School of Business
5807 South Woodlawn Avenue
Chicago, IL 60637
Jonathan.Dingel@chicagobooth.edu
1       Introduction
The distributions of skills, occupations, and industries vary substantially and systematically
across US cities. Figures 1 through 3 illustrate this with three selected examples for each.

    • Figure 1 plots the population of three educational attainment categories against total
      metropolitan area population.1 The left panel plots the data; the right panel plots a
      locally weighted regression for each category. While each educational category’s popu-
      lation rises with metropolitan population, the relative levels also exhibit a systematic
      relationship with city size. Comparing elasticities, the population with a bachelor’s
      degree rises with city size faster than the population of college dropouts, which in turn
      rises faster than the population of high-school graduates.

        Figure 1: Populations of three educational groups across US metropolitan areas
                                       5




                                                                                                                                5
                 Log skill population (deviation from mean)




                                                                                                          Log skill population (deviation from mean)
                                                         4




                                                                                                                                                  4
                                                    3




                                                                                                                                             3
                                          2




                                                                                                                                   2
                                  1




                                                                                                                           1
                          0




                                                                                                                   0
                 -1




                                                                                                          -1
                                       -2




                                                                                                                                -2




                                                              10    12         14         16     18                                                    10    12         14         16     18
                                                                   Metropolitan log population                                                              Metropolitan log population

                                                                      High school graduate                                                                         High school graduate
                                                                      College dropout                                                                              College dropout
                                                                      Bachelor's degree                                                                            Bachelor's degree

                                    Data source: 2000 Census of Population microdata via IPUMS-USA


    • Figure 2 plots metropolitan area employment in three occupational categories.2 Com-
      puter and mathematical employment rises with city size faster than office and admin-
      istrative employment, which in turn rises faster than installation, maintenance and
      repair employment. These sectors also differ in their employee characteristics. Na-
      tionally, the average individual in computer and mathematical occupations has about
    1
    We use the terms “cities” and “metropolitan areas” interchangeably, as is customary in the literature.
These three educational groups comprise about 70 percent of the employed metropolitan population (see
Table 1).
  2
    The occupations are SOC 49, 43, and 15 in the 2000 Occupational Employment Statistics data.


                                                                                                      1
      two more years of schooling than the average individual in office and administrative
      support and three more years than those in installation, maintenance, and repair.

         Figure 2: Employment in three occupations across US metropolitan areas

                                    6




                                                                                                                                 6
                                                     5




                                                                                                                                                    5
                Log employment (deviation from mean)




                                                                                                               Log employment (deviation from mean)
                                                 4




                                                                                                                                                4
                                             3




                                                                                                                                            3
                                       2




                                                                                                                                      2
                                 1




                                                                                                                                1
                           0




                                                                                                                          0
                      -1




                                                                                                                     -1
                 -2




                                                                                                                -2
                                    -3




                                                                                                                                 -3
                                    -4




                                                                                                                                 -4
                                                         10        12         14         16           18                                                10    12         14         16           18
                                                                  Metropolitan log population                                                                Metropolitan log population

                                                              Installation, maintenance, and repair                                                          Installation, maintenance, and repair
                                                              Office and administrative support                                                              Office and administrative support
                                                              Computer and mathematical                                                                      Computer and mathematical

                                                              Data source: Occupational Employment Statistics 2000


   • Figure 3 plots employment in three manufacturing industries.3 Employment in com-
     puter and electronic products rises with city size faster than machinery, which in turn
     rises faster than wood products. On average, computer and electronic employees have
     about one more year of education than machinery employees and two more years of
     education than wood products employees.
  3
    The industries are NAICS 321, 333, and 334 in the 2000 County Business Patterns data. Employment
levels cluster at particular values due to censored observations. See appendix D describing the data.




                                                                                                           2
  Figure 3: Employment in three manufacturing industries across US metropolitan areas




                                   6




                                                                                                                          6
                                   5




                                                                                                                          5
               -5 -4 -3 -2 -1 0 1 2 3 4




                                                                                                        -5 -4 -3 -2 -1 0 1 2 3 4
                Log employment (deviation from mean)




                                                                                                         Log employment (deviation from mean)
                                   -6




                                                                                                                          -6
                                   -7




                                                                                                                          -7
                                                       10      12         14         16        18                                               10    12         14         16      18
                                                              Metropolitan log population                                                            Metropolitan log population

                                                            Wood products                                                                             Wood products
                                                            Machinery                                                                                 Machinery
                                                            Computer and electronic products                                                          Computer and electronic products

                                                                    Data source: County Business Patterns 2000


Together, these three figures suggest that larger cities are skill-abundant and specialize in
skill-intensive activities. Explaining these patterns involves fundamental questions about the
spatial organization of economic activity. What determines the distribution of skills across
cities? What determines the distribution of occupations and industries across cities? How
are these two phenomena interrelated? In this paper, we develop a theory describing the
comparative advantage of cities that predicts such a pattern of skills and sectors in a manner
amenable to empirical investigation.
    As we describe in section 2, prior theories describing cities’ sectoral composition have
overwhelmingly focused on the polar cases in which cities are either completely specialized
“industry towns” or perfectly diversified hosts of all economic activities (Helsley and Strange,
2012). Yet Figures 2 and 3 make clear both that reality falls between these poles and that sec-
toral employment shares are systematically related to cities’ sizes. In this paper, we integrate
modern trade theory with urban economics by introducing a spatial-equilibrium model in
which the comparative advantage of cities is jointly governed by the comparative advantage
of individuals and their locational choices. Our theory both describes the intermediate case
in which cities are incompletely specialized and relates the pattern of specialization to cities’
observable characteristics. It makes strong, testable predictions about the distributions of
skills and sectors across cities that we take to the data.
    Section 3 introduces our model of a system of cities with heterogeneous internal geogra-
phies. Cities are ex ante homogeneous, so cross-city heterogeneity is an emergent outcome


                                                                                                    3
of the choices made by freely mobile individuals. Agglomeration economies make cities with
larger, more skilled populations exhibit higher total factor productivity (TFP). Locations
within cities exhibit heterogeneity in their desirability, as is customary in land-use models
(Fujita and Thisse, 2002, Ch 3). These cities are populated by heterogeneous individuals
with a continuum of skill types, and these individuals may be employed in a continuum of sec-
tors. Comparative advantage causes more skilled individuals to work in more skill-intensive
sectors, as in Sattinger (1975), Costinot (2009), and Costinot and Vogel (2010). There is
a complementarity between individual income and locational attractiveness, so more skilled
individuals are more willing to pay for more attractive locations and occupy these locations
in equilibrium, as in the differential-rents model of Sattinger (1979).
    In equilibrium, agglomeration, individuals’ comparative advantage, and heterogeneity
across internal locations within cities combine to deliver a rich set of novel predictions.
Agglomeration causes larger cities to have higher TFP, which makes a location within a larger
city more attractive than a location of the same innate desirability within a smaller city. For
example, the best location within a larger city is more attractive than the best location
within a smaller city due to the difference in TFP. Since more skilled individuals occupy
more attractive locations, larger cities are skill-abundant. The most skilled individuals in
the population live only in the largest city and more skilled individuals are more prevalent
in larger cities, consistent with the pattern shown in Figure 1. By individuals’ comparative
advantage, the most skill-intensive sectors are located exclusively in the largest cities and
larger cities specialize in the production of skill-intensive output. More skill-intensive sectors
exhibit higher population elasticities of sectoral employment, as suggested in Figures 2 and
3. Our model therefore predicts an urban hierarchy of skills and sectors. Under slightly
stronger assumptions, larger cities will be absolutely larger in all sectors.
    We examine the model’s predictions about the spatial distribution of skills and sectors
across US cities using data from the 2000 Census of Population, County Business Patterns,
and Occupational Employment Statistics described in section 4. We use two empirical ap-
proaches to characterize cities’ skill and sectoral distributions. The first involves regression
estimates of the population elasticities of educational, occupational, and industrial popula-
tions akin to those shown in Figures 1 through 3. The second involves pairwise comparisons
governed by the monotone likelihood ratio property, as per Costinot (2009).4 To characterize
sectoral size, we simply compare sectors’ employment levels across cities.
    Section 5 reports the results, which provide support for our model’s predictions about the
spatial pattern of skills and sectors. Characterizing skills in terms of three or nine educational
    4
        The distributions fc (σ) and fc0 (σ) exhibit the monotone likelihood ratio property if, for any σ > σ 0 ,
                  0
fc (σ)
fc0 (σ)  ≥ ffc0(σ   )
               (σ 0 ) .
             c




                                                         4
groups, we find that larger cities are skill-abundant. Among US-born individuals, cities’
skill distributions typically exhibit the monotone likelihood ratio property.5 Characterizing
sectors in terms of 21 manufacturing industries or 22 occupational categories, we find that
larger cities specialize in skill-intensive sectors. While sectors do not exhibit the monotone
likelihood ratio property as reliably as skills, there is systematic variation in cities’ sectoral
distributions that is consistent with the novel predictions of our theory.
    In short, when mobile individuals optimally choose locations and sectors, larger cities
will have more skilled populations and thereby comparative advantage in skilled activities.
These features are consistent with US data.


2       Related literature
Our contributions are related to a diverse body of prior work. Our focus on high-dimensional
labor heterogeneity is related to recent developments in labor and urban economics. Our the-
oretical approach integrates elements from the systems-of-cities literature, land-use theory,
and international trade. Our model yields estimating equations and pairwise inequalities de-
scribing the comparative advantage of cities that are related to prior reduced-form empirical
work in urban economics, despite a contrast in theoretical underpinnings.
    Our theory describes a continuum of heterogeneous individuals. A large share of systems-
of-cities theories describe a homogeneous population (Abdel-Rahman and Anas, 2004). Most
previous examinations of heterogeneous labor have only described two skill levels, typically
labeled skilled and unskilled.6 To describe greater heterogeneity, we assume a continuum
of skills, like Behrens, Duranton, and Robert-Nicoud (2014) and Davis and Dingel (2012).7
Understanding the distribution of skills across cities with more than two types is valuable
for at least three reasons. First, a large literature in labor economics has described impor-
tant empirical developments such as wage polarization, job polarization, and simultaneous
changes in between- and within-group inequality that cannot be explained by a model with
two homogeneous skill groups (Acemoglu and Autor, 2011). Second, these developments
have counterparts in cross-city variation in inequality and skill premia (Baum-Snow and
    5
     Relative to our theory, foreign-born individuals with less than a high-school education tend to dispro-
portionately locate in large US cities. Data from 1980, when foreign-born individuals were a substantially
smaller share of the US population, suggest this reflects particular advantages that large cities offer foreign-
born individuals rather than a general tendency for the unskilled to locate in large cities. See section 5.1.2.
   6
     We focus on theories in which labor is heterogeneous in an asymmetric sense (e.g. more skilled individuals
have absolute advantage in tasks or more skilled individuals generate greater human-capital spillovers). There
are also models describing matching problems, such as Helsley and Strange (1990) and Duranton and Puga
(2001), in which labor is heterogeneous in a horizontal characteristic.
   7
     Eeckhout, Pinheiro, and Schmidheiny (2014) describe a model with three skill types.



                                                       5
Pavan, 2013; Davis and Dingel, 2012). Third, we document systematic patterns in the cross-
city distribution of skills at high levels of disaggregation, which suggests that individuals
within broad skill categories are imperfect substitutes.8
    Our model is a novel integration of systems-of-cities theory with land-use theory. The
Alonso-Muth-Mills model of a single city describes a homogeneous population of residents
commuting to a central business district (Brueckner, 1987). In that model, higher rents
for locations with shorter commutes equalize utility across locations in equilibrium. When
individuals are heterogeneous and value the rent-distance tradeoff differently, the single
city’s equilibrium rent schedule is the upper envelope of individuals’ bid-rent functions (von
Thünen, 1826; Fujita and Thisse, 2002, Ch 3). Models of a system of cities have incorpo-
rated the Alonso-Muth-Mills urban structure in which all individuals are indifferent across
all locations within a city as a city-level congestion mechanism (Abdel-Rahman and Anas,
2004; Behrens, Duranton, and Robert-Nicoud, 2014). Our novel contribution is to describe
multiple cities with internal geographies when individuals are not spatially indifferent across
all locations.9 The essential idea is that individuals choosing between living in Chicago or
Des Moines simultaneously consider in what parts of Chicago and what parts of Des Moines
they might locate. Though these tradeoffs appear obvious, we are not aware of a prior formal
analysis. Considering both dimensions simultaneously is more realistic in both the descrip-
tion of the economic problem and the resulting predicted cross-city skill distributions. Since
we have a continuum of heterogeneous individuals, we obtain equilibrium rent schedules that
are integrals rather than upper envelopes of a discrete number of bid-rent functions.10
    Our model belongs to a long theoretical tradition describing factor-supply-driven compar-
ative advantage, dating from the Heckscher-Ohlin theory formalized by Samuelson (1948). In
international contexts, theorists have typically taken locations’ factor supplies as exogenously
endowed. Since individuals are mobile across cities, our theory endogenizes cities’ factor sup-
plies while describing how the composition of output is governed by comparative advantage.
Our approach to comparative advantage with a continuum of factors and a continuum of
sectors follows a large assignment literature and is most closely related to the recent work
of Costinot (2009) and Costinot and Vogel (2010).11 While these recent papers assume that
countries’ factor endowments exhibit the monotone likelihood ratio property, we obtain the
result that cities’ skill distributions exhibit this property as an equilibrium outcome. Thus,
   8
     A long line of empirical work describes cross-city variation in skill distributions in terms of the share of
residents who have a college degree (Glaeser, 2008). Most closely related to our work is Hendricks (2011),
who finds a weak relationship between cities’ industries and college shares.
   9
     In order to tractably characterize multiple cities with internal geographies and heterogeneous agents, we
neglect the business-vs-residential land-use problem studied by Lucas and Rossi-Hansberg (2002).
  10
     Our continuum-by-continuum approach to a differential rents model is in the spirit of Sattinger (1979).
  11
     Sattinger (1993) and Costinot and Vogel (2014) survey the assignment literature.


                                                       6
from a theoretical perspective, cities within a country constitute a natural setting to examine
these theories of comparative advantage. Moreover, the assumption of a common production
technology is likely more appropriate within than between economies, and data from a single
economy are likely more consistent and comparable than data combined across countries.
    The Heckscher-Ohlin model has been the subject of extensive empirical investigation in
international economics. A pair of papers describe regional outputs using this framework.
Davis and Weinstein (1999) run regressions of regional outputs on regional endowments, em-
ploying the framework of Leamer (1984), but they abstract from the issue of labor mobility
across regions. Bernstein and Weinstein (2002) consider the two-way links between endow-
ments and outputs, concluding that if we know regions’ outputs, we know with considerable
precision the inputs used, but not vice versa. For these reasons, traditional Heckscher-Ohlin
models did not appear a promising way to explain regional differences in sectoral composi-
tion.
    Our theory predicts systematic variation in sectoral composition in the form of an urban
hierarchy of sectors. Prior systems-of-cities theories have overwhelmingly described polarized
sectoral composition: specialized cities that have only one tradable sector and perfectly
diversified cities that have all the tradable sectors (Abdel-Rahman and Anas, 2004; Helsley
and Strange, 2012).12 A recent exception is Helsley and Strange (2012), who examine whether
the equilibrium level of coagglomeration is efficient. While Helsley and Strange (2012) make
minimal assumptions in order to demonstrate that Nash equilibria are generically inefficient
when there are interindustry spillovers, we make strong assumptions that yield testable
implications about the distribution of sectoral activity across cities.
    In addition to sectoral composition, our theory describes sectoral size. Theories of local-
ization and urbanization economies have contrasting predictions for cities’ absolute employ-
ment levels.13 In the canonical model of pure localization in Henderson (1974), specialized
cities of different sizes host different industries, yielding “textile cities” and “steel cities”.
Industrial specialization is the very basis for the city-size distribution, and one wouldn’t
  12
     An exception is central place theory, and our model relates to that theory’s results in interesting ways.
Our model’s equilibrium exhibits a hierarchy of cities and sectors, as larger cities produce a superset of the
goods produced in smaller cities. Models in central place theory, dating from Christaller (1933) through Hsu,
Holmes, and Morgan (2014), have attributed this hierarchy property to the interaction of industry-specific
scale economies and geographic market access based on the distance between firms located in distinct city
centers. Our model yields the hierarchy property in the absence of both. Our theory links the hierarchy
of sectors to a hierarchy of skills shaped by the internal geography of cities, neither of which have been
considered in central place theory.
  13
     The literature traditionally distinguishes two types of external economies of scale (Henderson, 1987,
p.929). Localization economies are within-industry, reflecting the scale of activity in that industry in that
location. Urbanization economies are general, reflecting the scale of all economic activity in a location.
Beyond scale, Lucas (1988) has stressed the composition of a location’s human capital. The agglomeration
process generating city-level productivities in our theory incorporates both scale and composition effects.


                                                      7
expect large cities to be larger in all industries. By contrast, in urbanization models with
a composite output, every industry is (implicitly) larger in larger cities. In addition to in-
troducing a multi-sector urbanization model in which larger cities are relatively larger in
skill-intensive sectors, we identify conditions under which larger cities are absolutely larger
in all sectors.
    A recent empirical literature has demonstrated significant agglomeration and coagglom-
eration of industries relative to the null hypothesis of locations being (uniformly) randomly
assigned in proportion to local population (Ellison and Glaeser, 1997; Duranton and Over-
man, 2005; Ellison, Glaeser, and Kerr, 2010). Our model’s predictions are consistent with
these findings. Since our theory says that sectors are ranked in terms of their relative employ-
ment levels, at most one sector could exhibit employment proportionate to total population.
All other sectors will exhibit geographic concentration. Similarly, since sectors more similar
in skill intensity will exhibit more similar relative employment levels, the cross-city distribu-
tion of sectoral employment will be consistent with skill-related coagglomeration. We obtain
these results in the absence of industry-specific scale economies and industry-pair-specific
interactions or spillovers.
    Our empirical work follows directly from our model’s predictions about the cross-city
distribution of sectoral activity relating cities’ and sectors’ characteristics. There is a small
empirical literature describing variation in cities’ sectoral composition, but this work has not
been tightly tied to theory. This is likely because theories describing specialized or perfectly
diversified cities provide limited guidance to empirical investigations of data that fall be-
tween the extremes. Holmes and Stevens (2004) survey the spatial distribution of economic
activities in North America. In examining the empirical pattern of specialization, they show
that agriculture, mining, and manufacturing are disproportionately in smaller cities, while
finance, insurance, real estate, professional, and management activities are disproportion-
ately in larger cities. However, they do not reference a model or theoretical mechanism
that predicts this pattern to be the equilibrium outcome. Seminal work by Vernon Hender-
son explores theoretically and empirically the relationship between city size and industrial
composition (Henderson, 1991). Henderson (1974) theoretically describes the polar cases of
specialized and perfectly diversified cities (Helsley and Strange, 2012), while our model pre-
dicts incomplete industrial specialization. Henderson has argued that localization economies
link cities’ and industries’ sizes, while our theory relies on urbanization economies and indi-
viduals’ comparative advantage.
    Despite these contrasts, our theory yields estimating equations for the population elas-
ticities of sectoral employment that are closely related to the reduced-form regressions of
employment shares on population that Henderson (1983) estimated for a few select indus-


                                               8
tries. Our theory provides an explicit microfoundation for these regressions for an arbitrary
number of sectors. Moreover, it predicts that we can order these elasticities by skill intensity.
It allows all these elasticities to be positive, consistent with larger cities being larger in all
sectors. It also describes how to compare the sectoral composition of groups of cities ordered
by size, nesting the comparison of large and medium-size cities made by Henderson (1997).
While our urbanization-based theory abstracts from the localization economies emphasized
by Henderson, we believe future work should seek to integrate these distinct approaches.


3     Model
We develop a general-equilibrium model in which L heterogeneous individuals choose a city,
a location within that city, and a sector in which to produce. There are C discrete cities
(c ∈ C = {1, . . . , C}), a continuum of skills, and a continuum of sectors. We study the
consequences for city total factor productivity and the cross-city distributions of skills and
sectors.


3.1    Preferences, production, and places
Individuals consume a freely traded final good. This final good is the numeraire and produced
by combining a continuum of freely traded, labor-produced intermediate goods indexed by
σ ∈ Σ ≡ [σ, σ̄]. These have prices p(σ) that are independent of location because trade costs
are zero. Locations are characterized by their city c and their (inverse) innate desirability
τ ∈ T ≡ [0, ∞), so they have rental prices r(c, τ ).
   Final-goods producers have a CES production function
                                    nˆ                    −1
                                                                        
                                                                     o −1
                              Q=             B(σ)[Q(σ)]        dσ           ,                (1)
                                       σ∈Σ

where the quantity of intermediate good σ is Q(σ),  > 0 is the elasticity of substitution
between intermediates, and B(σ) is an exogenous technological parameter. The profits of
final-goods producers are given by
                                             ˆ
                                  Π=Q−               p(σ)Q(σ)dσ.                              (2)
                                               σ∈Σ

    Heterogeneous individuals use their labor to produce intermediate goods. There is a mass
of L heterogeneous individuals with skills ω that have the cumulative distribution function
F (ω) and density f (ω) on support Ω ≡ [ω, ω̄]. The productivity of an individual of skill ω



                                                 9
in sector σ at location τ in city c is

                                   q(c, τ, σ; ω) = A(c)T (τ )H(ω, σ).                                    (3)

A(c) denotes city-level total factor productivity, which results from agglomeration and is
taken as given by individuals. T (τ ) reflects the productivity effects of location within the
city, which in a canonical case is the cost of commuting to the central business district.14 We
assume that T (τ ) is continuously differentiable and T 0 (τ ) < 0, which is just a normalization
that higher-τ locations are less desirable. We assume that the twice-differentiable function
H(ω, σ) is strictly log-supermodular in ω and σ and strictly increasing in ω.15 The former
governs comparative advantage, so that higher-ω individuals are relatively more productive
in higher-σ sectors.16 The latter says that absolute advantage is indexed by ω, so that higher-
ω individuals are more productive than lower-ω individuals in all sectors. Each individual
inelastically supplies one unit of labor, so her income is her productivity times the price of
the output produced, q(c, τ, σ; ω)p(σ).
    Locations within each city are heterogeneous, with the innate desirability of a location
indexed by τ ≥ 0. The most desirable location is denoted τ = 0, so higher values of τ denote
greater distance from the ideal location. The supply of locations with innate desirability
of at least τ is S(τ ).17 This is a strictly increasing function, since the supply of available
locations increases as one lowers one’s minimum standard of innate desirability. S(0) = 0,
since there are no locations better than the ideal. We assume S(τ ) is twice continuously
differentiable. Locations are owned by absentee landlords who spend their rental income
on the final good. The city has sufficient land capacity that everyone can reside in the
city and the least desirable locations are unoccupied. We normalize the reservation value of
unoccupied locations to zero, so r(c, τ ) ≥ 0.
    Individuals choose their city c, location τ , and sector σ to maximize utility. An individ-
ual’s utility depends on their consumption of the numeraire final good, which is their income
  14
     As written, T (τ ) indexes the innate desirability of the location for its productive advantages, but a
closely related specification makes T (τ ) describe a location’s desirability for its consumption value. The
production and consumption interpretations yield very similar results but differ slightly in functional form.
For expositional clarity, we use the production interpretation given by equations (3) and (4) in describing
the model in the main text and present the consumption interpretation in appendix A.
  15
     In R2 , a function H(ω, σ) is strictly log-supermodular if ω > ω 0 , σ > σ 0 ⇒ H(ω, σ)H(ω 0 , σ 0 ) >
H(ω, σ 0 )H(ω 0 , σ).
  16
     We refer to higher-ω individuals as more skilled and higher-σ sectors as more skill-intensive.
  17
     In the special case of the classical von Thünen model, τ describes physical distance from the central
business district and the supply is S(τ ) = πτ 2 .




                                                     10
after paying their locational cost:

                        U (c, τ, σ; ω) = A(c)T (τ )H(ω, σ)p(σ) − r(c, τ ).                    (4)

Denote the endogenous quantity of individuals of skill ω residing in city c at location τ and
working in sector σ by L × f (ω, c, τ, σ).
   City-level TFP, A(c), reflects agglomeration gains derived from both population size and
composition. A(c) is higher when a city contains a larger and more skilled population.
Denote the endogenous quantity of individuals of skill ω residing in city c by L × f (ω, c) ≡
    ´    ´
L × σ∈Σ τ ∈T f (ω, c, τ, σ)dτ dσ. Total factor productivity is
                                      ˆ                               
                             A(c) = J L                 j(ω)f (ω, c)dω ,                      (5)
                                                  ω∈Ω


where J(·) is a positive, strictly increasing function and j(ω) is a positive, non-decreasing
function.


3.2    Equilibrium
In a competitive equilibrium, individuals maximize utility, final-good producers and landown-
ers maximize profits, and markets clear. Individual maximize their utility by their choices
of city, location, and sector such that

                   f (ω, c, τ, σ) > 0 ⇐⇒ {c, τ, σ} ∈ arg max U (c, τ, σ; ω).                  (6)

Profit maximization by final-good producers yields demands for intermediates
                                                    p(σ) −
                                      Q(σ) = I                   ,                            (7)
                                                        B(σ)
             P ´ ´ ´
where I ≡ L c σ ω τ q(ω, c, τ, σ)p(σ)f (ω, c, τ, σ)dτ dωdσ denotes total income and these
producers’ profits are zero. Profit maximization by absentee landlords engaged in Bertrand
competition causes unoccupied locations to have rental prices of zero,

                                     ˆ       ˆ                              
                            0
                r(c, τ ) × S (τ ) − L                   f (ω, c, τ, σ)dωdσ       = 0 ∀c ∀τ.   (8)
                                        σ∈Σ   ω∈Ω


   Market clearing requires the endogenous quantity of individuals of skill ω residing in city
c at location τ and working in sector σ, L × f (ω, c, τ, σ), to be such that the supply of a


                                                   11
location type is greater than or equal to its demand, the demand and supply of intermediate
goods are equal, and every individual is located somewhere.
                                            ˆ         ˆ
                              0
                            S (τ ) ≥ L                       f (ω, c, τ, σ)dσdω          ∀c ∀τ              (9)
                                                ω∈Ω    σ∈Σ
                     X                          Xˆ           ˆ
            Q(σ) =          Q(σ, c) = L                             q(c, τ, σ; ω)f (ω, c, τ, σ)dωdτ   ∀σ   (10)
                      c∈C                       c∈C   ω∈Ω    τ ∈T

                              X                       Xˆ           ˆ
                    f (ω) =             f (ω, c) =                         f (ω, c, τ, σ)dτ dσ   ∀ω        (11)
                                  c∈C                 c∈C    σ∈Σ    τ ∈T

A competitive equilibrium is a set of functions Q : Σ → R+ , f : Σ × C × T × Ω → R+ ,
r : C × T → R+ , and p : Σ → R+ such that conditions (6) through (11) hold.


3.3     An autarkic city
We begin by considering a single city, denoted c, with exogenous population L(c) and skill
distribution F (ω). With fixed population, autarky TFP is fixed by equation (5). We describe
individuals’ choices of sectors and locations to solve for the autarkic equilibrium.
    To solve, we exploit the fact that locational and sectoral argument enters individuals’
utility functions separably. Individuals’ choices of their sectors are independent of their
locational decisions:

                 arg max A(c)T (τ )H(ω, σ)p(σ) − r(c, τ ) = arg max H(ω, σ)p(σ)
                       σ                                                             σ


Define the assignment function M (ω) = arg maxσ H(ω, σ)p(σ) so that we can write G(ω) ≡
H(ω, M (ω))p(M (ω)). By comparative advantage, M (ω) is increasing.18 By absolute advan-
tage, more skilled individuals earn higher nominal incomes and G(ω) is a strictly increasing
function.19
   Individuals’ choices of their locations are related to their sectoral decisions in the sense
that willingness to pay for more desirable locations depends on the skill component of income
G(ω). Within the city, individual choose their optimal location:

                                           max A(c)T (τ )G(ω) − r(c, τ )
                                            τ


Competition among landlords ensures that the most desirable locations are those occupied,
  18
      Lemma 1 of Costinot and Vogel (2010) shows that M (ω) is continuous and strictly increasing in equi-
librium.
   19
      Absolute advantage across all sectors is not necessary. The weaker condition that productivity is in-
                                                   ∂
creasing in skill at the equilibrium assignments, ∂ω H(ω, M (ω)) > 0, is sufficient.


                                                             12
so the least desirable occupied site τ̄ (c) ≡ maxτ {τ : f (ω, c, τ, σ) > 0} in a city of population
L(c) is defined by L(c) = S(τ̄ (c)). The set of occupied locations is T̄ (c) ≡ [0, τ̄ (c)]. More
desirable locations have higher rental prices.
                                                                  ´τ ´      ´
Lemma 1 (Populated locations). In equilibrium, S(τ ) = L 0 σ∈Σ ω∈Ω f (ω, c, x, σ)dωdσdx ∀τ ∈
T̄ (c), r(c, τ ) is strictly decreasing in τ ∀τ < τ̄ (c), and r(c, τ̄ (c)) = 0.

   Individuals of higher skill have greater willingness to pay for more desirable locations.
            2
That is, ∂τ∂∂ω A(c)T (τ )G(ω) < 0 because locational advantages complement individual pro-
ductivity. As a result, in equilibrium higher-ω individuals occupy lower-τ locations.

Lemma 2 (Autarky locational assignments). In autarkic equilibrium, there exists a con-
tinuous and strictly decreasing locational assignment function N : T̄ (c) → Ω such that
f (ω, c, τ, σ) > 0 ⇐⇒ N (τ ) = ω, N (0) = ω̄ and N (τ̄ (c)) = ω.

       This assignment function is obtained by equating supply and demand of locations:
                                          ˆ    τ   ˆ     ˆ
                              S(τ ) = L              f (ω, c, x, σ)dωdσdx
                                           0       σ∈Σ    ω∈Ω
                                                        
                                       −1   L(c) − S(τ )
                          ⇒ N (τ ) = F
                                               L(c)

    Given individuals’ equilibrium locations within the city, the schedule of locational rental
prices supporting these assignments comes from combining individuals’ utility-maximizing
decisions and the boundary condition r(c, τ̄ (c)) = 0.

Lemma 3 (Autarky locational prices). In autarkic equilibrium, r(c, τ ) is continuously dif-
                                                  ´ τ̄ (c)
ferentiable on τ ≥ 0 and given by r(c, τ ) = −A(c) τ T 0 (t)G(N (t))dt for τ ≤ τ̄ (c).

   The properties of interest in a competitive equilibrium are characterized by the assign-
ment functions M : Ω → Σ and N : T̄ (c) → Ω. In the autarkic equilibrium, more skilled
individuals work in more skill-intensive sectors and occupy more desirable locations.


3.4       A system of cities
The previous section described a single city with an exogenous population. We now de-
scribe a system of cities in which these populations are endogenously determined in spatial
equilibrium. Take cities’ TFPs, which will be endogenously determined in equilibrium, as
given for now and label the cities so that A(C) ≥ A(C − 1) ≥ · · · ≥ A(2) ≥ A(1).20 In
  20
     Individuals take these TFPs as given. For now, we can assume these differences in total factor produc-
tivity are exogenously given. We describe their endogenous determination in section 3.6.

                                                         13
autarky, τ was a sufficient statistic for the attractiveness of a location. In a system of cities,
we must clearly distinguish between a location’s attractiveness and its innate desirability.
A location’s attractiveness, which we denote by γ, depends both on city-level TFP and its
innate desirability within the city.

Definition 1. The attractiveness of a location in city c of (inverse) innate desirability τ is
γ = A(c)T (τ ).

      Cities with higher TFP have larger populations. Consider two cities, c and c0 , that differ
in productivity, with A(c) > A(c0 ). The city with greater TFP will have greater population,
L(c) > L(c0 ). If it did not, the least desirable occupied location in city c would be more
desirable than the least desirable occupied location in city c0 , τ̄ (c) ≤ τ̄ (c0 ), since the supply of
locations, S(τ ), is common across cities. Since TFP is also higher in c, this would make the
least attractive occupied location in city c more attractive than the least attractive occupied
location in city c0 , A(c)T (τ̄ (c)) > A(c0 )T (τ̄ (c0 )). In equilibrium, the least desirable occupied
location in each city has a price of zero, r(c, τ̄ (c)) = r(c0 , τ̄ (c0 )) = 0, by lemma 1. In that
case, every individual would agree that living in c at τ̄ (c) is strictly better than living in c0
at τ̄ (c0 ) (because A(c)T (τ̄ (c))G(ω) > A(c0 )T (τ̄ (c0 ))G(ω)), which contradicts the definition of
τ̄ (c0 ) as an occupied location. So the city with higher TFP must have a larger population.
      A smaller city’s locations are a subset of those in a larger city in terms of attractiveness.
For every location in the less populous city, there is a location in the more populous city
that is equally attractive. The location in city c0 of innate desirability τ 0 is equivalent to
a location τ in city c, given by A(c)T (τ ) = A(c0 )T (τ 0 ). The equally attractive location in
the larger city has higher TFP but lower innate desirability. That is, an individual who is
indifferent between c and c0 lives closer tothe most desirable location in c0 than the most
                                       A(c)
desirable location in c, τ 0 = T −1 A(c   0 ) T (τ ) < τ . The more populous city also has locations
that are strictly more attractive than the best location in the less populous city; there are
locations of attractiveness γ ∈ (A(c0 )T (0), A(c)T (0)] found in c and not in c0 . In equilibrium,
two locations of equal attractiveness must have the same price, so we can describe the rental
price of a location of attractiveness γ as rΓ (γ).
      To characterize locational assignments and prices in the system of cities, we first charac-
terize assignments and prices in terms of γ. The solution is analogous to that derived in the
autarkic case. We then translate these assignments and prices into functions of c and τ .
      More skilled individuals occupy more attractive locations. Denote the set of attrac-
tiveness levels occupied in equilibrium by Γ ≡ [γ, γ̄], where γ ≡ A(C)T (τ̄ (C)) and γ̄ ≡
A(C)T (0). Individuals of higher skill have greater willingness to pay for more attractive
locations, so in equilibrium higher-ω individuals occupy higher-γ locations.


                                                  14
Lemma 4 (Locational assignments). In equilibrium, there exists a continuous and strictly
increasing locational assignment function K : Γ → Ω such that (i) f (ω, c, τ, M (ω)) > 0 ⇐⇒
A(c)T (τ ) = γ and K(γ) = ω, and (ii) K(γ) = ω and K(γ̄) = ω̄.

   To obtain an explicit expression for K : Γ → Ω, we can denote the supply of locations
with attractiveness γ or greater as SΓ (γ). The supply function is
                                                                   
                                           X
                                                           −1    γ
                            SΓ (γ) =                   S T              .
                                                                A(c)
                                       c:A(c)T (0)≥γ


By definition SΓ (γ̄) = 0 and by the fact that the best locations are populated SΓ (γ) =
                                                          ´ γ̄
L. Lemmas 1 and 4 allow us to say that SΓ (γ) = L γ f (K(x))K 0 (x)dx, so K(γ) =
             
F −1 L−SLΓ (γ) . These locational assignments yield an expression for equilibrium locational
prices.

Lemma 5 (Locational prices). In equilibrium, rΓ (γ) is increasing and continuously differ-
                                         ´γ
entiable on [γ, γ̄] and given by rΓ (γ) = γ G(K(x))dx.

    Therefore, the determination of locational assignments and prices within the system of
cities is analogous to determining these locational assignments and prices for an autarkic
city with a supply of locations that is the sum of locations across the system of cities.


3.5    The distributions of skills and sectors across cities
We can now characterize the distributions of rents, skills, and sectoral employment in a
system of cities. We first show how the distribution of locations across cities governs the dis-
tributions of skills and sectoral employment across cities through the locational and sectoral
assignment functions. We then identify a necessary and sufficient condition under which
these distributions are log-supermodular. Finally, we identify conditions under which larger
cities will have larger populations of all skill types and employ more people in all sectors.
    Since the rental price of a location depends only on its attractiveness, which is the product
of city TFP and innate desirability, the rental price of a location with innate desirability τ
in city c is r(c, τ ) = rΓ (A(c)T (τ )). In any city c, the supply of locations with attractiveness
γ, and thus the set of locations with rental price rΓ (γ), is
                                                         
                           ∂                      −1    γ
                 s(γ, c) ≡      S (τ̄ (c)) − S T                 if γ ≤ A(c)T (0)
                           ∂γ                          A(c)
                                          
                            1 V         γ
                             A(c)      A(c)
                                              if γ ≤ A(c)T (0)
                         =                                     ,                              (12)
                           0                 otherwise


                                                   15
                ∂
where V (z) ≡ − ∂z S (T −1 (z)) is the supply of locations with innate desirability T −1 (z).
  The distribution of skills follows from s(γ, c) and locational assignments K : Γ → Ω.
Lemma 6 (A city’s skill distribution). The population of individuals of skill ω in city c is
                                  
                                  K −10 (ω)s(K −1 (ω), c)   if A(c)T (0) ≥ K −1 (ω)
                 L × f (ω, c) =                                                        .
                                  0                         otherwise

   The distribution of sectoral employment follows from s(γ, c), locational assignments K :
Γ → Ω, and sectoral assignments M : Ω → Σ.
Lemma 7 (A city’s sectoral employment distribution). The population of individuals em-
ployed in sector σ in city c is
                 
                 M −10 (σ)K −10 (M −1 (σ))s(K −1 (M −1 (σ)), c)       if A(c)T (0) ≥ K −1 (M −1 (σ))
L × f (σ, c) =                                                                                          .
                 0                                                    otherwise

    The relative population of individuals of skill ω in two cities depends on the relative supply
of locations of attractiveness K −1 (ω). Since higher-ω individuals occupy more attractive
locations and the most attractive locations are found exclusively in the larger city, there
is an interval of high-ω individuals who reside exclusively in the larger city. Individuals of
abilities below this interval are found in both cities. The sectoral assignments M : Ω → Σ,
which are common across locations, translate this hierarchy of skills across cities into a
hierarchy of sectors across cities.
    We now identify the condition under which the distributions of rents, skills, and sectoral
employment across cities are log-supermodular functions. When the distribution of locational
attractiveness is log-supermodular, so are the distributions of skills and sectoral employment.
The first result follows from more skilled individuals occupying more attractive locations in
equilibrium. The second result comes from larger cities’ TFP advantages being sector-
neutral, so that sectoral composition is governed by skill composition.
    Since the distribution of locations in terms of innate desirability τ is common across
cities, cross-city differences in the distributions of locational attractiveness γ reflect differ-
ences in cities’ TFPs. Equation (12) demonstrates a hierarchy of locational attractiveness,
since the most attractive locations are found exclusively in the highest-TFP city. Amongst
levels of attractiveness that are supplied in multiple cities, equation (12) shows that cities’
                                                                             1
TFPs shape the supply schedule s(γ, c) through both a scaling effect ( A(c)    ) and a dilation of
     γ                                                             ?
V ( A(c) ). Comparisons of relative supplies (s(γ, c)s(γ 0 , c0 ) > s(γ 0 , c)s(γ, c0 )) depend only on
the dilation.

                                                   16
    Our main result, Proposition 1, is a necessary and sufficient condition for the ordering of
city TFPs to govern the ordering of locational supplies.

Proposition 1 (Locational attractiveness distribution). The supply of locations of attrac-
tiveness γ in city c, s(γ, c), is log-supermodular if and only if the supply of locations with
innate desirability T −1 (z) within each city, V (z), has a decreasing elasticity.

    Proposition 1 links our assumption about each city’s distribution of locations, V (z),
to endogenous equilibrium locational characteristics, s(γ, c). Its proof is in appendix B.
Heuristically, note that a higher-TFP city is relatively abundant in more attractive locations
when the elasticity ∂ ln∂ ln
                          s(γ,c)
                             γ
                                 is larger in the higher-TFP city. Equation (12) implies that the
                                                            γ
γ-elasticity of s(γ, c) is the elasticity of V (z) at z = A(c) . When this elasticity is higher at
lower values of z, an ordering of cities’ TFPs (and thus cities’ sizes) is an ordering of these
elasticities, and thus an ordering of relative supplies at equilibrium.21
    The distributions of skills and sectoral employment across cities follow straightforwardly
from Proposition 1. The skill distribution follows immediately through the locational assign-
ment function. The employment distribution follows in turn through the sectoral assignment
function. Since K : Γ → Ω and M : Ω → Σ are strictly increasing functions, f (ω, c) and
f (σ, c) are log-supermodular if and only if s(γ, c) is log-supermodular.

Corollary 1 (Skill and employment distributions). If V (z) has a decreasing elasticity, then
f (ω, c) and f (σ, c) are log-supermodular.

    Since productivity differences across locations are Hicks-neutral in our economy’s equilib-
rium, the employment distribution across cities governs the output distribution across cities.
Larger cities are skill-abundant and more skilled individuals work in more skill-intensive sec-
tors, so larger cities produce relatively more in skill-intensive sectors. These patterns of spe-
cialization and trade are closely related to the high-dimensional model of endowment-driven
comparative advantage introduced by Costinot (2009), but in our setting cities’ populations
are endogenously determined.22 Since at equilibrium larger cities’ productivity advantages
are sector-neutral differences in total factor productivity, f (ω, c) is log-supermodular, and
H(ω, σ) is log-supermodular, our economy’s equilibrium satisfies Definition 4, Assumption 2,
  21
     For example, for the von Thünen disc geography, S(τ ) = πτ 2 , with linear transportation costs, T (τ ) =
d1 −d2 τ , the supply of locations within cities V (z) = 2π
                                                         d22
                                                             (d1 −z) has an elasticity of − d1z−z , which is decreasing
in z. Therefore, this canonical case satisfies the condition of Proposition 1.
  22
     Assumption 2 in Costinot (2009)’s factor-endowment model is that countries’ exogenous endowments are
such that countries can be ranked according to the monotone likelihood ratio property. Corollary 1 identifies
a sufficient condition for cities’ equilibrium skill distributions to exhibit this property.




                                                          17
and Assumption 3 of Costinot (2009).23 We therefore obtain Corollary 2, which characterizes
cities’ sectoral outputs.

Corollary 2 (Output and revenue distributions). If V (z) has a decreasing elasticity, then
sectoral output Q(σ, c) and revenue R(σ, c) ≡ p(σ)Q(σ, c) are log-supermodular.

    These results characterize the pattern of comparative advantage across cities.24
    When does the more productive city have a larger population of every skill type? By
lemma 6, whenever it has a larger supply of every attractiveness level, s(γ, c) ≥ s(γ, c0 ) ∀γ.
This is trivially true for γ > A(c0 )T (0). What about attractiveness levels found in both
cities? Proposition 2 identifies a sufficient condition under which a larger city has a larger
supply of locations of a given attractiveness. Its proof appears in appendix B. Corollary 3
applies this result to the least-attractive locations, thereby identifying a sufficient condition
for larger cities to have larger populations of all skill types and therefore employ more people
in every sector.

Proposition 2. For any A(c) > A(c0 ), if V (z) has a decreasing elasticity that is less than
           γ
-1 at z = A(c) , s(γ, c) ≥ s(γ, c0 ).
                                                                                                  −1         γ
Corollary 3. If V (z) has a decreasing elasticity that is less than -1 at z = KA(c)(ω) =                    A(c)
                                                                                                                 ,
A(c) > A(c0 ) implies f (ω, c) ≥ f (ω, c0 ) and f (M (ω), c) ≥ f (M (ω), c0 ) ∀ω ∈ Ω.


3.6     Endogenizing cities’ total factor productivities
Our exposition of equilibrium in sections 3.4 and 3.5 took cities’ total factor productivities
as given. When the condition of Proposition 1 is satisfied, a city that has higher total
factor productivity A(c) is larger and has a skill distribution f (ω, c) that likelihood ratio
dominates those of cities with lower TFPs. Thus, this spatial pattern can be supported by
endogenous productivity processes that make the city-level characteristic A(c) higher when
  23
      Definition 4 of Costinot (2009) requires that factor productivity vary across countries (cities) in a Hicks-
neutral fashion. Since productivity A(c)T (τ ) varies both across and within cities, our production function
q(c, τ, σ; ω) does not satisfy this requirement for arbitrary locational assignments. However, in equilibrium,
our economy does exhibit this property. In the production interpretation of T (τ ), equilibrium productivity
q(c, τ, σ; ω) = K −1 (ω)H(ω, σ) does not vary across ω-occupied locations and is log-supermodular in ω and
σ. In the notation of equation (6) in Costinot (2009), a(γ) = 1 and h(ω, σ) = K −1 (ω)H(ω, σ), satisfying
Definition 4 and Assumption 3.
   24
      A traditional definition of comparative advantage refers to locations’ autarkic prices. In our setting,
autarky means prohibiting both trade of intermediate goods and migration between cities. Since individuals
are spatially mobile, cities do not have “factor endowments”, and we must specify the autarkic skill distribu-
tions. If we consider an autarkic equilibrium with the skill distributions from the system-of-cities equilibrium,
then larger cities have lower relative autarkic prices for higher-σ goods because they are skill-abundant, as
shown by Costinot and Vogel (2010, p. 782).


                                                       18
the city contains a larger and more skilled population, such as the class of agglomeration
functions described by equation (5). Numerous agglomeration processes may generate such
productivity benefits, and we do not attempt to distinguish between them here.


4      Empirical approach and data description
We examine the predictions of our model using two approaches to characterize the outcomes
described by Corollary 1.25 The first involves regression estimates of the population elastic-
ities of educational, occupational, and industrial populations. The second involves pairwise
comparisons governed by the monotone likelihood ratio property.
    Empirically testing Corollary 1 requires data on cities’ skill distributions, sectors’ skill
intensities, and cities’ sectoral employment. We use public-use microdata from the US Census
of Population to identify the first two. The latter is described by data from County Business
Patterns and Occupational Employment Statistics. The Census of Population describes
individuals’ educational attainments, geographic locations, places of birth, occupations, and
industries. County Business Patterns describes cities’ industrial employment. Occupational
Employment Statistics describes cities’ occupational employment. We combine these various
data at the level of (consolidated) metropolitan statistical areas (MSAs); see appendix D for
details.


4.1     Empirical tests
Corollary 1 says that the distribution of skills across cities, f (ω, c), and the distribution of sec-
toral employment across cities, f (σ, c), are log-supermodular functions. Log-supermodularity
has many implications; we focus on two that are amenable to empirical testing. If the func-
tion f (ν, c) is log-supermodular, then

    • a linear regression ln f (ν, c) = αν + βν ln L(c) + ν,c in which αν are fixed effects and
      L(c) is city population yields βν ≥ βν 0 ⇐⇒ ν ≥ ν 0 ;

    • if C and C 0 are distinct sets and C is greater than C 0 (inf c∈C L(c) > supc0 ∈C 0 L(c0 )), then
                                           0 0                  0                           0        0
      P                    P                        P                   P
         c∈C ln f (ν, c) +  c0 ∈C 0 ln f (ν , c ) ≥  c∈C ln f (ν , c) +   c0 ∈C 0 ln f (ν, c ) ∀ν > ν .

  25
    Proposition 1 and Corollary 2 make predictions about other economic outcomes, such as rental prices
and sectoral outputs, that are difficult to empirically characterize due to data constraints. For example,
data on occupations describe employment levels, not occupational output or revenue. Similarly, examining
stochastic or likelihood-ratio dominance in rental prices across cities would require representative samples of
(unimproved) land prices, which are not available. The available evidence on urban costs, which shows that
the maximum, mean, and range of unimproved land prices are greater in larger cities (Combes, Duranton,
and Gobillon, 2012), are consistent with our model’s predictions.


                                                      19
The first implication, which we will refer to as the “elasticity test,” says that the city-
population elasticity of the population of a skill type in a city f (ω, c) is increasing in skill
ω.26 Similarly, the population elasticity of sectoral employment f (σ, c) is increasing in skill
intensity σ. The elasticity test examines the patterns suggested by Figures 1 through 3,
where steeper slopes correspond to higher elasticities. Our theory thus provides a structure
to interpret previous work describing the population elasticities of sectoral employment, such
as Henderson (1983) and Holmes and Stevens (2004).27 The second implication, which we
will refer to as the “pairwise comparisons test”, says that if cities are divided into bins ordered
by population sizes, then in any pairwise comparison of two bins and two skills/sectors, the
bin containing more populous cities will have relatively more of the more skilled type.28
    These two empirical tests are not independent, since they are both implied by log-
supermodularity. Appendix C describes how they are related. In short, success of one test
implies success of the other, to the extent that the first-order approximations of ln f (ν, c)
fit the data well. Figures 1 through 3 suggest that they do. We also implement a test
for systematic deviations proposed by Sattinger (1978) and examine whether the pairwise
comparisons success rate increases with the number of cities per bin.29


4.2        Skills
Following a large literature, we use observed educational attainment as a proxy for indi-
viduals’ skills.30 Educational attainment is a coarse measure, but it is the best measure
available in data describing a large number of people across detailed geographic locations.
To describe cities’ skill distributions, we aggregate individual-level microdata to the level of
metropolitan statistical areas. A large literature in urban economics describes variation in
  26
       The linear regression may understood as a first-order Taylor approximation: ln f (ν, c) ≈ ln f (ν, c∗ ) +
∂ ln f (ν,c)
                        − ln L(c∗ )) +  = αν + βν ln L(c) + ν,c , where βν = ∂∂lnlnfL(c)
 ∂ ln L(c) |c=c∗ (ln L(c)
                                                                                      (ν,c)
                                                                                            ∗
                                                                                              is increasing in ν by
                                                                                            |c=c
log-supermodularity of f (ν, c).
   27
      Henderson (1983) regresses employment shares on population levels, but reports “percent ∆ share /
percent ∆ population”, which is equal to βσ −1 in our notation. Similarly, Holmes and Stevens (2004) describe
how location quotients, a city’s share of industry employment divided by its     P share of total employment, vary
                                                                         f (σ,c)/ c0 f (σ,c0 )
with city size. In our notation, a location quotient is LQ(σ, c) =              L(c)/L         , so the L(c)-elasticity of
LQ(σ, c) is βσ − 1.
   28
      Provided f (ν, c) > 0 ∀ν∀c, log-supermodularity means ν > ν 0 , c > c0 ⇒ ln f (ν, c) + ln f (ν 0 , c0 ) ≥
ln f (ν 0 , c) + ln f (ν, c0 ). The pairwise comparisons test follows from taking sums twice of each side of this
inequality given c > c0 ∀c ∈ C ∀c0 ∈ C 0 .
   29
      Appendix C shows that, if ln f (ν, c) is the sum of a log-supermodular function and idiosyncratic errors,
the probability of obtaining the correct inequality increases with aggregation. If the deterministic component
is log-submodular (log-modular), this probability decreases with (is invariant to) aggregation.
   30
      Costinot and Vogel (2010) show that log-supermodularity of factor supplies in an observed characteristic
and unobserved skill ω is sufficient for mapping a theory with a continuum of skills to data with discrete
characteristics.


                                                           20
terms of two skill groups, typically college and non-college workers. Following Acemoglu and
Autor (2011), we use a minimum of three skill groups. The Census 2000 microdata identify
16 levels of educational attainment, from “no schooling completed” to “doctoral degree”.
We define three skill groups of approximately equal size among the working population:
high-school degree or less; some college or associate’s degree; and bachelor’s degree or more.
In a more ambitious approach, we also consider nine skill groups, ranging from individuals
who never reached high school (3 percent of the population) to those with doctoral degrees
(1 percent).31 Table 1 shows the population shares and percentage US-born for each of
these skill groups in 2000. Foreign-born individuals are disproportionately in the tails of the
educational distribution.


                     Table 1: Skill groups by educational attainment
                     Population Percent                              Population Percent
 Skill (3 groups)       share      US-born Skill (9 groups)            share    US-born
 High school or less     .35          .77     Less than high school     .03       .21
                                              High school dropout       .07       .69
                                              High school graduate      .24       .87
 Some college            .32          .88     College dropout           .24       .89
                                              Associate’s degree        .08       .87
 Bachelor’s or more      .33          .85     Bachelor’s degree         .21       .86
                                              Master’s degree           .08       .83
                                              Professional degree       .03       .81
                                              Doctoral degree           .01       .69
       Population shares and percentage US-born are percentages of full-time, full-year prime-age workers.
                               Source: Census 2000 microdata via IPUMS-USA




4.3       Sectors
In our model, workers produce freely traded sectoral outputs indexed by σ that are used
to produce the final good. In the international trade literature, it is common to interpret
sectors in models of comparative advantage as industries. Recent work in both international
and labor economics has emphasized a perspective focused on workers completing tasks,
which empirical work has frequently operationalized as occupations (Grossman and Rossi-
Hansberg, 2008; Acemoglu and Autor, 2011). We will implement empirical tests using each.
We define sectors to be the 21 manufacturing industries in the three-digit stratum of the
  31
    Individuals with doctorates typically earn less than individuals with professional degrees, so it may be
inappropriate to treat PhDs as higher-ω individuals than professionals.

                                                      21
North American Industry Classification System (NAICS) or the 22 occupational categories
in the two-digit stratum of the Standard Occupational Classification (SOC). We suspect that
the assignment of workers to sectors is better characterized as assignments to occupations
than assignments to industries, since virtually all industries employ both skilled and unskilled
workers. Our measures of cross-sectoral variation in skill intensities in the following section
are consistent with this conjecture.
    We measure industrial employment in a metropolitan area using data from the 2000
County Business Patterns. We measure occupational employment in a metropolitan area
using estimates from the 2000 BLS Occupational Employment Statistics. See appendix D
for details.


4.4     Skill intensities
Our theory makes the strong assumption that H(ω, σ) is strictly log-supermodular so that
sectors are ordered with respect to their skill intensities. In our empirical work, we infer
sectors’ skill intensities from the data using the observable characteristics of the workers
employed in them. We use microdata from the 2000 Census of Population, which contains
information about workers’ educational attainments, industries, and occupations. We use
the average years of schooling of workers employed in a sector as a measure of its skill in-
tensity.32 In doing so, we control for spatial differences by regressing years of schooling on
both sectoral and city fixed effects, but we have found that omitting the city fixed effects
has little effect on the estimated skill intensities. Table 2 reports the five least skill-intensive
and five most skill-intensive sectors among both the 21 manufacturing industries and the 22
occupational categories. There is considerably greater variation in average years of schooling
across occupational categories than across industries.33 This may suggest that the “assign-
ment to occupations” interpretation of our model will be a more apt description of the data
than the “assignments to industries” interpretation.




  32
     Autor and Dorn (2013) rank occupations by their skill level according to their mean log wage. Our
assumption of absolute advantage is consistent with such an approach. Using average log wages as our
measure of skill intensity yields empirical success rates comparable to and slightly higher on average than
those reported in section 5. We use years of schooling rather than wages as our measure of sectoral skill
intensities since nominal wages may also reflect compensating differentials or local amenities.
  33
     The standard deviations of average years of schooling across occupational categories, industries, and
manufacturing industries are 2.2, 1.0, and 0.9, respectively.


                                                    22
                                   Table 2: Sectoral skill intensities
                                                    Skill                                                         Skill
 SOC     Occupational category                    intensity NAICS Manufacturing industry                        intensity
  45     Farming, Fishing, and Forestry              9.3       315  Apparel                                       10.7
  37     Building & Grounds Cleaning                10.9       314  Textile Product Mills                         11.4
  35     Food Preparation and Serving               11.4       316  Leather and Allied Product                    11.7
  47     Construction and Extraction                11.5       313  Textile Mills                                 11.7
  51     Production                                 11.6       337  Furniture and Related Products                11.7
  29     Healthcare Practitioners and Technical     15.6       312  Beverage and Tobacco Products                 13.1
  21     Community and Social Services              15.8       336  Transportation Equipment                      13.2
  25     Education, Training, and Library           16.5       324  Petroleum and Coal Products                   13.5
  19     Life, Physical, and Social Science         17.1       334  Computer & Electronic Products                14.1
  23     Legal                                      17.3       325  Chemical                                      14.1
                              Source: Census 2000 microdata via IPUMS-USA


4.5     Pairwise weights
The most disaggregate implications of Corollary 1 are inequalities describing the number
of individuals residing (employed) in two cities and two skill groups (sectors). Empirically
testing these pairwise predictions involves evaluating as many as eight million of these in-
equalities and summarizing the results. An important question is whether each of these
comparisons should be considered equally informative.
    An unweighted summary statistic assigns equal weight to correctly predicting that Chicago
(population 9 million) is relatively more skilled than Des Moines (population 456 thousand)
and correctly predicting that Des Moines is relatively more skilled than Kalamazoo (popu-
lation 453 thousand). Given the numerous idiosyncratic features of the real world omitted
from our parsimonious theory, the former comparison seems much more informative about
the relevance of our theory than the latter. Similarly, an unweighted summary statistic treats
comparisons involving high school graduates (24 percent of the workforce) and comparisons
involving PhDs (1 percent of the workforce) equally, while these differ in their economic
import.
    Following Trefler (1995), we report weighted averages of success rates in addition to un-
weighted statistics. In describing skill distributions, we weight each pairwise comparison by
the two cities’ difference in log population.34 When we consider nine skill groups, we also
report a case where we weight by the product of the two skill groups’ population shares.
Figure 4 shows the distribution of differences in log population across city pairs. Since the
majority of city pairs have quite small differences in log population, the unweighted and
  34
    Appendix C shows that, if ln f (ν, c) is the sum of a log-supermodular function and idiosyncratic errors,
the probability of obtaining the correct inequality is increasing in the difference in log population.



                                                     23
weighted statistics may yield substantially different results. In describing sectoral distri-
butions, we weight pairwise comparisons by the product of the two cities’ difference in log
population and the two sectors’ difference in skill intensity.35 Figure 5 shows the distribution
of differences in skill intensity across occupational pairs. While not as right-skewed as the
distribution of differences in log population, this distribution may cause the unweighted and
weighted statistics to differ.
                          Density
                          Difference inFigure       6 shows the distribution of differences in skill intensity
                                       log populations


across industries. The median difference between occupations is 2.3 years while the median
difference between manufacturing industries is only 0.9 years. This relative compression in
skill differences in the industrial data suggests that it may prove harder to make strong state-
ments about differences across cities in industries than in occupations. Figures 4 through 6
underscore the importance of looking at weighted comparisons.
                            Population
                            (2000
                            .2
                            .6
                            .4
                            .2
                            Density
                            0
                            2
                            4
                            6
                            Difference in logdifferences
                                    CMSA)     populations

                                                            Population differences
                         Figure 4: Differences in(2000
                                                  population
                                                       CMSA) across city pairs
                                   .6
                                   .4
                             Density
                                   .2
                                   0




                                        0                     2                        4    6
                                                            Difference in log populations


                                            Data source: Census 2000 PHC-T-3




  35
    Appendix C shows that, if ln f (ν, c) is the sum of a log-supermodular function and idiosyncratic errors,
the probability of obtaining the correct inequality is increasing in the product of the difference in log popula-
tion and the difference in population elasticities. The latter are increasing in the difference in skill intensities
in our theory.


                                                                     24
              Figure 5: Differences in skill intensities across occupational pairs




                               .25
                               .2.15
                           Density
                               .1
                               .05
                               0




                                            0       2                   4                 6       8
                                                            Difference in schooling

               231 pairwise comparisons between 22 2-digit SOC occupational categories
                 Data source: 2000 Census of Population microdata via IPUMS-USA


                Figure 6: Difference
                           Differences
                          .2
                          .4
                          .2
                          0
                          1
                          2
                          3
                          D
                          4 ifference in schooling in skill intensities across industrial pairs
                          Density
                          .8
                          .6
                                       .8
                                       .6
                                 Density
                                   .4  .2
                                       0




                                                0       1               2             3       4
                                                            Difference in schooling


             210 pairwise comparisons between 21 3-digit NAICS manufacturing industries
                 Data source: 2000 Census of Population microdata via IPUMS-USA


5     Empirical results
In this section, we test our predictions relating cities’ sizes to their distributions of skill, oc-
cupational employment, and industrial employment. First, we examine whether populations
are log-supermodular in educational attainment and city size. This prediction is a much
stronger characterization of cities’ skill distributions than the well known fact that larger
cities typically have a greater share of college graduates. Second, we examine whether the
spatial pattern of sectoral employment is governed by this spatial pattern of skills. Our
theory’s predictions are more realistic than completely specialized or perfectly diversified
cities and more specific than theories allowing arbitrary patterns of interindustry spillovers.
Finally, we examine whether larger cities are larger in all industries or whether different


                                                                  25
industries attain their maximal employment at different points in the city-size distribution.
    The data are broadly consistent with our novel predictions. Skill distributions regularly
exhibit the monotone likelihood ratio property, although international migration plays an
important role in the largest US cities that is omitted from our model. More skill-intensive
sectors are relatively larger in more populous cities, on average. However, cities’ sectoral
distributions do not exhibit the monotone likelihood ratio property as often as cities’ skill
distributions do. One interpretation of this result could be that skill-driven comparative
advantage plays an important role in determining the spatial pattern of production, but lo-
calization and coagglomeration economies may also play some role.36 We show that there are
not systematic violations of our predicted pattern of comparative advantage, and consistent
with our model there is a strong tendency for larger cities to be larger in all industries.


5.1     Larger cities are relatively more skilled
This subsection tests our prediction that larger cities have relatively more skilled populations.
We empirically describe skill abundance using the two tests described in section 4.1. We first
do these exercises using three skill groups defined by educational attainment levels and then
repeat them using nine very disaggregated skill groups.

5.1.1    Three skill groups

The elasticity test applied to the three skill groups across 270 metropolitan areas is re-
ported in Table 3. The results match our theory’s prediction that larger cities will have
relatively more people from higher skill groups. The population elasticities are monotoni-
cally increasing in educational attainment and the elasticities differ significantly from each
other.37 In anticipation of issues related to international immigration that arise when we
examine nine skill groups, the second column of the table reports the population elasticities
of US-born individuals for these three educational categories. The estimated elasticities are
slightly lower, since foreign-born individuals are more concentrated in larger cities, but the
differences between the elasticities are very similar.
    The pairwise comparison test examines ordered groups of cities to see if the relative
population of the more skilled is greater in larger cities. Following section 4.1, implementing
this test involves defining bins of cities. Ordering cities by population, we partition the
  36
     Since the employment data do not distinguish employees by birthplace, another possibility is that the
disproportionate presence of low-skill foreign-born individuals in larger cities influences sectoral composition
in a manner not described by our theory. See footnote 52.
  37
     Younger cohorts have higher average educational attainment. The results in Tables 3 and 4 are robust
to estimating the elasticities for educational groups within 10-year age cohorts. Thus, our results are not
due to the young being both more educated and more likely to live in large cities.

                                                      26
                      Table 3: Population elasticities of educational groups
                             Dep var: ln f (ω, c)     All    US-born
                             βω1 HS or less          0.96      0.90
                               × log population (0.011)       (0.016)
                             βω2 Some college        1.00      0.97
                               × log population (0.010)       (0.012)
                             βω3 BA or more          1.10      1.07
                               × log population (0.015)       (0.017)
                            Standard errors, clustered by MSA, in parentheses.
              Sample is all full-time, full-year employees residing in 270 metropolitan areas.


270 metropolitan areas in our data into 2, 3, 5, 10, 30, 90, and 270 bins of cities. Making
pairwise comparisons between three skill groups and as many as 270 metropolitan areas
involves computing up to 108,945 inequalities.38 Note that prior work typically describes a
contrast between large and small cities for skilled and unskilled, whereas our most aggregated
comparison is between large and small cities for three skill groups.
    Figure 7 and Appendix Table 6 summarize the results of these tests using various sets
of cities, weights, and birthplaces. In the unweighted comparisons, the success rate ranges
from 60 percent when comparing individual cities to 97 percent when comparing five bins of
cities to 100 percent for the standard case of two groups of cities. Weighting the comparisons
by the population difference generally yields a higher success rate.39 When we weight by
population differences, the success rate is 67 percent when comparing individual cities, 98
percent for five bins of cities, and 100 percent for the simple comparison of large versus small
cities.40




  38
     With n city bins and m skill groups, we make n(n−1)2
                                                           m(m−1)
                                                              2    comparisons. For example, 270×269
                                                                                                 2
                                                                                                     3×2
                                                                                                       2 =
108, 945.
  39
     Despite the fact that the success rate of the Des-Moines-Kalamazoo comparisons is actually higher than
the Chicago-Des-Moines comparisons.
  40
     Our comparisons of two or five bins of cities are analogous to the empirical exercises presented in
Eeckhout, Pinheiro, and Schmidheiny (2014) and Bacolod, Blum, and Strange (2009).


                                                    27
                        Figure 7: Pairwise comparisons of three skill groups




                                                                                                                                1.0
                                                                                               Pairwise comparison success rate
                                                                                               0.50.6     0.7    0.8     0.9
           270              90               30               10         5      3     2 Bins
         108,945          12,015            1305             135        30      9     3 Comparisons
                 Unweighted, all              Population-difference weighted, all
                 Unweighted, US born          Population-difference weighted, US born




5.1.2    Nine skill groups

We next examine our tests for the case with nine skill groups. Starting with the elasticity
test, Table 4 shows, contrary to our model’s prediction, that those not completing high
school are highly prevalent in larger cities. The second column reveals that this result is
due to the presence of foreign-born individuals with low educational attainment in larger
cities. If we restrict attention to US-born individuals, we can only reject the hypothesis that
βω ≥ βω0 ⇐⇒ ω ≥ ω 0 in one of thirty-six comparisons, the case where βω2 = 0.94 > 0.90 =
βω3 .41 In short, the elasticity test provides strong support for our theory when we examine
the US-born population.42
    How should we interpret the difference between the spatial distribution of skills among the
population as a whole and among US-born individuals? One possibility is that immigrants
strongly prefer larger cities for reasons omitted from our model, causing less-skilled foreign-
born individuals to disproportionately locate in larger cities. This would be consistent with
  41
     The estimated elasticities for the tails of the skill distribution have larger standard errors. This likely
reflects greater sampling noise for scarce educational categories; for example, the median (C)MSA had 34
observations of full-time, full-year employees with a PhD in the 5 percent public-use 2000 Census microdata.
  42
     Interestingly, among US-born individuals, the nine estimated elasticities naturally break into the three
more aggregate educational attainment categories that we used above: βω1 , βω2 , βω3 ∈ (0.90, 0.94); βω4 , βω5 ∈
(0.96, 0.98); βω6 , βω7 , βω8 , βω9 ∈ (1.06, 1.09).


                                                      28
                 Table 4: Population elasticities of educational groups, 2000
          Population Percent                                  Population elasticities
            share     US-born Dep var: ln f (ω, c)               All      US-born
             .03          .21    βω1 Less than high school      1.17        0.91
                                   × log population           (0.039)      (0.028)
             .07          .69    βω2 High school dropout        1.03        0.94
                                   × log population           (0.017)      (0.020)
             .24          .87    βω3 High school graduate       0.93        0.90
                                   × log population           (0.013)      (0.016)
             .24          .89    βω4 College dropout            1.00        0.98
                                   × log population           (0.011)      (0.013)
             .08          .87    βω5 Associate’s degree         1.00        0.96
                                   × log population           (0.014)      (0.016)
             .21          .86    βω6 Bachelor’s degree          1.10        1.07
                                   × log population           (0.015)      (0.017)
             .08          .83    βω7 Master’s degree            1.12        1.09
                                   × log population           (0.018)      (0.019)
             .03          .81    βω8 Professional degree        1.12        1.09
                                   × log population           (0.018)      (0.019)
             .01          .69    βω9 PhD                        1.11        1.06
                                   × log population           (0.035)      (0.033)
                           Standard errors, clustered by MSA, in parentheses.
              Sample is all full-time, full-year employees residing in 270 metropolitan areas.


an established literature that describes agglomeration benefits particular to unskilled foreign-
born individuals, such as linguistic enclaves (Edin, Fredriksson, and Aslund, 2003; Bauer,
Epstein, and Gang, 2005).43
    Eeckhout, Pinheiro, and Schmidheiny (2014) articulate another possibility, in which an
economic mechanism they term “extreme-skill complementarity” causes less skilled indi-
viduals, foreign-born or US-born, to disproportionately reside in larger cities. Larger cities’
benefits for immigrants merely serve as a “tie breaker” that causes the foreign-born to choose
larger cities in equilibrium. This theory predicts that in the absence of foreign-born low-
skilled individuals, US-born low-skilled individuals would disproportionately locate in larger
cities.
    We attempt to distinguish between these hypotheses by looking at the skill distributions
of US cities two decades earlier. In 2000, foreign-born individuals were 11 percent of the
US population, while in 1980 they constituted about 6 percent. More importantly, in 2000,
foreign-born individuals constituted nearly 80 percent of the lowest skill group, while in
  43
    Another potential mechanism is that immigrants may find larger cities’ combination of higher nominal
wages and higher housing prices more attractive than natives (Diamond, 2012), possibly because they remit
their nominal incomes abroad or demand less housing than US-born individuals.


                                                    29
                  Table 5: Population elasticities of educational groups, 1980
             Population Percent                               Population elasticities
               share      US-born Dep var: ln f (ω, c)          All      US-born
                .06         .67     βω1 Less than grade 9       0.99       0.89
                                      × log population        (0.028)     (0.030)
                .11         .91     βω2 Grades 9-11             1.00       0.98
                                      × log population        (0.019)     (0.021)
                .33         .94     βω3 Grade 12                0.97       0.95
                                      × log population        (0.013)     (0.015)
                .08         .94     βω4 1 year college          1.04       1.03
                                      × log population        (0.018)     (0.018)
                .13         .92     βω5 2-3 years college       1.09       1.07
                                      × log population        (0.018)     (0.018)
                .13         .92     βω6 4 years college         1.10       1.08
                                      × log population        (0.018)     (0.018)
                .13         .90     βω7 5+ years college        1.13       1.11
                                      × log population        (0.022)     (0.022)
                             Standard errors, clustered by MSA, in parentheses
                 Sample is full-time, full-year employees residing in 253 metropolitan areas.


1980 they were only one third of the lowest skill group. If our hypothesis that foreign-born
individuals are particularly attracted to larger cities is correct, then the population elasticity
of less-skilled types should be lower when foreign-born shares are lower. Table 5 demonstrates
that this is the case in 1980.44 It does not provide any evidence that the least skilled were
overrepresented in larger cities in 1980, among either the population as a whole or US-born
individuals. The contrast between 1980 and 2000 for the population as a whole reflects the
increasing foreign-born share in the least skilled groups.45 Reconciling these results with the
model of Eeckhout, Pinheiro, and Schmidheiny (2014) would require that the production
function changed from top-skill complementarity in 1980 to extreme-skill complementarity
in 2000.
    We now turn to the pairwise comparisons for the case with nine skill groups in 2000.
These test inequalities for 36,315 city pairs for each pairing of the nine skill groups and
are summarized in Figure 8 and Appendix Table 7. In both the unweighted and weighted
comparisons, our theory does best in predicting comparisons of skill groups that have a high
school degree or higher attainment. Fewer than 50 percent of the comparisons yield the
correct inequality when the “less than high school” skill group is involved in the comparison.
  44
     The educational categories in Table 5 differ from prior tables because Census microdata collected prior
to 1990 identify coarser levels of educational attainment in terms of years of schooling rather than highest
degree attained.
  45
     The population elasticities of foreign-born individuals in the two least skilled categories are 1.4 and 1.3
in 1980 and 1.4 and 1.4 in 2000.

                                                      30
                     Figure 8: Pairwise comparisons of nine skill groups




                                                                                                                       1.0
                                                                                      Pairwise comparison success rate
                                                                                      0.5 0.6    0.7    0.8    0.9
          270           90              30             10        5      3     2 Bins
       1,307,340      144,180         15,660          1620      360    108   36 Comparisons

                Unweighted, all                Unweighted, US born
                Pop-diff-weighted, US born     Pop-diff-edu-share-weighted, US born




As would be expected from the previous results, these comparisons are considerably more
successful when restricted to the US-born population. When these are also weighted by
population differences and education shares, the overall success rate in comparing individual
cities rises to 64 percent.
    Figure 8 and Appendix Table 8 show how the pairwise comparison success rate varies
when we bin cities by size. When we restrict attention to the US-born, the unweighted success
rate for individual cities, five bins, and two bins of cities are 56 percent, 71 percent, and
81 percent, respectively. If, in addition, we weight successes by population differences, the
success rates for individual cities, five bins, and two bins of cities are 61 percent, 77 percent,
and 81 percent, respectively. Weighting by population differences and education shares
yields success rates of 64, 87, and 88 percent. In short, for the case of nine skill groups, the
raw comparisons for individual cities including the foreign born show very modest success.
As in the elasticities test, restricting attention to the US-born population yields significant
improvement. Likewise, there is considerably greater success as we group cities and as we
weight them by the overall prevalence of the education group in the labor force. Overall, we
consider this solid support for our theory.




                                                 31
5.2     Larger cities specialize in skill-intensive sectors
This section examines the spatial pattern of sectoral employment. In our theory, larger cities
are relatively more skilled, cities’ equilibrium productivity differences are Hicks-neutral, and
sectors can be ordered by their skill intensity, so larger cities employ relatively more labor in
skill-intensive sectors. We established that larger cities are relatively more skilled in section
5.1. We now examine whether larger cities are relatively specialized in skill-intensive sectors.
Since employment levels in both industries and occupations are readily available in the data,
we test the employment implications of Corollary 1.46

5.2.1    The spatial distribution of occupations

We first implement the elasticities test and the pairwise comparisons test interpreting sectors
as occupations. We begin with a visualization of the elasticity results. Figure 9 plots the
22 occupational categories’ estimated population elasticities of employment against their
skill intensities, measured as the average years of schooling of individuals employed in that
occupation.47 There is a clear positive relationship. Outliers in the figure include close-to-
unitary elasticities for the relatively skilled occupations in education, healthcare, and social
services, which may reflect non-traded status. On the other side, computer and mathematical
occupations have an elasticity that is quite high relative to their average schooling.
    We can also look at this more formally. With the population elasticities of occupations
in hand, the hypothesis that βσ ≥ βσ0 ⇐⇒ σ ≥ σ 0 involves 231 (= 22 × 21/2) comparisons
of the estimated coefficients.48 This hypothesis is rejected at the five-percent significance
level in 46 comparisons, so the success rate is 80 percent.
    The results for pairwise comparisons for occupations appear in Figure 10 and Appendix
Table 10. When we do this for 276 cities and 22 occupations, we have a total of more than
8 million pairwise comparisons, of which 54 percent are correct.49 This is low compared to
our results for skills. When we stay with individual cities but weight by population and
skill differences, this rises above 59 percent. We can maintain the weighting and consider it
for cities grouped by size into, for example, 30, 5, or 2 bins. The corresponding proportion
of successes rises respectively to 66, 76, and 78 percent. While the results for occupations
  46
      Section 5.1 showed that US-born individuals better match our model’s predictions about the distribution
of skills. Unfortunately, the County Business Patterns and Occupational Employment Statistics data describe
employment counts, not individual employees’ characteristics, so we cannot address the birthplace issues in
this section.
   47
      These elasticities are estimated without including zero-employment observations. The results obtained
when including those observations are similar.
   48
      The elasticity estimates appear in Appendix Table 9.
   49
      These pairwise comparisons omit zero-employment observations. The results obtained when including
those observations are similar.


                                                     32
                        Figure 9: Occupations’ population elasticities and skill intensities



                              1.4
                                                                                                                              Computer & Mathematical



           Population elasticity of employment


                                                                                                                              Architecture & Engineering
                                     1.2


                                                                                       Business & Financial Operations                              Legal
                                                                                                                                                 Life, Physical & Social Science
                                                                                                                         Arts, Design, Entertainment, Sports & Media

                                                                                                         Protective Service

                                                                    Office & Administrative Support                      Management
                                                       Transportation & Material Moving            Personal Care & Service
                                                 Bldg/Grnds Cleaning & Mntnce             Production
                                                                                                              Sales & Related
                                                                                         Construction & Extraction                        Education, Training & Library
                                                                                               Installation, Maintenance & Repair
                   1




                                                                                                                                  Healthcare Practitioners & Technical
                                                         Food Preparation & Serving               Healthcare Support               Community   & Social Services
                              .8




                                                                 Farming, Fishing & Forestry


                                                                    10             12          14          16           18
                                                                    Skill intensity (employees' average years of schooling)



are not as strong as the results for skills, there are nonetheless quite informative patterns
– even when we group cities into five size-based bins, we get three quarters of the pairwise
comparisons correct across the 22 occupational categories.




                                                                                                        33
                 Figure 10: Pairwise comparisons of 22 occupational categories




                                                                                             0.9
                                                                                             Pairwise comparison success rate
                                                                                             0.5  0.6      0.7       0.8
           276             90               30              10         5        3   2 Bins
        8,073,382        925,155          100,485         10,395     2,310     693 231 Comparisons

                             Unweighted         Pop-diff-skill-diff weighted




5.2.2    The spatial distribution of industries

We now implement the elasticities test and the pairwise comparisons test interpreting sectors
as manufacturing industries.50 A visualization of the elasticity test appears in Figure 11.51
Again, as predicted by our theory, there is a clear positive relationship so that the population
elasticity of industry employment is rising with the skill intensity of the industry. The
apparel industry is an outlier, with low average education and a high population elasticity
of employment. This may reflect the share of apparel industry employees who are less-
skilled foreign-born individuals, consistent with our previous discussion of skills.52 Testing
the hypothesis that βσ ≥ βσ0 ⇐⇒ σ ≥ σ 0 for the 21 manufacturing industries involves 210
(= 21 × 20/2) comparisons of these estimated elasticities.53 This hypothesis is rejected in
26 comparisons, so the elasticity implication holds true for manufacturing industries about
  50
     We focus on manufacturing industries since we believe they have the lowest trade costs, but we have
found broadly similar results when using all industries.
  51
     As for occupations, these elasticities are estimated without including zero-employment observations. The
results obtained when including those observations are similar.
  52
     Fifty-seven percent of apparel-manufacturing employees are foreign-born. Fifty-eight percent of foreign-
born and 15% of US-born apparel-manufacturing employees have less than a high-school degree.
  53
     The elasticity estimates appear in Appendix Table 11.




                                                     34
                                 Figure 11: Industries’ population elasticities and skill intensities



                                 1.6
              Population elasticity of employment
                                            1.4                                                      Computer and Electronic Product Manufacturing




                                                                                                                                                       Chemical Manufacturing


                                                                                                                              Transportation Equipment Manufacturing
                                                           Apparel Manufacturing
                                                                                                                        Miscellaneous Manufacturing
                                1.2




                                                                                                                Printing and Related Support Activities
                                                                                                                    ElectricalBeverage andAppliance,
                                                                                                                               Equipment,  Tobacco Product Manufacturing
                                                                                                                                                     and Component Manufacturing
                                                         Textile Product Mills        Textile Mills
                                                                                                    Fabricated Metal Product Manufacturing
                                                                                           Food Manufacturing
                                                                                                                        Machinery Manufacturing

                                                                                                    Primary Metal Manufacturing
                    1




                                                                                                    Nonmetallic Mineral Product Manufacturing
                                                    Plastics and Rubber Products Manufacturing                                         Petroleum and Coal Products Manufacturing

                                                                                                            Paper Manufacturing

                                                                                         Wood Product Manufacturing
                                                                                       Furniture and Related Product Manufacturing
                                 .8




                                                                                     Leather and Allied Product Manufacturing

                                                                11                    12              13               14
                                                                       Skill intensity (employees' average years of schooling)



87 percent of the time.54 This success rate is higher than the corresponding statistic for
occupational elasticities.
    The pairwise comparisons results for industries appear in Figure 12 and Appendix Table
12. When we do this for 276 individual cities and 21 industries, we have a total of more
than 6 million pairwise comparisons, of which just over half are correct.55 Weighting this by
skill and population differences raises this to 56 percent, again low compared to our results
for pairwise comparisons of skills. We can maintain the weighting and consider this for
cities grouped by size into 30, 5, or 2 groups. The corresponding proportion of successes
rises respectively to 63, 72, and 77 percent. These are modestly low relative to the prior
results on occupations and even more so relative to the results on skills. Nonetheless, they
do show that there is systematic variation across cities of different sizes in the composition of
manufacturing.56 Note that prior work contrasting large and medium-size cities, Henderson
(1997), is analogous to our comparisons of two or three groups of cities ordered by population.

  54
      If we restrict the data to uncensored observations, which reduces the sample considerably, this hypothesis
is rejected in 32 comparisons, for an 85 percent success rate. See appendix D for a discussion of censoring
in County Business Patterns data.
   55
      These pairwise comparisons omit zero-employment observations. The results obtained when including
those observations are similar.
   56
      These results are not driven solely by the largest metropolitan areas; excluding the ten largest cities
from pairwise comparisons of occupations and industries yields similar success rates.

                                                                                                         35
                  Figure 12: Pairwise comparisons of 21 manufacturing industries




                                                                                                   0.9
                                                                                                   Pairwise comparison success rate
                                                                                                   0.5  0.6      0.7       0.8
            276               90                30               10         5        3   2 Bins
         6,183,770         817,344             91,350          9,450      2,100     630 210 Comparisons
                               Unweighted            Pop-diff-skill-diff weighted




5.3      Testing for systematic failures of comparative advantage
Our results for the cross-city distributions of skills, industries, and occupations demonstrate
systematic patterns in line with our theory’s predictions. While demonstrating predictive
power, the pairwise comparisons also fall well short of 100 percent success. This is not sur-
prising, given that our model’s parsimony stems from making strong assumptions that omit
various features that influence the real world. An important question is whether our the-
ory’s unsuccessful pairwise predictions are merely idiosyncratic deviations from the pattern
of comparative advantage or are systematic violations of our predicted pattern.
    Sattinger (1978) develops an approach to test for such systematic violations in the form
of systematic intransitivity in the pattern of comparative advantage. It is possible for the
                                                                     f (σ,c0 )        f (σ 0 ,c0 )    f (σ 0 ,c00 )
data to exhibit, for c > c0 > c00 and σ > σ 0 > σ 00 , ff(σ(σ,c)
                                                             0 ,c) ≥ f (σ 0 ,c0 ) and f (σ 00 ,c0 ) ≥ f (σ 00 ,c00 )
                                          00
without exhibiting ff(σ(σ,c)         f (σ,c )
                           00 ,c) ≥ f (σ 00 ,c00 ) . With hundreds of metropolitan areas and dozens of

sectors, it is easy to find three cities and three sectors in the data exhibiting such intransi-
tivity. But do intransitivities arise systematically? Sattinger (1978) shows that if ln f (σ, c)
is a polynomial function of β̂σ and ln L(c), then there can be systematic intransitivity only
if ln f (σ, c) is a function of higher-order interactions of β̂σ and ln L(c). We therefore added
quadratic terms and their interactions to our elasticity regressions. These did little to im-


                                                          36
prove the regression’s adjusted R2 , and F-tests yielded p-values that did not come close to
rejecting the null that these additional terms were uninformative. There is no evidence of
systematic intransitivity in comparative advantage. While our theory’s predictive successes
are systematic, the empirical departures from our theory appear to be idiosyncratic.


5.4     Larger cities are larger in all sectors
As described in section 2, different agglomeration theories have different implications for the
relationship between city size and sectoral employment levels. Localization theories make
the trade-off between industry-specific agglomeration economies and general congestion costs
the foundation of the city-size distribution, with cross-city variation in size reflecting cross-
industry variation in the strength of agglomeration economies. Our theory, by contrast,
focuses on urbanization economies and allows that large cities may be the largest site of
economic activity for all sectors (Corollary 3). Our empirical exercise asks what weight
should be placed on the predictions flowing from each of these archetypes.
    In the data, larger cities tend to have larger sectoral employment in all activities. This
tendency is clear from the population elasticities plotted in Figures 9 and 11, as they are all
strongly positive. Amongst the 21 3-digit NAICS manufacturing industries, the prediction
that c > c0 ⇒ f (σ, c) ≥ f (σ, c0 ) is true in 77 percent of 796,950 cases. Sixteen manufacturing
industries attain their maximal size in the three largest of 276 metropolitan areas (New
York, Los Angeles, and Chicago), and all but one do so in the ten largest cities.57 The
exception is textile mills, which employ the most people in the Greenville-Spartanburg-
Anderson metropolitan area, the 52nd largest city. The analogous results for occupational
categories show an even stronger tendency for larger cities to have higher employment levels
in all occupations.58
    These findings are more consistent with urbanization economies than localization mecha-
nisms at the city level. While particular examples such as South Carolina’s concentration of
textile mills are consistent with localization economies, the typical manufacturing industry
exhibits larger employment levels in more populous cities. Our theory, which parsimoniously
assumes only urbanization economies, matches the data on cities’ sectoral composition and
sectoral sizes quite well relative to existing models.
  57
      We find similar results for 4-digit NAICS manufacturing industries, though there is considerably more
censoring at this more disaggregated level of observation. Larger cities have larger employment levels in 80
percent of comparisons. Sixty percent of 4-digit manufacturing industries attain their maximal size in the
five largest cities, and nearly 80 percent do so in the fifty largest cities.
   58
      The c > c0 ⇒ f (σ, c) ≥ f (σ, c0 ) prediction holds true in 88 percent of occupational comparisons, and 19
of the 22 occupations attain their maximal size in the largest metropolitan area, New York.




                                                      37
6     Discussion and conclusions
In this paper, we introduce a model that simultaneously characterizes the distribution of
skills and sectors across cities. We describe a high-dimensional economic environment that
is a system of cities in which cities’ internal geographies exhibit substantive heterogeneity and
individuals’ comparative advantage governs the distribution of sectoral employment. Our
model achieves two aims. First, we obtain “smooth” predictions, in the sense that cities’
skill and sectoral distributions will be highly overlapping. These are more realistic than
prior theories describing cities that are perfectly sorted along skills or polarized in terms
of sectoral composition. Second, we obtain “strong” predictions, in the sense that cities’
skill and sectoral distributions will exhibit systematic variation according to the monotone
likelihood ratio property. These are more precise than the predictions of many prior theories
of the spatial organization of economy activity and guide our empirical investigation.
    Examining data on US metropolitan areas’ populations, occupations, and industries in
the year 2000 reveals systematic variation in the cross-city distribution of skills and sectors
that is consistent with our theory. Larger cities are skill-abundant. Our results using three
equal-sized categories of educational attainment are quite strong. Even disaggregated to nine
educational categories, the cross-city distribution of US-born individuals is well described by
our theory.
    Empirically, we find that larger cities specialize relatively in skill-intensive activities.
More skill-intensive occupations and industries tend to have higher population elasticities
of employment. In making pairwise comparisons, our model does better in describing the
pattern of occupational employment than industrial employment. This is consistent with a
recent emphasis in the literature on workers performing tasks. Our results demonstrate that
metropolitan skill distributions shape the comparative advantage of cities. Consistent with
our approach based on urbanization economies, larger cities tend to have larger absolute
employment in all industries.
    We believe that our framework is amenable to both theoretical and empirical applications
and extensions. The “smoothness” resulting from the simultaneous consideration of cross-
and within-city heterogeneity in a continuum-by-continuum environment would make our
model amenable to theoretical analyses of the consequences of commuting costs, globaliza-
tion, and skill-biased technical change. The “strong” character of our predictions and their
demonstrated relevance for describing US cities in 2000 suggest that their examination in
other settings, such as economies at different stages of development or in different historical
periods, would be interesting.




                                               38
References
Abdel-Rahman, H. M., and A. Anas (2004): “Theories of systems of cities,” in Handbook
 of Regional and Urban Economics, ed. by J. V. Henderson, and J. F. Thisse, vol. 4, chap. 52,
 pp. 2293–2339. Elsevier.

Acemoglu, D., and D. Autor (2011): “Skills, Tasks and Technologies: Implications for
 Employment and Earnings,” in Handbook of Labor Economics, ed. by O. Ashenfelter, and
 D. Card, vol. 4, pp. 1043–1171. Elsevier.

Autor, D. H., and D. Dorn (2013): “The Growth of Low-Skill Service Jobs and the
 Polarization of the US Labor Market,” American Economic Review, 103(5), 1553–97.

Bacolod, M., B. S. Blum, and W. C. Strange (2009): “Skills in the city,” Journal of
 Urban Economics, 65(2), 136–153.

Bauer, T., G. Epstein, and I. Gang (2005): “Enclaves, language, and the location
 choice of migrants,” Journal of Population Economics, 18(4), 649–662.

Baum-Snow, N., and R. Pavan (2013): “Inequality and City Size,” The Review of Eco-
 nomics and Statistics, 95(5), 1535–1548.

Behrens, K., G. Duranton, and F. Robert-Nicoud (2014): “Productive Cities: Sort-
 ing, Selection, and Agglomeration,” Journal of Political Economy, 122(3), 507 – 553.

Bernstein, J. R., and D. E. Weinstein (2002): “Do endowments predict the location
 of production?: Evidence from national and international data,” Journal of International
 Economics, 56(1), 55–76.

Brueckner, J. K. (1987): “The structure of urban equilibria: A unified treatment of the
 muth-mills model,” in Handbook of Regional and Urban Economics, ed. by E. S. Mills,
 vol. 2, chap. 20, pp. 821–845. Elsevier.

Christaller, W. (1933): Die zentralen Orte in Suddeutschland. Gustav Fischer, Jena.

Combes, P.-P., G. Duranton, and L. Gobillon (2012): “The Costs of Agglomeration:
 Land Prices in French Cities,” CEPR Discussion Paper 9240.

Costinot, A. (2009): “An Elementary Theory of Comparative Advantage,” Econometrica,
 77(4), 1165–1192.




                                             39
Costinot, A., and J. Vogel (2010): “Matching and Inequality in the World Economy,”
 Journal of Political Economy, 118(4), 747–786.

        (2014): “Beyond Ricardo: Assignment Models in International Trade,” mimeo.

Davis, D. R., and J. I. Dingel (2012): “A Spatial Knowledge Economy,” NBER Working
 Papers 18188, National Bureau of Economic Research, Inc.

Davis, D. R., and D. E. Weinstein (1999): “Economic geography and regional produc-
 tion structure: An empirical investigation,” European Economic Review, 43(2), 379–407.

Diamond, R. (2012): “The Determinants and Welfare Implications of US Workers’ Diverg-
 ing Location Choices by Skill: 1980-2000,” mimeo.

Duranton, G., and H. G. Overman (2005): “Testing for Localization Using Micro-
 Geographic Data,” Review of Economic Studies, 72(4), 1077–1106.

Duranton, G., and D. Puga (2001): “Nursery Cities: Urban Diversity, Process Innova-
 tion, and the Life Cycle of Products,” American Economic Review, 91(5), 1454–1477.

Edin, P.-A., P. Fredriksson, and O. Aslund (2003): “Ethnic Enclaves and the Eco-
 nomic Success of Immigrants—Evidence from a Natural Experiment,” The Quarterly Jour-
 nal of Economics, 118(1), 329–357.

Eeckhout, J., R. Pinheiro, and K. Schmidheiny (2014): “Spatial Sorting,” Journal
 of Political Economy, 122(3), 554 – 620.

Ellison, G., and E. L. Glaeser (1997): “Geographic Concentration in U.S. Manufactur-
 ing Industries: A Dartboard Approach,” Journal of Political Economy, 105(5), 889–927.

Ellison, G., E. L. Glaeser, and W. R. Kerr (2010): “What Causes Industry Agglom-
 eration? Evidence from Coagglomeration Patterns,” American Economic Review, 100(3),
 1195–1213.

Fujita, M., and J.-F. Thisse (2002): Economics of Agglomeration. Cambridge University
 Press.

Gabszewicz, J. J., A. Shaked, J. Sutton, and J. Thisse (1981): “International Trade
 in Differentiated Products,” International Economic Review, 22(3), pp. 527–534.

Glaeser, E. L. (2008): Cities, Agglomeration, and Spatial Equilibrium, The Lindahl Lec-
 tures. Oxford University Press.

                                          40
Grossman, G. M., and E. Rossi-Hansberg (2008): “Trading Tasks: A Simple Theory
 of Offshoring,” American Economic Review, 98(5), 1978–97.

Helsley, R. W., and W. C. Strange (1990): “Matching and agglomeration economies
 in a system of cities,” Regional Science and Urban Economics, 20(2), 189–212.

       (2012): “Coagglomeration and the Scale and Composition of Clusters,” UC Berkeley
  mimeo.

Henderson, J. V. (1974): “The Sizes and Types of Cities,” American Economic Review,
 64(4), 640–56.

            (1983): “Industrial Bases and City Sizes,” American Economic Review, 73(2),
  164–68.

       (1987): “General equilibrium modeling of systems of cities,” in Handbook of Regional
  and Urban Economics, ed. by E. S. Mills, vol. 2, chap. 23, pp. 927–956. Elsevier.

         (1991): Urban Development: Theory, Fact, and Illusion. Oxford University Press.

Henderson, V. (1997): “Medium size cities,” Regional Science and Urban Economics,
 27(6), 583–612.

Hendricks, L. (2011): “The Skill Composition Of U.S. Cities,” International Economic
 Review, 52(1), 1–32.

Holmes, T. J., and J. J. Stevens (2004): “Spatial distribution of economic activities in
 North America,” in Handbook of Regional and Urban Economics, ed. by J. V. Henderson,
 and J. F. Thisse, vol. 4, chap. 63, pp. 2797–2843. Elsevier.

Hsu, W.-T., T. J. Holmes, and F. Morgan (2014): “Optimal city hierarchy: A dynamic
 programming approach to central place theory,” Journal of Economic Theory, 154(0), 245
 – 273.

Leamer, E. E. (1984): Sources of International Comparative Advantage: Theory and Evi-
  dence. MIT Press.

Lucas, R. E. (1988): “On the mechanics of economic development,” Journal of Monetary
 Economics, 22(1), 3–42.

Lucas, R. E., and E. Rossi-Hansberg (2002): “On the Internal Structure of Cities,”
 Econometrica, 70(4), 1445–1476.

                                            41
Ruggles, S., J. T. Alexander, K. Genadek, R. Goeken, M. B. Schroeder,
 and M. Sobek (2010): “Integrated Public Use Microdata Series: Version 5.0 [Machine-
 readable database],” Minneapolis, MN: Minnesota Population Center.

Samuelson, P. A. (1948): “International trade and the equalisation of factor prices,” The
  Economic Journal, 58(230), 163–184.

Sattinger, M. (1975): “Comparative Advantage and the Distributions of Earnings and
  Abilities,” Econometrica, 43(3), 455–68.

          (1978): “Comparative Advantage in Individuals,” The Review of Economics and
  Statistics, 60(2), 259–67.

         (1979): “Differential Rents and the Distribution of Earnings,” Oxford Economic
  Papers, 31(1), 60–71.

         (1993): “Assignment Models of the Distribution of Earnings,” Journal of Economic
  Literature, 31(2), 831–80.

Trefler, D. (1995): “The Case of the Missing Trade and Other Mysteries,” American
 Economic Review, 85(5), 1029–46.

von Thünen, J. H. (1826): Der Isolierte Staat in Beziehung auf Landschaft und Na-
  tionalökonomie.


A        Appendix: Consumption interpretation
The production and consumption interpretations yield very similar results but differ slightly
in notation. In the consumption interpretation, an individual’s productivity and utility are

                             q(c, τ, σ; ω) = A(c)H(ω, σ)                                  (13)
                            U (c, τ, σ; ω) = T (τ ) [A(c)H(ω, σ)p(σ) − r(c, τ )]          (14)

where T (τ ) determines the value of the individual’s disposable income after paying his or her
locational price.59 In this interpretation, preferences are non-homothetic in a manner akin to
that of Gabszewicz, Shaked, Sutton, and Thisse (1981). Higher-income individuals are more
willing to pay for higher-quality locations because a more desirable location complements
their higher consumption of tradables.
 59
      Recall that the final good is the numeraire.


                                                     42
    In this case, instead of γ = A(c)T (τ ) = A(c0 )T (τ 0 ) ⇐⇒ r(c, τ ) = r(c0 , τ 0 ) = rΓ (γ),
the appropriate equivalence between two locations is their “amenity-amplified price”, which
is T (τ )r(c, τ ). So the equivalence statement is now γ = A(c)T (τ ) = A(c0 )T (τ 0 ) ⇐⇒
T (τ )r(c, τ ) = T (τ 0 )r(c0 , τ 0 ) = rΓ (γ). The results in lemma 1 are unaltered, though the proof
is modified to use the relevant U (c, τ, σ; ω). The expressions for K : Γ → Ω, γ̄, and γ
are unaltered. This leaves the conclusions of lemmas 4 and 5 intact. The locational price
schedule is given by r(c, τ ) = rΓ (A(c)T   T (τ )
                                                   (τ ))
                                                         = A(c) rΓγ(γ) .
    These locational prices do not appear in the endogenous definition of A(c) nor the proofs
of Lemma 6 and subsequent results. When evaluated at equilibrium, occupied locations’
productivities q(c, τ, σ; ω) = A(c)H(ω, σ) differ across cities in a Hicks-neutral fashion that
satisfies Costinot’s Definition 4 (see footnote 23), so Corollary 2 holds true. As a result,
the predictions about cities’ population, sectors, and productivities described in sections 3.5
and 3.6 are unaltered by interpreting T (τ ) as describing consumption benefits rather than
production benefits.


B      Appendix: Proofs
Proof of Lemma 1:
                                                      ´ τ0 ´      ´
Proof. Suppose that ∃τ 0 < τ̄ (c) : S(τ 0 ) > L 0 σ∈Σ ω∈Ω f (ω, c, x)dωdσdx. Then ∃τ ≤
                     ´    ´
τ 0 : S 0 (τ ) > L σ∈Σ ω∈Ω f (ω, c, τ )dωdσ. Then r(c, τ )) = 0 ≤ r(c, τ̄ (c)), so U (c, τ, σ; ω) >
U (c, τ̄ (c), σ; ω) ∀ω∀σ since T (τ ) is strictly decreasing. This contradicts the definition of
τ̄ (c), since τ̄ (c) is a location that maximizes utility for some individual. Therefore S(τ ) =
    ´τ ´       ´
L 0 σ∈Σ ω∈Ω f (ω, c, x)dωdσdx ∀τ ≤ τ̄ (c).
     Suppose that ∃τ 0 , τ 00 : τ 0 < τ 00 ≤ τ̄ (c) and r(c, τ 0 ) ≤ r(c, τ 00 ). Then U (c, τ 0 , σ; ω) >
U (c, τ 00 , σ; ω) ∀ω∀σ since T (τ ) is strictly decreasing. This contradicts the result that τ 00
maximizes utility for some individual. Therefore r(c, τ ) is strictly decreasing in τ ∀τ ≤ τ̄ (c).
     Suppose r(c, τ̄ (c)) > 0. Then by its definition as a populated location, ∃ω : A(c)T (τ̄ (c))G(ω)−
r(c, τ̄ (c)) ≥ A(c)T (τ̄ (c) + )G(ω) ∀ > 0. This inequality is false for all ω for sufficiently
small , by the continuity of T (τ ). Therefore r(c, τ̄ (c)) = 0.

    Proof of Lemma 2:

Proof. Nearly all of our argument follows the proof of Lemma 1 in Costinot and Vogel
                                 ´
(2010). Define f (ω, c, τ ) ≡ σ∈Σ f (ω, c, τ, σ)dσ. Define Ω(τ ) ≡ {ω ∈ Ω|f (ω, c, τ ) > 0} and
T (ω) ≡ {τ ∈ [0, τ̄ (c)]|f (ω, c, τ ) > 0}.

    1. T (ω) 6= ∅ by equation (11) and f (ω) > 0. Ω(τ ) 6= ∅ ∀τ ≤ τ̄ (c) by lemma 1.

                                                 43
  2. Ω(τ ) is a non-empty interval for τ ∈ [0, τ̄ (c)]. Suppose not, such that ω < ω 0 < ω 00 with
     ω, ω 00 ∈ Ω(τ ) and ω 0 ∈
                             / Ω(τ ). ∃τ 0 : ω 0 ∈ Ω(τ 0 ). Suppose τ 0 > τ. By utility maximization

                        A(c)T (τ 0 )G(ω 0 ) − r(c, τ 0 ) ≥ A(c)T (τ )G(ω 0 ) − r(c, τ )
                         A(c)T (τ )G(ω) − r(c, τ ) ≥ A(c)T (τ 0 )G(ω) − r(c, τ 0 )

     These jointly imply (T (τ 0 ) − T (τ ))(G(ω 0 ) − G(ω)) ≥ 0, contrary to τ 0 > τ and ω 0 > ω.
     The τ 0 < τ case is analogous, using ω 0 and ω 00 . Therefore Ω(τ ) is a non-empty interval.
     The same pair of inequalities proves that for τ < τ 0 ≤ τ̄ (c), if ω ∈ Ω(τ ) and ω 0 ∈ Ω(τ 0 ),
     then ω ≥ ω 0 .

  3. Ω(τ ) is a singleton for all but a countable subset of [0, τ̄ (c)]. Since Ω(τ ) ⊂ Ω is a
     non-empty interval for any τ ∈ [0, τ̄ (c)], Ω(τ ) is measurable for any τ ∈ [0, τ̄ (c)]. Let
     T0 denote the subset of locations τ such that µ[Ω(τ )] > 0, where µ is the Lebesgue
     measure over R. T0 is a countable set. For any τ ∈ T0 , define ω(τ ) ≡ inf Ω(τ ) and
     ω̄(τ ) ≡ sup Ω(τ ). Because µ[Ω(τ )] > 0, we know ω̄(τ ) > ω(τ ). Thus, for any τ ∈ T0 ,
     there exists a j ∈ N such that ω̄(τ ) − ω(τ ) ≥ (ω̄ − ω)/j. From the last result in step
     2, we know that for any τ 6= τ 0 , µ[Ω(τ ) ∩ Ω(τ 0 )] = 0. Thus, for any j ∈ N, there can
     be at most j elements {τ1 , . . . , τj } ≡ T0j ⊂ T0 for which ω̄(τi ) − ω(τi ) ≥ (ω̄ − ω)/j
     for i = 1, . . . , j. By construction, T0 = ∪j∈N T0j , where T0j is a countable set. Since
     the union of countable sets is countable, T0 is a countable set. The fact that Ω(τ ) is
     a singleton for all but a countable subset of [0, τ̄ (c)] follows from the fact that T0 is a
     countable set and the fact that only the nonempty intervals of Ω with measure zero
     are singletons.

  4. T (ω) is a singleton for all but a countable subset of Ω. This follows from the same
     arguments as in steps 2 and 3.

  5. Ω(τ ) is a singleton for τ ∈ [0, τ̄ (c)]. Suppose not, such that there exists τ ∈ [0, τ̄ (c)] for
     which Ω(τ ) is not singleton. By step two, Ω(τ ) is an interval, so µ[Ω(τ )] > 0, where µ
     is the Lebesgue measure over R. By step four, we know that T (ω) = {τ } for µ-almost
     all ω ∈ Ω(τ ). Hence condition (11) implies

                   f (ω, c, τ ) =f (ω)δ Dirac [1 − 1Ω(τ ) ] for µ-almost all ω ∈ Ω(τ ),          (15)

     where δ Dirac is a Dirac delta function. Combining equations (9) and (15) with µ[Ω(τ )] >
     0 yields S 0 (τ ) = +∞, which contradicts our assumptions about S(τ ).

Step 5 means there is a function N : T → Ω such that f (ω, c, τ ) > 0 ⇐⇒ N (τ ) = ω.

                                                  44
Step 2 says N is weakly decreasing. Since Ω(τ ) 6= ∅ ∀τ ≤ τ̄ (c), N is continuous and satisfies
N (0) = ω̄ and N (τ̄ (c)) = ω. Step 4 means that N is strictly decreasing on (0, τ̄ (c)).

   Proof of the explicit expression of N (τ ) that follows Lemma 2:

                                   ˆ     τ   ˆ     ˆ
                       S(τ ) = L                          f (ω, c, x, σ)dωdσdx
                                   ˆ 0
                                         τ   ˆ
                                             σ∈Σ    ω∈Ω

                              =L                   f (ω)δ Dirac [x − N −1 (ω)]dωdx
                                ˆ0 τ ˆω∈Ω
                            =L           f (N (τ 0 ))δ Dirac [x − τ 0 ]N 0 (τ 0 )dτ 0 dx
                                  ˆ ττ
                                 0     0


                            = −L       f (N (x))N 0 (x)dx = L(1 − F (N (τ )))
                                   0            
                                −1    L − S(τ )
                   ⇒ N (τ ) = F
                                          L

   Proof of Lemma 3:

Proof. By utility maximization

                     A(c)T (τ )G(N (τ )) − r(c, τ ) ≥ A(c)T (τ + dτ )G(N (τ )) − r(c, τ + dτ )
    A(c)T (τ + dτ )G(N (τ + dτ )) − r(c, τ + dτ ) ≥ A(c)T (τ )G(N (τ + dτ )) − r(c, τ )

   Together, these inequalities imply

            A(c)T (τ + dτ )G(N (τ )) − A(c)T (τ )G(N (τ ))   r(c, τ + dτ ) − r(c, τ )
                                                           ≤
                                 dτ                                    dτ
                          A(c)T (τ + dτ )G(N (τ + dτ )) − A(c)T (τ )G(N (τ + dτ ))
                      ≤
                                                    dτ

     Taking the limit as dτ → 0, we obtain ∂r(c,τ   )
                                                      = A(c)T 0 (τ )G(N (τ )). Integrating from τ to
                                                ∂τ
                                                                                  ´ τ̄ (c)
τ̄ (c) and using the boundary condition r(c, τ̄ (c)) = 0 yields r(c, τ ) = −A(c) τ T 0 (t)G(N (t))dt.


   Proof of Lemma 4:
   This proof is analogous to the proof of lemma 2.
   Proof of Lemma 5:




                                                       45
Proof. By utility maximization

                                       γG(K(γ)) − rΓ (γ) ≥(γ + dγ)G(K(γ)) − rΓ (γ + dγ)
                (γ + dγ)G(K(γ + dγ)) − rΓ (γ + dγ) ≥γG(K(γ + dγ)) − rΓ (γ)

   Together, these inequalities imply

(γ + dγ)G(K(γ + dγ)) − γG(K(γ + dγ)) rΓ (γ + dγ) − rΓ (γ)   (γ + dγ)G(K(γ)) − γG(K(γ))
                                    ≥                     ≥
                 dγ                           dγ                        dγ

   Taking the limit as dγ → 0, we obtain ∂r∂γΓ (γ)
                                                   = G(K(γ)). Integrating from γ to γ and
                                                       ´γ
using the boundary condition rΓ (γ) = 0 yields rΓ (γ) = γ G(K(x))dx.

   Proof of Lemma 6:

Proof. In city c, the population of individuals with skills between ω and ω + dω is
                ˆ     ω+dω                       −1            −1        
                                              −1  K (ω)         −1  K (ω + dω)
            L                f (x, c)dx = S T              −S T                   .
                  ω                                A(c)                 A(c)

Taking the derivative with respect to dω and then taking the limit as dω → 0 yields the
population of ω in c. Using the definition of s(γ, c) yields the desired expression.

   Proof of Lemma 7:

Proof. In city c, the population of individuals employed in sectors between σ and σ + dσ is
       ˆ   σ+dσ                       −1 −1             −1 −1         
                                   −1  K (M (σ))         −1  K (M (σ + dσ))
   L              f (x, c)dx = S T                  −S T                       .
       σ                                  A(c)                   A(c)

Taking the derivative with respect to dσ and then taking the limit as dσ → 0 yields the
population employed in σ in c. Using the definition of s(γ, c) yields the desired expression.


   In the course of proving Proposition 1, we use the following lemma.
Lemma 8. Let f (z) : R → R++ and g(x, y) : R2 → R++ be C 2 functions. If g(x, y) is
submodular and log-modular, then f (g(x, y)) is log-supermodular in (x, y) if and only if f (z)
has a decreasing elasticity.
Proof. f (g(x, y)) is log-supermodular in (x, y) if and only if

                        ∂ 2 ln f (g(x, y)                      ∂ 2 ln f (z)
                                                                                 
                                              ∂ ln f (z)
                                          =              gxy +              gx gy            >0
                              ∂x∂y               ∂z                ∂z 2            |z=g(x,y)


                                                         46
If g(x, y) is submodular (gxy < 0) and log-modular (g = ggxxygy ), this condition can be written
as

                    ∂ ln f (z) ∂ 2 ln f (z) gx gy
                                                                       
                                                            ∂ ∂ ln f (z)
                              +                           =                 < 0.
                       ∂z          ∂z 2      gxy |z=g(x,y) ∂z     ∂ ln z



    Proof of Proposition 1:

Proof. Recall that the supply of locations with attractiveness γ in city c is
                                                                 
                                                1            γ
                                         
                                               A(c)
                                                    V       A(c)
                                                                       if γ ≤ A(c)T (0)
                             s(γ, c) =                                                        .
                                         0                            otherwise

It is obvious that γ > γ 0 , c > c0 ⇒ s(γ, c)s(γ 0 , c0 ) ≥ s(γ, c0 )s(γ 0 , c) is true              0
                                                                                     when γ > A(c )T (0).
                                                                                 γ
For γ ≤ A(c0 )T (0), the inequality holds true if and only if V A(c)                   is log-supermodular in
                    γ
(γ, c). Note that A(c) is submodular and log-modular in (γ, c). Therefore, by lemma 8, s(γ, c)
is log-supermodular if and only if V (z) has a decreasing elasticity.

    Proof of Proposition 2:

Proof. s(γ, c) ≥ s(γ, c0 ) is trivially true for γ > A(c0 )T (0). For γ ≤ A(c0 )T (0),
                                                                                   
                             0                       γ                        γ
           s(γ, c) ≥ s(γ, c ) ⇐⇒ ln V                           − ln V                    ≥ ln A(c) − ln A(c0 )
                                                    A(c)                     A(c0 )

This condition can be rewritten as
                                 ˆ   ln A(c)                         ˆ ln A(c)
                                            −∂ ln V (z)
                                                            d ln x ≥            d ln x
                                  ln A(c0 )   ∂ ln z |z= γx           ln A(c0 )
                       ˆ ln A(c)                        
                                   −∂ ln V (z)
                                                      − 1 d ln x ≥0
                        ln A(c0 )      ∂ ln z |z= γx

Thus, a sufficient condition for the larger city to have more locations of attractiveness γ
when V (z) has a decreasing elasticity is ∂ ln V (z)
                                            ∂ ln z
                                                                  γ
                                                     ≤ −1 at z = A(c) .


C      Appendix: Empirical Tests
This section describes the relationship between our two empirical tests in more detail.



                                                             47
    If f (ν, c) is log-supermodular and f (ν, c) > 0 ∀ν∀c,

                     ν > ν 0 , c > c0 ⇒ ln f (ν, c) + ln f (ν 0 , c0 ) ≥ ln f (ν 0 , c) + ln f (ν, c0 ).

If C and C 0 are distinct sets and C is greater than C 0 (inf c∈C L(c) > supc0 ∈C 0 L(c0 )), then
               X                         X                               X                          X
                     ln f (ν, c) +                ln f (ν 0 , c0 ) ≥             ln f (ν 0 , c) +             ln f (ν, c0 ) ∀ν > ν 0
               c∈C                      c0 ∈C 0                           c∈C                       c0 ∈C 0


    Suppose that the world is noisy. Consider the following form for ln f (ν, c), which is a
first-order approximation for any form,

                                                   ln f (ν, c) =αν + βν ln Lc + ν,c

where ν,c is an error term with E(ν,c ) = 0. The probability of obtaining the expected
inequality when ν > ν 0 , C > C 0 is
                                                                                                                                 !
                X                           X                               X                          X
          Pr           ln f (ν, c) +                 ln f (ν 0 , c0 ) ≥            ln f (ν 0 , c) +              ln f (ν, c0 )
                c∈C                        c0 ∈C 0                          c∈C                        c0 ∈C 0
                                                                                                                    !
                     X                               X                                          X         X
          = Pr               ν 0 ,c − ν,c +                 ν,c0 − ν 0 ,c0   ≤ (βν − βν 0 )(  ln Lc −   ln Lc0 ) .
                      c∈C                           c0 ∈C 0                                           c∈C                   c0 ∈C 0


 To illustrate the properties of this probability, consider the special case in which the error
term is normally distributed, ν,c ∼ N (0, σ 2 ), so that the sum of the error terms is also
normally distributed.60 Then this probability P is
                                                                     P               P                  !
                                                     βν − βν 0           c∈C ln Lc −    0
                                                                                       c ∈C   0 ln L c0
                                  P=Ω                 √                  pP            P                  ,
                                                        2σ 2                   c∈C 1 +    c0 ∈C 0 1


where Ω(·) denotes the cumulative distribution function of N (0, 1).   P The probability          of
                                                                                                   
                                                                                  P
obtaining the inequality depends on the difference in population size    √Pln Lc − P
                                                                         c∈C        c0 ∈C 0 ln Lc0
                                                                                                    ,
                                                                                                                                      c∈C   1+   c0 ∈C 0   1
                                                                                                                        2
the difference in population elasticities (βν − βν 0 ), and the noisiness (σ ) of the relationship.
When the deterministic function is log-supermodular (c > c0 ⇒ Lc ≥ Lc0 ; ν > ν 0 ⇒ βν ≥ βν 0 ),
P → 1 as σ 2 → 0 (and P → 1/2 as σ → ∞). When the function is log-modular, P → 1/2 as
  60
     This specification assumes that the errors are homoscedastic. Empirically, we estimate that the residuals’
variance does not increase with population size; if anything, there is a slight negative relationship. Even in
the heteroscedastic
                      case in which the variance
                                                     increases with population
                                                                                 size, with ν,c ∼ N (0,σ 2 ln Lc ) and
                   P            P
                                                                                    √
P = Ω β√   ν −βν 0
                   √Pc∈C ln Lc − Pc0 ∈C0 ln Lc0 , the probability P = Ω β√ν −βν 0
                                                                                   · nC · √ln L̄C −ln L̄C0 exhibits the
             2σ 2      c∈C   ln Lc +   c0 ∈C 0   ln Lc0                     2σ 2                                         ln L̄C +ln L̄C0
same desirable properties as the homoscedastic case.


                                                                            48
σ 2 → 0, and when the function is log-submodular, P → 0 as σ 2 → 0.
    This probability increases with aggregation by summation. Denote the number of ele-
ments in C and C 0 by nC and nC 0 , respectively, and define the average ln L̄C 0 ≡ n1 0 c0 ∈C 0 ln Lc0 .
                                                                                        P
                                                                                     C
If we aggregate into bins with equal numbers of cities so that nC = nC 0 , the probability of
obtaining the inequality simplifies to
                                                                           
                                        βν − βν 0 √
                            P=Ω          √       · nC · (ln L̄C − ln L̄C 0 ) ,
                                           2σ 2

which is increasing in the number of cities in the “bin”.
    Thus, our finding that βν is increasing in ν when estimated in the population elasticity
test implies that this pairwise comparison test will tend to have the correct inequality, and
its success rate will increase with differences in city size and aggregation. The success of
the elasticity test implies success of the pairwise comparison test (with aggregation) to the
extent that the log-linear approximation of f (ν, c) is a good approximation. The figures in
section 1 suggest that these are reasonable approximations. They also show noise, such that
σ 2  0, so we should not expect the pairwise comparison test to have a 100% success rate.


D      Appendix: Data
Data sources: Our metropolitan population data are from the US Census website (2000).
Our data on individuals’ demographics, educational attainments, geographic locations, and
sectors of employment come from the 5 percent sample of the 2000 US Census and the
1 percent metro sample of the 1980 US Census made available by IPUMS-USA (Ruggles,
Alexander, Genadek, Goeken, Schroeder, and Sobek, 2010). Our data on industrial employ-
ment come from the 2000 County Business Patterns, available from the US Census Bureau
website. Our data on occupational employment come from the 2000 Occupational Employ-
ment Statistics, available from the Burea of Labor Statistics website.
    Geography: We use (consolidated) metropolitan statistical areas as defined by the OMB
as our unit of analysis.
    The smallest geographic unit in the IPUMS-USA microdata is the public-use microdata
area (PUMA), which has a minimum of 100,000 residents. We map the PUMAs to metropoli-
tan statistical areas (MSAs) using the MABLE Geocorr2K geographic correspondence engine
from the Missouri Census Data Center. In some sparsely populated areas, a PUMA is larger
than a metropolitan area. We drop six MSAs in which fewer than half of the residents of
the only relevant PUMA live within the metropolitan area. As a result, there are 270 MSAs
when we use these microdata.


                                                    49
    The 1980 Census of Population IPUMS-USA microdata do not identify PUMAs, so we
use the “metarea” variable describing 253 consolidated MSAs for the regressions in Table 5.
    The County Business Patterns data describe 318 metropolitan statistical areas. These
correspond to a mix of OMB-defined primary and consolidated metropolitan statistical ar-
eas outside New England and New England county metropolitan areas (NECMAs). We
aggregate these into OMB-defined (consolidated) metropolitan statistical areas to obtain
276 MSAs.
    The Occupational Employment Statistics data describe 331 (primary) metropolitan sta-
tistical areas. We aggregate these into OMB-defined (consolidated) metropolitan statistical
areas to obtain observations for 276 MSAs.
    Skill distribution: Our sample of individuals includes all full-time, full-year prime-age
workers, defined as individuals 25 to 55 years of age who reported working at least 35 hour
per week and 40 weeks in the previous year. Using the “educd” variable from IPUMS, we
construct nine levels of educational attainment: less than high school, high school dropout,
high school graduate, some college, associate’s degree, bachelor’s degree, master’s degree,
professional degree, and doctorate. There is at least one observation in every educational
category in every metropolitan area.
    Sectoral skill intensity: Using the same sample of full-time, full-year prime-age work-
ers, we measure a sector’s skill intensity by calculating the average years of schooling of its
employees after controlling for spatial differences in average schooling. We calculate years of
schooling using the educational attainment “educd” variable from IPUMS at its finest level
of disaggregation. For instance, this means that we distinguish between those whose highest
educational attainment is sixth grade or eighth grade. We use the “indnaics” and “occsoc”
variables to assign individuals to their 3-digit NAICS and 2-digit SOC sectors of employ-
ment. Aggregating observations to the MSA-sector level, weighted by the IPUMS-provided
person weights, we regress the average years of schooling on MSA and sectoral dummies.
The sectoral dummy coefficients are our measure of skill intensities.
    Industrial employment: There 96 3-digit NAICS industries, of which 21 are manufac-
turing industries. 75 of these industries, including all 21 manufacturing industries, appear
in both the Census of Population microdata and the County Business Patterns data. The
County Business Patterns data are an almost exhaustive account of US employer establish-
ments. When necessary to protect the confidentiality of individual establishments, employ-
ment in an industry in a location is reported as falling within an interval rather than its exact
number. In our empirical work, we use the midpoints of these intervals as the level of em-
ployment. There are 390 (C)MSA-manufacturing-industry pairs, out of 5796 = 21 × 276, in
which there are zero establishments. The County Business Patterns data omit self-employed


                                               50
individuals and employees of private households, railroads, agriculture production, the postal
service, and public administrations. See the CBP methodology webpage for details.
    Occupational employment: There are 22 2-digit SOC occupations. Across 331 (P)MSAs,
there should be 7282 metropolitan-occupation observations. The 2000 BLS Occupational
Employment Statistics contain employment estimates for 7129 metropolitan-occupation ob-
servations, none of which are zero. The 153 omitted observations “may be withheld from
publication for a number of reasons, including failure to meet BLS quality standards or the
need to protect the confidentiality of [BLS] survey respondents.”


E     Appendix: Tables




                                            51
                     Table 6: Pairwise comparisons of three skill groups
                                             College vs    College vs   Some college       Total
Bins   Birthplace   Weights                 some college   HS or less   vs HS or less   comparisons   Average
2      All          Unweighted                   1              1             1               3          1
2      All          Population difference        1              1             1               3          1
2      US-born      Unweighted                   1              1             1               3          1
2      US-born      Population difference        1              1             1               3          1
3      All          Unweighted                   1              1             1               9          1
3      All          Population difference        1              1             1               9          1
3      US-born      Unweighted                   1              1             1               9          1
3      US-born      Population difference        1              1             1               9          1
5      All          Unweighted                   1              1           .900             30        .967
5      All          Population difference        1              1           .955             30        .985
5      US-born      Unweighted                   1              1           .900             30        .967
5      US-born      Population difference        1              1           .955             30        .985
10     All          Unweighted                 .844           .844          .711             135       .800
10     All          Population difference      .927           .944          .852            135        .908
10     US-born      Unweighted                 .844           .889          .756            135        .830
10     US-born      Population difference      .927           .956          .870            135        .918
30     All          Unweighted                 .768           .726          .632            1305       .709
30     All          Population difference      .887           .853          .716            1305       .819
30     US-born      Unweighted                 .782           .784          .694            1305       .753
30     US-born      Population difference      .893           .898          .812            1305       .868
90     All          Unweighted                 .684           .667           .58           12,015      .644
90     All          Population difference      .804           .779          .627           12,015      .737
90     US-born      Unweighted                 .679           .693          .639           12,015      .670
90     US-born      Population difference      .799           .809          .727           12,015      .778
270    All          Unweighted                 .629           .616          .556          108,945      .600
270    All          Population difference      .717           .695          .588          108,945      .667
270    US-born      Unweighted                 .624           .635          .589          108,945      .616
270    US-born      Population difference      .712           .726          .647          108,945      .695




                                                 52
Table 7: Pairwise comparisons of nine skill groups with one city per bin
    Unweighted comparisons
          LHS HSD HS CD AA BA MA Pro
    HSD .423
    HS    .399 .413
    CD    .428 .486 .587
    AA     .43 .483 .571 .483
    BA    .476 .555 .644 .619 .602
    MA .484 .558 .643 .614 .615 .528
    Pro   .484 .57 .645 .617 .604 .524 .499
    PhD .49 .548 .598 .576 .577 .521 .501 .511
    Population-difference weighted comparisons of US born
          LHS HSD HS CD AA BA MA Pro
    HSD .568
    HS    .488 .435
    CD    .583 .569 .649
    AA    .552 .53 .616 .453
    BA    .644 .65 .738 .695 .682
    MA .648 .651 .738 .686 .695 .544
    Pro   .654 .654 .73 .676 .676 .533 .493
    PhD .611 .605 .651 .605 .617 .502 .476 .497




                                  53
                 Table 8: Pairwise comparisons of nine skill groups
                                       Total     All individuals     US-born
        Bins Weights               comparisons     success rate    success rate
        2    Unweighted                   36           .583            .778
        2    Population difference        36           .583            .778
        2    Pop diff x edu shares       36            .766            .860
        3    Unweighted                  108           .574            .713
        3    Population difference       108           .609            .771
        3    Pop diff x edu shares       108           .773            .847
        5    Unweighted                  360           .581            .714
        5    Population difference       360           .622            .768
        5    Pop diff x edu shares       360           .768            .837
        10   Unweighted                 1620           .575            .662
        10   Population difference      1620           .620            .733
        10   Pop diff x edu shares      1620           .742            .800
        30   Unweighted               15,660           .567            .616
        30   Population difference     15,660          .610            .691
        30   Pop diff x edu shares    15,660           .719            .763
        90   Unweighted               144,180          .547            .582
        90   Population difference    144,180          .585            .647
        90   Pop diff x edu shares    144,180          .666            .698
        270 Unweighted               1,307,340         .536            .559
        270 Population difference    1,307,340         .564            .605
        270 Pop diff x edu shares    1,307,340         .614            .636


                    Table 9: Occupational employment population elasticities
βσ1 Farming, Fishing, and Forestry Occupations          0.803 βσ12 Sales and Related Occupations                        1.037
× log population                                       (0.048)   × log population                                       (0.010)
βσ2 Building and Grounds Cleaning and Maintenance 1.039 βσ13 Management occupations                                     1.082
× log population                                       (0.011)   × log population                                       (0.015)
βσ3 Food Preparation and Serving Occupations            0.985 βσ14 Arts, Design, Entertainment, Sports, and Media       1.158
× log population                                       (0.011)   × log population                                       (0.019)
βσ4 Construction and Extraction Occupations             1.037 βσ15 Business and Financial Operations Occupations        1.204
× log population                                       (0.014)   × log population                                       (0.018)
βσ5 Production Occupations                              1.045 βσ16 Architecture and Engineering Occupations             1.209
× log population                                       (0.025)   × log population                                       (0.026)
βσ6 Transportation and Material Moving Occupations 1.061 βσ17 Computer and Mathematical Occupations                     1.395
× log population                                       (0.014)   × log population                                       (0.034)
βσ7 Installation, Maintenance, and Repair Workers       1.015 βσ18 Healthcare Practitioners and Technical Occupations   1.001
× log population                                       (0.011)   × log population                                       (0.014)
βσ8 Healthcare Support Occupations                      0.980 βσ19 Community and Social Services Occupations            0.986
× log population                                       (0.013)   × log population                                       (0.020)
βσ9 Personal Care and Service Occupations               1.065 βσ20 Education, Training, and Library Occupations         1.011
× log population                                       (0.017)   × log population                                       (0.017)
βσ10 Office and Administrative Support Occupations      1.081 βσ21 Life, Physical, and Social Science Occupations       1.170
× log population                                       (0.010)   × log population                                       (0.030)
βσ11 Protective Service Occupations                     1.123 βσ22 Legal Occupations                                    1.200
× log population                                       (0.014)   × log population                                       (0.022)
                                                Observations 5943
                                                   R-squared 0.931
                                      Occupation fixed effects Yes
                                       Standard errors, clustered by MSA, in parentheses



                                                            54
                         Table 10: Pairwise comparisons of occupations
       Bins       Weights                                  Comparisons Success rate
       2          Unweighted                                    231       .714
       2          Population difference                         231       .714
       2          Population difference × skill difference      231       .775
       3          Unweighted                                    693       .688
       3          Population difference                         693       .694
       3          Population difference × skill difference      693       .736
       5          Unweighted                                   2,310      .684
       5          Population difference                        2,310       .71
       5          Population difference × skill difference     2,310      .756
       10         Unweighted                                  10,395      .653
       10         Population difference                       10,395      .689
       10         Population difference × skill difference    10,395      .735
       30         Unweighted                                 100,485      .599
       30         Population difference                      100,485      .628
       30         Population difference × skill difference   100,485      .662
       90         Unweighted                                 925,155      .564
       90         Population difference                      925,155      .582
       90         Population difference × skill difference   925,155      .606
       276        Unweighted                                8,073,382     .543
       276        Population difference                     8,073,382     .571
       276        Population difference × skill difference  8,073,382     .598
         Note: The number of cities per “bin” may differ by one, due to the integer constraint.



                       Table 11: Industrial employment population elasticities
βσ1 Apparel Manufacturing                         1.237     1.024 βσ11 Nonmetallic Mineral Product Manufacturing   1.018     0.955
× log population                                  (0.070)         × log population
                                                            (0.148)                                                (0.036)   (0.042)
βσ2 Textile Product Mills                       1.125 0.905 βσ12 Paper Manufacturing                               0.901     0.539
× log population                                (0.056) (0.135) × log population                                   (0.063)   (0.104)
βσ3 Leather and Allied Product Manufacturing    0.743 0.147 βσ13 Printing and Related Support Activities           1.202     1.122
× log population                                (0.099) (0.284) × log population                                   (0.036)   (0.047)
βσ4 Furniture and Related Product Manufacturing 1.120 1.000 βσ14 Electrical Equipment, Appliance & Component       1.159     0.813
× log population                                (0.050) (0.076) × log population                                   (0.074)   (0.111)
βσ5 Textile Mills                               0.823 0.352 βσ15 Machinery Manufacturing                           1.071     0.960
× log population                                (0.105) (0.208) × log population                                   (0.055)   (0.069)
βσ6 Wood Product Manufacturing                  0.848 0.608 βσ16 Miscellaneous Manufacturing                       1.224     1.208
× log population                                (0.055) (0.085) × log population                                   (0.044)   (0.059)
βσ7 Fabricated Metal Product Manufacturing      1.094 1.036 βσ17 Beverage and Tobacco Product Manufacturing        1.168     1.010
× log population                                (0.048) (0.050) × log population                                   (0.065)   (0.147)
βσ8 Food Manufacturing                          0.953 0.864 βσ18 Transportation Equipment Manufacturing            1.254     0.940
× log population                                (0.050) (0.067) × log population                                   (0.075)   (0.101)
βσ9 Plastics and Rubber Products Manufacturing  1.105 0.975 βσ19 Petroleum and Coal Products Manufacturing         0.951     0.393
× log population                                (0.056) (0.070) × log population                                   (0.074)   (0.308)
βσ10 Primary Metal Manufacturing                0.997 0.449 βσ20 Computer and Electronic Product Manufacturing     1.453     1.254
× log population                                (0.078) (0.107) × log population                                   (0.075)   (0.108)
                                                                  βσ21 Chemical Manufacturing                      1.325     0.992
                                                                  × log population                                 (0.065)   (0.098)
Observations                                     5406     2130 Observations                                        5406      2130
R-squared                                       0.564 0.541 R-squared                                              0.564     0.541
Industry fixed effects                            Yes      Yes    Industry fixed effects                            Yes       Yes
Only uncensored observations                              Yes     Only uncensored observations                                Yes
                                         Standard errors, clustered by MSA, in parentheses




                                                                      55
      Table 12: Pairwise comparisons of manufacturing industries
Bins Weights                                  Comparisons Success rate
2    Unweighted                                    210         .648
2    Population difference                        210          .648
2    Population difference × skill difference      210         .767
3    Unweighted                                    630         .637
3    Population difference                        630            .64
3    Population difference × skill difference      630         .736
5    Unweighted                                   2100           .63
5    Population difference                        2100         .629
5    Population difference × skill difference     2100         .715
10   Unweighted                                   9450         .589
10   Population difference                        9450         .604
10   Population difference × skill difference     9450         .678
30   Unweighted                                  91,350        .559
30   Population difference                       91,350        .577
30   Population difference × skill difference    91,350        .631
90   Unweighted                                 817,344        .536
90   Population difference                      817,344        .545
90   Population difference × skill difference   817,344        .576
276 Unweighted                                 6,183,770       .529
276 Population difference                      6,183,770       .538
276 Population difference × skill difference   6,183,770       .558
Note: The number of cities per “bin” may differ by one, due to the integer constraint.




                                         56
