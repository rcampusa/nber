                              NBER WORKING PAPER SERIES




                DOES CLASS SIZE MATTER? HOW, AND AT WHAT COST?

                                        Desire Kedagni
                                          Kala Krishna
                                    Rigissa Megalokonomou
                                         Yingyan Zhao

                                       Working Paper 25736
                               http://www.nber.org/papers/w25736


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                     April 2019




The views expressed herein are those of the authors and do not necessarily reflect the views of the
National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

Â© 2019 by Desire Kedagni, Kala Krishna, Rigissa Megalokonomou, and Yingyan Zhao. All
rights reserved. Short sections of text, not to exceed two paragraphs, may be quoted without
explicit permission provided that full credit, including Â© notice, is given to the source.
Does Class Size Matter? How, and at What Cost?
Desire Kedagni, Kala Krishna, Rigissa Megalokonomou, and Yingyan Zhao
NBER Working Paper No. 25736
April 2019
JEL No. C61,I20,I28,J48

                                         ABSTRACT

Using high quality administrative data on Greece we show that class size has a hump shaped
effect on achievement. We do so both nonparametrically and parametrically, while controlling for
potential endogeneity and allowing for quantile effects. We then embed our estimates for this
relationship in a dynamic structural model with costs of hiring and firing.

We argue that the linear specification form used in past work may be why it found mixed results.
Our work suggests that while discrete reductions in class size may have mixed effects, discrete
increases are likely to have very negative effects while marginal changes in class size would have
small negative effects.

We find optimal class sizes around 27 in the absence of adjustment costs and achievement
maximizing ones around 15, and firing costs much larger than hiring costs consistent with the
presence of unions. Despite this, reducing firing costs actually reduces achievement. Reducing
hiring costs raises achievement and reduces class size. We show that class size caps are costly,
and more so for small schools, even when set at levels well above average.


Desire Kedagni                                  Rigissa Megalokonomou
Iowa State University                           Department of Economics
Department of Economics                         University of Qeensland
467 Heady Hall, 518 Farm House Lane             r.megalokonomou@uq.edu.au
Ames, IA 50011-0154
dkedagni@iastate.edu                            Yingyan Zhao
                                                The Pennsylvania State University
Kala Krishna                                    zhaoyingyan0705@gmail.com
Department of Economics
523 Kern Graduate Building
The Pennsylvania State University
University Park, PA 16802
and NBER
kmk4@psu.edu
1 Introduction
What determines student achievement?            The usual approach is to think of achievement as the

output of an educational production function. Inputs into this educational production function

include teacher quality, class size, resources, peer eects (possibly positive spillover eects and

negative disruption eects), as well as past achievement since achievement builds on the past

knowledge.

   In this paper, we focus on the eects of class size on achievement. This area has been widely

studied in both labor economics and education. Somewhat surprisingly, the estimates are relatively

mixed. A recent paper, Leuven et al. (2008) summarize the state of the debate as follows:


         One of the still unresolved issues in education research concerns the eects of class size

         on students' achievement. It is by now well-understood that endogeneity problems may

         severely bias naive OLS estimates of the class size eect, and that exogenous sources

         of variation in class size are key for a credible identication of the class size eect.

         Various recent studies acknowledge this and apply convincing identication methods.

         This has, however, not led to a denite conclusion about the magnitude or even the

         sign of the class size eect.


   While performance has been related to class size, there has been little attempt to allow for
                       1
nonmonotonicities.         For example, it could be that larger class size rst raises (as students learn

from each other as well as the teacher) and then lowers achievement (when congestion eects take

over).    In this paper, we explicitly allow for such possibilities.    We argue that not allowing for

nonmonotonicities could be why the literature has found mixed results.

   We use high quality administrative data on Greece to rst show nonparametrically that there

does indeed seem to be such a hump shape in the data. Following this, we estimate a parametric

relationship between class size and achievement while carefully dealing with issues of endogeneity

of class size. We show that class size does matter and that the linear specication form used in

past work may be why past results were mixed. After all, if we t a linear regression when the true

relationship is quadratic, we could get a positive, negative or zero slope depending on the precise

shape of the underlying true quadratic relationship. Our estimates suggest that the shape of this

relationship is relatively at in the relevant region, namely the region close to the chosen class

size. As a result, a marginal reduction in class size can have a small positive eect on achievement.

Moreover, as the chosen class size, in the presence of adjustment costs, will exceed the class size

at which achievement is maximized, a large        reduction   in class size could easily move achievement

  1 Most   work assumes a linear form.

                                                      1
to the other side of the hump and have little or no eect on achievement. For these reasons, the

eect of increases versus decreases in class size can be very asymmetric. All of this is consistent

with what the literature has found: namely that decreasing class size is a costly way of raising

achievement.

   We further explore the data to look for evidence of quantile eects. We nd that the hump

shape is present across all quantiles, i.e., for students of all abilities. The hump shape is however

more pronounced for worse students.

   This paper proceeds as follows. In Section 2, we put our work in perspective relative to the

literature. In Section 3, we describe where the data came from, present some summary statistics

and descriptive regressions. In Section 4, we present the rst nonparametric evidence of a hump

shaped relationship in class size and achievement. In Section 5, we take a parametric approach

and use the Hoxby instrument, see Hoxby (2000), to control for endogeneity.          In Section 6, we

present our quantile IV results.

   With the estimates of the eects of class size on achievement in hand, we are in a position to

understand how class size is chosen. If the government cares about achievement, and faces costs

of adding classes, its behavior in terms of the number of classes it chooses as enrollment uctuates

helps us estimate the costs involved. We use our reduced form estimates in a dynamic structural

model of class size to estimate hiring/ring and marginal cost of adding a class. Our estimates

here are in line with actual teacher salaries. Finally, in Greece, as in much of the rest of the world,

teachers unions are a powerful force to be reckoned with. Their power is expressed not only in

terms of wages set but in terms of the ability to re teachers at will. We use the model to ask

whether inexibility in terms of unions creating high ring (and even maybe hiring) costs might

be driving class size choices by government and the impact of this on student achievement if any.

We nd that unions, even if they raise costs and class size, have a small eect on achievement.

Finally, we look at the costs versus benets of class size requirements. Section 7 concludes.




2 Relation to the Literature
Given the increasing importance of skills in the labor force in the age of robotics and articial

intelligence, there is intense interest in what drives educational attainment. A small part of this

debate has focused on the role of class size on achievement. An excellent, though slightly dated

survey can be found in Hanushek (2003) and Rivkin et al. (2005).

   The main problem is that class size itself is a choice, i.e., it is highly endogenous.      Teach-

ers and headmasters are better informed about students than the econometricians.            Based on




                                                  2
students' characteristics that the econometricians do not observe, headmasters tend to allocate

better students to larger classes, thus generating a positive correlation between class size and stu-

dent performance. As a result, OLS estimates of the coecients on class size cannot be interpreted

causally. This is not a problem specic to class size, but is more general. For example, estimat-

ing eects of other school inputs on pupil outcomes is also complicated by potential endogeneity
          2
issues.       The usual way to deal with this problem is to have a good instrument or an experiment

and this is essentially the route the literature has taken as described below.

    The best known experiment is the Tennessee STAR experiment.                         Students were randomly

assigned to dierent sized classes. This should make it straightforward to estimate at least the

policy eect of class size. However, there remain concerns about whether teacher quality changed,

and the attrition and entry of students throughout the experiment (which could also have been

endogenous) could confound the results (Hoxby, 2000; Hanushek, 1999).                         Krueger (1999) and

Krueger and Whitmore (2001) nd that smaller class sizes in kindergarten and rst grade seemed

to have a signicant and lasting positive eect on academic achievement.

    More recently, Jepsen and Rivkin (2009) study California's class size reduction program for

grades K-3. This reduced class size on average from 30 to 20 at a cost of roughly a billion dollars.

They nd this policy raised math and reading achievement by roughly .10 and .06 standard

deviations of the average test scores respectively, holding other factors constant. This is about

the same eect as that of having a teacher with two more years of experience. Assuming teachers'

salaries rise at less than 15% per year of experience, class size reductions would seem the more
                      3
expensive option.         Chetty et al. (2014) shows that teacher quality measured as value added has a

huge eect on outcomes. Using U.S. data on over a million primary school children, he shows that

replacing a teacher in the lowest 5% of value added with the average teacher would have signicant

positive eects on outcomes like college attendance and teenage pregnancy and increase the lifetime

earnings of the students in a classroom by $250,000.

    In contrast to much of the work using eld experiments above, an elegant and often used

quasi experimental approach is based on class size limits which turn out to be relatively common.

Angrist and Lavy (1999) noticed that in Israeli public schools, by law, there could be no more

than 40 students in a class. Thus, if a cohort grew beyond 40, there would be an exogenous fall

in class size from 40 to 21, while if the cohort grew over 80, there would be an exogenous fall in

class size from 40 to 27, and so on. They show that without correcting for endogeneity, class size

   2 School   inputs are chosen by parents, school administrators, teachers, and politicians at both local and national
levels. For instance, parents locating close to resource abundant schools may have chosen to locate there because
they care a lot about their children's education and so also invest more time in their children's education (creating
a upward bias).
   3 It is also worth noting that the increase in demand for teachers resulted in a fall in their quality.



                                                          3
seems to be positively associated with achievement, but when endogeneity is controlled for the

sign is reversed. This makes economic sense as when students are good, larger class sizes can be

tolerated which will bias OLS estimates upwards. Their estimates are for grades 3, 4 and 5. The

coecient on class size is not signicant for grade 3, but is signicantly negative for grades 4 and

5. In general, estimates suggest that class size is a costly way of improving achievement.

   Other papers which exploit maximum class-size rules include BonesrÃ¸nning (2003) for Norway,

Urquiola (2006), Browning and Heinesen (2007) and Bingley et al. (2007) for Denmark. Browning

and Heinesen (2007) focus not only on class size but also on teacher hours per student. The class

size is limited to 28 students in Denmark. However, Bingley et al. (2007) nd that the target class

size in the data seems to be closer to 24 suggesting that the limit is not binding and the quasi

experimental approach is invalid.

   The other approach to correct for endogeneity of class size is related to the work of Hoxby

(2000). In the absence of binding class size limits, one might think of using variations in overall

enrollment as exogenous shocks. Hoxby goes a step further: she ts a quartic to the enrollment

data and uses deviations from the quartic as the exogenous variation. In this way, she controls for

trends in enrollment.

   Gary-Bobo and Mahjoub (2013) use data on French junior high schools and Urquiola (2006)

use Bolivian data and follow Hoxby's approach. Though the estimated causal eects of larger class

size tend to be negative, they remain small. In the context of the literature, our approach follows

Hoxby (2000). In our work, as there is no explicit class size cap, we cannot use the Angrist and

Lavy approach. As a result, we use Hoxby's instrument.

   Levin (2001) and Dobbelsteen et al. (2002) use a third source of quasi experimental variation.

They use PRIMA data.      This longitudinal survey of Dutch students in grades 2,4, 6 and 8 in

1994-5 is rich in information including IQ as well as a new instrument for class size. Dutch rules

link the number of teachers that can be hired to enrollment and this provides quasi exogenous

variation in the number of classrooms. Levin explores peer and quantile eects. Dobbelsteen et

al. (2002) also nd strong peer eects on student achievement. Controlling for peer eects, they

nd class size eect to either be insignicant or signicantly negative.

   Even with a good experiment, the literature has made a clear distinction between interpreting

the coecients as structural parameters (i.e., the causal eect of class size) and policy estimates

(i.e., the expected eect of an exogenous policy on class size). For example, suppose we changed

class size experimentally (so that one group of students was in large classes and another was in

small classes) and parental behavior responded to these changes, the estimated eects would be

compound eects including the pure eect of changing class size and the induced one on parental




                                                 4
behavior. Todd and Wolpin (2003) in particular emphasize that estimates of the class-size eect

even using experimental data should be interpreted as policy eects. In contrast, estimates aimed

at identifying structural parameters of the education production function could be interpreted

as the pure eect of class size, if other channels, like parental inputs in the example above, are

accounted for.

   It is worth noting that we could nd only two papers that allowed for nonmonotonic eects.

Borland et al. (2005) uses data from the Kentucky Department of Education for the third grade

in 1989-90. They specify a four-equation simultaneous equation system. Class size, achievement,

market competition and teacher salary are the endogenous variables and achievement is allowed to

be a quadratic function of class size. They argue that class size and GPA could be nonmonotonic.

Why? Students learn from peers like themselves and the larger the class, the more likely it is that

they have peers like themselves and GPA rises with class size. On the other hand, there is crowding

and ultimately these congestion forces dominate so that GPA rst rises with class size and then

falls which is what they nd. There are a number of issues with the paper. First, the economic

model behind their simultaneous equation system and the exclusion restrictions used is far from

clear. Second, their estimates are dicult to reconcile with their data patterns. Their estimates

suggest a peak of achievement around class size 26. If class size was being chosen to maximize

achievement subject to costs, the optimal class size must be to the right of the peak of achievement.

The optimal class size cannot be below 26 as raising class size would raise achievement and reduce

costs. However, 99% of data has class size below 26 which is hard to explain in terms of economics.

The paper also only presents the achievement equation and even for this equation, presents only

a subset of the estimated coecients.

   Bandiera et al. (2010) use rich data on student performance in undergraduate classes in the

UK. They allow for both nonmonotonicities and quantile eects.         However, they assume that

assignment of students to classes is random as they have no instrument. Their data has student

performance over time as well as teacher assignment so that they can incorporate both teacher

and student xed eects. Though they allow for nonmonotonic eects, they nd class size always

reduces performance, though the eect is not linear. Moreover, they nd that class size seems to

aect better students more.

   We argue that class size eects seem to be nonmonotonic, with class size initially increasing

and then reducing achievement. It could be that this hump shape might be why restricting the

functional form to be monotonic gave estimates that were small in size and variable in sign. In

addition, it is worth emphasizing that much of the work above uses data on lower grades.          In

contrast, our data is for high school students in Greece. It may well be that class size eects dier




                                                 5
greatly depending on the context: for young students it may have a large eect while for older

students the eect may be smaller or vice versa. Similarly, eects may be subject specic or dier

in intensity by sub groups. We allow for one such channel of heterogeneous class size eects in

our quantile IV regressions. We are also able to control for teacher xed eects, though only for

a limited subsample. Neither teacher xed eects nor heterogeneous class size eects change our

basic point and results regarding nonmonotonicity.




3 Data and Institutional Background
The Greek education system is run by the Ministry of Education, Research and Religious Aairs.

It exercises control over the state schools in terms of curriculum, stang and funding. Teachers

are civil servants and get a salary based on seniority, location and family size.             There are two

tracks for teachers:    permanent and temporary or substitute teachers.             The former got tenure

after two years of employment before 2013, though this is no longer the case. Teaching needs are

rst met by utilizing existing permanent sta, then by hiring temporary sta and only as a last

resort adding a permanent teacher. As there is an excess supply of teachers for High School, it is

relatively easy to hire on a temporary basis. Temporary teachers get paid on the same scale as

entry level permanent teachers, but only for the work they do. Permanent sta is very dicult

to re, especially in public schools where ring permanent sta is almost unheard of. Not only is

there compensation, but union involvement results in strikes in response to such actions. Teachers

can be red for an inability to do their job but documenting this is very dicult. Even in private

schools, severance pay for permanent teachers includes a month's salary for every year of seniority

up to 25 years. See Stylianidou et al. (2004) for details of how the system works.

   In Greece the government provides free education up to 12th grade for all students. There is an

exam for entrance to university but no tuition is charged. This is because the Greek constitution

says that all Greeks (and some foreigners) are entitled to free education. State-run schools and

universities even provide textbooks free to all students, although, from 2011 onward, shortages

have occurred.    There are private cram schools that operate side by side with the high schools

where students go for extra tuition to perform better in exams, and this is especially so in the
                         4
11th and 12th grades.        Most of the students attend such classes in the afternoon and evening in

addition to their normal schooling. Private universities and colleges operate alongside the public

ones.
   4 Cram schools are popular in a number of OECD countries. Out of all OECD countries, Greece is the country
with the second highest number of minutes spent attending after school classes/cram schools, ranking just after
Korea. See OECD (2013).


                                                      6
                                                                                             5
    In the 10th grade, students have, for the most part, a common curriculum.                    In the 11th and
                                                                        6
12th grade, they start to dier as they choose their tracks.                At the end of 12th grade, most

students take the university entrance exam. Their performance in this exam, together with their
                                                                                                         7
performance in high school determines their placement score for entrance into university.

    Students are assigned to a class (1,2,3,4, etc.). Students in a class stay together for all non track

subjects and teachers move from one class (equivalent to classroom) to another class (classroom).

In the 10th grade, there are no track subjects and so students stay together through the day.

Moreover, they are less likely to attend cram schools or take private tutoring in the 10th grade

as the university entrance exam is still some time away. This is relevant because such tutoring

would be an omitted variable that aects performance that we cannot control for.                     Also, there

are likely to be more unexpected shocks to enrollment for the 10th grade, than for higher grades
                                                                                  8
as the incoming class comes from several feeder Junior High Schools.                  This is likely to make the

Hoxby instrument work better in the 10th grade. For all three reasons we focus our attention to

the 10th grade data.

    The data used in this paper was obtained from the local school authorities and covers 124

public high schools in Greece. Most students in Greece attend public schools. Our data covers

roughly 10% of the public high schools in Greece. The time period is 2001-2013.

    The data we use includes the following: the exam scores of the student in the school exams in

10th grade for non track subjects. The gender, age, number of classrooms for each grade in the

school, class size, cohort size and total enrollment in each school. We also have performance in the

rst term, the second term and the school annual exam. The school annual exam is course and

teacher specic. Performance is measured on a continuous scale from 0-20. We take the simple

average of the annual exam across non track compulsory subjects (Ancient Greek, Literature,

Modern Greek, History, Algebra, Geometry, Physics, Chemistry, Economics, and Technology) to

   5 10th grade compulsory subjects include religion, ancient Greek, literature, modern Greek, history, algebra,
geometry, physics, chemistry, economics, technology and one foreign language.
   6 11th grade compulsory subjects include religion, ancient Greek, literature, modern Greek, history, algebra,
geometry, physics, chemistry, biology, introduction to law, a foreign language and 3 track subjects (which are xed
within each track). Students are required to attend these subjects in eleventh grade and they take either school
or national exams in each one of them. In the 12th grade, they nalize a specialty/track of which there are three:
Classics, Science and Information Technology. 12th grade compulsory subjects are religion, literature, modern
Greek, ancient Greek, history, physics, biology, mathematics, a foreign language (either English, or German, or
French) and 4 track subjects (which are xed within each track). Students are required to attend these subjects in
twelfth grade and they take either school or national exams in each one of them. All other subjects are optional.
   7 With their placement score in hand they list their preferences. Students are admitted not to schools but to
programs within schools. We do not focus on entrance to university here and do not use the data on preferences,
entrance exam scores, placements scores and nal placements here.
   8 In the 11th and 12th grade, enrollment tends to lie below the enrollment in the previous year for the grade
below, while in the 10th grade enrollment could lie above or below that for the 10th grade in the previous year.


                                                        7
get the performance measure we call GPA for each student. We choose to use the annual exam

as it is less likely to be subjective compared to evaluations based on performance over the term.

We know the name of the school, the type of school (public, public elite, evening, private), and

whether the school is urban or rural. We chose to not use evening school data as these schools

are very dierent from regular high schools: they have a very dierent set of guidelines, much

larger class sizes and more mature students. Elite schools are entered by passing an exam and

are for gifted students but they are few in number and as a result we have no elite schools in our

subsample of schools. The inputs available to private schools are likely to be very dierent and

the student mix may also dier. For these reasons we chose to restrict ourselves to public schools.

All schools operate under the same guidelines as the educational system is highly centralized.

   In Greece, performance in high school matters because university placement depends on the

performance in the university entrance exam (70%) and on high school exams (30%). However,

performance in 10th grade is not included in this. It matters in terms of which track to choose

in the 11th grade and an average score of 50% in school exams is needed to sit for the university

entrance exam.




3.1 Summary Statistics
                          Table 1: Sample means and standard deviations


                                                 Grade 10      Urban     Rural
                                      Individual Level Data
                    GPA              Mean            11.79     11.80     11.61
                                     Std. Dev.       (3.79)    (3.79)    (3.86)
                    Female           Mean             0.54      0.54      0.56
                                     Std. Dev.       (0.50)    (0.50)    (0.50)
                    Age              Mean            15.97     15.97     16.01
                                     Std. Dev.       (0.60)    (0.58)    (1.04)
                    Obs                              81845     78816      3029
                                        Class Level Data
                    Class Size       Mean            22.62     22.83     18.28
                                     Std. Dev.       (4.15)    (4.02)    (4.36)
                    Obs                               3641      3474      167
                                        School Level Data
                    Cohort Size      Mean            76.17     81.65     27.75
                                     Std. Dev.       (33.90)   (31.06)   (13.00)
                    Class Number     Mean             3.37      3.58      1.52
                                     Std. Dev.       (1.24)    (1.12)    (0.59)
                    Obs                               1082      972       110




                                                 8
      Here we share some patterns in the data that motivate much of what we do below.            Table

1 shows the mean and standard deviation for the key variables we use.          Note that class size is

relatively concentrated around the mean. In fact 90% of the data lies between 16 and 28 class

size. The average school has 3 or 4 classes in a grade, but there is a lot of variability here. Rural

areas usually have small schools with lower enrollments and number of classes that range from 1

to 3, while urban areas have larger schools with as many as 9 classes.




3.2 Data Patterns
3.2.1 Class Size and Enrollment
Figure 1 plots class size versus enrollment for grade 10. The red dashed line gives the predicted

class size had there been a binding cap on class size of 27. The data loosely follows this red line,

but since no cap on class size was in place ocially, this targeted class size may be a result of

administrators choices.   For example, if administrators are trying to maximize some increasing

function of learning (as measured by GPA) less costs, given student quality, and nd it roughly

optimal to have a class size close to 27, we might see such a pattern.



3.2.2 Class Size, Enrollment and GPA
Figure 2 plots a smooth version of the relationship between enrollment and class size given by

the black line, and between enrollment and GPA given by the red line. It is worth noting that

especially for low enrollments, class size and GPA seem to be negatively related. As enrollment

rises, class size rst rises till enrollment reaches the mid 20's. After this class size falls and then

rises again near 45 and so on. The turning points of the two seem to be the same. The relationship

becomes much fuzzier for large enrollments.



3.2.3 OLS Estimates
As a purely descriptive exercise, we next turn to the OLS estimates of class size and GPA. As is

well understood, OLS estimates are likely to be biased and should not be interpreted as causal.

Nevertheless, this is the logical starting point for the analysis. Table 2 presents these estimates.

Column 1 does not allow for nonmonotonicity and gives a negative and signicant coecient for

class size. Column 2 adds a quadratic term in class size. The coecients now point to a hump

shape with a turning point around 11. Should we interpret these estimates as representing the

production technology in the classroom between class size and GPA or learning? The answer is

no.



                                                  9
30
20
10
0




     0               50                         100              150
                                  enrol

          Actual class size               Predicted class size


         Figure 1: Class Size versus Enrollment for Grade 10




                                 10
                                                                                                                     12.5
                30
log of mean class size (smoothed)




                                                                                                                                             12
                                                                                                                     log of mean GPA (smoothed)
                        20




                                                                                                                              11     11.5
        10




                                                                                                                     10.5
                                                                                                                     10
                0




                                    0                       50                      100                        150
                                                                    Enrollment

                                                                 Class size               GPA


                                        Figure 2: Class Size versus Enrollment for Grade 20 (Smooth Version)




                                                                         11
                                 Table 2: OLS Estimation of Class Size Eects


                                                (1)          (2)                   (3)              (4)
                    lnClassSize                -0.67         3.00                -0.65              3.25
                                              (0.1)***     (1.0)***             (0.1)***          (1.1)***
                    lnClassSizeSQ                           -0.62                                   -0.66
                                                           (0.2)***                               (0.2)***
                    female                      0.89         0.89                 0.88              0.88
                                             (0.03)***    (0.03)***            (0.03)***         (0.03)***
                    Age                        -1.55        -1.56                -1.49              -1.50
                                             (0.09)***    (0.09)***            (0.09)***         (0.09)***
                    AgeSQ                      0.024        0.024                0.023             0.023
                                             (0.002)***   (0.002)***           (0.002)***        (0.002)***
                    lnCohortSize                0.20         0.15                 0.30              0.25
                                               (0.1)*       (0.1)               (0.1)***          (0.1)**
                    sd of ln GPA                                                 -5.81              -5.82
                                                                                (0.3)***          (0.3)***
                    School FE                   YES         YES                   YES               YES
                    R-sq                       0.057        0.057                0.064             0.064
                    N                          81845        81845                81845             81845
                    (1)
                         Standard deviations are clustered at class level. *, **, *** indicate
                        signicance at the 10%, 5%, and 1% levels, respectively.

   Why? Suppose class size is being chosen to maximize an increasing function of the learning,

i.e., the GPA of the school, less costs of operation, and say enrollment is exogenously given. For

a given quality of students, or teacher, denoted by              q   and given enrollment,           e,   Figure 3 depicts the

benets (B ) and costs (C ) as class size rises. As class size rises, the benets may rst rise but
                                                                           9
ultimately fall and this is depicted as concave function.                       However, as class size rises, costs fall

and this is depicted as a downward sloping convex function. Optimal class size, i.e., the chosen

class size, is where the dierences in the two is largest. This occurs at                          CS â (e, q).   Thus, in the

data we will see     (e, CS â (e, q), gpa(e, q, CS â (e, q)).    Moreover, we will most likely not observe                   q.
What happens if         q   is higher?       If for example, students are better, then the benet curve will

shift up and become atter as depicted by the curve                   B0       since better students would learn more

(have a higher GPA) at any given class size and suer less from larger classes. But faced with a

better class, the chosen class size will rise as depicted to                   CS â (e, q 0 )   and in the data we will see
      â       0                   â      0
(e, CS (e, q ), gpa(e, q, CS (e, q )).          Though we want to estimate the curve                 B,     the data will trace

out a atter curve than         B.    This is the essence of the bias in the OLS estimates and the upward

bias explains why OLS coecients on class size often turn out to be positive.

  9 Even   if GPA rst rises and then falls with class size, one will never choose to be on the upward sloping part.



                                                            12
B, C




                                                              Bâ




                                                          B

                                                      C

                                                          Class Size
                    CS â (e, q)   CS â (e, q 0 )
       Figure 3: Tradeo between GPA and Class Size




                           13
4 Nonparametric Evidence
Recent work by Chernozhukov et al. (2013) provides a framework applicable to our setting and

with the advantage that minimal assumptions are needed to estimate the eect of class size on

GPA. The approach needs panel data, which we have, and the endogenous regressor (class size)

has to be discrete.

    Following their approach we specify the following model:



                                                 GP Ajt = g(CSjt, Î±j , Îµjt )

which has achievement as measured by the                 average       GPA of school   j   in period   t   being a function

of the    average     class size in school   j   in period   t,   a school xed eect,     Î±j ,   and a shock,   Îµjt ,   that is

school and time specic. This model does not impose any functional restrictions on the relationship

between class size and grade point average. Though class size is discrete, average class size is a

continuous variable. For this reason we discretize the class size into bins below.

    We specify this relationship to be at the school level, because nonparametric estimation of this

kind needs a long panel for each         j .10


4.1 Assumptions and Approach
The identifying assumption needed for this approach is the following:

    Assumption 1 (time-homogeneity)



                                         Îµjt | CS j , Î±j â¼ F (. | CS j, Î±j ).

In other words, the distribution of the shock                Îµjt ,   conditional on the    vector   of average class sizes

for the school at all periods (denoted by             CS j )      and the school itself, is time independent as the

function    F    has no time subscript.          Stated slightly dierently, whatever the distribution of the

shock is, its conditional distribution given the vector of average class sizes for school                        j   does not

depend on       t.   Chernozhukov et al. (2013) interprets this as time being randomly assigned or time

being an instrument along with the distribution of factors other than class size not changing over

time.
  10 Ifwe had specied the model to hold at the individual level, we would have a panel of length three, though
we would have a lot of students. Similarly, we could have specied the model to be at the class level if we had
information on which teacher was assigned to which class. In this case, we would have a panel of the same length
as that for the model we use, assuming the teacher was there throughout. We do not have data on teachers and
their assignment to classes we cannot use this approach.


                                                               14
   Note the contrast to the standard assumptions for the linear model



                                          GP Ajt = Î² ln CSjt + Î±j + Îµjt

where the identifying assumption is that             E(ln CSjt Â· Îµjs ) = 0       for all   t   and   s.     Of course, this

assumption is likely to be violated as class size is highly endogenous. The approach we take does

not need this assumption. The distribution that the shock is drawn from does depend on class size.

However, it is enough for identication that the shock to be drawn from the same distribution at

all times. In eect, variations in class size over time helps identify the eect of interest. Moreover,

the specication we use is not restricted in any parametric way and need not even be monotonic.

   Since the class size is bounded by the cohort size, the class size support is nite.                              Under

Assumption 1, Chernozhukov et al. (2013) show that the average class size eect for schools that

switch from class size level     a   to class size level   b   (the movers) is identied. As they explain it, to

see this more easily, assume that we have only two class sizes:                  CSjt â {0, 1}.             Then the model

can be thought as a treatment eect model where                   CSjt = 1     for the treated and            CSjt = 0   for

the untreated.     Denote     GP Ajt (0) = g(0, Î±j , Îµjt ),      and   GP Ajt (1) = g(1, Î±j , Îµjt ).         Assumption 1

implies that the conditional distribution of          (GP Ajt (0), GP Ajt (1)),     given the vector of class sizes

for school   i (CS j )   does not vary with    t.   Under this key assumption, the average treatment eect

(ATE) for schools where both groups of class size occur during the observation period is identied.

This is similar to the local average treatment eect (LATE), which is the treatment eect for the

subpopulation that changes its treatment status due to a change in the instrument. As explained

above, time is like an instrument. Thus, the eect of class size on grade point average for schools

that ever changed their class size at some time is identied.

   One might be concerned that Assumption 1 does not hold in the data and as a result, the

approach of Chernozhukov et al. (2013) cannot be used. Fortunately, we need not take the as-

sumption on faith.        A recent paper, see Ghanem (2017) derives a statistical test to check the

validity of Assumption 1. In the Appendix A we show that using this methodology, we cannot
                                                                          11
reject the hypothesis that Assumption 1 holds in the data.




4.2 Estimates
We choose to discretize class size into three bins. We do so as we will need to estimate the eect

going from each bin to the other so that the number of coecients rises rapidly with the number

of bins. The rst is class size below a cuto          s0 .    The second bin is from      s0   to   s1 ,   and the third is

 11 We   thank Dalia Ghanem for sharing programming code with us.


                                                           15
more than         s1 .   Since these switches are identifying the eects of interest, we need to choose                                                s0   and

s1   to ensure that the bins are such that these switches occur.

      Let   Î´lk   be the average eect on mean GPA in a school of switching from bin                                                l   to   k   and   Î´Ìlk   be

its consistent estimator. In eect, what is done is the following. In each year, each school has a

mean GPA and a mean class size and so falls into one of the three bins. Over the entire sample

period, each school indexed by                        j   can be in either bin               1   only, bin   1   and    2   only, bin    1   and      3   only,

bin   2   and     3   only or in all three bins. We calculate the mean GPA                                      over time     for school         j   when in

bin   l = 1, 2, 3.         For example, if there were                  5    periods and the school was in bins                      (1, 2, 1, 3, 2)         over

these time periods with GPA                      (g1 , g2 , g3 , g4 , g5 ),   then the mean GPA in bin 2 would be        (g2 + g5 ) /2
                                                                                                                       j
while the mean GPA in bin                    1   would be         (g1 + g3 ) /2.        Their dierence would capture â12 for school

j.   The estimated           Î´Ì12    would then be
                                                                              N
                                                                                    dj âj12
                                                                              P
                                                                              j=1
                                                                    Î´Ì12 =        N
                                                                                  P
                                                                                        dj
                                                                                  j=1

where      dj   is 1 if the school was ever in both bin                       1   and        2   over the entire sample period.

      We set      s0     at 15 and     s1   at 22.        Î´Ì12 = 1.55      and   Î´Ì23 = â.18.         Both are signicantly dierent from

zero at the           1%   level. In Table A.1 in the Appendix B, we vary                                   s1   from   21    to   24   along the rows

and   s0    from      12   to   17   along the columns. For each value of                            s0   and    s1   we give the estimate of                 Î´Ì12
and    Î´Ì23 .   Note that no matter what                     s0   to   s1   are set at,          Î´Ì12 > 0, Î´Ì23 < 0      and signicant. This is

consistent with a nonmonotonic relationship between GPA and class size.




5 Linear and Nonlinear Parametric Estimates
In view of the nonparametric results above which suggest an inverse                                              U    shape for the eect of class

size on GPA, we include a quadratic term in the parametric specication. Our specication is:



                                     GP Aijt = Î² ln CSjt + Î³ (ln CSjt )2 + Î±j + Î»Xijt + Îµijt .

GPA for individual              i    in school    j   at time      t   depends on the log of class size, its square, school xed

eects, and a set of control,                Xijt ,       which include gender, age, age squared, the standard deviation

of the GPA in the class.                    Why might class size and GPA be hump shaped?                                           One reason given

in the literature, see Borland et al. (2005) and Dobbelsteen et al. (2002), is that students learn

from peers like themselves. The larger the class size, the more likely it is that they have peers

like themselves.            This force makes GPA rise with class size.                                    On the other hand, a larger class




                                                                              16
size reduces the attention a teacher can give to each student. For low class sizes, the rst set of

forces dominate but after a point the second does, creating a hump shaped pattern. It has also

been argued that a homogeneous class is easier to teach, see Levin (2001) and Dobbelsteen et al.

(2002). For this reason we include the standard deviation of GPA in the class as a control.

    Since class size could be an endogenous variable, we need an instrument. We cannot use the

Angrist and Lavy (1999) approach. There is no maximum class size on the books in Greece in our

period. The data patterns described in Section 3.2 clearly suggest that class size is endogenous.

From looking at the pattern of enrollment and class size in Figure 1, it seems clear that class size

is not allowed to get too large: the actual and predicted class size had there been a cap of 27 are
                                                                                                12
not quite in line though they are closer together for low enrollment than for high.                  We follow

the approach of Hoxby (2000). It is natural to think of overall enrollment as an exogenous shock

to class size. Hoxby's approach goes a step further: she ts a quartic to the enrollment data and

uses deviations from the quartic as the exogenous variation. In this way, she controls for trends

in enrollment.

    Table 3 and Table 4 give the IV estimates for grade 10 for the linear and quadratic models

respectively. We present estimates when the standard deviation of            GP A   in the class is controlled

for and when it is not. The standard errors are clustered at the class level. The lower panel of the

table gives estimates for the rst stage while the upper panel gives the estimates for the second

stage in all these tables.

    Recall that the OLS estimate of the coecient on            ln ClassSize   in the linear regression was

negative and about -.067. The coecient with the IV for the same regression is given in column 1

and is -3.25. Note that this is exactly what one would have expected due to endogeneity bias. If

the administrator is choosing class size, classes with better students will tend to be larger as such

larger class size has little cost in terms of GPA and OLS is upward biased as in these estimates.

If we add the standard deviation of GPA as a control, as in column 2, the coecient on lnclass

size is slightly smaller.    The coecient on standard deviation is negative, consistent with more

diverse students being harder to teach. Table 4 gives the estimates for the quadratic specication.

It clearly has the hump shape expected with a peak at around 14.9.

    We use Hoxby's instrument so that we would expect the shock in enrollment to be positively

correlated with class size as we nd. Note that the rst stage looks ne: the coecient on the

instrument is positive signicant at 1% and the instruments are not weak as the Kleibergen-Paap

LM statistic is 114.7. It is interesting, and in line with the literature that women have a higher

GPA. The standard deviation of GPA in a class is added as an explanatory variable in the second

  12 In
      fact, when we tried using the Angrist Lavy approach, though the rst stage did not cause any problems, the
second stage gave insignicant/mixed sign coecient estimates.

                                                      17
column of Table 3 and Table 4. It is signicant at the 1% level and negative. This suggests that

the more homogeneous the class, the higher the GPA as in Levin (2001) and Dobbelsteen et al.

(2002).

   While we nd strong evidence for a nonmonotonic relationship between class size and achieve-

ment, our results are entirely consistent with ndings in the literature, see for example Jepsen and

Rivkin (2009), that reducing class size is an expensive way of improving achievement. Figure 4

depicts the quadratic relation we estimate. Note that the value of the intercept is not meaningful

as we have school xed eects and other controls. We choose to center the gure at class size 5

and GPA zero. The curve is relatively at in the region near the peak by denition. As a result,

changing the class size in this region would give small eects. If the curve is not too peaked, this

region could be quite large. This might be why even the experimental literature, see Jepsen and

Rivkin (2009) for example, found small eects on performance of fairly large changes in class size.


                  Table 3: Parametric Estimation of Linear Class Size with IVs



                                                             (1)           (2)
                                      Dependent Variable: GPA
                                                              Second Stage
                       lnClassSize                          -3.25         -2.85
                                                          (0.5)***      (0.4)***
                       female                               0.89          0.88
                                                         (0.03)***     (0.03)***
                       Age                                  -1.59         -1.53
                                                         (0.10)***     (0.10)***
                       AgeSQ                               0.024         0.023
                                                         (0.002)***    (0.002)***
                       sd of ln GPA                                       -5.56
                                                                        (0.3)***
                       Kleibergen-Paap Statistic           1029.0        1030.6
                       p-value                             0.000         0.000
                       School FE                            YES           YES
                       R-sq                                0.047         0.056
                       N                                   81845         81845
                                                               First Stage
                                                         lnClassSize   lnClassSize
                       lnU                                  0.25          0.24
                                                         (0.01)***     (0.01)***
                       (1)
                            Standard deviations are clustered at class level. *, **,
                           *** indicate signicance at the 10%, 5%, and 1% levels,
                           respectively.


                                                    18
                  Table 4: Parametric Estimation of Nonlinear Class Size with IVs


                                                (1)                                          (2)
                                                          Dependent Variable: GPA
                                                                  Second Stage
  lnClassSize                                   29.1                                         29.0
                                              (5.9)***                                     (5.9)***
  lnClassSizeSQ                                -5.44                                        -5.36
                                              (1.0)***                                     (1.0)***
  Female                                        0.89                                         0.88
                                             (0.03)***                                    (0.03)***
  Age                                          -1.70                                        -1.64
                                             (0.10)***                                    (0.09)***
  AgeSQ                                        0.027                                        0.026
                                             (0.002)***                                   (0.002)***
  sd of ln GPA                                                                              -5.76
                                                                                           (0.4)***
  Kleibergen-Paap Statistic                    114.7                                        114.7
  p-value                                      0.000                                        0.000
  School FE                                    YES                                          YES
  R-sq                                         0.032                                        0.042
  N                                            81845                                        81845
                                                                  First Stage
                                 lnClassSize     lnClassSizeSQ              lnClassSize       lnClassSizeSQ
  lnU                                0.45                2.22                     0.45                2.22
                                  (0.06)***            (0.3)***                 (0.06)***           (0.3)***
  lnUSQ                             -0.065               -0.24                   -0.064               -0.24
                                  (0.02)***            (0.10)**                 (0.02)***           (0.10)**
   (1)
       Standard deviations are clustered at class level. *, **, *** indicate signicance at the 10%, 5%,
      and 1% levels, respectively.

   A possible concern might be that we have so far not controlled for which teachers taught which

class. We were able to obtain and digitalize teachers' assignment data for 10 schools. For this

subsample, we are able to control for teacher xed eects as a robustness check, to control for the

teachers' quality. The dependent variable is GPA for each subject and for each student, not the

average GPA since we are controlling for teacher xed eects. In addition to teachers' xed eects,

we include subject and school xed eects in Table 5. Though the point estimates do change a

bit, the quadratic form remains. For the rest of the paper, we return to using the full sample.




                                                       19
                    Table 5: Nonlinear Class Size with Teachers' Fixed Eects


                                (1)                                                          (2)
                                                  Dependent Variable: Subject GPA
                                                                  Second Stage
lnClassSize                                    50.2                                         40.3
                                             (21.9)**                                      (21.6)*
lnClassSizeSQ                                  -8.19                                        -6.46
                                              (3.6)**                                      (3.6)*
Female                                         0.96                                         0.95
                                             (0.08)***                                    (0.08)***
Age                                            5.64                                         5.69
                                             (1.1)***                                     (1.1)***
AgeSQ                                          -0.20                                        -0.21
                                             (0.03)***                                    (0.03)***
sd of ln GPA                                                                                -5.62
                                                                                          (0.3)***
Kleibergen-Paap Statistic
p-value                                       1648.8                                       1649.5
School FE                                      YES                                          YES
Subject FE                                     YES                                          YES
Teacher FE                                     YES                                          YES
R-sq                                          0.224                                        0.240
N                                             17212                                        17212
                                                                  First Stage
                                lnClassSize      lnClassSizeSQ              lnClassSize       lnClassSizeSQ
lnU                                -0.0079              -0.27                   -0.0061              -0.26
                                   (0.02)             (0.09)***                  (0.02)            (0.09)***
lnUSQ                                 0.17               1.12                    0.17                 1.12
                                 (0.006)***           (0.03)***             (0.006)***             (0.03)***
(1)
      *, **, *** indicate signicance at the 10%, 5%, and 1% levels, respectively.




                                                       20
      7


      6


      5


      4
GPA




      3


      2


      1


      0
          5     10           15                20       25   30
                                  Class Size
              Figure 4: Estimated GPA production function




                                    21
6 Quantile Eects
So far we have allowed for nonmonotonicities in how class size aects GPA. In this section, we

extend our approach to allow for quantile eects.                  We do so as it is possible that students of

dierent abilities respond dierently to larger class size. One hypothesis is that better students

are less aected by class size as they are able to do it alone.                    If this were the case, we might

expect a hump shape for all quantiles, but with the hump being attened out at higher quantiles.

   It is worth recalling that a quantile regression does not simply take the data and split it into

quantiles, conditional on the independent variable, as doing so would result in selection bias.

Rather, it does something more subtle. Suppose we had a linear regression model,



                                                      y = XÎ² + u

where we observe data
                              (Xi , yi ) for i = 1...n individuals, and we wanted to allow for quantile eects.
Since       y â X Î²Ì       would be the best proxy for    u,   the coecient   Î²ÌÎ±   for the linear regression for the

Î±th   quantile is obtained as

                               X
         Î²ÌÎ± = arg min              Î± |yi â Xi Î²| I(yi â Xi Î² > 0) + (1 â Î±) |yi â Xi Î²| I(yi â Xi Î² < 0).
                                i


   Suppose       Î± = .1.      Then, for individual   i there is a 10% probability that yi â Xi Î² > 0 and a 90%
probability that it is negative. The above formula chooses              Î²Ì.1   so that if   10%   of the deviations are

positive and      90%       are negative, the expected deviations are minimized. Note the contrast to the

simple minded approach described above. In fact, even if the model were truly linear, choosing

10%     of the data at any          X   to lie below the estimated regression would not even give a linear

regression coecient.

   We use the approach of Lee (2007) to estimate the quantile IV regressions. Note that we do

not include school xed eects in the quantile IV regression since we were unable to include such a

large number of xed eects. We use the same instrument as in the previous section. We present

the quadratic version of the regression.

   Table 6 gives the estimates for the quadratic form and Figure 5 depicts these estimates graph-

ically. Note that in order to be able to compare the three curves visually we anchor them to zero

at class size 10. It is worth noting that the hump shape remains. However, it is clear from this

depiction that the 10% quantile (the worst students) is more hump shaped than the 50% quantile

which in turn is slightly more hump shaped than the 90% quantile. This is exactly what one would

expect if better students are less aected by class size.




                                                            22
   While we have specied a quadratic form for our model which allows for nonmonotonic rela-

tionship between GPA and class size in our quantile regressions, it would be ideal to do this fully

nonparametrically. Unfortunately, we are unaware of any technique to do so at this time and this

is left for future work. Note that we did estimate the regression, though not allowing for quantile

eects, nonparametrically in Section 4.


                                          Table 6: Quantile Regressions


                                                 (1)                (2)              (3)
                                          Quantile 10%          Quantile 50%    Quantile 90%
                       lnClassSize               4.73               3.15             4.14
                                            [3.80,6.41]          [1.79,5.72]     [1.04,5.85]
                       lnClassSizeSQ             -0.79             -0.45             -0.71
                                           [-1.07,-0.62]        [-0.89,-0.19]    [-0.99,-0.20]
                       (1)
                             The brackets are the 95% condence intervals.

                0.7
                                                                                        Quantile 1
                0.6                                                                     Quantile 2
                                                                                        Quantile 3
                0.5

                0.4

                0.3
          GPA




                0.2

                0.1

                  0

                -0.1

                -0.2

                -0.3
                    10            15        20           25          30         35           40      45
                                                          Class Size
                         Figure 5: Quantile Eects of Class Size (Three quantiles)



   With the estimates of the eects of class size on achievement in hand, we are in a position to

understand how class size might be chosen. If the government cares about achievement, and faces



                                                           23
costs of adding and removing classes, its behavior in terms of the number of classes it chooses as

enrollment uctuates helps us estimate the costs involved.             We use our reduced form estimates

with a dynamic structural model of class size to estimate hiring/ring and marginal cost of adding

a class. In Greece, as in much of the rest of the world, teachers unions are a powerful force to be

reckoned with. Their power is expressed not only in terms of wages set but in terms of the ability

to re teachers at will. We use the model to ask whether inexibility in terms of unions creating

high ring (and even maybe hiring) costs might be driving class size choices by government and

the impact of this on student achievement if any. We nd that unions, even if they raise costs and

class size have a small eect on achievement.




7 The Structural Model
In the previous sections, we have shown that GPA has an inverse U shape with respect to class

size. In this section, we ask what an administrator who is trying to do his best for his students but

subject to constraints would choose to do. We posit that the administrator is trying to maximize

a welfare function that depends on the mean GPA of the students enrolled, as well as the number

of students enrolled. Enrollment,      et ,   is taken as an exogenous AR1 process and estimated from

the data.

                                              et = Î³0 + Î³1 etâ1 + Âµt                                       (1)


where,     et   is assumed to follow a Poisson distribution with mean       Î³0 + Î³1 etâ1   with the error term

Âµt .   We estimate the enrollment process separately for schools of dierent sizes. We put roughly

25%     in the small and large enrollment groups and        50%   in the middle enrollment group.

       The constraints the administrator faces are of two kinds. First, he faces the trade o we have

estimated between class size and GPA and the enrollment process which is exogenously given to
                                                             13
him. We can think of these as technical constraints.              Second, he faces costs associated with the

choices he makes. In our model, the only choice the administrator makes is the number of classes,

nt ,   to have at a point of time. Each additional class has a given cost which can be thought of

as the cost of the teachers needed for the additional class. Since teachers unions are prevalent in

Greece, ring teachers is costly. Moreover, nding a new teacher also involves a number of costs

including advertising the position, interviewing, and so on. The empirical transition probabilities

are in Table 7. Note that schools tend to keep the same number of classes across years. This is

  13 The
       trade-o between GPA and class size the administrator faces is analogous to the production function a
manager choosing inputs would face. The enrollment process (et ) can be thought of as similar to an exogenous
TFP process.



                                                       24
especially so for schools with a small number of classes.

     For these reasons we allow for hiring and ring costs in the model. This makes the problem

dynamic. At any point of time, the administrator must consider the number of teachers he has,

the enrollment today and the enrollment process he faces, as well as the range of costs and look

forward to nd his best decision today.


                                           Table 7: Transition of Class Number


                              nt
                                       1               2          3          4           5         6            7
                 ntâ1
                          1         0.7143     0.2727           0.0130     0.0000   0.0000       0.0000    0.0000
                          2         0.0813     0.6986           0.2010     0.0144   0.0048       0.0000    0.0000
                          3         0.0034     0.1399           0.6007     0.2389   0.0171       0.0000    0.0000
                          4         0.0000     0.0036           0.2456     0.5979   0.1459       0.0071    0.0000
                          5         0.0000     0.0000           0.0405     0.2162   0.6622       0.0743    0.0068
                          6         0.0000     0.0000           0.0000     0.0645   0.3871       0.4194    0.1290
                          7         0.0000     0.0000           0.0000     0.0000   0.0000       0.7500    0.2500


                                                                                                                           e
     The administrator cares about the mean GPA. As this has a quadratic form, and as                                        is the
                                                                                                                           n
average class size, we have
                                                                  2
                                                        et      et
                                            GP At = a ln + b ln       + A.
                                                        nt      nt
A   is the value of the other variables in the regression at their mean levels. It is worth noting that

its value will not aect the choice of the number of classes below. We assume that having twice

the students with the same GPA gives the administrator twice the utility. This makes sense as

the object is to educate students and educating twice as many to the same level gives twice the

utility. Thus, so far we have the administrator's utility as

                                                   "                 2   #
                                                           et      et
                                              et       a ln + b ln       +A .
                                                           nt      nt

     The administrator faces hiring and ring cost of                       H    and   F,    and a variable cost per class of

c   which we interpret as the salary of the additional teacher(s) needed for one more class.                                   The

administrator knows the realization of                     et   and knows the state variable,          ntâ1 ,   and the random

utility shock     Îµnt ,   when he makes his choices. This shock is not observed by the econometrician.

Îµt = {Îµ1t , Îµ2t , Îµ3t ...Îµ10t }   is a vector of shocks and each element is drawn from a type                       1   generalized

extreme value distribution. Since no school has more than                           10   classes, we restrict the size of the

vector to be     10.   This assumption allows us to use the logit setup and t the data parsimoniously.

In some periods we may see a larger class size, i.e., fewer classes, than in others. The reason for



                                                                      25
this comes partly from enrollment declines, partly because fewer classes were present in the past

and there are hiring costs, and partly from the shock.

   Thus, the administrators value function is:

                                               ( "                  2    #
                                                          et      et
               V (et , ntâ1 , Îµt ; Î¸) = M ax et       a ln + b ln       + A â cnt
                                          nt              nt      nt
                                        âH Â· max(nt â ntâ1 , 0) â F Â· max(ntâ1 â nt , 0) + Îµnt t
                                                                      )
                                         + Î´EÎµt+1 ,et+1 V (et+1, nt , Îµt+1 ; Î¸)

                     where   et+1 = Î³0 + Î³1 et + Âµt+1          and where          Î¸ = (c, H, F, Ï).

Note that the expectation is taken over both             Îµt+1      and   et+1 ,   the shock to utility and the shock to

enrollment respectively. Note that though            Aet   enters the objective function, it will not aect the

optimal choice of     nt   as it is exogenous.      From here on we may not explicitly condition on                             Î¸   as

above, but it should be taken for granted.

   Rewriting this slightly for notational ease we dene                    u(et , nt , ntâ1 )   as the deterministic com-

ponent of current period contribution to the objective function and                             V (et , ntâ1 )   as the ex ante

value function, i.e., the value of behaving optimally from tomorrow onwards before knowing the

realization of the utility shock.



                                               "                 2    #
                                                       et      et
                     u(et , nt , ntâ1 ) = et       a ln + b ln       + A â cnt
                                                       nt      nt
                                            âH max(nt â ntâ1 , 0) â F max(ntâ1 â nt , 0)
                        V (et+1 , nt ) = EÎµt+1 [V (et+1 , nt , Îµt+1 )]
                     v(et , nt , ntâ1 ) = u(et , nt , ntâ1 ) + Î´EÂµt+1 [V (et+1 , nt )|et ]                                          (2)



so that

                                  V (et , ntâ1 , Îµt ) = max v(et , nt , ntâ1 ) + Îµnt t .
                                                         nt

   Thus we have rewritten the value function as a base utility and a shock. Since                                Îµn t t   follows an

iid type   1   generalized extreme value distribution with variance                  Ï2,   the probability of        nt    is


                                                       exp(v(et , nt , ntâ1 ; Î¸))
                               p(nt |ntâ1 , et ; Î¸) = P10                           .
                                                       n=1 exp(v(et , n, ntâ1 ; Î¸))




                                                              26
7.1 Identication and Estimation
We rst provide some intuition behind what pins down                        Î¸       before we turn to the estimation part.

The problem is modeled as a dynamic discrete choice problem.                                  We bring the estimates of the

quadratic model for achievement from the reduced form regressions to the structural model. As

estimated in the parametric quadratic model,                      b = â5.36         and   a = 29.0.      It remains to estimate

Î¸ = (c, H, F, Ï).       How can we identify      Î¸?    One way to get some intuition about which features of

the data would help identify which parameters is to ask how a simulation based approach might

pin down the parameters. We do not use this approach, but nevertheless, this is a useful exercise.

   To see how the optimization works, it is useful to think of the problem in a slightly dierent

way where we rst dene the pre-value function as                      W (et , nt , Îµnt t ). W (.)    is the value of the ow

utility today (excluding the adjustment costs) and behaving optimally from tomorrow onwards

for every value of       nt   chosen today.     Note that we have a choice in terms of the parameters to

estimate: the weight on GPA or the variance of the utility shock since both cannot be separately

identied. We choose to set the weight on GPA at unity as the variance of the utility shock is

easier to interpret.

                                                       "             2 #
                                                           et      et
                              W (et , nt , Îµt ) = et   a ln + b ln         â cnt + Îµnt t
                                                           nt      nt
                                                  +Î´EÎµt+1 ,Âµt+1 V (et+1, nt , Îµt+1 )                                               (3)



   Then,



         V (et , ntâ1 , Îµt ) = max {W (et , nt , Îµt ) â H Â· max(nt â ntâ1 , 0) â F Â· max(ntâ1 â nt , 0)}
                                 nt


   To begin with, let us see how the model works when we take                             n to   be continuous, the pre-value

function to be concave, and set the utility shocks to zero. In this case, the current period problem

can be depicted as in Figure 6 where            W (et , nt , Îµt = 0)     is depicted by the concave curve. Consider

such a school with a given enrollment as well as utility shocks set at zero.                                 Anchor the linear

adjustment costs to        ntâ1    as depicted. The cost of increasing the number of classes has slope                              H
and decreasing it has slope           F   while making no change in their number has no cost. The optimal

choice of   nt   is that which maximizes the dierence in the pre-value function and these adjustment

costs.   Let     nL   be where the slope of the pre-value function is                     H   and   nH   be where the slope is
                                                                                H
âF .   It is obvious from the picture that if              ntâ1   exceeds   n       , it is optimal to reduce    nt   to   nH ,   i.e.,

increase class size, and if       ntâ1 falls short of nL ,to raise ntâ1 to nL , that is reduce class                       size.    If
                                 L H
ntâ1   lies in the interval      n , n it is optimal to keep nt = ntâ1 . This region of inaction is                        created



                                                                  27
by these adjustment costs which are not dierentiated at 0. The higher the adjustment costs, the
                                      14
larger this region of inactionue.          The size of   H   and   F   will be pinned down by the bounds of the
                                                                                 15
                        L H
region of inaction,     n ,n       which would be observed in the data.



 W (Â·) Adjustment Cost




                                                                                                               W (Â·)




                                                                                                    Class Number
                       ntâ1 nL                                               nH ntâ1
                             Figure 6: Identication of Adjustment Cost                H, F

    When we add back the utility shocks and the discreteness of                   n,   the stark predictions of the

restricted model above are tempered.             The depiction in Figure 6 changes so that the pre-value

  14 It is worth noting that a change in H or F will also shift the pre-value function as it will change the continuation
value. However, this eect will be second order relative to the direct eect of H and F .
  15 It can be shown that the eect of an increase in hiring costs will be greater for nL , the hiring cuto, than for
nH , the ring one. Similarly, an increase in F will have a greater eect for nH than for nL .Thus, if we think of
the combinations of H and F that are consistent with a given value for the hiring cuto as well as those consistent
with the ring cuto we will get a unique value of H   and F which are consistent with both. As a result, there is a
unique H and F that correspond to give values of nL , nH which would be observed from the data.

                                                           28
function is discretized. At each of the ten values taken by             n,   there is a base value plus the shock.

As a result, the curve connecting the grid points of the analogue of the pre-value function need

not be concave. However, the optima choice will still be such that given                     ntâ1 ,   the dierence in

the pre-value and adjustment costs is maximized. And an increase in the adjustment costs would

increase the region of inaction and aect the probability of transitioning into this region. In this

way, the empirical transition probabilities help pin down              H   and   F   in the data.

   These same empirical transition probabilities also help pin down the variance of the shock.

Given the enrollment process, when the variance rises, the transition probabilities also rise.

   How is the nal parameter,       c,   pinned down?        As   c   rises, having more classes becomes more

expensive and the number of classes falls. Thus          c is pinned down by the average number of classes
given enrollment, or equivalently, the average class size.

   Having sketched out the intuition behind identication, we move on to the details of estimation.

The estimation can be thought of as proceeding in two steps.                         First estimate the process for

enrollment. Then estimate      Î¸.


7.2 Estimating Enrollment
We rst test for whether the AR1 process we specify ts the data. We break the data into three

parts. For schools with enrollment less than or equal to 53, for schools with enrollment above 53

but below 99 and for schools with enrollment greater than or equal to 99. Think of these as small

schools with one class per grade, medium schools with one or sometimes two classes a grade, and

large schools with two or more classes per grade. We then run the AR1 process separately for each

of these three groups. Finally we test whether the estimates for the three groups dier from each

other. We expect that   Î³1   might be the same, but that          Î³0   is likely to be lower for smaller schools.

   Our reason for expecting this is that these schools tend to stay in the same rough size groups,

though their enrollment uctuates year by year. The enrollment process is given by equation (1).

If there was no random component,         Âµt ,   then this enrollment process results in the data generated

by it being on the straight line with slope less than 1 depicted in Figure 7. This would result in a

steady state at point   A   in Figure 7. This means that all schools would have the same enrollment

in steady state. Adding a random component will make the process generate data that falls in a

band around the straight line in Figure 7. The width of this band depends on the variance of                       Âµt .
This will give a distribution of steady states in Figure 7. Note that in this case, schools will                  not
tend to stay in their own rough groups over time.

   What would be consistent with schools staying in their own group? If                       Î³0   was dierent (and

higher for larger schools) even if   Î³1   and the distribution of          Âµt   was the same across groups, then



                                                        29
Enrollment in t + 1

                                                       45â¦ Large




                                            Medium

                               A

                                    Small




                                                                    Enrollment in t

                               Figure 7: Enrollment Process
         80
         60
 Enrollment at t+1
        40
         20
         0




                     10        20           30            40       50          60
                                            Enrollment at t


                          Figure 8: Enrollment Process (Simulated)




                                              30
the process without a random component would be depicted by the lines in Figure 7. Note that

as depicted, each group has a dierent steady state size interval. Adding back randomness would

create bands around the lines as before and create a distribution of steady states for each group

size, as shown in Figure 8. If these intervals overlapped, there could be some movement between

groups in steady state. The estimates for the estimated enrollment process from the actual data

for each group are presented in Table 8. Figure 9 depicts both the actual data and the estimated

lines. Note that the actual data and lines look a lot like the simulated data. In particular, the

slopes are not signicantly dierent from one another while the intercepts dier signicantly from

each other.


                                        Table 8: Estimation of Enrollment Process


                                                 <= 53    53 < enrol < 99 >= 99
                                          Î³1      0.71          0.60          0.63
                                          sd     (0.01)        (0.01)         (0.02)
                                          Î³0     10.27         30.45          43.08
                                          sd     (0.49)        (0.94)         (2.42)
                                          N       264           535            244
                                          (1)
                                                The standard errors are presented in
                                               parentheses.
                        200
                        150
                Enrollment at t+1
                       100
                        50
                        0




                                    0              50            100            150    200
                                                            Enrollment at t


                                          Figure 9: Enrollment Process (Data)




                                                              31
7.3 Estimation of Î¸
Recall that since             Îµt   is assumed to have an iid type I generalized extreme value distribution, we

know that equation (4) holds.


                                                               exp(v(et , nt , ntâ1 ))
                                       p(nt |ntâ1 , et , Î¸) = P10                        .                                             (4)
                                                               n=1 exp(v(et , n, ntâ1 ))




                       V (et , ntâ1 ) = EÎµt max [v(et , nt, ntâ1 ) + Îµnt t ]
                                                  nt
                                          10
                                          X
                                      =        p(nt |ntâ1 , et , Î¸)EÎµt (v(et , nt, ntâ1 ) + Îµnt t |nt is optimal)
                                          nt =1

                                       P
since      EÎµt maxf (n, Îµt ) =          p(n)EÎµt [f (n, Îµt |n
                                                 being the maximum] where p(n) is the probability
                   n         n
that     n   is the maximum at a particular value. In other words, the ex-ante value function is just

the probability that each is the optimal choice (given enrollment today and the number of classes

inherited) times the payo from then on.

      Using the form of the distribution of                  Îµt   and some calculations yields


                                                  10
                                                                                                                !
                                                  X                                                    
                         V (et , ntâ1 ) = ln            exp u(et , n, ntâ1 ) + Î´Eet+1 [V (et+1 , n)|et ]            +Î³
                                                  n=1

where        Î³   is Euler's constant.

      By value function iteration, we can solve                     V (e, n),    and thus     v(et , ntâ1 , nt ).   This is essentially

nding a xed point of a function. By taking a grid and guessing values of the function                                      V (et+1 , n)
over the grid, this reduces the problem to a nite dimensional one.                              e is allowed to take values from
1 to 1000 since the largest school in the data has far less than 1000 students.                                 This guess, together

with the estimated process for enrollment gives a numerical value of                                   EÂµt+1 [V (et+1 , n)|et ]   over the

grid. For given parameter values, we can calculate                        u(et , n, ntâ1 )     so that we get a numerical value

for the RHS over the grid which is the new guess. We stop when the guess and the new guess are

close enough, i.e., when we have a xed point. Since                            Î´<1      and the enrollment process is stable,

i.e.,    Î³1 < 1,       this is a contraction mapping and this process converges to the xed point. Having

solved for        V (et+1 , n)     we use equation (2) to solve for             v(et , nt , ntâ1 ),   which in turn gives the value

for     p(nt |ntâ1 , et ; Î¸).      Finally, we choose       Î¸   to maximize the likelihood of the empirical transition

probabilities

                                                        L = Î i p(nit |nitâ1 , eit ; Î¸)


                                                                     32
to get the estimated     Î¸.

                         Table 9: Estimation of the Structural Dynamic Model


                    Average Cohort Size               c             H         F         Ï
                              All                   171.30        99.06     156.49    140.24
                               sd                  (51.59)        (42.90)   (42.41)   (19.82)
                              Euro                 e20,572        e11,896   e18,793

   The estimates are presented in Table 9. A larger variance indicates that idiosyncratic shocks

matter more when schools choose the number of classes. Idiosyncratic shocks could be the avail-

ability of spaces and teachers. The variable cost of adding a class is given by             c.   The xed cost of

adding a class is   H   while the xed cost of subtracting a class is        F.
   Suppose that the cost of an additional class is one teacher's salary in Greece. The salary after

15 years' experience with minimum training for a high school teacher is about                    e20,572    in 2004

(Stylianidou et al., 2004).       H    and   F   are the adjustment costs per class. To get the adjustment

cost in Euros, we divide      H   by   c   and then multiply by the Euro cost of an additional class. These

Euro cost estimates are given in the lower part of the entry in Table 9. It costs                 e11,896   to add

a new class and     e18,793       to drop a class. The cost of dropping a class is much higher than the

cost of adding a class. This is reasonable in Greece as ring a teacher is hard for public schools.

The optimal class size in the absence of adjustment costs is 27.




7.4 Counterfactual Exercises
In Greece, as in many countries, teachers are unionized and as a result, ring a teacher is quite

costly. The rst counterfactual exercise we consider is the eect of reducing ring cost to zero.

How would this aect the class size and GPA. On the one hand, ring teachers will be easy

which will raise class size relative to the status quo. This is the direct eect. On the other hand,

since its easy to re teachers, it is more likely they will be hired, which reduces class size. This

is the indirect eect.    Ex ante, the net eect is not obvious.            The results of this counterfactual

are presented in Table 10. We use the estimated processes for enrollment for each size school to

simulate the model. We simulate 1000 schools for each school size. For each simulated school, we

simulate 100 periods. We calculate the mean eects using the last 10 periods as the data is by

then invariant to choice of starting point. The simulations show that class size and GPA change

for the dierent school groups as in Table 10.               Reducing ring cost to zero raises average class

size by about 4 students and reduces GPA by about a point (recall the scale was from 1-20) and

by more for smaller schools than for larger schools. Since class size is larger, fewer teachers are



                                                             33
hired, and thus, variable cost is lower. The total costs, variable and adjustment, fall relative to

the status quo by 14 to 19%. Finally we calculate the welfare change. The total welfare increases

by 1 to 3%.

   Online platforms and internet have made hiring easier in a number of ways. Schools can post

openings online and teachers can apply to multiple posts more easily than before. If we think of

this as reducing hiring costs, we could ask what the eect might be of further improvements in the

matching technology. These costs will never vanish, but could be reduced signicantly. In the next

counterfactual, we reduce hiring costs by half and evaluate the eects on class size and GPA. In

both these exercises we are looking only at the partial equilibrium eects of these changes. These

results are presented in Table 10. Reducing hiring cost decreases class size by 1 to 2 students as

more teachers are hired and raises GPA slightly, and more so for smaller schools. The total cost

goes up as schools hires more teachers (so that variable costs rise). As shown in the last column,

total welfare, which includes the ow utility, adjustment costs and the continuation value, rises,

though by under 1%.

   The next counterfactual looks at the case where the variable cost increases by 50%, i.e., the

teachers' salary is raised by 50%. Class size rises by by 4-7 students and GPA falls by more than

a full point in all cases.   The impact in terms of class size and GPA is larger for small schools

than larger schools. The total cost goes up by 12 to 24% and welfare decreases. Note that costs

overall rise by less than 50% as there are adjustments on the hiring and ring margins.        It is

well understood that quality teacher has a large impact on students performance. Higher salary

attracts better teachers. Our calculations do not include any improvement in teacher quality due

to higher wages paid and so are likely to over estimate the welfare losses of this policy.

   The next counterfactual is to look at the eects of a class size cap at 25, 30 and 35 on class

size. Class caps cause schools to add class well before the cap is reached when the enrollment is

more volatile and the adjustment cost is large. The eects of such caps are larger for small schools

since they have smaller margins to adjust. As a result, such caps will impact small schools more.

Consider a class size cap of 25. For small schools, this reduces class size dramatically by more

than 12 students, while large schools have class size falling by 7-8 students. Welfare falls by 16%

for small schools and 6% for large ones while costs rise by 65% for small schools and 38% for large

ones. Even when a class cap of 35, which is well above 27 which looks like the targeted class size

found in the data, has a considerable impact, especially for small schools. Class size falls by 8

for small schools and 2-3 for large ones. The literature has found almost uniformly that changing

class size tends to be a costly way of raising academic achievement. We also nd this. In addition,

we nd that even caps which seem non binding have very signicant impacts, especially for small




                                                 34
schools.

                                       Table 10: Counterfactuals


                       â   Average Class Size       â   Average GPA   â   Cost   â   Welfare
                                (#)                      (points)     (%)            (%)
                                                    0
                                                F =0
            Small               4.12                      -0.90       0.81           1.03
            Medium              4.08                      -0.95       0.86           1.02
            Large               3.59                      -0.84       0.86           1.01
                                                0
                                              H = 0.5H
            Small               -1.75                     0.35        1.06           1.01
            Medium              -1.15                     0.24        1.05           1.00
            Large               -1.22                     0.26        1.05           1.00
                                                0
                                                c = 1.5c
            Small               6.13                      -1.35       1.12           0.90
            Medium              5.16                      -1.21       1.24           0.90
            Large               4.71                      -1.10       1.24           0.91
                                           Class Cap = 25
            Small              -12.19                     1.57        1.65           0.84
            Medium              -8.47                     1.37        1.46           0.91
            Large               -7.52                     1.35        1.38           0.94
                                           Class Cap = 30
            Small               -9.36                     1.58        1.37           0.91
            Medium              -5.91                     1.10        1.24           0.96
            Large               -4.72                     0.95        1.20           0.97
                                           Class Cap = 35
            Small               -8.10                     1.46        1.23           0.95
            Medium              -3.49                     0.70        1.15           0.98
            Large               -2.50                     0.54        1.08           0.99




8 Conclusions
Our work shows a clear hump shaped relationship between class size and GPA. Moreover, the

hump shape remains even when we allow for quantile eects. In addition, there is some evidence

that class size matters more for weaker students. We speculate that the mixed results prevalent

in the literature on the relationship between class size and achievement is due to the focus on a

linear specication.

   Our estimates also help explain why changes in class size in practice did not have a large eect

on student achievement. See Jepsen and Rivkin (2009) who nds small eects of a reduction of

class size from 30 to 20 for students in kindergarden to third grade. This could come from the


                                                    35
relationship between class size and GPA being hump shaped and from moving from one size of

the hump to the other or from the slope being small in absolute terms. Of course, the shape of

this relationship could vary by subject and grade. If the relationship had more curvature, then

class size might be a far less costly way of improving achievement than previously thought, but

there is little work on this in the literature.

   Our structural estimates are reasonable and suggest that reducing ring costs actually hurts

achievement. Teachers' unions may not be as pernicious as might be thought. Reducing hiring

cost, which might be done at low cost given the web has reduced search costs, decreases class

size and thus, improves students' achievement. Class size caps have large eects even when they

are set above average levels, and their eects are more pronounced for small schools. A class size

cap forces schools to add a class before they would want to do so in order to not cross the cap if

enrollment surges.

   A channel we could not fully explore and is potentially more important, is the eect of teacher

quality on achievement and how this varies by the ability of the students. Does having a good

teacher in a core subject like Mathematics have spillover eects on performance in other subjects

like Physics? We know from past work, see Chetty et al. (2014), that the eect of teacher quality

on achievement is large. Further work that controls for both student ability and teacher ability

and spillovers across subjects taken to better understand the impact of better teachers on students

of dierent abilities would be valuable.




                                                  36
References
Angrist, Joshua D. and Victor Lavy, Using Maimonides' rule to estimate the eect of class
  size on scholastic achievement,     The Quarterly Journal of Economics,              1999,   114   (2), 533575.


Bandiera, Oriana, Valentino Larcinese, and Imran Rasul, Heterogeneous class size eects:
  New evidence from a panel of university students,              The Economic Journal,           2010,   120   (549),

  13651398.


Bingley, Paul, Vibeke Jensen, and Ian Walker,                      The eect of school class size on post-

  compulsory education: Some cost benet analysis, 2007.


BonesrÃ¸nning, Hans, Class size eects on student achievement in Norway:                         Patterns and ex-

  planations,   Southern Economic Journal,        2003,   69   (4), 952965.


Borland, Melvin V., Roy M. Howsen, and Michelle W. Trawick,                                  An investigation of

  the eect of class size on student academic achievement,               Education Economics,         2005,    13   (1),

  7383.


Browning, Martin and Eskil Heinesen,                 Class size, teacher hours and educational attain-

  ment,   The Scandinavian Journal of Economics,           2007,   109   (2), 415438.


Chernozhukov, Victor, Ivan Fernandez-Val, Jinyong Hahn, and Whitney Newey, Av-
  erage and quantile eects in nonseparable panel models,            Econometrica,       2013,   81   (2), 535580.


Chetty, Raj, John N Friedman, and Jonah E Rocko, Measuring the impacts of teachers
  I: Evaluating bias in teacher value-added estimates,          American Economic Review, 2014, 104 (9),
  25932632.


Dobbelsteen, Simone, Jesse Levin, and Hessel Oosterbeek, The causal eect of class size
  on scholastic achievement: Distinguishing the pure class size eect from the eect of changes in

  class composition,   Oxford Bulletin of Economics and Statistics,            2002,   64   (1), 1738.


Gary-Bobo, Robert J. and Mohamed-Badrane Mahjoub, Estimation of class-Size eects,
  using "Maimonides' Rule" and other instruments:                 The case of French junior high schools,

  Annals of Economics and Statistics,       2013, (111/112), 193225.


Ghanem, Dalia, Testing identifying assumptions in nonseparable panel data models,                            Journal
  of Econometrics,   2017,   197   (2), 202217.




                                                      37
Hanushek, Eric A., Some ndings from an independent investigation of the Tennessee STAR
  experiment and from other investigations of class size eects,              Educational Evaluation and Policy
  Analysis,     1999,   21    (2), 143163.


  , The failure of input-based schooling policies,              The Economic Journal, 2003, 113 (485), 6498.

Hoxby, Caroline M.,               The eects of class size on student achievement:               New evidence from

  population variation,         The Quarterly Journal of Economics,           2000,   115    (4), 12391285.


Jepsen, Christopher and Steven Rivkin, Class size reduction and student achievement:                              The

  potential tradeo between teacher quality and class size,                 Journal of Human Resources,          2009,

  44   (1), 223250.


Krueger, Alan B., Experimental estimates of education production functions,                           The Quarterly
  Journal of Economics,           1999,   114   (2), 497532.


   and Diane M. Whitmore,                     The eect of attending a small class in the early grades on

  college-test taking and middle school test results: Evidence from project STAR,                      The Economic
  Journal,    2001,     111   (468), 128.


Lee, Sokbae, Endogeneity in quantile regression models:                   A control function approach,        Journal
  of Econometrics,        2007,   141   (2), 11311158.


Leuven, Edwin, Hessel Oosterbeek, and Marte Ronning,                               Quasi-experimental estimates

  of the eect of class size on achievement in norway,                 The Scandinavian Journal of Economics,
  2008,   110   (4), 663693.


Levin, Jesse, For whom the reductions count:                     A quantile regression analysis of class size and

  peer eects on scholastic achievement,               Empirical Economics,     2001,   26    (1), 221246.


OECD, PISA 2012 results:               What makes schools successful?: Resources, policies and practices

  (volume IV), 2013.


Rivkin, Steven G., Eric A. Hanushek, and John F. Kain, Teachers, schools, and academic
  achievement,       Econometrica,       2005,   73   (2), 417458.


Stylianidou, F, G Bagakis, and D Stamovlasis, Attracting, developing and retaining eec-
  tive teacher, 2004.


Todd, Petra E. and Kenneth I. Wolpin, On the specication and estimation of the production
  function for cognitive achievement*,             The Economic Journal,       2003,    113   (485), 333.


                                                             38
Urquiola, Miguel,     Identifying class size eects in developing countries: Evidence from rural

 bolivia,   The Review of Economics and Statistics,   2006,   88   (1), 171177.




                                               39
A Testing the time-homogeneity assumption
Assumption 1 (time-homogeneity).

                                         Îµjt | CS j , Î±j â¼ F (. | CS j, Î±j ).

      Ghanem (2017) derived testable equality restrictions for the time-homogeneity Assumption

1. She therefore proposed a statistical test based on Kolmogorov-Smirnov and Cramer-von-Mises

statistics.    Below, we explain the intuition of the test.                For the sake of simplicity, suppose we

only have two periods. As mentioned in Chernozhukov et al. (2013), the time-homogeneity as-

sumption is equivalent to         (jt , Î±j )|CSj. =d (j1 , Î±j )|CSj. ,   for all   t.   Then this assumption implies

that the conditional distribution of the second period average GPA for a school                        j   is the same as

its conditional distribution of the rst period average GPA given its history of class size choices

CSj. = (x, x0 ).   Indeed, we have:



                        (j2 , Î±j )|CSj. = (x, x0 ) =d (j1 , Î±j )|CSj. = (x, x0 )
                        â g(x0 , Î±j , j2 )|CSj. = (x, x0 ) =d g(x, Î±j , j1 )|CSj. = (x, x0 )
                        â g(CSj2 , Î±j , j2 )|CSj. = (x, x0 ) =d g(CSj1 , Î±j , j1 )|CSj. = (x, x0 )
                        â GP Aj2 |CSj. = (x, x0 ) =d GP Aj1 |CSj. = (x, x0 ),

where    =d   means equal in distribution.




Testing procedure: bootstrap
Let   TN   be a test statistic. The following summarizes the steps of the test.


   1. Compute the statistic         TN   for the original data      {(GP A1. , CS1. ), . . . , (GP AN. , CSN. )}.

   2. Resample      N    observations     {(GP Aâ1. , CS1.â ), . . . , (GP AâN. , CSN.
                                                                                    â
                                                                                       )}   with replacement from the
                                b
        original data. Compute TN , the centered statistic for the bth bootstrap sample.


   3. Repeat points 1. and 2. B times.


                                                               1
                                                                   PB
   4. Calculate the p-values of the tests with           p=    B     b=1   1{TNb > TN }.     Reject if p-value is smaller

        than some signicance level         Î±.

      For the implementation of the test, we set             B = 500.       We use the Kolmogorov-Smirnov and

Cramer-von-Mises statistics (See (Ghanem, 2017) for details on the formulas). All p-values are



                                                             40
higher than 10%, suggesting that the identifying Assumption 1 is not rejected at any 1%, 5% nor

10% signicance levels. The p-values for the standard parallel trend assumption are 0.99 and 0.90

for the Kolmogorov-Smirnov and Cramer-von-Mises statistics, respectively.




                                               41
     B Nonparametric Estimates
                                                                        Table A.1: Nonparametric results


                 s0
                                  12                       13                        14                       15                          16                          17
       s1
                          Î´12            Î´23       Î´12            Î´23        Î´12            Î´23       Î´12            Î´23       Î´12               Î´23       Î´12               Î´23
            21           4.99           -0.24     3.66           -0.25       2.35          -0.24     1.58           -0.24     1.04              -0.21     0.69             -0.23
                                                                                                                                                                  â 
                        (1.05)*        (0.07)*   (0.86)*        (0.07)*    (0.68)*        (0.07)*   (0.53)*        (0.07)*   (0.44)*           (0.07)*   (0.32)        (0.07)*
            22           4.94           -0.18     3.61           -0.19       2.31          -0.19     1.55           -0.18     1.02              -0.16     0.67             -0.17
                                                                                                                                                     â             â 
                        (1.06)*        (0.07)*   (0.87)*        (0.07)*    (0.69)*        (0.07)*   (0.53)*        (0.07)*   (0.44)*           (0.07)    (0.32)        (0.07)*
            23           4.93           -0.19     3.59           -0.19       2.30          -0.19     1.54           -0.18     1.01              -0.17     0.65             -0.18
                                                                                                                                      â                            â 
                        (1.05)*        (0.07)*   (0.86)*        (0.07)*    (0.68)*        (0.07)*   (0.53)*        (0.07)*   (0.44)            (0.07)*   (0.32)        (0.07)*
            24           4.89           -0.19     3.55           -0.20       2.27          -0.20     1.52           -0.19     0.99              -0.18     0.64             -0.18
                                                                                                                                      â                            â                  â 
                        (1.05)*        (0.08)*   (0.86)*        (0.08)*    (0.68)*        (0.08)*   (0.53)*        (0.07)*   (0.44)            (0.07)*   (0.31)            (0.08)
                  â 
            (1)       , * indicate signicance at the 5% and 1% levels, respectively.




42
