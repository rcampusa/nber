                              NBER WORKING PAPER SERIES




                            THE RISE OF NICHE CONSUMPTION

                                          Brent Neiman
                                         Joseph S. Vavra

                                      Working Paper 26134
                              http://www.nber.org/papers/w26134


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                           August 2019, Revised October 2020




We thank David Argente, Anhua Chen, Levi Crews, and Agustin Gutierrez for providing
exceptional research assistance, and we thank our discussants Jorge Miranda-Pinto and Mingzhi
Xu. We also thank Rodrigo Adao, Jonathan Dingel, J.P. Dubé, Austan Goolsbee, Pete Klenow,
Thomas Mertens, Esteban Rossi-Hansberg, and Tom Wollmann for helpful comments and
suggestions. Our analyses are calculated or derived based in part on data from The Nielsen
Company (US), LLC and marketing databases provided through the Nielsen Datasets at the Kilts
Center for Marketing Data Center at The University of Chicago Booth School of Business. The
conclusions drawn from these Nielsen data are those of the researchers and do not reflect the
views of Nielsen. Nielsen is not responsible for, had no role in, and was not involved in analyzing
and preparing the results reported herein. This paper supplants a previous draft circulated as "The
Rise of Household Spending Concentration." The views expressed herein are those of the authors
and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2019 by Brent Neiman and Joseph S. Vavra. All rights reserved. Short sections of text, not to
exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.
The Rise of Niche Consumption
Brent Neiman and Joseph S. Vavra
NBER Working Paper No. 26134
August 2019, Revised October 2020
JEL No. D12,D4,E21,E31

                                         ABSTRACT

Over the last 15 years, the typical household has increasingly concentrated its spending on a few
preferred products. However, this is not driven by "superstar" products capturing larger market
shares. Instead, households increasingly purchase different products from each other. As a result,
aggregate spending concentration has decreased. We develop a model of heterogeneous
household demand and use it to conclude that increasing product variety drives these divergent
trends. When more products are available, households select products better matched to their
tastes. This delivers welfare gains from selection equal to about half a percent per year in the
categories covered by our data. Our model features heterogeneous markups because producers of
popular products care more about their existing customers while producers of less popular niche
products care more about generating new customers. Surprisingly, our model matches the
observed trends in household and aggregate concentration without any change in aggregate
market power.


Brent Neiman
University of Chicago
Booth School of Business
5807 South Woodlawn Avenue
Chicago, IL 60637
and NBER
brent.neiman@chicagobooth.edu

Joseph S. Vavra
Booth School of Business
University of Chicago
5807 South Woodlawn Avenue
Chicago, IL 60637
and NBER
joseph.vavra@chicagobooth.edu
1     Introduction

We show that over the last 15 years, the typical household has dedicated an increasing share of its
expenditures to a few preferred products. At the same time, households are increasingly buying
different products from each other. Thus, aggregate spending concentration has declined even as
household spending concentration has risen. We develop a novel model of heterogeneous household
demand to interpret these new facts and explore their implications. In the model, as new products
are introduced, households can choose consumption bundles better suited to their particular tastes,
resulting in welfare gains from better selection. We fit our model to the data for more than one
hundred separate product categories and conclude that rapid growth in product availability has led to
sizeable welfare gains that cannot be identified with standard representative agent macro models.
     We begin our analysis by using the Nielsen Homescan dataset that covers a large fraction of spend-
ing on groceries and other household nondurables to study the shopping behavior of thousands of
households from 2004-2016. We measure household-specific product spending shares within narrow
categories like "Coffee" and "Cosmetics" and demonstrate that these shares have steadily become
more concentrated over time. This fact on its own might point toward an increasing importance of
"superstar" products, but a similar analysis of aggregate spending paints a different picture. Pool-
ing households together, we see that total spending on these same products over the same period
has in fact become more evenly distributed. These diverging household and aggregate concentration
trends imply that even though each household increasingly focuses spending on its own preferred
products, households also increasingly differ in which products they consume. We refer to this greater
fragmentation of the product space as a rise in "niche" consumption.
     The rise in niche consumption is robust to a variety of specification and measurement choices as
well as to the inclusion of a variety of controls for observables. Interestingly, the divergence between
household and aggregate concentration is not driven by a widening gap between rich and poor house-
holds, between consumers in one region and another, or by differences between households grouped
according to various other demographic characteristics. Rather, we find that household consumption
bundles are becoming more differentiated even when measured within cities, within store chains,
and within demographic groups defined by income, race, education, age, and household size. Niche
consumption also grows in almost all product categories.
     What then drives these divergent trends, and should we care about them? Many standard models
cannot be used to answer these questions since they rule out the differential trends in household
and aggregate concentration by assumption. For instance, any representative household model will
exhibit identical household and aggregate concentration. Standard discrete choice models imply that
household spending within categories is completely concentrated on a single product.1 Instead, we
    1 Dynamicdiscrete choice models with temporal aggregation could likely also speak to our primary empirical facts,
which focus on annual household spending. However, even when looking at individual shopping trips made by one-


                                                         1
build a model of consumers that have a love-of-variety and whose preference orderings for particular
products differ from each other.
    Our model of an individual household follows Li (2019) and features constant elasticity of substi-
tution (CES) preferences, product-specific taste shocks, and a utility cost borne per variety consumed.
Under these assumptions, the household chooses to consume only a subset of the total available prod-
ucts. When tastes for products, adjusted for prices, are distributed Pareto, we obtain a closed-form
expression relating the Household Herfindahl index ­ the concentration measure we use in our empir-
ical analyses ­ to structural parameters of the model.
    In Li (2019), however, households all have identical tastes and agree on the ranking of products, so
there is no capacity for the divergent household and aggregate trends that we find in our empirical
results. Our main modeling contribution is thus the introduction of analytically tractable household
heterogeneity into the framework of Li (2019). We introduce a continuum of households with corre-
lated but heterogeneous preferences for different products in a way that yields closed-form solutions
for both household and aggregate spending concentration. In particular, we assume that all house-
holds have tastes that decline identically from their favorite product to their second favorite, and so
on, so that all households have identical taste distributions. However, the actual identities of these first-
and second-favorite products are allowed to differ from one household to the next.
    We introduce a "rank" function, which maps each product to a relative position in each household's
tastes. A household's rank for a given product is a weighted average of that product's aggregate
component, which is common across all households, and a random household-specific component.
If the aggregate component receives all the weight, the environment collapses to a representative
household economy with all households consuming the same products and with equal household and
aggregate spending concentration. Conversely, if the household-specific component receives all the
weight, there will be uniform aggregate spending across products and low aggregate concentration,
even if individual household spending is highly concentrated. We analyze an empirically-disciplined
intermediate case and obtain another closed-form expression relating the Aggregate Herfindahl to
structural parameters in the model.
    Interestingly, we next show that in this intermediate case, different products in the economy face
different elasticities of demand even though household preferences are CES. This is because when a
product's price is reduced, sales to existing customers expand with a constant elasticity, but the product
also attracts new customers who previously did not purchase the product at all. The relative strength
of these forces varies with products' market shares, which generates variable elasticities of demand
and implied markups. Our model assumptions allow us to characterize analytically the distribution of
elasticities as well as the implied aggregate markup in the economy.
    Our closed-form analytical solutions for various aggregates rely on particular parametric assump-
person households, it is common for multiple products to be simultaneously purchased in a single category, as we shown in
Appendix A.3.


                                                           2
tions, but we show that, nonetheless, the model matches product-level spending distributions both
for individual households and for the economy as a whole quite well. It is important in our setting
to have analytical expressions for observed empirical moments because key structural parameters in-
cluding the elasticity of substitution, the utility costs of variety, and the shape of the taste distribution
are all either unobserved or are challenging to estimate directly in the data. Even the total number
of available products, a key input into our model, cannot be confidently counted in the Nielsen data.
As we demonstrate in Appendix A.3, the level and trend growth in the total number of products are
highly sensitive to the choice to include or exclude products accounting for tiny amounts of aggregate
spending. Therefore, we use the model's analytical expressions, together with key moments from the
data, to compute changes in the value of structural parameters and assess the implications of these
changes for welfare.
   We find that even when we allow for simultaneous movements in all structural parameters, match-
ing the observed divergence between household and aggregate concentration can only be achieved
with sizable growth in the number of varieties, a rate of roughly 4.5 percent per year. This increase
in available varieties leads households to endogenously consume more products and enjoy welfare
"gains from variety", as is standard in CES environments. In our model, an increase in the total num-
ber of varieties available also allows households to select a subset of products better matched to their
particular tastes and thus to enjoy what we call "gains from selection".
   The strength of these two effects depends on the elasticity of substitution and the shape parameter
governing the asymmetry of tastes, which can be identified given data on aggregate markups. For
plausible targets for the aggregate markup, we find that the increase in product availability necessary
to hit the divergence between household and aggregate concentration leads to large welfare gains,
which are mostly driven by the gains from selection. For example, if we hold all other parameters
fixed in our preferred calibration and introduce 4.5 percent annual growth in the number of available
products into our model, we calculate that consumption-equivalent welfare grows by 0.56 percent per
year for expenditures in the categories covered by our data, and that 93 percent of this growth comes
from gains from selection. Since these gains from selection need not be captured by typical matched-
model price indices used by national statistical agencies, our model reveals how expanding product
availability in an environment with heterogeneous tastes may generate significant unmeasured gains
in standards of living.
   While an increase in variety availability is necessary to generate the divergence between household
and aggregate concentration, the model implies that this increase is not sufficient to match all the
empirical trends we document. In particular, an increase in variety availability, on its own, will actually
cause household concentration to fall mildly, even though aggregate concentration will fall by much
more. We therefore use the model to infer additional changes in the fixed cost per variety, the elasticity
of substitution, and the shape of the taste distribution to exactly match both the observed trends in



                                                     3
Household and Aggregate Herfindahls, as well as the relationship between the Household Herfindahl
and the number of varieties consumed by individual households.
    We emphasize that, unlike the increase in the number of available varieties, changes in these other
structural parameters are not fully identified and multiple configurations are consistent with the data.2
However, we consider various combinations of parameter changes in addition to the increase in avail-
able varieties necessary to exactly match empirical trends, and the model consistently delivers sub-
stantial unmeasured welfare gains that arise primarily from households choosing product bundles
that better suit their unique preferences. Thus, we conclude that while the increase in product avail-
ability on its own is not sufficient to fully fit the empirical trends, this increase drives almost all of the
welfare effects associated with these trends. The model thus implies a crucial role for product entry in
driving the rise of niche consumption, and we provide several additional pieces of empirical evidence
that support this relationship.3
    This conclusion that there has been an important welfare relevant increase in product availability
arises from fitting trends to a notion of the "average category" in the data. However, we also apply
our model separately to each of the roughly 100 product groups in the data to infer category specific
changes in welfare and product availability. We find that the conclusions we arrive at from redoing
the analysis category-by-category are broadly similar to those reached when matching average trends.
However, there is some interesting heterogeneity across product groups, with the largest gains from
selection arising for coffee, disposable diapers, and snacks, and with losses for eggs, cottage cheese,
and photographic supplies. Nevertheless, our model implies that the large majority of sectors experi-
enced significant increases in product variety and resulting welfare gains from selection, while changes
in other structural parameters have more limited effects on welfare.
    In the final part of the paper, we explore the implications of the rise of niche consumption for
aggregate market power. Concentration is often used as a proxy for market power, and as described
above, markups in our model are endogenous and vary across products so that market power has the
potential to move with concentration. So what then happens to aggregate market power in response
to the same inferred changes in structural parameters that drove the rise of niche consumption? Sur-
prisingly, not much. In particular, as we demonstrate analytically, increases in product availability
do not on their own change the aggregate markup because they have two offsetting effects arising
from competition and selection. New products constitute new competition for the incumbents, which
causes them to charge lower markups. However, since the new consumed products on average are
better tailored to the tastes of households that choose to consume them, they have higher markups
   2 For example, the model makes clear that changes in the elasticity of substitution and in the shape parameter governing
the taste distribution cannot be separately identified using our data on spending. We focus, therefore, on scenarios where
only one of these two parameters changes.
   3 For example, restricting to a balanced panel of products substantially attenuates the rise of niche consumption. And

while we again emphasize that measuring variety availability in the data is at best challenging, we find that there is a strong
correlation at the category level between empirical measures of observed variety growth and that implied by the model.



                                                              4
than the products they replace. In the aggregate, these two opposing forces exactly offset each other.
    By contrast, changes in the elasticity of substitution and in the shape of the taste distribution have
the scope to affect aggregate market power, but the changes suggested by our model are not large
enough quantitatively to meaningfully alter the picture. Our model demonstrates that the significant
trends in household and aggregate product concentration need not indicate any changes in aggregate
market power.4 Even more broadly, our model demonstrates how any given trend in concentration can
be associated with an increase or a decrease in aggregate market power depending on the underlying
structural forces driving the trend.
    We proceed as follows. Section 2 discusses the related literature, Section 3 demonstrates the em-
pirical divergence between household and aggregate spending concentration, Section 4 develops a
theoretical heterogeneous household model to interpret this empirical evidence, and Section 5 con-
cludes.


2    Related Literature

Our work touches on and draws connections between a number of important themes in recent research.
Our model in which individual households have CES preferences, heterogeneous Pareto-distributed
tastes for different varieties and consume an endogenous subset of these varieties follows Li (2019)
and Arkolakis et al. (2008). Our theoretical contribution is to maintain analytical tractability even when
extending this setup much further to an environment with heterogeneity in which households have
different but potentially correlated tastes across products. This allows us to speak to the increasing di-
vergence between household and aggregate concentration. Our basic approach follows in the tradition
of the macro and trade literature that uses a CES structure to study the implications of expanded prod-
uct availability.5 The heterogeneous and asymmetric preferences in our model imply that expanding
the set of available products benefits consumers through a selection effect that is above-and-beyond
the standard love-of-variety gains in symmetric representative agent models.6
    Our analysis also relates to a large literature in industrial organization (IO) quantifying the welfare
gains from new varieties.7 Within this literature, our result that information on the decomposition
of aggregate demand across households can help pin down gains from product availability has close
parallels with Quan and Williams (2018). Our approach requires household level spending data but
    4 Similar conclusions also obtain when we compute aggregate market power trends separately for each of the product

groups, although there are a few exceptions such as photographic supplies.
    5 For example, Handbury and Weinstein (2014) emphasizes the need to account for differences in variety availability when

comparing the price level across U.S. cities. Redding and Weinstein (2016) demonstrates how welfare measures can be biased
if they do not account for heterogeneity in consumer tastes across products. Atkin et al. (2018) uses similar scanner data on
grocery purchases to calculate the welfare gains associated with entry of global retail chains into the Mexican market.
    6 While representative agent CES models can be rationalized through an underlying discrete choice representation with

heterogeneity (Anderson et al. (1987)), this requires idiosyncratic tastes to be drawn from an i.i.d. Gumbell distribution and
aggregates to an environment with symmetry.
    7 See, for example, Hausman (1996), Petrin (2002), and Brynjolfsson et al. (2003).




                                                              5
requires no information on product characteristics, and it delivers simple analytical solutions. This
means that unlike the typical IO approach, our methodology scales tractably, and we can apply it to
a variety of different sectors and markets. Of course, this tractability comes at the cost of additional
parametric structure. While our approach is more flexible than typical symmetric representative agent
models and is able to fit spending patterns for most sectors in the data, we view it as a complement
rather than a substitute to detailed IO studies of particular markets.
   On the empirical side, a recent macro literature has explored the importance of product availability
and concentration trends for various empirical phenomenon. In concurrent work, Michelacci et al.
(2019) document cyclical fluctuations in household variety adoption and model this phenomenon using
a discrete choice model. Their empirical focus is on higher frequency business cycle effects, and
their theoretical framework is very different from ours, but they reach similar conclusions about the
important role of product selection for welfare. Argente et al. (2018a,b) shows that product introduction
plays a key role in understanding patterns of firm growth. Jaravel (2019) argues that innovation and
product entry plays an important role in inflation differences across groups. Several important papers
document changes in top sales shares and industrial structure, including Autor et al. (2017) and Furman
and Orszag (2015). Our finding that household and aggregate concentration trends move in opposite
directions is reminiscent of Rossi-Hansberg et al. (2018), which demonstrates that concentration trends
also diverge when comparing measures done at the zip-code and national levels.
   Given heterogeneity across households, our structure generates heterogeneous markups because
some producers adjust sales by selling more to existing customers while others adjust by selling non-
zero amounts to more customers. To our knowledge, Levin and Yun (2008) is the only other paper in
the recent literature that emphasizes this mechanism, though it also relates to Hottman et al. (2016),
who emphasize heterogeneity in the degree to which price declines for one product cannibalize sales
for others in multiproduct firms. Our emphasis on differences across firms in the importance of the
intensive versus extensive margin contrasts with the more commonly used frameworks for generating
variable markups, such as the nested-CES setup in Atkeson and Burstein (2008), linear demand in
Melitz and Ottaviano (2008), translog preferences in Feenstra and Weinstein (2017), and Kimball (1995)
kinked-demand curves as incorporated in Gopinath and Itskhoki (2010).
   Our framework delivers analytical expressions for the full distribution of markups, a topic of in-
creasing focus, such as in the work of De Loecker and Eeckhout (2017), Edmond et al. (2018), Stroebel
and Vavra (2019), Anderson et al. (2018), and Burstein et al. (2019). We note, however, that our model
can easily deliver large trends in aggregate and household concentration without requiring any change
in aggregate market power. Our work is therefore consistent with the skepticism expressed in Syver-
son (2018) and Berry et al. (2019) of the simple linkage often made between concentration trends and
market power.
   Finally, although the underlying causes are potentially different, the rise in niche consumption



                                                    6
of retail goods parallels the increasing segmentation or polarization witnessed in culture and digital
content (Aguado et al. (2015); Alwin and Tufis (2015)), in political idiology (Pew Research Center
(2014); Gentzkow et al. (2017)), in jobs and income (Autor et al. (2006); Piketty et al. (2016)), and in the
geography of where households consume (Davis et al. (2017)).8 Our findings indicate that, along with
these other manifestations of fragmentation in modern life, even our grocery purchases increasingly
differ from the national average.


3     Diverging Household and Aggregate Concentration

We start this section with a discussion of the aspects of the data that are particularly salient for our
analysis, relegating a more detailed description to Appendix A.1. We then present our key finding that
the concentration of household spending across products increased while, at the same time, aggregate
concentration among the same goods decreased. Finally, we provide evidence that these trends are
associated with product churning.


3.1     AC Nielsen Homescan Data

We use Homescan data from AC Nielsen to measure household-level shopping behavior.9 The data set
contains a weekly household-level panel for the period 2004-2016. The panel has large coverage, with
roughly 170,000 households in over 22,000 zip codes recording prices for almost 700 million unique
transactions covering a large fraction of non-service retail spending.
      Products are allocated by Nielsen into three levels of category aggregation: roughly 1304 product
modules, 118 product groups, and 11 department codes. For example, "vegetables - peas - frozen"
are a typical product module within the "vegetables - frozen" product group within the "frozen foods"
department. Our baseline analysis focuses on annual spending by all households in the Nielsen sam-
ple and computes household spending shares across products within product groups, but all results
are qualitatively robust to instead calculating household product spending shares within the more
disaggregated product modules or within the more aggregated department codes. We focus on the
full sample of households for a number of reasons discussed in Appendix A.2, but this is relatively
conservative since the magnitudes of our trends increase when we restrict to a balanced panel of
households.10
    8 The fact that our results are not driven by a widening gap between the goods purchased by rich and poor households
or between consumers in one region and another is also consistent with the finding in Bertrand and Kamenica (2018) that
cultural distance between rich and poor has not grown over time.
   9 These data are available for academic research through a partnership with the Kilts Center at the University of Chicago,

Booth School of Business. See http://research.chicagobooth.edu/nielsen for more details on the data.
  10 All results weight each household using sampling weights provided by Nielsen, which are designed to make the Nielsen

panel demographically representative of the broader U.S. population. Appendix Figure A2 shows that aggregate spending
growth in our sample tracks government data on aggregate spending growth in comparable categories. In the appendix we
also discuss the relevance for our results of additional measurement-related issues, such as the (unimportant) role of online
shopping.



                                                             7
      In our baseline analysis, we define a product as a Universal Product Code (UPC). Appendix Figure
A9 demonstrates, however, that the key trends we identify are robust to instead defining a product
as a "brand". Nielsen assignes UPCs to brands, which are more aggregated than UPCs but are still
fairly disaggregated. "Pepsi", for example, is a brand and includes many different flavors and package
sizes of the Pepsi drinks. "Caffeine Free - Pepsi", however, is considered a distinct brand. The UPC
is our preferred notion of a product in part because UPCs are directly assigned by the manufacturer,
whereas the brand variable is constructed by Kilts/Nielsen in a way that involves judgment and may
differ across categories and over time. Further, although each generic has a unique UPC, all generics are
assigned the same brand in order to preserve the anonymity of the stores in the Nielsen sample.11 Sales
of generics are large and growing, so their inclusion, by construction, distorts concentration measures
that define products as brands.12 Finally, some of our analyses decompose expenditure changes into
price and quantity effects, which is straightforward for the case of UPCs but not for brands.
      We restrict our analysis to the set of product modules in the data for all years during 2004-2016.
We exclude modules that enter or exit since this reflects changes in Nielsen's measurement ­ not actual
household behavior ­ and could therefore lead to spurious changes in measured concentration. We
also exclude fresh produce and other items without barcodes (these are labeled as "magnet" items in
the data).


3.2     Household Spending Concentration

We begin our analysis by exploring how the concentration of household spending across products has
changed over time. For each household i, UPC j, and product group c we calculate total expenditure
Ei, j,c,t in year t and associated expenditure share:

                                                                  Ei, j,c,t
                                                  s i , j,c,t =                          .                                (1)
                                                                   j Ei, j,c,t

Our primary measure of household product concentration for a product category c at time t is the
Herfindahl and equals the sum of the square of these expenditure shares:13


                                                     ,c,t =  s i ,c, j,t
                                                                                 2
                                                   HiHH                              .                                    (2)
                                                                  j

  11 Since we do observe UPC codes just not brand labels for generic products, a generic product at one retailer will count as

distinct from a similar generic product at a different retailer in the typical situation in which they have different UPCs.
  12 See, for example, Dube et al. (2018). Our robustness checks using the brand definition of product exclude generics.
  13 All results in the paper hold for alternative concentration measures such as the share of spending accounted for by the

top 1 or the top 2 products. We use the Herfindahl as our primary concentration measure as it can be more easily interpreted
through the lens of the structural model described in Section 4.




                                                                  8
Next, we take the weighted average across households to generate the Household Herfindahl for
product category c:
                                          c,t =  sharei,c,t Hi,c,t ,
                                         HHH                 HH
                                                                                                        (3)
                                                      i

where we use weights capturing household i's share of aggregate spending in category c:

                                                       j i,t Ei, j,c,t
                                       sharei,c,t =                      ,                              (4)
                                                      i  j i,t Ei, j,c,t

and where i,t is a household's sampling weight provided to make the Nielsen sample representative
of aggregate consumption. Finally, we calculate the overall Household Herfindahl by averaging the
category-specific Household Herfindahl in equation (3) across all categories:


                                          HHH
                                           t  =  sharec HHH
                                                         c,t ,                                          (5)
                                                          c


where sharec is the average share of category c in total spending across our entire sample.
      Unlike the weights used in equation (3), we use fixed category spending shares over time in equa-
tion (5) to focus on concentration changes occurring within categories, rather than those emerging
from shifts in spending across categories with different average levels of concentration. We do this
to better interact with recent interest in changing market power and technological disruption, typi-
cally perceived to be occurring within sectors. However, our results are robust to instead allowing
compositional shifts across categories to influence our concentration measures.
      Figure 1a plots HHH
                       t  and reveals a nearly monotonic increase in household spending concentration
from 2004-2016. In Appendix A.3, we show that this increase in concentration is also associated with
a decline in the average number of products consumed per household within a product category. We
delay interpreting the quantitative magnitude of these changes until we develop our model in Section 4
but note now that fitting this series with a linear trend yields a precise and highly significant estimate.


3.3     Aggregate Spending Concentration

What underlies this increase in the concentration of household expenditures? One possible explanation
is that there has been an increase in the importance of "super-star products", along the lines of the rise
of "super-star firms" documented in Autor et al. (2017). This explanation, natural though it may be,
finds no support in our data: we demonstrate in this subsection that at the same time the typical
household's expenditures have grown more concentrated across products, aggregate spending has in
fact become more evenly distributed across these same products.
      We sum spending on product j in category c across all households in our data and define the




                                                              9
                             Figure 1: Household Product Concentration

            (a): Household Herfindahl                                             (b): Aggregate Herfindahl
   .285                                                           .0036


    .28
                                                                  .0034

   .275
                                                                  .0032
    .27

                                                                   .003
   .265


    .26                                                           .0028
     04




                   08




                                 12




                                                    16




                                                                     04




                                                                                        08




                                                                                                     12




                                                                                                               16
    20




                  20




                                20




                                                   20




                                                                    20




                                                                                       20




                                                                                                    20




                                                                                                              20
aggregate market share of j in c as:

                                                   i i,t Ei, j,c,t
                                       s j,c,t =                      ,                                             (6)
                                                   i  j i,t Ei, j,c,t

and the Aggregate Herfindahl in category c as:


                                          H c,t =  s j,c,t
                                             Agg                          2
                                                                              .                                     (7)
                                                             j


Just as with the Household Herfindahl, we average these category Herfindahls using fixed category
expenditure weights over time to generate the Aggregate Herfindahl of overall spending:


                                                   =  sharec Hc,t .
                                          Agg                             Agg
                                        Ht                                                                          (8)
                                                         c


Figure 1b plots this Aggregate Herfindahl and shows that the trend in product spending at the ag-
gregate level is the reverse of what we see at the household level: aggregate spending concentration
is declining, not rising. How can it be that aggregate concentration is declining if households are
individually concentrating their spending on a smaller number of products? These divergent trends
imply that households are concentrating more and more spending on their top products over time,
but that these top products increasingly differ across households. We view these divergent trends and
resulting fragmentation of the product space as characterizing a rise in niche consumption.
   The decline in aggregate concentration might, at first, seem at odds with the rise in sales concen-
tration measured in Census data by papers including Autor et al. (2017). Our aggregate concentration
measure, however, captures expenditures at the product level whereas Census-based estimates ag-



                                                             10
gregate products up to the producer level.14 The resulting trends may therefore differ significantly,
particularly in the face of changes in the number of goods each manufacturer produces.
      Appendix A.4 relates our findings to this recent literature on rising market concentration in the
U.S. census data. We first show that production concentration measures from the Census for the
relevant NAICS categories ­ "Food Manufacturing" (code 311) and "Beverage and Tobacco Product
Manufacturing" (312) ­ are in fact flat or declining during the years covered in our sample. Next,
we use a mapping of UPCs to manufacturers to generate a comparable producer-level concentration
measure based on the sales in our Nielsen data. We offer a number of important caveats, including
that the UPC-to-manufacturer mapping is highly imperfect for this purpose, but nonetheless find
similar trends in manufacturer concentration in Nielsen and Census data. We therefore conclude that
our results are broadly consistent with the Census-based literature. Whether producer or product
concentration is of greater interest depends, of course, on the question at hand. Our theory below
will treat each good as produced and marketed independently such that it maps most naturally to our
product-based concentration measure.
      Finally, it is important to note that while the decline in the number of products consumed by the
typical household contributed to the rising Household Herfindahl measure, it is much more difficult to
measure the equivalent notion for the aggregate economy. As we show in Appendix A.3, the existence
of thousands of products with tiny amounts of overall sales and incomplete coverage of households
and stores in the data render a simple product count highly volatile, dependent on assumptions,
and sensitive to measurement error. In contrast, household and aggregate concentration as well as
household-level variety statistics are much less sensitive to this issue. We therefore treat the total
number of products available for purchase as unobservable, and in Section 4 we show that our model
can be used to infer product availability using these other more robust empirical statistics.


3.4     Robustness to Measurement and Composition

The rise in niche consumption ­ the increase in the Household Herfindahl and decrease in the Aggre-
gate Herfindahl ­ is highly robust and is not driven by either measurement choices or by obvious com-
position effects. Appendix Figures A7-A13 show that these divergent concentration trends continue
to hold if we exclude generics, compute concentration using more disaggregated categories (modules
instead of groups), define products as brands instead of UPCs, use time-varying category weights, use
alternative concentration measures instead of the Herfindahl, focus on a balanced panel of households
over time, or condition on household size.
      Is the rise of niche consumption driven by shifts in the importance of different groups, such as
old and young or rich and poor? While there are differences in the level of concentration across
  14 The categories within which we calculate concentration are also far less aggregated and cover a smaller set of economic
activity than what is done in most Census-based studies. Further, our data begin in 2002, far later than the 1970s or 1980s
start date commonly found in that literature.


                                                            11
                   different groups, the trends are primarily driven by within group variation. To show this, we re-
                   calculate annual Household and Aggregate Herfindahls using only expenditures by households with
                   particular demographic characteristics such as income bracket, race, education, and age. Figures 2a
                   and 2b show that rising household and declining aggregate concentration occurs within demographic
                   groups. The rising Household and falling Aggregate Herfindahls do not simply owe to changes in
                   composition across groups with different levels of concentration. Appendix Figure A12 further shows
                   that we also see a rise in niche consumption when restricting to a balanced sample, so changes in the
                   composition of the household sample over time do not drive our results.15 Our results are also similar
                   if we foresake Nielsen weights and instead weight households equally.

                                                                                           Figure 2: Trends within demographic group

                                           (a): Household Concentration                                                                                                     (b): Aggregate Concentration
                                Trend by Income                                                   Trend by Education                                                    Trend by Income                                             Trend by Education
     .32                                                                         .29                                                      .0045                                                                        .004
             .3
Herfindahl




                                                                    Herfindahl




                                                                                                                                         Herfindahl




                                                                                                                                                                                                         Herfindahl
                                                                                 .28                                                            .004                                                                  .0035
     .28
                                                                                 .27                                                      .0035                                                                        .003
     .26
                                                                                 .26                                                            .003
     .24                                                                                                                                                                                                              .0025
             04
                       05

                    20 6
                       07

                    20 8
                       09
                       10

                    20 1
                       12

                    20 3
                       14
                       15
                       16




                                                                                      04

                                                                                           20 5
                                                                                           20 6
                                                                                           20 7
                                                                                           20 8
                                                                                           20 9
                                                                                           20 0
                                                                                           20 1
                                                                                           20 2
                                                                                           20 3
                                                                                           20 4
                                                                                           20 5
                                                                                             16




                                                                                                                                                       04

                                                                                                                                                            20 5
                                                                                                                                                            20 6
                                                                                                                                                            20 7
                                                                                                                                                            20 8
                                                                                                                                                            20 9
                                                                                                                                                            20 0
                                                                                                                                                            20 1
                                                                                                                                                            20 2
                                                                                                                                                            20 3
                                                                                                                                                            20 4
                                                                                                                                                            20 5
                                                                                                                                                              16




                                                                                                                                                                                                                             20 4
                                                                                                                                                                                                                             20 5
                                                                                                                                                                                                                             20 6
                                                                                                                                                                                                                             20 7
                                                                                                                                                                                                                             20 8
                                                                                                                                                                                                                             20 9
                                                                                                                                                                                                                             20 0
                                                                                                                                                                                                                             20 1
                                                                                                                                                                                                                             20 2
                                                                                                                                                                                                                             20 3
                                                                                                                                                                                                                             20 4
                                                                                                                                                                                                                             20 5
                                                                                                                                                                                                                               16
                       0


                       0




                       1


                       1




                                                                                             0
                                                                                             0
                                                                                             0
                                                                                             0
                                                                                             0
                                                                                             1
                                                                                             1
                                                                                             1
                                                                                             1
                                                                                             1
                                                                                             1




                                                                                                                                                              0
                                                                                                                                                              0
                                                                                                                                                              0
                                                                                                                                                              0
                                                                                                                                                              0
                                                                                                                                                              1
                                                                                                                                                              1
                                                                                                                                                              1
                                                                                                                                                              1
                                                                                                                                                              1
                                                                                                                                                              1




                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               0
                                                                                                                                                                                                                               1
                                                                                                                                                                                                                               1
                                                                                                                                                                                                                               1
                                                                                                                                                                                                                               1
                                                                                                                                                                                                                               1
                                                                                                                                                                                                                               1
       20
                  20
                        20


                    20


                    20
                    20


                    20


                    20
                    20




                                                                                 20
                                                                                       20




                                                                                                                                                      20
                                                                                                                                                           20




                                                                                                                                                                                                                         20
                        <$20k        $20-35k      $35-60k   >$60k                            College           Non-College                                      <$20k      $20-35k     $35-60k   >$60k                          College        Non-College



                                 Trend by Race                                                      Trend by Age                                                         Trend by Race                                                Trend by Age
             .285                                                            .32                                                                       .005                                                   .0045
                  .28                                                            .3                                                                   .0045
Herfindahl




                                                                    Herfindahl




                                                                                                                                         Herfindahl




                                                                                                                                                                                                         Herfindahl
             .275                                                                                                                                                                                                     .004
                                                                             .28                                                                       .004
                  .27
                                                                                                                                                      .0035                                                   .0035
             .265                                                            .26
                  .26                                                        .24                                                                       .003                                                           .003
                    20 4
                    20 5
                    20 6
                    20 7
                    20 8
                    20 9
                    20 0
                    20 1
                    20 2
                    20 3
                    20 4
                    20 5
                      16




                                                                                  04

                                                                                       20 5
                                                                                       20 6
                                                                                       20 7
                                                                                       20 8
                                                                                       20 9
                                                                                       20 0
                                                                                       20 1
                                                                                       20 2
                                                                                       20 3
                                                                                       20 4
                                                                                       20 5
                                                                                         16




                                                                                                                                                           20 4
                                                                                                                                                           20 5
                                                                                                                                                           20 6
                                                                                                                                                           20 7
                                                                                                                                                           20 8
                                                                                                                                                           20 9
                                                                                                                                                           20 0
                                                                                                                                                           20 1
                                                                                                                                                           20 2
                                                                                                                                                           20 3
                                                                                                                                                           20 4
                                                                                                                                                           20 5
                                                                                                                                                             16




                                                                                                                                                                                                                         20 4
                                                                                                                                                                                                                         20 5
                                                                                                                                                                                                                         20 6
                                                                                                                                                                                                                         20 7
                                                                                                                                                                                                                         20 8
                                                                                                                                                                                                                         20 9
                                                                                                                                                                                                                         20 0
                                                                                                                                                                                                                         20 1
                                                                                                                                                                                                                         20 2
                                                                                                                                                                                                                         20 3
                                                                                                                                                                                                                         20 4
                                                                                                                                                                                                                         20 5
                                                                                                                                                                                                                           16
                      0
                      0
                      0
                      0
                      0
                      0
                      1
                      1
                      1
                      1
                      1
                      1




                                                                                         0
                                                                                         0
                                                                                         0
                                                                                         0
                                                                                         0
                                                                                         1
                                                                                         1
                                                                                         1
                                                                                         1
                                                                                         1
                                                                                         1




                                                                                                                                                             0
                                                                                                                                                             0
                                                                                                                                                             0
                                                                                                                                                             0
                                                                                                                                                             0
                                                                                                                                                             0
                                                                                                                                                             1
                                                                                                                                                             1
                                                                                                                                                             1
                                                                                                                                                             1
                                                                                                                                                             1
                                                                                                                                                             1




                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           0
                                                                                                                                                                                                                           1
                                                                                                                                                                                                                           1
                                                                                                                                                                                                                           1
                                                                                                                                                                                                                           1
                                                                                                                                                                                                                           1
                                                                                                                                                                                                                           1
                  20




                                                                                 20
                                                                                      20




                                                                                                                                                        20




                                                                                                                                                                                                                       20
                             White             Black                                        <35        35-49      50-64      >=65                                  White             Black                                    <35      35-49    50-64        >=65




                             As a simple summary statistic for the prominence of niche consumption, we consider the ratio of
                   the Household Herfindahl to the Aggregate Herfindahl. A higher value for this "niche ratio" means
                   that household consumption is more segmented into different niches. Figure 3 shows that the rise of
                   niche consumption is pervasive across product categories, with three-quarters of product categories
                                                                                                                                                                                                                              Agg
                   exhibiting increases in HHH
                                            c,t , 80 percent of product categories exhibiting decreases in Hc,t , and growth

                   in the niche ratio in over 90 percent of the categories.16
                             In Appendix Figure A14, we also show that the rise of niche consumption is occurring in the vast
                   majority of locations, implying that shifts in the relative economic importance of cities and regions
                   or differences across regions are not behind our findings. The niche ratio is highest in cities like
                   Chicago, Washington DC, Tampa, Los Angeles, and Boston and lowest in Des Moines, Little Rock,
                        15 Trends
                              are actually stronger in the balanced panel specification. See Appendix A.2 for discussion and interpretation.
                        16 To
                          improve visual exposition, Figures 3 and 4a drop 5 outlier categories whose variety counts more than double or
                   decrease by more than 50 percent from 2004-2016: "Frozen Juices", "Yeast", "Canning Supplies", "Greeting Cards" and "Pho-
                   tographic Supplies". This does not affect any conclusions.



                                                                                                                                    12
Las Vegas, and West Texas, but it is increasing in most locations. Appendix Figure A15 shows that
the rise in niche consumption is found within roughly two-thirds of the individual retailers in our
data, so the aggregate patterns we observe are not simply driven by shifts in where households shop.
Appendix Figure A16 shows the patterns hold even within retailers so that patterns are not driven by
compositional changes in which retailers households shop at.

                                                               Figure 3: 2004-2016 Concentration Growth Within Category

                                                       (a): Household Concentration                                                                 (b): Aggregate Concentration
                                                                                                                                              100
                                                  40
  2004-2016 Growth of Household Herfindahl (%)




                                                                                              2004-2016 Growth of Aggregate Herfindahl (%)
                                                                                                                                               50


                                                  20


                                                                                                                                                0



                                                   0
                                                                                                                                             -50




                                                 -20                                                                                         -100
                                                                  Product Groups                                                                               Product Groups




                                  The level of the niche ratio is highest in "Cosmetics" and "Fragrances-Women" and is lowest for
"Charcoal" and "Dough Products". The rise in niche consumption is pervasive, but it is also clear
from Figure 3 that there is substantial heterogeneity across categories in the extent of its ascent. The
niche ratio has grown most rapidly for "Coffee", "Hardware, Tools", "Fresheners and Deodorizers", and
"Disposable Diapers". It has declined by most for "Cottage Cheese", "Eggs", "Milk", and "Bread and
Baked Goods".


3.5                                                The Role of Product Churn

Interestingly, there is a common observable linking together the categories with the most rapid in-
creases in niche ratios: they are also the categories that appear to have the fastest growth in the
number of available products. We emphasize this relationship as it will be central to the mechanism in
our model in Section 4 and its implications for welfare. As we noted above and elaborate in Appendix
A.3, inference about the growth of aggregate product varieties in these data are highly sensitive to
the treatment of products receiving trivial amounts of sales. In Figure 4a, however, we include prod-
ucts consumed by at least two households with total sales of at least $50 and plot the growth in each
product group's niche ratio against the growth in that group's number of varieties. Categories with 50
percentage points more growth in the total number of products sold had, on average, 40 percentage
points more growth in their niche ratios, with the relationship statistically significant at the 1 percent


                                                                                         13
level. Figure 4b shows that a similar relationship also holds when comparing across retailers: retailers
with 50 percentage points more growth in the number of products sold exhibited roughly 20 percent-
age points more growth in their niche ratios, with the relationship again significant at the 1 percent
level.17 The relationship between variety growth and the niche ratio becomes even steeper if we weight
retailers by size.

                                               Figure 4: Growth in Number of Products vs. Growth in Niche Ratio

                                              (a): Product Groups                                                                            (b): Retailers
                                   200                                                                                        200



                                   150
  (HH/Agg) Herfindahl Growth (%)




                                                                                            (HH/Agg) Herfindahl Growth (%)
                                                                                                                              100


                                   100

                                                                                                                                0
                                    50



                                     0                                                                                       -100



                                   -50
                                                                                                                             -200
                                     -50           0                        50   100                                            -100   -50               0           50   100
                                                       Variety Growth (%)                                                                       Variety Growth (%)




                                   We now provide additional evidence that product churn plays a key role in the rise of niche con-
sumption by comparing concentration trends measured only among "continuing" products that are
purchased by a household in two consecutive years with those measured using all spending by that
household. For each household i that is observed in both t and t + 1, we measure concentration of
"continuing products" by using only those that are purchased by that household in both t and t + 1.
These continuing products account for about 30 percent of transactions and 40 percent of spending.
We also calculate Herfindahls for those same households using all their spending. We form an index
by chaining together changes in these Herfindahls from t and t + 1 and pin down the level using the
values in the initial period. Figure 5a shows the upward trend in household concentration is much
stronger when using all UPCs than when restricting to continuing products, growing by 29 percent
compared to 5 percent. This implies a large role for product entry and exit in generating household
concentration increases. Figure 5b shows that when focusing only on continuing products, aggregate
concentration actually rises instead of declines.
                                   Together these results all imply that whatever forces are driving the rise in niche consumption,
they are pervasive across demographics, geographies, retail chains, and product categories.
  17 To reduce the influence of outliers, we exclude retailers with absolute log variety changes above 2, which drops 6 out

of 334 retailers. Results are similar for alternative thresholds. The panel of retailers is unbalanced, and growth rates for the
remaining 328 retailers are calculated from their first to their last observation in the sample. Results are very similar if we
instead calculate growth rates from 2004-2016 for the 179 retailers which are in the sample continuously.



                                                                                       14
                                                Figure 5: 2004-2016 Concentration growth for continuing vs. all products

                                           (a): Household Herfindahl                                                                                     (b): Aggregate Herfindahl
                                                                                                                                         .007
                            .5


                           .45                                                                                                           .006
    Household Herfindahl




                                                                                                                  Aggregate Herfindahl
                            .4
                                                                                                                                         .005

                           .35
                                                                                                                                         .004
                            .3

                                                                                                                                         .003
                           .25
                             04

                                   05

                                           06

                                                 07

                                                       08

                                                             09

                                                                   10

                                                                          11

                                                                                12

                                                                                      13

                                                                                            14

                                                                                                  15

                                                                                                        16




                                                                                                                                            04

                                                                                                                                                  05

                                                                                                                                                         06

                                                                                                                                                               07

                                                                                                                                                                     08

                                                                                                                                                                           09

                                                                                                                                                                                 10

                                                                                                                                                                                        11

                                                                                                                                                                                              12

                                                                                                                                                                                                    13

                                                                                                                                                                                                          14

                                                                                                                                                                                                                15

                                                                                                                                                                                                                      16
                           20

                                  20

                                         20

                                                20

                                                      20

                                                            20

                                                                  20

                                                                         20

                                                                               20

                                                                                     20

                                                                                           20

                                                                                                 20

                                                                                                       20




                                                                                                                                          20

                                                                                                                                                 20

                                                                                                                                                        20

                                                                                                                                                              20

                                                                                                                                                                    20

                                                                                                                                                                          20

                                                                                                                                                                                20

                                                                                                                                                                                      20

                                                                                                                                                                                             20

                                                                                                                                                                                                   20

                                                                                                                                                                                                         20

                                                                                                                                                                                                               20

                                                                                                                                                                                                                     20
                                       Continuing Households:           Continuing Households:                                                        Continuing Households:          Continuing Households:
                                       All Products                     Continuing Products                                                           All Products                    Continuing Products




4                           Modeling the Rise of Niche Consumption

In this section, we develop a model that is able to match the rise of niche consumption documented
in Section 3. We use the model to identify the key driving forces of this trend and to evaluate the
resulting implications for welfare and markups.
                           Following Li (2019), we assume that households must pay a fixed cost per consumed product,
which implies they only consume a subset of available products despite their CES preferences that
embed a love-of-variety. As in Arkolakis et al. (2008), we assume each household's tastes for prod-
ucts, adjusted for price, are distributed Pareto, which allows us to write the Household Herfindahl
analytically. These frameworks, however, assume that households have the same tastes and, therefore,
household and aggregate dynamics evolve in parallel. Our key theoretical contribution is to introduce
a rank function that allows the preference ordering of products to differ across households while still
allowing us to derive closed-form analytical expressions for aggregate spending patterns including
the Aggregate Herfindahl. Using these analytical expressions, we confront the model with empiri-
cal trends from 2004-2016 and demonstrate that an increase in the number of available products is
required to quantitatively match the rise of niche consumption. In the model, this increase leads to
significant welfare gains as it implies that consumers can choose a consumption bundle better tailored
to their tastes without raising their fixed cost expenditures.
                           Here, we offer simplified expressions for the key objects in the model. Interested readers can find
detailed derivations of all analytical results in Appendix B.1.




                                                                                                             15
4.1     Household Problem

We assume that a continuum of households i  [0, 1] spend E on a continuum of varieties k  [0, N ] to
maximize:                                                                            
                                                                      -1             -1
                                 Ui =              (i,k Ci,k )             dk             - F × ( | i | ) ,                        (9)
                                            k  i

where i is the set of products consumed by i (with |i |  N ), i,k is a household-specific taste
for product k, and the term multiplied by F captures a fixed cost that increases exponentially in the
measure of varieties consumed.18
      We write the price of product k as pk , so ~ i,k = i,k / pk captures the price-adjusted taste of household
i for k. We assume price-adjusted tastes are distributed Pareto:


                                        Pr (~ i ,k < y ) = G ( y ) = 1 - ( y / b ) -  ,


where y  b > 0 and where we assume  > 2 ( - 1). Since larger  means a flatter distribution of
tastes, the latter condition simply ensures that tastes are not "too concentrated" relative to  and that
the model delivers a finite Household Herfindahl. We also assume                                       > 1/( - 1) - 1/ , which implies
that higher fixed costs F lead to less purchased products |i |. Household i will consume the set of
goods with ~ i ,k  [ ~  , ) for some ~   b.
      The ideal price index in this environment will be equal for all households and is defined as:

                                                                               1
                                                                              1- 
                                                                -1
                        Pi = P =                   (~ i ,k )         dk
                                            k  i
                                                                1                                                   1
                                             1-                 -1
                                                                         -1                   1            | i |    
                                  =       1+                         b        × ( | i | )    1-    ×                       .      (10)
                                                                                                             N
                                                                                Variety Effects
                                              Average Price                                            Selection Effects


The price index has three terms, each with an intuitive interpretation. We refer to the first term as the
average price since it summarizes the full distribution of price-adjusted tastes for available products,
as if there were a single purchase price for one unit of the full bundle. It varies with the shape  and
scale b of the Pareto distribution as well as with the elasticity of substitution . The second term is the
standard love-of-variety term in CES models, which decreases with the measure of consumed products
and increases with the elasticity of substitution (given |i | > 1). Finally, the third term represents a
selection effect from the fact that when households only consume a subset i of the full measure N of
products, they choose the subset they like best. This term increases in the share of available products
that are consumed and decreases in the extent to which households prefer some products to others.
  18 To ease notation, we do not include a household subscript i for each k, but importantly note that k is an arbitrary

household-specific index of products, and so the same k may represent a different actual product for each different house-
hold. This is unimportant for the analysis of individual households, but will be crucial when we move to the aggregate
analysis.



                                                                     16
      The price index (10) reduces to more standard expressions in special cases. For example, consider
  , which implies that households value all products identically at b, i.e. ~ i,k = b for all k. In such
a case, the expression reduces to b-1 |i |1/(1-) , which is the standard price index for symmetric CES
preferences. Alternatively, imagine some products are preferred to others,  < , but all products are
nonetheless purchased, so i = N . In this case, the last term reduces to 1 as there are no selection
effects and the average price term fully captures the impact of heterogeneity in the desirability of
products.
      The properties of the CES price index imply we can re-write equation (9) as:

                                                                E
                                                     Ui =         - F × ( | i | ) .
                                                                P

Consumers choose |i | to maximize utility. The first order condition implies that the optimal number
of products is:
                                                                                                            1  1   -1
                                                                                      1
                                                                                                     (   + 1- +)
                                                      1         1           1-                   1
                                                                                     1- 
                                                      -1    -       1+                       N   
                             | i | = |  | =                                                                             ,    (11)
                                                                    F~

      ~ = F /(bE) is a parameter that shifts with spending, aggregate prices, and variety costs.19
where F
Importantly, the optimal choice of varieties yields a "cutoff" taste ~  that satisfies:20

                                                                                ||
                                                          G (~ ) = 1 -             ,                                         (12)
                                                                                 N

and the share of household i s expenditure on variety k is then given by:
                                                          
                                                          ( P~ i ,k )  -1 ,       ~ i ,k > 
                                                                                           ~
                                               s i ,k =                                                                      (13)
                                                          0,                      ~ i ,k  
                                                                                          ~ ,

with     si,k dk = 1.


4.2     Household Herfindahls

Given equation (13), it follows that the Household Herfindahl HHH will be equal for all i and can be
written as:

                                                     2
                                                                      
                                                                                           2(  -1)            (  + 1)2 1
                  HiHH   =H    HH
                                    =          (si,k ) dk = N              ( Pi ~ i ,k )             dG (y) =            ,   (14)
                                        k  i                         ~ i
                                                                                                                 4    ||
  19 When   N = 1, this expression is the same as that in Li (2019) after substituting in his special case for b.
  20 The fact that households only consume a subset of the varieties in our environment follows directly from our specification

of the fixed cost. This same feature arises in Michelacci et al. (2019), though it is generated less mechanically in their setup.
In their environment, consumers pay a cost to try a product and there is uncertainty as to whether they will like it.




                                                                    17
where we introduce the variable  = 1 - 2( - 1)/ . The above parameter restrictions imply   (0, 1).
For fixed  and , which implies fixed  , household concentration declines monotonically with the
number of consumed varieties. And for fixed ||, concentration declines monotonically with  . All
else equal, flatter taste distributions (higher  ) or less substitutability across products in preferences
(lower ) reduce Household Herfindahls.


4.3     Testing the Model at the Household Level

How well does this model fit household spending data? If we condition on the number of products |i |
purchased by household i, equation (13) yields a testable relationship between i's spending shares on
particular products k and i's ranking of those particular products from [0, N ]. For analytical tractability,
our model assumes a continuum of products but in Appendix B.1.7 we provide formulas which convert
the continuous relationship in equation (13) to a discretized version which we then use to test against
the data. Specifically, we interpret the spending share on discrete product K as the total spending
share by that household on all products k in the span of [(K - 1) /|i |, K /|i |] and obtain:

                                                     +1                            +1
                                   | |                          +1
                                  si,Ki = (|i |)-    2    K     2    - ( K - 1)    2    ,                   (15)


where we note that the spending share on the Kth discrete product is a function of both |i | and  .
                                                                                                   +1
                                                                                            | |
The share spent on the most preferred good (i.e. K = 1) simplifies to: si,1 i = (|i |)-            2    .
      Panel (a) of Figure 6 plots the average spending shares in both the model and data on a household's
top, second, and fifth ranked goods as a function of the total number of goods consumed by that
household. The solid lines measure the average of these shares in our data, taken across all households
and weighted by their total spending, whereas the dashed lines simply plot the theoretical relationship
implied by our model as shown in equation (15). For example, the solid and dashed lines in blue and
red at the top of Figure 6 both equal 1 when || = 1 at the far left of the plot, which must be true
by construction. After all, if a household only buys one good, then that top good must by definition
account for 100 percent of the spending. The far right side of the plot shows that for households who
buy 20 products (|| = 20), the top product they purchase accounts for approximately 20 percent
of their total spending in both the data and the model. The fact that the solid blue and dashed red
lines nearly perfectly coincide for all values of || implies that our model of household spending
does a great job capturing the degree to which households concentrate spending on their single most
preferred product.
      Next, the yellow solid and green dashed lines plot household spending shares on their second-
ranked goods. This share is undefined when households only consume a single good, but ranges from
about 0.3 to 0.1 as || ranges from 2 to 20. Households in the data spend a bit more on their second
ranked good compared to what is predicted by the model, but the shares never deviate by more than
a few percentage points. The solid brown and dashed orange lines show that the share spent on the

                                                          18
Figure 6: Model Fit to Distribution of Spending by Product Rank for Households with Different 


                                                 (a): Average Spending on Different Ranked Items
                                            1
                                                                Rank 1 Spend: Data             Rank 1 Spend: Model
                                                                Rank 2 Spend: Data             Rank 2 Spend: Model
                                            .8                  Rank 5 Spend: Data             Rank 5 Spend: Model



                                            .6
                                    Share




                                            .4



                                            .2



                                            0
                                                 1          5                10                     15               20
                                                                               



                                             (b): Category Spending on Different Ranked Items

                                                     CEREAL                                          YOGURT
                           1                                                          1

                           .8                                                         .8

                           .6                                                         .6
                   Share




                                                                              Share




                           .4                                                         .4

                           .2                                                         .2

                           0                                                          0
                                1                5     10       15      20                 1    5        10    15         20
                                                                                                          


                                            SEAFOOD - CANNED                                        PET FOOD
                           1                                                          1

                           .8                                                         .8

                           .6                                                         .6
                   Share




                                                                              Share




                           .4                                                         .4

                           .2                                                         .2

                           0                                                          0
                                1                5     10       15      20                 1    5        10    15         20
                                                                                                          




fifth-ranked good, in both the data and the model, hovers quite close to 10 percent for all plotted values
of ||.
    Figure 6b repeats this exercise for the individual categories of cereal, yogurt, canned seafood, and
pet food.21 Although the model fits more closely for cereal and yogurt, the dashed lines are fairly
  21 We calibrate  for each category using equation (14) given the values of HHH and . The lowest implied  in the plotted

categories is 0.053 for pet food and the highest is 0.189 for seafood-canned. The  used for aggregate spending is 0.0672.


                                                                             19
close to their solid counterparts in all cases. Thus, even though our model makes strong parametric
assumptions in order to deliver analytical tractability, Figure 6 provides strong evidence that our model
captures the key patterns of individual household spending we focus on in the data.22


4.4     Aggregation

In order to account for divergent trends in household and aggregate concentration measures, we must
specify how tastes for particular products differ across households. We index all products in the
economy by j  [0, N ], and assume each household i assigns each product j a "rank" ri, j , where lower
ranks indicate higher price-adjusted tastes.23 Households will consume all goods with ri, j  ||.
      We introduce the following rank function for each household i:


                                                  r i, j = (1 -  ) j +  x i, j ,                                           (16)


where j identifies a common aggregate rank for a product, xi, j is an i.i.d. draw from the uniform
distribution with support [0, N ] representing a household-specific taste component, and   (0, 1). If
 is close to zero, the model approximates a representative agent model where all households rank
products in the same order. If  approaches 1, tastes are purely idiosyncratic and resulting aggregate
spending will be evenly distributed over all consumed products even if individual household tastes
are very concentrated. Thus, even though all households have identical distributions of taste-adjusted
prices, this rank function allows for different households to have different ranks for the exact same
product j.
      To compute the aggregate spending share on product j, we need to know the cumulative distribu-
tion function (CDF) of product ranks R(r ), integrating over all households and products. Without loss
of generality, we assume  < 1/2 and write:24
                1 r 2    1
                              ,                                                             0  r < N
                 2 N  (1 -  )
                r 1     1 
       R (r ) =       -        ,                                                             N  r < (1 -  ) N              (17)
                 N1- 21-
                  1 r 2            r                                       1-
                           1            1      1                       
                -
                                 +           -                           +              ,   (1 -  ) N  r  N .
                  2 N  (1 -  )     N  (1 -  ) 2                       1-    

Note that this CDF satisfies the properties that R(0) = 0, R( N ) = 1, R(r ) is continuous at r =  N and
r = (1 - ) N , and R(r ) is monotonically increasing. Household i will consume good j if and only if
  22 Appendix   A.5 derives additional testable implications of the household model and further corroborates its close fit to
the data.
  23 Note that in contrast to the arbitrary household-specific product index k above, the product index j is common to all

households.
  24 Replacing  with 1 -  in all instances in equation (17) yields the corresponding R (r ) for the alternative case of  > 1/2.

Furthermore, this leaves the rank function unchanged for the first of the three regions of R(r ), which will be the focus of our
analysis.



                                                               20
R (ri, j )  |  | / N .
    There are three distinct regions in R(r ) with different functional forms. If households only consume
goods with ranks in the first region, this implies that there is no single product in the economy that
is purchased by all households. If households consume so many varieties that some have ranks in
the second region, this implies that at least one product is purchased by everyone. Finally, if even the
worst possible product in the economy is purchased by at least one household, then the ranks of some
                                                                                      ||
consumed goods will fall into the third region.25 As long as 0                         N   <      
                                                                                               2(1-  )
                                                                                                         <1
                                                                                                          2 , it can be shown that
all consumed products in the economy will have an r value confined to the first region of R(r ). This
is the empirically relevant region of the parameter space, since the number of varieties purchased by
an individual household is orders of magnitude less than the aggregate number of varieties, and there
are no varieties in the data that are consumed by all households. To simplify the analytical expressions
that follow, we thus impose this parameter restriction for the remainder of the analysis.
    Noting that ~ i , j = G -1 1 - R r i , j      , the spending share of household i that is dedicated to product
j can be written as a function of j's rank:

                                                                  - - 1        + 1  -1       +1                  -1
                  s i , j = P  -1 ~ i -1
                                     ,j  = ( Pb)-1 R ri, j          
                                                                          =       N 2 |  | - 2 R ri, j           2
                                                                                                                      ,       (18)
                                                                               2

if R ri, j  ||/ N , and zero otherwise. To determine the products for which the share si, j in equation
(18) jumps from positive to zero, we solve for the rank of the marginal, or least-preferred, variety that
is consumed in positive quantities by household i. Note that this good's identity will differ across
households, but its rank r  will be the same and satisfies R(r  ) = ||/ N . Substituting into equation
                                             ||
(17) under the assumption that 0              N   <      
                                                      2(1-  )
                                                              ,   we get:

                                                                                  1
                                                  r  = (2 (1 -  ) |  | N ) 2 .                                                (19)


    Under our parameter restrictions, individual households each consume only a fraction of the total
products available N , but the exact products consumed will differ across households. However, even
when aggregating across all households, there are some products which are not consumed by any
household. This means that for the economy as a whole, there is a difference between the measure
of available goods N and the measure of goods that are actually consumed, which we denote with
j . This marginal consumed good for the economy as a whole, j , is that j for which the best possible
idiosyncratic taste draw (a draw of xi, j = 0) yields rank r  for the household with that zero draw.
  25 More  specifically, the product with the best aggregate taste shock is j = 0. The worst possible idiosyncratic rank for this
product occurs when xi, j = N , in which case r =  N , so if we are in the first region of the parameter space, even the best
product is not purchased by some households. Conversely, the product with the worst aggregate taste shock is j = N . The
best possible idiosyncratic rank for this product occurs when xi, j = 0, in which case r = (1 -  N ). This means that if we are
in the third region of the CDF, this worst product will still be consumed by some household.




                                                                  21
Solving for this cutoff, j = r  / (1 - ), we get:

                                                                              1
                                                               2 |  | N       2
                                                    j =                           .                                           (20)
                                                                1-

      Importantly, since ri, j is strictly increasing in j, all goods with j  j will have positive aggregate
sales and all goods with j > j will have zero aggregate sales. Finally, substituting in the definition of
the rank function from equation (16) into the expression (19), and using the definition of j in equation
(20), we can write the highest value or cutoff random draw x j that yields positive consumption of j as:


                                                             1- 
                                                    xj =       ( j - j) .                                                     (21)
                                                              

4.5     The Aggregate Herfindahl

We now use equations (18) and (21) to integrate spending shares across households i to get the aggre-
gate spending share on good j:

                            1                      + 1  -1    +1                      xj                            -1   dx
                 sj =                 Esi, j di =     N 2 ||- 2                            ( R ((1 - ) j +  x ))    2

                          i
                            Edi     i              2                              0                                      N
                                                 
                         +1                j
                     =              1-              .                                                                         (22)
                          j               j

Using equations (20) and (22), we immediately obtain the Aggregate Herfindahl:

                                           j                          2        j                          2
                              Agg                             +1                                   j
                          H          =           s2
                                                  j dj   =                                 1-                 dj
                                          j =0                 j              j =0                j
                                                                      1
                                         2 (  + 1)               1    2
                                     =                                    ,                                                   (23)
                                          2 + 1              2 N ||
                                                               ~

                ~ = N /(1 - ). Aggregate concentration declines monotonically with N
where we define N                                                                  ~ . For fixed
 and , aggregate concentration declines monotonically with the number of consumed products. And
for fixed ||, concentration declines monotonically with  . Importantly, changes in || and  move
the Household Herfindahl and Aggregate Herfindahl in the same direction. As we discuss in the next
subsection, this imposes strong restrictions on the set of possible forces which can explain the opposite
                                                                                 ~.
empirical trends for HHH and HAgg and implies an important role for increases in N
      How well do these model-based relationships fit aggregate sales distributions in the data? To
assess this, we start by measuring |c | in the data as the average number of products consumed per
household within a category c using the same weights as were used in equations (3)-(5). We then solve
                                             ~ c , to match HHH      Agg
for the two remaining free parameters, c and N               c  and Hc in equations (14) and (23).
Figure 7 then plots the market share distribution across products implied by our model in equation
(22) (the red dashed line) against the actual market share distribution in the data (the solid blue line)


                                                                22
                                  Figure 7: Model Fit on Aggregate Category Data

                 (a): Aggregate Market Shares: 2004                                      (b): Sectoral Market Shares: 2004
                                                                                            "CEREAL"                                       "YOGURT"
         0.035                                                                0.03                                            0.03
                                                  Data                                                Data                                           Data
                                                                                                      Model                                          Model
          0.03                                    Model                       0.02                                            0.02




                                                                      Share




                                                                                                                      Share
         0.025                                                                0.01                                            0.01


                                                                                0                                               0
          0.02
 Share




                                                                                     0      200     400       600                    0         500          1000
                                                                                    Product Rank (j)                                     Product Rank (j)
         0.015                                                                   "SEAFOOD - CANNED"                                       "PET FOOD"
                                                                               0.1                                          0.015
                                                                                                      Data                                           Data
                                                                                                      Model                                          Model
          0.01                                                                                                                0.01




                                                                      Share




                                                                                                                    Share
                                                                              0.05
         0.005                                                                                                              0.005


            0                                                                   0                                               0
                 0    100   200     300    400     500                               0       50     100       150                    0     1000   2000      3000
                                                                                          Product Rank (j)                               Product Rank (j)
                            Product Rank (j)



in 2004.26 We weight across categories and do this for total spending in Figure 7a as well as separately
for a number of product categories in Figure 7b. In several categories such as cereal and yogurt,
the model fits extremely well, while it is notably less successful in others such as canned seafood.
Overall, however, we consider these good fits as validating our use of the model, particularly given the
distributions are fully determined by only three parameters and reflect parametric assumptions and
functional forms chosen largely for analytical convenience.27


4.6        Elasticities of Demand, Markups, and Aggregate Profits

The previous sections develop analytical expressions for our key empirical objects: HHH , HAgg , and
||. We will show that these expressions can be used to draw important conclusions about the forces
driving the rise of niche consumption, but we defer this analysis until Section 4.7. First, in this subsec-
tion, we additionally develop an expression for the ratio of aggregate revenues to costs, what we refer
to as the "aggregate markup". The aggregate markup is useful on its own as a gauge of market power,
but further, we will use this expression to calibrate our model and quantify the welfare implications of
the rise in niche consumption.
         In typical CES environments, the elasticity of demand and markups are fully determined by the
exogenous elasticity of substitution . By contrast, the elasticity of demand in our model depends both
  26 We concentrate on a single year since our model is static. Results are similar if we instead use data from 2016 or pool all

years.
  27 Appendix Section B.3 offers a version of our model that builds from a linear demand system as in Melitz and Ottaviano

(2008), rather than the CES demand system assumed above. In this case, we also obtain analytical expressions for key
statistics such as Household and Aggregate Herfindahls. Most of the qualitative inferences from confronting the model with
the data are the same across both model specifications. The CES model is our benchmark in large part because the match
between its predictions and the data, as explored in Figure 7, strike us as more compelling.


                                                              23
on this standard "intensive margin" force as well as on an endogenous "extensive margin" force that
arises from the possibility for products to gain new customers (or lose existing ones). Since these forces
are of different importance for products with different aggregate market shares, the model generates
heterogeneity in demand elasticities across products and in their resulting markups. This also implies
that existing estimates of the elasticity of substitution, such as those offered in Broda and Weinstein
(2004), cannot be applied in our context.
    To solve for the price elasticity of aggregate demand for product j, we start by expressing its total
sales as the integral of each household's spending on j, taken over all households:

                                                                          1           xj
                                                                 sj =                      six , j dx,                     (24)
                                                                          N       0


where we use the notation six , j to denote the spending share of a household with taste draw on product
j equal to x. Since j will only be purchased by those households with a sufficiently high idiosyncratic
taste for it, we need only integrate from households drawing xi, j = 0 to the marginal household that
draws xi, j = x j.
    We take the partial derivative of s j in equation (24) with respect to p j to get:

                                               s j   1                    xj    si x , j               xj
                                                   =                                     dx + six , j       ,              (25)
                                                pj   N                0         pj               j     pj

where the right hand side of equation (25) follows from Leibniz's rule. The first term can be solved
using equation (18) as:
                                                                 si x , j          si , j
                                                                          = (1 -  ) x ,                                    (26)
                                                                 pj                 pj

where we take the aggregate price index P as fixed. Moving on to the second term, we can evaluate
equation (18) at the marginal household with taste x j to get:


                                                xj             + 1  -1    +1           -1  x
                                                                                             
                                                                                             j
                                    si x , j         =            N 2 ||- 2 ( R (r  )) 2       .                           (27)
                                        j       pj             2                           pj

Substituting equations (26) and (27) back into equation (25), we get:

                      s j           1 1                  xj                    1           xj          sj    + 1 xj
                                                                                                                    
                          = (1 -  )                           six , j dx +       si x , j     = (1 -  ) +              .   (28)
                       pj           pj N             0                         N j  pj                 p j 2 N ||  p j

    Our analytical expressions thus far rely on the assumption that the full distribution of price-
adjusted tastes in our model is given exogenously as Pareto. However, since we have a continuum
of products, we assume that the influence of an infinitesimal price change on the overall distribution
of demand is marginal and so our analytical expressions continue to hold.28 To compute  x j /  p j , we

  28 In   Appendix B.2 we use numerical simulations which do not require any distributional assumption on tastes to verify


                                                                                24
start with the relationship:

                                                                          i , j
                                  R (1 -  ) j +  x i, j = 1 - G                    = b i-  
                                                                                        ,j p j ,                          (29)
                                                                          pj

and totally differential the left- and right-hand sides for each product j. Evaluating the resulting
expression at xi, j = x              
                        j , ri, j = r , and ~ i, j = ~  yields:

                                                    dx j           1
                                                          = -  || N .                                                     (30)
                                                     dp j    j     pj

Inserting this into equation (28), we have:

                                         s j          sj                                  sj
                                             = (1 -  ) -                                     .                            (31)
                                          pj          pj 2 1 - j                          pj
                                                               j


    Equation (31) implies that product j's price elasticity of demand  j can be written as:

                                                                                  -1
                             s j p j                                 j
                  j = 1 -            =                      + 1-                       [ /2 - ( - 1)]   >   .             (32)
                              pj sj                                 j
                                         Intensive Margin
                                                                         Extensive Margin


In addition to the standard intensive margin term , there is a strictly positive contribution from the
extensive margin, since lowering the price of a product can induce new households to start consuming
the product. Low j or "mass-market" products are consumed by many households, so the intensive
margin is relatively more important for them. High j or "niche" products are consumed by few
households, so the extensive margin is relatively more important for those goods. As a result, the
elasticity of demand increases as market share falls.29
    Figure 8 plots aggregate product market shares s j , the elasticity of demand  j , and the elasticity
of substitution  as a function of the product rank j, using a version of the model economy that we
calibrate as described below. Elasticities of demand rise as the product rank grows from the low values
associated with large market shares to the high values associated with niche products. We note that
despite the CES structure, the elasticity of demand generically differs from the elasticity of substitution
. As j  j and a product approaches the point where it is dropped from the aggregate consumption
bundle, the elasticity approaches infinity, i.e.   . The markup µ j then be written (in gross terms)
that the approximation that follows is highly accurate.
   29 Interestingly, for good j = 0, which has the largest aggregate demand, the positive impact of  on the elasticity coming

through the intensive margin exactly cancels with the negative impact of  coming from the extensive margin, leaving a
total elasticity of ( /2 + 1). This result echos a closely related point in Chaney (2008), where the impact of the equivalent
parameter for the elasticity of trade flows to trade costs also fully cancels when combining the intensive and extensive margin
effects.




                                                              25
                                                             Figure 8: Elasticity of Demand for Good j


                                                 0.025                                                                               20
                                                                                                               Market Share
                                                                                                               Elasticity            18

                                                  0.02                                                                               16

                                                                                                                                     14
                                  Market Share



                                                 0.015                                                                               12

                                                                                                                                     10

                                                  0.01                                                                               8

                                                                                                                                     6
                                 1+ / 2
                                    0.005                                                                                            4

                                                                                                                                     2

                                                    0                                                                                0
                                                         0        100      200            300             400                  500
                                                                             Product Rank



as:

                                                                                                 (  +1)
                                                                            j       + 2 j s j
                                                                  µj =          =                ,                                                        (33)
                                                                          j - 1      (  +1)
                                                                                   + 2 j s j - 1

and ranges from a high of (1 + 2/ ) for the largest market share good j = 0 to a low of 1 for j = j .
      The aggregate markup µAgg is equal to the ratio of aggregate sales to aggregate costs. Using
equations (22) and (32), it can be written as:

                                  j                                                                                                              -1
                Agg              0 j
                                    s dj                          + ( - 1)2 1  2           +1                           1     1 2
            µ         =              -1
                                                             =             -                           × 2 F1         1, ; 1 + ;                      ,   (34)
                              j     
                                 s j dj                              2       2 2           2+                                  2+
                             0 j j


where 2 F1 (·) is the hypergeometric function.30 Importantly, while this aggregate profit share is a
                                                                   ~ , F, or .31
relatively complicated function of  and  , it is not a function of N

                                                                                    ( a, b; c; z ) =  
  30 The                                                                                                     ( a)n (b)n zn
           hypergeometric function is defined as follows:                    2 F1                     n =0      (c)n n!
                                                                                                                           .   ( x )n is the Pochhammer symbol,
                 ( x + n -1) !
which equals        ( x -1) !
                                 for all n > 0 and equals 1 for n = 0.
  31 We note that if each consumer's taste for each good remains fixed, and markups change for any reason, this would result
in a change in the price-adjusted taste distribution and would affect the expressions above that were derived assuming that
price-adjusted tastes were distributed a la Pareto. We explore this in more detail in Appendix B.2, but here note that in
order to preserve the Pareto distribution of price-adjusted tastes in the face of increases in N and endogenous markups, the
changes in tastes that we additionally require are relatively minor.




                                                                                    26
4.7    Understanding the Empirical Trends

We now confront our model with concentration measures and other moments from the data to infer
which structural forces led to the rise in niche consumption. Collecting previous results, our model
implies that:

                                                  (  + 1)2 1
                                   HHH =                                                          (35)
                                                     4    ||
                                                                            1
                                       Agg        2 (  + 1)            1    2
                                   H         =                                  .                 (36)
                                                  (2 + 1)          2 N ||
                                                                     ~

      Since HHH , HAgg , and || are directly observable in the data, this produces a system of two
                                                                 ~ for each year. Figure 9 shows the
equations ­ (35) and (36) ­ that can be solved to determine  and N
                ~ and  necessary to hit these observables in each year. Through the lens of the model,
time-series for N
given the observed path for ||, matching the concentration trends requires nearly constant values for
                              ~ . From 2004-2016,  falls by 2 percent while N
 and a strong upward trend in N                                             ~ rises by 70 percent.

                Figure 9: Implied Drivers of the Aggregate Rise of Niche Consumption


                                                                    10 4
                                                             1.5
                   0.09

                  0.085                                      1.4

                   0.08
                                                             1.3
                  0.075

                                                             1.2
                   0.07

                  0.065                                      1.1

                   0.06
                                                              1
                  0.055

                                                             0.9
                   0.05

                  0.045                                      0.8
                          2005    2010           2015              2005         2010   2015




      As above, we can interpret our model as applying at each individual sector and apply equations
(35) and (36) to data on concentration trends and varieties consumed sector-by-sector. Rather than


                                                        27
                                                                  ~ for the aggregate economy, as
generating a single time series for  and a single time series for N
plotted in Figure 9, this allows us to generate time series for these parameters for each sector. Figure
10a plots the distribution of implied growth (in percent terms) from 2004-2016 of  for each sector, and
                                                    ~.
Figure 10b plots the same for the implied growth of N

                              Figure 10: Implied Drivers of the Sector-Level Rise of Niche Consumption

                     (a): Sectoral Distribution of Growth in                                                                    ~
                                                                                        (b): Sectoral Distribution of Growth in N

                   900                                                                900

                   800                                                                800

                   700                                                                700

                   600                                                                600
  Percent Growth




                                                                     Percent Growth
                   500                                                                500

                   400                                                                400

                   300                                                                300

                   200                                                                200

                   100                                                                100

                     0                                                                  0

                   -100                                                               -100
                          0   20     40     60     80    100                                 0   20    40     60     80     100




                                                                                                    ~ is essential
             It turns out that our aggregate results represent well the sectoral results. Growth in N
for explaining the rise in niche consumption even at the sector level, while  typically has not changed.
Whereas  declined by 2 percent during 2004-2014 for the aggregate economy, the 25th to 75th per-
centile of sector-level growth in  over that period ranges from a decline of 7 percent to a rise of 2
                                ~ grew by 70 percent, whereas the 25th to 75th percentiles for growth
percent. Our inferred aggregate N
in the sectoral values ranges from 35 percent to 138 percent.
                          ~ can arise from increases in the importance of idiosyncratic taste shocks  or in
             Increases in N
the number of available varieties N . Changes in  are straightforward to interpret, since  is simply
an exogenous parameter governing preference heterogeneity. Our empirical results, however, show
that the rise of niche consumption occurs pervasively across all of our narrowly-defined demographic
groups. The within-group trends are far more important than across-group trends in generating our
aggregate results. While this does not rule out increases in  as a driving force, it seems unlikely that
fundamental preferences within narrow groups have become dramatically more heterogeneous over a
                                                                                   ~ as increases in N
twelve-year period. Based on this logic, we hold  fixed and interpret increases in N
in most of our model results.32
             How do these implied growth rates for the number of available varieties in each sector compare to
  32 N                                                                                             ~ is driven in part by growth
       impacts the extent of selection effects while  does not, so if one considers that growth in N
in , the welfare gains discussed in the next section will be proportionately smaller.


                                                                28
estimates from the data? As we have emphasized, measuring the total number of varieties purchased
in the data can only be done with substantial noise (see Appendix A.3). However, Figure 11 plots
the growth in sectoral varieties with at least $100 in annual spending in the data against the model-
implied growth in varieties for each sector j , the values shown in Figure 10b. The values are broadly
consistent and clustered around the 45 degree line, which provides some direct confirmation of the
model's inference.
                          Figure 11: Consumed Variety ( j ) Growth: Model vs. Data




                                                     100
                               Percent Growth Data




                                                      50




                                                       0




                                                     -50
                                                       -50       0             50        100
                                                                 Percent Growth Model


    Finally, we note that while increases in N are necessary to fit the empirical patterns we emphasize,
they are not sufficient. The implied increase in N matches the divergence between Household and
Aggregate Herfindahls given the empirical decline in ||, but as shown in equation (11), increases in
N on their own would counterfactually lead to increases in ||. This means that additional forces are
required in order to fully fit the empirical trends.
    Equation (11) shows that if N increases, declines in || must reflect declines in measured real
                                                             1
expenditures E (1 + (1 - ) / ) 1- b , increases in effective costs per number of products consumed
                                                                                         1         1
( F or ), or declines in an "effective curvature" of utility term                       1-     -       . Expenditures, however,
increase in the data, and while changes in either  or  could change the curvature term, they would
have to change in a very particular way so as to match the decline in || without leading to changes
in  . We therefore find it most plausible that the decline in || reflected an increase in F or .33 The
exact change required to hit the data depends on the particular calibration, but as we show in the next
section, this increase in fixed costs has only a modest effect on our welfare conclusions. Rather, our
  33 While some technological advances such as the rise of the internet or better advertising technology might be expected to

lower variety costs, it is also likely that increases in the number of available varieties N make it more costly to sort through
and identify the particular products a household wants to purchase. An increase in F or can be interpreted as a simple
proxy for these latter forces when it is accompanied by the increase in N .


                                                                        29
quantitative results are largely driven by the change in N .


4.8    Implications of Rising Niche Consumption

What are the implications of the rise in niche consumption for welfare and market power? In order
to assess this, we set all parameter values of the model to match key empirical moments in 2004, and
then look at combinations of changes in N , ,  , and the fixed costs of variety that fit the rise in niche
consumption. One difficulty is that while we can identify  = 1 - 2( - 1)/ , we cannot separately
identify  and  and, as shown above, our model implies we cannot simply use existing estimates
of the elasticity of demand as a proxy for . To get around this problem, we assume the aggregate
markup equals 1.15 in 2004, or µAgg . We then use equation (34), together with our implied value for
 , to calculate the implied values  = 4.7 and  = 7.9.34 Below, we consider robustness to this chosen
target for µAgg .
      Having calibrated the key parameter values, we use the model to explore the welfare implications
of several different counterfactuals. We begin by evaluating the implications of an increase in N
equal to what we plotted in Figure 9, holding all other parameters fixed at their initial 2004 values.
We then calculate the resulting change in household welfare, expressed as the percentage change in
expenditures on the initial set of goods that would bring the same change in household utility as that
delivered by the increase in N . Row (i) of Table 1 shows the resulting change in welfare, expressed as
an annual growth rate. We find that a 70 percent increase from N2004 to N2016 generates total welfare
gains of approximately 7.0 percent, or 0.56 percent per year. That is:

                                   E                                          E
                      U2016 =             - F × (| N2016 |) = 1.070 ×               - F × (| N2004 |) ,                    (37)
                                 PN2016                                    PN2004

where we change N and calculate the endogenous change in P and ||, but hold fixed all other
parameters. Next, we perform similar counterfactuals but include changes in                            or F to also match
the change in ||. As shown in rows (ii) and (iii) of Table 1, implied welfare growth remains large
at 0.46-0.47 percent, so that the effect of increasing fixed costs is quantitatively small relative to the
increase in N . Finally, we add changes in either  or in  to match the small implied decline in  ,
plotted in Figure 9. As shown in rows (iv) and (v), these additional changes have almost no effect on
the results.
      Table 1 also decomposes the welfare gains into four sources (that needn't sum exactly due to
non-linearities). First, there are "Gains from Selection", which come from the third term in the ideal
price index in equation (10) and emerge when ||/ N decreases, implying that households consume
products better suited to their particular tastes. These gains are the most important quantitatively. For
  34 This value for the aggregate markup is the preferred value in Edmond et al. (2018) and is close to other papers that employ

a variety of methodologies. Other parameters are not important for our quantitative conclusions, but we set  = 0.36, = 2,
E = 35, b = 1, and F = 0.055. E is set to match average household category expenditures. Given b and , we choose F to
match ||.


                                                              30
example, in row (i), 0.52 of the 0.56 percent total annual welfare gains come from the "Gains from
Selection" term. Second, changes in || show up as standard love-of-variety effects on welfare, even if
selection effects ||/ N are held constant. Whether these "Gains from Variety" are positive, as in row
(i) which does not match the observed decline in the number of varieties consumed by each household
||, or negative, as in the others which do match this decline in ||, gains or losses from variety
are much smaller in magnitude than those from selection. Third, there are relatively minor welfare
implications of changes in fixed costs brought about by changes in ||, F, or . Finally, in specifications
where we change  or  , there is a trivially small impact from changes in the "Average Price", which
captures the changing price of purchasing a bundle of all available varieties. Overall, the conclusions
from Table 1 are simple: the rise of niche consumption is associated with substantial welfare gains,
and these arise almost entirely from greater selection as N increases.
   If data were available at the household level to calculate a spending-weighted variety correction as
in Feenstra (1994), one could properly recover welfare growth, as we show in Appendix Section B.1.8.
However, the data necessary to confidently construct such measures at the individual household-level
is seldom available. For instance, variety churn for the typical household in our data is incredibly
large and variable and so such an exercise would produce a huge range of potential conclusions. Our
approach instead is to use a model that points us to easily observable and relatively stable values from
the data and specifies how to combine those values to assess changes in welfare. The approach has the
additional merit of decomposing welfare gains into the terms emphasized in Table 1 and allowing us
to run counterfactuals.
   If, instead, one simply viewed our data through the lens of a representative household model with
CES preferences, one could calculate a variety correction on aggregate spending following Feenstra
(1994). But, as is shown in Appendix Section B.1.8, the calculated welfare gains in this case would not
coincide with the true household welfare gains. The Feenstra correction is derived in the context of
a CES framework. Our model assumes that households individually have CES preferences, but the
heterogeneity across households means that the aggregate economy in our model does not admit a
representative household representation with CES preferences.
   Heterogeneity in product consumption across households is crucial for capturing the divergent
concentration trends in our data. Representative agent models abstract from this heterogeneity, and
our results show that this can potentially lead to misleading conclusions about the welfare effects
arising from changes in the number of products households consume.
   The welfare effects of increased product selection do depend importantly on  , which as noted
above, we pin down by targeting an aggregate markup of 1.15 together with the initial  value in
Figure 9. Figure 12 shows how implied welfare growth changes under alternative calibrations for the
initial aggregate markup. The vertical dashed red line corresponds to our baseline calibration and the
"Total" numbers in the first column of Table 1. For example, the yellow line intersects the red dashed



                                                   31
                     Table 1: Annualized Welfare Growth (Compensating Expenditures)

                                                                                       Gains from      Gains from
                                                     Total    Average Price                                          Fixed Costs
                                                                                        Variety         Selection
                                                                           1                     1               1
                                                                 1+  - 
                                                     d ln E         
                                                                           -1
                                                                                        ( |  | ) 1-    (||/ N )      - F × (||)

          (i)     N                                 0.56%            0%                  0.08%           0.52%         -0.05%

          (ii)     N,                               0.47%            0%                  -0.13%          0.62%         -0.02%

          (iii)    N,  F                            0.46%            0%                  -0.13%          0.62%         -0.04%

          (iv)     N ,  F,                          0.45%        -0.001%                 -0.14%          0.62%         -0.03%

          (v)      N ,  F,                          0.47%        -0.003%                 -0.13%          0.63%         -0.04%




line at 0.45 and corresponds to the counterfactual in row (iv) which fits the data by changing N , F, and
. The purple line intersects at 0.56 and corresponds to the experiment where we only increase N , as
in row (1) of the table. Figure 12 shows that welfare effects remain large for a wide range of markup
calibration choices.
                  Figure 12: Robustness of Welfare Calculations to Calibration of  and 



                                                    1         N+F
                                                              N+F+
                                                   0.9        N+F+
                                                              N
                                                              N+
                                                   0.8
                                                              N+
                               Annual Growth (%)




                                                   0.7

                                                   0.6

                                                   0.5

                                                   0.4

                                                   0.3

                                                   0.2

                                                     1.1        1.125           1.15           1.175      1.2
                                                               Ratio of Aggregate Sales to Costs


    What are the sectoral implications of the rise in niche consumption? As above, we do this identical
calibration and counterfactual exercise at the sector level and report these results in Table 2.35 Cate-
  35 Wemaintain E = 35 in all categories but this is a normalization without loss of generality since we recalibrate F for each
category to target that category's ||. More substantively, we assume each sector's aggregate markup also equals 1.15. If
we instead impose a common  and only use heterogeneity in c to match sectoral variation in c , we find similar welfare


                                                                                32
gories such as coffee, snacks, and soup all rank in the top 10 for welfare gains from the increase in the
number of products. Not all sectors exhibit such gains, though. For example, the number of imputed
product varieties declines, and leads to welfare losses, in eggs, cottage cheese, and frozen vegetables.

             Table 2: Sectoral Welfare Growth Associated with Rise in Niche Consumption, 2004-2016


                                                        Annual %U with:                                                                 Annual %U with:
                                                 N       N ,   ,  F  N ,  ,  F                                                  N         N ,   ,  F  N ,  ,  F

      (1)     Coffee                             2.37       3.31       2.65           (33)   Frozen Meats and Seafood            0.62       0.56        0.56
      (2)     Disposable Diapers                 1.66       1.13       1.28           (34)   Tea                                 0.61       1.11        0.76
      (3)     Snacks                             1.40       1.47       1.37           (35)   Canned Vegetables                   0.59       0.44        0.34
      (4)     Prepared Deli Foods                1.39       1.44       1.33           (36)   Vitamins                            0.58       0.68        0.59
      (5)     Pet Food                           1.37       0.99       1.02           (37)   Beer                                0.57       0.97        0.72
      (6)     Skin Care Preparations             1.36       1.26       1.21           (38)   Pet Care                            0.52       0.68        0.55
      (7)     Soup                               1.33       1.07       1.04           (39)   Hair Care                           0.51       0.32        0.32
      (8)     Detergents                         1.30       0.89       1.09           (40)   Nuts                                0.49       0.42        0.36
      (9)     Breakfast Food                     1.21       0.96       1.01           (41)   Crackers                            0.42       0.42        0.30
      (10)    Pizza                              1.15       0.78       0.94           (42)   Cosmetics                           0.41       0.92        0.50
      (11)    Carbonated Beverages               1.08        0.9       0.88           (43)   Ice Cream                           0.38       0.25        0.18
      (12)    Oral Hygiene                       1.03       1.01       0.80           (44)   Ready-to-Serve Foods                0.38       0.07        0.12
      (13)    Canned and Bottled Juice Drinks    1.01       0.71       0.74           (45)   Household Cleaners                  0.35       0.37        0.08
      (14)    Light Bulbs and Electric Goods     1.00      -0.62       0.50           (46)   Wine                                0.35       0.43        0.35
      (15)    Household Supplies                 0.94       0.39       0.56           (47)   Packaged Deli Meats                 0.33       0.21        0.22
      (16)    Housewares and Appliances          0.94       0.01       0.57           (48)   Desserts, Gelatins, and Syrup      0.32        0.15        0.09
      (17)    Personal Soap And Bath Additives   0.88       1.40       0.86           (49)   Prepared Foods (dry mixes)         0.31        0.25        0.15
      (18)    Cookies                            0.85       0.82       0.73           (50)   Baking Supplies                     0.31       0.31        0.15
      (19)    Condiments and Gravies             0.84       0.84       0.74           (51)   Stationary and School Supplies     0.29       -0.32       -0.19
      (20)    Butter and Margarine               0.82       0.35       0.60           (52)   Cough and Cold Remedies            0.14        0.21        0.11
      (21)    Cereal                             0.81       0.54       0.57           (53)   Spices, Seasonings, and Extracts   0.09        0.35        0.16
      (22)    Liquor                             0.81       0.73       0.75           (54)   Tobacco                             0.01      -0.17       -0.11
      (23)    Jams and Jellies                   0.78       0.82       0.65           (55)   Packaged Milk                      -0.01       0.27        0.08
      (24)    Medications                        0.77       0.85       0.64           (56)   Records and Tapes                  -0.03      -1.43       -0.49
      (25)    Yogurt                             0.76       0.97       0.72           (57)   Salad Dressings and Mayonnaise     -0.09      -0.22       -0.30
      (26)    Laundry Supplies                   0.74       0.58       0.42           (58)   Frozen Vegetables                  -0.14      -0.02       -0.19
      (27)    Cheese                             0.74       0.95       0.82           (59)   Non-Carbonated Soft Drinks         -0.17      -0.05       -0.15
      (28)    Batteries and Flashlights          0.71       0.08       0.22           (60)   Paper Products                     -0.68      -0.82       -0.71
      (29)    Candy                              0.66       0.63       0.44           (61)   Bread and Baked Goods              -0.75      -0.83       -0.79
      (30)    Prepared Frozen Foods              0.63       0.44       0.46           (62)   Eggs                               -0.91      -0.73       -0.79
      (31)    Milk (non-packaged)                0.63       0.69       0.59           (63)   Cottage Cheese and Sour Cream      -1.22      -1.23       -1.14
      (32)    Wrapping Materials And Bags        0.62      0.30        0.29           (64)   Photographic Supplies              -1.83      -6.48       -3.07




4.9      Implications for Markups and Aggregate Profits

How large are changes in aggregate market power arising from the rise of niche consumption? It turns
out they are very small. Aggregate market power does not vary at all with changes in N , F, or .
These parameters have implications for the distribution of markups across products in the economy,
since they impact j in equation (33), but changing them leaves the aggregate markup exactly constant,
since j drops out of equation (34). More intuitively, this result arises from two opposing forces which
exactly cancel when j changes. On the one hand, the jth good in an economy with a low j is closer
to being the marginal consumed good and will therefore have a lower markup then the jth good in an
economy with a high j . This can be seen in equation (32), which shows that the elasticity of demand
is strictly increasing in the ratio of j to j . All else equal, this selection force raises aggregate markups.
conclusions. To save space, and to minimize the influence of measurement error, we exclude small categories which account
for less than 0.5 percent of all spending.



                                                                                 33
On the other hand, in an economy with greater product choice, the high-markup products account for
a smaller share of aggregate spending. This competitive force from increasing N reduces aggregate
markups. Equation (34) shows that in the aggregate, these opposing forces exactly cancel and the ratio
of total revenues to total costs, or the aggregate markup, remains unchanged. In specifications where
we also change  or  , aggregate markups are no longer exactly fixed but resulting changes are tiny,
rising by 0.02 percentage points if we vary  to hit the change in  and falling by 0.003 percentage
points if we instead vary  to hit the change in  .
    Thus, even though markups are endogenous in our model and there are large diverging concen-
tration trends, the rise of niche consumption in our model is associated with essentially no change in
aggregate market power. Our model therefore shows how the economy can exhibit large changes in ag-
gregate and household concentration without any change in aggregate market power. More generally,
echoing the arguments in Syverson (2018) and Berry et al. (2019), our environment demonstrates that
depending on what forces drive changes in concentration, it is possible for aggregate market power to
concurrently increase or to decrease.
    Finally, Table 3 shows the corresponding changes in market power at the individual sector level
when we again re-estimate our model sector by sector. We compute this by assuming that sector level
changes in  are driven either entirely by changes in  (Column 1) or by changes in  (Column 2).
Overall, the conclusions mirror that from the aggregate analysis. The typical sector has essentially no
change in aggregate markups, however there are a few sectors with non-trivial changes. Concentrating
on the larger changes induced by  variation in Column 1, there are modest declines in markups in
photographic supplies, records and tapes, and lightbulbs. There are small increases in markups for
coffee, soaps, tea, and cosmetics.


5   Conclusions

This paper empirically documents a rise in what we call "niche" consumption. Households are in-
creasingly concentrating their spending. This pattern, however, does not appear to be driven by the
emergence of superstar products. Rather, households are increasingly buying different goods from one
another. The increase in segmentation seen in many other walks of modern life also applies to con-
sumption: our grocery baskets look less and less similar. As a result, aggregate spending has become
less concentrated.
    We develop a new model of product demand in order to explore the drivers and implications of the
rise in niche consumption. In our model, households choose how many products to consume, spend
different amounts on each good, and differ from other households in their choice of which products
to buy. The model delivers simple analytical expressions for household and aggregate concentration
indices, and these closed form solutions allow us to match the model to data and infer the drivers of our
empirical findings. Increases in product availability played a critical role in the divergent concentration

                                                     34
             Table 3: Markup Changes Associated with Rise in Niche Consumption, 2004-2016


                                            Percentage Point µ Agg with:                                              Percentage Point µ Agg with:
                                             N ,  ,  F      N ,  ,  F                                                  N ,  ,  F      N ,  ,  F

   (1)    Photographic Supplies               -4.68           0.47          (33)   Eggs                                  0.05           -0.01
   (2)    Records and Tapes                   -0.89           0.09          (34)   Wine                                  0.05           -0.01
   (3)    Light Bulbs and Electric Goods      -0.79           0.10          (35)   Vitamins                              0.06           -0.01
   (4)    Housewares and Appliances           -0.38           0.05          (36)   Snacks                                0.06           -0.01
   (5)    Butter and Margarine                -0.22           0.03          (37)   Milk (non-packaged)                   0.06           -0.01
   (6)    Detergents                          -0.14           0.02          (38)   Cookies                               0.06           -0.01
   (7)    Household Supplies                  -0.13           0.02          (39)   Canned Vegetables                     0.07           -0.01
   (8)    Batteries and Flashlights           -0.12           0.01          (40)   Condiments and Gravies                0.07           -0.01
   (9)    Pizza                               -0.12           0.01          (41)   Cough and Cold Remedies               0.07           -0.01
   (10)   Disposable Diapers                  -0.11           0.01          (42)   Prepared Deli Foods                   0.07           -0.01
   (11)   Paper Products                      -0.09           0.01          (43)   Salad Dressings and Mayonnaise        0.07           -0.01
   (12)   Stationary and School Supplies      -0.08           0.01          (44)   Prepared Foods (dry mixes)            0.08           -0.01
   (13)   Cottage Cheese and Sour Cream       -0.08           0.01          (45)   Non-Carbonated Soft Drinks            0.08           -0.01
   (14)   Tobacco                             -0.05           0.01          (46)   Cheese                                0.09           -0.01
   (15)   Ready-to-Serve Foods                -0.03           0.00          (47)   Pet Care                              0.09           -0.01
   (16)   Breakfast Food                      -0.03           0.00          (48)   Crackers                              0.10           -0.01
   (17)   Pet Food                            -0.03           0.00          (49)   Candy                                 0.12           -0.02
   (18)   Bread and Baked Goods               -0.03           0.00          (50)   Laundry Supplies                      0.12           -0.01
   (19)   Canned and Bottled Juice Drinks     -0.02           0.00          (51)   Frozen Vegetables                     0.12           -0.02
   (20)   Cereal                              -0.02           0.00          (52)   Baking Supplies                       0.12           -0.02
   (21)   Liquor                              -0.02           0.00          (53)   Spices, Seasonings, and Extracts      0.13           -0.02
   (22)   Prepared Frozen Foods               -0.01           0.00          (54)   Jams and Jellies                      0.13           -0.02
   (23)   Packaged Deli Meats                 -0.01           0.00          (55)   Medications                           0.14           -0.02
   (24)   Hair Care                            0.00           0.00          (56)   Oral Hygiene                          0.15           -0.02
   (25)   Frozen Meats and Seafood             0.00           0.00          (57)   Packaged Milk                         0.16           -0.02
   (26)   Wrapping Materials And Bags          0.01           0.00          (58)   Yogurt                                0.18           -0.02
   (27)   Carbonated Beverages                 0.02           0.00          (59)   Beer                                  0.20           -0.03
   (28)   Soup                                 0.02           0.00          (60)   Household Cleaners                    0.22           -0.03
   (29)   Skin Care Preparations               0.03           0.00          (61)   Cosmetics                             0.25           -0.03
   (30)   Desserts, Gelatins, and Syrup        0.05           -0.01         (62)   Tea                                   0.25           -0.03
   (31)   Ice Cream                            0.05           -0.01         (63)   Personal Soap And Bath Additives      0.37           -0.05
   (32)   Nuts                                 0.05           -0.01         (64)   Coffee                                0.46           -0.06




trends, and led to welfare gains from households being able to consume a subset of products that better
satisfied their tastes. This welfare effect is not found in standard statistics such as the price indices
produced by national statistical agencies. Finally, our model delivers endogenous and heterogeneous
markups. Matching the trends in household and aggregate concentration carries implications for the
distribution of markups, but does not imply changes in aggregate market power.
   Our model highlights the importance of greater product choice but treats the set of available prod-
ucts as an exogenous parameter. We suspect the nature of product introduction and development,
however, reflects recent progress in supply chain integration, big-data marketing research, targeted
advertising, and the growing importance of online sales. Unpacking the product innovation process
and relating it to these important trends is a fruitful avenue for future research on consumption be-
havior and the measurement of consumer welfare.




                                                                           35
References
Aguado, J. M., Feijoo, C. and Martinez, I. (2015). Emerging Perspectives on the Mobile Content Evolution.
 IGI Global.

Alwin, D. and Tufis, P. (2015). The changing dynamics of class and culture in american politics: a test
 of the polarization hypothesis. The Annals of the American Academy of Political and Social Science, 663.

Anderson, E., Rebelo, S. and Wong, A. (2018). Markups Across Space and Time. Working Paper 24434,
 National Bureau of Economic Research.

Anderson, S., de Palma, A. and Thisse, J. (1987). The ces is a discrete choice model? Economics Letters,
 24 (2), 139­140.

Argente, D., Lee, M. and Moreira, S. (2018a). How do firms grow? the life cycle of products matters.

--, -- and -- (2018b). Innovation and product reallocation in the great recession. Journal of Monetary
  Economics, 93, 1­20.

Arkolakis, C., Demidova, S., Klenow, P. J. and Rodriguez-Clare, A. (2008). Endogenous variety and
 the gains from trade. American Economic Review, 98 (2), 444­50.

Atkeson, A. and Burstein, A. (2008). Pricing-to-market, trade costs, and international relative prices.
  American Economic Review, 98 (5), 1998­2031.

Atkin, D., Faber, B. and Gonzalez-Navarro, M. (2018). Retail globalization and household welfare:
  Evidence from mexico. Journal of Political Economy, 126 (1), 1­73.

Autor, D., Dorn, D., Katz, L. F., Patterson, C. and Reenen, J. V. (2017). The Fall of the Labor Share and
 the rise of Superstar Firms. Working Paper 23396, National Bureau of Economic Research.

Autor, D. H., Katz, L. F. and Kearney, M. S. (2006). The polarization of the u.s. labor market. The
 American Economic Review, 96 (2).

Berger, D. and Vavra, J. (2015). Consumption dynamics during recessions. Econometrica, 83 (1).

-- and -- (2019). Shocks vs. responsiveness: What drives time-varying dispersion? Journal of Political
  Economy.

Berry, S. T., Gaynor, M. and Morton, F. S. (2019). Do Increasing Markups Matter? Lessons from Empirical
  Industrial Organization. Working Paper 26007, National Bureau of Economic Research.

Bertrand, M. and Kamenica, E. (2018). Coming apart? Lives of the Rich and the Poor Over Time. Tech.
  rep.

Broda, C. and Weinstein, D. W. (2004). Variety growth and world welfare. American Economic Review,
  94 (2), 139­144.

Brynjolfsson, E., Hu, Y. and Smith, M. D. (2003). Consumer surplus in the digital economy: Es-
  timating the value of increased product variety at online booksellers. Management Science, 49 (11),
  1580­1596.

Burstein, A., Grassi, B., Carvalho, V. et al. (2019). Bottom-up markup fluctuations. In 2019 Meeting
  Papers, 505, Society for Economic Dynamics.

Chaney, T. (2008). Distorted gravity: the intensive and extensive margins of international trade. Amer-
 ican Economic Review, 98 (4), 1707­21.


                                                   36
Davis, D. R., Dingel, J. I., Monras, J. and Morales, E. (2017). How segregated is urban consumption?

De Loecker, J. and Eeckhout, J. (2017). The Rise of Market Power and the Macroeconomic Implications.
 Working Paper 23687, National Bureau of Economic Research.

Dube, J.-P., Hitsch, G. and Rossi, P. (2018). Income and wealth effects on private-label demand: Evi-
 dence from the great recession. Marketing Science.

Edmond, C., Midrigan, V. and Xu, D. Y. (2018). How costly are markups? Tech. rep., National Bureau of
  Economic Research.

Feenstra, R. C. (1994). New product varieties and the measurement of international prices. The Amer-
  ican Economic Review, pp. 157­177.

-- and Weinstein, D. E. (2017). Globalization, markups, and us welfare. Journal of Political Economy,
  125 (4), 1040­1074.

Furman, J. and Orszag, P. (2015). A firm-level perspective on the role of rents in the rise in inequality.
  Presentation at "A Just Society" Centennial Event in Honor of Joseph Stiglitz Columbia University, 16.

Gentzkow, M., Shapiro, J. M. and Taddy, M. (2017). Measuring Polarization in High-Dimensional Data:
 Method and Application to Congressional Speech. Working Paper 22423, National Bureau of Economic
 Research.

Gopinath, G. and Itskhoki, O. (2010). Frequency of price adjustment and pass-through. The Quarterly
 Journal of Economics, 125 (2), 675­727.

Handbury, J. and Weinstein, D. E. (2014). Goods prices and availability in cities. The Review of Economic
 Studies, 82 (1), 258­296.

Hausman, J. A. (1996). Valuation of New Goods under Perfect and Imperfect Competition, University of
 Chicago Press, pp. 207­248.

Hottman, C. J., Redding, S. J. and Weinstein, D. E. (2016). Quantifying the sources of firm hetero-
 geneity. The Quarterly Journal of Economics, 131 (3), 1291­1364.

Jaravel, X. (2019). The unequal gains from product innovations: Evidence from the us retail sector.
  Quarterly Journal of Economics, 134 (2).

Kimball, M. S. (1995). The quantitative analytics of the basic neomonetarist model. Journal of Money,
  Credit and Banking, 27 (4), 1241­1277.

Levin, A. and Yun, T. (2008). Reconsidering the microeconomic foundations of price-setting behavior.
  Unpublished Manuscript, Board of Governors of the Federal Re serve System.

Li, N. (2019). An engel curve for variety. Review of Economics and Statistics, pp. 1­45.

Melitz, M. J. and Ottaviano, G. I. (2008). Market size, trade, and productivity. The review of economic
 studies, 75 (1), 295­316.

Michelacci, C., Paciello, L. and Pozzi, A. (2019). The extensive margin of aggregate consumption
 demand. Mimeo.

Neiman, B. and Vavra, J. (2018). The rise of household spending concentration. Mimeo.

Petrin, A. (2002). Quantifying the benefits of new products: The case of the minivan. Journal of political
  Economy, 110 (4), 705­729.


                                                    37
Pew Research Center (2014). Political Polarization in the American Public. Tech. rep.

Piketty, T., Saez, E. and Zucman, G. (2016). Distributional National Accounts: Methods and Estimates for
  the United States. Working Paper 22945, National Bureau of Economic Research.

Quan, T. W. and Williams, K. R. (2018). Product variety, across-market demand heterogeneity, and
 the value of online retail. The RAND Journal of Economics, 49 (4), 877­913.

Redding, S. J. and Weinstein, D. E. (2016). Measuring aggregate price indexes with demand shocks: Theory
  and evidence for CES Preferences. Tech. rep., National Bureau of Economic Research.

Rossi-Hansberg, E., Sarte, P.-D. and Trachter, N. (2018). Diverging trends in national and local concen-
  tration. Tech. rep., National Bureau of Economic Research.

Stroebel, J. and Vavra, J. (2019). House prices, local demand and retail prices. Journal of Political
  Economy, 127 (3).

Syverson, C. (2018). Remarks at `changing market structure and implications for monetary policy'.
  Remarks, 2018 Jackson Hole Symposium.




                                                   38
