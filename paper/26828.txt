                              NBER WORKING PAPER SERIES




                               MARKET FRAGMENTATION

                                         Daniel Chen
                                         Darrell Duffie

                                      Working Paper 26828
                              http://www.nber.org/papers/w26828


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                   March 2020




We are grateful for research assistance from David Yang and for conversations with Mohammad
Akbarpour, Bob Anderson, Anirudha Balusubramanian, Eric Budish, Ananth Madhavan, Albert
Menkveld, Michael Ostrovsky, Marcos Salgado, Yuliy Sannikov, Yazid Sharaiha, Andy
Skrzypacz, Bob Wilson, Milena Wittwer, and Haoxiang Zhu. The views expressed herein are
those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2020 by Daniel Chen and Darrell Duffie. All rights reserved. Short sections of text, not to
exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.
Market Fragmentation
Daniel Chen and Darrell Duffie
NBER Working Paper No. 26828
March 2020
JEL No. D47,D82,G14

                                         ABSTRACT

We model a simple market setting in which fragmentation of trade of the same asset across
multiple exchanges improves allocative efficiency. Fragmentation reduces the inhibiting effect of
price-impact avoidance on order submission. Although fragmentation reduces market depth on
each exchange, it also isolates cross-exchange price impacts, leading to more aggressive overall
order submission and better rebalancing of unwanted positions across traders. Fragmentation also
has implications for the extent to which prices reveal traders' private information. While a given
exchange price is less informative in more fragmented markets, all exchange prices taken
together are more informative.


Daniel Chen
Graduate School of Business
Stanford University
Stanford, CA 94305-7298
dtchen@stanford.edu

Darrell Duffie
Graduate School of Business
Stanford University
Stanford, CA 94305-7298
and NBER
duffie@stanford.edu
1         Introduction
In modern financial markets, many financial instruments trade simultaneously on multiple
exchanges (Budish, Lee, and Shim, 2019; Gresse et al., 2012; Pagnotta and Philippon, 2018).
Market fragmentation raises concerns over market depth. One might therefore anticipate
that fragmentation worsens allocative efficiency through the strategic avoidance of price
impact, which inhibits beneficial gains from trade (Vayanos, 1999; Du and Zhu, 2017). Less
aggressive trade could in turn impair price informativeness, relative to a centralized market
in which all trade flows are consolidated. Perhaps surprisingly, we offer a simple model
of how fragmentation of trade across multiple exchanges, despite reducing market depth,
actually improves allocative efficiency and price informativeness.
    In the equilibrium of our market setting, the option to split orders across different ex-
changes reduces the inhibiting effect of price-impact avoidance on total order submission.
Though market depth on each exchange decreases with fragmentation, the common practice
of order splitting allows traders to shield orders submitted to a given exchange from the
price impact of orders submitted to other exchanges. This effect is sufficiently strong that
fragmentation increases overall order aggressiveness. This in turn can result in a more effi-
cient redistribution of unwanted positions across traders and cause prices, collectively across
all exchanges, to better reflect traders' private information. Once fragmentation is suffi-
ciently severe, however, any additional fragmentation causes trade to become too aggressive,
from a welfare perspective. However, in our model setting, any degree of fragmentation is
welfare-superior to a centralized market.
    Our simple model abstracts from some important aspects of functioning financial markets.
We do not consider the impact of fragmentation on exchange competition or transaction fees.1
We also abstract from trader inferences related to cross-exchange cross-time order submission
and the associated adverse impact of sniping by fast traders (Budish, Cramton, and Shim,
2015; Malinova and Park, 2019; Pagnotta and Philippon, 2018). Given these and other
limitations of our model, we avoid taking a normative or policy stance on fragmentation.
Our primary marginal contribution is to identify a potentially important new economic
channel for the welfare implications of market fragmentation.
    We now briefly summarize our model and the main results. A single asset is traded in a
single period by N strategic traders participating on E exchanges. Prior to trade, strategic
trader i is endowed with a quantity Xi of the asset that is privately observed by trader
i. Each trader submits a package of limit orders (forming a demand function) to each of
the exchanges, simultaneously. As in common practice (Wittwer, 2020), orders to a given
    1
        As shown by Budish, Lee, and Shim (2019), transaction fees are economically small.



                                                       1
exchange cannot be made contingent on clearing prices at other exchanges. The objective of
each strategic trader, given the conjectured order submission strategies of the other traders,
is to maximize the total expected cash compensation received for executed orders, net of
a holding cost that is quadratic in the trader's final asset position, as in the one-exchange
model of Du and Zhu (2017).
    At each exchange, "liquidity traders" submit non-discretionary market orders. The ag-
gregate quantities of market orders submitted by liquidity traders to the various exchanges
are exogenous random variables, independently and identically distributed across exchanges.
We also consider a version of the model with no liquidity traders, and a version in which
liquidity traders are replaced by a "competitive fringe" of traders that are strategic with
respect to order quantities. In any version of the model, because agents' preferences are
quasilinear in cash and because total cash payments net to zero by market clearing, an un-
ambiguous measure of allocative efficiency is the expected sum of strategic traders' quadratic
holding costs.
    Price impact is increased by market fragmentation because of cross-exchange price in-
ference, by which traders choose order submissions in light of the positive equilibrium cor-
relation between exchange prices. For example, conditional on a clearing price on a given
exchange that is lower than expected, a buyer expects to be assigned higher quantities on
all exchanges. This effect dampens the aggressiveness of order submissions, which reduces
market depth and heightens market impact, relative to a single-exchange setting. Despite
this reduction in market depth, the ability to split orders across exchanges ensures that, in
equilibrium, the total order submission of each strategic trader is more aggressive. This nat-
ural implication of fragmentation is novel to this paper, as far as we know. As the number of
exchanges increases, the equilibrium allocation becomes more efficient until a point at which
trade becomes "too aggressive." We find that the socially optimal number of exchanges de-
pends only on (a) the number of strategic traders and (b) the ratio of the variance of the
endowments of strategic traders to the variance of liquidity trade. We show that when there
are more exchanges, the price on any individual exchange is less informative of the aggregate
endowment of strategic traders, the key "state variable" of our model, yet the exchange
prices taken together are more informative.
    The remainder of the paper is organized as follows. Section 2 provides additional back-
ground on exchange market fragmentation and related research. Section 3 gives the setup of
the most basic version of our model. Section 4 characterizes properties of the equilibrium.
Section 5 presents the implications of fragmentation on price impact, allocative efficiency,
and price informativeness. Section 6 studies a formulation of the model in which traders
observe the aggregate asset endowment before order submission. Section 7 summarizes the


                                              2
results of various model extensions. Section 8 offers some concluding remarks, including
some important effects that are not captured by our model. Appendices contain proofs and
model extensions.


2         Background
We focus in this paper on "visible fragmentation," that is, fragmentation across different
lit exchanges (meaning trade venues at which market-clearing prices are set), rather than
fragmentation between lit exchanges and size-discovery venues, which cross buy and sell
orders at prices that are set on lit exchanges (K¨orber, Linton, and Vogt, 2013; Zhu, 2014;
Degryse, De Jong, and van Kervel, 2015; Duffie and Zhu, 2017; Antill and Duffie, 2019).
    In Europe and the U.S., exchange trading is highly fragmented. Budish, Lee, and Shim
(2019) document that in the U.S., as of early 2019, annual trade of about one trillion shares
is split across 13 U.S. exchanges, and that cross-exchange shares of total exchange-traded
volume are stable over time, with 5 exchanges each handling over 10 percent of total ex-
change volume. Essentially all equities trade on every exchange, with significant volumes of
each equity executed on multiple exchanges.2 Broadly speaking, similar patterns apply to
European financial markets (Gresse et al., 2012; Degryse, De Jong, and van Kervel, 2015;
Foucault and Menkveld, 2008). This high degree of trade fragmentation is in part a con-
sequence of regulations such as Regulation NMS in the US and MiFid II in Europe, which
encourage exchange entry and competition.
    There has been a lonstanding debate (Stoll, 2001) over whether fragmenting trade across
exchanges harms market efficiency, in various respects. Empirical findings have been mixed
(O'Hara and Ye, 2011; Gomber et al., 2017). Some researchers find that fragmentation has
generally been beneficial. For example, O'Hara and Ye (2011), using data from U.S. trade
reporting facilities, find that execution speeds are faster, transaction costs are lower, and
prices are more efficient when the market is more fragmented. Degryse, De Jong, and van
Kervel (2015) analyze a sample of Dutch stocks and measure the degree of visible fragmen-
tation. They find that liquidity, when aggregated over all lit trading venues, improves with
fragmentation. Foucault and Menkveld (2008) analyze Dutch stocks and arrive at a simi-
lar conclusion. Boehmer and Boehmer (2003) find evidence of improved liquidity when the
NYSE began trading ETFs that are also listed on the American Stock Exchange. Gresse
(2017), De Fontnouvelle, Fishe, and Harris (2003), Aitken, Chen, and Foley (2017), Hen-
gelbrock and Theissen (2009), F´  elez-Vi~
                                         nas (2017), and Spankowski, Wagener, and Burghof
(2012) generally find that visible fragmentation reduces bid-ask spreads.
    2
        Pagnotta and Philippon (2018) and Budish, Lee, and Shim (2019) display the striking facts graphically.


                                                        3
    Other research, however, suggests less beneficial effects of fragmentation. For exam-
ple, Bennett and Wei (2006) find that when equity trading migratesd from Nasdaq to the
NYSE, where trade is more consolidated, there was a decrease in execution costs and an
improvement in price efficiency. Chung and Chuwonganant (2012) show that price impact
increased following the introduction of Regulation NMS. (In our model, as we have noted,
fragmentation indeed reduces market depth, yet increases allocative efficiency and overall
price informativeness.) Gentile and Fioravanti (2011) find that MiFID-induced fragmenta-
tion "does not have negative effects on liquidity, but it reduces price information efficiency.
Moreover, in some cases it leads primary stock exchanges to lose their leadership in the
price discovery process." For small-firm equities, Gresse et al. (2012), Gresse (2017), and
Degryse, De Jong, and van Kervel (2015) find that market depth declines with sufficient
fragmentation, consistent with our theoretical results. Bernales et al. (2018) find that the
2009 consolidation of Euronext's two distinct order books for the same equities was followed
by a reduction in bid-offer spreads. Haslag and Ringgenberg (2016) find causal evidence that
although fragmentation reduces bid-offer spreads for the equities of large firms, the opposite
applies to small firms.
    While the empirical evidence regarding the implications of fragmentation are mixed, most
of the theoretical literature has shown that visible fragmentation is harmful. For example,
Mendelson (1987) shows that fragmentation may isolate individuals for whom there are
mutually beneficial trades, because they are located at different venues. Chowdhry and
Nanda (1991) show that adverse selection caused by asymmetric information worsens as
markets fragment. Baldauf and Mollner (2020) find that welfare is harmed by the ability of
fast traders to snipe across fragmented markets.
    Of the few theory papers showing that fragmentation may be beneficial, perhaps the
closest to ours is Malamud and Rostek (2017). As in our model, they consider a multi-
exchange demand submission game in which each exchange operates a double auction. They
show that, in certain settings, when agents' risk preferences are sufficiently heterogeneous,
fragmented markets can produce outcomes that are welfare superior to centralized markets.
Crucially, however, they assume that agents are able to submit demand schedules to each
exchange that are contingent on the realization of prices on all exchanges. The channel by
which fragmentation is beneficial in our model is not related to that of Malamud and Rostek
(2017), and does not rely on heterogeneous risk aversion or cross-exchange contingent order
mechanisms, which are extremely rare in practice (Wittwer, 2020).
    Of the theoretical papers mentioned, the majority assume that traders are restricted to
trade on a strict subset of all trading venues. For example, Pagano (1989) shows that frag-
mented markets are less stable, in that traders tend to concentrate at a single market venue,


                                              4
at which liquidity is greatest. However, regulations promoting exchange competition may
foster fragmentation. If traders are strategic about their price impacts it seems natural to
assume they are aware of the option to trade on multiple exchanges simultaneously. The
costs of order splitting are economically small (Budish, Lee, and Shim, 2019). So-called
Smart Order Routing Technology makes order splitting convenient and practical (Gomber
et al., 2016). In our model, strategic traders frictionlessly trade on all exchanges. Empiri-
cal research (Malinova and Park, 2019; Menkveld, 2008; Chakravarty et al., 2012; Gomber
et al., 2016) finds evidence that some investors strategically split their orders across multiple
exchanges, and also split orders between exchanges and size-discovery venues such as dark
pools.
    Methodologically, our model relates to the literature on multi-auction demand submission
games (Wilson, 1979; Klemperer and Meyer, 1989; Malamud and Rostek, 2017; Wittwer,
2020). Within this literature, our model is closest to that of Wittwer (2020), which studies
a demand-function submission game that is based on two exchanges, and which examines
the welfare implications of connecting the two exchanges through the ability to submit
orders contingent on cross-exchange prices. We consider only the common case in practice
of "disconnected markets." As opposed to Wittwer (2020), we focus on properties of the
equilibrium as the number of exchanges is increased.
    Since the work of Hamilton (1979), the literature has explored the key tension between
the benefit of fragmentation associated with increased competition between exchanges and
between specialists, which drives down bid-offer spreads and trading fees, as suggested by the
theory of Hall and Rust (2003), versus the cost of fragmentation associated with decreased
market depth.3 Although fragmentation does indeed reduce market depth in our model,
consistent with earlier work, we believe that we are the first to point out the benefit of
fragmentation associated with increased order aggressiveness, arising from the ability of
strategic traders to shield orders on a given exchange from price impacts incurred on other
exchanges.


3         Setup
This section presents the setup of the most basic version of our model. All primitive random
variables are defined on a complete probability space, (, F , P). There is a single asset with
a payoff, denoted  , that is a finite-variance random variable.
    We model a market whose agents, called "traders," are of two types: "liquidity" and
"strategic." For notational simplicity, we let N denote both the finite set of strategic traders
    3
        For a recent empirical contribution exploring this tradeoff, see Haslag and Ringgenberg (2016).


                                                        5
and its cardinality, which is assumed to be at least 3. The only primitive information
available to strategic trader i is the trader's own endowment of the asset, Xi , which is a
finite-variance random variable.
     Trade of the asset takes place in a single period on each of a finite number of identical
exchanges. For notational simplicity, we let E denote both the set and number of exchanges.
Each exchange runs a double auction mechanism. Strategic trader i submits a measurable
demand schedule fie : R2  R to exchange e specifying the quantity fie (Xi , p) of the asset
demanded by trader i at any given price p  R on exchange e. We emphasize that the demand
schedule submitted to a given exchange cannot depend on prices or any other information
emanating from the other exchanges. A demand schedule can be viewed as a package of
limit orders, each of which is an offer to purchase or sell a given amount of the asset at a
given price.4 Liquidity traders collectively submit an exogenously given quantity of market
orders to exchange e given by a finite variance random variable Qe .
     Given a collection f = {fie | i  N, e  E } of demand schedules, the price on exchange e,
if it exists, is a solution5 pf
                              e to the market-clearing condition


                                                    fie (Xi , pf
                                                               e ) = Qe .                                          (1)
                                             iN


If there does not exist a unique market clearing price we assume that no trades are executed.
We restrict attention to equilibria consisting of demand schedules with the property that pfe
is uniquely determined.6 Based on (1), trader i is able to determine the impact of his or
her own demand on the market-clearing price given the conjectured demand schedules of the
other traders.
    The preferences of the strategic traders are quasi-linear in cash compensation with a
quadratic holding cost. Specifically, given a collection f = {fie | i  N, e  E } of demand
schedules the associated payoff of trader i is
                                                                                            2

           Ui (f ) =   Xi +         fie (Xi , pf
                                               e)     - b Xi +              fie (Xi , pf
                                                                                       e)       -       pf
                                                                                                         e fie ,
                                e                                      e                            e


for some b > 0. The quadratic term represents a cost for bearing the risk or other costs
   4
     In this sense, f (Xi , p), if positive, is the aggregate quantity of the limit orders to buy at a price of p
or higher, and if negative is the aggregate quantity of the limit orders to sell at price of p or lower. The
space of linear combinations of limit orders is dense, in the sense of Brown and Ross (1991), in the space of
monotone demand functions.
   5
     That is, pfe is a random variable such that for each state   ,
                                                                                      f
                                                                             iN fie (pe ( ), Xi ( )) = Qe ( ).
   6                                               N
     For this, it suffices that, for each x  R , the aggregate demand function p  i fie (p, xi ), which is
monotone, is strictly monotone, continuous, and unbounded below and above.



                                                           6
associated with holding a post-trade position in the asset. Preferences of this form, although
they have not been micro-founded, are popular in the market microstructure literature,
including Vives (2011), Rostek and Weretka (2012), Du and Zhu (2017), and Sannikov and
Skrzypacz (2016).
    An equilibrium is defined as a collection f = {fie | i  N, e  E } of demand schedules
with the property that for each strategic trader i the demand schedules fi = {fie | e  E }
solve
                                                 ^, f-i )],
                                     supf^ E[Ui (f

where as usual f-i denotes the collection {fj | j = i} of other traders' demand schedules.
The model we have specified is a typical demand-function submission game in the sense of
Wilson (1979) and Klemperer and Meyer (1989), extended to allow for multiple exchanges.
Multi-exchange demand function submission games were earlier analyzed by Malamud and
Rostek (2017) and Wittwer (2020).
    We conclude this section with an interpretation of the distinction between strategic and
liquidity traders. A strategic trader may be viewed as an agent who is sophisticated, in-
ternalizes price impact, is able to easily split orders across multiple trading venues, has
a relatively low aversion to owning assets, and has a relatively large initial endowment of
the asset. A liquidity trader, on the other hand, may be viewed as an agent who is not
sophisticated about price impacts, has high aversion to holding assets (thus exercising no
discretion in the liquidation of the assets), and has a small initial asset holding, and who
therefore submits market orders with no price sensitivity. Liquidity traders are a typical
modeling device for settings such as ours in which one wishes to avoid perfect inference of
fundamental information from price observations. In our case, the fundamental information
to be inferred does not concern asset payoffs but rather the aggregate endowment of strate-
gic traders. Traders have payoff relevant private information about their own endowments
but no private information about asset payoffs. We will show that our main results are not
driven by the effect of "donations" from liquidity traders to strategic traders.


4    A Simple Equilibrium
We assume that the {Xi | i  N } are iid and normally distributed with mean µX and variance
 2
X  . We also assume that the {Qe | e  E } are iid normal with mean µQ /E and variance
 2
Q  /E . Finally, we assume that {Xi | i  N }, {Qe | e  E }, and Z are independent. We relax
these distributional assumptions in Section 6 and in extensions considered in the Appendix.
A useful interpretation of the above assumptions on liquidity trade is that there is a large


                                              7
number of liquidity traders, independent of the number of exchanges in operation, who are
spread evenly across exchanges and trade independently of one another.
    Under the above assumptions, following the approach of Du and Zhu (2017), we can prove
the existence and uniqueness of a symmetric affine equilibrium defined by demand schedules
of the form
                               fie (p, Xi ) = E - E Xi - E p,                          (2)

for constants E , E , and E that do not depend on the trader or particular exchange, but
do depend on the number E of exchanges.
    Using (1) it can be shown that the slope of the inverse residual supply curve facing each
agent in each exchange is equal to

                                                  1
                                       E                                                     (3)
                                              (N - 1)E

which we refer to as inverse market depth, or simply as "price impact." Each strategic
trader is aware that by deviating from the equilibrium demand schedule and demanding
an additional unit on a given exchange, the trader will increase the market-clearing price
on that exchange by E . Price impact is a perceived cost to each strategic trader, but is
not a social cost because the payment incurred by any trader is received by another. As
emphasized by Vayanos (1999), Rostek and Weretka (2015), and Du and Zhu (2017), the
strategic avoidance of price impact through the "shading" of demand schedules is socially
costly because it reduces the total gains from the beneficial reallocation of the asset.
    By using the form of the demand schedules in (2) we can compute that the final asset
position of strategic trader i is

                                                      j N   Xj       Q
                             (1 - EE )Xi + EE                    +     .                     (4)
                                                       N             N

Generically in the parameters of the model, the equilibrium allocation is inefficient. Given
the non-discretionary liquidation Qe by liquidity traders, the efficient allocation is one in
which each strategic trader receives an equal share of the aggregate supply of the asset,
which is
                                      1
                                  q
                                  ¯=      Qe +      Xi .
                                      N          i

Inspecting (4), this efficient sharing rule corresponds to the case of EE = 1. By Jensen's
Inequality, this produces the efficient allocation because traders have symmetric convex
holding costs. Since preferences are quasi-linear in cash compensation, this is also the welfare-
maximizing allocation, in that any other allocation would be strictly Pareto dominated by

                                               8
this efficient sharing rule, after allowing voluntary initial side payments.
    The equilibrium allocation defined by (4) becomes less efficient the farther is EE from
1. This is because replacing EE in (4) with a number farther from 1 results in a mean-
preserving spread in the cross-sectional distribution of the asset to strategic traders, state
by state. Jensen's Inequality, applied cross-sectionally in each state   , then implies an
increase in the sum across traders of quadratic holding costs.
    The following theorem collects several properties of symmetric affine equilibria. Of pri-
mary interest is the property that in the presence of non-trivial liquidity trade, the alloca-
tion becomes more efficient as market fragmentation E increases, up to the point at which
EE = 1, and then becomes increasingly less efficient. We will explore this issue in more
depth in section 5. Our proof of the theorem, found in the appendix, applies the calculus
of variations to verify that a particular set of candidate equilibrium demand coefficients
(E , E , E ) does in fact uniquely correspond to an equilibrium.

Theorem 1. For each positive integer number E of exchanges, there exists a unique equi-
librium in symmetric affine demand functions. The associated demand-function coefficients
(E , E , E ) form the unique solution to appendix equations (21), (22), and (23). Moreover:

  1. The market-clearing price on exchange e is

                                   N -1
                            pe =        E N E - Qe - E    Xi .                            (5)
                                    N                  iN


  2. The associated price-impact coefficient is

                                           2b(1 + E (E - 1))
                                     E =                     ,                            (6)
                                                 N -2

     where                                   2 2
                                           EE  X (N - 1)
                                    E =    2 2           2
                                                                                          (7)
                                          EE X (N - 1) + Q
     is the conditional correlation between prices in any two distinct exchanges e and e from
     the perspective of any strategic trader i, given Xi .

  3. The final asset position of strategic trader i is given by (4).
                                               2
  4. If there is no liquidity trading, in that Q = 0, then the equilibrium allocation does not
     depend on the number E of exchanges.




                                              9
                   2
    5. If E = 1 or Q = 0, then the final asset position of strategic trader i is

                                 1            2b     1                 Q
                                        Xi +                    Xj +     ,
                                1 + 2 b      1 + 2 b N    j N
                                                                       N

       where 1 = 2b/(N - 2).
           2
    6. If Q   > 0, then EE is strictly monotone increasing in E and converges to N/(N - 1).
       It follows in this case that a market with only one exchange is strictly dominated, from
       the viewpoint of allocative efficiency, by a market with any larger number of exchanges.

    Part 5 of Theorem 1 implies that with a single exchange, the fraction of the endowment
retained by a trader is increasing in price impact, 1 . In a centralized market, price impact
avoidance is the only source of allocative inefficiency. As we have described and will later
elaborate, the effect of price impact avoidance on allocative efficiency can be mitigated by
increasing the degree of market fragmentation. In the next section, we analyze the forces
behind this and other effects of market fragmentation. But, as stated in part 6 of Theorem
1, any degree of fragmentation is socially preferred to concentrating all trade on a single
exchange.


5      The Effects of Fragmentation
We present several predictions of our model, beginning first with the effects of fragmentation
on price impact.


5.1     Price impact
Part 2 of Theorem 1 provides the equilibrium relationship between price impact and the
correlation between exchange prices. This relationship reflects the effect on trade demand
of cross-exchange inference from prices. The quantity purchased by trader i on exchange e
at a given pe , fie (Xi , pe ), depends in part on the expectation of the quantities that trader i
will execute on the other exchanges, conditional on Xi and pe .
    To illustrate, suppose for example that in state    trader i is a buyer of the asset at
the equilibrium price in exchange e. If the observed price outcome pe ( ) was lowered, trader
i would assign a higher conditional likelihood to lower prices on the other exchanges because
strategic traders' demands are positively correlated on any two exchanges which implies a
positive cross-exchange price correlation, E . But trader i submits demands to the other
exchanges before observing pe . Thus, the lower is pe ( ) the higher is the conditional expected

                                               10
quantity executed by trader i on the other exchanges. If pe ( ) is lowered, the marginal
utility of trader i for purchasing a unit on exchange e would decline. Due to cross-exchange
inference, the quantity trader i optimally purchases on exchange e in response to a decrease
in price pe ( ) is smaller relative to if there was no cross-exchange correlation. Analogous
reasoning can be applied to show that due to cross-exchange inference, the quantity trader
i optimally purchases on exchange e in response to an increase in price pe ( ) decreases
relative to if there was no cross-exchange correlation. Overall, the cross-exchange price
inference channel reduces the steepness (absolute slope) of the demand schedule of trader
on each exchange with respect to price. The result, by (3), is that price impact rises. Since
this channel is not present when there is a single exchange, price impact is always higher in
a fragmented market than in a centralized market.
    We now discuss comparative static results describing the effects of changes in the vari-
        2
ance Q     of liquidity trade demand and the number E of exchanges on price impact. As
  2
Q   increases, prices in different exchanges becomes less correlated, so price impact declines,
                                                                2
eventually converging to that of a single exchange market as Q    tends to infinity. Thus, price
impact is lower in markets with noisier liquidity trader supply because the cross-exchange in-
ference channel is weaker. The following proposition characterizes how price impact changes
as the number of exchanges increases holding fixed all other model parameters.

Proposition 1. The price-impact coefficient E is strictly monotone increasing in the num-
                                    2
ber E of exchanges. If the variance Q of liquidity trade demand is zero, then limE  E =
        2
. If Q    > 0, then
                                        2b             N 2 X
                                                           2
                            lim E =             1+           2
                                                                   ,
                            E          N -2          (N - 1) Q

and E declines strictly monotonically to zero as E  .

    Proposition 1 states that, with greater market fragmentation, price impact is higher and
(in the presence of nontrivial liquidity trade), prices are less correlated. Without liquidity
         2
trade (Q    = 0), price impact diverges as the number of exchanges diverges, because E is
                                              2
equal to one. But with liquidity trade (Q        > 0) price impact converges to a finite value.
Because price impact depends on E (E - 1), this follows from the fact that E declines at
                          1
a rate proportional to E    . The intuition is that as the number of exchanges increases, the
                                                                   1
expected quantity traded on a given exchange decays at rate E        , which in turn causes the
                                                                                             1
variability in prices due to strategic traders' orders to decay at a rate proportional to E   2.
                                                                              2
Since the variability in prices due to exchange-specific liquidity trade is Q /E , this implies
                                    1
that E must decline at the rate E     , so that price impact converges.
    Figure 1 illustrates the relationship between price impact and the number of exchanges,

                                              11
for different cases of the number N of strategic traders. As illustrated, price impact converges
faster when there are more strategic traders. For instance, consider the case of b = 1/2 and
E = 100 exchanges. Without liquidity trade, the price impact is E = 33. However, with
  2
Q   > 0, and just N = 5 strategic traders whose endowments are 10 times more uncertain
                                                                              2   2
(in terms of variance) than aggregate liquidity trader supply (in that X        /Q  = 10), price
                                           2   2
impact drops to approximately 10. As X       /Q   falls below 10, E is reduced and, because of
this, price impact is further reduced.




Figure 1: Variation of price impact E with the number E of exchanges, for various cases of N , the
                                                                                                    2  2
number of strategic traders. In all cases, the variance-aversion coefficient is b = 1/2 and a ratio X /Q of
strategic-trader asset endowment to total liquidity trade quantity of 10.




5.2     Allocative Efficiency
We have just shown that price impact is higher in more fragmented markets. However, by
                                                   2
Theorem 1, when there is no liquidity trade (Q        = 0), even though price impact diverges
as E tends to infinity, total trade aggressiveness is unaffected and the equilibrium alloca-
                                              2
tion remains constant. Moreover, when Q          > 0, even though price impact increases with
fragmentation, total trade aggressiveness actually increases. One might have expected that
the rise in price impact would lead to a reduction in trade aggressiveness and thus lower
allocative efficiency, but this is not the case. We turn now to a resolution of this superficial
paradox.
    As fragmentation rises, price impact increases, but traders can better evade the overall
cost of price impact by shredding their orders across exchanges. This is because traders bear


                                                    12
the cost of price impact on a given exchange only to the extent of the trades executed on
that exchange. By order splitting, a trader can shield an order on a given exchange from
the price impact of units executed on the other exchanges. When there are more exchanges,
the purchase of an additional unit on a given exchange affects a smaller fraction of the
                                                               2
total quantity traded. When there is no liquidity trade (Q       = 0) this effect exactly offsets
the rise in price impact, leaving the overall agressiveness of a trader's demand invariant
                                            2
to the number of exchanges. When Q             > 0 price impact does not rise quickly enough
to offset the effect of increased aggressiveness through order splitting. At low levels of
fragmentation, this increase in trade aggressiveness is beneficial for allocative efficiency. But
when markets become sufficiently fragmented, the incremental aggressiveness is inefficient,
in that EE increases past the point of efficiency, at which EE = 1 (up to NN             -1
                                                                                            ). We
emphasize, however, that trade never becomes so aggressive that fragmentation leads to a
loss of allocative efficiency relative to that of a market with a single exchange.
    By equation (4), the number of exchanges that maximizes allocative efficiency is that for
which EE is closest to 1.
                       2
Proposition 2. Suppose Q > 0. Let

                                                           2
                                            2    N - 1 N X
                               E = 2 +         +         2
                                                             .
                                          N - 2 N - 2 Q

If E  is an integer, the unique symmetric affine equilibrium for a market with E  exchanges
achieves an efficient allocation of the asset, by allocating an equal amount q¯ of the asset to
each strategic trader. In general, the number of exchanges that maximizes allocative efficiency
is either E  or E  .

    By Proposition 2, the optimal number of exchanges is finite, is at least 2, and depends
crucially on the ratio of the variance of the endowment of strategic traders to the variance
                                         2   2
of the total amount of liquidity trade, X  /Q  . This ratio determines E , as seen in equation
                                                  2    2
(7), which in turn determines price impact. As X    /Q   rises, price impact is higher and more
fragmentation is needed to offset the adverse effect of price impact with the beneficial effect
of increasing the number of exchanges over which strategic traders can split their orders.
    It is perhaps surprising that the socially optimal number of exchanges is finite. The
intuition associated with order splitting might suggest that inefficiency due to price impact
avoidance should only disappear in the limit as the number of exchanges tends to infinity.
Only as this limit is approached do agents trade a negligible quantity on any one exchange,
so that the marginal unit traded affects the price only negligibly. It turns out, however,
that fragmentation introduces a different inefficiency. At the point in time at which traders

                                               13
submit demands to a given exchange, they are unaware of the quantities they will ultimately
purchase on other exchanges. Moreover, traders are asymmetrically informed about trading
opportunities on the other exchanges because they have different endowments, and equilib-
rium prices depend on the aggregate endowment. This is a force leading agents to trade
more aggressively in fragmented markets that is eventually adverse to efficiency, and that
has no counterpart in a centralized market.
    Figure 2 illustrates the intuition of the results of this section. As shown, EE is strictly
increasing in fragmentation and can exceed the socially efficient level. The socially efficient
                                       2
number of exchanges increases with X    2 .
                                            Q




Figure 2: We plot equilibrium allocative inefficiency as measured by | 1 - EE | against the number of
                                             2   2
exchanges for different values of the ratio X  /Q  of the variance of the endowment of a strategic trader to
the variance of the total amount of liquidity trade. In all cases, the number N of strategic traders is 10.
Allocative inefficiency, |1 - EE |, does not depend on the variance-aversion coefficient b.



5.3     Price Informativeness
Our finding that trade aggressiveness increases with market fragmentation has natural im-
plications for price informativeness. By price informativeness, we mean the degree to which
prices reveal information about the average endowment X = iN Xi /N of strategic traders.
This notion is especially relevant when viewing our model as though a snapshot of a dynamic
market in which liquidity trade is serially uncorrelated and the aggregate strategic endow-
ment is a persistent markov process. In such a setting, the aggregate endowment of strategic
traders is a sufficient statistic for inference regarding future prices and future aggregate
endowments.

                                                    14
   Because of the joint normality of prices and endowments in our model, the conditional
variance of X given exchange prices is an unambiguous metric for price informativeness. Our
results are summarized in Proposition 3.
                                         2
Proposition 3. Suppose that the variance Q of liquidity trade is not zero. Then:

    1. For any exchange e, var(X¯ | p ) is strictly monotone increasing in the number E of
                                     e
       exchanges and converges to var(X¯ ) as E goes to .

           ¯ | {p : e  E }) is strictly monotone decreasing in E .
    2. var(X     e


   In words, Proposition 3 shows that the informativeness of the price on any individual
exchange worsens with fragmentation but overall price informativeness, taking into consid-
eration information from all exchange prices, improves.


6       The Case of Observable Aggregate Endowment
In this section we present a simplified version of the model in which the aggregate endowment
of strategic traders is publicly observable. In this setting, because the equilibrium price of
a given exchange is a linear combination of the aggregate endowment and of exchange-
specific liquidity trade, traders do not need to make cross-exchange price inferences. That
is, conditional on X , prices in any two exchanges are uncorrelated. With no cross-exchange
price inference, we can demonstrate the welfare benefits of fragmentation in a setting that
does not require liquidity traders or Gaussian Xe and Qe .
    To this end, we retain the model setup of section 3 with the exceptions that, for any
exchange e and any trader i, (a) neither Qe nor Xi is necessarily normally distributed, (b)
Qe has zero mean, and (c) trader i observes7 the private endowment Xi and the average
endowment X . The following theorem characterizes the equilibrium of this model.

Theorem 2. For each number E of exchanges, there exists a symmetric affine equilibrium.
If, in addition, for each e, Qe has full support R, then the equilibrium is unique in the class
of symmetric affine equilibria and has the following properties.

    1. The price-impact coefficient E = 2b/(N - 2) does not depend on the number E of
       exchanges.
    7
    That is, the demand submitted by trader i on exchange e is a measurable function fie : R3  R that,
at any price p, determines the demand fie (Xi , j N Xj , p).




                                                 15
   2. The price on exchange e is

                                                ¯           Qe N - 1
                                       pe = -2b X +                           .
                                                           N -2 N

   3. The final asset position of trader i is

                                        E           2bE    ¯ + Q.
                                              Xi +         X
                                      E + 2bE      E + 2bE     N

   4. The total expected equilibrium payment E               eE     pe Qe of liquidity traders is invariant
      to the number E of exchanges and equal to

                                                  var(Q) N - 1
                                                               .
                                                  N -2 N

   5. Allocative efficiency is increasing in the number E of exchanges. As E diverges, the
      allocation converges to the efficient allocation, q
                                                        ¯ to each strategic trader.

    In this setting, price impact is a constant that does not depend on the level of fragmen-
tation because there is no cross-exchange inference effect. Thus, by Part 3 of the theorem,
more fragmentation is unambiguously beneficial in this setting. In the limit as E tends to
infinity, the fully efficient allocation obtains. The benefits of fragmentation arise entirely
from the beneficial effects of increased order aggressiveness associated with order splitting.
The above equilibrium exists even when there is no liquidity trade, though the presence
of liquidity trade is needed for equilibrium uniqueness. Even in the presence of liquidity
traders, the expected payment of liquidity traders to strategic traders is invariant to market
fragmentation. Thus the beneficial effect of fragmentation is not related to the exploitation
of liquidity traders by strategic traders.8 In the model of section 3, the liquidity traders were
only a convenient modeling device for breaking the perfect correlation in exchange prices.
Budish, Cramton, and Shim (2015) note that, at a sufficiently high sampling frequency, the
prices of similar assets on different exchanges are virtually uncorrelated, empirically.
   8
    In the setting of section 5, our results are not driven by donations from liquidity traders, but liquidity
traders do pay more in expectation as fragmentation increases. In the model of section 3, the total expected
payment to strategic traders is
                                                          N -1
                                        E       pe Qe  =         E Q2
                                                                      .                                    (8)
                                                            N
                                           eE

which is strictly increasing in E since E is strictly increasing.




                                                      16
7     Discussion of Model Extensions
In this section we summarize the results of three extensions of the main model that are
provided in the appendices.


7.1    Endogenous Liquidity Trade, Exchange by Exchange
In our first model extension, found in Appendix D, liquidity traders, who are local to each
exchange and conduct no cross-exchange trade, choose the sizes of their trades. Liquidity
traders are assumed to have the same preferences as strategic traders, but may have a
different quadratic holding cost parameter, c, and may also be endowed with some quantity
of the asset prior to trade. Thus, the baseline model is equivalent to the case in which
c = , in that liquidity traders liquidate their entire endowed positions as though without
discretion. Relaxing this baseline extreme assumption to the case of finite c, we find that,
provided c is sufficiently high, fragmentation always improves allocative efficiency, relative
to a centralized market, in that the expected sum of all agents' holding costs is lower with
E > 1 than with E = 1.


7.2    Private information about asset payoff
In a second extension, found in Appendix E, agents have differing private information about
the asset's final payoff. In this case, allocative efficiency is not necessarily improved by
fragmenting a centralized market. This is so because fragmentation leads agents to trade
more aggressively for two reasons: not only to mitigate holding costs, but also to exploit
payoff-relevant private information. While the former motive leads fragmentation to improve
allocative efficiency, as we demonstrated in section 5, the latter effect can cause fragmentation
to reduce allocative efficiency. This is because the efficient allocation of the asset does not
depend's on agents' payoff-relevant private information. Whether fragmentation is beneficial
or harmful is shown to depend on the relative magnitudes of these two effects.


7.3    Correlated trade motives
In a third extension, found in Appendix F, we relax the assumption that the underlying
random variables (X1 , . . . , XN , Q1 . . . , QE ) are jointly independent. We retain the assump-
tion that these random variables are jointly Gaussian, but allow for an essentially arbitrary
covariance matrix, subject to the condition that the traders' endowments X1 , . . . , XN are
symmetrically distributed and that the liquidity-trade quantities Q1 , . . . , QE are symmetri-
cally distributed.

                                               17
     If a strategic trader's endowment Xi does not covary more negatively with aggregate
liquidity trader supply        e Qe than it covaries positively with the aggregate endowment

   j Xj , there is an interior optimal level of fragmentation which, up to the integer constraint
on E , achieves the efficient allocation.9
     In this setting, however, an arbitrary level of market fragmentation need not, however,
coincide with an unambiguous improvement in allocative efficiency over a centralized market.
Whether this is so depends on the covariances of endowments. Under certain parameters,
agents may trade even more aggressively than they do in the baseline model, which we
have shown has the property that trade already becomes "too aggressive" for sufficiently
large E . Moreover, if a strategic trader's endowment covaries more negatively with the
aggregate liquidity trader supply than it covaries positively with the aggregate endowment,
fragmentation is harmful. This is because the inefficiency associated with the inferior trading
technology associated with disconnected fragmented markets dominates the beneficial effect
of lowering the effect of strategic avoidance of price impact. This follows from the fact that,
ex ante, with this correlation structure, traders expect that residual supply on each exchange
is on average relatively favorable for offsetting their positions. This, however, leads to less
aggressive trade than is socially efficient since agents are less willing to trade large quantities
at unfavorable prices on any given exchange because they expect that prices on the other
exchanges will be more favorable.


8         Concluding Discussion
We have presented a simple market setting in which fragmentation of trade across multi-
ple exchanges improves allocative efficiency and price informativeness. Our main marginal
contributions are (a) a newly identified channel by which cross-exchange price inference ex-
acerbates price impact, and (b) a demonstration of the beneficial effects of cross-exchange
order-splitting on allocative efficiency and price informativeness. We find that although frag-
mentation reduces market depth on any given exchange, this is not a sign of worsening overall
liquidity or market efficiency. We characterize the welfare-optimal number of exchanges in
closed form.
    Our stylized model abstracts from many important practical considerations. We do not
consider some of the direct frictional costs of trade and order splitting, including the effects of
trading fees and subsidies, minimum tick sizes, and bid-offer spreads, which are endogenous
to market structure, particularly through the role of competition among exchange operators,
    9
        Positive definiteness of the covariance matrix ensures that, for each i, Xi is positively correlated with
    j N   Xj .


                                                         18
specialists, and market makers (Baldauf and Mollner, 2019; Chao, Yao, and Ye, 2018; Colliard
and Foucault, 2012; Malinova and Park, 2019; Foucault and Menkveld, 2008; Chlistalla and
Lutat, 2011; Clapham et al., 2019; Hengelbrock and Theissen, 2009; Parlour and Seppi,
2003).
    We also do not consider the endogenous entry of exchanges, a common theme in the
literature, as reviewed by Pagnotta and Philippon (2018). We have also not captured the
effect of high-frequency traders that can take advantage of slight discrepancies in order
execution times across different exchanges (Budish, Lee, and Shim, 2019; Gresse et al., 2012;
Pagnotta and Philippon, 2018). We also ignore the role of trade-through rules such as
Regulation NMS, which effectively forces all U.S. lit exchanges to recognize the best bid
or offer available across all order books in the market. While Reg NMS has the effect of
consolidating markets for small trades, trade-through rules do not play a significant role in
price-impact costs, which are only pertinent for large trades. The inefficiencies associated
with price-impact cost avoidance through order splitting are the main concern in this paper.
    Because we have abstracted from these and other potentially important realistic effects,10
we make no normative claims or policy recommendations. The mechanisms that we identify
do, however, appear to have a natural basis and to be worthy of serious consideration in
policy discussions.
    Our model also has implications for the welfare impact of innovation of trading technolo-
gies. For example, the beneficial welfare effects of order splitting that we have described rely
crucially on the realistic assumption that orders submitted to one exchange cannot condition
on prices at other exchanges. If, instead, trading technology were to improve so that orders
could condition on cross-exchange prices, then trades on a given exchange would have impact
on prices at other exchanges, which could eliminate the beneficial effect of order-splitting in
fragmented markets, an issue considered by Wittwer (2020).




  10
     Babus and Parlatore (2017) focus on the role of divergent beliefs and the incentives of investors to trade
on a venue mainly with dealers or on different venue facing other investors.


                                                      19
A     Verification Theorem
In this section we prove a theorem which will be repeatedly used to verify that a candi-
date symmetric affine equilibrium is indeed an equilibrium. Before stating the theorem, we
first clarify our notation. We denote a candidate symmetric affine equilibrium by a triple
corresponding to the coefficients of strategic agents' demand schedules, (, , ), and the
information set of agent i by Fi . For example, in the baseline model, Fi is the  -algebra gen-
erated by Xi while in the model of section 6, it is the  -algebra jointly generated by Xi and
                                                                                c
   j N Xj . Given a candidate equilibrium, for each i  N and e  E , we let qie :  × R  R
                                                           
denote the corresponding measurable demand schedule, qie      the random variable correspond-
ing to the quantity purchased, and pc    e the random variable corresponding to the market
clearing price.

Theorem 3. Let (, , ) be a candidate symmetric affine equilibrium with y > 0 such that
,  , and  are each iN Fi -measurable random variables. For each e  E and i  N define

                            i
                           re :=                  -Xj + (N - 1) - Qe .
                                   {j N | j =i}


                             i
If for each i  N and e  E , re has finite variance and

                            c                                 
             µ - E[2b(Xi + qie (·, pc
                                    e) +                     qie           i
                                                                 ) | Fi , re ] = pc    c       c
                                                                                  e + qie (·, pe )
                                              {e E | e =e}


holds almost surely, then (, , ) is a symmetric affine equilibrium.

Proof. For each i  N , let Mi be the set of all maps, f , from  × R into R such that for
each p  R, f (·, p) is a Fi -measurable map from  into R. Let M       ~ i be the subset of Mi
                               i
of all maps f such that f (·, re (·)) is a finite variance random variable. Given a candidate
symmetric affine equilibrium, (, y, m) we have shown in the main body of the text that the
market clearing price in e is
                                                 ri + qie
                                          pe = e                                           (9)
                                                 (N - 1)
if agent i purchases qie units and all other agents submit the candidate equilibrium demand
schedules. It is clear that any demand schedule submitted by agent i to exchange e which
conditions on the market clearing price can be implemented by a demand schedule which
                         i
instead conditions on re   . It is therefore convenient to reformulate agent i's optimization
problem as maximizing



                                                     20
                                                                               i           i
                              i                            i 2                re + qie (, re )         i
            E[        qie (, re ) - b(Xi +         qie (, re )) -                              qie (, re )]   (10)
                 eE                           eE                        eE
                                                                                  (N - 1)

over (qi1 , ..., qiE )  ME . Above,   . We have for convenience suppressed the dependence
            i
of each re    on  . We will first derive a necessary and sufficient condition of the form given
in the statement of the theorem for a profile of demand schedules to be optimal in M    ~ E and
then argue that restricting attention to M  ~ E is without loss of generality.
    Take arbitrary (h1 , ..., hE )  M~ E and consider


                     i            i                                  i            i 2
  E         (qie (, re ) + he (, re )) - b(Xi +              qie (, re ) + he (, re ))
       eE                                             eE
                                          i             i            i
                                         re   + qie (, re ) + he (, re )          i            i
                            -E                                           (qie (, re ) + he (, re )) , (11)
                                   eE
                                                      (N - 1)

which is a function of  , an argument taking values in R. Differentiating (11) with respect
to  and evaluating at  = 0 gives:


                   i                             i                      i
  E         he (, re ) - 2b(Xi +         qie (, re ))            he (, re )
       eE                           eE                  eE
                                                                         i    i           i
                                                                 qie (, re ) re + qie (, re )         i
                                               -E            (              +                 )he (, re ) = 0.
                                                      eE
                                                                  (N - 1)        (N - 1)

This is a necessary condition for optimality. It holds if

                                                                           i    i           i
                                         i            i            qie (, re ) re + qie (, re )
          E -2b(Xi +             qie (, re )) | Fi , re =                     +                 - µ .         (12)
                           e E
                                                                    (N - 1)        (N - 1)

for each e  E .

   We now show that (12) is a sufficient condition for optimality within M~ E . Differentiating
(11) with respect to  twice we derive

                                                            2
                       E -2b(         hie (, re ))2 -                          hie (, re )2 ,                 (13)
                                 eE
                                                          (N - 1)         eE


which is less than or equal to 0 for all (h1 , ..., hE )  M ~ E . Note that this expression does
not depend on  . Moreover, it is strictly less than 0 if one of h1 , ..., hN is not equal to 0 on
a set of positive P-measure. Suppose (qi1 , ..., qiE ) satisfies (12). Suppose for contradiction

                                                        21
that there exists (h                     ~E
                          1 , ..., hE )  M which achieves a strictly higher value of (10) than does
(qi1 , ..., qiE ). Set (h1 , ..., hE )  (h                           ~E
                                          1 - qi1 , ..., hE - qiE )  M . Then the function (11) achieves
a higher value at  = 1 than at  = 0. However, by earlier analysis, (11) is a strictly concave
function of  and has global maximum at  = 0. This is a contradiction.
     We now argue that it is without loss of generality to restrict attention to M       ~ E . Consider,
for arbitrary e  E ,

                         i         i             i 2
             i          re qie (, re ) + qie (, re )
  E -qie (, re )+                                    =
                                (N - 1)
                                                                          i             i 2
                                                       i       re qie (, re ) + qie (, re )
                                              -qie (, re )+                                 P{d }
                            1
               { : | re | > 2          i)|}
                              | qie (,re                                (N - 1)
                                                                                i             i 2
                                                              i      re qie (, re ) + qie (, re )
                 +                                   -qie (, re )+                                P{d }. (14)
                                   1
                       { : | re |  2          i)|}
                                     | qie (,re                               (N - 1)

                      i
Suppose that qie (·, re (·)) is not a finite variance random variable. The first integral is by
                              i
construction finite since re    is a finite variance random variable. The second integral by
construction must exceed

                                                       i            1             i 2
                                              -qie (, re )+               qie (, re ) P{d }.
                { : | re |  1
                            2
                                       i)|}
                              | qie (,re                        2 (N - 1)

                                                              i
However, this second integral must be infinite since qie (·, re ) is not a finite variance random
variable (this can be seen by using the fact that  is assumed to be of finite variance and
partitioning the integral to separately consider the cases when | qie | > 3y (N - 1) |  | and
| qie |  3y (N - 1) |  | ). Thus, (14) is  which, by inspecting (10), implies that the objective
is -. It is therefore without loss of generality to only consider optimality within M       ~ E.
     Finally, putting together (12) with (9) we see that the condition in the statement of the
                                                                                   c
theorem is a sufficient condition for each agent to optimize by submitting {qie      }eE if each of
the other agents act analogously.


B      Proofs for Section 4
We give proofs for all results in section 4. First we formally define what it means for an
allocation to be "more efficient" and then prove Proposition 4 which will be used in the proof
of Theorem 1.

Definition 1. We say that an allocation, is more efficient than another allocation if the
sum of strategic agents' holding costs is weakly lower at that allocation than at the other


                                                          22
allocation for each    and strictly lower almost surely. We say that two allocations are
equally efficient if the sum of strategic agents' holding costs are equal at both allocations for
each   .

Proposition 4. Fix E and E in N and let (E , E , E ) and (E , E , E ) be symmetric
affine equilibria corresponding to E and E respectively. If

                                   | 1 - EE | > | 1 - E E |

then the allocation corresponding to (E , E , E ) is more efficient than the allocation corre-
sponding to (E , E , E ). The allocations corresponding to (E , E , E ) and (E , E , E )
are equally efficient if and only if

                                   | 1 - EE | = | 1 - E E | .

Proof. The sum of strategic agents' holding costs at the equilibrium allocation corresponding
to (E , E , E ) is
                                                                           2
                                                  1              Q
                        b        (1 - EE )Xi + EE           Xj +               .
                            iN
                                                  N     j N
                                                                 N

Expanding, rearranging, and combining like terms we obtain
                                                                                           
                                                                  2
                                                                           2
       b      (1 - EE )2 Xi2 - [(1 - EE )2 - 1] 1            Xj       +
                                                                          Q
                                                                            +2
                                                                               Q
                                                                                         Xj  .
           iN
                                               N       j N
                                                                          N    N   j N


The result is an implication of the above expression and Jensen's inequality.

Proof of Theorem 1. The proof proceeds in three steps. In step one, we derive equations
(21), (22), and (23) and show that a necessary and sufficient condition for a symmetric
affine equilibrium is that E , E and E solve these three equations. In step two we prove
that there is a unique solution to establish existencess and uniqueness of a symmetric affine
equilibrium. This completes a proof of the preamble of the theorem. In the final third step,
we prove parts 1 through 6.

    Step 1. Conjecture that there exists a symmetric affine equilibrium (E , E , E ). Under
this conjecture, each agent i  N submits

                                    eq
                                   qie = -E Xi - E pe + E                                        (15)



                                               23
to each e  E and i  N , where E , E , and E are constants. Market clearing in exchange
e implies that the equilibrium market clearing price is

                                          -E (            Xi ) + E N - Qe
                                 pe =
                                                      i
                                                                          .                        (16)
                                                           E N

Price impact can also be determined from the market clearing condition. If agent i purchases
qie units at the market clearing price when all other agents submit the conjectured equilibrium
demand schedules, then
                                         

                 -E                    Xj  - E (N - 1)pe + E (N - 1) + qie = Qe
                        {j N | j =i}


which implies that

                                -E (        j =i   Xi ) + qie + E (N - 1) - Qe
                        pe =                                                   .                   (17)
                                                       E (N - 1)

                                                                 1
That is, the price impact agent i faces in exchange e is  := E (N  -1)
                                                                       , which by symmetry, is
the price impact each agent faces in all exchanges. In determining his or her optimal demand
schedule for exchange e, agent i equates his or her expected marginal utility conditional on
pe - E (q ie
        N -1)
              and Xi , with his marginal cost. The optimality condition is

                                                               qie
         - 2b Xi + qie + (E - 1)E qik | pe -                          , Xi    = pe + E qie - µ .   (18)
                                                            E (N - 1)
                                                                    
Here above, k is an arbitrary exchange in E , distinct from e and qik is the quantity agent
i purchases in exchange k if all agents submit their equilibrium demand schedules to k . In
(18), we have used symmetry of the exchanges. Our next step is to compute

                                                             qie
                                       E qik       pe -             , Xi
                                                          E (N - 1)

using the projection theorem. We obtain

                    qie                 N -1      N -1
  E qik | pe -             , Xi = -E Xi      - 1-       (-E µX + E )
                 E (N - 1)               N         N
                                                     N -1         qie
                                                   -      E pe +      + E , (19)
                                                       N          N




                                                          24
where                                                      2         2
                                                        EE   (N - 1)X
                        E = corrXi (p     
                                     e , pk ) =         2          2   2
                                                                         .                 (20)
                                                       EE (N - 1)X   + Q
We substitute the expression for E and (15) into (18) and match coefficients to derive a
system of three equations which characterize the three unknowns, E , E , and E . We do
not explicitly list the algebraic steps here. We obtain

                                                 1        N -2
                                 E =                                                       (21)
                                         2b((E - 1)E + 1) N - 1

                                                           1
                         E =            (E -1)       (E -1) +1              -1
                                                                                  ,        (22)
                                 1+      N
                                                 +      N -2
                                                                 + (E - 1) NN
and
                                       (E - 1)(1 -        N -1
                                                           N
                                                                )E µX - µ  
                                                                          2b
                     E = -             (E -1)       ( (E -1)+1)             N -1
                                                                                    .      (23)
                                 1+     N
                                                +      N -2
                                                                + ( E - 1)(  N
                                                                                  )
    It is clear that any symmetric affine equilibrium must solve equations (21), (22), and (23)
since (18) must be satisfied for all but possibly a measure zero set of prices for optimality.
We now argue that this is sufficient. Suppose there exists a solution (E , E , E ) to the
system of equations (21), (22), and (23). From (18), we see that this solution satisfies the
conditions of Theorem 3 so it is indeed a symmetric affine equilibrium.

    Step 2. We now prove existence of a symmetric affine equilibrium. It is straightforward
to substitute (20) into (22) and derive a cubic equation that characterizes E . Since the
equation is cubic, there exists at least one real root. Take this to be the value of E and
compute E and E using equations (20), (21), and (23). Thus a symmetric affine equilibrium
exists.
    We now prove there is a unique symmetric affine equilibrium. Fix E  N and define the
function g as follows

                                                            1
                  g (a) := a -       1        1                  1       1            -1
                                 E ( N   +   N -2
                                                  )   + (1 -  )( N +    N -2
                                                                             )   + E NN

where  is a function of a such that  (a) is equal to (20) but with a in place of E . Since
we have already shown existence there is an a  R such that g (a) = 0. We observe that the
second term in the above expression is strictly monotone decreasing in  . By (20) we see
that  is strictly monotone increasing in a. Thus g (a) is strictly monotone increasing in a.
Hence there can exist at most one value of a  R such that g (a) = 0.




                                                      25
    Step 3. Part 1 follows immediately from (16) and the fact that E = (N -11)E . Part 2
follows immediately from (21). Part 3 follows by substituting (16) into (15). Part 4 can be
                                   2
seen from the fact that when Q       = 0, E is equal to 1 so that inspecting equations (21),
(22), and (23) we have closed form solutions for E , E , and E . Using these closed form
                                                      -1
solutions we find that EE , by (22), is equal to N  N -2
                                                         which is independent of E and also
            2b
equal to 2b+   1
                 . To prove part 5, we combine part 3 with part 4.
    Finally, we prove part 6. We first prove that EE  NN     -1
                                                                . By Proposition 1,   0--
note that the proof of Proposition 1 does not rely on Part 6 of Theorem 1 so the logic is not
circular. Using (22) with some rearrangement we write

                                                         1
                    EE =         1        1                  1 1       1           N -1
                                                                                          .
                             E ( N   +   N -2
                                              )   + (1 - E ) E (N +   N -2
                                                                           )   +    N


Taking limits we see that EE  NN        -1
                                           . We now prove that EE is strictly monotone
increasing in E . Suppose for contradiction that there exists E  N such that (E + 1)E +1 <
EE . Then by inspection it must be that E +1 > E . But, inspecting (20), this implies that
           2        2
(E + 1)E     +1 > EE which in turn implies that (E + 1)E +1 > EE a contradiction.
    We now prove that the equilibrium allocation in a fragmented market (E > 1) is more
efficient than the equilibrium allocation in a centralized market (E = 1). When E is equal
                         -2
to 1, EE is equal to N N -1
                             by Part 5. When E  , EE converges strictly monotonically
     N
to N -1 . Thus for any E > 1 we have

                                1
                                   = | 1 - 1 | > | 1 - EE | .
                              N -1

The result follows from Proposition 4.


Proof of Proposition 1. That E is strictly monotone increasing and diverges to  when
 2                                                                                      2bE
Q   = 0 is immediate from Theorem 1, where we showed that, in this case, E = N            -2
                                                                                             . For
                                                 2
the remainder of this proof assume that Q          > 0.
    We now prove that E is strictly monotone increasing. By Theorem 1 we have E =
2b(1+E (E -1))
     N -2
               . It therefore suffices to show that (E - 1)E is strictly monotone increasing. Fix
an arbitrary E  N. If E +1 > E , then it must be that EE +1 > (E - 1)E . Suppose E +1 <
E . Then to prove that EE +1 > (E - 1)E it suffices to prove that (E + 1)E +1 > EE .
Consider the equation for n derived in the proof of Theorem 1 which holds for arbitrary
n  N:
                                               2          2
                                            nn   (N - 1)X
                                            2 (N - 1) 2 +  2
                                                              .
                                         nn             X   Q



                                                     26
Denote the numerator, numn so that

                                                      numn
                                        n =                2
                                                             .
                                                    numn + Q

By Theorem 1, (E + 1)E +1 > EE which implies that

                               (E + 1)numE +1       EnumE
                                              2
                                                >         2
                                                            ,
                             (E + 1)numE +1 +     EnumE + 

which in turn implies that

                                    (E + 1)numE +1    EnumE
                   (E + 1)E +1 =                2
                                                   >        2
                                                              = EE .
                                     numE +1 +       numE + 

Thus we have shown that (E - 1)E is strictly monotone increasing so that E is strictly
monotone increasing.
   We now prove that E converges and give an explicit expression for the limit point. We
can, using the expression for E , write E as

                   2         2
 2b             EE   (N - 1)X        2b                            E 2 E
                                                                       2
                                                                         (N - 1)X 2
                                                                                    - EE 2        2
                                                                                           (N - 1)X
     (1+(E -1)  2          2   2
                                 )=                           1+             2         2     2
                                                                                                      .
N -2           EE (N - 1)X + Q      N -2                                  EE   (N - 1)X  + Q

By Theorem 1, we have an explicit expression for the limit point of EE which implies also
        2
that EE    0. Thus, we can directly take limits of the right-hand side of the above equation
                            N 2 X
                                2
to obtain E  N2-  b
                    2
                      (1 + (N -1)Q2 ).

    We next prove that E  0. By inspecting (22), we see that

                                            1                          1
                                   -1
                                                             < E <      -1
                              E ( NN    +   1
                                            N
                                                +    1
                                                    N -2
                                                         )           E NN

for all E sufficiently large. Inspecting the equation (20), we see that for large E , the numer-
                   1
ator of E is O( E    ) since by Theorem 1 we know that EE converges. The denominator is
                      2
roughly equal to Q       for large E so it must be that E  0.
    Finally, we prove that E is strictly monotone decreasing. By inspecting (20) it suffices
                    2
to prove that EE       is strictly monotone decreasing. Suppose for the moment that (E - 1)E
is constant. If we treat E as potentially taking non-integer values in R using (22) we can
compute
                                         2
                                    d(EE   )   2        dE
                                             = E - 2E      E<0
                                      dE                dE
                                                 

                                                      27
                                                    N -1
                                         1 - 2E          E < 0.
                                                     N
                                                               -2
In the last inequality, we have used the fact that -EE = - N N -1
                                                                  when E = 1 and is monotone
decreasing by Theorem 1. The computation above is assuming (E - 1)E is constant. We
showed earlier that it is in fact increasing. But that it increases only serves to ensure that
                                                        2
E decreases at a higher rate so it must be that EE         is strictly monotone decreasing as
aglklain seen by inspecting (22). Thus E is strictly monotone decreasing.

Proof of proposition 2. Substituting (20) into (22) and rearranging we obtain the following
cubic equation which defines EE .

                          1                                  E 1   1
        2
(EE )3 (X (N - 1)(1+         )) - (EE )2 (N - 1)X
                                                2      2
                                                  + EE Q (E - + +          2
                                                                      ) - EQ = 0.
                        N -2                                 N N N -2

The efficient allocation is acheived at E  such that E  E  = 1 provided E  is in N. Thus

                          1                          E   1     1
       2
      (X (N - 1)(1 +                     2
                             )) - (N - 1)X   2
                                           + Q (E  -   +   +      ) - E  Q
                                                                         2
                                                                           = 0.
                        N -2                         N   N   N -2

Solving for E  yields
                                                                2
                                                 2    N - 1 N X
                                  E = 2 +           +         2
                                                                  .
                                               N - 2 N - 2 Q
That the E  N whose symmetric affine equilibrium allocation is most efficient is either
 E  or E  follows from the proof of Part 6 of Theorem 1 which shows that EE is strictly
monotone increasing. By inspection, the proof did not rely upon E taking values in N--
the same method of proof can be adapted to show that if we increase E continuously, the
corresponding E which simultaneously solves (20) and (22) is such that EE is strictly
monotone increasing. Combining this observation with Proposition 4 gives the result.


Proof of Proposition 3. We first prove Part 1. Recall that

                                       N -1
                             pe =           E [    Xi + N E - Qe ].
                                        N       iN


We therefore have
                                                                       2
                                         N -1                         Q
                         V ar[pe] = (         E )2 [E
                                                    2
                                                      V ar[    Xi ] +    ]
                                          N                 iN
                                                                      E

and
                                                    N -1
                          cov (        Xi , pe) =
                                                           2
                                                         E E V ar[    Xi ].
                                  iN
                                                     N             iN



                                                      28
By the rules of conditional Gaussians
                                                                     2
                                           E                         E V ar[   iN     Xi
                       V ar[        Xi | pe ]         = (1 -                               2
                                                                                           Q
                                                                                               )V ar[        Xi ]
                                                                2
                               iN                               E V ar[    iN Xi ] +       E            iN


   By an argument eactly analogous to the argument that E is strictly monotone decreasing
                                                  2 E V ar [ iN Xi ]
to zero used in Proposition 1, we can show that                    2
                                                                     converges to 0 strictly
                                                                                                   Q
                                                                           2
                                                                           E V ar [   iN   Xi ]+   E
monotonically as E diverges. This proves part 1.
    We now prove part 2. Since the price in each exchange consists of a common signal
component and independent noise, the sum of the prices is a sufficient statistic for inference
                              E                    E         E
so that V ar[ iN Xi | eE p   e ] = V ar [ iN Xi | p1 , ..., pE ]. We have


                                           E       N -1
                                     pe =               E [-EE    Xi - Q + EN E ]
                               eE
                                                    N          iN


so that
                                               E            N -1 2
                          V ar[            p      2
                                            e ] = E (           ) [(EE )2 V ar[            2
                                                                                   X i ] + Q ].
                                   eE
                                                             N                  iN

Next we have,
                                                            E        N -1
                               cov (           Xi ,        pe ) =         E EE V ar[    Xi ].
                                       iN             eE
                                                                      N              iN

By the rules of conditional Gaussians,

                                       E                                (EE )2 V ar[ iN Xi ]
          V ar[        Xi |         pe ] = V ar [            Xi ] -                          2
                                                                                               V ar[    Xi ]
                  iN          eE                        iN
                                                                      (EE )2 V ar[ iN Xi ] + Q       iN


                                       (E )2 V ar[
                                               i                X]
The result follows since (EE )E
                              2 V ar [
                                        iN
                                                 2 increases strictly monotonically because EE
                                       iN Xi ]+Q
increases strictly monotonically as seen from part 6 of Theorem 1.
                                                                                               N -1    2             2
Proposition 5. The expected payment of liquidity traders is                                     N
                                                                                                     E Q      and if Q > 0 is
strictly monotone increasing.

Proof.

                                    N -1                                       N -1    2
     -E[          pe Q e ] = -           E E[(-    (E    Xi + N E + Qe )Qe ] =       E Q .
            eE
                                     N          eE    iN
                                                                                N

That the expected payment is strictly monotone increasing follows from the fact that E is
strictly monotone increasing as proven in Proposition 1.



                                                                      29
C     Proofs for Section 5
Proof of Theorem 2. The proof proceeds in three steps. In the first step we derive a candi-
date equilibrium. In the second step we verify that the candidate equilibrium is in fact an
equilibrium, and then establish that it is the unique symmetric affine equilibrium if for each
e  E , Qe has full support over the real line. In the third step we show that the derived
equilibrium has properties 1 through 5 given in the statement of the theorem.

    Step 1. To begin the first step, we conjecture that there exists a symmetric affine equilib-
rium, denoted (, , ). We consider agent i's optimal choice of demand schedule to submit
to exchange e  E assuming he submits the conjectured equilibrium demand schedule to all
other exchanges and all other agents submit the conjectured equilibrium demand schedule
to all exchanges. Under this conjecture, the market clearing condition in exchange e is

                                            (-Xj - pe +  + qie ) = Qe
                                    j =iN


which implies that
                                    (   j =iN    -Xj ) + (N - 1) + qie - Qe
                             pe =
                                                     (N - 1)
if agent i purchases qie units on exchange e. The market clearing price in exchange k  E
where k = e is, by analogous steps,

                                             (   j N   -Xj ) + N  - Qk
                                    pk =                               .                                             (24)
                                                         N

If agent i purchases qie units on exchange e he can infer the realization of Qe . Agent i
therefore seeks to maximize

                                                          
 E[qie +                   qij - b(Xi +                  qij + qie )2 - pe qie | Qe , Fi ] - E[              p   
                                                                                                              j qij | Fi ]
            {j N | j =i}                  {j N | j =i}                                        {j N | j =i}

                                                         
by choosing qie for each realization of Qe . Above qij      is the equilibrium quantity agent i
purchases on exchange j . The expectation on the right hand side does not condition on Qe
                                 
because it is is independent of qij and pj for each {j  N | j = i}. The first order condition
is
                                                 
                      - 2b(Xi + qie + (E - 1)E[qik | Fi ]) = pe + qie  - µ                 (25)




                                                           30
               1
where       (N -1)y
                      and we have used symmetry. Rearranging, we have

                                                      
                                  -2bXi - 2b(E - 1)E[qik | Fi ] - pe + µ
                          qie =                                          .
                                                 + 2b

Substituting the equilibrium price pk into the equilibrium demand schedule, we have


                                   
                                                 (       j N   Xj ) + Qk
                                  qik = -Xi +
                                                               N

so that
                               
                                                     (     j N     Xj )         µQ
                            E[qik | Fi ] = -Xi +                           +       .
                                                               N                EN
We therefore have
                                                                 (   j N   Xj )       µQ
                 (-2b + 2b(E - 1))Xi - 2b(E - 1)[                     N
                                                                                  +   EN
                                                                                         ]   - pe + µ
           qie =                           1                                                            .
                                        (N -1)
                                               + 2b

                                                    eq
We now match coefficients with our conjecture that qie = -Xi - ype + m to determine that

                                                N -2 1
                                           =             ,                                                  (26)
                                                N - 1 2b

                                                   2b
                                             =         ,                                                    (27)
                                                  N -2
                                                  2b
                                           =           ,                                                    (28)
                                                 + 2bE
and
                                          2b                    Xi       µQ
                             -2b(E - 1)[ +2 bE
                                               iN
                                                N
                                                                     +   EN
                                                                            ]   + µ
                           =                                                           .                    (29)
                                           2b + 

    Step 2. To complete step two we appeal to Theorem 3. By construction the condition
in the theorem is satisfied (see (25)). To see that the symmetric affine equilibrium is unique
when each Qe has full support over the real line suppose that there exists a symmetric affine
equilibrium such that at least one of the equations (26), (28), and (29) are not satisfied. Then
equation (25) is violated for some realization of the price in some exchange k  E for some
agent j  N . Continuity implies that the condition (25) must be violated for realizations
of pe in an open neighborhood of positive Lebesgue measure, denoted B . Note that it is a
necessary condition that (25) holds almost surely. Since each Qe has full support over the
real line and is independent of Fi , agent i can not be maximizing his expected utility by


                                                 31
submitting the affine demand schedule, -Xi - pe +  to exchange e.

   Step 3. Part 1. was shown in equation (27). Part 2. follows from substituting equations
(26), (28), and (29) into (24). Part 3 follows from substituting the equation for price in
part 2. in to the equilibrium demand schedule and adding Xi . Part 4 follows from direct
computation:

                             N - 1 2b                             2b(N - 1)
    -E[        pe Qe ] = -            E[ (  -Xi + N  - Qe )Qe ] =           V ar[Q].
          eE
                              N N - 2 eE iN                       N (N - 2)

Part 5 follows from part 3 and taking the limit as E tends to infinity.


D      Extension: Endogenous Liquidity Trade
This appendix offers an extension in which liquidity traders, who are local to each exchange
and conduct no cross-exchange trade, choose the sizes of their trades.


D.1       Setup
In this section we extend the baseline model by allowing liquidity traders to endogenously
choose the quantity of market orders that they supply. There are M liquidity traders who
are each restricted to trade on a single exchange. We assume that M is divisible by E and
that a fraction 1/E of them trade on any given exchange. Liquidity trader j has endowment

                                                         1 2
                                            Hj  N (0,      )
                                                         M H

where the {Hj } are mutually independent. Suppose further that each liquidity trader j has
preferences of the same form that we have assumed for the strategic traders. If liquidity
trader j is restricted to trade on exchange e, his or her ex-ante expected utility of purchasing
hj units via a market order is

                                  E[hj - c(Hj + hj )2 - hj pe | Hj , hj ].


Above c  R+ is the holding cost parameter of the liquidity traders. It is useful to think
of c being high relative to b, the holding cost parameter of strategic agents. Finally, for
simplicity, for this section only, we assume that µX = 0 and µ = 0.




                                                    32
D.2     Analysis
Theorem 4. There exists a symmetric affine equilibrium. In any symmetric affine equilib-
rium the following are true.

  1. The quantity of market orders submitted by agent j is

                                                        -cHj
                                            hj =             -1
                                                                .
                                                     c + E NN

  2. For each e, e  E distinct, the correlation between prices in the two exchanges from
     the perspective of a strategic trader is

                                          (E)2 X2
                                                  (N - 1)
                             E =                                                                    (30)
                                   (E) X (N - 1) + ( c+ cN -1 )2 H
                                      2 2                        2
                                                                   E
                                                                    e   N



  3. A strategic trader's price impact satisfies

                                               2b((E - 1)E + 1)
                                       E =                                                          (31)
                                                     N -2

      while the price impact of a liquidity trader is

                                                    N -1
                                                         E .                                        (32)
                                                     N

  4. EE satisfies

                                                           1
                       EE =        1        1                  1 1           1           N -1
                                                                                                .   (33)
                               E ( N   +   N -2
                                                )   + (1 - E ) E (N +       N -2
                                                                                 )   +    N


Proof. We conjecture that there exists a symmetric affine equilibrium in which each strategic
trader i  N submits a demand schedule of the form -E Xi - E p and each liquidity trader
j submits a market order of the form -  ~ E Hj . We study the best response problem of trader
j  M . Via market clearing, we can compute the market clearing price in exchange e in the
equilibrium is
                             iN -E Xi -         {kM | k=j } ~ E hk + hj
                                                N E
if all agents i  and k  M such that k = j behave as conjectured and agent j purchases
hj units on the exchange. Retaining the notation that E = (N -11)E the price impact of




                                                    33
                         -1
liquidity trader j is E NN  . He or she seeks to maximize

                                                                          N -1 2
             E[hj - c(Hj + hj )2 - hj p                            2
                                       e | Hj , hj ] = -c(Hj + hj ) - E       hj
                                                                           N

by choosing hj  R. Taking a first order condition with respect to hj we have

                                                      N -1
                             -2c(Hj + hj ) - 2hj E         = 0,
                                                       N

which implies that
                                                -cHj
                                      hj =           -1
                                                        .
                                             c + E NN
Thus
                                                 c
                                      ~E =          -1
                                                       .
                                             c + E NN
If strategic traders take the variance of aggregate liquidity trade to be
                                                        2
                                  2           c             2
                                  Q   =          -1
                                                            H ,
                                          c + e NN

we see that the analysis of the baseline model applies. That is, strategic traders maximize
by submitting affine demand schedules such that equations (30), (31) and (33) are satisfied.
Then the analysis of the baseline model therefore ensures that provided there exists E
and E which satisfies (30), (31), and (33), there exists a symmetric affine equilibrium with
the four properties given in the statement of the theorem. To show existence it suffices
to recognize that substituting expressions (31) and (33) into (30) and re-arranging yields a
cubic equation in E . Since the equation is cubic there always exists at least one real root.
Thus there always exists a solution to the system of equations.

   The above theorem has characterized a symmetric affine equilibrium of the model with
endogenous liquidity traders. The following proposition states some results relevant for
assessing the allocative efficiency of the symmetric affine eqiulibrium.
Proposition 6. The following are true of any symmetric affine equilibrium.
             -2
  1. EE  [ N    , N ] is always higher in fragmented markets than in centralized markets.
           N -1 N -1

  2. Fixing arbitrary E , in the limit as c tends to infinity, the expected sum of liquidity
     traders' holding costs tends to zero.

  3. Fixing arbitrary E > 1, for all c sufficiently large, the symmetric affine equilibrium
     allocation is more efficient than that of the symmetric affine equilibrium when there

                                               34
     is a single exchange in the sense that the expected sum of all agents' holding costs is
     lower.

Proof. Centralized markets correspond to the case when E is one and E is one. To prove
                                                  N -2
Part 1, it is clear by inspecting (33) that EE  [ N    , N ]. Next recognize that in frag-
                                                    -1 N -1
mented markets E > 1 and E < 1 so that again by inspection, EE is always higher in
fragmented markets.
    To prove the Part 2 recognize that, using part 1 of Theorem 4, the expected sum of
liquidity agents' holding costs is
                                                             2
                                            -1
                                         E NN                    2
                                   c          -1
                                                                 H ,
                                       c + E NN

which decays to 0 as c diverges.
                                                                               -2
    To prove Part 3, fix E > 1 and inspect equation (30). Since EE  [ N           , N ] there
                                                                             N -1 N -1
exists a, b  R such that 1 > b > a > 0 and E  [a, b] for all c sufficiently large. This
implies that | 1 - EE | is bounded above by a constant strictly less than N1  -1
                                                                                   whenever c
is sufficiently large. In the limit as c   the aggregate quantity of liquidity trader supply
absorbed by strategic traders when there is a single exchange as well as when there are E
exchanges becomes arbitrarily close to j M Hj . Therefore, by Proposition 4, in the limit
as c  , the expected sum of holding costs is strictly lower when there are E exchanges
than when there is a single exchange since | 1 - E | < | 1 - 1 | = N1 -1
                                                                         . However, the sum
of liquidity traders' holding costs converges to 0 as c  . This implies the claim asserted
in Part 3 of the theorem.

   We now prove the following proposition which implies that EE must be strictly mono-
tone increasing in E at least until a certain cutoff point. As c increases the range that we
can prove that EE is strictly monotone increasing in is larger.

Proposition 7. Fix E   N. If c is sufficiently large such that
                                                     2
                                        c                     E
                                       2bE    N -1
                                                         >         ,
                                  c+   N -2    N
                                                             E + 1

then EE is strictly monotone increasing for all E < E  .

Proof. We begin by proving that
                                                             2
                                           c
                                              -1
                                                                 E
                                       c + E NN

                                                35
                                                                                          2bE 
is strictly monotone increasing in E for all E < E  . Since E is bounded above by         N -2
                                                                                                 we
have that
                                               2
                                      c                E
                                          -1
                                                 E >        E
                                 c + E NN            E + 1

for each E < E  . Thus we have
                                2                            2
                       c                            c                  E
                          -1
                                    (E + 1) -          -1
                                                                 E>         (E + 1) - E
                c + E +1 NN                     c + E NN              E + 1

for each E < E  . But the right hand side is equal to

                     E             E                    E              E
                          - 1 E +       >                    - 1 E  +       = 0.
                    E + 1         E + 1                E + 1          E + 1

Now we prove that EE is strictly monotone increasing at each E < E  . Inspect the equation
(33). Suppose EE is decreasing in E then it must be that E is increasing. Consider now
(30). Since ( c+ c N -1 )2 E is strictly monotone increasing and EE is decreasing it must be
                E N
that E is decreasing, a contradiction.


E       Extension: Private Information about Asset Payoff
This appendix addresses an extension of the model in which strategic traders are asymmet-
rically informed about the asset payoff.


E.1     Setup
We alter the baseline model so that each agent has private information about the asset's final
                        2
payoff,   N (µ ,          ). We assume that the aggregate endowment of strategic traders, Z 
                                                                                              2
                                                                                              Q
   i X i , is public information.  As before, liquidity traders supply a quantity Q e  N (0 , E
                                                                                                )
to each exchange, independent across exchanges. Strategic traders receive private signals of
:
                                             Si =  + i

where   i    N (0,  2 ) is i.i.d across individuals.


E.2     Analysis
Theorem 5. In any symmetric affine equilibrium



                                                  36
  1. Each strategic trader i submits a demand schedule to each exchange e of the form

                                       qie = -Xi - ype + wSi + m.

     where , y , w, and m are defined by the system of equations (35)--(42).

  2. Price impact is
                                                  1 + 1] + N 
                                       (2b[(E - 1)~          ~3
                                                             w
                                                                )
                                   E =
                                                 N -2
     where ~1 and ~3 are defined by equations (35) and (37).

  3. The final inventory of strategic trader i is

                                                1                          1                  eE   Qe
         Xi +        qie = (1 - E)Xi + E                  Xj + Ew Si -               Sj   +             .
                eE
                                                N   j N
                                                                           N   j N
                                                                                               N


Proof. Conjecture a symmetric affine equilibrium in which agent i submits demand schedule

                                  qie = -Xi - ype + wSi + m

to exchange e  E for each i  N and e  E where , y , w, and m are each iN  (Xi , j N Xj , Si )-
measurable random variables. If agent i purchases qie units at the market clearing price while
all other individuals submit the conjectured demand schedule, then the market clearing price
is
                              1
                     pe =                (-Xj + wSj + m) - Qe + qie .
                          (N - 1)y j =i

The equilibrium price is

                                   1
                           pe =               (-Xj + wSj + m) - Qe .
                                  Ny    j N


Let us study an agent i's optimal choice of demand schedule to submit to exchange 1. He
or she must equate marginal utility with marginal cost for every realization of the price:

                                           1                                           1
  - 2b(Xi + qi1 + (E - 1)E[qi2 | p1 -            qi1 , Xi , Si ]) = p1 - E[ | p1 -          qi1 , Xi , Si ]
                                        (N - 1)y                                   (N - 1)y
                                                                                        1
                                                                                 +           qi1 . (34)
                                                                                    (N - 1)y

The above condition is a necessary condition since it is easy to see that the second order

                                                    37
condition is satisfied provided y > 0 (which is a condition a symmetric affine equilibrium
must satisfy by definition). We now compute the two conditional moments E[qi2 | p1 -
   1                                  1
       q , Si , Xi ] and E[ | p1 - (N -
(N -1)y i1
                                           q , Si , Xi ] by using the projection theorem. We begin
                                        1)y i1
with the former. We can, using the projection theorem, express
                                               
                                    qi1
  E                  Si | p1 -            , Si 
                                 (N - 1)y
       {j N | j =}

                                                        qi1     wµ    Z - Xi   m
                     = µ (N - 1) + 1 (p1 -                    -    +          - ) + 2 (Si - µ ).
                                                     (N - 1)y    y   (N - 1)y  y

                                                                                        1
Here, 1 and 2 are derived as follows. The variables, j =i Sj ,Si , p1 - (N -              1)y
                                                                                               are jointly
Gaussian with variance matrix
                                                                                               
                                                            w
             (N - 1)2     2
                            +  2 (N - 1) (N - 1)  2
                                                             y
                                                               (   
                                                                   2
                                                                     ( N  -  1)  +  2
                                                                                      )
                                                                         w 2
                                 2         2    2
                                                                                               
       =             ( N   - 1)              +                           y 
                                                                                               .
                                                                                               
                                                                           2          Q 2
                w    2              2       w 2     1      2     2        
                y
                  (    ( N  - 1) +    )      
                                            y       y2
                                                       [ w   (     +    (N -1)
                                                                               ) + E (N -1)2
                                                                                              ]

   Define
                                       2                              w 2
                                         + 2                          y 
                                                                        
                                         w 2         1                  2              Q 2
                                          
                                         y           y2
                                                        [w2 (2
                                                                 +   (N -1)
                                                                            )   +   E (N -1)2
                                                                                              ],
with
                                                                       2
                        -1       2        1 2 2         2             Q          w2 4 -1
                             = [(  + 2)      [ w (  +         ) +            ] -    ]
                                          y2          (N - 1)     E (N - 1)2     y2 
                                                           ×
                                                               Q 2
                                     1              2
                                     y2
                                        [w2 (2
                                                 + N -1
                                                        ) + E (N -1)2
                                                                      ]         -w
                                                                                 y 
                                                                                   2
                                                   1
                                                                                             .
                                                         2                      2
                                                  -y w                            + 2
Define
                                               2             w  2
                                    12  (N - 1)              y
                                                               (  (N       - 1) +  2 )

   By the rules of conditional normals

                                                                        -1
                                                  2 1 = 12  .

   This yields,
                                                               2 2
                                                                 Q
                                                            E (N -1)
                              2 =                                             Q 2                  .
                                     2 +  2 )[w 2 ( 2 +       2
                                    (                       (N -1)
                                                                   )   +   E (N -1)2
                                                                                     ]   - w 2 4




                                                           38
                  1
   Note that         
                 N -1 2
                           [0, 1]. Next, we have

                                          2 2
                                         w  (N - 1) + w 2 (2
                                                             + 2)
                          1 = y                                              Q 2
                                   2 +  2 )[w 2 ( 2 +      2
                                  (                      (N -1)
                                                                )    +    E (N -1)2
                                                                                    ]   - w 2 4


                w
Note that           
            y (N -1) 1
                          [0, 1]. We have

               1                                    Z wSi
  E[qi2 | p1 -       qi1 , Si ] = -Xi + wSi + m +       -     -m
            (N - 1)y                                 N     N
          w                           1           wµ       Z - Xi   m
         - [µ (N - 1) + 1 (p1 -             qi1 -      +           - ) + 2 (Si - µ )].
          N                        (N - 1)y        y      (N - 1)y  y

                                          1
Next, we move on to compute, E[ | p1 - (N -    q , Si , Xi ]. We can, using the rules of condi-
                                            1)y i1
tional normals, express

               qi1                           qi1     wµ    Z - Xi   m
E[ | p1 -            , Si ] = µ + 3 (p1 -          -    +          - ) + 4 (Si - µ ).
            (N - 1)y                      (N - 1)y    y   (N - 1)y  y
                                      qi1
   The variables,  ,Si , p1 -       (N -1)y
                                              are jointly Gaussian with variance matrix
                                                                                               
                                2         2                           w 2
                                                                      y 
                                                                        
                                                                      w 2
                           2           2
                                                                                             
                         =               + 2                          y 
                                                                                             .
                                                                                             
                                                                                     Q 2
                                w 2      w 2       1                   2
                                 
                                y 
                                          
                                         y         y2
                                                      [w2 (2
                                                                 +   (N -1)
                                                                            )   + E (N -1)2 ]

Define
                                    2                             w 2
                                      + 2                         y 
                                                                    
                                      w 2        1                 2               Q 2
                                       
                                      y          y2
                                                    [w2 (2
                                                             +   (N -1)
                                                                        )   +   E (N -1)2
                                                                                          ]
Denote
                                                   2            w 2
                                               12                
                                                                y 

Then
                                                                     -1
                                               4 3 = 12  .

   We obtain,
                                                                    Q 2
                                    2 1                2                          2
                                     y2
                                        [w2 (2
                                               +     (N -1)
                                                            )   +E (N -1)2
                                                                            ]- w y2 
                                                                                    4
                         4 =                                             Q 2              ,
                                2 +  2 ) 1 [w 2 ( 2 +      2                        w2 4
                               (        y2               (N -1)
                                                                ) +   E (N -1)2 ] - y 2  

and                                                     w 2 2
                                                          
                                                        y 
                         3 =                                                 Q 2                   .
                                2 +  2 ) 1 [w 2 ( 2 +      2                                w2 4
                               (        y2               (N -1)
                                                                )    +    E (N -1)2
                                                                                    ]   -     
                                                                                            y2 



                                                       39
                w
Note that 3 y(N  -1)
                      [0, 1] and 4  [0, 1]. It is useful, for the analysis to follow, to redefine
the inference coefficients so that they all lie in the interval [0, 1]. Specifically, define ~1 =
    w             1             w
        ,
y (N -1) 1
           ~2 = N -1 2 , ~3  y(N -1) 3 , and ~4 = 4 . Then

                                                              w2  2 (2 + 2 )
                                           w 2 2 2
                                                 +                N -1
                   ~1 =                                                       Q 2                      (35)
                                                      2
                          w2 [(2   +    2 )(2   +    N -1
                                                          )   -   4]
                                                                       +   E (N -1)2
                                                                                     (2   +   2)

                                                          2 2
                                                             Q
                                                       E (N -1)2
                   ~2 =                                                       Q 2                  .   (36)
                                                     2
                          w2 [(2 +  2 )( 2 +
                                                    N -1
                                                         )    - 4] +
                                                                           E (N -1)2
                                                                                     (2   + 2)
                                                                  2
                                                         2 
                                                     w 2  N -1
                   ~3 =                                                       Q 2                  .   (37)
                                                     2
                          w2 [(2   +    2 )(2   +   N -1
                                                         )    -   4]
                                                                       +   E (N -1)2
                                                                                     (2   +   2)
                                                                      Q2
                               2                  2
                                 [w2 (2
                                        +       (N -1)
                                                       )      +   (E (N -1)2
                                                                             ] - w 2 4
                   ~4 =                                                      Q 2                   .   (38)
                                                     2
                          w2 [(2 +  2 )( 2 +
                                                    N -1
                                                         )    -    4] +
                                                                         E (N -1)2
                                                                                   ( 2    + 2)

We can now use the equation (34) together with the conditional moments we just computed,
to match coefficients and pin down , y , w, and m. The coefficient of qi1 gathered on to the
LHS is
                                    1                 1       ~3
                          -2b -           - 2b(E - 1)   ~1 - .
                                 (N - 1)y             N       w
The coefficient of p1 gathered on to the RHS is

                                            1                 (N - 1)~3
                          1 - 2b(E - 1)       ~1 (N - 1)y - y
                                                                        .
                                            N                    w

The coefficient of Si gathered on to the RHS is

                                                    N -1
                               2b(E - 1)w(               )(1 - ~2 ) - 4 .
                                                     N

The coefficient of Xi gathered on to the RHS is

                                                                      ~1    ~3
                               2b + 2b(E - 1)[- +                        ] + .
                                                                      N     w

The constant coefficient gathered on to the RHS is

               Z  w             ~1 Z m~1 (N - 1)
  2b(E - 1)[     - (µ (N - 1) +     -            -~2 (N - 1)µ - ~1 (N - 1)µ )]
               N  N               w       w



                                                       40
                                         ~3 Z       (N - 1)m
                     -µ + ~3 µ (N - 1) -       + ~3           +  ~4 µ
                                           w            w
We now match coefficients to compute y as a function of ~1 and ~3 :

                                   N -2              1
                              y=                                    .
                                                    1 + 1] + N 
                                   N - 1 (2b[(E - 1)~          ~3
                                                               w
                                                                  )

Price impact is therefore

                                1                  1 + 1] + N 
                                        (2b[(E - 1)~          ~3
                                                              w
                                                                 )
                                      =                            .                                      (39)
                             (N - 1)y             N -2

Notice that compared with the model without private information about asset payoffs, there
is now a Nw~3
              term which is a result of using the price in an exchange to do inference on the
asset's payoff,  . We now match coefficients to derive a cubic equation which characterizes
w:

                 N -1
  - 2b(E - 1)w        (1 - ~2 ) + 4 =
                  N
                                                                         N
                                    (2b[(E - 1)~
                                               1 + 1] +                    ~)
                                                                         w 3                  1     ~3
                            w[2b +                                              + 2b(E - 1)     ~1 + ] (40)
                                              N -2                                            N     w

   We now match coefficients to compute  as a function of the inference coefficients:

                                                        2b
              =                              ~3                                                   .       (41)
                         (2b[(E -1)~
                                   1 +1]+N      )                 1                        ~1
                  2b +            N -2
                                             w
                                                    + 2b(E -   1) N ~1
                                                                         + 2b(E - 1)(1 -   N
                                                                                              )

   We now match coefficients to compute m as a function of the inference coefficients:

           2b(E - 1)[ Z
                      N
                        -     w
                              N
                                (µ (N - 1) +     ~1 Z
                                                   w
                                                      -   ~2 (N - 1)µ -     ~1 (N - 1)µ )]
  m = -[                               -1)~
                  2b +      1
                         (N -1)y
                                 + 2b(EN  1
                                              +   ~3
                                                  w
                                                     + 2b(E -1)~
                                                               N
                                                                1 (N -1)
                                                                         + ~3 (N
                                                                               w
                                                                                 -1)


                                               -µ +     ~3 µ (N - 1) -     ~3 Z
                                                                             w
                                                                                  +  ~4 µ
                                 +          1        2b(E -1)~1    ~3            1 (N -1)
                                                                         2b(E -1)~          ~3 (N -1)
                                                                                                      ]   (42)
                                   2b + (N -  1)y
                                                  +      N
                                                                +   w
                                                                      +         N
                                                                                          +     w


Thus equations (41), (39), (40), (42), (35), (36), (37), and (38) are necessary conditions that
any symmetric affine equilibrium must satisfy. An argument analogous to that of Theorem
3 can be used to show that a solution to these equations constitute a symmetric affine
equilibrium provided that y is positive. Part 2 follows from equation (39). This completes
the proof of Parts 1 and 2. We omit the proof of Part 3 since it is a straightforward
computation.


                                                       41
Proposition 8. For any value of E , if there exists a symmetric affine equilibrium w must
be positive.

Proof. Recall that a requirement of a symmetric affine equilibrium is that y is positive. The
cubic equation characterizing w is

                               1                1                 N -1
        ~4 - 
             ~3 = w[2b +             + 2b(E - 1)  ~1 + 2b(E - 1)(      )(1 - ~2 )].
                           y (N - 1)            N                  N

The left hand side is positive as seen by inspecting the equations defining the inference
coefficients. The bracketed term on the right hand side is also always positive if the demand
schedules are downward sloping since the inference coefficients are in the unit interval. Thus
the only way for the cubic equation to be satisfied is if w is positive.

    We now focus on characterizing how Ew and E change as E varies. In this model, the
efficient allocation is the same as that of the baseline model. Thus by Part 3 of Theorem 5,
perfect allocative efficiency is acheived if Ew = 0 and E = 1.

Proposition 9. The following are true.

  1. There exists a unique symmetric affine equilibrium when E = 1.

  2. When there is just a single exchange,
                                                        2
                                                  1   
                                       0 < w1 <      2 + 2
                                                  2b 

     where w1 corresponds to the unique symmetric affine equilibrium.

  3. There exist at least one and at most three symmetric affine equilibria for all E suffi-
     ciently large.

  4. For any sequence {EwE } corresponding to symmetric affine equilibria,

                                                  2          2
                                         1 N           1   
                                EwE                  >
                                         2b N - 1  2   2b 2 + 2


     as E  .

  5. For any sequence {EE } corresponding to symmetric affine equilibria EE  1 which
     is strictly greater than 1 .




                                             42
Proof. Part 1. When there is a single exchange,
                                                               N
                                                ~4 - (1 +
                                                                  )~
                                                             N -2 3
                                                                    
                                         w1 =                 1      .                               (43)
                                                  2b(1 +     N -2
                                                                  )

Rearranging (43), we derive

                                                                      2
           1    3    2    2   2    2        4                1       Q         2
  2b(1 +      )w [( +  )( +            ) -  ] + w2b(1 +          )        2
                                                                            (    + 2)
         N -2                    N -1                      N - 2 E (N - 1)
                                 2            2                                     2
                   2                         Q                        N       2 2 
               =     [w2 (2
                            +         )+            ] - w 2 4
                                                              - (1 +      ) w    
                              (N - 1)    E (N - 1)2                  N -2         N -1

Thus, when E is 1, w satisfies a cubic equation with coefficients:

                                           1                   2
                        [w3 ] : 2b(1 +        )[(2
                                                   +  2 )(2
                                                            +      ) - 4
                                                                         ]
                                         N -2                 N -1
                                                          2
                                            2     N    2 
                                          [w ] :      
                                                 N - 2 N - 1
                                                      2
                                             1       Q
                              [w] : 2b(1 +      )          ( 2 +  2 )
                                           N - 2 E (N - 1)2 
                                                         2 2
                                                          Q
                                      [constant] : -            .
                                                     E (N - 1)2
Since the coefficient of w2 is positive, the coefficient of w3 is positive, and the constant is
negative, there always exists exactly one positive real root. Let p, q , and r denote the roots
of the cubic equation. Then pqr = - constant        coef f icient
                                          coef f icient of w3
                                                                    > 0. Thus if there is one real root
and 2 complex roots, the real root must be positive. If there are are three real roots, at
                                                                  f icient of w2
least one must be positive. Next, p + q + r = - coef         coef f icient of w3
                                                                                 < 0 so if there are three
real roots, two must be negative and one must be positive. There always exists a unique
positive real root. Take this positive real root. For this value of w, by (39), y is positive. A
theorem analogous to Theorem 3 can then be used to verify that there is a symmetric affine
equilibrium corresponding to this value of w. Since it is the unique positive real root, the
equilibrium must be unique since (43) is a necessary condition which must be satisfied in
any symmetric affine equilibrium.

   Part 2. We rearrange (38) to derive

                                                                Q2
                                     2               2
                                       (w2 (2
                                              +     N -1
                                                         )   + N -1
                                                                    ) - w 2 2
                          ~4 =                                      Q 2
                                  2 +  2 )(w 2 ( 2 +      2
                                 (                       N -1
                                                              ) +  N -1
                                                                        ) - w 2 2



                                                    43
                               2                                                  Q2
                                     2                              2
                             2 + 2 [(
                             
                                            +  2 )(w2 (2
                                                         +         N -1
                                                                        )    +   N -1
                                                                                      )   - w 2 2
                                                                                                  ]
                       <                                                      Q2
                                    2 +  2 )(w 2 ( 2 +           2
                                   (                            N -1
                                                                     )   +   N -1
                                                                                  )   - w 2 2


                                                             2
                                                        =   2 + 2
                                                                  .
                                                            
Inspecting (43) together with the above inequality gives the result.

   Parts 3 and 4. Rearranging equation (40), we derive

                                                                     N
                                                        ~4 - (1 +
                                                                        )~
                                                                         
                                                                    N -2 3
            wE =             2b                 1                1                     -1
                                                                                                                  .
                     2b +   N -2
                                   + 2b(E - 1)( N +                 )~
                                                                     
                                                                N -2 1
                                                                         + 2b(E - 1)( NN  )(1 - ~2 )

                                    C
we observe that | w | is less than E  for large E for some constant C since ~2 is by inspection
bounded away from 1 (we can derive a bound which holds for all E ) and the numerator
                                                                            2
is bounded above by 2 + NN    -2
                                 . Thus, it must be the case that  ~4  2    
                                                                           + 2
                                                                                in the limit as
                                                                                                      
                                                                                         2
E  . By inspection ~1 and ~3 converges to 0 while ~2                                   2 + 2 .
                                                                                       
                                                                                                 We can express

                                                                      N
                                                        ~4 - (1 +
                                                                         )~
                                                                          
                                                                     N -2 3
               EwE =                                                                                          .
                            2b+ N2 b
                                                -1) 1                              -1) N -1
                               E
                                  -2
                                       +   2b (EE  (N       +    1
                                                                    )~
                                                                     
                                                                N -2 1
                                                                         +    2b (EE  ( N )(1         -~2 )

Thus in the limit as E  ,
                                                                 2              2
                                           1        1                  1 N 
                            EwE                         2
                                                                     =             .
                                           2b   N -1
                                                     2 + 2
                                                              2 +  2   2b N - 1  2
                                                 N 


Note that this implies that for large enough E , any real root of the cubic equation for w
must be positive, which by (39) implies that y is positive for any real root. An argument
analogous to Theorem 3 can then be used to verify that there is a symmetric affine equilibrium
corresponding to any positive root of the cubic equation for w. Since a cubic equation always
has at least one real root and at most three, there always exists at least one and at most
three symmetric affine equilibrium for E sufficiently large.

   Part 5. Using earlier results we can write

                                                                  2bE
     EE =                                                                                                                    .
                               1 +1]+ NN
                     (2b[(E -1)~         ~ )
                                       -1 3                    1                                                      ~1
                                                                                                                      
              2b +              N -2
                                                   + 2b(E - 1) N ~1 + 
                                                                      ~3 (N1
                                                                           -1)
                                                                               + 2b(E - 1)(1 -                        N
                                                                                                                         )

         2
Thus, if Q > 0, as E  ,
                                                        EE  1.

                                                             44
When E = 1,
                                                    2b
                                  1 =               ~3                 < 1.
                                                2b+ w          ~3
                                         2b +   N -2
                                                         +   w(N -1)

Thus, an increase in fragmentation means a more efficient redistribution of endowments, at
least in the limit.

    Next, we give a coarse analysis of welfare which compares the expected holding costs of
strategic agents as E tends infinity with the case of centralized exchange when E = 1.
                         4
Proposition 10. If    
                      2
                        is sufficiently small, then in the limit as E  , the allocation of
any symmetric affine equilibrium is more efficient than the allocation of the unique symmetric
affine equilibrium when E is one.

Proof. By symmetry it suffices to study the expected holding cost of an individual agent.
Recall, in what follows, that we have assumed for simplicity that the mean of the liuqidity
trader supply is zero. The expected holding cost of an agent is

                               Z           1                           eE   Qe
  E[b((1 - EE )Xi + EE           + Ew(Si -               Sj ) +                  )2 ] =
                               N           N       j N
                                                                       N
                                                                            2
                                                Z 2      2 N -1 2  N - 1 2 Q
                             b(((1 - EE )Xi + EE ) + (Ew) ((   ) +      ) + 2 ]
                                                N            N      N2     N

    Consider taking a limit as E   of the above expression. Then we obtain
                                   2
                            Z2    Q       1 N 2     4
                                                         N -1 2 N -1
                        b     2
                                +   2
                                      + (         ) 2
                                                      ((     ) +     )
                            N     N       2b N - 1        N      N2

    The only difference between this expected holding cost and the expected holding cost at
                                                      4
the efficient allocation is the last term. Thus when 2
                                                      
                                                        is small large amounts of fragmentation
is preferred to centralized exchange.


F      Extension: Arbitrary Covariance Matrix
In this appendix, we extend the baseline model to allow for correlation among the primitive
asset quantities {X1 , . . . , XN , Q1 , . . . , QE } setting the sizes of trading interests. This model
variant nests the baseline model. Consequently, many of the proofs are quite similar.




                                                    45
F.1     Setup
We retain the same model setup as in the baseline but alter the assumptions about the
joint distribution of (X1 , . . . , XN , Q1 , . . . , QE ). We assume that Q = C + eE e and
         C
Qe = E       + e for each e  E , where C and {e }eE are random variables in L2 (, F , P). Here,
C is the component of liquidity trader supply which is common across exchanges and e is
the component idiosyncratic to exchange e. We assume that the distribution of C does not
depend on E and that {e }eE is a collection of i.i.d, Gaussian distributed random variables
                                             2
with a mean of 0 and variance of E             that are independent of X1 , . . . , XN , and C . Under
these assumptions, the distribution of Q does not depend on E . Next, we assume that
X1 , . . . , XN , C are jointly Gaussian with E[C ] = µQ , V ar[C ] = , cov (Xi , Xj ) =  for all
                                                                                        2
i, j  N such that i = j , and cov (Xi , C ) =  , E[Xi ] = µX , and V ar[Xi ] = X          for all i  N .
                                                               2
For the distribution to be well defined, , ,  , and X            are such that the covariance matrix
of X1 , . . . , XN , C is positive definite.


G      Analysis
                        2
Lemma 6. The condition, X + (N - 1) > 0, holds.

Proof of Lemma 6. The covariance matrix of (X1 , . . . , XN ) is positive definite. Denote the
                                                                2
covariance matrix VX . Each element of the diagonal of VX is X    while all other elements are
. This implies that 1T VX 1 = N [X2
                                    + (N - 1)] > 0 where 1 is an N × 1 vector of ones.

Theorem 7. For each E  N, there exists at least one and up to three symmetric affine
                             2
equilibria. If either   0 or   = 0, there is a unique symmetric affine equilibrium. Given an
arbitrary E  N let (E , E , E ) be an arbitrary corresponding symmetric affine equilibrium.
Then E , E , and E satisfy equations (58), (59), and (60) given in the Appendix. Moreover:

   1. For each e  E ,
                                                2b(1 + E (E - 1))
                                         E =
                                                      N -2
      where
                                            E  corrXi (p     
                                                        e , pe )

      for e = e s.t e  E .

   2. Price in exchange e  E is

                                      N -1
                               pe =        E [    -E Xi - Qe + N E ].
                                       N       iN


                                                  46
     3. The final inventory of agent i  N is

                                                                     iN   Xj       Q
                             Xi +           qie = (1 - EE )Xi + EE             +     .
                                       eE
                                                                     N             N

            2
     4. If    = 0 or E = 1, for each E  N, the equilibrium allocation corresponds with that
        of the centralized benchmark.
           2
     5. If   > 0, given an arbitrary sequence of symmetric affine equilibria, {(E , E , E )}E N ,
        we have                                             
                                                   N 1 + N X 2
                                        EE                  
                                                               .
                                                 N - 1 1 - 2
                                                                 X


Proof of Theorem 7. We first conjecture that there exists a symmetric affine equilibrium
(E , E , E ) and derive conditions of the equilibrium in two steps. We then show the
                                                                                     
various claims in the statement of the theorem hold. In the first step we compute E[qie | pe -
   qie
E (N -1)
         , Xi ] corresponding to a symmetric affine equilibrium, (E , E , E ), which will be
used in the second step. In the second step, we substitute the derived moment from step one
into the optimality condition and match coefficients to derive a system of three equations
for E , E , and E .

   Step 1: To begin we conjecture an arbitrary symmetric affine equilibrium (E , E , E )
and first compute the following unconditional moments.

     -E (       i   Xi ) + mN - Qe    -E µX + E    µQ
E[                                 ]=           -                                           (44)
                     yN                   E       EE N



         -E Xj
        j =i         Qe       E    -E µX + E      µQ
E[              -           +   ]=           -                                              (45)
      E (N - 1)   E (N - 1)   E        E       EE (N - 1)


                                 N
                         2                         2
V ar[          Xi ] = N  X + 2         (i - 1) = N X + (N - 1)N                             (46)
         i                       i=1


    Using the above moments we can then compute the following moments, conditional on
Xi , using the projection theorem.




                                                      47
       -E (         i   Xi ) + E N - Qe
 E[                                     | Xi ] =
                         E N
                                                            1                     2  
                           -E µX + E    µQ                 E N
                                                               (-E (N    - 1) - E X -E )
                                     -      +                                 2
                                                                                                      (Xi - µX ) (47)
                               E       EE N                                   X



       (    j =i   -E Xj ) - Qe + E (N - 1)
 E[                                         | Xi ] =
                      E (N - 1)
                                                                      1                         
                         -E µX + E      µQ                         E (N -1)
                                                                            (-E (N       - 1) - E )
                                   -            +                               2
                                                                                                      (Xi - µX ) (48)
                             E       EE (N - 1)                                X




 V ar[-E (                 Xj ) + E (N - 1) - Qe | Xi ] =
                    j =i
                                                      2                              2
2              2          2                               2E (N - 1) [(-E (N - 1) - E )]
E (N       - 1)X        + E (N     - 2)(N - 1) + 2 +    +           -        2
                                                E    E       E              X
                                                                                       (49)



 covXi (           -E Xj - Qe ,                 -E Xj - Qe ) =
              j                       j =i

                                 V ar[          -E Xj | Xi ] - 2covXi (Qe ,          -E Xj ) + covXi (Qe , Qe ) (50)
                                         j =i                                 j =i


    Using the above moments, we compute the following moments, conditional on Xi and
pe - qie , (the portion of price in exchange e which is unknown to agent i--see equation
(56)) by using the projection theorem. The equations below depend on E , which we will
define later.


                            qie
 E[pie | pe -                     , Xi ] =
                        y (N - 1)
                                                      1                 
       N -1     -E µX + E             µQ             N
                                                        (-E (N - 1) - E   )
(1 -        E )           - (1 - E )      + (1 - E ) E        2
                                                                            (Xi - µX )
        N           E                EE N                    X
                                                 -E Xi N - 1                qie
                                               +         +      E p e - E        (51)
                                                  E N      N              E N


                                                              48
                 qie
  E[qie | pe -           , Xi ] =
              E (N - 1)
                      N -1             N -1                            µQ
              - E Xi            - (1 -      E )(-E µX + E ) + (1 - E )
                         N              N                              EN
                      1                   
                        (-E (N - 1) - E )                N -1            qie
           - (1 - E ) N            2
                                            (Xi - µX ) -      E E pe + E     + E (52)
                                  X                       N               N

   Above, E denotes

                           covXi (   i -E Xi - Qe , j =i -E Xj - Qe )
                                                                      .                          (53)
                                     V ar[ j =i -E Xj - Qe | Xi ]

                             qie
   Of course, E[qie | pe - y(N -1)
                                   , Xi ] could have been computed in one step by just a single
application of the projection theorem, but we found it less algebraicly taxing to apply the
                                                                 qie
projection theorem twice. To finish deriving E[qie      | pe - y(N -1)
                                                                       , Xi ], we must compute an
expression for E . The denominator was computed earlier in equation (6). To compute the
numerator, we make use of the decomposition in equation (50). The terms j =i Xj , Qe , Qe ,
and Xi are jointly normally distributed with covariance matrix

                                                            (N -1)      (N -1)
                                                                                         
                   2
            (N - 1)X + (N - 2)(N - 1)                         E           E
                                                                                  (N - 1)
                                                                  2
                       (N -1)                                                            
                         E                                E 2 +  E        E2        E
                                                                                         
           =
                       (N -1)                                                 2
                                                                                         .
                                                                                    
                                                                          +
                                                                                         
                         E                                    E2      E 2    E      E    
                                                                                    2
                     (N - 1)                                  E           E
                                                                                   X

   The goal is to derive the covariance matrix of j =i Xj , Qe , Qe conditional on Xi , which
          ~ To do this we can apply the projection theorem. Then
we denote .

                                                     ~=
                                                     
                                                            
       2                                   (N -1)      (N -1)                
(N - 1)X + (N - 2)(N - 1)                    E           E       (N -      1)
           (N -1)                                2
                                                         
                                                                              1                   

             E                           E2
                                            + E         E2
                                                                -  E          2 (N - 1)      E    E

                                                             2
                                                               
                                                                   
                                                                              X
                  (N -1)                             
                    E                       E2       E2
                                                        + E        E

                                                     
                                                     ~=
                                                     




                                                     49
                                                                         
       2                                   (N -1)            (N -1)                  2                (N -1)           (N -1)
                                                                                                                                
(N - 1)X + (N - 2)(N - 1)                    E                 E                     (N - 1)2          E                E
           (N -1)                                2
                                                                
                                                                       1             (N -1)            2                2
                                           2 +                   2
                                                                      -                                                       
             E                           E      E              E       2               E               E2               E2    
                                                                    2   X
               (N -1)                                                                    (N -1)        2                2
                 E                           E2            E 2 +   E                      E            E2               E2

   From above, we have

                    covXi (-E Xi +                  -E Xj - Qe ,                    -E Xj - Qe )
                                             j =i                            j =i


  2         2                                       2 (N - 1)2     2E  (N - 1)                 2
= E ((N - 1)X + (N - 2)(N - 1) -                        2
                                                               ) +             (1 - 2
                                                                                      ) +    -    2
                                                                                                    .
                                                       X               E            X     E 2 E 2 X
   We finally derive that

  E =
    2         2                                       2 (N -1)2                                                        2
    E ((N - 1)X + (N - 2)(N - 1) -                       X2     )    + 2 E E (N - 1)(1 -           2 )
                                                                                                   X
                                                                                                         +   E2
                                                                                                                  - 2
                                                                                                                E 2 X
                                                                     2                                          2           .
     2             2                                                                              [(-E (N -1)- E )]
     E ((N   -   1)X    + (N - 2)(N - 1)) +                E2
                                                                +   E
                                                                         +   2E E (N     - 1) -         X2


                                                                                                                           (54)

   This concludes step one.

    Step 2. Conjecture that there exists a symmetric affine equilibrium, (E , E , E ). Under
this conjecture, each agent i  N submits

                                      eq
                                     qie = -E Xi - E pe + E

to each e  E and i  N , where E , E , and E are constants. Market clearing in exchange
e implies that
                         -E (     Xi ) - E N pe + E N = Qe .
                                         i

Solving for pe yields
                                         -E (          i   Xi ) + E N - Qe
                                  pe =                                     .                                               (55)
                                                            E N
   Price impact can also be determined from the market clearing condition as well:

                    -E (          Xj ) - E (N - 1)pe + E (N - 1) + qie = Qe
                           j =i




                                                           50
Solving for pe yields

                                   -E (      j =i   Xi ) + qie + E (N - 1) - Qe
                          pe =                                                  .                           (56)
                                                        E (N - 1)

                                                                                 1
    This implies that the price impact agent i faces in exchange e is  := E (N     -1)
                                                                                       , which by
                                                                          
symmetry, is the price impact each agent faces in all exchanges. Let pe denote the market
clearing price on exchange e when all agents submit their equilibrium demand schedules--
that is, the price in equation (55). Let pe denote the market clearing price in exchange e
when agent i submits a demand schedule such that he purchases quantity qie at the market
clearing price as in (56). In determining his optimal demand schedule for exchange e, agent
i equates his expected marginal utility conditional on pe - E (q ie
                                                               N -1)
                                                                     and Xi , with his marginal
                                                qie                              
cost. Thus, he must compute E[qik | pe - E (N -1) , Xi ] where k = e and qik        denotes the
equilibrium quantity purchased in exchange k when agent i follows his equilibrium strategy.
The optimality condition is

                                                                   qie
             µ - 2b(Xi + qie + (E - 1)E[qi 2 | pe -                       , Xi ]) = pe + qie .              (57)
                                                                E (N - 1)

    Applying equation (52) and matching coefficients we can obtain a system of three equa-
tions which characterize the three unknowns, E , E , and E . We do not explicitly list the
algebraic steps here. Matching the coefficients on price, we obtain

                                                     1        N -2
                                       E =                          .                                       (58)
                                             2b((E - 1)E + 1) N - 1

Matching the coefficients on Xi we obtain
                                                                       
                                                                (1-E ) E
                                                1 + (E - 1)         2
                                                                  N X
           E =          E (E -1)       (E -1)E +1               -1                    -1 
                                                                                                      .     (59)
                 1+        N
                                   +       N -2
                                                     + (E - 1) NN  - (1 - E )(E - 1) NN 2         X



Matching the constant coefficients, we obtain
                                                                  1            
                                           (1-E )µQ        (1-E ) N (E (N -1)+ E )              N -1
      N - 2 µ - 2b(E - 1)µX (                 EN
                                                       -             X2              + E (1 -    N
                                                                                                     E ))
  E =                                                                                                       (60)
      N -1                                           2b(1 + E (E - 1))

    Above, E , as we saw in equation (54) is dependent on E , so we have not derived a
closed form solution for a candidate equilibrium. By inspecting (59) and (54) we see that
E satisfies a cubic equation. It is clear that a neccessary condition for (E , E , E ) to be
a symmetric affine equilibrium is that E , E , and E satisfy the above equations (since


                                                         51
otherwise the distributional assumptions ensure that the condition (57) is violated on a set
of strictly positive P-measure). This concludes step 2.

To prove that the derived necessary conditions are in fact sufficient we appeal to Theorem
3 since, by construction, the symmetric affine equilibria we derived satisfies the condition
in Theorem 3. To prove existence of at least one and up to three such symmetric affine
equilibria, it suffices to observe from (59) and (54) that E satisfies a cubic equation which
must have at least one real root and up to three real roots. We now prove uniqueness of the
equilibrium when   0. Fix E  1, denote y  E , and define

                                                              E -1 (1-E )
                                                        1+     E       2
                                                                     N X
  g (y )  y -        1        1          N -1                      1              N -1            -1
                                                                                                                   .
                EE ( N +     N -2
                                     +    N X 2 )    + (1 -   E )( N + N1-2
                                                                              +    N X 2 )   + E NN  (1 -    2 )
                                                                                                             X
                                                                                                             



There exists a symmetric affine equilibrium for each y positive such that g (y ) = 0. Using
the assumption that   0, the second term in the above expression is strictly monotone
decreasing in E . By multiplying the numerator and denominator in equation (54) by E 2 we
see that E is strictly monotone increasing in y . Thus g (y ) is strictly monotone increasing
in y . Hence there can exist at most one value of y  R such that g (y ) = 0.

We now prove the remaining parts of the theorem. Part 1 follows immediately from (58).
Part 2 follows immediately from (56). Part 3 of the Theorem is true of any symmetric affine
equilibrium independent of the joint distribution of the random variables and the proof is
exactly analogous to that of Theorem 1. Part 4 follows from Part 3 and (59) when substi-
                                                       2
tuting in E = 1 which is the value E takes on when Q     = 0. To prove Part 5, observe that
using Proposition 12, E  0. By equation (59),

                                                           (E -1) (1-E )
                                                      1+     E        2
                                                                    N X
         EE =     1       E (E -1)       (E -1)E +1               -1                     -1 
                                                                                                         .
                  E
                      +     EN
                                     +     E (N -2)
                                                      + (E - 1) N
                                                                EN
                                                                     - (1 - E )(E - 1) N
                                                                                       EN  2         X


                                       
                                    1+
                                     N 2
   Since E  0, EE              N -1
                                    (1- 
                                        X
                                             )
                                                 .
                                N       2
                                         X


Corollary 7.1. Let {EE }E N be defined as in Theorem 7. Then -ElE converges to a
                                        2                  2
constant that exceeds 1 if and only if    > 0 and  > -[X      +(N - 1)], where, by the positive
                                                               2
definiteness of the covariance matrix of X1 ,...,XN , we have X  +(N - 1)  0. Further, EE
                                       N -1                 2                2
converges to a constant that exceeds N -2 if and only if  > 0 and  > -[X       + (N - 1)].

Proof of corollary 7.1. Theorem 7 supplies a closed form expression for the limiting value of

                                                         52
EE as E  . The rest of the proof follows from some simple computations.


Proposition 11. Let

                                     2 (N -1)2                        2
                  2 +(N -2)(N -1)-
            (N -1)X                            +2 (N -1)(1-     )+-
                                        2                  2          2     2 1       1         N -1         2 
        -                                X
                                      N -2
                                                            X         X
                                                                          -  (N +    N -2
                                                                                            +    N X 2 )   -  N 2
 
E                                         2 N -1                  2           
                                                                                                                X
                                                                                                                    .
                                             N
                                                 (1 -   2 )
                                                        X
                                                                -   (1 +    N X2 )



If E  is in N, there is a unique symmetric affine equilibrium when E = E  whose allocation
is the efficient allocation. If   0, by Theorem 7, there is a unique symmetric affine
equilibrium allocation associated with each E  N. The E  N whose symmetric affine
equilibrium is most efficient (more efficient than that of any E  N with E = E ) is either
 E  or E  .

Proof of proposition 11. Let (E , E , E ) denote an arbitrary symmetric affine equilibrium.
Define gE  EE . Substituting equation (54) into (59) and rearranging yields a cubic
equation in gE with coefficients
                                        3             1
                                     [gE  ] : A(1 +      )
                                                    N -2
                                    2               1
                                  [gE ] : B (1 +        )-A
                                                  N -2
                           1        2 1      1     N -1        2 N -1      
        [gE ] : F (1 +         ) +   ( +        +        2
                                                           ) +  E     (1 - 2 ) - B
                         N -2         N    N -2      N X           N      X
                                                2              2 
                             [constant] : -F - E  (1 +   2
                                                           ) +    2
                                                       N X      N X
where
                                    2                                       2 (N - 1)2
                         A  ((N - 1)X + (N - 2)(N - 1) -                        2
                                                                                       ),
                                                                               X
                                                                      
                                          B  2 (N - 1)(1 -            2
                                                                        )
                                                                      X
and
                                                     2
                                                 F - 2 .
                                                    X
By definition, at E  , gE  = 1. Therefore, we have

                                   1               1                   1
                         A(1 +        ) + B (1 +      ) - A + F (1 +      )
                                 N -2            N -2                N -2

       1   1    N -1      2 N - 1                                    2 
+2
   (     +    +      2
                       )+  E      (1 - 2 ) - B - F - E  2
                                                          (1+   2
                                                                  )+    2
                                                                          = 0.
       N N -2    N X         N        X                       N X     N X

                                                        53
Solving for E  we obtain,
                                                                  1 N -1            2 
                                       - A+ B +F
                                          N -2
                                                 - 2 1
                                                    (N +         N -2 N X2 )      -  N 2
                                                                                            X
                              E =           2 N -1                    2                         .
                                               N
                                                   (1   -   2 )
                                                            X
                                                                  -     (1   +   N X2 )




That the E  N whose symmetric affine equilibrium allocation is most efficient is either E 
or E  when   0 follows from proposition 15.

Proposition 12. For each E  N denote an arbitrary corresponding symmetric affine equi-
libria, {(lE , E , E )}eE . Let E be the corresponding equilibrium price impact and E the
                                            2
equilibrium inference coefficient. Then, if   = 0, {E }E N diverges to  and {E }E N is
                                    2
the constant sequence of ones. If     > 0, {E }E N converges to

               1+  2
       1           N                                                         2 (N -1)2                                   2
2b +    2 [( N -1
                  (1
                      X
                     - 
                            )2 ((N       2
                                     - 1)X + (N - 2)(N - 1) -                   X2     )   + 2N (1 +   N X2 )    +-      2 ]
                                                                                                                         X
              N         2 )
                     X

                                                        N -2

while {E }E N converges to 0.
                                           2
Proof of propostion 12. The claims when      = 0 are obvious in light of Theorem 7. We
                        2
prove the claims when  > 0. By inspecting equation (59), and recognizing that Lemma 6
              1           -1 
implies that N  + N1
                   -2
                      + NN  2
                               > 0, we see that
                                        X


                                     E -1 (1-E )                                         E -1 (1-E ) |  |
                               |1 +   E       2
                                            N X
                                                  |                                  1+   E        2
                                                                                                 N X
                     -1                             N -1 
                                                                   < | E | <             -1
                                                                                                            .
                E ( NN  (1 -             1      1
                                 2 ) + N + N -2 +
                                 
                                 X                   N X 2 )                          E NN  (1 -   2 )
                                                                                                   X


                                                                                  1
Inspecting the equation (54), we see that for large E , the numerator of E is O( E 2 ) while the

                                        2    1
denominator, because of the E   term, is  ( E 2 ) so that E  0. To prove that E converges

to a positive constant, we can express EE as

                                                            2 (N -1)2                                                2
     E 2 E
         2         2
           ((N - 2)X + (N - 2)(N - 1) -                        X2     )   + 2EE  (N - 1)(1 -           2 )
                                                                                                       X
                                                                                                                +-   2
                                                                                                                     X
 E                                           2 (N -1)2                                                   2
                                                                                                                         .
           2                                                                                                       2
       E 2 E + (N - 2)(N - 1) -                 X2     )    + 2EE  (N - 1)(1 -              2 )
                                                                                            X
                                                                                                    +-   2
                                                                                                         X
                                                                                                                + E

By Theorem 7, -ElE converges so by inspection it is clear that EE must converge. Since
                                                                E (E -1))
both E - 1 and E are always weakly positive, and E = 2b(1+N      -2
                                                                          , it must converge to
a strictly positive constant. We can directly compute this constant using Part 5 of Theorem




                                                            54
7 to be:
               1+  2
       1           N                                            2 (N -1)2                               2
2b +    2 [( N -1
                  (1
                      X
                     - 
                            )2 ((N       2
                                     - 1)X + (N - 2)(N - 1) -      X2     )   + 2N (1 +   N X2 )   +-   2 ]
                                                                                                        X
              N         2 )
                     X
                                                                                                              .
                                                    N -2



Proposition 13. Suppose   0. For each E  N, let E denote the equilibrium price
impact in the unique symmetric affine equilibrium. The sequence, {-E }E N , is strictly
monotone increasing.

Proof of proposition 13. The proof is analogous to that of Proposition 1 so we omit it.

Proposition 14. The total expected payment of liquidity traders is

                        N -1              2
                                              + µ2
                                                 Q
                             E (-µQ N E +  +       - E N ( + µX µQ )).
                         N                    E

Proof of propostion 14. We compute

                                            N -1
                   -E[        pe Qe ] = -        E E[ (    -E Xi + N E - Qe )Qe ]
                         eE
                                             N       eE iN


                        N -1              2
                                              + µ2
                                                 Q
                      =      E (-µQ N E +  +       + E N ( + µX µQ )).
                         N                    E


                             2
Proposition 15. Suppose        > 0 and   0. For each, E  N, denote the unique symmetric
affine equilibrium, (E , E , E ). The sequence, {EE }E N , is strictly monotone increasing.

Proof of proposition 15. The proof is analogous to that of part 6 of Theorem 1.




                                                      55
References
Aitken, M., H. Chen, and S. Foley. 2017. The impact of fragmentation, exchange fees and
  liquidity provision on market quality. Journal of Empirical Finance 41:140­60.

Antill, S., and D. Duffie. 2019. Augmenting markets with mechanisms. Working Paper,
 National Bureau of Economic Research.

Babus, A., and C. Parlatore. 2017. Strategic fragmented markets. Working paper, New York
  University, Stern School.

Baldauf, M., and J. Mollner. 2019. High-frequency trading and market performance. Journal
  of Finance, forthcoming. Available at SSRN 2674767 .

------. 2020. Trading in fragmented markets. Journal of Financial and Quantitative Anal-
  ysis forthcoming.

Bennett, P., and L. Wei. 2006. Market structure, fragmentation, and market quality. Journal
  of Financial Markets 9:49­78.

Bernales, A., N. Garrido, S. Sagade, M. Valenzuela, and C. Westheide. 2018. A tale of one
  exchange and two order books: Effects of fragmentation in the absence of competition.
  SAFE Working paper 234.

Boehmer, B., and E. Boehmer. 2003. Trading your neighbor's ETFs: Competition or frag-
  mentation? Journal of Banking & Finance 27:1667­703.

Brown, D., and S. Ross. 1991. Spanning, valuation and options. Economic Theory 1:3­12.

Budish, E., P. Cramton, and J. Shim. 2015. The high-frequency trading arms race: Fre-
  quent batch auctions as a market design response. The Quarterly Journal of Economics
  130:1547­621.

Budish, E., R. Lee, and J. Shim. 2019. Will the market fix the market? A theory of stock
  exchange competition and innovation. Working paper, University of Chicago.

Chakravarty, S., P. Jain, J. Upson, and R. Wood. 2012. Clean sweep: Informed trading
 through intermarket sweep orders. Journal of Financial and Quantitative Analysis 47:415­
 35.

Chao, Y., C. Yao, and M. Ye. 2018. Why discrete price fragments u.s. stock exchanges and
 disperses their fee structures. Review of Financial Studies 32:1068­101.

                                            56
Chlistalla, M., and M. Lutat. 2011. Competition in securities markets: The impact on
 liquidity. Financial Markets and Portfolio Management 25:149­72.

Chowdhry, B., and V. Nanda. 1991. Multimarket trading and market liquidity. The Review
 of Financial Studies 4:483­511.

Chung, K. H., and C. Chuwonganant. 2012. Regulation NMS and market quality. Financial
  Management 41:285­317.

Clapham, B., P. Gomber, J. Lausen, and S. Panz. 2019. Liquidity provider incentives in
  fragmented securities markets. SAFE Working Paper No. 231.

Colliard, J.-E., and T. Foucault. 2012. Trading fees and efficiency in limit order markets.
  The Review of Financial Studies 25:3389­421.

De Fontnouvelle, P., R. P. Fishe, and J. H. Harris. 2003. The behavior of bid-ask spreads
  and volume in options markets during the competition for listings in 1999. The Journal
  of Finance 58:2437­63.

Degryse, H., F. De Jong, and V. van Kervel. 2015. The impact of dark trading and visible
  fragmentation on market quality. Review of Finance 19:1587­622.

Du, S., and H. Zhu. 2017. What is the optimal trading frequency in financial markets?
 Review of Economic Studies 84:1606­51.

Duffie, D., and H. Zhu. 2017. Size discovery. The Review of Financial Studies 30:1095­150.

F´
 elez-Vi~
        nas, E. 2017. Market fragmentation, mini flash crashes and liquidity. Working paper,
  Stockholm Business School.

Foucault, T., and A. J. Menkveld. 2008. Competition for order flow and smart order routing
  systems. The Journal of Finance 63:119­58.

Gentile, M., and S. Fioravanti. 2011. The impact of market fragmentation on European
 stock exchanges. Working paper, Consob, Research Division.

Gomber, P., S. Sagade, E. Theissen, M. C. Weber, and C. Westheide. 2016. Spoilt for choice:
 Order routing decisions in fragmented equity markets. Working paper, Goethe University,
 SAFE.

------. 2017. Competition between equity markets: A review of the consolidation versus
  fragmentation debate. Journal of Economic Surveys 31:792­814. doi:10.1111/joes.12176.

                                            57
Gresse, C. 2017. Effects of lit and dark market fragmentation on liquidity. Journal of
  Financial Markets 35:1­20.

Gresse, C., et al. 2012. Market fragmentation in europe: Assessment and prospects for
  market quality. Working Paper, The Future of Computer Trading in Financial Markets:
  Foresight Driver Review 19, Government Office for Science, United Kingdom.

Hall, G., and J. Rust. 2003. Middlemen versus market makers: A theory of competitive
  exchange. Journal of Political Economy 111:353­403.

Hamilton, J. L. 1979. Marketplace fragmentation, competition, and the efficiency of the
  stock exchange. The Journal of Finance 34:171­87.

Haslag, P. H., and M. Ringgenberg. 2016. The causal impact of market fragmentation on
  liquidity. In Fourth Annual Conference on Financial Market Regulation.

Hengelbrock, J., and E. Theissen. 2009. Fourteen at one blow: The market entry of turquoise.
  Working paper, University of Bonn.

Klemperer, P. D., and M. A. Meyer. 1989. Supply function equilibria in oligopoly under
  uncertainty. Econometrica 57:1243­77.

K¨
 orber, L., O. B. Linton, and M. Vogt. 2013. The effect of fragmentation in trading on
 market quality in the uk equity market. Available at SSRN 2315484 .

Malamud, S., and M. Rostek. 2017. Decentralized exchange. American Economic Review
 107:3320­62.

Malinova, K., and A. Park. 2019. Sniping in fragmented markets. Working paper, University
 of Toronto.

Mendelson, H. 1987. Consolidation, fragmentation, and market performance. Journal of
 Financial and Quantitative Analysis 22:189­207.

Menkveld, A. 2008. Splitting orders in overlapping markets: A study of cross-listed stocks.
 Journal of Financial Intermediation 17:145­74.

O'Hara, M., and M. Ye. 2011. Is market fragmentation harming market quality? Journal of
  Financial Economics 100:459­74.

Pagano, M. 1989. Endogenous market thinness and stock price volatility. The Review of
  Economic Studies 56:269­87.

                                            58
Pagnotta, E., and T. Philippon. 2018. Competing on speed. Econometrica 86:1067­115.

Parlour, C. A., and D. J. Seppi. 2003. Liquidity-based competition for order flow. The
  Review of Financial Studies 16:301­43.

Rostek, M., and M. Weretka. 2012. Price inference in small markets. Econometrica 80:687­
  711.

------. 2015. Dynamic thin markets. Review of Financial Studies 28:2946­92.

Sannikov, Y., and A. Skrzypacz. 2016. Dynamic trading: Price inertia and front-
  running.    Working paper, Graduate School of Business, Stanford University.
  https://economics.uchicago.edu/sites/economics.uchicago.edu/files/uploads/
  PDF/sannikov_dynamic_trading.pdf.

Spankowski, U., M. Wagener, and H.-P. Burghof. 2012. The role of traditional exchanges in
  fragmented markets. Working paper, University of Hohenheim.

Stoll, H. R. 2001. Market fragmentation. Financial Analysts Journal 57:16­20.

Vayanos, D. 1999. Strategic trading and welfare in a dynamic market. The Review of
  Economic Studies 66:219­54.

Vives, X. 2011. Strategic supply function competition with private information. Economet-
  rica 79:1919­66.

Wilson, R. 1979. Auctions of shares. Quarterly Journal of Economics 93:675­89.

Wittwer, M. 2020. Connecting disconnected markets? American Economic Journal: Mi-
 croeconomics forthcoming.

Zhu, H. 2014. Do dark pools harm price discovery? Review of Financial Studies 27:747­89.




                                           59
