                                NBER WORKING PAPER SERIES




                            TO HOLD OUT OR NOT TO HOLD OUT

                                          Frank Schorfheide
                                          Kenneth I. Wolpin

                                        Working Paper 19565
                                http://www.nber.org/papers/w19565


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                     October 2013




We thank Frank Diebold, Michael Keane, George Mailath, Chris Sims, Tao Zha as well as seminar
participants at the 2012 AEA Meetings, Columbia, Princeton, USC, and the University˛of Pennsylvania
for helpful comments and suggestions. The views expressed herein are those of the authors and do
not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2013 by Frank Schorfheide and Kenneth I. Wolpin. All rights reserved. Short sections of text, not
to exceed two paragraphs, may be quoted without explicit permission provided that full credit, including
© notice, is given to the source.
To Hold Out or Not to Hold Out
Frank Schorfheide and Kenneth I. Wolpin
NBER Working Paper No. 19565
October 2013
JEL No. C11,C31,C52

                                              ABSTRACT

A recent literature has developed that combines two prominent empirical approaches to ex ante policy
evaluation: randomized controlled trials (RCT) and structural estimation. The RCT provides a "gold-
standard'' estimate of a particular treatment, but only of that treatment. Structural estimation provides
the capability to extrapolate beyond the experimental treatment, but is based on untestable assumptions
and is subject to structural data mining. Combining the approaches by holding out from the structural
estimation exercise either the treatment or control sample allows for external validation of the underlying
behavioral model. Although intuitively appealing, this holdout methodology is not well grounded.
For instance, it is easy to show that it is suboptimal from a Bayesian perspective. Using a stylized
representation of a randomized controlled trial, we provide a formal rationale for the use of a holdout
sample in an environment in which data mining poses an impediment to the implementation of the
ideal Bayesian analysis and a numerical illustration of the potential benefits of holdout samples.


Frank Schorfheide
University of Pennsylvania
Department of Economics
3718 Locust Walk
Philadelphia, PA 19104-6297
and NBER
schorf@ssc.upenn.edu

Kenneth I. Wolpin
Department of Economics
University of Pennsylvania
3718 Locust Walk
Philadelphia, PA 19104-6209
wolpink@econ.sas.upenn.edu
This Version: October 14, 2013                                                                   1


1         Introduction

A recent literature has developed that combines two prominent empirical approaches to ex
ante policy evaluation: randomized controlled trials (RCT) and structural estimation (see,
for example, Todd and Wolpin (2006), Duflo, Hanna, and Ryan (2011)).1 The RCT provides
a “gold-standard” estimate of a particular treatment, but only of that treatment. Structural
estimation provides the capability to extrapolate beyond the experimental treatment, but is
based on untestable assumptions and is subject to structural data mining. Combining the
approaches by holding out from the structural estimation exercise either the treatment or
control sample allows for external validation of the underlying behavioral model. Although
having intuitive appeal, the use of holdout samples is methodologically not well grounded.
For instance, Bayesian analysis prescribes using the entire sample to form posterior model
probabilities and using the resulting predictive distributions to characterize policy effects.

        The contributions of this paper are twofold. First, we provide a formal, albeit stylized,
framework in which Bayesian inference and decision-making is optimal but data mining
poses an impediment to the implementation of the ideal Bayesian solution. Data mining in
this context is a process by which a modeler tries to improve the fit of the model during
estimation, for example, through changing functional forms, adding observed or latent state
variables, etc. Second, we provide a numerical illustration of the potential costs of data
mining and the potential benefits of holdout samples that are designed to discourage data
mining. Losses are measured relative to the optimal Bayesian decision. Our illustration
implies that holdout samples can provide a basis for assessing the relative credibility of
competing models.

        It is important to emphasize that our paper does not argue the well-established point that
measures of in-sample goodness-of-fit need to be explicitly (e.g., Schwarz (1978)’s Bayesian
information criterion) or implicitly (e.g., Stone (1977)’s cross-validation approach) adjusted
for model complexity to avoid overfitting and enable consistent or efficient model selection.
This we take for granted. Our analysis will show that measures of model fit that are penalized
for model dimensionality can also be misleading if the modeler has access to the full sample,
    1
        Wise (1985) is the first example of which we are aware.
This Version: October 14, 2013                                                                2


has engaged in a sequence of data-based modifications of his structural model and reports a
measure of penalized model fit only for the final specification that is the outcome of a data-
mining process. Only the validation based on a holdout sample can discourage (undesirable
features of) data mining and unduly optimistic assessments of model fit. Although data
mining is often informally cited as an argument in favor of the use of holdout samples, to
the best of our knowledge our paper is the first to provide a formalization. The use of
holdout samples to discourage data mining extends well beyond the RCT and program-
evaluation literature and is widespread in the social sciences. For instance, Schorfheide and
Wolpin (2012) discuss examples from time series analysis and macroeconomic modeling. In
the psychology literature, Mosier (1951) suggested the use of holdout samples, naming it
“validity generalization,” that is, validation by generalizing beyond the sample.

      Our framework can be viewed as a principal-agent setup. A policy maker is the principal,
who would like to predict the effects of a treatment at varying treatment levels. The policy
maker has access to data from a social experiment, conducted for a single treatment level.
To assess the impact of alternative treatments, the policy maker engages two structural
modelers, the agents, each of whom estimates their structural model and provides measures
of predictive fit.2 We assume that the modelers are rewarded in terms of the fit of their model.
Two mechanisms are considered. Under the no-holdout mechanism, the modelers have access
to the full sample of observations and are evaluated based on the so-called marginal likelihood
functions that they report. In a Bayesian framework, marginal likelihoods are used to update
model probabilities. Because the modelers have access to the full sample, there is an incentive
to modify their model specifications and to overstate the marginal likelihood values. We refer
to this behavior as data mining.

      Under the holdout mechanism, on the other hand, the modelers have access only to a
subset of observations and are asked by the policy maker to predict features of the sample
that is held out for model evaluation. Building on an old result by Winkler (1969) on
log scoring rules, the holdout mechanism is designed so that the modelers truthfully reveal
their subjective beliefs about the holdout sample. However, predictive distributions for the
  2
      A structural model is one in which parameters are policy (treatment) invariant.
This Version: October 14, 2013                                                              3


holdout sample are not as informative as marginal likelihoods for the entire sample, which is
why the policy maker is unable to implement the full Bayesian analysis with this mechanism.

   Although we are able to give a qualitative characterization of the behavior of the modelers
under the two mechanisms based on analytical derivations, we use a numerical example to
illustrate how the size and the composition (in terms of observations from the control and
treatment groups) of the holdout sample affects the risk of the policy maker. We find that
the holdout mechanism dominates the no-holdout mechanism and that the lowest level of risk
is attained by holding back 50% of the sample (where the control and treatment sample are
of equal size) and providing the modelers only with data either from the control or from the
treatment group.

   Our paper is related to several branches of the economics literature. We draw on the
literature on scoring rules and the evaluation of probability assessors when setting up the
payoff scheme for the modelers. Winkler (1969) showed that log predictive densities create
the incentive to truthfully reveal subjective probabilities. Further results on the evaluation
of probability assessors can be found in the textbook by Bernardo and Smith (1994) and in
the literature on testing of experts, e.g. Sandroni (2003). Our setup assumes that the payoff
to Modeler 1 does not depend on the predictions made by Modeler 2 (and vice versa). Thus,
by assumption we ignore possible strategic interactions among the modelers, which are the
subject of the literature on incentives of macroeconomic forecasters, e.g. Laster, Bennet,
and Geoum (1999) and Lamont (2002).

   Leamer (1978) studies the effect of specification searches on inference in non-experimental
settings. Lo and MacKinlay (1990) and White (2000) provide methods of correcting statis-
tical inference procedures for so-called data snooping. An example of data snooping is to
run many preliminary regressions based on a large set of explanatory variables, but only
reporting results based on a specification in which a regressor appeared to be significant and
able to, say, predict stock returns. This literature has focused on correcting standard error
estimates for data snooping. Our concept of data mining is somewhat different from the
act of searching among a large pool of regressors. We focus on data-based modifications of
structural economic models, e.g. changing functional forms, that are designed to improve
This Version: October 14, 2013                                                                              4


in-sample fit.

        Holdout samples play an important role in cross validation approaches, e.g. Stone (1977).
The cross-validation literature showed that model validation on pseudo-holdout samples can
generate a measure of fit that penalizes model complexity. In our paper, however, the goal
is not to generate a new penalty term for in-sample fit of an econometric model. In fact,
the marginal likelihoods that are used in a Bayesian framework to construct posterior model
probabilities and serve as a benchmark for our analysis, can be interpreted as maximized
likelihood functions that are penalized for the number of free parameters in the model.

        The remainder of this paper is organized as follows. For concreteness, in Section 2 we
describe a working example in which a policy maker is trying to determine the optimal level
of a school-attendance subsidy. Using a number of simplifying assumptions, we are able to
represent the structural models for the analysis of the policy question by simple univariate
linear regressions. The Bayesian solution to predicting the effects of a school-attendance
subsidy is presented in Section 3. Section 4 contains the principal-agent setup that is used
to capture the potential benefits of weighting (or selecting) among structural models based
on predictions for holdout samples and Section 5 provides the numerical illustration. Finally,
we conclude in Section 6.



2         A Working Example

To analyze the potential benefits of holdout samples we consider the problem of evaluating
the impact of a monetary subsidy to low-income households based on school attendance of
their children. It is assumed that prior to the policy change there is no direct tuition cost
of schooling.3 The goal is to determine an optimal level of the subsidy that trades off the
costs of the subsidy program with its effect on the attendance rate. A social experiment
is conducted in which a randomly selected treatment sample is offered a school subsidy at
    3
        Tuition cost variation permits the estimation of the effect of introducing a subsidy nonparametrically
for subsidy levels for which net tuition is within the domain of the tuition variation, Ichimura and Taber
(2000).
This Version: October 14, 2013                                                               5


the level s = s̄, whereas no subsidy is provided to the households in the control sample,
that is, s = 0. The outcome variable for household i, i = 1, . . . , n, is denoted by hi and is
continuous, e.g. attendance measured in hours.

      Because, in practice, it is too costly to make the treatment sample sufficiently large to
allow the treatment to be measured at a variety of subsidy levels, the policy maker has to rely
on the estimation of structural models to extrapolate the treatment effect to other levels of
treatment s∗ 6= s̄. We assume that there are two such structural models Mj , j = 1, 2. Each
household i solves the following optimization problem to determine the number of hours to
send their child to school:4

                           max          Uj (c, h; z, u, ϑj ) s.t. c = inc + w(T − h)        (1)
                        c∈R+ ,h∈[0,1]

Here Uj (·) is a model-specific utility function, parameterized in terms of ϑj , c is household
consumption, h ∈ [0, T ] is hours spent in school, where T is the total endowment of time,
z is a vector of observable household characteristics, u is a random variable that captures
unobservable preference heterogeneity, and inc is parental income.

      We denote the optimal attendance decision by h = ϕj (inc, w; z, u, ϑj ). An attendance
subsidy s modifies the households’ budget constraint to

            c = inc + w(T − h) + sh = (inc + s) + (w − s)(T − h) = inc
                                                                    f + w̃(T − h).          (2)

The optimal attendance choice in the presence of a subsidy is

                                           h∗ = ϕj (inc,
                                                     f w̃; z, u, ϑj ).                      (3)

The modified budget constraint (2) implies that variation in household income and wage
w are sufficient to identify the effect of a school subsidy on attendance (Todd and Wolpin
(2008)). In fact, it is a key feature of many structural models that the parameters necessary
for a counterfactual policy analysis can be identified even if the sample contains no variation
in the policy instrument.

      In order to simplify the subsequent exposition, suppose that the decision rule (3) is
linearized and represented in the following stylized form, where hours h is replaced by y and
  4
      This example is taken from Todd and Wolpin (2008).
This Version: October 14, 2013                                                                                        6


x is a scalar characteristic of the household (replacing inc, w, and z):

                                yi = xi,j βj + si θ + ui     ui |(xi , si ) ∼ iidN (0, 1).                          (4)

For expositional convenience, we set the variance of ui equal to one. The j subscripts
in (4) capture the different assumption embodied in the two models about the relevant
characteristic x that affects the outcome. As previously mentioned, an important feature of
structural models is that they contain restrictions that allow the identification of policy effects
without sample variation in the policy instrument. To capture this aspect in our regression
model (4), we impose the restriction θ = βj .5 Thus, variation in xi,j is sufficient to obtain an
estimate of the subsidy effect. Because we will subsequently use matrix notation, let Xj be
the n × 1 vectors with elements xi,j , X = [X1 , X2 ], and let Y and S be the n × 1 vectors with
elements yi and si , respectively. For notational convenience we drop the intercept from (4).
However, in the numerical illustration in Section 5 we demean all regressors on the respective
subsamples considered for estimation, which essentially introduces an intercept.



3         First-Best Analysis

We proceed by specifying a formal decision problem for a policy maker who has to predict
the effect of a subsidy that differs in magnitude from the subsidy considered in the RCT. We
deliberately use a setup in which Bayesian analysis can provide the optimal (or first-best)
decision. In Section 4 below we will introduce a friction that provides an impediment to the
implementation of the optimal decision. The Bayesian approach requires us to specify prior
distributions for the parameters of models M1 and M2 as well as prior probabilities for the
                                                                                         
models themselves. Both models are equipped with the prior distribution θ ∼ N 0, 1/λ2 .
The density of this prior is denoted by p(θ|Mj ). Overall, this leads to
                                                                   
                                                                  1
            Mj : Y = X̃j θ + U, U ∼ N (0, I), θ ∼ N 0, 2 , j = 1, 2,                                                (5)
                                                                 λ
    5
        In the example, if there is no income effect on school attendance, e.g., if the utility function is quasi-linear
in consumption and if the utility function is quadratic in hours of school attendance, then x would be the
child wage and θ = −βj .
This Version: October 14, 2013                                                                                      7


where X̃j = Xj + S and the variance of U is assumed to be the identity matrix I for
analytical convenience. We assume that the marginal density of (X, S) does not depend
on θ (or U ) and is the same for both models. As a consequence, p(X, S) cancels from
most of the formulas presented below and results are presented in terms of densities that
are conditional on (X, S). Given randomization of the RCT, the selection of the treatment
group is independent of the observable characteristics, that is, p(X, S) = p(X)p(S). The
prior model probabilities assigned to models M1 and M2 are denoted by πj,0 = 1/2, j = 1, 2.

       The overall posterior distribution of the treatment effect is given by the mixture
                                                                X
                                     p(θ|Y, X, S) =                     πj,n p(θ|Y, X, S, Mj ),                    (6)
                                                                j=1,2

where
                            πj,0 p(Y |X, S, Mj )                                   X
                   πj,n =                        ,               p(Y |X, S) =             πj,0 p(Y |X, S, Mj ).    (7)
                                 p(Y |X, S)                                       j=1,2

Here p(θ|Y, X, S, Mj ) is the posterior density of θ conditional on model Mj , πj,n is the
posterior probability of model Mj , p(Y |X, S, Mj ) is the marginal likelihood of Mj , and
p(Y |X, S) is the marginal likelihood of the mixture of M1 and M2 .

       We assume that the policy maker’s goal is to predict the outcome for an individual that
receives a subsidy s∗ 6= s and has characteristics (x∗1 , x∗2 ) and u∗ = 0.6 The predictor of y
is denoted by ŷ and evaluated under a quadratic loss function. The posterior expected loss
(we will subsequently refer to expected loss as risk) associated with this decision is given by
                                        Z
                               X                            2
               ρ(ŷ|Y, X, S) =     πj,n    (x∗j + s∗ )θ − ŷ p(θ|Y, X, S, Mj )dθ.           (8)
                                          j=1,2             θ

Under the quadratic loss function the optimal predictor is given by the posterior mean of
the outcome:                                                            Z
                                        X
                                 ∗
                              ŷ =              πj,n (x∗j   +s )   ∗
                                                                            θp(θ|Y, X, S, Mj )dθ,                  (9)
                                        j=1,2

which is a weighted average of the posterior mean predictions of M1 and M2 . Moreover, we
can decompose the posterior risk of alternative predictors into

                                     ρ(ŷ|Y, X, S) = ρ(ŷ ∗ |Y, X, S) + (ŷ − ŷ ∗ )2 .                           (10)
   6
       Because our model is linear and E[u∗ ] = 0, the assumption that u∗ = 0 is inconsequential. However, it
simplifies the notation a bit.
This Version: October 14, 2013                                                                   8


This decomposition makes clear that the Bayes predictor ŷ ∗ is first-best and any alternative
predictor that deviates from the Bayes predictor is suboptimal. The posterior risk conditions
on the observations (Y, X, S). In the numerical illustration in Section 5 We focus on the
integrated risk, which averages over (Y, X, S):
                        Z
              R(ŷ) =          ρ(ŷ ∗ |Y, X, S)p(Y |X, S)p(X, S)d(Y, X, S) + ∆(ŷ)             (11)
                        ZY,X,S
              ∆(ŷ) =          (ŷ − ŷ ∗ )2 p(Y |X, S)p(X, S)d(Y, X, S).
                             Y,X,S

Equation (11) highlights that the integrated risk is also minimized by the Bayes predictor
ŷ ∗ . We refer to ∆(ŷ) as the (integrated) risk differential.

    To calculate the optimal predictor in (9) we need to evaluate p(θ|Y, X, S, Mj ) and πj,n .
The model-specific posterior for θ, the treatment effect, is given by

                                                 p(Y |X, S, θ, Mj )p(θ|Mj )
                           p(θ|Y, X, S, Mj ) =                              ,                  (12)
                                                      p(Y |X, S, Mj )

where p(θ|Mj ) is the prior distribution of θ under model Mj . The model specification in (5)
implies that this posterior distribution takes the form
                                                        
                                    ∗         0       −1
                                         2
            θ|(Y, X, S, Mj ) ∼ N θ̂j , (λ + X̃j X̃j )     , θ̂j∗ = (X̃j0 X̃j + λ2 )−1 X̃j0 Y   (13)

The posterior model probabilities πj,n are a function of the marginal likelihoods (see (7)),
which in the linear Gaussian regression model can be calculated analytically and take the
form

               p(Y |X, S, Mj ) = (2π)−n/2 |1 + X̃j0 X̃j /λ2 |−1/2                              (14)
                                                                           
                                            1 0                0  2 −1 0
                                 × exp − [Y (I − X̃j (X̃j X̃j + λ ) X̃j )Y ] .
                                            2

The exponential term captures the goodness of in-sample fit, whereas the term |1+X̃j0 X̃j /λ2 |−1/2
can be interpreted as a penalty for model complexity. The larger λ, and thus the less diffuse
and more restrictive is the prior distribution, the less complex is the model. In fact, for
λ = ∞, there is no free parameter to be estimated. On the other hand, a more variable
regressor makes the model appear more complex. It requires a smaller value of λ and thus
the prior is in relative terms more diffuse.
This Version: October 14, 2013                                                                 9


4     A Principal-Agent Problem

We now introduce a friction that makes the implementation of the first-best Bayesian analysis
described in the previous section infeasible. We assume that the computation of model
conditional posteriors p(θ|Y, X, S, Mj ) in (13) and marginal likelihoods p(Y |X, S, Mj ) in (14)
is executed by two expert modelers (agents). In a second stage, a policy maker (principal)
aggregates the results that he obtains from the modelers to form a prediction ŷ. In some
applications this assumption might be literally satisfied in the sense that a government agency
conducts the social experiment and hires academic consultants to provide an analysis of the
policy effects. In other instances, the policy maker might correspond to the economics
profession at large as it is investigating the effectiveness of social programs and the agents
correspond to economists who conduct research on the effects of a particular policy. Because
different individuals are assumed to be involved in the two stages of the analysis, incentive
problems potentially arise. These incentive problems, in turn, can provide a rationale for
holdout samples.

    We proceed by describing the objective and constraints of the policy maker in Section 4.1.
We then discuss two mechanisms that the policy maker could use to set incentives for the
modelers in Section 4.2. One of the mechanisms involves a holdout sample. In the other
mechanism, the modelers have access to the full data set. In Section 4.3, we characterize
two options that are available to the modelers: (i) Bayesian analysis of model Mj based on
the data provided by the policy maker and (ii) in-sample data mining, which is represented
by a modification of the prior distribution. Finally, we discuss the optimal choices of the
modelers under the two mechanisms in Section 4.4.



4.1    The Policy Maker

We assume that the social experiment described in Section 2 is conducted by a policy maker.
The policy maker has access to all the data from the experiment, but can estimate only the
treatment effect in the experiment, namely by taking the difference in means between the
treatment and the control group. The estimator of the treatment effect can be represented
This Version: October 14, 2013                                                                10


as coming from the statistical model

                                     Mpm :      Y = Sθ + V,                                 (15)

where V is a n × 1 vector of error terms and we use the pm subscript to denote policy maker.
The resulting estimator of the treatment effect is

                                       θ̂pm = (S 0 S)−1 S 0 Y.                              (16)

Given that the subsidy takes on only two values, s = 0 or s = s̄, the policy maker’s statistical
model Mp cannot be used to extrapolate the treatment effect to other levels of treatment
s 6= s̄. For that purpose, the policy maker engages the two modelers to analyze their
structural models M1 and M2 . His objective is to obtain a predictor that minimizes the
integrated risk R(ŷ) in (11). Thus, ideally, the policy maker would like to reproduce the
Bayesian prediction ŷ ∗ .



4.2     Mechanisms Available to the Policy Maker

We consider two potential mechanisms that the policy maker can use to obtain the decision-
relevant information from the modelers. Under the first mechanism, the modelers receive the
entire sample (Y, X, S). Under the second mechanism, the policy maker splits the sample
and hands the modelers only a subset of the observations. The policy maker has discretion
about the size of the holdout sample and its composition in terms of observations from the
treatment and control group.

No-Holdout Mechanism. The policy maker gives the modelers access to the entire data
set (Y, X, S). In turn, they are asked to report a marginal data density p̃j (Y |X, S) and a
posterior distribution for the treatment effect p̃j (θ|Y, X, S). We use p̃(·) rather than p(·) to
allow for the possibility that the modelers do not truthfully reveal these two objects. Only
if the reported densities coincide with the actual densities in (13) and (14) can the policy
maker implement the first-best Bayesian decision. We assume that the compensation of the
modelers is a function of how well their models are able to fit the data, adjusting for model
This Version: October 14, 2013                                                                             11


complexity. More specifically, under the no-holdout (NH) mechanism the payoff is equal to
the reported log marginal likelihood
                                                      
                                    ΠN H p̃j (Y |X, S) = ln p̃j (Y |X, S).                               (17)

The policy maker updates the model probabilities according to

                                                        πj,0 p̃j (Y |X, S)
                                 π̃j,n =                                           .                     (18)
                                           π1,0 p̃1 (Y |X, S) + π2,0 p̃2 (Y |X, S)

Note that the payoff for Modeler 1 is independent of the action taken by Modeler 2, and vice
versa. Thus, we abstract from strategic interactions between the modelers.

Holdout Mechanism. The modelers receive the full sample of covariates and treatment
levels (X, S), but only a subset of the outcome data Y from the policy maker. The outcome
data are partitioned into Y 0 = [Yr0 , Yp0 ], where Yr is a regression sample that is given to the
modelers for estimation purposes and Yp is a holdout or prediction sample that can be used
by the policy maker to evaluate predictions.7

       We assume that the policy maker updates the model probabilities based on the predictive
densities p̃j (θ̂pm |Yr , X, S) for the difference-in-means estimate of the treatment effect instead
of the predictive density p̃j (Yp |Yr , X, S) for the entire holdout sample. In realistic applications
the precise evaluation of p(Yp |Yr , X, S, Mj ) for one particular sample is often challenging and
time consuming. Computing this density for all possible realizations Yp is a daunting task.
The difference-in-means estimate θ̂pm , on the other hand, is a univariate statistic in our
application and reporting a predictive density is straightforward. It could easily be graphed
or tabulated. In sum, while the use of a density for Yp is theoretically attractive, it is difficult,
if not infeasible to implement. The current practice in the treatment-effect literature comes
closest to choosing model probabilities based on the θ̂-predictive density, as for example in
Todd and Wolpin (2006) and Duflo, Hanna, and Ryan (2011).

       The mechanism unfolds in two stages. First, the policy maker asks the modelers to
provide a predictive density p̃j (θ̂pm |Yr , X, S) for their estimate of the treatment effect given
   7
       For the modelers’ inference it is inconsequential, given randomization, whether they have access to the
full sample of regressors or just the subsample that corresponds to Yr . We assumed the former because it
simplifies the notation.
This Version: October 14, 2013                                                                    12


by (16). Similar to the compensation under the no-holdout mechanism, we assume that
under the holdout (H) mechanism the compensation takes the form:
                                                  
                          ΠH p̃j (θ̂pm |Yr , X, S) = ln p̃j (θ̂pm |Yr , X, S).                  (19)

The predictive densities p̃j (θ̂pm |Yr , X, S) are then used to update the model probabilities:

                                               πj,0 p̃j (θ̂pm |Yr , X, S)
                       π̃j,n =                                                             .    (20)
                                 π1,0 p̃1 (θ̂pm |Yr , X, S) + π2,0 p̃2 (θ̂pm |Yr , X, S)
Second, once the model probabilities are updated the policy maker makes all the outcome
data available and asks the modelers to re-estimate their models and report p̃j (θ|Y, X, S).
Allowing the modelers to re-estimate the parameters on the full sample avoids an unnecessary
loss of information about θ that would put the mechanism at a clear disadvantage. After all,
the rationale of holdout samples is merely to avoid distortions in model probabilities due to
data-mining. We use p̃j (θ|Y, X, S) to denote the posterior of θ reported by the modelers.



4.3     The Choice Set of the Modelers

We assume that the modelers can choose between the following two options: (i) do not engage
in data mining and report results from the Bayesian analysis of Mj based on the sample
provided by the policy maker; (ii) engage in a form of data-mining that uses the available
sample to break the model-implied link between βj and θ and shift the prior distribution for
(βj , θ) toward a region of the parameter space favored by the available data.

Option (i): Bayesian Analysis of Mj . Under the no-holdout mechanism the mod-
elers have access to the full sample and report the marginal likelihood for Y , which is
given in (14). Under the holdout mechanism the modelers can compute the predictive
likelihood p(Yp |Yr , X, S, Mj ), which in turn implies a predictive density for θ̂pm (Yp , Yr ), de-
noted by p(θ̂pm |Yr , X, S, Mj ). The corresponding full-sample posterior for θ is given by
p(θ|Y, X, S, Mj ). Under a quadratic loss function the point estimate of θ is the posterior
mean.

Option (ii): In-Sample Data-Mining. We represent in-sample data mining as data-based
modification of the prior distribution associated with model Mj . In addition to breaking the
This Version: October 14, 2013                                                                               13


tight link between θ and βj , this form of data mining also shifts the prior toward an area
of the parameter space in which the likelihood function is relatively high. It is supposed to
capture a practice whereby a researcher inspects the data and, depending on the properties
of the data, decides which features to include in the model and which to leave out, without
accounting for this specification search subsequently.

   In our working example, given data from both the treatment and control samples, the
data-mining prior is constructed as follows. We begin by breaking the link between θ and
βj by considering the unrestricted model

                                        Y = Xj βj + Sθ + U.                                                 (21)

Let Zj = [Xj , S] and ψj = [βj , θ]0 . Moreover, we assume that the modeler uses a prior
distribution that is centered at the peak of the likelihood function (which in our model
coincides with the OLS estimator). Overall, the data-mined model takes the form
                                                                  
                                                            0   −1
                    M̃j : Y = Zj ψj + U, ψj ∼ N ψ̃j , (κZj Zj )                                             (22)

                                ψ̃j = (Zj0 Zj )−1 Zj0 Y.

The parameter κ scales the prior precision of ψj . Based on model M̃j it is possible to
compute either the marginal likelihood function p(Y |X, S, M̃j ) or the predictive density
p(θ̂pm |Yr , X, S, M̃j ). The posterior distribution p(θ|Y, X, S, M̃j ) under the data-mined model
remains normal, but it has a different mean and variance than the posterior in (13). Defining
MXj = I − Xj (Xj0 Xj )−1 Xj0 we obtain:
                                                                
                                               0
                                                           −1
         θ|Y, X, S, M̃j ∼ N θ̃j , (κ + 1)S MXj S                     ,   θ̃j = (S 0 MXj Xj )−1 S 0 MXj Y.   (23)

Under a quadratic loss function the point estimate of θ associate with the data-mined model
M̃j is θ̃j . Under in-sample data-mining the cross-equation restrictions that allow for a more
efficient estimation of θ are abandoned and the the stated measure of uncertainty is severely
distorted.
This Version: October 14, 2013                                                                 14


4.4    Optimal Choices of the Modelers

Having described the potential choices of the modelers, we can now discuss their actual
choices in the no-holdout and the holdout mechanisms.

No-Holdout Mechanism. If modeler j chooses Option (i), i.e., he truthfully reports the
results from the Bayesian analysis of Mj , then he is evaluated based on p(Y |X, S, Mj ). On
the other hand, if modeler j chooses Option (ii), in-sample data mining, then he is rewarded
based on p(Y |X, S, M̃j ). In order to determine the optimal choice of the modeler we now
compare the two marginal likelihood functions. The marginal likelihood associated with
Option (i) is given in (14). The marginal likelihood function associated with Option (ii)
takes the form
                                                                                   
                             −n/2           −1/2        1 0           0     −1
      p(Y |X, S, M̃j ) = (2π)       |1/κ + 1|      exp − [Y (I − Zj (Zj Zj ) Zj )Y ] ,       (24)
                                                        2

where Y 0 (I − Zj (Zj0 Zj )−1 Zj )Y is the sum of squared residuals (SSR) for the unrestricted re-
gression (21). Thus, compared to (14), data-mining has raised the exponential term because
the in-sample fit of the model is improved by eliminating the restriction θ = βj . Moreover,
the data-mining procedure replaced the model-specific penalty term |X̃j0 X̃j /λ2 +1|−1/2 in (14)
by |1/κ + 1|−1/2 . Thus, provided that

                                                     λ2
                                            κ≥              ,                                (25)
                                                   X̃j0 X̃j

we obtain
                                p(Y |X, X, M̃j ) ≥ p(Y |X, X, Mj ).                          (26)

For κ = 1 condition (25) requires that the prior density in model Mj is more diffuse than
the likelihood function, which is a very mild restriction. We conclude that access to the full
sample creates an incentive for data-based modifications of the original model Mj because,
according to (17),
                                                                   
                        ΠN H p(Y |X, X, M̃j ) ≥ ΠN H p(Y |X, X, Mj ) .                       (27)

The modeler chooses Option (ii) and the reported posterior for θ is p̃j (θ|Y, X, S) = p(θ|Y, X, X, M̃j )
given in (23).
This Version: October 14, 2013                                                                         15


Holdout Mechanism. Here the modeler has no information about the holdout sample
Yp . The subjective beliefs of modeler j about θ̂pm are summarized by the posterior density
p(θ̂pm |Yr , X, S, Mj ). If the modeler chooses Option (i), then his expected payoff is given by
                                                                      
                                                      
                       E ΠH p(θ̂pm |Yr , X, S, Mj ) Yr , X, S, Mj                            (28)
                             Z
                         =      ln[p(θ̂pm |Yr , X, S, Mj )]p(θ̂pm |Yr , X, S, Mj )dθ̂pm .

If, one the other hand, the modeler engages in in-sample data mining and chooses Option (ii),
then the expected payoff is:
                                                                  
                                                 
                  E ΠH p(θ̂pm |Yr , X, S, M̃j ) Yr , X, S, Mj                                        (29)
                       Z
                   =       ln[p(θ̂pm |Yr , X, S, M̃j )]p(θ̂pm |Yr , X, S, Mj )dθ̂pm .

Note that the payoff is a function of the predictive density associated with the data-mined
model M̃j , whereas the expectation is taken using the modeler’s subjective beliefs which are
based on the original model Mj .

    According to a result that dates back at least to Winkler (1969), the compensation scheme
based on the log predictive density induces the modeler to reveal his subjective beliefs. To
see why, notice that Jensen’s inequality implies that
        "                          #                        !           Z                              
          p(θ̂pm |Yr , X, S, M̃j )
Z
     ln                              p(θ̂pm |Yr , X, S, Mj ) dθ̂pm ≤ ln    p(θ̂pm |Yr , X, S, M̃j )dθ̂pm = 0.
          p(θ̂pm |Yr , X, S, Mj )

Thus, the expected payoff from reporting the results from the Bayesian analysis of model
Mj exceeds the expected payoff from data mining and the modeler chooses Option (i) under
the holdout mechanism.

    So far, we have provided a qualitative characterization of the behavior of the two model-
ers. The policy maker, in our environment, can now minimize his prediction risk by choosing
between the no-holdout and the holdout mechanism. With regard to the holdout mechanism
he has to determine the optimal size and composition (in terms of observations from the
treatment and control group) of the holdout sample. The next section provides a numerical
illustration.
This Version: October 14, 2013                                                                          16


5         Numerical Illustration

This section provides a numerical illustration in which we compare risks under the holdout
and the no-holdout mechanism. For the holdout mechanism we consider various sample
splitting schemes that differ with respect to the relative sized and composition of the holdout
sample. The simulation design is presented in Section 5.1 and the numerical results are
discussed in Section 5.2.



5.1         Policy Experiment, Loss Function, and Parameterization

The policy maker is assumed to have conducted an experiment with n = 1, 000 observations,
500 from a randomly selected treatment group that received the subsidy, s = s̄ = 2, and
500 are from a control group that did not receive the subsidy, s = 0. We reparameterize the
prior variance such that λ = λ̃n. The implication of this reparameterization is that all the
statistics that we compute subsequently have a well-defined limit as the sample size n −→ ∞.
Thus, the exact sample size n, used in the simulations is not crucial. Each individual i has
two observable characteristics, xi,1 and xi,2 . Let xi = [xi,1 , xi,2 ]0 . We assume that
                                                                    
                                                         2 0.4
                           xi ∼ iidN (0, Γ), Γ =                    .                               (30)
                                                        0.4 2

Thus, the correlation between the two characteristics is 0.2. These assumptions complete
the specification of p(X, S) = p(X)p(S).

        The policy maker assigns probabilities π1,0 = π2,0 = 1/2 to the two models M1 and M2 .
We set the precision of the prior densities for θ in models M1 and M2 to λ̃2 = 1. This
choice of λ̃ implies that in a regression of Y on Xj the likelihood function is about twice as
informative as the prior.8 From the policy maker’s perspective the distribution of the data
takes the form
                                          1                1
                              p(Y, X, S) = p(Y, X, S|M1 ) + p(Y, X, S|M2 ),                           (31)
                                          2                2
    8
        Omitting the regressor S, the Hessian (multiplied by -1) of the log likelihood function is given by
Xj0 Xj    ≈ 2n and the Hessian (multiplied by -1) of the log prior density is nλ̃2 = n.
This Version: October 14, 2013                                                                  17


where                                          Z
                   p(Y, X, S|Mj ) = p(X)p(S)           p(Y |θ, X, S, Mj )p(θ|Mj )dθ.

The unconditional probability, integrating out the data under p(Y, X, S), that the highest
posterior probability model corresponds to the “true” model is
                       Z
                   π1,0 I{π1,n ≥π2,n } p(Y, X, S|M1 )d(Y, X, S)                               (32)
                            Z
                     + π2,0 I{π1,n <π2,n } p(Y, X, S|M2 )d(Y, X, S) = 0.68,

where the posterior model probabilities πj,n are functions of (Y, X, S) and I{x≥a} is the
indicator function that is equal to one if x ≥ a and is equal to zero otherwise. Thus, as in
real-life applications, there is substantial model uncertainty in our simulation design.

   The policy maker contemplates raising the subsidy from s̄ = 2, the level in the experi-
ment, to s∗ = 4. To assess that new policy, the policy maker considers the prediction of the
effect of subsidy level s∗ on an individual with given characteristics x∗1 and x∗2 . The prediction
is evaluated under a quadratic loss function and we will focus on the difference ∆(ŷ), defined
in (11), between the risk associated with the Bayes prediction and the prediction that the
policy maker is able to implement based on the information provided by the modelers.

   To make the subsequent exposition more transparent, we take the following short cut.
Throughout the analysis we replace model averaging by model selection, restricting the model
weights to be zero or one. This leads to the following post-model-selection Bayes predictor
                                 
                                  (x∗ + s∗ )θ̂∗ if π ≥ π
                              ∗        1       1     1,n    2,n
                            ŷ =                                ,                       (33)
                                  (x∗ + s∗ )θ̂∗ otherwise
                                         2         2

where θ̂j∗ denotes the (full-sample) posterior mean of θ under model Mj , defined in (13).
Likewise, the policy maker computes a post-model-selection predictor based on the results
elicited from the two modelers:
                                   
                                    (x∗ + s∗ )θ̂ if π̃ ≥ π̃
                                       1         1     1,n   2,n
                              ŷ =                               .                            (34)
                                    (x∗ + s∗ )θ̂ otherwise
                                       2         2

θ̂j is the posterior mean associated with the reported density p̃j (θ|Y, X, S):
                               
                                θ̂∗ if modeler chooses Option (i)
                                   j
                         θ̂j =                                        ,
                                θ̃ if modeler chooses Option (ii)
                                   j
This Version: October 14, 2013                                                                          18


                     Table 1: Composition of Estimation Sample Yr , n = 1, 000

                                           τ = τmin                 τ = 0.5
                                      Control Treatment Control Treatment
                            r = 0.2    200             0      100         100
                            r = 0.5    500             0      250         250
                            r = 0.8    500            300     400         400
                            r = 1.0    500            500     500         500



where θ̃j was defined in (23). We set
                                               √                  √
                                       x∗1 =       2 and x∗2 = 0.2 2,                                 (35)

i.e., we are setting x∗1 equal to its standard deviation and x∗2 equal to its expected value
                     √
conditional on x∗1 = 2. These choices correspond to the first column of the Cholesky factor
of Γ. Note that x∗1 6= x∗2 generates an automatic penalty for selecting a model that differs
from the highest posterior probability model.

       The policy maker can choose the size and composition of regression and holdout samples.
We characterize the regression sample Yr in terms of r ∈ (0, 1], the fraction of the outcome
data, and τ , the fraction of observations from the treatment group.9 We restrict our attention
to two choices of τ : τ = 0.5 and τ = τmin (r), where nrτmin (r) is the smallest number of
observations from the treatment group that can be assigned to the regression sample. If
r = 0.2 then the regression sample consists of 200 observations (recall n = 1, 000). Since Y
contains 500 observations from the treatment group τmin (r) = 0. If r = 1 then τmin (r) is
equal to 0.5. Table 1 summarizes the composition of Yr for selected values of r and the two
choices of τ . By varying r and τ the policy maker can control the variability of the regressor
Sr in the regression sample.

       In the remainder of this section we analyze the size of integrated risk differentials ∆(ŷ)
under the no-holdout and the holdout mechanism. Recall that the integrated risk differential
   9
       Given the symmetry of our experimental design, it is immaterial whether τ is defined in terms of the
treatment or control group.
This Version: October 14, 2013                                                                      19


is obtained by averaging over the data (Y, X, S) under the marginal distribution p(Y, X, S)
defined in (31). For expositional purposes, we also report results obtained by averaging
conditional on a particular value of θ. Under the holdout mechanism we can vary the size
r of the regression sample and its composition τ . To understand the shape of the risk
differential as a function of r and τ we also examine expected frequencies of choosing the
highest posterior probability model.



5.2     Ranking of Mechanisms

Figure 1 depicts the risk differentials ∆(ŷ), defined in (11), under the no-holdout mechanism
(long dashed green lines) and under the holdout mechanism (solid blue and short dashed red
lines, respectively). In the left panel we use the prior distribution to average over all θ values
                                                                                            √
when computing risk differentials, whereas in the right panel we condition on θ = 3/( nλ̃).
This particular value of θ, which is large in the sense that it lies in the far right tail of the prior
distribution, amplifies the risk differentials. Two important results emerge from Figure 1.
First, the risk differentials are substantially larger under the no-holdout mechanism than
under the holdout mechanism. Second, under the holdout mechanism the risk differentials
have a U shape as a function of the the size of the estimation sample r. For large values
(in absolute terms) of θ, as in the case of the right panel of Figure 1, the U shape is very
pronounced whereas the profile is fairly flat for values of θ near zero (not shown in the
figure). The differentials are uniformly smaller if the modelers receive the minimum number
of observations from the treatment sample. For τ = τmin the minimum is obtained for
r = 0.5, whereas for τ = 0.5 the minimum is achieved at, approximately, r = 0.3.

   We begin by examining the large risk differentials under the no-holdout mechanism. The
discrepancy between the predictors ŷ and ŷ ∗ can arise from the policy maker not being able
to choose the highest posterior probability model based on the information that he receives
from the modelers and from discrepancies between the posterior mean estimator θ̂j∗ and
the estimator θ̃j associated with the data-mined model M̃j . It turns out that the latter
discrepancy is the main determinant of the risk differential.
This Version: October 14, 2013                                                                          20


           Figure 1: Risk Differentials under Holdout and No-Holdout Mechanisms
                                                                         √
                          Integrating Out θ              Cond. on θ = 3/( nλ̃)




Notes: As risk differentials we report ∆(ŷ) defined in (11). In the right panel we replace p(Y |X, S) by
p(Y |X, S, θ) when computing the risk differential. Solid blue and (short) dashed red lines depict outcomes
under the holdout mechanism, whereas (long) dashed green line depicts outcome under the no-holdout mech-
anism. Fraction of observations from treatment sample: τ = τmin is solid blue, τ = 0.5 is (short) dashed
red.


    Whenever competing models are a priori equally likely, the highest-posterior probability
model is the one that attains the highest marginal likelihood p(Y |X, S, Mj ), which was given
in (14). Because in our simulation the regressors X1 and X2 have equal variance and we are
using identical priors for θ, the penalty term |1 + X̃j0 X̃j /λ2 |−1/2 is approximately identical
for models M1 and M2 . Thus, the log marginal likelihood differential is determined by the
goodness-of-fit term. Abstracting from the effect of the prior distribution, the goodness-of-fit
is determined by the SSR of a (restricted, βj = θ) regression of Y on X̃j = Xj + S. Under
the no-holdout mechanism both modelers engage in data mining (Option (ii)) and report
p(Y |X, S, M̃j ) in (24). The penalty term is identical for the two models and the goodness-
of-fit term corresponds to the SSR associated with an (unrestricted) regression of Y on Xj
and S. It turns out that in our simulation design the model ranking based on the restricted
and unrestricted SSR is almost identical.

    The loss differentials under the no-holdout mechanism are by and large generated by the
This Version: October 14, 2013                                                                       21


Figure 2: Probability of Finding the Highest-Post.-Prob. Model under Holdout Mechanism
                                                                        √
                         Integrating Out θ              Cond. on θ = 3/( nλ̃)




Notes: Fraction of observations from treatment sample: τ = τmin is solid blue, τ = 0.5 is (short) dashed
red.


discrepancy between θ̂j∗ and θ̃j . Because the assignments to treatment and control groups
are independent of the characteristics X1 and X2

                                      θ̃j ≈ (S 0 S)−1 S 0 Y = θ̂pm .

Thus, the policy maker does not learn anything from engaging the two structural model-
ers, because the modelers, in essence, abandon the cross-coefficient restrictions implied by
their models. In our linear setting, the cost associated with ignoring the cross-coefficient
restrictions is increasing in the variability of the regressors Xj relative to the variability of S.
Given the binary nature of the treatment indicator, the latter is equal to s̄2 /4 = 1, whereas
the former is set equal to 2 in our simulation design. Overall, this leads to a loss differential
of about 9.5 (see Figure 1), which is substantially larger than the loss differential under the
holdout mechanism.

   Under the holdout mechanism ŷ = ŷ ∗ whenever the policy maker is able to deter-
mine the highest-posterior-probability model based on the limited information contained
in p(θ̂pm |Yr , X, S, Mj ). Thus, we will focus on the probability of the policy maker finding
This Version: October 14, 2013                                                                                             22


the highest-posterior-probability model, which is depicted in Figure 2. As a function of the
size r of the regression sample, this probability has an inverted U-shape, which mirrors the
U-shaped risk differentials in Figure 1. As before, in the left panel we average over θ when
simulating the trajectories (Y, X, S), whereas in the right panel we condition on θ being
                                                √                          √
equal to three prior standard deviations: θ = 3/ nλ̃. Conditional on θ = 3/ nλ̃, the prob-
ability that Mj is the highest posterior probability model if data have been generated from
Mj is approximately one. Thus, the right panel can also be interpreted as the probability of
selecting the “true” model using p(θ̂pm |Yr , X, S, Mj ).

       To understand the inverted U-shape, the following algebraic manipulations are instruc-
tive. Given the linear structure of our setup, the distribution of θ̂pm |(Yr , X, S) is normal.
Because X1 and X2 are the same variance and are uncorrelated with S the variance asso-
ciated with the posterior predictive distribution of θ̂pm |(Yr , X, S) is (in large samples) the
same for models M1 and M2 . Thus, differences across models in the predictive distribution
are due to differences in the posterior means of θ̂pm . Conditional on Mj the posterior mean
of θ̂pm is given by
                                                                                                             
                                                                                       Yr
                   E[θ̂pm |Y, X, S, Mj ] = (S 0 S)−1 S 0                                                     ,
                                                                               0
                                                                      X̃j,p (X̃j,r X̃j,r + λ̃2 )−1 X̃j,r
                                                                                                     0
                                                                                                         Yr

where S = [Sr0 , Sp0 ]0 . This formula highlights that the estimated model is used to predict the
missing observations Yp by

                                                                0
                           X̃j,p E[θ|Yr , X, S, Mj ] = X̃j,p (X̃j,r X̃j,r + λ̃2 )−1 X̃j,r
                                                                                      0
                                                                                          Yr .

The imputed observations together with Yr are then used to predict θ̂pm . Using the definition
of θ̂pm , we can write
                                2
    θ̂pm − E[θ̂pm |Y, X, S, Mj ]                                                                                          (36)
                               0
            Yp0 − Yr0 X̃j,r (X̃j,r X̃j,r + λ̃2 )−1 X̃j,p
                                                     0
                                                               Sp (S 0 S)−1 Sp0 Yp − X̃j,p (X̃j,r
                                                                                              0
                                                                                                  X̃j,r + λ̃2 )−1 X̃j,r
                                                                                                                    0
                                                                                                                         
       =                                                                                                                Yr ,

(36) needs to be compared to the goodness-of-fit term that appears in the definition of the
marginal likelihood in (14).10
  10
       Recall that we adopted the convention that all regressors have been demeaned. Thus, regardless of r
and τ , Sp 6= 0.
This Version: October 14, 2013                                                                 23


   Because the goal of the holdout mechanism is to discourage data mining, (36) contains no
information about the fit of the model on the regression sample Yr . The forecast errors for Yp
are projected on the space spanned by Sp , which leads to an additional loss of information.
If Yr is small, then the estimate of θ that is used to predict Yp is very different from the
full-sample estimate that underlies the calculation of the goodness-of-fit in (14). In other
words, the inverted U-shape in Figure 2 is obtained because for small values of r the selection
criterion suffers from imprecise estimates of θ. Large values of r, on the other hand, yield
short holdout samples which make it more difficult to measure the predictive performance
of M1 versus M2 . The composition of the regression sample, which is controlled by τ , affects
the variability of the X̃j,r , X̃j,p , and Sp . For τ = τmin the probability of selecting the best
model peaks for r = 0.5 and almost reaches about 0.65 if θ is integrated out. For τ = 0.5
the probability of selecting the highest-posterior-probability model is less than for τ = τmin .
                         √
Conditioning on θ = 3/ nλ̃, the effect of the composition of the regression sample is more
pronounced. For τ = τmin the probability peaks at r = 0.5 and almost reaches one. For
τ = 0.5 the probability peaks at r = 0.3 but only reaches about 0.85. In sum, we conclude
that in our environment the holdout mechanism dominates the no-holdout mechanism and
it is best for the policy maker to set r = 0.5 and τ = τmin , that is, to provide the modeler
with the control (or treatment) sample only.

   The exact magnitude of the loss differentials is, of course, sensitive to the parameteri-
zation of the experiment. Moreover, in actual applications the structural models are much
more complicated than the simple linear regressions considered in this paper. Nonetheless,
we believe that our setup captures the essence of the problem. The relative variability
of Xj and S captures the information content in the cross-equation restrictions, which in
practice could be large or small. In our illustration, the posterior variance of θ under the
restricted (βj = θ) regression is twice as large as under the unrestricted regression. The
correlation between X1 and X2 controls the similarity of the two structural models. The
higher the correlation, the more similar the models, and the lower the stakes in determining
the highest-posterior-probability model, because both models will deliver very similar pre-
dictions. If both modelers engage in data mining, then the estimates of the treatment effect
given the observed treatment level s̄ are identical across modelers and identical to the simple
This Version: October 14, 2013                                                             24


difference-in-means estimator that the policy maker is able to compute himself. In this sense,
data mining makes the two structural models more similar. In more realistic settings the
overall fit of the two data-mined models would probably also become more similar. In our
stylized framework the overall fit remains different because we impose that the two modelers
use different regressors.



6       Conclusion

We developed a principal-agent framework that allows us to characterize potential costs of
data mining and potential benefits of holdout samples designed to discourage data mining.
In our environment the full Bayesian posterior mean prediction is first-best. However, the
tasks of decision making and model estimation is divided among a policy maker and a set
of modelers. The policy maker would like to implement the first-best Bayesian decision. To
that end, it is assumed that the modelers are rewarded based on the fit of the models that
they provide. This compensation scheme creates an incentive for the modelers to engage in
data-mining and to overstate the fit of their models. In our numerical illustration we find
that the policy maker minimizes risk by withholding 50% of the sample from the modelers
and only makes available observations either from the control group or the treatment group.

      Holdout samples have not, to our knowledge, been used by actual policy makers as a
tool for model selection. Indeed, in the few examples based on randomized controlled trials
(RCT), the use of a holdout sample has been initiated by the researchers themselves.11 In
those cases, having access to data from both the treatment and control groups, researchers
have chosen holdout samples comprised of observations solely from one or the other group
rather than observations from a mixture of both groups. This choice is consistent with
the findings from our numerical illustration. For our results to apply, however, it must be
assumed that those researchers acted exactly as the modelers in our setting, that is, as if
they did not have access to the holdout sample during the estimation of their models.
 11
      In some cases, the RCT is itself conducted by the researcher.
This Version: October 14, 2013                                                             25


   Although our results are based on a numerical illustration, it is our speculation that they
would hold more generally, at least in the RCT setting. If that is the case, then we would
also argue that the use of a holdout sample given data from an RCT (a growing empirical
methodology) should be standard practice. We believe that if this practice were established
profession-wide, researchers would maintain the necessary distinction between the estimation
sample and the holdout sample.



References
Bernardo, J., and A. Smith (1994): Bayesian Theory. John Wiley & Sons New York.

Duflo, E., R. Hanna, and S. Ryan (2011): “Incentives Work: Getting Teachers to Come
  to School,” American Economic Review, forthcoming.

Ichimura, H., and C. Taber (2000): “Direct Estimation of Policy Impacts,” NBER
  Technical Working Paper, 254.

Lamont, O. (2002): “Macroeconomic Forecasts and Microeconomic Forecasters,” Journal
  of Economic Behavior & Organization, 48, 265–280.

Laster, D., P. Bennet, and I. S. Geoum (1999): “Rational Bias in Macroeconomic
  Forecasts?,” Quarterly Journal of Economics, 114, 293–318.

Leamer, E. (1978): Specification Searches – Ad Hoc Inference with Nonexperimental Data.
  John Wiley & Sons New York.

Lo, A., and C. MacKinlay (1990): “Data-Snooping Biases in Tests of Financial Asset
  Pricing Models,” Review of Financial Studies, 3(3), 431.467.

Mosier, C. I. (1951): “Problems and Designs of Cross-Validation,” Educational and Psy-
  chological Measurement, 11, 5–11.

Sandroni, A. (2003): “The Reproducible Properties of Correct Forecasts,” International
  Journal of Game Theory, 32, 151–159.
This Version: October 14, 2013                                                            26


Schorfheide, F., and K. Wolpin (2012): “On the Use of Holdout Samples for Model
  Selection,” American Economic Review: Papers and Proceedings, 102(3), 477–481.

Schwarz, G. (1978): “Estimating the Dimension of a Model,” Annals of Statistics, 6(2),
  461–464.

Stone, M. (1977): “An Asymptotic Equivalence of Choice of Model by Cross-validation
  and Akaike’s Criterion,” Journal of the Royal Statistical Society Series B, 39(1), 44–47.

Todd, P., and K. Wolpin (2006): “Assessing the Impact of a Child Subsidy Program in
  Mexico: Using a Social Experiment to Valdidate a Behavioral Model of Child Schooling
  and Fertility,” American Economic Review, 96(5), 1384–1417.

          (2008): “Ex Ante Evaluation of Social Programs,” Annales d’Economie et de
  Statistique, 91-92, 263–292.

White, H. (2000): “A Reality Check for Data Snooping,” Econometrica, 68(5), 1097–1126.

Winkler, R. (1969): “Scoring Rules and the Evaluation of Probability Assessors,” Journal
  of the American Statistical Association, 64(327), 1073–1078.

Wise, D. (1985): “Behavioral Model versus Experimentation: The Effects of Housing Sub-
  sidies on Rent,” in Methods of Operations Research 50, ed. by P. Brucker, and R. Pauly,
  pp. 441–489. Königstein: Verlag Anton Hain.
