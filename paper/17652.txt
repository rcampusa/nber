                                NBER WORKING PAPER SERIES




                                     COMPETING ON SPEED

                                          Emiliano Pagnotta
                                          Thomas Philippon

                                        Working Paper 17652
                                http://www.nber.org/papers/w17652


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                    December 2011




Both authors are at New York University, Stern School of Business. Philippon is also at NBER and
CEPR. We are particularly grateful to Joel Hasbrouck for his insights. We thank Thierry Foucault,
Yakov Amihud, Albert Menkveld, Pierre-Oliver Weill, Dimitri Vayanos, Ricardo Lagos, Lasse Pedersen
and seminar participant at HEC Paris, NYU Stern, Rochester U., and the SED 2011 conference. We
acknowledge the support of the Smith Richardson Foundation. The views expressed herein are those
of the authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2011 by Emiliano Pagnotta and Thomas Philippon. All rights reserved. Short sections of text, not
to exceed two paragraphs, may be quoted without explicit permission provided that full credit, including
© notice, is given to the source.
Competing on Speed
Emiliano Pagnotta and Thomas Philippon
NBER Working Paper No. 17652
December 2011, Revised December 2011
JEL No. G12,L13,L15

                                               ABSTRACT

Two forces have reshaped global securities markets in the last decade: Exchanges operate at much
faster speeds and the trading landscape has become more fragmented. In order to analyze the positive
and normative implications of these evolutions, we study a framework that captures (i) exchanges'
incentives to invest in faster trading technologies and (ii) investors' trading and participation decisions.
Our model predicts that regulation that protect prices will lead to fragmentation and faster trading
speed. Asset prices decrease when there is intermediation competition and are further depressed by
price protection. Endogenizing speed can also change the slope of asset demand curves. On normative
side, we find that for a given number of exchanges, faster trading is in general socially desirable. Similarly,
for a given trading speed, competition among exchange increases participation and welfare. However,
when speed is endogenous, competition between exchanges is not necessarily desirable. In particular,
speed can be inefficiently high. Our model sheds light on important features of the experience of European
and U.S. markets since the implementation of Reg. NMS, and provides some guidance for optimal
regulations.


Emiliano Pagnotta
New York University
Stern School of Business
44 West 4th Street, Suite 9-81
New York, NY 10012
emiliano.pagnotta@stern.nyu.edu

Thomas Philippon
New York University
Stern School of Business
44 West 4th Street, Suite 9-190
New York, NY 10012-1126
and NBER
tphilipp@stern.nyu.edu
      “In this high-tech stock market, Direct Edge and the other exchanges are sprinting
      for advantage. All the exchanges have pushed down their latencies [...] Almost
      each week, it seems, one exchange or another claims a new record [...] The
      exchanges have gone warp speed because traders have demanded it. Even main-

      stream banks and old-fashioned mutual funds have embraced the change”. The
      New York Times, January 1st 2011, The New Speed of Money, Reshaping Markets


The securities exchange industry has been been deeply transformed over the past decade.
In particular, the speed at which investors trade has increased a lot, and stock trading,
particularly in the U.S., have become significantly more fragmented. The consequences of

these transformations are the subject of heated debates in academic and policy circles. In
this paper we provide a framework for the joint analysis of trading speed, trading regulations,
and market fragmentation.
   Let us consider trading speed first. Major market centers around the world have made

costly investments in fast computerized trading platforms to reduce communication latencies.
This process has gone beyond stock exchanges to include derivatives and currencies, and it
has accelerated during the second half of the 2000s. Figure 1 illustrate this trend. It displays
the reduction in execution times of small orders on NYSE and NASDAQ. What is driving
this race for speed? In the human-driven trading era, higher execution speeds helped reduce

moral hazard with floor brokers, but this is less relevant in the current environment. In
this paper, we emphasize investor heterogeneity and vertical differentiation. We argue that
market centers seeking to attract order flows have an incentive to relax price competition by
differentiating along the speed dimension.

   The second major feature of the new trading landscape is fragmentation, illustrated by
Figure 2 for Europe and the U.S. The top panel (Europe) shows that traditional markets

                                               2
                      Figure 1: Speed of Executing small orders (seconds)




Source: Angel, Harris and Spatt (2010)

such as the London Stock Exchange have lost market share to faster entrants such as Chi-X.
The bottom panel (US) shows an even more dramatic evolution: the fraction of NYSE-listed
stocks traded at the NYSE has decreased from 80% in 2004 to just over 20% in 2009. Most

of the lost trading volume has been captured by new entrants (e.g. Direct Edge and BATS).
    Market regulators were not passive witnesses of this process. In the U.S., policy makers
have encouraged fragmentation to reduce the market power of exchanges and other interme-
diaries (prominently with Reg. NMS, which we discuss below).1 The effects are tangible:

big cap stocks that previously traded in one or two exchanges can now be traded in near fifty
venues (including internalization. pools and dark venues). But, does fragmentation achieve
the desired goal? Should it be fostered in the first place? We argue that the answer to
this question depends on the nature of innovations in intermediation services (e.g., execution
delays). This dimension, however, is largely absent from the fragmentation literature.

   1
     For example, the SEC stated in 2010: “mandating the consolidation of order flow in a single venue would
create a monopoly and thereby lose the important benefits of competition among markets. The benefits of
such competition include incentives for trading centers to create new products, provide high quality trading
services that meet the needs of investors, and keep trading fees low.”

                                                     3
                                            Figure 2: Market Fragmentation




Source: Menkveld (2011)

   Analyzing these issues is difficult because it requires modeling four separate components:

(i) why and how investors value trading speed; (ii) how differences in speed affect competition
among trading venues and the affiliation choices of investors; (iii) how trading regulations
affect (i) and (ii); and (iv) how these choices affect investment in speed and equilibrium
fragmentation. These requirements explain our modeling choices and the structure of our

paper, which is depicted in Figure 3.

                           Figure 3: Timing and Structure of the Model
                                                                                      t                          n
                                   n                    e                        en                      a tio
                              io                 Ga
                                                    m                      stm                       li t
                                                                                                                            in
                                                                                                                                 g
                          la t                                      nv
                                                                       e
                                                                                              Affi                     ad
                       g u                 try                  I                                                    Tr
                     Re                 En                ee
                                                            d
                                                                               es
                                                                                          &
                                                        Sp                   Fe
                 I                     II               III                  IV                      0 to ∞                          time


                                                                      4
    Our first task is thus to provide explicit micro-foundations for how investors value speed
in financial markets. We consider a dynamic infinite horizon model where heterogenous
investors buy and a sell a single security. Ex-post gains from trade arise from shocks to
the marginal utility (or marginal cost) of holding the asset.2 High-marginal-utility investors

are natural buyers, while low-marginal-utility investors are natural sellers of the asset. In
this model, speed allows investors to realize a larger fraction of the ex-post gains from trade
(Prop 1).
    Our second task is to analyze the allocation of investors across trading venues. To do so
we model ex-ante heterogeneity among venues and investors. Investors differ (ex-ante) by

the volatility of their private value process, i.e. by how much their marginal utility can be
expected to fluctuate once they start trading. Since gains from trade are larger for investors
with high expected volatility, these investors attach a higher value to speed. Venues differ
in their trading speeds and compete in prices. We characterize the equilibrium with one

venue (monopoly), and the equilibrium with two venues and different speeds (differentiated
duopoly). Competition leads to lower fees and higher participation by investors. Faster
venues charge a higher price and attract speed-sensitive investors. The first contribution of
our paper is to characterize the pricing decisions and equilibrium profits of trading venues

and the participation and affiliation choices of investors (Prop 2).
    Our third task is to analyze the impact of trading regulations. In the U.S., the trade-
through rule provided by Rule 611 of Regulation NMS essentially requires that any venue
execute its trades at the National Best Bid and Offer, thereby consolidating prices from a

   2
     As is well understood in the literature, these shocks can capture liquidity demand (i.e., a need for
cash), financing costs, hedging demand, or any other personal use of the asset, including specific arbitrage
opportunities. See Duffie et al. (2007) for a discussion. The important point is that these shocks affect the
private value of the asset, not its common value. Therefore they generate gains from trade. These gains
from trade are a required building block in any trading model.

                                                     5
scattered trading map. We propose a stylized analysis of this regulation by considering two
polar cases. In one case, which we refer to as “free segmentation” any venue can refuse to
execute the trades of investors from the other venue. The venues are effectively segmented,
and trades occur at different prices. The other case corresponds to “price protection”. We

find that “price protection” acts as a subsidy for the relatively slow market. At the trading
stage, investors in the slow venue enjoy being able to trade with investors from the fast venue.
Anticipating this, they are more willing to join the slow venue under “price protection” than
under “free segmentation”. An important contribution of our paper is to analyze how trading
regulations affect ex-ante competition among exchanges (Prop 2 and 3).

   When we endogenize the speed and the market structure, we find that price protection
encourages entry. Without price protection, when venues form prices separately, there is a
greater tendency towards consolidation, even in the absence of liquidity externalities (e.g.
Pagano (1989)). In addition we show that fragmentation leads to more investment in trad-

ing technologies and faster trading speed. Putting these various pieces together, our model
provides a consistent interpretation of the U.S. experience in recent years: after the imple-
mentation of Reg NMS, new market centers proliferated and trading speed increased rapidly
(Prop 3, 4 and 5).

   Modeling entry and speed choices can fundamentally change the prediction of the model
regarding assets prices. With endogenous speed, we show that asset prices increase with
asset supply. In addition, competition among exchanges tends to lower asset prices (Prop 6
and 7).
   Finally, we analyze the welfare implications of entry, speed and affiliation choices. As

a benchmark we characterize the efficient outcome under the constraint that venues break
even. Somewhat surprisingly, we find that, even in the absence of liquidity externalities and


                                               6
fixed entry costs, a planner would choose to operate only one venue. Our model then allows
us to ask several question: When does competition increase welfare? When does investment
in trading speed increase welfare?
   We find that the market outcome is generally inefficient. In the monopoly case, partic-

ipation is always too low and allowing for endogenous speed always improves welfare. The
resulting speed might be higher or lower than the one chosen by the planner. In the frictional
finance literature, it is often stated that higher asset prices are socially desirable. By analyz-
ing explicitly the welfare impact of trading in secondary markets, we highlight that observed
prices are not a sufficient statistic for welfare. For instance, prices can be inefficiently high

due to limited investor participation.
   In the duopoly case, both entry and speed can be inefficient. On the entry side, there is
the usual trade-off between price competition and product diversity on the one hand, and
business stealing on the other. Excessive entry is possible when entry costs are relatively

high. Regarding speed choices, we find a fairly clear and intuitive condition: allowing venues
to compete on speed improves welfare if the default speed is relatively low, but decreases
welfare once the default speed reaches a certain threshold.
   Regarding price protection, we find that it always has a first order negative impact on

prices, but its impact on welfare depends crucially on entry. When protection increases
entry, it has a first order positive impact on welfare. When it does not increase entry, it has
a small negative impact on welfare.
   Discussion of the literature.
   Theory analyses of fragmentation include Mendelson (1987), Pagano (1989), and Madhavan

(1995). Biais (1993), Glosten (1994), Hendershott and Mendelson (2000) and Parlour and Seppi
(2003) study inter market competition under different trading rules. Other dimensions of


                                                7
competition between exchanges have been addressed. Santos and Scheinkman (2001) study
competition in margin requirements, while Foucault and Parlour (2004) study competition
in listing fees. Recent empirical analyses include Amihud et al. (2003) and O’Hara and Ye
(2011). Investors’ participation and welfare has recently been study by Huang and Wang

(2010).
   Amihud and Mendelson (1986) have pioneered the analysis of the effect of liquidity on
asset prices. The literature of trading with search frictions was fostered by Duffie et al.
(2005). Differently from models in the Duffie et al. (2005) tradition, higher asset price is
not necessarily socially desirable. Our trading model is closest to Lagos and Rocheteau

(2009). Weill (2007) used a related framework to analyze exchanges. Vayanos and Wang
(2007) study concentration of liquidity across assets. Our model contributes to this litera-
ture studying trading across strategic venues, thus endogenizing the trading environment.
Jarrow and Protter (2011) argue that, unlike standard arbitrageurs, high frequency traders

may exacerbate mispricing.
   Gabszewicz and Thisse (1979), Shaked and Sutton (1982) and Shaked and Sutton (1983)
have developed the theory of vertically differentiated oligopolies. Differently from these
papers, we endogenize the value of “quality” (trading delays) through a micro-founded trading

game. The result that, through endogenous speed, equilibrium asset prices can increase
with the supply of assets is, to the best of our knowledge, new to the literature. The
economic intuition is related to Acemoglu (1998) in the context of labor economics and
directed technological change.
   The rest of the paper is organized as follows. Section 1 presents our benchmark trading

model and we derive the value functions of investors. Section 2 analyzes competition among
trading venues with and without price protection. Section 3 analyzes trading venues’ entry


                                             8
decisions and investment in speed. Section 4 focuses on equilibrium asset prices. Section 5
characterizes the solutions to the Planner’s problem and studies the efficiency of the market
equilibrium. Section 6 contains a numerical analysis of the model, and Section 7 concludes.



1     Trading Model

We present our trading model in the case of one market. This section provides explicit micro-

foundations for how investors value speed in financial markets. The key result of this section
is a characterization of value functions as function of speed and investors characteristics.


1.1    Preferences and Technology

We start by describing the main building blocks of our model: investors’ preferences and
trading technology. Preferences need to incorporate heterogeneity to create gains from trade

as well as interesting participation decisions among exchanges. The trading technology must
capture the role of speed in financial markets.
    Time is continuous and we fix a probability space. The model has a continuum of
heterogeneous investors, two goods and one asset. The measure of investors is normalized
to one and their preferences are quasi-linear. The numeraire good (cash) has a constant

marginal utility normalized to one, and can be freely invested at the constant rate of return
r. The asset is in fixed supply ā, which is also the endowment of each investor. One unit of
asset pays a constant dividend equal to 1 of a perishable non-tradable good. The flow utility
that an investor derives from holding at units of the asset at time t is



                                   uσ,ǫt (at ) = (µ + σǫt ) at ,


                                                9
where (σ, ǫt ) denotes the type of the investor. This type is defined by a fixed component σ and
a time varying (random) component ǫt . The fixed component σ ∈ [0, σ̄) is known at time 0
and distributed according to the cumulative distribution G. The type ǫt ∈ [−1, +1] changes
randomly over time. The times when a change can occur are distributed exponentially

with parameter γ.3 Conditional on a change, ǫ is iid with mean zero and probabilities
φ (+1) = φ (−1) = 21 . Finally, we restrict asset holdings to at ∈ {0, 1}.
    The focus of our paper is on the trading technology for the asset. For clarity, we describe
here the case where all investors trade at the same speed (later we will endogenize speed
choices and consider markets with different speeds). The market where investors trade the

asset is characterized by the constant contact rate ρ. Conditional on being in contact, the
market is walrasian and clears at the price pt .4 Any investor in contact with the market at
time t can trade at the price pt . Investors who are not in contact simply keep their holdings
constant.

    Our assumptions about technology and preferences imply that the value function of a
class-σ investor with current valuation ǫ (t) and current asset holdings a at time t is

                            ˆ       T                                                                         
                                         −r(s−t)                  −r(T −t)
        Vσ,ǫt (a, t) = Et                e         uσ,ǫs (a)ds + e           (Vσ,ǫT (aT , τ ) − pT (aT − a))       (1)
                                 t



where the realization of the random type at time s > t is ǫ (s) and T denotes the next
time the investor makes contact with the market. Expectations are defined over the random
   3
       As explained in the introduction, the ǫ shocks capture time varying liquidity demand, financing costs,
hedging demand, or specific investment opportunities. For instance, an corporate investor might need to
sell its financial assets to finance a real investment. A household might do the same for the purchase of a
durable good or a house. The parameter σ then simply measures the size of these shocks. If we think of
delegated management, the effective shock is the sum of the shocks affecting all the investors in the fund.
In this example, heterogeneity comes from the fact that different funds cater to different clienteles.
     4
       It would be straightforward to add bargaining with market makers and bid-ask spreads, but this would
not bring new insights compared to Duffie et al. (2005) and Lagos and Rocheteau (2009). For simplicity we
therefore assume competitive trading conditional on being in contact with the market.

                                                             10
variables T and ǫ (s) and are conditional on the current type ǫ(t) and the speed of the market
ρ.


1.2      Trading Equilibrium

We will show that the asset price remains constant during the trading game. The value
functions are thus time-independent, and equation (1) becomes simply

                               X                                                                      
     rVσǫ (a) = uσ,ǫ (a) + γ        φǫ′ [Vσǫ′ (a) − Vσǫ (a)] + ρ Vσǫ (a∗σ,ǫ ) − Vσǫ (a) − p(a∗σ,ǫ − a)     (2)
                               ǫ′


Following Lagos and Rocheteau (2009), we define the adjusted holding utility as

                                            (r + ρ) uσ,ǫ (a) + γE [uσ,ǫ′ (a) | ǫ]
                           ū (a; σ, ǫ) ≡
                                                         r+ρ+γ

Lagos and Rocheteau (2009) (Lemma 1) show that ū is the object that investors seek to
maximize when deciding how much to trade. Note that since ǫ is i.i.d. with mean 0, we have
for any a and any ǫ


                                             E [uσ,ǫ′ (a) | ǫ] = µa

This expected utility over ǫ′ does not depend on σ or ǫ. This implies that ū (a; σ, ǫ) =
            
         r+ρ
 µ + σǫ r+ρ+γ a.
     Recall that G was the ex-ante distribution of permanent types. Let G̃ (σ) be the number

of traders of type less than σ in the market. If all potential investors join the market we
simply have G̃ = G. In the generic case, however, we have G̃ ≤ G since some investors do
not participate. Indeed, we shall see that in the multiple venues model, the distribution G̃


                                                       11
is typically discontinuous. We therefore present our results without putting any restriction
on the function G̃.


Lemma 1. An equilibrium with constant price p is characterized by the demand functions


                            a∗ (p; σ, ǫ) = arg max ū (a; σ, ǫ) − rp.                     (3)
                                                   a



and the market clearing condition

                            ˆ X
                                     φǫ a∗ (p; σ, ǫ) dG̃ (σ) = āG̃ (σ̄) ,                (4)
                             σ   ǫ


Proof. See Proposition 1 in Lagos and Rocheteau (2009). The proposition only needs to be

adapted to take into account heterogeneity in σ.

   There is a clear symmetry around ā = 1/2 since half the investors are of trading type
ǫ = +1 and half are of trading type ǫ = −1. It is therefore sufficient to analyze a market
where ā ≤ 1/2. In this case, supply is short and low types always sell their entire holdings
when they contact the market. Moreover, there is a marginal type σ̂ who is indifferent

between buying and not buying when ǫ = 1. This marginal type is defined by

                                                        
                                                   γ
                             σ̂ (p, ρ) ≡       1+            (rp − µ) .                   (5)
                                                  r+ρ

The demand functions are therefore a∗ = 0 when ǫ = −1 or when σ < σ̂; and a∗ = 1 when
ǫ = +1 and σ ≥ σ̂.
   We can use these demand curves to rewrite the market clearing condition. All negative

trading types ǫ = −1 want to hold a = 0 and they represent is half of the traders. The


                                                 12
trading types ǫ = +1 want to hold one unit if σ > σ̂ and nothing if σ < σ̂. The demand for
the asset is 1/2 × (G̃ (σ̄) − G̃ (σ̂)). The ex-ante supply of the asset (per capita) is ā. The
market clearing condition is therefore

                                    G̃ (σ̄) − G̃ (σ̂)
                                                      = āG̃ (σ̄) .                           (6)
                                            2

Notice that the asset holdings of types σ < σ̂ are non-stationary since they never purchase

the asset. A type σ < σ̂ sells its holding ā on the first contact with the market and never holds
the asset again. Over time, the assets move from the low-σ types to the high-σ types, and
then keep circulating among high types in response to ǫ-shocks and trading opportunities. It
is easy to see that the price remains constant along the transition path. The gross supply of
                                                                                          
assets is always ρāG̃ (σ̄). The gross demand from high types is always ρ G̃ (σ̄) − G̃ (σ̂) /2.

From (6), the market always clears.
   We can now characterize the steady state distribution among types σ > σ̂. Let ασ,ǫ (a) be
the share of class-σ investors with trading type ǫ currently holding a units of asset. Consider
first a type (ǫ = +1, a = 1). This type is satisfied with its current holding and does not trade

even if it contacts the market. Outflows come only from changes of ǫ from +1 to -1, which
happens with intensity γ/2. There are two sources of inflows: types (ǫ = −1, a = 1) who
switch to ǫ = 1, and types (ǫ = +1, a = 0) who purchase one unit when they contact the
market. In steady state, outflows must equal inflows:

                              γ           γ
                                ασ,+ (1) = ασ,− (1) + ρασ,+ (0) .                             (7)
                              2           2




                                                 13
Dynamics for types (ǫ = −1, a = 0) are similar:

                               γ                       γ
                                 ασ,− (0) = ρασ,− (1) + ασ,+ (0)                                            (8)
                               2                       2

Finally for types (ǫ = +1, a = 0) and (ǫ = −1, a = 1) trade creates outflows so we have

                                γ               γ
                                   + ρ ασ,+ (0) =   ασ,− (0)                                                (9)
                                 2
                                γ               2
                                                  γ
                                   + ρ ασ,− (1) =   ασ,+ (1)                                               (10)
                                 2                2

Finally, the shares must add up to one, therefore

                                           X
                                                     ασ,ǫ (a) = 1                                          (11)
                                         ǫ=±,a=0,1


We summarize our results in the following Lemma

Lemma 2. The trading equilibrium is characterized by the price p and marginal type σ̂
defined in (5) and (6). The transition dynamics are as follows. The price remains constant

while asset holdings shift from low σ-types to high σ-types. Low types (σ < σ̂) sell their
initial holdings ā and never purchase the asset again. High types σ ≥ σ̂ buy when ǫ = 1 and
sell when ǫ = −1. The distribution of holdings among high σ-types converges to the steady
                                                                                 1 2ρ+γ
state distribution of well-allocated assets ασ,+ (1) = ασ,− (0) =                4 γ+ρ
                                                                                        ,   and mis-allocated
                              1 γ
assetsασ,+ (0) = ασ,− (1) =   4 γ+ρ
                                    .   These allocation converge the Walrasian allocation when
ρ → ∞.

Proof. To see the steady state allocations, add (7) and (10) to get ασ,− (1) = ασ,+ (0). This
                                                                                   
                                                                                  ρ
immediately implies ασ,− (0) = ασ,+ (1). Using (7), we obtain ασ,+ (1) = 1 + 2 γ ασ,− (1).
                                                                    1 γ+2ρ                       1 γ
We can then solve for the shares of each typeασ,+ (1) =             4 γ+ρ
                                                                           ;   and ασ,+ (0) =    4 γ+ρ
                                                                                                       .

                                                     14
   Notice also that the market clearing condition among high types is simply ασ,+ (1) +
ασ,− (1) = 1/2.


1.3    Value Functions

Our goal is to analyze the provision of speed in financial markets. We therefore need to
estimate the value that investors attach to trading in each market. We do it in two steps.

We first compute the steady state value functions for investors who keep on trading. We
later compute the ex-ante values taking into account the transition dynamics.
   Consider the steady state value functions for any type σ > σ̂. They solve the following
system. For the types holding the assets, we have

                             γ
          rVσ,+ (1) = µ + σ +  [Vσ,− (1) − Vσ,+ (1)]                                  (12)
                             2
                             γ
          rVσ,− (1) = µ − σ + [Vσ,+ (1) − Vσ,− (1)] + ρ (p + Vσ,− (0) − Vσ,− (1))     (13)
                             2

For the types not holding the assets, we have

                             γ
                  rVσ,− (0) =  [Vσ,+ (0) − Vσ,− (0)]                                  (14)
                             2
                             γ
                  rVσ,+ (0) = [Vσ,− (0) − Vσ,+ (0)] + ρ (Vσ,+ (1) − Vσ,+ (0) − p)     (15)
                             2

Define H ≡ Vσ,+,1 − Vσ,+,0 and L ≡ Vσ,−,1 − Vσ,−,0 . Then, taking differences of the above
equations we get

                                        γ
                             rL = µ − σ + (H − L) + ρ (p − L)
                                        2
                                        γ
                            rH = µ + σ − (H − L) − ρ (H − p)
                                        2


                                                15
Note that the asset price p is pinned down by the marginal (minimum type in each market).
For now we keep it as a (market specific) parameter. We can then solve r (H − L) =
2σ − (γ + ρ) (H − L) and obtain the gains from trade for type σ in market ρ:

                                                   2σ
                                     H −L=             .
                                                 r+γ+ρ

Note that these gains from trade do not depend on the equilibrium price. Hence they do not

depend on the allocation of types to the market. They only depend on the market speed ρ
and on the individual type σ. Using the gains from trade H − L, we can reconstruct the
functions L and H and finally for the initial value functions. The no-trade outside option of
any investor is
                                                     µā
                                         Wout =          .                                 (16)
                                                      r

The following proposition characterizes the ex-ante value functions, taking into account the
transition dynamics leading up to the steady state allocations.


Proposition 1. The ex-ante value W for type σ of participating in a market with speed ρ
and price p is the sum of the value of ownership and the value of trading:

                                                sāσ̂    s
                       W (σ, σ̂, s) − Wout =          +    max (0; σ − σ̂) ,               (17)
                                                 r      2r

where effective speed s defined by

                                                  ρ
                                      s (ρ) ≡         ,                                    (18)
                                                r+γ+ρ

and the marginal type σ̂ (p, ρ), defined in (5), is increasing in p and decreasing in ρ.


                                                16
Proof. See Appendix.


                                                                                     µā+sāσ̂
    The intuition is that W is made of two parts. The value of ownership is             r
                                                                                               .   It is
independent of σ. It is the value that can be achieved by all types σ < σ̂ with the “sell-and-
                                    s
leave” strategy. The second part   2r
                                        max (0; σ − σ̂) is the value of trading repeatedly, and it
depends on the type σ. This part of the value function is super-modular in (s, σ).



2     Competition and Affiliation

In this section we analyze competition among a given set of trading venues, and the result-
ing allocation of investors across these venues. We characterize the pricing decisions and

equilibrium profits of trading venues and the affiliations choices of investors. Importantly,
we analyze how price protection in the trading game affects these equilibrium outcomes.
In other words, we analyze how trading regulations affect the ex-ante competition among
exchanges. In this section, we take the set of venues as given. In the next section we will

endogenize entry and speed.
    In all cases, we start with mass one of investors, and aggregate supply ā. G is the ex-ante
distribution of types. The participation decision of type σ is described by


                                    P : [0, σ̄] −→ {0, 1, 2} ,


where P (σ) = 0 means staying out, 1 means joining market 1, and 2 joining market 2.
Trading venues compete a la Bertrand. If an investor joins venue i, it pays a membership fee

qi and is then allowed to use the trading venue (staying out costs nothing, so formally q0 = 0
and W = Wout ). Recall that we denote by G̃i (.) the distribution of types who join market


                                                 17
i, so G̃i (σ̄) is the total number of investors who join market i. This is the key equilibrium
object. Let us know formally define an equilibrium of the affiliation game.

Definition 1. An equilibrium of the affiliation game is a set of participation decisions P by
investors, and pricing decisions q by trading venues such that:


   • Participation decisions are optimal: for all σ and all i, P (σ) = i implies W (σ, σ̂i , s) −
      qi ≥ W (σ, σ̂j , s) − qj for all j 6= i; reciprocally when W (σ, σ̂i , s) − qi > W (σ, σ̂j , s) − qj
      for all j 6= i then we must have P (σ) = i.

   • Venues maximize profits: qi = arg max qi G̃i (σ̄);

                                       P
   • The investor market clears:         i=0,1,2 G̃i   (σ) = G (σ) for all σ ∈ [0, σ̄];

   • Subsequent asset prices and marginal types satisfy (5) and (6).


In the remaining of this section, we consider several versions of the affiliation game: with
one or two venues, and with or without trading regulations.


2.1    One Speed

With one speed, the marginal trading type must be indifferent between joining the market

and not joining the market. So we must have W (σ̂, σ̂, s) − Wout = q and therefore

                                                       sāσ̂
                                               q=            .                                       (19)
                                                        r




                                                       18
All types below σ̂ are indifferent between joining and staying out. Let δ be the mass of
investors that join, sell and leave.5 Market clearing requires

                                                       
                                                  1
                                        δ=           − 1 (1 − G (σ̂))
                                                 2ā

This condition holds at an interior solution as long as δ < G (σ̂), or in other words as long
as
                                              G (σ̂)      1
                                                       >     −1
                                            1 − G (σ̂)   2ā

In the remaining of the paper, we assume that either ā is close enough to 1/2 or that there
is a sufficient mass of low type investors to ensure the existence of interior solutions.

     Total profits for the exchange are π = q (1 − G (σ̂) + δ) which we can write using market
clearing as
                                                     1 − G (σ̂)
                                              π=q               .
                                                        2ā

Notice that if ā = 1/2 we get δ = 0, the simplest case to analyze. When ā is less than 1/2,
we simply need to remember that δ investors sell and become inactive. The equilibrium is
depicted in the top panel of Figure 4.




     5
     There can also be a corner solution with full participation, characterized by the market clearing condition
    ⊺
G (σmin ) = 1 − 2ā. All investor pay the participation fee qmin , which is also the total profit of the trading
                   ⊺                                                      ⊺
venue. Then G (σmin    ) sell and drop out, while the remaining 1 − G (σmin ) trade in the market with a supply
                                                                       ā
per capita of 1/2. The participation condition is simply V̂ − q ≥ µ r . There is full participation as long as
q ≤ qmin = rs āσmin
                 ⊺
                     .

                                                      19
Consolidated Market (monopoly)

A consolidated market center with exogenous speed s behaves like a classic monopolist. We
index this market structure by m. Using (19), the program of the monopoly is

                                                   1 − G (σ̂)
                                           max q
                                             q        2ā

The FOC for profit maximization is6
                                       1 − G (σ̂m ) = g (σ̂m ) σ̂m                                  (20)

This is a standard result. The monopoly restricts participation to maximize its profits. Note

that the choice of σ̂m is independent of the speed in the market. The fee qm increases one
to one with s.


Fragmented Markets (Bertrand duopoly)

In the fragmented case, exchanges compete in fees a la Bertrand. In equilibrium, fees and
profits are both zero. All investors participate and the distribution of investors across trading

venues is immaterial. The solution is


                                             qBertrand = 0.


In the presence of fixed costs, this would not be an equilibrium. Without differentiation by
speed, there is a natural monopoly.




   6
   We can check concavity of π = σ (1 − G (σ)): π ′ = 1 − G − gσ and π” = −2g − σg ′ < 0 ⇔ 2g + σg ′ > 0.
Many distribution functions, e.g. uniform, satisfy this constraint over the relevant range.

                                                   20
Figure 4: Investors’ Market Affiliation Choice




                     21
2.2         Segmented Venues

Formally, suppose there are two venues, 1 and 2, with speeds ρ1 and ρ2 and participation
fees q1 and q2 . We define venue 2 as the fast market, so ρ2 > ρ1 . A critical issue is the

segmentation of trades and the possibility of having different prices. We consider two types
of regulations.

Definition 2. We say that there is segmentation if a venue refuses to execute trades coming
from investors of another venue. Otherwise, we say that there is price protection.7

     Under free segmentation, an investor joins a market and cannot trade with an investor in
the other market. The trading venues are effectively segmented and equilibrium asset prices
can be different. Under price protection, assets prices must be the same in both venues.
     Consider first the case where there is free segmentation. Prices can then be different

in the two venues because exchange 2 can refuse to execute the trade of an investor from
exchange 1. The key issue is to understand the affiliation choices of investors. We proceed
by backward induction. Investors anticipate that each market will be characterized by its
speed and its price, which together define the marginal trading type σ̂. Investors can then
estimate their value functions W defined in (17). The net value from joining market i = 1, 2

is W (σ, σ̂i , si ) − Wout − qi . These value functions are depicted in the middle panel of Figure
4.
     Let σ̂1 be the marginal type who is indifferent between joining market 1 and staying out.
It must satisfy equation (19), therefore we have

                                                        ās1 σ̂1
                                                 q1 =                                         (21)
                                                           r

     7
         This is our simple way to capture access and trade-through rules in SEC’s Reg. NMS

                                                      22
It is useful to keep in mind that the value functions are not super modular for low types.
In addition, we know that each market must attract a mass δ of types who join and sell
their assets. Because these types must be indifferent between joining and staying out, we
must have W (σ̂i , σ̂i , si ) − Wout − qi = 0 in both markets. Otherwise, all the low types would

strictly prefer one market to another. The above condition guarantees this for market 1. For
market 2, we must also have
                                                               ās2 σ̂2
                                                   q2 =                                                                      (22)
                                                                  r

Notice an important point here: σ̂2 is defined as the marginal trader in market 2, i.e., the
type who would be indifferent between trading repeatedly and dropping out after selling. It
is clear from Figure 4 (and we prove it below) that σ̂2 does not in fact join market 2. Rather,
σ̂2 joins market 1.
    With two markets, we must define a new marginal type, σ̂12 , who is indifferent between

joining market 1 and market 2. By definition, this type must be such that W (σ̂12 , σ̂2 , s2 ) −
                                                s1 āσ̂1       s1                          s2 āσ̂2       s2
q2 = W (σ̂12 , σ̂1 , s1 ) − q1 . This implies      r
                                                           +   2r
                                                                    (σ̂12 − σ̂1 ) − q1 =      r
                                                                                                      +   2r
                                                                                                               (σ̂12 − σ̂2 ) − q2 ,
and therefore using (21) and (22):

                                                           r q2 − q1
                                                σ̂12 =                                                                       (23)
                                                           ā s2 − s1

Note that σ̂1 < σ̂2 < σ̂12 . The set of types who join market 2 cannot be an interval. It is

made of all the types above σ̂12 and some types below σ̂1 . The affiliation is depicted in the
middle panel of Figure 4.
                                                                                     1−G(σ̂12 )
    Market clearing in market 2 requires (1 − G (σ̂12 ) + δ2 ) ā =                     2
                                                                                                .     Total profits for the
fast exchange under free segmentation are π2seg = q2 (1 − G (σ̂12 ) + δ2 ) = q2 1−G(σ̂
                                                                                  2ā
                                                                                      12 )
                                                                                           . Market
                                                                                           G(σ̂12 )−G(σ̂1 )
clearing for the slow exchange requires (G (σ̂12 ) − G (σ̂1 ) + δ1 ) ā =                          2
                                                                                                            .     Total profits


                                                           23
for the slow exchange are π1seg = q1 G(σ̂12 )−G(σ̂
                                            2ā
                                                  1)
                                                     . The affiliation of investors to markets 1 and
2 are given by the marginal types 19 and 23. Exchanges 1 and 2 solve simultaneously

                                              q1
                                 max π1seg =      (G (σ̂12 ) − G (σ̂1 ))                       (24)
                                   q1         2ā
                                              q2
                                 max π2seg   = (1 − G (σ̂12 ))
                                   q2         2ā

Taking first order conditions from the previous system, we obtain the following Lemma:


Lemma 3. Under free segmentation the allocation (σ̂1seg , σ̂12
                                                            seg
                                                                ) among trading venues solves

the following system:

                                                                            
                                                                      s1
                              1 − G (σ̂12 ) = g (σ̂12 ) σ̂12 + σ̂1             ,               (25)
                                                                   s2 − s1
                                                                            
                                                              s1
                        G (σ̂12 ) − G (σ̂1 ) = g (σ̂1 ) +           g (σ̂12 ) σ̂1 .            (26)
                                                           s2 − s1


2.3    Protected Prices

Now consider the case where is there is a single price, but two venues with different speeds.
The asset price is p in both markets. Market 1 is still characterized by the indifference
condition (21) for the marginal type σ̂1 . However this condition does not hold for market
2, because low types can join market 1 and then sell their assets to investors in market 2.

Instead, we have the condition that the asset price is the same in both markets. From (5)
this implies the constraint

                                                                       
                                          γ                        γ
                                1+                   σ̂2 = 1 +                σ̂1              (27)
                                        r + ρ1                   r + ρ2



                                                       24
This means that σ̂2 < σ̂1 . The indifference condition for σ̂12 is still W (σ̂12 , σ̂2 , s2 ) − q2 =
W (σ̂12 , σ̂1 , s1 ) − q1 . We show in the Appendix that this leads to

                                               2r       z 
                                   σ̂12 =           q2 − q1 ,                                  (28)
                                            s2 − s1     2ā

where
                                                      r
                                              1+     ρ1
                                    z ≡1−             r   (1 − 2ā) .
                                              1+     ρ2

The structure of the value functions is still as depicted in the bottom panel of Figure 4.
There is now only one market clearing condition. As a result, the sell and drop traders join
market 1 where they can sell at a higher price because they can sell to investors in market

2. We then have δ2 = 0 and the market clearing condition is

                                                             1 − G (σ̂1 )
                                (1 − G (σ̂1 ) + δ1 ) ā =
                                                                 2

The following Lemma summarizes the protected price equilibrium

                                                                
Lemma 4. Under price protection the allocation σ̂1prot , σ̂12
                                                           prot
                                                                  among trading venues solves
the following system:

                                                                     
                                                            s1
                      1 − G (σ̂12 ) = g (σ̂12 ) σ̂12 + z          σ̂1
                                                         s2 − s1
                                                                     
                            G (σ̂1 )     g (σ̂1 )       s1                        1
                G (σ̂12 ) −          =            +z         g (σ̂12 ) σ̂1 + 1 −
                             2ā           2ā       s2 − s1                     2ā

Proof. See Appendix.

   Price protection has two consequences. It increases the profits of the slower exchange,
and it decreases price competition and participation for given speeds and given exchanges.

                                                 25
   We can now compare the outcome of the various market structures. To derive analytical
results, we assume that the ex-ante distribution of types G is exponential
                                       σ
Assumption A1: G (σ) = 1 − e− ν We can now state the following proposition:


Proposition 2. Competition among exchanges increases participation. With or without
price protection, participation in the fast venue is higher than total participation with a
monopoly, i.e. σ̂12 < σ̂m . Total participation is even higher since σ̂1 < σ̂12 . Under A1 price

protection increases the profits of the slow venue and decreases total active participation, i.e.
π1prot ≥ π1seg and σ̂1prot ≥ σ̂1seg . Price protection does not affect the fee q2 =   ν
                                                                                      2r
                                                                                           (s2 − s1 ), and
it has an ambiguous impact on participation in the fast venue.

Proof. See Appendix.

   The intuition for the first half of the proposition is simply that price competition increases

participation. A result that is perhaps less obvious is that participation in just the fast venue
is already higher than total participation with a monopoly. The intuition for the second half
of the proposition is as follows. Price protection is a subsidy to the slow market because its
investors are allowed to sell their assets to investors in the fast market. This creates a larger
demand for the slow market. When considering its profits q1 (1 − G (σ̂1 ) + δ1 ), the presence

of this demand makes it more attractive for the slow market to increase its price. This is
why σ̂1prot ≥ σ̂1seg . Protection also soften the price elasticity of the marginal type σ̂12 , which
again is good for the slow venue. Thus profits of the slow venue increase under protection
for two reason: more demand, and less price elasticity.8

   The impact on participation in the high speed market is small in practice, and positive

   8
    We check numerically the robustness of the result π1prot ≥ π1seg to alternative assumptions about the
underlying distribution of σ in Section 6.

                                                   26
                                 Table 3.1: Entry Game
                   Markets 1 ↓ and 2 →            In              Out
                            In            (π1 − κ, π2⊺ − κ)
                                            ⊺
                                                              (π1m− κ, 0)
                           Out              (0, π2m − κ)         (0, 0)


for the parameter values that we consider, as discussed in the appendix: we typically find
  prot     seg
σ̂12   ≤ σ̂12  .
    Proposition 2 plays an important role in our paper. The results regarding profits are

important to understand the impact of price protection on entry and therefore on the equi-
librium market structure. The results regarding participation are important to understand
the welfare implications of various regulations. We explore these issue in the next section.



3      Endogenous Speed and Entry

In this section we complete the description of the equilibrium market structure by analyzing

the entry decisions of trading venues, as well as their optimal investment in speed.


3.1      Price Protection and Entry

We analyze in this section the relationship between trading regulation and entry for given
speeds. There are two potential entrants, with speeds s1 and s2 , with the convention that
s1 < s2 . The entry cost κ is the same for both exchanges. Market i’s net profit is then given

by πi⊺ − κ where ⊺ ∈ {seg; prot} denotes trading regulations. For a given speed, asset supply
a ≤ 1/2 and regulatory framework, the profit functions π are as in Section 2. A given venue
i finds it optimal to enter whenever net profits are non negative.
    We model entry as a simultaneous game. The payoffs of the entry game are in table



                                             27
3.1. From our previous analysis, we know the following: (i) for a given trading regulation ⊺,
π1⊺ < π2⊺ simply because 2 is faster and (ii) π1seg < π1prot from Proposition 2. Consequently,

Proposition 3. Price protection at the trading stage helps sustain entry at the initial stage.

    As shown in Figure 5, price protection expands the ex-ante number of markets for
economies with intermediate entry costs (between π1seg and π1prot ). The expected level of
fragmentation hence depends on price regulation.

               Figure 5: Entry Cost, Regulation and Equilibrium Fragmentation




The graph shows the equilibrium number of exchanges, as a function of entry costs κ. Price protection affects
the equilibrium number of exchanges that enter the market when entry costs are between the expected profits
of the slow venue under segmentation, π1seg , and under price protection, π1prot . When there are two Nash
equilibriums, the outcomes are that either the fast or slow venue decides to enter, and the other venue stays
out.


    Depending on parameter values, the entry game may have more than one Nash equilib-
rium in pure strategies. To simplify our presentation, we assume hereafter that our economies
                                 
satisfy the inequality π1m < min π2seg , π2prot . Thus, only the fast exchange enters whenever
κ > π1prot . We characterize the cases with multiple equilibria in the proof of Proposition 3
in the Appendix.

                                                     28
3.2    Speed Choices

In this section we analyze speed choices taking the number of active markets as given. For
simplicity, we concentrate here on the case where ā = 1/2. In this limiting case, trading

regulation does not affect markets’ profit functions and thus trading regulations become
immaterial. When convenient, we assume the following cost to derive analytical results.
                                                                     
Assumption A2. The cost of achieving contact rate ρ is given by c max ρ − ρ; 0 , where
c > 0 is the constant marginal cost of speed beyond the default level ρ.

Under A2, the total cost of entering and reaching the effective speed s is

                                                               
                                                   s
                            C (s) = c max (r + γ)     − ρ; 0                              (29)
                                                  1−s

These costs are convex in effective speed s. We analyze first the case of a monopolist.


Consolidated Market

Given the monopolist speed, denoted sM , the marginal type is such that

                                                sM
                                         qM =      σ̂M                                    (30)
                                                2r

The program of the monopolist then is


                                  max q (1 − G (σ̂)) − C (s)
                                   q,s


We can now characterize the consolidated market equilibrium.




                                              29
Proposition 4. Monopoly. The equilibrium with consolidated markets and endogenous
speed has the following properties: (i) Participation is the same as with exogenous speed:
σ̂M = σ̂m ; (ii) Effective speed is given by


                                 2rC ′ (sM ) = (1 − G (σ̂M )) σ̂M ;                      (31)


and (iii) Under A1-A2 optimal effective speed is given by


                                 sM = 1 − (2rc (γ + r) e) /2 ν
                                                           1     −1/2
                                                                                         (32)


Proof. See Appendix.


   The monopolist determines market participation based on the distribution of investors’
types only. Note than in any interior solution, optimal speed does not depend on the default

speed level. Naturally, investments in speed increase with investors heterogeneity ν. When
the distribution of permanent types G has fatter right tails, the average investor gains from
trade increase. Interestingly, the contact rate ρM is concave in the frequency of preference
shocks γ: it first increases with (γ) and then decreases, and has a global maximum at
      ν
γ=   8cer
            − r. On the one hand, when the frequency of preference shocks increase, investors
want to reallocate their assets more frequently, which increases demand for speed. The
marginal value of each trade decreases though since the desired holding period shrinks. Since
speed is costly, there is a maximum speed that can be supported in any market equilibrium.




                                                30
Fragmented Market

When trading is fragmented, exchanges have an incentive to differentiate their intermediation
services by offering different speeds since Bertrand competition with fixed speed drives profits

down to zero. We simplify the analysis of this case by assuming that market 1’s speed is
                            ρ
exogenously given (s1 =   r+γ+ρ
                                )   while market 2 chooses an effective speed s2 which cost is
C (s2 ). After market 2’s speed is chosen, there is simultaneous affiliation fee competition as
in section 2.

   In the speed choice stage, market 2 solves


                                  max (1 − G (σ̂12 )) q2 − C (s2 )
                                    s2



The following proposition characterizes the equilibrium.

Proposition 5. Duopoly. The equilibrium with fragmented markets and endogenous speed
has the following properties:(i) Participation is determined by the marginal types σ̂1 and σ̂12
as in Lemma 4; (ii) Participation in the fast venue alone is higher than participation in the
monopolist case; (iii) Speed in market 2 is determined by

                                                                       
                              ′                                 ∂ σ̂1
                          2rC (s2 ) = (1 − G (σ̂12 )) σ̂12 + s1             ;              (33)
                                                                ∂s2

and (iv) Under A1, the duopoly chooses a higher speed than the monopoly.

Proof. See Appendix.

   The incentives of exchanges to differentiate their services thus increases trading speed.
The intuition is as follows. There are two forces at play: scale and differentiation. On the
one hand, a monopolist earns higher profits and mechanically wants to invest more in speed.

                                                31
In the limit of Bertrand competition, profits are zero irrespective of speed and there is no
incentive to invest in speed. On the other hand, the incentive to differentiate pushes towards
higher speed in a duopoly. We study the welfare consequences in Section 5.



4     Asset Prices

Regulations, market structure, speed and affiliation choices affect asset prices through the

endogenous determination of the marginal participating types and the liquidity frictions.


4.1    Volume Weighted Prices

From equation (5), we know that the equilibrium asset price is given by

                                                                
                                          µ σ̂i        r + γsi
                                      pi = +                                                     (34)
                                          r  r          r+γ

Under price protection, σ̂ prot is given by Lemma 4. Under free segmentation, there are two
prices. The asset price in venue i is as in (34), where (σ̂1seg , σ̂2seg ) are given by (21) and (22).

Let us define the instantaneous transaction rates τi by

                                    γ (γ + r) s1
                               τ1 =              (G (σ̂12 ) − G (σ̂1 ))
                                    4 (γ + rs1 )
                                    γ (γ + r) s2
                               τ2 =              (1 − G (σ̂12 ))
                                    4 (γ + rs2 )

where σ̂12 is given by 23. Then we have the following Lemma

Lemma 5. Under free segmentation, The volume-weighted average price pseg (VWAP) is




                                                 32
given by
                                                                                    
                                                τ1                              τ2
                         p   f ree
                                     =                     p1f ree   +                     p2f ree   (35)
                                             τ1 + τ2                         τ1 + τ2

   In what follows, when we talk about ‘the’ price in the free duopoly case, we mean the

VWAP.


4.2    Asset Supply and Asset Price

We now study the link between the supply of the asset ā and its price. Under A1-2, we can
use Proposition 4 to find the equilibrium price under monopoly

                                                    r             1/2        
                        µ ν 1                                               −1/2
                  pM   = +                     r+γ 1−     ce (γ + r)      ν                          (36)
                        r  rr+γ                        ā

In a frictionless Walrasian market, i.e., s = 1 and κ = 0 (see Section 6 for details.), the

equilibrium price under A1 pw is given by

                                                    1
                                             pw =     [µ − ν log (2a)]                               (37)
                                                    r

The closed-form expression (36) yields interesting insights. With a single venue, the equi-
librium asset price decreases with the frequency of the temporary shocks (γ) and with the
marginal cost of technology c, and increases with the degree of investor heterogeneity (ν).

There is also an interesting relationship between the asset price and the asset supply (see
Figure 6), which we summarize in the following proposition:

Proposition 6. Asset Supply. The Walrasian price decreases with the asset supply. For
given speed, the monopoly and free duopoly prices are independent of asset supply. With
endogenous speed, the prices increases with the asset supply.

                                                            33
                       Figure 6: Equilibrium Asset Price and Asset Supply




The graph shows the equilibrium asset price, as a function of asset supply a. The asset price is scaled by
(µ/r). “Walrasian market” corresponds to the equilibrium price in a frictionless market where entry and
speed costs are zero. “Exogenous (Endogenous) Speed” corresponds to the resulting price where there is a
single venue, and investor participation and trading speeds are exogenous (endogenous). The graph is
created under assumptions A1-2 and the following parameters: γ = 10, r = 5%/252, ν = exp(1), ρ = 5,
c = 5, µ = 1.


    Proposition 6 is an immediate consequence of our previous results. In a Walrasian market,
the equilibrium price depends entirely on the marginal trading type which decreases in a.

    F
    The marginal type under monopoly is given by (20) and is therefore independent of ā.
For the segmented duopoly we know from Lemma 3 that the marginal types do not depend
on ā, and therefore neither does the price at a given speed. This explain the flat horizontal

line in Figure 6. When speed is endogenous, however, we know from Proposition 4 that the
optimal speed increases with total asset supply. This will then lead to an increasing price.




                                                    34
4.3        Market Structure and Asset Price

We now compare asset prices across market structures. The link is not obvious because there
are two effects. On the one hand, the monopoly restricts entry and chooses a high marginal

type, thereby increasing the equilibrium price. On the other hand, speed increases prices,
and competition increases speed. In equilibrium, however, the first effect dominates, and we
obtain the following proposition.

Proposition 7. Market Structure. Under A1, the asset price – with or without endoge-

nous speed – is higher under monopoly than under competition, .

Proof. See Appendix.

    The message of Proposition 7 is that, independently of price protection, competition be-
tween venues decreases the equilibrium asset price level.9 This is consistent with Amihud et al.
(2003) who provide evidence that trading consolidation increases asset prices.



5        Welfare and Efficient Solution

5.1        Welfare Functions

We study the welfare gains of a given market equilibrium with respect to the no trade
benchmark:

                       Xˆ                                                 X
               W≡                (W (σ, σ̂i , si ) − Wout )dG (σ) −           (κ + C (si ))
                             σ
                       |i              {z                }                |i   {z      }
                      Partic. gains & Allocation efficiency           Entry+Speed Investment

    9
        Note that for the comparison of the monopoly with price protection A1 is not required.

                                                       35
                                Table 5.1: Cases of analysis
                                  Consolidated Market Free Competition
                No Speed Choice            Wm                WBertrand
               Endogenous Speed            WM                 Wcomp


The following Lemma characterizes the welfare functions.

Lemma 6. Social welfare in a single market equals

                                                    σ̄
                                       s
                                              ˆ
                                    W=                   σdG (σ) − C (s) − κ
                                       2r      σ̂



With two trading venues, social welfare is

                                σ̂12                           σ̄
                     s1                          s2
                            ˆ                              ˆ                    X
                  W=                   σdG (σ) +                    σdG (σ) −           C (si ) − 2κ.   (38)
                     2r       σ̂1                2r         σ̂12                i=1,2


Proof. See Appendix.

   To simplify the exposition in this section we consider only the case a = 1/2 where price
regulation is immaterial (we denote social welfare in this case Wcomp but it is the same as
W⊺ , ⊺ ∈ {seg, prot}). We analyze the welfare consequences of price protection in Section
6. In the remaining of this section we want to compare in this section the social gains of

different market organizations. We assume that every single venue equilibrium of the entry
game involves speed investment10 . Table 5.1 summarizes the relevant cases.




  10
     In the proof of Proposition 3 we characterize the cases in which the outcome of the entry game has a
fixed-speed monopolist

                                                           36
One Speed

As a benchmark, we discuss in the context of our paper the social gains of market organization
when investments that improve trading speeds are not available. This is the case considered

in the existing literature. Welfare in the monopoly case is given by

                                                    σ
                                          s
                                               ˆ
                                    Wm =                 σdG (σ)
                                         2r        σ̂m



In the fragmented case, exchanges compete in fees a la Bertrand. In equilibrium, fees and
profits are both zero. All investors participate and the distribution of investors across trading
venues is immaterial. Social welfare in this case is

                                                         s
                                     WBertrand =           E (σ)
                                                        2r

For any given effective speed s, welfare is higher than under monopoly. This is the classic
case for inter market competition when liquidity externalities are moderate (Economides
(1996)).


5.2    Welfare, Speed, and Competition

Does speed increase welfare?

We discuss here the welfare consequences of the advent of innovations in technologies that
permits faster trading.

Proposition 8. When trading is consolidated, social welfare is always higher with endoge-
nous speed. With fragmented markets, under A1, there exists a unique default speed s0 such
that welfare increases with endogenous speed if and only if s < s0 .

                                               37
Proof. See Appendix.

   The intuition for Proposition 8 is as follows. First with a monopoly, we know from
Proposition 4 that speed does not affect market participation. However, the monopolist has
an incentive to invest in speed to extract higher fees from investors with types σ > σ̂M . Be-
cause the monopolist bears the investment costs entirely, there are not negative externalities.

Consequently, taxing technology investments is never optimal in this environment.
   Under the duopoly, speed allows venues to differentiate and relax Bertrand competition.
Whether social welfare increases with technology investments depends thus on the trade-
off between investor participation levels and trading efficiency. When the default effective

speed is low, the gains from trading efficiency are large and dominate the negative impact on
participation. The opposite happens when the default effective speed is high. In this case,
taxing technology investments can increase welfare.


Does competition increase welfare?

In this section we endogenize entry and ask whether market competition increases welfare.
Section 3.2 shows that competition affects investor participation and speed investments. In

turn, the outcome of the entry game in section 3.1 determines the number of active venues.
The net social gains of competition are given by Wcomp − WM − κ. Let κ be the entry cost
value that makes these gains equal to zero (see Figure 7). The social benefits of higher speeds
and higher participation may in principle be offset by inefficient cost duplication. We can

establish the following.

Proposition 9. Under A1, consolidation increases welfare only when entry costs satisfy
κ < κ ≤ π1comp . Otherwise, fragmentation always (weakly) increases welfare. When the
                                                             ν
marginal cost of technology approaches zero, κ approaches    2r
                                                                  (1 − 1/e)).

                                              38
Proof. See Appendix.

   The intuition is the usual one from the IO literature. The benefits of higher speeds and
higher participation are offset by inefficient cost duplication in economies with intermediate
entry costs. Notice from 24that the slow venue profits can be expressed as

                                           s1
                               π1comp =       σ̂1 (G (σ̂12 ) − G (σ̂1 ))
                                           2r

Naturally, π1comp approaches zero when the default speed speed s is close to zero. When s

approaches one, on the other hand, differentiation becomes increasingly difficult for the ex-
changes and equilibrium profits approach zero (the Bertrand outcome with σ̂1 = 0). Positive
values of π1comp occur for intermediate s.
   In the proof of Proposition 9 we show that, when the marginal cost of technology
                                   ν
approaches zero, κ approaches      2r
                                        (1 − 1/e)). This limiting value is intuitive. The term
                                                                                                 ν
(1 − 1/e)) represents the participation loss under the monopoly when s → 1. The term             2r

represents the ex-ante participation value of investors of types σ < ν that decide not to
                                                                           ν
participate under monopoly (using 17 we have W (σ, ν, 1) − Wout =          2r
                                                                                when a = 1/2).


5.3    Constrained Efficiency

How would a planner organize trading in our economy? With fixed setup costs and no

marginal cost, the unconstrained solution is obviously to have one fast exchange with full
participation financed by lump-sum taxes on all agents. This, however, is not a very relevant
benchmark. Following a long tradition in public finance, we therefore solve a constrained
planner’s program where we rule out external subsidies. In other words, we require trading

venues to (at least) break even.


                                                  39
                         Figure 7: Competition, Entry Costs and Welfare




The graph shows the welfare gains from competition Wcomp − WM − κ, as a function of entry costs κ.
Gains are zero for entry cost κ. When π1comp is low relative to κ, competition is never socially sub-optimal.
When π1comp is high relative to κ, there is a range of entry costs [κ, π1comp ] where consolidation is socially
preferred. This occurs for intermediate values of default speed s.




                                                      40
    The planner faces the same cost structure: a set-up cost κ for each venue, the default
effective speed s is available at no cost, and a speed s2 > s is available at cost C(s2 ). In
the constrained program one might expect the planner to create two trading venues. This
would allow the planner to relax the break-even constraints by charging a high price for the

fast venue, while maintaining participation in the slower, but cheaper, venue. Surprisingly,
however, we find that the planner chooses not to do so:

Proposition 10. The planner operates a single venue.

Proof. See Appendix.

    The planner chooses a single venue for investors even when there are no concerns of cost
duplication (the result holds for κ = 0). This result extends to the case where trading venues

can be consolidated or when the planner can choose s1 . The intuition is that the marginal
dollar raised by increasing the price and lowering participation in the slow venue is always
more valuable than the direct welfare loss. The planner therefore increases σ̂1 until it is
equal to σ̂12 .

    In the remaining of this section, we therefore focus, without loss of generality, on the case
where the planner operates a single venue. Its program is simply

                                                σ
                                      s
                                           ˆ
                                 max                σdG (σ) − C (s) ,                       (39)
                                  s,q 2r   σ̂

                                  s.t. q (1 − G (σ̂)) ≥ C (s)                               (40)


where the marginal type σ̂ is defined as in (30). The following proposition compares the
constrained efficient solution to the market outcome.




                                                     41
Proposition 11. In the constrained efficient allocation, participation is always higher, but
trading speed can be higher or lower, than under monopoly.

Proof. See Appendix.

    We provide in the proof of Proposition 11 an example where sM > s∗. Intuitively, the
monopolist chooses an inefficiently high speed when the distribution of permanent types

has a fat right tail. In this case, the monopolist targets investors with high private gains
from trade, offering a high-speed-high-price package. The planner might prefer to include
the “middle class” of investors even if that means lower speed because of the break even
constraint.
    We know from Proposition 5 that the fast venue chooses a higher speed than the monopo-

list. Thus, it follows from Proposition 11 that the fast venue can also choose a sub-optimally
high speed. In the numerical analysis, we show that equilibrium participation in the duopoly
game can be inefficiently low or inefficiently high.



6    Numerical Analysis

In this section we illustrate the implications of the model numerically under A1 and A2. We

compare market outcomes to a Walrasian market, which represents a frictionless competitive
market with κw = 0 and cw = 0 (which implies ρw = ∞ and sw = 1). The Walrasian
outcomes are as follows.

Lemma 7. The Walrasian equilibrium outcomes are as follows: (i) investor participation
                         1                                                                            aγ
equals 2a, (ii) pw =     r
                             [µ − ν log (2a)], (iii) the instantaneous transaction rate equals τw =    2
                                                                                                         ,
              aν
(iv) Ww =      r
                   (1 − log (2a)).


                                                     42
                            Table 6.1: Baseline Parameters
                         γ   ρ       c     ν    ā  µ      r
                        608 1070 0.0002 e 0.45 1 0.05/252


Proof. See Appendix.


6.1    Parametrization

We select parameters for a numerical illustration of the implications of the model. for a

representative stock with a daily volume of 100, 000 shares and mean trade size of 1, 000
shares. Table 6.1 contains the baseline parameter values. We match trading delays to the
prevalent ones around the implementation of decimalization in US equity markets, so that
the default speed ρ is relatively low given current standards (average round trip trade is

approx. 20 seconds). These values are consistent with the ones reported by Angel et al.
(2010). The model implied daily preference shock rate is then 608. This is a high value for
most individual investors. We think of our investors as either investment buy-side institutions
or intermediary firms representing a group of end users. We analyze a range of values of c

that generate endogenous speeds consistent with more recent standards (figures 8 and 9).


6.2    Investor Participation

As discussed in sections 5, participation with consolidated trading is always inefficiently
low. The equilibrium analysis also shows that participation can be inefficiently high in
a fragmented environment. Intuitively, when the marginal cost of technology increases,
the competition outcome increasingly resembles the fragmented equilibrium without speed

choice. We can observe in figure 8 that when c is high enough, total participation with
speed choice crosses the optimal level from below. Analogously, participation under duopoly

                                              43
is inefficiently low when the cost of speed is low. A similar argument can be made when
default speed is very high. In this case, the scope for markets differentiation is very limited
and total participation with speed choice approaches the maximum sustainable level 2a.
Participation is also inefficiently high when γ and v are high.


6.3     Asset Prices

Figure 10 displays the effect of parameter changes under different market organizations.
As discussed in section 4, a first general observation is that competition in intermediation
decreases asset price levels.
   Second, we find that asset prices are further depressed under price protection (i.e. pprot <

pseg ). This is due to the fact that, for all possible WVAP prices, the marginal type is lower
                                                                           r+γ
under protection and the equilibrium price liquidity adjustment            r+γs
                                                                                  is higher. An empirical
implication of our analysis is then that, fixing a given asset characteristics, its price will be
higher in consolidated trading economies (most Asian countries). Moreover, the price will
be lower in markets that enforce price protection. All else equal (i.e., for similar assets) our

model predicts that prices will be higher in Japan or China than in Europe, and in Europe
than in the US11 .
   A third important observation is that, in general, equilibrium asset prices bear a very
weak relationship with social welfare (compare welfare and prices in figures 8 and 10).

                                                              ∂p             ∂p
The comparative statics show that, as expected,               ∂c
                                                                   < 0 and   ∂ν
                                                                                  > 0. However, while
∂pseg ∂pprot             ∂pseg ∂pprot
 ∂γ
     , ∂γ      > 0 and    ∂ρ1
                              , ∂ρ1     < 0, the asset price is essentially not affected by the frequency
of preference shocks and default speed levels when trading is consolidated (see sections 3 and
  11
     Japan and China are cases where there is little or no fragmentation. Trading in fragmented in Europe,
but there is not price protection like in the US.

                                                      44
4).


6.4      Is price protection socially desirable?

We analyze in this case effects on price protection when a < 1/2. Price protection not only
affects investor participation and speed choices but, as shown in Proposition 3, it can also
affect the number of equilibrium exchanges. The latter effect can be dominant in economies

with “intermediate” set-up costs. When a given trading regulation ⊺ ∈ {seg, prot} is set at
time I, the net social effects can be computed by analyzing its effect on the entry game and
the posterior speed-fee competition and affiliation decisions. Let


                                              net
                                 Gprot (κ) ≡ Wprot (κ) − Wfnet
                                                            ree (κ)




denote the net social gains of price protection. In section 3.1 we showed that regulation may
affect the equilibrium number of active venues. We have the following.

                                
                                                                 κ ≤ π1f ree
                                
                                
                                
                                  Wprot − Wf ree        if
                                
                    Gprot (κ) =   Wprot − WM − κ         if π1f ree < κ ≤ π1prot
                                
                                
                                
                                                                  κ>π1prot
                                
                                        0               if

      We found that, when price protection affects entry, it has a first order positive effect on
Welfare. This is due to more participation and more allocation efficiency when the entry
outcome changes from a single to a dual venue equilibrium. However, in economies with low

entry costs, price protection does not affects entry and has a small negative effect on welfare.
This is due mainly to a loss in total market participation that also reduces transaction
volumes (see figure 9).



                                                45
7    Concluding Remarks

We have provided a positive and normative analysis of trading speed in financial markets.

On the positive side, our model provides an explanation for the joint evolution of trading
regulations, fragmentation, and speed. On the normative side, our model clarifies the cir-
cumstances under which competition, fragmentation and speed improve or reduce welfare.
Our approach to liquidity is distinct from the usual liquidity externality based on increasing

returns in the number of traders.
    The most important caveat to our analysis is that our model ignores asymmetric informa-
tion. It is important to point out, however, that our approach is the logical first step, since
the trade-offs and economic forces that we have identified would be present in any model,

with or without asymmetric information. In particular, speed-sensitive gains from trade are
required to think about investment in speed. With free entry, if the average investor does
not care about speed, then there would be no investment in speed. Nothing prevents the
formation of a relatively slow and cheap exchange. If uninformed traders choose to join

fast exchanges, it must be that they value speed. Otherwise they would all join the slow
exchange, depriving the fast exchange from liquidity. The idea that speed is provided ex-
clusively to satisfy a fraction of informed traders is therefore inconsistent with free entry.
What information would do, then, would be to change the value of speed for some investors.
It is possible that some participants might use speed to take advantage of other investors

(e.g. Jovanovic and Menkveld (2010)). It is also possible that speed could allow uninformed
traders to hedge. Hence, we certainly do not claim that asymmetric information is irrele-
vant, but we do claim that the building blocks of our model are required to analyze speed,
fragmentation, and welfare with or without asymmetric information.



                                              46
References
Acemoglu, D. (1998). Why do new technologies complement skills? directed technical change
  and wage inequality. The Quarterly Journal of Economics, 113(4):1055–1089. 8
Amihud, Y., Lauterbach, B., and Mendelson, H. (2003). The Value of Trading Consolidation
 : Evidence from the Exercise of Warrants. Journal of Financial and Quantitative Analysis,
 38(4):829 –846. 8, 35
Amihud, Y. and Mendelson, H. (1986). Asset pricing and the bid-ask spread. Journal of
 Financial Economics, 17(2):223–249. 8
Angel, J., Harris, L., and Spatt, C. S. (2010). Equity Trading in the 21st Century. 43
Biais, B. (1993). Price Formation and Equilibrium Liquidity in Fragmented and Centralized
  Markets. Journal of Finance, 48(1):157–185. 7
Duffie, D., Garleanu, N., and Pedersen, L. H. (2005). Over-the-counter Markets. Economet-
 rica, 73(6):1815–1847. 8, 10
Duffie, D., Garleanu, N., and Pedersen, L. H. (2007). Valuation in Over-the-Counter Markets.
 Review of Financial Studies, 20(6):1865–1900. 5
Economides, N. (1996). The economics of networks. International Journal of Industrial
  Organization, 14(6):673–699. 37
Foucault, T. and Parlour, C. A. (2004). Competition for Listings. Rand Journal of Eco-
  nomics, 35(2):329–355. 8
Gabszewicz, J. and Thisse, J.-F. (1979). Price Competition, Quality and Income Disparities.
 Journal of Economic Theory, 20:340–359. 8
Glosten, L. R. (1994). Is the electronic open limit order book inevitable? Journal of Finance,
  49(4):1127–1161. 7
Hendershott, T. and Mendelson, H. (2000). Crossing Networks and Dealer Markets: Com-
  petition and Performance. Journal of Finance, 55(5):2071–2115. 7
Huang, J. and Wang, J. (2010). Market liquidity, asset prices, and welfare. Journal of
 Financial Economics, 95(1):107–127. 8
Jarrow, R. A. and Protter, P. (2011). A Dysfunctional Role of High Frequency Trading in
  Electronic Markets. 8
Jovanovic, B. and Menkveld, A. J. (2010). Middlemen in Electronic Markets. 46
Lagos, R. and Rocheteau, G. (2009). Liquidity in Asset Markets With Search Frictions.
  Econometrica, 77(2):403–426. 8, 10, 11, 12


                                             47
Madhavan, A. (1995). Consolidation, Fragmentation and the Disclosure of Trading Informa-
 tion. Review of Financial Studies. 7
Mendelson, H. (1987). Consolidation, fragmentation, and market performance. Journal of
 Financial and Quantitative Analysis, 22:187–207. 7
Menkveld, A. J. (2011). Electronic Trading and Market Structure. In UK Government
 Driver Review, DR16. 4
O’Hara, M. and Ye, M. (2011). Is market fragmentation harming market quality? Journal
  of Financial Economics. 8
Pagano, M. (1989). Trading volume and Asset Liquidity. Quarterly Journal of Economics.
  6, 7
Parlour, C. A. and Seppi, D. J. (2003). Liquidity-based competition for order flow. Review
  of Financial Studies, 16(2):329–355. 7
Santos, T. and Scheinkman, J. A. (2001). Competition Among Exchanges. Quarterly Journal
  of Economics, 116(3):225–1061. 8
Shaked, A. and Sutton, J. (1982). Relaxing Price Competition Through Product Differenti-
  ation. Review of Economic Studies, 49(1):3–13. 8
Shaked, A. and Sutton, J. (1983). Natural Oligopolies. Econometrica, 51(5):1469–1483. 8
Vayanos, D. and Wang, T. (2007). Search and endogenous concentration of liquidity in asset
  markets. Journal of Economic Theory, 136(1):66–104. 8
Weill, P.-O. (2007). Leaning Against the Wind. Review of Economic Studies, 74(October
 1987):1329–1354. 8




                                           48
Appendix
Proof of Proposition 1
For steady state values we have


                                                 γ
                              (r + ρ) L = µ − σ +  (H − L) + ρp
                                                 2
                                                 γ
                              (r + ρ) H = µ + σ − (H − L) + ρp
                                                 2

and
                            γ                   γ
                        r+      Vσ,− (0)        =   Vσ,+ (0)
                            2                   2
                             γ                             γ
                        r+      Vσ,+ (1)        = µ + σ + Vσ,− (1)
                            2                            2
                             γ                    γ
                        r+      Vσ,+ (0)        =   Vσ,− (0) + ρ (H − p)
                            2                   2
                             γ                             γ
                        r+      Vσ,− (1)        = µ − σ + Vσ,+ (1) + ρ (p − L)
                             2                              2

Let us now compute the ex-ante value functions. Let us first consider types σ < σ̂. They
join the market to sell at price p. Averaging over types ǫ = ±1, we get the ex-ante value
function V̂ that solves the Bellman equation
                                                                    µ + ρp
                             r V̂ = µā + ρ pā − V̂        =⇒ V̂ =          ā
                                                                       r+ρ
                 µ                     µ
                                           
Since µ + ρp =   r
                     (r + ρ) + ρ p −   r
                                               we can rewrite

                                               µ       ρ    µ
                                    V̂ =         ā +     p−    ā
                                               r      r+ρ    r

From the definition of σ̂ we also now that

                                                 µ   1 r+ρ
                                       p−          =        σ̂
                                                 r   rr+ρ+γ




                                                      49
therefore
                                                  µā     ρ  ā
                                           V̂ =       +         σ̂
                                                   r    r+ρ+γr
                  ρ
since s (ρ) ≡   r+γ+ρ
                      ,   we get finally
                                              µā     ā
                                                  V̂ =
                                                   + s σ̂
                                               r      r
the marginal type σ̂ (p, ρ) is defined in (5), is increasing in p and decreasing in ρ. The key
point is that V̂ does not depend on the type σ, but only on the price and speed of the market.
   Let us now consider the steady state types, σ > σ̂. They also start with endowment ā
and they are going to jump directly to their steady state value functions as soon as they can
trade

                                  γ
            rWσ,+ = ā (µ + σ) +    (Wσ,− − Wσ,+ ) + ρ (Vσ,+ (1) − Wσ,+ − p (1 − ā))
                                  2
                                  γ
            rWσ,−   = ā (µ − σ) + (Wσ,+ − Wσ,− ) + ρ (Vσ,− (0) − Wσ,− + pā)
                                  2

and the ex-ante value is
                                                           Wσ,+ + Wσ,−
                                           W (σ, ρ) ≡
                                                                2
Adding up the two lines, we get

                                                                   Vσ,+ (1) + Vσ,− (0) − p
                          (r + ρ) W (σ) = (µ + ρp) ā + ρ
                                                                              2

Note the nice intuition

                                                    ρ Vσ,+ (1) + Vσ,− (0) − p
                              W (σ, ρ) = V̂ +
                                                   r+ρ           2

This gives a nice continuous link between the low and high types around σ̂. Of course, we
are going to find that the second term on the RHS is zero for σ = σ̂. Therefore we need to
compute
                                           X ≡ Vσ,+ (1) + Vσ,− (0) .

Note that X is the sum of the value of the efficient allocation. Using the system in the
previous sections, let us define
                                                         X
                                               S≡              Vσ,ǫ (a)
                                                         ǫ,a


                                                          50
It is easy to see that
                                                                              
                                                                     σ
                           rS = 2µ + ρ (H − L) = 2 µ + ρ
                                                                   r+γ+ρ

For X we get
                  γ            γ                               γ
                r+    X = µ + σ + (Vσ,+ (0) + Vσ,− (1)) = µ + σ + (S − X)
                   2             2                               2

Therefore

                                              γ
                           (r + γ) X = µ + σ + S
                                              2             
                                              γ          σ
                                     = µ+σ+      µ+ρ
                                              r      r+γ+ρ
                                       µ         σ         r+ρ
                                     = (r + γ) + (r + γ)
                                       r         r       r+γ+ρ

which we can simplify to
                                               µ σ r+ρ
                                         X=      +
                                               r   r r+γ+ρ
Therefore, we have, when σ > σ̂, we have

                                                     1  ρ   σ − σ̂
                                  W (σ, ρ) = V̂ +
                                                     2r+γ +ρ r

QED.


Proof of Lemma 4
First notice that W (σ̂12 , σ̂2 , s2 ) − q2 = W (σ̂12 , σ̂1 , s1 ) − q1 can be written as:

                    s2 āσ̂2   s2                      s1 āσ̂1   s1
                             +    (σ̂12 − σ̂2 ) − q2 =          +    (σ̂12 − σ̂1 ) − q1 .
                       r       2r                         r       2r




                                                    51
Since q1 = ās1rσ̂1 , we get s22r
                               −s1
                                   σ̂12 = q2 − ās2rσ̂2 + s2 σ̂22r
                                                                −s1 σ̂1
                                                                        . Using σ̂2 = mσ̂1 , we get   s2 −s1
                                                                                                        2r
                                                                                                             σ̂12   =
                                             1+ r+ρ γ

q2 − q1 2ā − s1 m 2ā − 1 where m ≡ 1+ γ 2 . Since s21 m = ρρ21 r+ρ
         1      s2      1                                             s          r+ρ1
                                                                                    2
                                                                                      , we get
                                                        r+ρ1



                                                      2r       z 
                                          σ̂12   =         q2 − q1
                                                   s2 − s1     2ā

where                                                           r
                                                       1+      ρ1
                                           z ≡1−                r   (1 − 2ā) .
                                                       1+      ρ2

Note that z ≤ 1, z ≈ 1 when a ≈ 0.5, and z ≈ 2a when r/ρ is small (the realistic case). The
profits of market 1 are
                                     π1prot = q1 (G (σ̂12 ) − G (σ̂1 ) + δ1 )

We know introduce notations to simplify the equation

                                                    α ≡ 2ā
                                                             s1
                                                    k≡
                                                          s2 − s1

In the protected price equilibrium, firms therefore maximize

                                                 q1
                               max π1prot =         (1 − α + αG (σ̂12 ) − G (σ̂1 ))
                                q1               α
                               max π2prot =q2 (1 − G (σ̂12 ))
                                q2


                   ∂π1prot             ∂π2prot
The conditions      ∂q1
                             = 0 and    ∂q2
                                                 = 0 lead to

                                          1 − G (σ̂12 ) = g (σ̂12 ) (σ̂12 + zkσ̂1 )
                      1 − α + αG (σ̂12 ) − G (σ̂1 ) = (g (σ̂1 ) + αzkg (σ̂12 )) σ̂1

QED




                                                          52
Proof of Proposition 2
Define
                                                             1 − G (σ̂)
                                                 ν (σ̂) ≡
                                                               g (σ̂)
Let us compare the three market structures. The monopoly allocation σ̂m is the solution to

                                                       σ̂m = ν (σ̂m )

Rearranging the first order conditions, the free segmentation allocation (σ̂1seg , σ̂12
                                                                                     seg
                                                                                         ) is the
solution to

                                                σ̂12 = ν (σ̂12 ) − kσ̂1
                                                 
                                     g (σ̂1 )           g (σ̂1 )
                           σ̂1                 +k    =           ν (σ̂1 ) − ν (σ̂12 )
                                     g (σ̂12 )         g (σ̂12 )
                                                 
The price protection allocation σ̂1prot , σ̂12
                                            prot
                                                   is the solution to

                                                 σ̂12 = ν (σ̂12 ) − z (α)kσ̂1
                                                  
                               g (σ̂1 )                  g (σ̂1 )
                     σ̂1                 + αz (α)k    =           ν (σ̂1 ) − αν (σ̂12 )
                               g (σ̂12 )                g (σ̂12 )

where we highlight in red the differences to help the comparison. Notice first σ̂12 < σ̂m
irrespective of whether prices are free or protected.

Exponential Distribution

Under A1, we have G (σ) = 1 − e−σ/ν and therefore ν (σ̂) = ν and the system is

                                                          σ̂12              σ̂1
                                                               = 1 − zk
                                                           ν                 ν
                                     σ̂1  σ̂12 −σ̂1             σ̂12 −σ̂1
                                          e ν          + αzk = e ν − α
                                      ν




                                                            53
                                                                        σ̂1
It is convenient to defined ∆ ≡ (σ̂12 − σ̂1 ) /ν and x ≡                 ν
                                                                            ,   so that we can write the system in
(x, ∆):

                                            (1 + zk) x = 1 − ∆                                                        (41)
                                                                                
                                               e∆ − α =       e∆ + αzk x                                              (42)

Impact of protection on σ̂1
The second equation of the system is

                                                         α (1 + zk)
                                                1−x=
                                                         e∆ + αzk

This leads to a schedule x increasing in ∆. The   issue is how it changes with α. We study
                                          α(1+zk)                                          
the function on the RHS, namely: log e∆ +αzk = log (α) + log (1 + zk) − log e∆ + αzk .
Taking the derivative w.r.t. α
                                                                                                             !
                1   kz ′  αkz ′ + kz  1   1                                             1             1
                  +      − ∆         = −         + kz ′                                     −
                α 1 + zk  e + αkz     α α + ekz∆                                     1 + kz      e∆
                                                                                                  α
                                                                                                      + kz

        e∆                   1          1                       1         1                   α(1+kz)
since    α
             > 1 we have   1+kz
                                  −   e∆
                                               > 0. Similarly   α
                                                                    −        ∆      > 0. So   e∆ +αzk
                                                                                                        is increasing in α.
                                       α
                                         +kz                            α+ ekz
                                                                                
Therefore the equilibrium condition e∆ − α = e∆ + αkz x implies a schedule x increasing
in ∆ and decreasing in α. The first equilibrium condition (1 + zk) x = 1 −∆ gives a schedule
x decreasing in ∆ and decreasing in α. Straightforward analysis then shows that x must be
decreasing in α. The free price structure corresponds to α = 1, while the protected price
structure corresponds to α = 2a < 1. Therefore, since σ̂1 = νx, σ̂1 must be higher under
price protection.
Impact of protection on σ̂12
The analysis of σ̂12 is ambiguous. It is clear that when k → 0 we have σ̂12 → ν, which is the
monopoly solution. Define y = σ̂ν12 = x + ∆, and get the system

                                             (1 + kz) y = 1 + kz∆
                                                             e∆ − α
                                                  1 − y = kz ∆
                                                            e + αkz



                                                         54
The first curve is y increasing in ∆ and decreasing in α. The second curve can be written
gives y = 1 − kz + kzα(kz+1)
                      e∆ +αkz
                              , which shows y decreasing in ∆. With respect to α, however, it
is not clear. In the realistic case where ρr1 is small, we have z (α) = α so

                                 (1 + kα) y = 1 + kα∆
                                                     e∆ − α
                                      1 − y = kα
                                                    e∆ + kα2

We study the case where α is close to one. The free price solution is

                                                     ¯
                                    (1 + k) ȳ = 1 + ∆k
                                                     ¯
                                                    e∆ − 1
                                       1 − ȳ = k
                                                    e∆¯ + k

                                                 ¯ + ∆,
and we look for small deviations: α = 1 − ǫ, ∆ = ∆   ˆ y = ȳ + ŷ. The first equation is
simply
                                                         
                            (1 + k) ŷ − k ȳǫ = k ∆ˆ − ∆ǫ
                                                        ¯
                                                              
                                                  ˆ + k ȳ − ∆
                                   (1 + k) ŷ = k ∆          ¯ ǫ

The second one gives
                                                                                    !
                                                         ∆¯             
                          k    ¯       ˆ ∆¯ + 2 − e∆¯ ǫ − e − 1 e∆¯ ∆
                                                                    ˆ − 2kǫ
         1 − ȳ − ŷ = ∆¯     e∆ − 1 + ∆e
                      e +k                                e∆¯ + k
              2                               
         ¯               ¯        ˆ + 2 − e∆¯ + k ǫ
      − e∆ + k ŷ = ke∆ (1 + k) ∆

                                                            
                                 ˆ = (1 + k) ŷ − k ȳ − ∆
From the first schedule we get k ∆                       ¯ ǫ. The second schedule then
becomes
                   2                       
                ¯          ¯                ¯             ¯              
        −       ∆          ∆       2
               e + k + e (1 + k) ŷ = ke∆ 2 + k − e∆ − (1 + k) ȳ − ∆   ¯ ǫ

                                                                 ¯                 
                                                                                  ¯ . From
The evolution of y therefore depends on the sign of χ = 2 + k − e∆ − (1 + k) ȳ − ∆




                                             55
                                                           ¯
                                                        1+∆k
the equilibrium condition at α = 1, we get ȳ =          1+k
                                                             ,   and the ∆ under free prices solves
                                                          
                                   ¯ + k e∆¯ = 1 + k 2 − ∆
                                   ∆                     ¯

                                             ¯ ∆¯ = 1 implies ∆
In the special case k = 0, we get ȳ = 1 and ∆e               ¯ = 0.5671 then χ = 1−e∆¯ +∆
                                                                                         ¯ =
−0.1961 < 0. In this case ŷ increases with ǫ: σ12 is higher under price protection. However,
                                                                ¯                 
as long as k is not too small (k > 0.185), we have 2 + k − e∆ − (1 + k) ȳ − ∆  ¯ > 0 and ŷ
decreasing with ǫ: σ12 is lower, and participation in the fast market is higher under price
protection.

Comparing Profits

It is convenient to define a system that nests price protection and free competition as special
cases. Fist, define the scaled controls

                                                 2r
                                            t1 ≡    q1 ,
                                                αs1
                                                2r
                                            t2 ≡ q2 .
                                                s1
                                  2r
Next the scaled profits by Fi ≡      π.
                                  s1 i
                                          With these notations, the profit functions are



                         F1 (t1 , t2 , α) =t1 (1 − α + αG (σ̂12 ) − G (t1 ))
                         F2 (t1 , t2 , α) =t2 (1 − G (σ̂12 ))

and we have

                                      σ̂12 = k (t2 − z (α) t1 )
                                       σ̂1 = t1
                                                                                               r
                                                                                          1+
The general system is the one with protected prices with α < 1 and z (α) = 1 − 1+ ρr1 (1 − α).
                                                                                  ρ2
The free segmentation case corresponds to α = 1 and z = 1. We can always return to the
system in σ using t2 = σ̂k12 + zσ̂1 and t1 = σ̂1 .



                                                   56
                                            ∂π1prot             ∂π2prot
   Let us now derive the FOCs. Using         ∂t1
                                                      = 0 and    ∂t2
                                                                          = 0 we get

                   1 − α + αG (σ̂12 ) − G (σ̂1 ) = t1 (αz (α) kg (σ̂12 ) + g (σ̂1 ))
                                    1 − G (σ̂12 ) = t2 kg (σ̂12 )

With exponential distributions we have that t2 is constant: t2 = νk . Note that this implies
q2 2r
   s1
                   ν
      = νk so q2 = 2r (s2 − s1 ). The fees of the fast venue are proportional to the difference in
effective speed.
   To understand the impact of price protection of profits, take the total differential

                                 dF1   ∂F1 dt1 ∂F1 dt2 ∂F1
                                     =        +        +
                                 dα    ∂t1 dα   ∂t2 dα   ∂α
                     ∂F1                                          dt2                    dF1       ∂F1
Optimality implies   ∂t1
                           = 0, and we have just seen that        dα
                                                                        = 0. Therefore   dα
                                                                                               =   ∂α
                                                                                                         and
                                                
     ∂F1                                  ∂ σ̂12
         = t1 −1 + G (σ̂12 ) + αg (σ̂12 )          = t1 (−1 + G (σ̂12 ) − αg (σ̂12 ) kt1 z ′ (α))
     ∂α                                    ∂α

Since z ′ (α) > 0, we see that ∂F
                               ∂α
                                  1
                                    < 0: price protection increases the profits of the slow market.
The economic intuition is simple. The term −1 + G (σ̂12 ) corresponds to the “sell and leave”
investors who come to the slow venue under protection. The term with z ′ corresponds to
the softer price effect on the marginal type σ̂12 . QED.


Proof of Proposition 3
The relationship between entry costs κ and profits determines the number of active venues
                                                         
in equilibrium. Let π i ≡ max πiprot , πiseg and π i ≡ min πiprot , πiseg . We analyze below the
existence of NE in pure strategies of the normal-form game shown in figure 5.

   • Two-venues equilibriums. Suppose κ ≤ π 1 , By Proposition 2, we have that π 1 = π1seg .
     It is immediate then that entry is always optimal for the slow venue when κ ≤ π1seg
      and that, for any π1seg < κ ≤ π1prot , we have π1seg − κ < 0 and π1prot − κ ≥ 0. A duopoly
      is never sustainable whenever κ > π1prot .

   • Single-venue equilibriums. Suppose π1prot < κ ≤ π2m .


                                                  57
        – Case 1: π2m ≥ κ > π1m . The only NE has the slow venue out and the fast venue
          entering, with payoff π2m .
        – Case 2: π 1 ≤ κ ≤ π 2 . In this case there is a single NE where only the fast venue
          enters.
        – Case 3: π 2 < κ < π1m . There are two NE where only one venue enters, either the
          slow of fast one.
        – Case 4: π 2 < κ ≤ min {π 2 , π1m }. When π2⊺ = π2 , there is a single NE where only
          the fast venue enters. When π2⊺ = π 2 , there are two NE where only one venue
          enters, either the slow of fast one.

   • No-entry equilibrium. Whenever κ > π2m the only NE has both venues out. QED


Proof of Proposition 4
Part (i) is straightforward. The interior solution FOC for speed is

                                                ∂ σ̂M
                                 − g (σ̂M )           q = C ′ (sM )                        (43)
                                                ∂sM

Combining 43 with the FOC for q, and using 30 to compute the partial derivative delivers
(ii). Using A2 we have that the LHS of 31 is given by

                                                              2rc (γ + r)
                                  2rC ′ (sM ) =
                                                               (1 − s)2

Using A1 we have that the RHS of 31equals ν/e. Combining these expressions yields 32.
Using 18 in 32 we have that the optimal speed ρM is given by
                                                                                      
                                          1/2           1/2                      1/2
                                (γ + r)             ν         − (2rce (γ + r))
                         ρM =
                                                         (2rce) /2
                                                                  1




                                                        58
When c is sufficiently low, it is easy to see that the value of ∂ρ∂γM is positive (negative) for
                                                        ν
small (large) values of γ and achieves a maximum at 8cer   − r. We also have

                                 ∂ 2 ρM             ν 1/2
                                        =−
                                  ∂γ 2     4 (2rce)1/2 (γ + r) /2
                                                              3




which is negative for all γ > 0. QED


Proof of Proposition 5
Parts (i) and (ii) are straightforward. To prove part (iii) we proceed in 3 steps.
Step 1: Necessary condition
Under A1 and with α = 1, we have

                                                        s1
                                        σ̂12 = ν −           σ̂1
                                                     s2 − s1

and
                                             ν
                                          q2 = (s2 − s1 )
                                            2r
The profits of the fast venue are π2 = q2 (1 − G (σ̂12 )) therefore

                                        ν
                                 π2 =      (s2 − s1 ) (1 − G (σ̂12 ))
                                        2r

Note that this system is equivalent to the monopoly case when s1 = 0. The FOC for speed
is
                                                                                ∂ σ̂12
                     2rC ′ (s2 ) = ν (1 − G (σ̂12 )) − ν (s2 − s1 ) g (σ̂12 )              (44)
                                                                                ∂s2
The consolidated solution is 2rC ′ (s2 ) = νe−1 . With two active venues we have

                                    ∂ σ̂12      k            ∂ σ̂1
                                           =         σ̂1 − k
                                    ∂s2      s2 − s1         ∂s2




                                                  59
Then,
                                                                                     
                                ′                                             ∂ σ̂1
                         2rC (s2 ) = ν (1 − G (σ̂12 )) − νg (σ̂12 ) kσ̂1 − s1
                                                                              ∂s2
                                                                 
                                        σ̂12                 ∂ σ̂1
                                   = e− ν ν − kσ̂1 − s1
                                                              ∂s2

            σ̂1          σ̂12 −σ̂1
Using x ≡    ν
                ,∆   ≡       ν

                                                                               
                                         ′              kx−1                ∂x
                                     2rC (s2 ) = νe             1 − kx + s1               (45)
                                                                            ∂s2

Since C ′ is an increasing function, market 2 chooses a higher speed whenever the RHS of 45
is greater than νe−1 . That is,
                                                                  
                                             kx                ∂x
                                        e          1 − kx + s1       −1>0                 (46)
                                                               ∂s2

                  ∂x
Step 2: Finding ∂s 2

Differentiating the system 41-42 we have


                                                               k
                                                  (1 + k) dx + d∆ −   ds2 = 0
                                                           (s2 − s1 )
                                                              k
                               e∆ + k dx + e∆ (x − 1) d∆ −            ds2 = 0
                                                           (s2 − s1 )

After appropriate substitutions we get
                                                                                 !
                                ∂x       k                 x 1 + e∆ (1 − x)
                                    =
                                ∂s2   s2 − s1          e∆ (2 + k − x (1 + k)) + k

Re-arranging,                                                        
                                          ∂x    k 2 x 1 + e∆ (1 − x)
                                       s1     = ∆                                         (47)
                                          ∂s2  e (1 + ∆) + k (1 + e∆ )
Step 3: Verifying inequality 46



                                                           60
Substituting 47 in 46 let
                                                                 !
                                           k 2 x 1 + e∆ (1 − x)
                    S (k) ≡ ekx   1 − kx + ∆                        −1                 (48)
                                          e (1 + ∆) + k (1 + e∆ )

Re-arranging we have
                                                                     !
                            e∆ (1 + ∆) + k 1 + e∆ − kxe∆ (1 + ∆ − kx)
             S(k) = ekx                                                 −1             (49)
                                       e∆ (1 + ∆) + k (1 + e∆ )

To satisfy the inequality we need S (k) > 0 for all k > 0 and S (0) = 0 (corresponding to
the monopolist case where s1 = 0). Let x (k) and ∆ (k) denote the solutions to the system
41-42 for a given k ≥ 0. Since x (k) and ∆ (k) are continuous functions, S(k) is continuous.
Using 41-42 one can see that

                                         lim x (k) = 0                                 (50)
                                         k→∞

                                         lim ∆ (k) = ∆
                                        k→∞


where ∆ is defined by e∆ + ∆ = 2. Notice that limk→∞ x (k) k = 1 − ∆. Similarly,

                                        lim x (k) = 1 − ∆                              (51)
                                        k→0

                                     lim ∆ (k) = ∆
                                     k→0


where where ∆ is defined by e∆ ∆ = 1. Taking limits of 48 we find

                                  lim S (k) = e0 − 1 = 0
                                  k→0

                                  lim S (k) = e1−∆ − 1 > 0
                                  k→∞


A sufficient condition for S(k) > 0 for all k > 0 is to show that the term between brackets
in 49 is greater than one. This is the case whenever
                                                       
          e∆ (1 + ∆ + k) + k + e∆ k (1 − x) + (xk)2 − x∆ > e∆ (1 + ∆ + k) + k          (52)



                                               61
Note from 41 that 1 − x = kx + ∆. Then,

                      (1 − x) + (xk)2 − x∆ = kx + ∆(1 − x) + (xk)2 > 0

We conclude that S(k) > 0 for all k > 0. QED


Proof of Lemmas and Propositions of Section 4
The market clearing condition 6 depends on the marginal trading type in equation 5. Using
5 to solve for p, and using 18 we obtain 34. From Lemma 4 we know that σ̂1prot clears the
asset market when prices are protected. The marginal type is then given by
                                                                 
                                       prot                γ
                                  σ̂          =       1+              (rp − µ)
                                                         r + ρ1

In this case, the marginal type joins market 1 with speed ρ1 . Using 18 and re-arranging
yields (ii).
   To find the VWAP price in the free segmentation case, we need the steady-state instan-
taneous transaction rate τi . In the case of a single venue, this rate is given by the product
between the mass of active investors that want to trade, and the market speed ρi . The mass
                                                 seg
of active investors in market 1 is given by G (σ̂12  )−G (σ̂1seg ), and a fraction ασ,+ (0) = ασ,− (1)
of them want to trade in the steady-state. Using ?? we then have

                                      γ                           
                                                 f ree         f ree
                            τ1 =             G σ̂12      − G σ̂1       ρ1
                                 4 (γ + ρ1 )

Using using 18 delivers ??. The rate τ2 can be found analogously. In steady state both
                                τi
relative transaction volumes τi +τ j
                                     and prices are constant, which explains 35.
    Expression 36 is found by replacing 32 in 34 and using σ̂M = ν under A1. The frictionless
competitive is derived in Lemma 6.




                                                          62
Proof of Proposition 7

To prove pM > pseg , it is sufficient to show that pM ≥ pseg
                                                         2 . The latter requires

                                             r + γsM       r + γs2
                                       σ̂M           ≥ σ̂2                                        (53)
                                               r+γ          r+γ
                                             r + γsM    σ̂2    σ̂2
                                                     ≥       =
                                             r + γs2   σ̂M      ν

where we used A1’s implication σ̂M = ν, and skipped super-indexes for notation simplicity.
Section 2 shows that σ̂1 < σ̂2 < σ̂12 . Using x ≡ σ̂ν1 , ∆ ≡ σ̂12ν−σ̂1 , we then have x + ∆ > σ̂ν2 . It
is thus sufficient to prove that

                                       r + γsM
                                               − (x + ∆) ≥ 0
                                       r + γs2

Using k = s1 / (s2 − s1 ) we can define the following function

                                          r + γsM k
                            U (k) ≡                     − (x (k) + ∆ (k))
                                       r + γ (1 + k) s1

To prove 53 it is sufficient to show that U(k) ≥ 0 for all k ≥ 0. Note first that k → 0 iff
s1 → 0. Then,
                                                         
                                 lim U(k) = 1 − 1 − ∆ + ∆ = 0
                                 k→0

where we used 51. By 50, we have limk→∞ U(k) > 0. To show that U ′ (k) is positive for all
k we need that
                               sM (r + γ(1 + k)s1 ) > s1 (r + γsM k)

which holds true since sM > s1 . QED


Proof of Lemma 6
The welfare formula reflects the joint welfare of four groups: exchange owners, dropout
investors, active traders in the slow market and active traders in the fast market. Transfers
from investors to exchange owners do not represent net social gains and hence are not
reflected in 38. When dropout investors join market i, their before-fees gains are independent



                                                    63
of their types and equal to
                                                         1
                               W (σ, σ̂i , si ) − Wout = si āσ̂i
                                                         r
                                              1
                                                   
The total mass of these investors equals 2ā    − 1 (1 − G (σ̂1 )), and under free competition a
                 1
                                seg
mass equal to 2ā − 1 (1 − G (σ̂12 )) joins the fast market. Thus, the social gains for this
group in the free and protected cases are given by
                             h                                                                    i
              ā        1
                           − 1 (G (σ̂12 ) − G (σ̂1 )) s1 σ̂1f ree + (1 − G (σ̂12 )) sf2 ree σ̂12
                                                                                              f ree
                                                                                                        (54)
              r        2ā
                                                                    
                                                      ā 1                                         
                                                                 − 1 (1 − G (σ̂1 )) s1 σ̂1prot          (55)
                                                      r 2ā

Using Proposition 1, the welfare of active investors in the slow market is given by
                                               R
                                             σ̂12                           
                                                        s1         1        s1
                                         ˆ
                                                                         R
                                                              ā −     σ̂1 + σ dG (σ)                   (56)
                                         σ̂1R           r          2        2r

The welfare of active investors in the fast market under free and protected prices are given
by
                                             "                                     #
                                    σ̄
                                              sf2 ree         1             s f ree
                               ˆ
                                                        ā −      σ̂2f ree + 2 σ dG (σ)                 (57)
                                     f ree
                                   σ̂12          r            2               2r
                                       ˆ σ̄                                       
                                                   s1          1      prot   sprot
                                                                               2
                                                         ā −      σ̂1 +            σ dG (σ)            (58)
                                           prot
                                         σ̂12       r          2              2r

Adding up 54, 56 and 57 yields gross social welfare under free competition. Similarly, adding
up 55, 56 and 58 yields gross social welfare under price protection. Expression ?? is obtained
by subtracting speed investment costs. The single speed market equation is a particular case.
QED




                                                                   64
Proof of Proposition 8
Step 1: Finding net social value of speed investment. Endogenous speed choice increases
social welfare anytime that Wseg − WBertrand > 0. Under A1 we then require that
                              ˆ   σ̄                          ˆ    σ̄
                                              −σ                               −σ
                 (s2 − s1 )              σe    ν   dσ − s1                σe    ν   dσ − 2rνC (s2 ) > 0
                                f ree
                              σ̂12                             σ̂1f ree


Computing the integrals, we have
                                     f ree
                                  −σ̂12               −σ
                        f ree
           (s2 − s1 ) σ̂12    + ν e ν − s1 σ̂1f ree + ν e ν − ν − 2rνC (s2 ) > 0

                                            σ̂1          σ̂12 −σ̂1
Dividing by νs1 and using x ≡                ν
                                                ,∆   ≡       ν
                                                                   ,k     ≡ s1 / (s2 − s1 ), we can write the LHS of
the above inequality as follows

                           1
                 R (k) ≡     (∆ + x + 1) e−(∆+x) − (x + 1) e−x − 1 − 2rC (s2 )                                 (59)
                           k

The net social value of speed investments is positive anytime that R(k) > 0.
Step 2: R′ (k) < 0
Differentiating 59 we have that R′ (k) < 0 iff

                           −e−∆ [(∆ + x) (1 + ∆′ + x′ ) + 1] + xx′ < 0

Re-arranging
                                                                                               
                        (∆ + x) (∆′ + 1) + (1 + ∆x′ ) > xx′ e∆ − 1

Differentiating 41-42 we find that
                                                                   
                                        ′        −x e∆ (1 − x) + 1
                                       x (k) = ∆                                                               (60)
                                               e (1 + ∆) + k (1 + e∆ )
                                                         ∆
                                                                
                                                    −x  e  −  1
                                       ∆′ (k) = ∆                                                              (61)
                                               e (1 + ∆) + k (1 + e∆ )

Thus, x(k) and ∆(k) are decreasing functions. The RHS is thus negative. The sign of the




                                                              65
LHS depends on the expressions (∆′ + 1) and (1 + ∆x′ ). Using 60 and 61 we have

                                         e∆ (1 + ∆ + k − x) + k + x
                           ∆′ + 1 =                                 >0
                                           e∆ (1 + ∆) + k (1 + e∆ )

and
                                 e∆ (1 + k + ∆ (1 − x(1 − x))) + k − ∆x
                     1 + ∆x′ =                                          >0
                                         e∆ (1 + ∆) + k (1 + e∆ )
Thus, R′ (k) < 0
Step 3. Verifying the claim
Note that the inequality is always satisfied when s1 → 0 (k → 0) since R(k) → ∞. When
s1 → 1, for any solution s2 > s1 where the fast venue is active, we know from the proof of
proposition 5 that limk→∞ x(k) = 0. Then,

                                  lim R(k) = −2 − 2rC (s2 ) < 0
                                 k→∞


Consequently, we found that limk→∞ R(k) < 0 and limk→0 R(k) → ∞. Since R is a con-
tinuous function, by the intermediate value theorem there is a number k > 0 such that
R(k) = 0. Since R is monotonically decreasing, k is unique. The, for any s2 > s1 , s1 is given
          s2 k
by s1 =   1+k
               .   QED


Proof of Proposition 9
Using Lemma 6, the gains of competition are given by
                                        σ̂12                       σ                       σ
                             s1                          s2                      sM
                                   ˆ                          ˆ                       ˆ
          Wcomp − WM     −κ=                   σdG (σ) +               σdG (σ) −                σdG (σ)
                             2r        σ̂1               2r       σ̂12           2r       σ̂M

                            − C (s2 ) + C (sM ) − κ

Using A1, computing the integrals, and re-arranging, we have that the gains from competition
are equal to zero if and only if




                                                     66
                     s1 − σ̂1           (s2 − s1 ) − σ̂12            νsM
                        e ν (σ̂1 + ν) +           e ν (σ̂12 + ν) −         =                      (62)
                     2r                     2r                        re
                                                   (κ + C (s2 ) − C (sM ))

which yields κ. Note that using 24 under A1 we have

                                   s1  − σ̂1      σ̂12
                                                        
                        π1comp =      σ̂1 e ν − e− ν
                                   2r
                                   1 σ̂12
                        π2comp   = e− ν (σ̂1 s1 + σ̂12 (s2 − s1 )) − C(s2 )
                                   2r
                                   νsM
                           πM    =       − C (sM )
                                   2re

Re-arranging 62, and using the profit functions above, we obtain the following expression


                                                          ν comp       ν     σ̂12
                      π1comp − κ = −π2comp −                 π1  + πM − s2 e− ν                   (63)
                                                         σ̂1           2r

   We from the proof of 5 that when s → 1, σ̂1 → 0 and σ̂12 → ν∆. Thus, π1comp and π2comp
                                                                            ν
converge to zero and we have from 63 that κ approaches                      2r
                                                                               (1   − 1/e). QED


Proof of Proposition 10
In general, its objective function is
                                           σ12                      σ
                                  s                        s2
                                      ˆ                         ˆ
                       max                       σdG (σ) +              σdG (σ) − C (s2 )
                      s2 ,q1 ,q2 2r       σ1               2r    σ12


and the marginal types are given by 21 and 23, so we have

                                                      σ1
                                               q1 = s1   ,
                                                      2r
                                                               σ12
                                               q2 = (s2 − s1 )     + q1 .
                                                               2r

The break-even constraint is q2 (1 − G (σ̂12 )) ≥ C (s2 ), so the Lagrangian (scaled by 2r) is



                                                          67
      ˆ    σ                      ˆ   σ
L=s            σdG (σ)+(s − s)            σdG (σ)−2rC (s)+λ {((s − s) σ12 + sσ1 ) (1 − G (σ12 )) − 2rC (s)}
          σ1                        σ12


and the FOCs for affiliations are

                         σ1∗ g (σ1∗ ) = λ,
                                                                                          
                         ∗        ∗         λ                     ∗         s      ∗     ∗
                        σ12 g   (σ12 )   =               1−   G (σ12 )   −     g (σ12 ) σ1 .
                                           1+λ                             s−s

Optimal speed satisfies
                                                    σ
                        ∂C ∗       1                                      λ
                                               ˆ
                                                                                      ∗      ∗
                     2r    (s ) =                        σdG (σ) +           (1 − G (σ12 )) σ12 ,
                        ∂ρ        1+λ               ∗
                                                   σ12                   1+λ

and the break-even constraint is simply 2rC (s∗ ) = (1 − G (σ12 )) ((s − s) σ12
                                                                              ∗
                                                                                + sσ1∗ ). From
the first two FOCs it is immediate that σ1∗ > σ12
                                               ∗
                                                  , which is inconsistent with our assumption
that market 1 is active. We conclude that there must be a single venue.
   This result can be extended to the case where the planner operates the two venues with
one budget constraint. In this case, the constraint is (G (σ̂12 ) − G (σ̂1 )) q1 +(1 − G (σ̂12 )) q2 >
C (s2 ) and the Lagrangian is
      ˆ    σ                      ˆ   σ
L=s            σdG (σ)+(s − s)            σdG (σ)−2rC (s)+λ ((1 − G (σ1 )) sσ1 + (1 − G (σ12 )) (s − s) σ12 − 2rC (s))
          σ1                        σ12


and the FOCs for affiliations are

                                                                  1+λ ∗
                                          1 − G (σ1∗ ) = g (σ1∗ )    σ
                                                                   λ 1
                                                  ∗               1+λ ∗
                                          1 − G (σ12 ) = g (σ2∗ )    σ
                                                                   λ 12

Optimal speed satisfies the same equation as before. In this case, we see that σ1∗ = σ12
                                                                                      ∗
                                                                                         ,
market 1 is still inactive.




                                                              68
Proof of Proposition 11
With one venue, the Lagrangian is
                       ˆ      σ
                 L=s              σdG (σ) − 2rC (s) + λ (sσ̂ (1 − G (σ̂)) − 2rC (s))
                         σ̂


From the previous section, it is immediate that

                                                                  1+λ ∗
                                       1 − G (σ ∗ ) = g (σ ∗ )       σ
                                                                   λ 1
                                       1−G(σM )
Since the monopoly solution is          g(σM )
                                                  = σM , it is clear that σM > σ ∗ .
   Regarding speed, the planner chooses
                                                  σ
                     ∂C ∗       1                                  λ
                                             ˆ
                  2r    (s ) =                        σdG (σ) +       (1 − G (σ ∗ )) σ ∗ ,
                     ∂ρ        1+λ               σ∗               1+λ

while the monopoly chooses 2r ∂C
                              ∂s
                                 (sM ) = (1 − G (σM )) σM . If λ = 0, it is clear that s∗ > sM ,
as expected. However, when the break-even constraint binds, the comparison is ambiguous.
We now provide a simple example to show that it is indeed possible for the monopoly to
over-invest in speed.

Counter-example

Consider a binary distribution. High σ H = σ̄ with population share n. Low sigma σ L = ασ̄
with α < 1 and population share 1 − n. Cost function 2rC = 2c s2 . The marginal price is
q i = ρσ i . The monopoly has two choices:

   • Set price to ρασ̄, get everyone to participate, then π = ρασ̄ − c (s).

   • Set high price ρσ̄, only high types participate, then π = ρnσ̄ − c (s).

The monopoly chooses high speed low participation if and only if n > α. The speed choice
is max (n, α) σ̄/c.
    The Planner has two main choices. If all participate W = ρσ̄ ((1 − n) α + n)−c (s). Then
it depends on whether the break-even constraint binds. If it does not, then the planner
                                                                  σ̄((1−n)α+n)
chooses a higher speed than any monopoly: s∗ =                          c
                                                                               .   The break-even constraint

                                                         69
binds if s∗ ασ̄ < c (s∗ ), which is equivalent to cs > 2ασ̄ ⇔ (1 − n) α + n > 2α ⇔ α <
n (1 − α). The planner can still choose full participation, but at limit price c (s) = sασ̄ ⇔
s = 2ασ̄
      c
         . Then welfare is W = sσ̄n (1 − α) = 2c (σ̄)2 nα (1 − α).
   The other choice for the planner is that only high type participate. This is same program
                                                1
as monopoly. Speed choice is nσ̄/c. Welfare is 2c (nσ̄)2 . The Planner chooses low speed high
participation iff 2c (σ̄)2 nα (1 − α) > 2c
                                        1
                                           (nσ̄)2 or 4α (1 − α) > n.
   To summarize, for the planner to choose lower speed than monopoly, we need: (i) n > α
so monopoly goes for high speed low participation; (ii) 4α (1 − α) > n so planner chooses
high participation; (iii) α < n (1 − α) so break-even violated; and (iv) nσ̄/c > 2ασ̄
                                                                                  c
                                                                                      ⇔ n > 2α
so monopoly speed indeed higher. It is easy to see that (i) is not binding. So we have the
three following conditions

  1. 4α (1 − α) > n
            n
  2. α <   1+n

  3. n > 2α

Take n = 1/4 then we need α < 1/8 for third, second is not binding, and it is easy to find a
solution for the first. QED.


Proof of Lemma 7
In a frictionless competitive market we have maximum investor participation. Thus, the
marginal type is given by
                                         G (σ̂w )      1
                                                    =    −1
                                       1 − G (σ̂w )   2a
Using A1 we obtain σ̂w = −ν log(2a), which combined with sw = 1 and 34 yields pw =
1
r
  [µ − ν log (2a)]. With sw = 1 the instantaneous transaction rate ?? becomes

                                    γ                  γ  − σ̂w  γa
                             τw =     (1 − G (σ̂w )) =    e ν =
                                    4                  4            2




                                                70
By Lemma 6, social welfare is given by

                            a σ
                               ˆ
                       Ww =       σdG (σ)
                            r σ̂w
                                ˆ ∞
                             a         σ̂w    a
                          =         σe− ν dσ = ν (1 − log (2a))
                            rν σ̂w            r
                                                                      ν
Note that when a = 1/2, Walrasian social welfare is simply given by   2r
                                                                         .   QED.




                                           71
                          Figure 8: Equilibrium Outcomes and Technology cost
Equilibrium outcomes when asset supply a equals 0.5. In this case price regulation is immaterial. The labels are as follows.
“Consolidated” correspond to a single monopolist venue. “Two-venues” correspond to a speed-differentiated duopoly. “Planner”
correspond to the constrained-efficient solution in section 5. In all cases entry costs κ are zero. Parameter choices are described
in section 6.




                                                               72
             Figure 9: Equilibrium Outcomes, Technology Cost and Price Regulation
Equilibrium outcomes when asset supply a equals 0.45. In this case price regulation matters. The labels are as follows. “Free
Competition” corresponds to the case of segmented markets, with two asset prices. “Price Protection” corresponds to the case
with a single asset price in all venues. “Free: Total” denotes total investor participation under free competition. In all cases
entry costs κ are zero. Parameter choices are described in section 6.




                                                              73
                                       Figure 10: Equilibrium Asset Prices
Equilibrium asset prices when asset supply a equals 0.45. In this case price regulation matters. The labels are as follows.
“Consolidated” correspond to a single monopolist venue. “Free: VWAP” corresponds to the volume-weighted average price
under free segmentation. “Price Protection” denotes the unique asset price under price protection. “Planner” corresponds to
the equilibrium price in the constrained-efficient solution in section 5. Parameter choices are described in section 6.




                                                               74
