                               NBER WORKING PAPER SERIES




                 HIGH WAGE WORKERS WORK FOR HIGH WAGE FIRMS

                                      Katarína Borovičková
                                         Robert Shimer

                                       Working Paper 24074
                               http://www.nber.org/papers/w24074


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                   November 2017




We are grateful for comments from John Abowd, Fernando Alvarez, Stephane Bonhomme,
Jaroslav Borovička, Thibaut Lamadon, Rasmus Lentz, Ilse Lindenlaub, Elena Manresa, Derek
Neal and Martin Rotemberg, as well as participants in various seminars. Any remaining errors are
our own. The views expressed herein are those of the authors and do not necessarily reflect the
views of the National Bureau of Economic Research.

At least one co-author has disclosed a financial relationship of potential relevance for this
research. Further information is available online at http://www.nber.org/papers/w24074.ack

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2017 by Katarína Borovičková and Robert Shimer. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.
High Wage Workers Work for High Wage Firms
Katarína Borovičková and Robert Shimer
NBER Working Paper No. 24074
November 2017
JEL No. E24,J3,J6

                                         ABSTRACT

We develop a new approach to measuring the correlation between the types of matched workers
and firms. Our approach accurately measures the correlation in data sets with many workers and
firms, but a small number of independent observations for each. Using administrative data from
Austria, we find that the correlation between worker and firm types lies between 0.4 and 0.6. We
use artificial data sets with correlated worker and firm types to show that our estimator is
accurate. In contrast, the Abowd, Kramarz and Margolis (1999) fixed effects estimator suggests
no correlation between types in our data set. We show both theoretically and empirically that this
reflects an incidental parameter problem.


Katarína Borovičková
New York University
19 W 4th Street, 6th floor
New York, NY 10012
kb103@nyu.edu

Robert Shimer
Department of Economics
University of Chicago
1126 East 59th Street
Chicago, IL 60637
and NBER
shimer@uchicago.edu
         High Wage Workers Work for High Wage Firms∗
                   Katarı́na Borovičková                  Robert Shimer
                   New York University                  University of Chicago

                                       November 22, 2017



                                              Abstract

           We develop a new approach to measuring the correlation between the types of
        matched workers and firms. Our approach accurately measures the correlation in data
        sets with many workers and firms, but a small number of independent observations for
        each. Using administrative data from Austria, we find that the correlation between
        worker and firm types lies between 0.4 and 0.6. We use artificial data sets with corre-
        lated worker and firm types to show that our estimator is accurate. In contrast, the
        Abowd, Kramarz and Margolis (1999) fixed effects estimator suggests no correlation
        between types in our data set. We show both theoretically and empirically that this
        reflects an incidental parameter problem.



1       Introduction
There is sorting everywhere in the economy. Wealthier, more educated, more attractive
men on average marry wealthier, more educated, more attractive women (Becker, 1973).
Higher income households reside in distinct neighborhoods and send their children to different
schools than low income households (Tiebout, 1956). Elite universities enroll the most
qualified undergraduates (Solomon, 1975). The one place where it has been hard to find
evidence of sorting is in the labor market. A fair summary of an extensive literature following
Abowd, Kramarz and Margolis (1999) (hereafter AKM) is that the correlation between the
    ∗
    We are grateful for comments from John Abowd, Fernando Alvarez, Stephane Bonhomme, Jaroslav
Borovička, Thibaut Lamadon, Rasmus Lentz, Ilse Lindenlaub, Elena Manresa, Derek Neal and Martin
Rotemberg, as well as participants in various seminars. Any remaining errors are our own. This material
is based in part on work supported by the National Science Foundation under grant numbers SES-1559225
and SES-1559459.



                                                    1
fixed characteristics of workers and their employers is close to zero and sometimes negative.1
This is often interpreted as saying that there is no evidence that high wage workers work for
high wage firms and is used to justify theoretical models in which there is no sorting between
workers and firms (Postel-Vinay and Robin, 2002; Christensen, Lentz, Mortensen, Neumann
and Werwatz, 2005).
    This paper argues that this conclusion is unmerited. The finding that there is no sorting is
a consequence of a well-known statistical problem with the fixed effects estimator proposed by
AKM, a version of the incidental parameter problem which is often dubbed “limited mobility
bias” (Abowd, Kramarz, Lengermann and Pérez-Duarte, 2004; Andrews, Gill, Schank and
Upward, 2008). We propose a simple, novel, and accurate measure of the extent of sorting
in the labor market and apply it to Austrian data. We find that the correlation between
the unobserved types of workers and their employers is at least 0.4, probably above 0.5, and
possibly as high as 0.6. The AKM fixed effects estimator delivers a correlation close to zero
in our data set.
    Measuring the correlation between types requires a cardinal measure of type. We define
a worker’s type to be the expected log wage she receives in an employment relationship,
conditional on taking the job. That is, if we could observe a worker for a very long period of
time, her type would be the average log wage she receives. Similarly, a firm’s type is defined
to be the expected log wage that it pays to an employee, conditional on hiring the worker,
or equivalently the average log wage paid in a very long time series. This definition of type
differs from the AKM fixed effects, but under natural conditions which we spell out in the
body of the paper, the correlation between our types is the same as the correlation between
the AKM fixed effects, assuming both are measured without error.2 That is, the difference
between our results and those based on the AKM approach is not conceptual, but rather
due to measurement issues.
    The important difference between the two approaches is that real world data sets have few
conditionally independent wage observations for most workers and firms and our approach, in
contrast to AKM, is well-suited to this type of environment. Wages are highly autocorrelated
within worker-firm matches, so we think of the relevant unit of observation as being at the
match level. In our data set we observe 4.1 million Austrian men working at 0.7 million
   1
     In addition to the original study on French data by AKM, see Abowd, Creecy and Kramarz (2002) for
Washington State, Iranzo, Schivardi and Tosetti (2008) for Italy, Gruetter and Lalive (2009) for Austria,
Card, Heining and Kline (2013) for Germany, Bagger, Sørensen and Vejlin (2013) and Bagger, Fontaine,
Postel-Vinay and Robin (2014) for Denmark, and Lopes de Melo (forthcoming) for Brazil, among others.
   2
     Our definition of type is closer to Christensen, Lentz, Mortensen, Neumann and Werwatz (2005), who
define a firm’s type to be equal to the average wage (in levels rather than logs) it pays. It is worth noting
that both AKM’s and our definition of firm type is consistent with high type firms being either high or low
productivity firms, for the reasons discussed in Eeckhout and Kircher (2011).



                                                     2
firms between 1972 and 2007. The median worker has two employers and the median firm
has three employees over the entire time it is in the sample, although a few firms employ
many more workers. It follows that the empirical average log wage is a noisy measure of a
worker’s or firm’s type even with 36 years of data.
    We therefore seek a measure of the correlation between types when we have a large
number of workers and firms but the number of conditionally independent observations for
each worker and firm is small. Our approach is to measure the correlation without measuring
the type of any particular worker or firm, an important distinction from the AKM fixed
effects approach. We assume that there is some underlying joint distribution of the types
of matched workers and firms with finite first and second moments and we use a variance
decomposition to recover those moments. This is similar to random effects, except we do not
need to make any functional form assumptions on the joint distribution of matched types,
beyond the finite second moment restriction.
    Our approach allows the number of conditionally independent observations to be small
but not too small. Our key identifying assumption is that for each worker, we have two
or more observations of the actual wage received which are independently and identically
distributed conditional on the worker’s type; and for each firm, we have two or more observa-
tions of the actual wage paid which are independently and identically distributed conditional
on the firm’s type. Our measured correlation then pertains to the sample of workers and
firms for whom this is true.
    We first measure the correlation between types using annual wage data and find it is
about 0.6 for both men and women. However, we recognize that these data might not
contain independent observations of the wage conditional on type. To construct such data,
we rely on economic theory. First, since wages are highly autocorrelated within matches,
two observations of the same worker in the same job are not independent. We therefore
average all our wage data to the worker-firm match level. Second, in simple search models
without on-the-job search, such as Shimer and Smith (2000), wages in any two employment
relationships are independent conditional on the worker’s type. This suggests that we can
use data on all workers who have at least two jobs and all firms that have at least two
employees in our data set. Third, in a more realistic search model with on-the-job search,
as in Burdett and Mortensen (1998), the wage in any two jobs which are separated by an
unemployment spell are independent conditional on the worker’s type. We define the time
between registered unemployment spells as an employment spell and further trim the data
to keep only the longest job during each employment spell for each worker. Our empirical
results depend on which data set we use, and our preferred estimates use the last approach,
with one observation per employment spell per worker. Using this data set, we estimate that


                                             3
the correlation between worker and firm types is 0.49 for men and 0.43 for women.
    A realistic model might also recognize that types change over time for reasons that we
cannot observe. Because our approach is amenable to estimation using short time series, we
can estimate the correlation between worker and firm types using only a single year’s data,
which should reduce the importance of time-varying types. Our year-by-year estimates of
the correlation are somewhat larger than our pooled estimates, averaging 0.53 for men and
0.47 for women. This is consistent with the hypothesis of time-varying types.
    We also estimate our model for each age and use a synthetic cohort approach to see how
sorting evolves over the life cycle. We find a substantially rising correlation between worker
and firm types for men, from 0.4 for men younger than 25 to above 0.6 for men in their
thirties, finally approaching 0.8 for men older than 45. This is consistent with the view that
learning about types takes time, but once types are known, the labor market sorts the high
wage workers into high wage firms. The pattern for women is more complicated, possibly
reflecting the exit and reentry of women from the labor force during years of peak fertility.
    Finally, we allow workers’ and firms’ types to vary across matches depending on the
partners’ observable characteristic. For example, we let firms have different types when
matched with workers with different skill levels. This raises the estimated correlation to 0.60
for men and 0.53 for women. We get similar results when we allow for variation in both
workers’ and firms’ types depending on whether the job is blue or white collar and when we
allow for variation in workers’ types depending on the firm’s industry.
    Our results differ from the existing literature based on AKM because our method for
measuring the correlation differs. The key difference is that the AKM approach requires
estimating a fixed effect for each worker and firm, a huge number of parameters. These
estimates are consistent only in the limit when the number of workers, the number of firms,
and the number of independent observations for each worker and firm all go to infinity.
With a finite number of observations per worker and firm, the estimated fixed effects are
noisy measures of the true types. Moreover, this noise is negatively correlated across matched
workers and firms, biasing down or even negative the estimated correlation between matched
worker and firm fixed effects. In contrast, our approach only requires two independent
observations for each worker and firm.
    We perform three exercises to show that the incidental parameter problem drives the
estimated correlation in the fixed effects literature. First, we show that the estimated cor-
relation using our approach and using the fixed effects approach differs dramatically even
when estimated on the same data set. Second, using Monte Carlo on artificial data sets that
match the statistical properties of real-world data, we verify that our approach accurately
measures the correlation between types while the fixed effects approach is biased. Third, we


                                              4
construct a simple matching model where we can measure the bias in the fixed effects esti-
mator analytically. The model explains about half of the difference between our estimates
and the fixed effects estimates given (i) our estimates of the first and second moments of the
joint distribution of worker and firm types and (ii) the mean number of jobs held by each
worker and the mean number of workers who work at each firm. Much of the remaining
difference between the two estimators seems to reflect the fact that our model understates
clustering in the matching graph, i.e. the fact that a worker’s coworkers in one job are much
more likely than other similar workers to be coworkers at another job. This leads our model
to overstate the number of independent observations for each worker and firm and hence un-
derstate the bias in the AKM approach. Finally, violations of AKM’s “exogenous mobility”
assumption, that errors in the wage equation are orthogonal to worker and firm identities,
may be important for explaining the remaining difference between the estimators.
    Our main contribution lies in developing a simple and accurate measure of the correlation
between worker and firm types. As previously noted, we are not the first to observe the bias
of the AKM fixed effects estimator. Andrews, Gill, Schank and Upward (2008) propose
estimating the AKM correlation and then applying a bias correction. Andrews, Gill, Schank
and Upward (2012) instead suggest estimating the AKM correlation using a subsample of
workers, which worsens the bias, and then extrapolating to estimate the true correlation.
Jochmans and Weidner (2017) propose bounds on the variance of the fixed effects estimator
and use those to analyze the bias in the AKM correlation. Our approach avoids the need
for bias corrections, extrapolation, or bounds.
    Bonhomme, Lamadon and Manresa (2016) offer a complementary approach to examining
sorting patterns in the data. They propose a two-step estimator where firms are first classified
into bins before estimating fixed effects. One advantage of our approach is its simplicity and
transparency. We only need to estimate variances and covariances, while they need to first
group firms into bins. A side effect of this is that our estimates appear to be more accurate.
Using Monte Carlo, we show that we are able to recover the correlation and obtain tight
confidence intervals using our approach in artificial data sets. In contrast, the estimator
proposed by Bonhomme, Lamadon and Manresa (2016) appears to be biased and their
confidence intervals are wider; see their Table 3. On the other hand, Bonhomme, Lamadon
and Manresa (2016) are able to answer questions that we cannot address, in particular how
a worker’s wage depends on her employer’s type.
    A third approach is to think of the AKM correlation as a moment to match in a structural
model. Two recent examples are Hagedorn, Law and Manovskii (2017) and Lopes de Melo
(forthcoming).3 Our assumption that the wages in jobs separated by an unemployment spell
  3
      Lopes de Melo (forthcoming) shows that the correlation between a worker’s AKM fixed effect and the


                                                    5
are independent conditional on a worker’s type is satisfied in the models in both of those
papers, and so our approach imposes fewer theoretical restrictions. The drawback to these
structural approaches is that all the results, including the correlation between types, may
be sensitive to the additional assumptions in the model. The payoff from the structural
approach is that these papers can discuss issues that are beyond the scope of this paper.
For example, Hagedorn, Law and Manovskii (2017) identify the output of any worker in
any firm, while we have nothing to say about the production function, only about measured
sorting between high wage workers and high wage firms.
    The remainder of the paper proceeds as follows. Section 2 describes our measure of
the correlation between worker and firm types and compares it to the AKM measure of
correlation. Section 3 discusses the data that we use in our analysis. Section 4 gives our
main empirical results, showing that the correlation between worker and firm types lies
between 0.4 and 0.6. Section 5 compares our results with those from the AKM estimator
and develops a random graph approach for quantifying the importance of the incidental
parameter problem. Section 6 briefly concludes.


2     Measuring Correlation
2.1     Measuring Correlation in Theory
We consider a cross-section of an economy with a measure I of employed workers indexed
by i uniform on [0, I] and a measure J of firms indexed by j uniform on [0, J]. Workers
and firms are distinguished by their characteristics, yi ∈ Y and zj ∈ Z, respectively. Let
F (y) denote the distribution of workers’ characteristics. Let Gy (z) denote the distribution
of the employer’s characteristics conditional on the worker’s characteristics. We treat F and
G as primitives in our environment and view these objects as coming from a snapshot of a
dynamic matching model. That is, F is the cross-sectional distribution of employed work-
ers’ characteristics and Gy is the cross-sectional conditional distribution of their employers’
characteristics. In such a model, differences in G across y might reflect the fact that different
workers find or accept different jobs with different probabilities or that they have different
patterns of job-to-job mobility.
    Define                                  Z
                                    Φ(z) ≡      Gy (z)dF (y)
                                                   Y

AKM fixed effect of her coworkers is a useful moment in estimating his structural model. This moment is
related to one we use, the correlation between a worker’s log wage in her other jobs and the log wage of her
coworkers in this job.



                                                       6
to be the unconditional distribution of the characteristics of jobs in the economy. This is
distinct from the distribution of the characteristics of firms to the extent that firms with
different characteristics employ different numbers of workers. We also define Ψz (y) to be the
conditional distribution of the worker’s characteristics given the firm’s characteristics. Using
Bayes rule, we have Gy (z)F (y) ≡ Ψz (y)Φ(z) for all y and z.
    We assume that a worker with characteristics y matched to a firm with characteristics
z earns a wage that possibly depends on both vectors of characteristics and on a shock.
Let w(y, z, u) denote the uth quantile of the cross-sectional log wage distribution in an (y, z)
match.4 In a competitive environment where y captures all productivity-relevant character-
istics of a worker, the wage should depend only on y. If there are search (or other) frictions
or if we are only able to measure y with noise, the equilibrium wage may be correlated with
z and other unobserved characteristics captured by u.
    We are interested in measuring the correlation between matched workers and firms in an
employment relationship. To do this, we need a cardinal, unidimensional measure of workers’
and firms’ types. Workers’ and firms’ characteristics y and z may be vector-valued and in
any case do not have even an ordinal interpretation.5 We therefore propose measuring the
correlation between the expected log wage received by a worker conditional on her charac-
teristics and the expected log wage paid by her employer conditional on its characteristics.
That is, we are interested in understanding whether high wage workers typically work in
high wage firms.
    For now we assume that we know the distributions F , G, Φ and Ψ, as well as the wage
function w. Of course, this is not true in real world data sets, and so Sections 2.3–2.7
explain how we can estimate the correlation between expected log wages using the limited
wage data that is available. Here we simply define expected log wages and the correlation
between worker and firm types. Let
                                               Z Z       1
                                    λ(yi ) ≡                 w(yi , z, u) du dGyi (z)
                                                Z   0
                                               Z Z       1
                               and µ(zj ) ≡                  w(y, zj , u) du dΨzj (y)
                                                Y    0


denote the expected log wage received by worker i with characteristics yi and the expected
log wage paid by firm j with characteristics zj , respectively. From now on, we identify a
   4
      This is the distribution of log wages in the cross-section. If y and z reject some wage draws or turnover
is higher following some wage draws, that is reflected in the matching distributions G and Ψ, not in the log
wage distribution.
    5
      Lindenlaub and Postel-Vinay (2017) study a model with multidimensional characteristics and examine
the conditions under which there is positively assortative matching dimension-by-dimension. It is impossible
to measure this stronger notion of sorting using wage data alone.


                                                             7
worker by her expected log wage and call λ(yi ) her type. Symmetrically, we identify a firm
by the expected log wage it pays and call µ(zj ) its type.
   We want to measure the correlation between the type of a worker and the type of her
job in the cross-section of matches at a point in time,

                                                               c
                                                       ρ≡          ,
                                                             σλ σµ

where                  sZ                                                  sZ
                σλ ≡             (λ(y) − w̄)2 dF (y) and σµ ≡                    (µ(z) − w̄)2 dΦ(z)
                             Y                                               Z

are the cross-sectional standard deviations of worker types and job types,
                                    Z Z
                             c≡                 (λ(y) − w̄)(µ(z) − w̄) dGy (z) dF (y)
                                        Y   Z


is the covariance between worker and job types in an employment relationship, and
                Z Z Z        1                                         Z                  Z
         w̄ ≡                    w(y, z, u) du dGy (z) dF (y) =            λ(y)dF (y) =        µ(z)dΦ(z)
                 Y   Z   0                                             Y                   Z


is the mean log wage, also equal to both the mean worker type and the mean job type. We
assume throughout that all of these first and second moments are finite.
    We highlight the special case where Gy (z) = G(z) for all y and z. For example, each
worker may be equally likely to work in every job, in which case G(z) = Φ(z). In this case,
we can rewrite the covariance as
                          Z             Z                   
                     c ≡ (λ(y) − w̄)        (µ(z) − w̄) dG(z) dF (y).
                                    Y                    Z


The inner integral is zero by the definition of w̄, hence the covariance is zero. Since the
variance of worker and firm types is still generally positive, the correlation between types is
zero. This example emphasizes that there is nothing in our definition of type which pushes
us towards a positive correlation. Instead, the correlation depends on whether high wage
workers are particularly likely to work at high wage firms.


2.2     Comparison with the AKM Correlation
The standard method of measuring whether high wage workers take high wage jobs is due
to Abowd, Kramarz and Margolis (1999). The authors’ starting point is an assumption that
workers and firms have one-dimensional characteristics, so Y = Z = R, the real line, and


                                                             8
that expected log wages are linear in those characteristics,
                                       Z    1
                                                w(yi , zj , u)du = α(yi ) + ψ(zj )                   (1)
                                        0


where α(yi ) ≡ αi is the worker effect and ψ(zj ) ≡ ψj is the firm effect.6 An important
goal in that research agenda is measuring the correlation between αi and ψj among matched
worker-firm pairs (i, j). In section 5, we consider the biases in regressing log wages on worker
and firm fixed effects using ordinary least squares. Here we ask a different question: Suppose
this equation is correctly specified and αi and ψj are known for all workers i and firms j.
How is their correlation related to the correlation of λi ≡ λ(yi ) and µj ≡ µ(zj )?
    Our approach defines a worker’s type λi to be equal to her expected log wage and a firm’s
type µj to be equal to the expected log wage it pays. AKM define the units of types αi and
ψj to be that which boosts the expected log wage by a unit holding fixed the partner’s type.
While these two measures are distinct, we show here that they are more closely related than
appears at first blush. Indeed, in an important special case, the correlation between the two
measures is the same.
    To show this, assume the AKM wage equation (1) is correctly specified. Also assume that
                                                                  R
the conditional expected value of ψj in a match is linear in αi , Z ψ(z)dGyi (z) = κ0 + κ1 α(yi )
for all i. Then the definition of λ and the wage equation (1) imply
                               Z
                        λi =           (α(yi ) + ψ(z))dGyi (z) = κ0 + (1 + κ1 )αi .
                                Z


Symmetrically, assume that the conditional expected value of αi in a match is linear in ψj ,
R
 Y
   α(y)Ψzj (y) = θ0 + θ1 ψ(zj ) for all j. Then symmetrically
                               Z
                        µj =           (α(y) + ψ(zj ))dΨzj (y) = θ0 + (1 + θ1 )ψj .
                                   Y


The correlation coefficient between two random variables is unaffected by an increasing linear
transformation. It follows that linearity of conditional expected values with κ1 > −1 and
θ1 > −1 implies that the correlation between α and ψ (the theoretical AKM correlation) is
identical to the correlation between λ and µ (our theoretical correlation).
    Linearity of conditional expected values is a property of an important family of bivariate
distributions which includes the bivariate normal and the bivariate t-distribution as special
cases. Let ξ(α, ψ) denote the density function of the joint distribution of matched workers
   6
     Abowd, Kramarz and Margolis (1999) also allow for time-varying observable worker and firm character-
istics. We suppress those for expositional simplicity.



                                                              9
and firms. Let ᾱ and ψ̄ denote the means of α and ψ, respectively, and let σα and σψ
denote their standard deviations. Finally, let ρAKM denote their correlation. Then the joint
distribution is elliptical if the associated density function ξ can be expressed as
                                                                                 !
                             (α − ᾱ)2 2ρAKM (α − ᾱ)(ψ − ψ̄) (ψ − ψ̄)2
                ξ(α, ψ) = ξ˜          −                      +
                                σα2            σα σψ             σψ2

                  ˜ i.e. if the level curves of the density functions are ellipses. The bivariate
for some function ξ,
normal and the bivariate t-distributions satisfy this property. We prove in the appendix
that conditional expected values are linear for elliptical distributions and that κ1 > −1 and
θ1 > −1 if and only if σα + ρAKM σψ and σψ + ρAKM σα are positive.
    This leads to our main result comparing our measure of correlation to the correlation
between the AKM worker and firm effects:

Proposition 1 Assume that the joint distribution of α and ψ is elliptical and ρAKM ∈
(−1, 1). Then λ and µ are linear transformations of α and ψ with correlation ρ and standard
deviations σλ = |σα + ρAKM σψ | and σµ = |σψ + ρAKM σα |. Moreover,
                                       
                                       
                                       
                                        ρ = ρAKM and (σλ − ρσµ )(σµ − ρσλ ) > 0
                                       
   (σα + ρAKM σψ )(σψ + ρAKM σα ) R 0 ⇒ ρ is undefined
                                       
                                       
                                       ρ = −ρ
                                       
                                                    and (σ − ρσ )(σ − ρσ ) < 0.
                                                     AKM          λ      µ   µ       λ


The proof in Appendix A establishes linearity of conditional expected values for elliptical
distributions and, following the logic in the text, shows
                                                                                      
          ρAKM σψ          ρAKM σψ                            ρAKM σα           ρAKM σα
λi = ψ̄ −         ᾱ + 1 +           αi      and µj = ᾱ −            ψ̄ + 1 +              ψj .
            σα               σα                                 σψ                σψ
                                                                                            (2)
If σα + ρAKM σψ and σψ + ρAKM σα are both positive, λi and µj are increasing linear trans-
formations of αi and ψj , respectively.7 If one is positive and one is negative, one of the
transformations is decreasing and so our approach flips the sign of the AKM correlation. If
one is equal to zero, either λ or µ has a degenerate distribution and so our correlation ρ is
undefined.
    The Proposition also provides a simple diagnostic tool for detecting this sign flip: if our
approach delivers both σλ −ρσµ and σµ −ρσλ positive, ρAKM = ρ. According to our estimates
in Section 4, this is the case in Austrian data. If one of σλ − ρσµ and σµ − ρσλ is negative,
  7
    σα + ρAKM σψ and σψ + ρAKM σα cannot both be negative since ρAKM ≥ −1. Similarly, σλ − ρσµ and
σµ − ρσλ cannot both be negative since ρ ≤ 1.


                                               10
then ρAKM = −ρ. Finally, in the borderline case where one is zero, our approach cannot
measure the correlation.
    Proposition 1 implies that our framework is consistent with any correlation pattern, even
one where high wage workers typically work in low wage firms. In particular, if σα = σψ and
ρAKM > −1, then our approach gives ρ = ρAKM . If σα 6= σψ and ρAKM < 0, it is possible
that our approach delivers the opposite correlation, ρ = −ρAKM , but our diagnostic tool
identifies this situation.
    We view the restriction that the joint distribution of α and ψ is elliptical as a reasonable
starting assumption, but it might be violated in reality. Still, we believe the link between
ρ and ρAKM is likely to be robust. For one thing, there are other distributions with linear
conditional expectations. For example, let ξ(α, ψ) = 14 + 34 ρAKM αψ with support [−1, 1]2 .
This is a proper density function if |ρAKM | ≤ 31 , in which case one can verify that the
conditional expectation of α given ψ is ρAKM ψ and symmetrically the conditional expectation
of ψ given α is ρAKM α. It follows that the results in Proposition 1 go through even though
the probability distribution is not elliptical. But more generally, conditional expectations
may be nonlinear, in which case the correlation between α and ψ will generally differ from
the correlation between λ and µ. Still, in this case we do not see an obvious reason to prefer
the AKM measure of correlation to ours.
    We do see one important advantage to our measure of types: it does not impose the
structure of equation (1), a log-linear wage equation. Many models predict that a worker’s
wage is a nonmonotone function of the firm’s type (Eeckhout and Kircher, 2011; Lopes de
Melo, forthcoming; Bagger and Lentz, 2016). Although one can still estimate AKM fixed
effects in data sets generated by models that do not have a log-linear wage equation, the
fixed effects cannot be interpreted as structural parameters (see, for example Abowd and
Kramarz, 1999, Section 4). Our approach allows for nonlinearities and non-monotonicities
in the wage equation and so is equally well-suited to these more general environments.


2.3    Measuring Correlation in Practice
We return now to the cross-sectional correlation between λ and µ. If we observed many
conditionally independent wage draws for each worker and firm, we could accurately measure
λ(y) and µ(z) for everyone and hence directly measure their correlation. Unfortunately, in
practice we have very few observations for most workers and most firms. The remainder of
this section proposes a strategy for measuring the correlation between λ and µ in realistic
data sets. We start in this subsection by setting up the notation and clarifying our identifying
assumptions.


                                              11
    We imagine a data set that includes worker identifiers, firm identifiers, wages, and the
duration of employment relationships. This information is commonly available from admin-
istrative records in many countries. Let Mi denote the number of observations for worker i
and Nj denote the number of observations for firm j. We label the log wage observations of
                      w            w                                                       f            f
worker i as ωi,1        , . . . , ωi,M i
                                         and the log wage observations of firm j as ωj,1     , . . . , ωj,N j
                                                                                                              . Similarly
                                                                                       f        f
let tw              w
     i,1 , . . . , ti,Mi denote the duration of worker i’s jobs; and let tj,1 , . . . , tj,Nj denote the du-
ration of firm j’s hires. Of course these observations are linked. Let hj,n ∈ [0, I] denote the
worker employed by firm j in its nth observation and let ki,m ∈ [0, J] denote the firm that
                                                                                      f                   f
employs worker i in her mth job. Then for all i and m, ωi,m                 w
                                                                                 = ωj,n  and twi,m = tj,n if j = ki,m
and i = hj,n .
    We assume that worker i’s expected wage at any moment when we observe her employed
is some unknown constant λi , a weighted average of wage draws from some unspecified
worker-specific distribution, with weights equal to the duration of the job. We also assume
                                                                       w
that each log wage observation and duration pair (ωi,m                     , tw
                                                                              i,m ) is drawn independently from
this worker-specific distribution.
    Symmetrically, we assume that the expected wage that firm j pays each employee at
any moment in time is some unknown µj , a weighted average of wage draws from some
firm-specific distribution with weights equal to the duration of the job. We also assume that
                                                                f
each log wage observation and duration pair (ωj,n                 , tfj,n ) is drawn independently from this
firm-specific distribution.
    The only additional restriction we impose is that the total variance of wages weighted
by duration is finite. Since the variance of wages is the sum of the variance of worker types
λi plus the mean weighted variance of wage draws for each worker, we require that each of
these objects is finite as well.
    Our strongest assumption is independence of wage observations. It is satisfied for any two
employment relationships in search models where workers may only search while unemployed,
such as Shimer and Smith (2000). In this case, duration is an exponentially distributed
random variable that is uncorrelated with the wage. In models with on-the-job search, such
as Burdett and Mortensen (1998), the independence assumption is satisfied for workers as
long as the two employment relationships are separated by an unemployment spell; and it
is always satisfied for firms. In this case, high wages jobs typically last for longer than low
wage jobs. The independence assumption is also consistent with certain specifications of
measurement error in log wages. Our approach requires that the mean measurement error in
log wages is the same for all workers but allows for arbitrary heteroskedasticity. We discuss
later how we use these models to guide our measurement.
    We only observe worker i for a finite amount of time, and so have just a small snapshot


                                                          12
of her potential wage draws. We assume that the jobs that we do observe during this time
period are independent draws from the worker-specific wage-duration distribution, although
recognize that the duration of the first and last observations may be censored. We include the
worker in our analysis only if she has at least two wage observations, Mi ≥ 2. Symmetrically,
we only observe a finite number of workers at each firm. We make a symmetric independence
assumption for firms and only include a firm if it has at least two wage observations, Nj ≥ 2.
    We stress that our results only apply to the sample of workers and firms, each of which
has at least two wage observations. We cannot say much about how similar these workers
are to other workers with only one observation, nor how similar these firms are to other firms
with only one employee. Our intuition says that workers who keep a single job throughout
their lifetime are probably better matched to their job, and hence the correlation between
the worker’s and firm’s types is higher, than for the average worker.8
    A naı̈ve approach would be to measure the correlation between each matched worker’s and
firm’s mean wage, but this gives a biased measure of both the covariance between matched
pairs and the variance of types. The variance of mean wages is an upward biased measure of
the variance of types because the mean wage in a finite sample is a noisy measure of type.
The covariance between mean wages in matched pairs is an upward biased measure of the
covariance between matched types because it includes the common wage observation for the
pair. There is no reason to expect these two biases to cancel out.
    Our approach deals with both of these biases. In contrast to the naı̈ve approach, we
do not attempt to measure any particular worker’s or firm’s type, but instead measure the
variance of each and the covariance between them. We first perform unbiased within-between
decompositions of the variance of log wages weighted by the duration of spells. We show that
σλ2 and σµ2 correspond to the between-worker and between-firm variances. We then obtain
the covariance c by noting that for a matched worker-firm pair, their other wages covary
only because types covary in matches. For any particular matched pair, this yields a noisy
measure of c, and hence we take their average to recover the desired moments. The next
three subsections explains these measures in detail.


2.4       Measuring the Standard Deviation of Worker Types σλ
We start by obtaining an unbiased estimator of worker i’s type, λi = λ(yi ). The estimator
is simply the weighted average of the Mi wages we actually observe,
                                                   PMi   w    w
                                                    m=1 ti,m ωi,m
                                           λ̂i =
                                                      Tiw
  8
      Appendix B offers some evidence consistent with this hypothesis.


                                                     13
where Tiw ≡ M
             P i w
                m=1 ti,m . By assumption, the worker’s expected wage is λi at each instant
that we observe her. Weighting observations by duration captures the fact that we observe
long duration jobs at more instants in time. Of course, λ̂i is a noisy measure of λi unless
i has a degenerate wage distribution. For this reason, we do not measure the variance of
worker types directly from the variance of λ̂i .
   We turn next to a measure of w̄, the mean log wage in the economy at a point in time:
                                         R I PM i          w    w
                                                                               RI
                                          0           m=1 ti,m ωi,m di          0
                                                                                     Tiw λ̂i di
                            w̄ =                      RI w                 = RI                   .   (3)
                                                        T di
                                                       0 i                          0
                                                                                        Tiw di

This is a weighted average of the estimators of the workers’ types, where the weights reflect
the amount of time that the worker is in the data set, i.e. the likelihood of finding the worker
in a particular cross-section. Because individual workers’ observations are independent and
we have a continuum of workers, we appeal to a law of large numbers and treat w̄ as
deterministic.
    Next, we seek to measure the cross-sectional variance of log wages,
                            Z Z Z                 1
                        2
                      σ ≡                             (w(y, z, u) − w̄)2 du dGy (z) dF (y).
                                 Y    Z       0


Using our data set, this is simply
                                              R I PMi             w     w
                                     2            0          m=1 ti,m (ωi,m   − w̄)2 di
                                     σ =                        RI w                        ,         (4)
                                                                    T di
                                                                  0 i


the empirical cross-section of log wages, weighting each observation by its duration. Again,
this is deterministic in a large data set.
    We next break the cross-sectional variance of log wages into the within and between com-
ponents, or equivalently into the mean of individual variances and the variance of individual
means. We start with the within-worker variance of log wages, defined in theory as
                                                                Z
                                               2
                                              σww           ≡       (σiw )2 dF (y)
                                                                Y


where                                 Z Z             1
                       (σiw )2   ≡                        (w(yi , z, u) − λ(yi ))2 du dGyi (z)
                                          Z       0

is the variance of worker i’s log wage.
    To measure the within-worker variance of log wages, we need an unbiased measure of
   w 2
(σi ) . The following Lemma gives one such measure:

                                                                    14
Lemma 1 An unbiased measure of (σiw )2 is

                                                   PMi                   2
                                             βiw       tw
                                                    m=1 i,m   ω w
                                                               i,m − λ̂ i
                             (σ̂iw )2 ≡                                                          (5)
                                                              Tiw

where
                                                     (Tiw )2
                                   βiw      ≡ w
                                             (Ti )2 − M
                                                      P i w 2
                                                         m=1 (ti,m )

is the Bessel correction factor.

The proof is in Appendix A. The Bessel correction factor βiw accounts for the fact that λ̂i is
a noisy measure of λi in finite samples. Jensen’s inequality implies βiw ≥ Mi /(Mi − 1) with
equality if and only if tw        w
                          i,m = Ti /Mi for all m. That is, if all spells have the same duration,
we get the standard Bessel correction, but otherwise the correction factor is larger, boosting
the estimator of the worker’s variance.
   Aggregating these unbiased estimators is easy. The within-worker variance is a weighted
average of (σ̂iw ), where the weight again corresponds to the total duration of the spells:

                                       RI      PMi                                2
                                        βw
                                       0 i
                                                         w
                                                    m=1 ti,m
                                                                     w
                                                                    ωi,m   − λ̂i        di
                            2
                           σww =                         RI                                  .   (6)
                                                         0
                                                              Tiw di

Next, observe directly from their definitions that the variance of worker types satisfies σλ2 =
σ 2 − σww
       2
          . Since we have measures of both terms on the right hand side, we also have a
measure of the standard deviation of worker types:

Lemma 2
                 v
                 uR P                              PM i w  w           2
                 u I Mi w      w      2 di − I β w
                                            R
                        t   (ω
                 u 0 m=1 i,m i,m − w̄)       0 i
                                                        t
                                                    m=1 i,m ωi,m − λ̂ i    di
            σλ = t                        RI w                                                   (7)
                                            T di
                                           0 i


measures the standard deviation of worker types.


2.5     Measuring the Standard Deviation of Firm Types σµ
Our approach to measuring σµ , the standard deviation of firm types, is similar. The mean
wage can also be computed by averaging across firms,
                                   R J PNj        f    f
                                                              RJ f
                                   0
                                                 t   ω
                                             n=1 j,n j,n   dj       Tj µ̂j dj
                           w̄ =              RJ f             = 0R J f
                                              0
                                                Tj dj             0
                                                                     Tj dj

                                                       15
where                                              PNi      f    f
                                                       n=1 tj,n ωj,n
                                          µ̂j =
                                                         Tjf
           PNj f
and Tjf ≡ n=1    tj,n . That this is identical to the definition of the mean wage in equation (3)
comes from the fact that the mth observation for worker i can be mapped into an observation
for its employer j = ki,m and vice versa. Similarly we can measure the variance of log wages
across jobs as                          R J PNj f        f       2
                                             n=1 tj,n (ωj,n − w̄) dj
                                 σ = 0
                                   2
                                                 RJ f                .
                                                  0
                                                     T j dj
Again, this is mathematically identical to the variance of log wages across workers in equa-
tion (4).
    We turn next to measuring the mean of the variance of log wages across jobs. An unbiased
measure of the variance of firm j’s log wage is

                                                  PNj                   2
                                            βjf       tf
                                                   n=1 j,n   ω f
                                                              j,n − µ̂ j
                              (σ̂jf )2 ≡                                                     (8)
                                                            Tjf

where
                                                   (Tjf )2
                                    βjf   ≡ f       PNj f 2
                                           (Tj )2 − n=1    (tj,n )
is the Bessel correction factor. The logic is identical to the variance of a worker’s log wage
and so we omit it.
    Finally, a weighted average of these variances gives us the within-firm variance:

                                     RJ          PNj                    2
                                      0
                                           βjf         tf
                                                   n=1 j,n   ω f
                                                              j,n − µ̂ j    dj
                             2
                            σwf =                     RJ f                     .             (9)
                                                       0
                                                          Tj dj

Since σµ2 = σ 2 − σwf
                   2
                      , we have a measure of the between variance of jobs.

Lemma 3
                  v
                  u J Nj tf (ω f − w̄)2 dj − R J β f PNj tf ω f − µ̂ 2 dj
                  uR P                                               
                  u 0 n=1 j,n j,n             0   j   n=1 j,n   j,n j
             σµ = t                       RJ f                                              (10)
                                           0
                                             Tj dj

measures the standard deviation of firm types.




                                                       16
2.6     Measuring the Correlation of Matched Types ρ
The third step is to find the covariance c between λ and µ in matched worker-firm pairs. A
naı̈ve approach would be to directly measure the covariance between λ̂i and µ̂ki,m for every
worker i ∈ [0, I] and match m ∈ {1, . . . , Mi }. This is biased by the common wage observation
in the match between i and ki,m . Instead, take any worker i and employer ki,m . Suppose
that worker i is firm ki,m ’s ei,m th employee, i.e. ei,m ∈ {1, . . . , Nki,m } and hki,m ,ei,m = i. The
average log wage that i receives in her other jobs is λ(yi ) plus noise. The average log wage
that firm ki,m pays to its other employees is µ(zki,m ) plus noise. Moreover, the two sources of
noise are independent. Therefore the product of the average log wage that a worker receives
in her other jobs and the average log wage that a firm pays to its other employees,
                                                                              f         f
                                                !           P                                    !
                                      w     w
                           P
                             m0 6=m ti,m0 ωi,m0                  n0 6=ei,m tki,m ,n0 ωki,m ,n0
                                         w                                        f
                            P
                                 m0 6=m ti,m0
                                                                  P
                                                                       n0 6=ei,m tki,m ,n0


is a random variable with expected value
                                   Z Z
                                                λ(y)µ(z)dGy (z)dF (y).
                                       Y    Z


This is a standard “leave-one-out” estimator. Subtracting off unconditional means and
averaging across workers and employers for each worker leads to our measure of the covariance
    R R
c = Y Z (λ(y) − w̄)(µ(z) − w̄)dGy (z)dF (y):

Lemma 4
                                 P                                P                f          f           
                                                                          n0 6=ei,m tk        0ω
                                               w     w
                                      m0 6=m ti,m0 ωi,m0                                              0
                R I PM i   w                                                            i,m ,n ki,m ,n
                      m=1 ti,m
                                      P           w        − w̄                            f              − w̄ di
                  0                       m0 6=m ti,m0
                                                                            P
                                                                                n0 6=ei,m tk       0
                                                                                             i,m ,n
           c=                                              RI                                                       (11)
                                                           0
                                                                Tiw di

measures the covariance between a worker’s type and the type of her employer.

Our main theoretical result follows immediately from these three Lemmas:

Proposition 2 The correlation between a worker’s type and the type of her employer can be
measured using a data set with worker identifiers, firm identifiers, wages, and the duration
of employment relationships, in which all workers and firms have at least two conditionally
independent wage and duration observations.




                                                           17
2.7    Estimators
Our actual estimators recognize that real world data sets are finite. With some abuse of
notation, we let I denote the number of workers, now indexed by i ∈ {1, . . . , I}, and J
denote the number of firms, now indexed by j ∈ {1, . . . , J}. Our estimator for the correlation
between worker and firm types is the obvious finite analog of the previous measures:

                       ĉ
             ρ̂ ≡
                    σ̂λ σ̂µ
        where
                   v
                   uP P                                               PMi w  w                         2
                   u I      Mi     w     w         ˆ   2
                                                           PI       w
                   u i=1 m=1 ti,m (ωi,m − w̄) − i=1 βi                  m=1 ti,m ωi,m − λ̂i
           σ̂λ ≡ t                                      PI      w
                                                                                                            ,
                                                          i=1 Ti
                   v
                   uP P                                                                              2
                   u J      Nj    f     f                 PJ       f PNj        f        f
                                 t
                   u j=1 n=1 j,n j,n (ω      −    ˆ
                                                 w̄ )2−          β
                                                             j=1 j           t
                                                                       n=1 j,n        ω  j,n  −   µ̂j
           σ̂µ ≡ t                                    PJ       f
                                                                                                         ,
                                                             T
                                                         j=1 j
                                   P                             P             f           f              
                                                                      n0 6=ei,m tk         0ω
                                                 w     w
                   PI PMi w             m0 6=m ti,m0 ωi,m0                          i,m ,n ki,m ,n
                                                                                                     0

                     i=1 m=1 ti,m
                                        P           w      − w̄ˆ                       f               − w̄ˆ
                                            m0 6=m ti,m0
                                                                        P
                                                                            n0 6=ei,m tk        0
                                                                                         i,m ,n
              ĉ ≡                                      PI      w
                                                                                                               ,
                                                          i=1 Ti
                   PI PMi w w
                              ti,m ωi,m
            w̄ˆ ≡ i=1 PIm=1 w           ,
                         i=1 Ti


with worker means λ̂i , firm means µ̂j , and Bessel correction factors βiw and βjf defined in the
text. Each of these objects is readily measured using a data set that contains worker and
firm identifiers as well as wages and job durations.
    Although we conjecture that ρ̂ is a consistent estimator of ρ in a standard two-sided
matching model, a proof goes beyond the scope of this paper. The basic difficulty is that
individual observations are not independent in a finite agent matching model. For example, if
a worker works for a particular firm, it is less likely that she works for any other firm. Azevedo
and Leshno (2016) prove convergence in a simpler model of college-student matching, where
the number of students goes to infinity and each student has only one match. Menzel (2015)
examines similar issues in a marriage market where the number of men and women both
go to infinity, but everyone can have only one match. We have large numbers and multiple
matches on both sides of the market, further complicating a proof. Rather than trying to
prove convergence analytically, we rely on simulations of model-generated data. In particular,
in Section 4.2, we use a parametric bootstrap to compute confidence intervals. This approach
informs us about the behavior of our estimator in samples with realistic properties: many


                                                         18
workers and firms but few conditionally independent observations for most of them. We find
that the confidence intervals are small and centered around the true correlation.


3       Data
3.1     Data Description
We measure the correlation between workers and jobs using panel data from the Austrian
social security registry (Zweimuller, Winter-Ebmer, Lalive, Kuhn, Wuellrich, Ruf and Buchi,
2009). The data set covers the universe of workers in the private sector from 1972 to 2007.
For each worker, it contains information about every job they hold. More precisely, in every
calendar year and for every worker-firm pair,9 we observe earnings and days worked during
the year.10 We also have some limited demographic information on workers, including their
birth year and sex. After 1986, we observe registered unemployment spells, which we use
in much of our analysis. We also observe the education of most workers who experience
a registered unemployment spell. Finally, we have some information about jobs, including
region, industry, and whether the position is blue or white collar.
    Following Card, Heining and Kline (2013), we focus on workers age 20–60. We look both
at men and women, but recognize that selection into employment may be a more serious issue
for women. We look only on full-time jobs and drop any data that includes an apprenticeship.
    For each worker-firm-year, we first construct a measure of the log daily wage by taking the
difference between log earnings and log days worked. We then regress this on time-varying
observable characteristics. These always include a full set of dummies for the calendar year
and age. The first set of dummies captures the effects of aggregate nominal wage growth,
while the second removes a standard age-earnings profile. In some specifications, we also
include controls for realized experience. Our analysis focuses on these wage residuals.


3.2     Independence Assumptions
For our method to provide an accurate estimate of the correlation ρ, we need each wage
observation to be independent conditional on the worker identifier and conditional on the
    9
     Formally, a firm is identified using its employer identification number (EIN). Some firms may have
multiple EINs.
  10
     Earnings are top-coded at the maximum social security contribution level, which rises over time. For
example, in 2007, the cap is e3840 per month. The fraction of male worker-firm observations affected by
top-coding fell from a peak of 25.3 percent in 1974 to 13.5 percent in 2007. Top-coding affects far fewer
female worker-firm observations, varying from 3.6 to 6.5 percent during our sample period. We discuss the
importance of top-coding for our results in Section 4.3.



                                                   19
firm identifier. We approach this in several ways, always motivated by economic theories
such as Burdett and Mortensen (1998) and Postel-Vinay and Robin (2002). These theories
tell us that this condition is easily satisfied for firms but not always for workers. In this
section we explain how we select a sample of workers where the conditional independence
assumption is likely to be satisfied.
    We start by selecting all workers for whom we have at least two residual wage observations
during the 36 years of data. This includes workers who are employed in at least two years, as
well as workers who work for two different employers in the same calendar year. We treat the
annual residual wage observations as independent and measure the correlation accordingly.
We call this independence assumption I.
    The advantage to measuring the correlation using independence assumption I is that we
minimize sample selection issues, since we only drop workers with a single employer in a
single year. The disadvantage is that a worker’s wage at a single employer is likely to be
serially correlated, a violation of the conditional independence assumption. We therefore
take a weighted average of the residual wage at the level of the worker-firm match, weighting
by days worked and treat this as a single observation.11 We then select all workers who are
employed by at least two employers and measure the correlation. We call this independence
assumption II: wages are independent across matches.
    We recognize that, due to job-to-job movements, residual wages might be correlated
across employment relationships. To understand the problem, consider the job ladder model
from Burdett and Mortensen (1998). There, an employed worker accepts a job offer from
another firm if and only if it pays a higher wage. This means that the wage in jobs held before
and after the job-to-job transition are correlated. According to this model, an unemployment
spell breaks this correlation and so wages in two employment relationships separated by an
unemployment spell are independent. Guided by these insights, we select all workers with
at least two employment spells separated by a spell of registered unemployment and take
the longest job during each employment spell.12 This is independence assumption III: wages
across employment spells are independent.
    According to Burdett and Mortensen (1998) and Postel-Vinay and Robin (2002), the
wage in any two jobs during different employment spells are conditionally independent;
however, they are not necessarily identically distributed. For example, the first accepted
wage out of unemployment comes from a lower distribution than subsequent wages. To
address this concern, we select only workers with at least three employment spells (that is,
   11
      Recalls are common in the Austrian labor market (Pichelmann and Riedel, 1992). We treat all instances
where a worker is employed by a firm as a single observation.
   12
      If a worker is ever recalled back to an old employer, we drop any intervening spells of unemployment
from our analysis and so treat the entire episode as a single employment spell.


                                                    20
workers with EUEUE transitions, where E represents an employment spell and U a registered
unemployment spell). For these workers, we look alternatively at the first job, last job, and
longest job during each employment spell. We call this independence assumption IV.
   Our approach requires us to measure within and between wage inequality for both workers
and firms, and so we need at least two observations for each. After making the inial selection
of workers, as described above, we trim our data set by first dropping any firm that only
employs a single worker in the data set. If this leaves any of the workers with a single wage
observation, we drop her from the data as well. We repeat. This process necessarily stops
in a finite number of steps, either with an empty data set or with a data set containing
only workers with multiple employers and employers with multiple workers. In our case the
resulting data set is always nonempty.


4     Results
4.1    Main Results
Tables 1 and 2 show the main results for men and women, respectively. We estimate the
correlation and covariance between matched worker and firm types, as well as the variance of
types and of log wages. Different columns correspond to different independence assumptions.
    We start in column (1) by measuring the naı̈ve correlation between λ̂i and µ̂j . For
each worker and firm, including those with only a single observation, we compute the mean
residual log wage that a worker earns and that a firm pays, weighting each observation by its
duration. We estimate that the correlation is 0.598 for men and 0.578 for women. Although
we have already argued that the naı̈ve measure is biased, it is interesting to see that it is not
wildly different than the other numbers we report in Tables 1 and 2.
    Column (2) of Tables 1 and 2 uses independence assumption I to construct the correla-
tion with our approach. This treats any two firm-year observations for a given worker as
independent. For men, we see the (modest) bias in the naı̈ve calculation: the covariance and
variance of types falls slightly going from column (1) to column (2). In net, the correlation
increases slightly for both men and women.
    Column (3) uses the more plausible independence assumption II to construct the corre-
lation, aggregating wage observations to the level of the worker-firm match. For men, each
component of the correlation drops sharply, but the correlation barely changes. For women,
we see a sharper drop in the correlation, driven by a larger decline in the covariance. Inter-
preting this drop is not trivial. On the one hand, we expect that independence assumption
I is incorrect and so the resulting correlation in column (2) is biased. On the other hand,


                                               21
                          Estimated Correlation and Variances: Men
                                           (1)      (2)     (3)     (4)       (5)     (6)        (7)
 correlation of matched types ρ̂         0.598 0.642 0.617        0.491     0.450   0.435      0.418
 covariance of matched types ĉ          0.051 0.046 0.026        0.018     0.017   0.020      0.017
 variance of log wages σ̂ 2              0.155 0.130 0.113        0.103     0.102   0.123      0.115
                             2
 variance of worker types σ̂λ            0.093 0.078 0.033        0.028     0.030   0.040      0.035
 variance of job types σ̂µ2              0.077 0.066 0.054        0.049     0.049   0.053      0.049
 number of workers (thousands)          4,171 3,672        2,811   1,101      676   650   652
 number of firms (thousands)              782    672         499     234      206   179   180
 number of observations (thousands)    63,798 63,198      16,131   4,376    3,505 2,810 2,815
 share of observations top-coded        0.185 0.186        0.134   0.078    0.060 0.033 0.041
 independence assumption                naı̈ve        I       II      III     IV        IV       IV
 observations included                     all      all      all longest longest      first     last
 first year of sample                   1972      1972     1972     1986    1986     1986      1986


Table 1: Estimates of correlations, covariances, and variances between matched workers’ and
firms’ types for men. All columns use residual log wages, obtained by regressing log wages
on year and age dummies. Columns (3)–(7) aggregate residual wages to the worker-firm
match level by taking a weighted average of wages within the match across years. We use
a naı̈ve measure of correlation in column (1), and our method in columns (2)–(7). Before
applying our method, we iteratively drop firms and workers with a single wage observation.
Each column uses a different sample to estimate the correlation. For the naı̈ve concept,
we include all workers in the data. Independence assumption I includes workers with at
least two firm-year wage observations and treats each year as an independent observation.
Independence assumption II includes workers with at least two distinct employers and treats
each employer as an independent observation. Independence assumption III includes workers
with at least two employment spells and treats the longest jobs during each employment spell
as independent observations. Independence assumption IV includes workers with at least
three employment spells and treats either the longest (4), first (5), or last (6) job during
each employment spell as independent observations. The last row in the table indicates the
first year of the sample. The sample always ends in 2007.




                                            22
                       Estimated Correlation and Variances: Women
                                          (1)     (2)      (3)    (4)            (5)     (6)        (7)
 correlation of matched types ρ̂        0.578 0.617 0.435       0.429          0.428   0.448      0.436
 covariance of matched types ĉ         0.088 0.093 0.040       0.028          0.027   0.031      0.028
                          2
 variance of log wages σ̂               0.272 0.270 0.237       0.187          0.174   0.189      0.177
 variance of worker types σ̂λ2          0.174 0.170 0.077       0.056          0.056   0.065      0.058
                         2
 variance of job types σ̂µ              0.132 0.133 0.110       0.077          0.072   0.074      0.070
 number of workers (thousands)           3,439 3,128        2,359      951       540   503   504
 number of firms (thousands)               878    760         522      238       196   160   162
 number of observations (thousands)     47,054 46,635      11,103    3,190     2,336 1,771 1,773
 share of observations top-coded         0.049 0.050        0.043    0.026     0.020 0.012 0.013
 independence assumption                  naı̈ve       I       II      III     IV         IV        IV
 observations included                       all     all      all longest longest       first      last
 first year of sample                     1972     1972     1972     1986    1986      1986       1986


Table 2: Estimates of correlations, covariances, and variances between matched workers’ and
firms’ types for women. See description of Table 1 for details.

we lose a substantial number of workers going from column (2) to column (3) and so worry
that the drop reflects the changing sample. We argue in Appendix B that sample selection
is probably not very important here and so prefer the estimates in column (3) over those in
column (2).
     We next turn to independence assumption III, which treats wage observations as inde-
pendent only if they are drawn from different employment spells, as in standard theories
of on-the-job search. Column (4) shows a drop in the estimated correlation for men, with
little additional change for women. We argue in Appendix B that the drop for men reflects
a combination of selection and bias, both working to reduce the correlation in column (4).
     Finally, we look at independence assumption IV, which recognizes that wage observations
at different points during different employment spells are independent but not identically
distributed. Columns (5), (6), and (7) look at the longest, first, and last job during multiple
employment spells. From the perspective of Burdett and Mortensen (1998), the results in
column (6) can be understood as measuring the correlation in the sampling distribution of
wages, while those in column (7) should reflect the steady state distribution. For men, these
estimates slightly reduce the measured correlation compared to column (4), while for women
the results are scarcely changed.
     In summary, the estimated correlation between types ranges from 0.42 to 0.64 for men,
and from 0.43 to 0.62 for women. The exact number depends on the independence assump-
tion. As we move from the naı̈ve measure to independence assumption IV, the identifying


                                              23
assumption of conditionally independent and identically distributed wage observations is
more likely to be satisfied. The downside is that each concept imposes additional restric-
tions on the sample, leading to sample selection problems. We conclude in Appendix B that
both bias and selection matter and choose to focus on the results in column (4) because we
believe those are likely to satisfy the independence assumption while minimizing the sample
selection issues in the last three columns. We view this choice as conservative, in the sense
that sample selection probably still biases the measured correlation down.
    Column (4) shows that the standard deviation of worker types is 0.17 for men. The
associated standard deviation of firm types is somewhat higher, 0.22. It follows that σ̂λ > ρ̂σ̂µ
and σ̂µ > ρ̂σ̂λ and so Proposition 1 implies we are in the case where our correlation and the
AKM correlation are equal. For women, both standard deviations are larger, 0.24 for workers
and 0.28 for firms, but the conclusion is the same. This result holds in every specification in
Tables 1 and 2.
    Finally, we compare our results to those of Bonhomme, Lamadon and Manresa (2016),
who propose a new way to estimate the correlation between AKM fixed effects. Using Swedish
administrative data, they recover a correlation of 0.42–0.49, depending on the model. This is
remarkably similar to our estimate in column (4). Our results differ in the relative variance
of worker and firm types. Bonhomme, Lamadon and Manresa (2016) find that the variance
of the firm fixed effect is only four to seven percent of the variance of the worker fixed
effects. In contrast, we find that the variance of firm types is 75 percent larger than the
variance of worker types. There are three explanations for this difference: definitions of
types, estimation method, and the data used. We believe that the definition of types in not
the key reason. Using Proposition 1, we can translate estimated variances of worker and firm
types into variances of the worker and firm fixed effects. This transformation shows that the
variance of the firm fixed effect also exceeds the variance of the worker fixed effects. To see
whether the difference reflects something about Sweden versus Austria, one needs to check
the results from either applying our method to their Swedish data or their method to our
Austrian data. Doing so goes beyond the scope of this paper.


4.2    Confidence Intervals
We use a parametric bootstrap procedure to construct confidence intervals and examine
the precision and accuracy of our estimator. Our main approach to the bootstrap involves
constructing artificial data sets which differ from the actual data in terms of the exact
number of workers and firms, the exact number of matches for each worker and firm, who
matches with whom, and the wage paid in each match. The artificial data sets match the


                                               24
moments reported in Tables 1 and 2, including the variances of worker and firm types, the
covariance of matched workers’ and firms’ types, the variance of log wages, the distribution
of the number of matches per worker and firm, and the joint distribution across matches
of the durations of workers’ jobs. See Appendix C for details on the construction of the
artificial data sets.
     We construct B = 500 artificial data sets. For each data set b = 1, . . . , B, we know
each worker’s and firm’s type and so we can compare the actual correlation between types,
ρb , with the correlation estimated using our approach, ρ̂b , which relies only on individual
identifiers, wage data, and durations. We construct confidence intervals using the difference
ρb − ρ̂b . We find that this difference is typically small and is centered around zero, as one
would expect for a consistent and unbiased estimator. For example, in Table 1, column (4),
the estimated correlation for men is ρ̂ = 0.4912, and the 95 percent confidence interval is
[0.4886, 0.4935]. In Table 2, column (4), the estimated correlation for women is ρ̂ = 0.4290
and the 95 percent confidence interval is [0.4259, 0.4319]. The results in the other columns
are similar.
     A drawback of this bootstrap procedure is that the network structure in the artificial
and real-world data differ in some important dimensions. For example, in the real-world
data, about 3 percent of a typical worker’s coworkers at one employer are also coworkers at
another one of her employers. In our artificial data, this happens about 0.1 percent of the
time.
     To capture this, we use an alternative bootstrap procedure which holds the set of matches
fixed. Given the set of matches, we draw types for each worker and firm. We then draw wages
for each match in a manner that is consistent with the definition of types. Unfortunately,
generating types that are consistent with the real world correlation structure requires drawing
a correlated random vector of dimension I +J. This is computationally infeasible.13 Instead,
we ask what we would measure if the correlation between types were zero. If the true value
of ρ were zero, 95 percent of the time our approach would have generated estimates of ρ̂ for
men between −0.0098 and 0.0080. It is extremely unlikely that our data was generated from
an economy without sorting.


4.3     Robustness
We first examine the sensitivity of our results to including work experience as an additional
control when constructing the residual wages. We focus on results using independence as-
  13
    In the AKM fixed effects approach, types are known from the OLS estimates and only wages need to be
generated for the bootstrap. This makes the bootstrap with a fixed network easy to perform. Confidence
intervals are typically not reported in the literature, possibly because the AKM estimates are biased.


                                                  25
                            Robustness Results for Men and Women
                                                       men                         women
                                                     (1)   (2)                    (3)   (4)
             correlation of matched types ρ̂       0.493 0.514                  0.451 0.430
             covariance of matched types ĉ        0.015 0.016                  0.026 0.027
             variance of log wages σ̂ 2            0.092 0.071                  0.170 0.181
                                        2
             variance of worker types σ̂λ          0.021 0.022                  0.050 0.052
                                     2
             variance of job types σ̂µ             0.041 0.045                  0.069 0.106
             number of workers (thousands)      1,101 1,101                       951   951
             number of firms (thousands)          234   234                       238   238
             number of observations (thousands) 4,376 4,376                     3,190 3,190
             share of observations top-coded    0.078 0.117                     0.026 0.026
             independence assumption                         III      III         III      III
             quartic in experience                           yes       no         yes       no
             more severe top-code                             no      yes          no      yes


Table 3: Robustness results for men and women. All columns use residual log wages, aggre-
gated to the worker-firm match level by taking a weighted average of wages within the match
across years. In columns (1) and (3), we regress log wages on year, age, and a polynomial
for work experience. Columns (2) and (4) only regress log wages on year and age, but first
reduce the top code by ten percent in each year. All columns use independence assumption
III, treating the longest jobs during each employment spell as independent observations. The
sample always runs from 1986–2007.

sumption III. We construct work experience using the total number of days worked in the
previous 14 years, taking advantage of data from before 1986 to get an accurate work his-
tory.14 We then include a quartic polynomial in experience in addition to age and year
dummies when we calculate the residual log wages. Table 3, column (1), which we hereafter
refer to as Table 3(1), and Table 3(3) show the results for men and women, respectively.
These are little changed from the corresponding results in Tables 1(4) and 2(4).
    We next study the role of top-coding. In our baseline results in Tables 1(4) and 2(4),
top-coding affects 7.8 percent of men’s observations and 2.6 percent of women.15 We ask
here what would have happened if the top-coding threshold had been ten percent lower in
every year.16 This would have increased the share of top-coded observations to 11.7 percent
  14
      For example, in 1986, we measure experience as the number of days worked between 1972 and 1985.
  15
      We consider the log wage for a worker-firm pair to be top-coded if at least one annual wage observation
for that worker-firm pair is top-coded.
   16
      The usual approach to dealing with top-coded data involves imputing values to the top-coded observa-
tions (see for example, Card, Heining and Kline, 2013). Interpreting either approach requires an assumption
that the behavior of top-coded observations is similar to the behavior of other high wages. We believe our
approach is more transparent and easier to implement.


                                                     26
for men and 4.1 percent for women.
    Table 3(2) and 3(4) shows that more severe top-coding reduces the total variance of log
wages as well as the estimated variance of both worker and firm types. It scarcely affects the
estimated correlation ρ̂ for women and mildly increases it for men. Appendix D shows that
for men, more severe top-code sharply decreases the variance of worker types which leads
to a substantial increase in the correlation. For women, the estimated correlation is robust
to the level of the top-code. We interpret this as suggesting that, if we had data without
top-coding, the correlation would be slightly lower for men and little changed for women.


4.4     Time Series
Our approach is amenable to time series analysis. To see this, we redo all of our analysis
using only a single year’s data at a time. That is, we measure the average log wage for a
worker-firm pair using only wage information from the considered year, even if the match
exists in other years. We focus throughout on independence assumption III, selecting the
last job before the unemployment spell and the first job after the unemployment spell.17
    Using only those workers who switch employers after an unemployment spell within a
year reduces our sample size from 1.1 million workers to an average of 56 thousand workers
per year for men, and from 1.0 million to 29 thousand for women. This is still sufficiently
large to estimate the annual correlation between worker and firm types. Figure 1 shows that
the correlation between worker and firm types increased slightly for men, from an initial
0.46 in 1986 to around 0.55 in 1997, where it stayed until the last two years of the sample.
The figure also shows that the correlation for women fluctuated over time, peaking at 0.52
in 2001 and then falling thereafter. In both cases, the bootstrapped 95 percent confidence
intervals are small in every year. The stability of these estimates from year-to-year provides
additional support for our methodology.
    Interestingly, the annual correlations average 0.53 for men and 0.47 for women, signifi-
cantly more than the correlations of 0.49 and 0.43 reported in Tables 1(4) and 2(4) using the
full sample. We see two possible reasons for this. First, the sample of workers is different,
since for the time series analysis we use workers who have multiple employment spells within
a year, while some workers may have multiple spells, but only in different years. To address
this, we pool the samples from the time series analysis and estimate a single correlation, 0.44
for men and 0.43 for women.18 Sample differences are unimportant for women and actually
  17
     Appendix F shows the estimated time series correlation on data constructed using independence as-
sumption II. This allows us to study the full time period from 1972–2007. The patterns are broadly similar
to those we report in this section.
  18
     In this pooled sample, we aggregate all worker-firm-year residual wages back to the worker-firm level by
computing an average log wage over years. We then keep only the longest match in each employment spell.


                                                     27
                           0.65
                                            men      women
                           0.60

                           0.55
          correlation ρ̂




                           0.50

                           0.45

                           0.40

                           0.35

                           0.30
                              1985   1990     1995       2000        2005
                                                  year


Figure 1: Correlation between worker and firm types using residual log wages under inde-
pendence assumption III. Solid lines are computed year-by-year and shaded areas are boot-
strapped 95 percent confidence intervals. For each year, the sample considers all workers
who switched employers after an unemployment spell within that year, and includes one job
for each employment spell of these workers. The sample only includes the wage observations
for that year, even if the match continued in other years. Dashed lines are computed using
the full sample, reported in Tables 1(4) and 2(4).




                                              28
                                              Men                               Women
                           0.5
      standard deviation
                           0.4

                           0.3

                           0.2

                           0.1

                            0
                            1985   1990     1995 2000    2005     1985   1990   1995 2000       2005
                                              year                                year
                                          log wages σ̂    worker types σ̂λ      job types σ̂µ


Figure 2: Standard deviations of log wages, worker types, and job types, using residual log
wages under independence assumption III. Each line is computed year-by-year and uses one
job per employment spell. See the description of Figure 1 for more details.

enlarge the gap between the average annual correlation and the pooled correlation for men.
    The second possibility is that types gradually change over time, so a worker’s expected
log wage when young is not the same as when old, even after accounting for the usual effect of
aging on wages. This effectively makes λ and µ into noisy measures of the worker’s and firm’s
types at a point in time, reducing the measured correlation; see Appendix E for details. This
logic suggests that the annual observations more accurately reflect the correlation between
worker and firm types at a point in time.
    Finally, Figure 2 shows the estimated standard deviation of residual log wages as well
as the standard deviation of worker and job types for both men and women, using one job
per employment spell. For both men and women, we find that the standard deviation of
job types is slightly larger than the standard deviation of worker types in every year. This
contrasts with the pooled data in Tables 1(4) and 2(4), which show a bigger gap between
the two standard deviations. Again, the higher standard deviation of worker types here is
consistent with time-varying types. Additionally, all four standard deviations show a modest
increase over the sample period, until the last year of the sample.
    One possible concern with the results in this section is that, although the wage in the
first and last job within an employment spell are independent, they are not drawn from the
same distribution. Indeed, there are level differences in wages within a spell: the mean log
wage in the first job after unemployment is lower than the mean log wage in the second job,
The sample contains 624,917 men and 408,614 women.


                                                            29
which that is lower than in the third job, etc.. There are two reasons why we believe that this
is not a major issue. First, the estimated correlation using only first jobs or only last jobs
in each employment spell is very similar; see Tables 1(5) and 1(6) for men and Tables 2(5)
and 2(6) for women. Second, we have regressed log wages on the job’s order within a spell,
in addition to age and year dummies, before constructing wage residuals. This additional
control has no quantitative impact on the correlations in Figure 1.


4.5     Life Cycle
We can also use our approach to create synthetic cohorts to examine how sorting evolves
over the life cycle. We redo our analysis, now using only workers at a particular age a. We
again use independence assumption III when constructing the data set.19 We report results
for workers aged 20–54. The sample size falls considerably at older ages, which makes the
results noisy and, according to our bootstrap procedure, unreliable.20
    Figure 3 shows the estimated life cycle pattern of the correlation between the types
of matched workers and firms. For men, we find a remarkably steady increase, more than
doubling from 0.40 at age 20 to 0.89 at age 54. The pattern for women is somewhat different:
a steep rise from age 23 to 31, followed by a dip for the next decade, and then a gradual
increase that accelerates after age 48, although the widening of the confidence interval makes
this last increase statistically insignificant. The cumulative increase in the correlation for
women is slightly smaller than the one for men.
    Once again, the average correlation depicted in Figure 3 exceeds the correlation estimated
using the full sample. Weighting the correlations in the figure by the number of workers
observed in each age category gives an average correlation of 0.57 for men and 0.43 for
women. We again recognize that these are estimated on a different sample, and so we
estimate the correlation on a pooled sample of the observations used in Figure 3.21 We find
a correlation of 0.43 for men and 0.42 for women. Sample differences again enlarge the gap
  19
      Appendix F shows the life cycle correlation estimated on data constructed using independence assump-
tion II. The broad message is unchanged: the correlation increases over life cycle for men, and has a U-shaped
pattern for women, with the exception of the first few years of the career.
   20
      For men age 55, the standard deviation of worker types drops considerably compared to age 54, leading
our estimate of the correlation to exceed 1.
   21
      Note that the pooled sample in the time series and the life cycle analyses are different. The initial pooled
selection of workers who switch an employer after an unemployment spell is the same for both. We then
require that each employer has at least two employees in the considered category. A firm might have two
workers in a calendar year, but not have two workers of the same age, in which case the firm only appears
in the time series analysis. After dropping firms with one worker, we drop workers with a single employer
in the data set and repeat until we have a sample with at least two observations for each worker and each
firm. This gives us 464,828 men and 289,546 women in the life cycle analysis, significantly less than in the
time series.



                                                       30
                      1.0                                                    100,000
                                            men          women

                      0.8          numb
                                        er of w
                                               orkers




                                                                                       number of workers
                                                                             10,000
     correlation ρ̂




                      0.6


                      0.4
                                                                             1,000

                      0.2


                      0.0                                                    100
                         20   25       30         35          40   45   50
                                                       age


Figure 3: Correlation between worker and firm types by age using residual log wages under
independence assumption III. Solid lines are computed age-by-age and shaded ares are boot-
strapped 95 percent confidence intervals. For each age, the sample considers all workers who
switched employers after an unemployment spell at that age, and includes one job for each
employment spell of these workers. The sample only includes the wage observations for that
age, even if the match continued at other ages. Dotted lines are the number of workers in the
age bin who satisfy our selection criterion. For both men and women, we restrict attention
to ages 20–54. Dashed lines are computed using the full sample, reported in Tables 1(4) and
2(4).




                                                         31
                                       Men                                Women

      standard deviation   0.5
                           0.4
                           0.3
                           0.2
                           0.1
                            0
                             20   30         40   50        20       30            40     50
                                       age                                   age
                                   log wages σ̂   worker types σ̂λ        job types σ̂µ


Figure 4: Standard deviations of log wages, worker types, and job types using residual log
wags under independence assumption III. Each line is computed age-by-age and uses one
observation per employment spell. See the description of Figure 3 for more details.

for men.
    The remaining difference between the life cycle and pooled analysis reflects two factors.
First, worker types vary over the life cycle, as we discussed in the previous subsection.
Second, firms are collections of heterogenous jobs, and the job type for twenty-year-olds
might be different than the job type for fifty-year-olds, even if they are working at the same
firm. The life cycle analysis treats jobs for each age separately, but the pooled sample does
not. Again, this suggests that the pooled analysis likely understates the true correlation
between types.
    Figure 4 shows the standard deviation of worker and job types over the life cycle. There
is much less action in this figure than in Figure 3, particularly for men. The standard
deviation of men’s types increases from age 20 to 30 and then rises very slowly thereafter.
For women, the standard deviation of worker and job types shows a life cycle pattern similar
to the pattern in the correlation. We stress that the patterns depicted in Figure 3 are
driven entirely by the behavior of the covariance between types, with the life cycle pattern
of standard deviations working in the opposite direction.
    Our preferred interpretation of these results is that workers gradually sort over the life
cycle. At the start of their careers, there is a lot of uncertainty about a workers’ type and
so sorting is imperfect. As the worker grows older, the market learns the worker’s type and
the best workers sort into the best jobs. In particular, the sharp increase in the variance
of worker types early in the life cycle is consistent with models of learning like Farber and


                                                       32
Gibbons (1996), augmented with a theory of sorting between workers and jobs.
    We close by noting that sample selection issues may be important for these results. The
dotted line in Figure 3 shows the number of individuals who fit our sample criterion at each
age. For men, this declines from 53,565 at age 20 to 1,989 at age 54. For women, the decline
is from 51,294 at age 20 to 345 at age 54. We have already discussed the concern that
individuals who lose their job, become unemployed, and return to work are unusual. Those
workers who do this near the end of their career may be even more unusual. This leads
to the concern that the increasing correlation reflects at least in part a change in sample
selection over the life cycle.
    To address this concern, we extend our approach to allow for individual fixed effects; see
Appendix G for details. This approach identifies the life cycle component of the increase in
the correlation from the change in the correlation for those individuals who appear multiple
times in our analysis, i.e. those workers who have two or more years when they work both
before and after a registered unemployment spell. We find that controlling for individual
fixed effects significantly moderates the increase in the correlation for men and leads to a
u-shaped pattern in the correlation for women, with the trough occurring around age 35–40.


4.6     Other Observable Characteristics
We now examine how controlling for fixed observable characteristics of workers and firms
affects the estimated correlation. We start by reconsidering the assumption that the firm type
is the same for all workers. Instead, we imagine that a firm hires a collection of workers with
different skills and the relevant firm type for a high skilled worker may be very different than
for a low type worker. Our approach is to treat a firm j as a cross between a firm identifier
and worker’s skill, and estimate the correlation on this adjusted data set. This differs from
our approach in the time series and life cycle analysis, where we constructed a separate
sample for each year or age. Although we could adopt that approach here, measuring the
correlation within skill levels, this approach feels more natural to us when characteristics are
fixed over time.
    To examine this, we first treat a firm j as a cross between a firm identifier and an
education level. We use five different education categories: no completed education, middle
school, technical secondary school, academic secondary school, and college. We start with
the same data set as in Tables 1(4) and 2(4), i.e. using independence assumption III. We lose
about ten percent of workers because they are missing education data, despite experiencing
an unemployment spell.22 We then drop some firms × education observations because they
  22
     Missing education data is not random, even conditional on unemployment. Those men (women) without
education data earn a residual log wage that is 0.19 (0.16) standard deviation higher than the average


                                                 33
                          Impact of Observables for Men and Women
                                                       men                         women
                                                (1)      (2)      (3)        (4)      (5)     (6)
   correlation of matched types ρ̂            0.596    0.590    0.616      0.526    0.558   0.530
   covariance of matched types ĉ             0.022    0.024    0.027      0.036    0.042   0.037
   variance of log wages σ̂ 2                 0.099    0.098    0.099      0.178    0.183   0.174
   variance of worker types σ̂λ2              0.027    0.030    0.040      0.055    0.060   0.066
   variance of job types σ̂µ2                 0.052    0.053    0.047      0.086    0.093   0.073
   number of workers (thousands)        949           1,045∗ 917∗            786 895∗ 646∗
   number of firms (thousands)         337∗             247∗   181          315∗ 241∗    163
   number of observations (thousands) 3,895            3,975 2,706         2,660 2,757 1,787
   share of observations top-coded    0.071            0.074 0.070         0.024 0.028 0.022
   independence assumption                      III       III     III        III      III     III
   education                                    yes        no      no        yes       no      no
   white/blue collar                             no       yes      no         no      yes      no
   industry                                      no        no     yes         no       no     yes


Table 4: Results controlling for education, job classification, and industry. All columns use
residual log wages, aggregated to the worker-firm match level by taking a weighted average of
wages within the match across years. All columns use independence assumption III, treating
the longest jobs during each employment spell as independent observations. Columns (1)–(3)
present results for men, (4)–(6) for women. In (1) and (4), we treat each firm × education
category as a separate firm. In (2) and (5), we treat each worker × job position and firm ×
job position as different workers and firms. In (3) and (6), we treat each worker × industry
as different workers. The sample always runs from 1986–2007.

only appear once in the data set. This in turn forces us to drop some workers, etc. We then
measure the correlation between the remaining worker and firm × education types.
    Table 4(1) and 4(4) show the results for men and women, respectively. Allowing firm
types to differ by educational category slightly raises the variance of both worker and firm
types for both men and women. The bigger impact is on the covariance, and hence the
correlation between matched types increases from 0.49 to 0.60 for men and from 0.43 to 0.53
for women. This is consistent with the view that firms are a collection of heterogeneous jobs.
Ignoring that heterogeneity causes us to underestimate the true correlation.
    We proceed in a similar way with the type of position, treating a firm identifier as distinct
for white and blue collar jobs. Even though the type of position is a permanent characteristic
for the majority of workers, some do hold both blue and white collar jobs, and thus we treat
an individual at different positions as a different worker. This leads to an estimate of the
residual log wage of workers with recorded education. Furthermore, workers with missing education have
fewer employment spells on average, 2.4 compared to 4.1 for men, and 2.3 compared to 3.4 for women.


                                                 34
correlation of 0.59 for men and 0.56 for women (Table 4(2) and 4(5)). Again, we interpret
this as evidence that firms are collections of heterogeneous jobs and sorting occurs both
across firms and across job categories within firms.
    Finally, we investigate the role of industry. We use ten one-digit SIC industry categories,
which are fixed at the firm level. We treat an individual with jobs in different industries
as different workers. Even though we start from the same set of workers and firms, we lose
observations when the worker does not hold two jobs in the same industry, ultimately about
38 percent of the observations for men and 37 percent for women. The correlation between
the remaining matched workers and jobs is again higher, 0.62 for men and 0.53 for women
(Table 4(3) and 4(6)).


5      Comparison With Abowd-Kramarz-Margolis (1999)
5.1     Methodology and Results
The standard method of measuring whether high wage workers take high wage jobs is due
to Abowd, Kramarz and Margolis (1999). The authors propose running a linear regression
of log wages against a worker fixed effect α and a firm fixed effect ψ,

                                    w
                                   ωi,m = x0i,m β + αi + ψki,m + vi,m ,                                (12)

where xi,m is a vector of match-varying observable characteristics for worker i and ki,m is
the identifier of the firm that employs i in her mth match. This gives them estimates of
each fixed effect, α̂i for all i and ψ̂j for all j. They then compute the correlation between
α̂i and ψ̂j in matched pairs. As we mentioned in the introduction, a fair summary of the
extensive literature that follows that paper is that the estimated correlation is close to zero
and sometimes negative.
    Tables 5 and 6 (again for men and women) verify that this finding holds in our data as well.
We use the same approach as in Tables 1 and 2, with one difference: the AKM correlation
is only identified on the largest connected set of workers and firms. We therefore redo our
analysis on this set. In Tables 5(1) and 6(1), we use all worker-firm-year wage observations
that belong to the largest connected set, including those with only one observation.23 The
AKM methodology delivers essentially zero correlation between the worker and firm fixed
  23
    This is somewhat different that the standard AKM methodology which includes at most one worker-
firm-year observation per year, the one with the highest earnings. Following this methodology, the estimated
AKM correlation is 0.024 for men and -0.030 for women.




                                                    35
effects, 0.033 for men and 0.005 for women.24
    The remaining columns in Tables 5 and 6 correspond to the data sets used in Tables 1
and 2, respectively, with the additional restriction to the largest connected set. Using the
fixed effects approach, the estimated correlation lies between -0.002 and 0.057 for men and
0.005 and 0.068 for women. Across the seven columns, the fixed effects correlation is about
0.50 below our estimate of the correlation for men and 0.45 below our estimate of the
correlation for women.
    Figure 5 shows the estimated correlation between fixed effects only using workers who
switch employers after an intervening unemployment spell within a given calendar year. The
estimated correlation is smaller than −0.10 in every year for both men and women and
significantly less than the correlation computed using the full sample. It is typically about
0.6 less than our estimates of the correlation.
    Why is the estimated correlation between the AKM fixed effects so much smaller than
the estimated correlation between our measure of types? We can think of three possible
reasons. First, the two measures are conceptually different. Proposition 1 establishes that
if the joint distribution of AKM fixed effects is elliptical, then our correlation should be
equal to the true AKM correlation. It is certainly possible that the joint distribution is not
elliptical, but we believe that is unlikely to explain much of the difference.
    Second, the identifying assumption in the AKM approach is that the error term in the
wage equation vi,m has mean zero conditional on the identity of the worker i and firm ki,m .
In a version of Shimer and Smith (2000) with idiosyncratic match quality, for example, this
assumption is likely to be violated due to a selection problem: some matches will only be
formed if the idiosyncratic shock is high while other matches will be formed with a bigger set
of idiosyncratic shocks. This “endogenous mobility” problem would lead to biased estimates
of worker and firm fixed effects. We stress that our independence assumptions do not solve
this problem, even when those assumptions are appropriate for our approach.
    Finally, even if the identifying assumption in the AKM approach is valid, the estimator
of the AKM correlation is consistent only in the limit as the number of observations per
worker and firm goes to infinity holding fixed the number of workers and firms (Postel-Vinay
and Robin, 2006; Andrews, Gill, Schank and Upward, 2008). This is not a natural feature
of real-world data sets. For example, even using 36 years of Austrian data, we find that the
median worker has two employers and the median firm has three employees. Otherwise, there
  24
    Gruetter and Lalive (2009) find an AKM correlation of −0.21 for Austria. We attribute the difference
to the fact that they only have a 25 percent sample of the Austrian private sector employment over an eight
year period, while we have the full private sector over a longer period. An implication of Proposition 3
below is that increasing the number of matches per worker and per firm reduces the bias in the fixed effects
estimates.



                                                    36
                               Comparison with AKM: Men
                                          (1)      (2)       (3)     (4)      (5)   (6)           (7)
 ρ̂                                     0.589    0.633     0.616   0.491    0.450 0.435         0.418
 ρ̂AKM                                  0.033    0.035     0.057   0.033    0.033 0.015        -0.002
 ρ̂ − ρ̂AKM                             0.555    0.598     0.559   0.458    0.418 0.420         0.419
 number of workers (thousands)          4,138 3,651        2,810   1,100      676   650          652
 number of firms (thousands)              750    650         498     234      206   179          180
 number of observations (thousands)    63,630 63,043      16,129   4,375    3,505 2,810        2,815
 share of observations top-coded        0.185 0.186        0.134   0.078    0.060 0.033        0.041
 independence assumption                naı̈ve        I       II      III     IV        IV        IV
 observations included                     all      all      all longest longest      first      last
 first year of the sample               1972      1972     1972     1986    1986     1986       1986


Table 5: Comparison of our estimates of correlation and AKM fixed effects estimates for
men. The AKM correlation as well as correlation estimated using our method are estimated
on the largest connected set. All columns use residual log wages, obtained by regressing log
wages on year and age dummies. Columns (3)–(7) aggregate residual wages to the worker-
firm match level by taking a weighted average of wages within the match across years. We
use a naı̈ve measure of correlation in column (1), and our method in columns (2)–(7). Before
applying our method, we iteratively drop firms and workers with a single wage observation.
Each column uses a different sample to estimate the correlation. For the naı̈ve concept,
we include all workers in the data. Independence assumption I includes workers with at
least two firm-year wage observations and treats each year as an independent observation.
Independence assumption II includes workers with at least two distinct employers and treats
each employer as an independent observation. Independence assumption III includes workers
with at least two employment spells and treats the longest jobs during each employment spell
as independent observations. Independence assumption IV includes workers with at least
three employment spells and treats either the longest (4), first (5), or last (6) job during
each employment spell as independent observations. The last row in the table indicates the
first year of the sample. The sample always ends in 2007.




                                            37
                              Comparison with AKM: Women
                                            (1)      (2)       (3)      (4)       (5)   (6)          (7)
 ρ̂                                       0.569    0.606     0.435    0.429     0.428 0.448        0.436
 ρ̂AKM                                    0.005    0.007     0.068    0.037     0.067 0.055        0.038
 ρ̂ − ρ̂AKM                               0.564    0.600     0.368    0.392     0.361 0.394        0.398
 number of workers (thousands)            3,386 3,088        2,358      951       540   503   504
 number of firms (thousands)                821    716         522      238       196   160   162
 number of observations (thousands)      46,679 46,275      11,101    3,190     2,336 1,771 1,773
 share of observations top-coded          0.050 0.050        0.043    0.026     0.020 0.012 0.013
 independence assumption                  naı̈ve        I       II      III     IV         IV        IV
 observations included                       all      all      all longest longest       first      last
 first year of the sample                 1972      1972     1972     1986    1986      1986       1986


Table 6: Comparison of our estimates of correlation and AKM fixed effects estimates for
women. See description of Table 5 for details.

is an incidental parameter problem which causes bias and inconsistency in the measurement
of the correlation between the AKM fixed effects. We turn to this issue next.


5.2    Finite Sample Bias in Estimated Correlation
Estimates of the AKM fixed effects are unbiased but noisy when each worker has a finite
number of jobs and each firm has a finite number of employees. This noise in turn affects the
measured correlation. To see this, first suppose we measure the firm fixed effects accurately,
because we have a lot of data for each firm. Due to idiosyncratic noise, we expect to still
measure workers’ fixed effects with noise, boosting its cross-sectional variance. Although
this noise does not affect the covariance between worker and firm fixed effects, it biases the
measured correlation towards zero.
    Now suppose both fixed effects are measured with noise, as is the case when Mi and Nj
are both finite. In some instance, a particular firm fixed effect is overestimated. Then the
first order conditions from minimizing the sum of squared residuals in equation (12) implies
that for a given set of wages, the fixed effects for that firm’s workers will be underestimated.
The opposite happens if the firm fixed effect is underestimated. This induces a negative bias
in the covariance between the worker and firm fixed effects, potentially making the estimated
covariance negative even if the true covariance is positive.
    We develop an analytically tractable model economy to derive the potential magnitude of
this bias. The model economy is simpler than the real world economy in a few ways. First,
we assume that the AKM wage equation (12), is correctly specified. Second, we assume that


                                              38
                                              men         women
                            0.6
                                    our approach

          correlation ρ̂    0.4


                            0.2


                              0                         AKM


                           −0.2

                             1985   1990           1995       2000     2005
                                                       year


Figure 5: AKM correlation between worker and firm types using one job per spell under
independence assumption III. Solid lines are computed year-by-year. For each year, the
sample considers the largest connected set of workers who switched employers after an un-
employment spell within that year, and includes one job for each employment spell of these
workers. The sample only includes the wage observations for that year, even if the match
continued in other years. Dashed lines are computed using the full sample, reported in col-
umn Tables 1(4) and 2(4). Dotted lines show the estimates using our approach on the the
largest connected set.

all workers have the same number of jobs and all firms have the same number of employees.
Third, we assume that there are no loops in the matching graph, in a sense that we make
precise below.
    In our model economy, there are infinitely many workers indexed by i, each with an AKM
wage effect αi ∈ R. There are also infinitely many firms indexed by j, each with an AKM
wage effect ψj ∈ R. The workers’ and firms’ characteristics y and z and types λ and µ do not
play a role here, and so we suppress them. Worker i is matched with M different employers
and firm j is matched with N different workers. This notation again suppresses any explicit
notion of time and dynamics since that is not essential to our analysis.
    For simplicity we assume there are no match-varying covariates xi,m . Wages are set
according to equation (12), where vi,m is an independent shock with mean 0 and standard
deviation σv . This means that the AKM model is correctly specified, although we measure
wages at the match (rather than year) level.
    We turn now to the matching graph. The matching graph is a set of nodes and links,

                                                   39
where the nodes represent workers and firms, and there is a link between a firm and a worker
node if the firm ever employed the worker. A key assumption is that the graph has no loops.
A loop would arise in the graph, for example, if there are workers i and i0 and firms j and
j 0 such that both i and i0 work for j and j 0 . Loops can also be larger. For example i works
for j and j 0 , i0 works for j 0 and j 00 , and i00 works for j and j 00 . As we have already observed,
loops are present in real-world networks. We discuss later what happens if we relax this
assumption.
     Let σα denote the standard deviation of α, σψ denote the standard deviation of ψ, and
ρAKM denote the correlation between α and ψ in matched pairs. We do not impose any
distributional assumptions, but remind the reader that if the joint distribution of matched
α and ψ is elliptical and (σα + ρAKM σψ )(σψ + ρAKM σα ) > 0, then the correlation between λ
and µ, our measure of type, satisfies ρ = ρAKM ; see Proposition 1.
     We are interested in understanding what happens if we estimate equation (12) using a
data set produced with this data generating process. The following Proposition gives the
result:

Proposition 3 Assume M ≥ 2 and N ≥ 2 with at least one inequality strict. Suppose we
use ordinary least squares to estimate equation (12) on the largest connected set of workers
and firms. Then the joint distribution of the estimated fixed effects α̂ and ψ̂ in matched pairs
has variance-covariance matrix
                                                                         
                                N (M −1)σv2                          σv2
                        σα2 + M (M N −M −N )
                                                ρ AKM σα σ ψ −  M N −M −N
                                                                         .                (13)
                                         σv2        2       M (N −1)σv2
                      ρAKM σα σψ − M N −M −N       σψ + N (M N −M −N )

If ρAKM ≥ 0, then the correlation between α̂ and ψ̂ in matched pairs is smaller than ρAKM ,
and strictly so if the error in the wage equation has a positive variance.

The proof is in Appendix A. The proof proceeds by first noting that α̂i and ψ̂j are unbiased
estimators of αi and ψj , as one would expect given that the error term in the wage equation
is strictly exogenous. We call the difference α̂i − αi and ψ̂j − ψj the AKM residuals. In
the variance-covariance matrix (13), the first term in each expression corresponds to the
variance-covariance matrix of the true effects αi and ψj , while the second term corresponds
to the variance-covariance matrix of the AKM residuals.
    After constructing the AKM residuals, the proof then analyzes how shocks to the wage
in one match spill through the matching graph, affecting the AKM residuals of workers and
firms that are not necessarily directly affected by the wage shock. Finally, it uses the fact
that the wage shocks are independent with known variance to compute the variance in the
AKM residuals and the covariance between the AKM residuals of matched workers and firms.

                                                  40
   If the number of observations per worker and firm, M and N , converge to infinity at the
same rate, then all the second terms in the covariance matrix (13) converge to zero and the
correlation between α̂ and ψ̂ converges to ρAKM , the correlation between α and ψ. But in
practice M and N are small and so that limit is not empirically relevant.
   We use Proposition 3 to explore the quantitative biases in the fixed effects estimates.
To do this, we need to feed in numbers. Our approach gives us precise estimates of the
unconditional standard deviation of log wages σ, the standard deviation of worker types σλ ,
the standard deviation of job types σµ , and the correlation between worker and job types in
matched pairs ρ. Under the assumption of an elliptical distribution of worker and firm types
with (σλ − ρσµ )(σµ − ρσλ ) > 0, the arguments in the proof of Proposition 1 imply

                             σλ − ρσµ                  σµ − ρσλ
                      σα =            ,         σψ =            ,       and ρAKM = ρ.
                              1 − ρ2                    1 − ρ2

Moreover, the variance of the residual in equation (12) satisfies

                                                                      σλ2 + σµ2 − 2ρσλ σµ
               σv2     2
                             σα2       σψ2                          2
                                                             
                     =σ −          +         + 2ρAKM σα σψ       =σ −                     .
                                                                            1 − ρ2

The remaining numbers are M and N , the number of matches per worker and per firm.
In the data, there is considerable dispersion and skewness in these numbers. For example,
among the 1.1 million men in Table 1(4), the median value of Mi is 3 and the mean is 3.98.
Among their 0.2 million employers, the median value of Nj is 5 and the mean is 18.68. The
corresponding medians and means for women are 3 and 3.36 for Mi and 4 and 13.41 for Nj .
The theory does not tell us which numbers to use.
    We find that if we plug in the median values of Mi and Nj , the variance-covariance
matrix (13) overpredicts the bias in the AKM correlations in Tables 5(4) and 6(4). For
example, the equation predicts an AKM correlation of -0.008 for men and -0.066 for women,
compared to 0.033 and 0.037 reported in the Tables.
    On the other hand, using the mean numbers for Mi and Nj yields more modest biases, an
AKM correlation of 0.218 for men and 0.186 for women. Interestingly, these are close to what
we find on the artificial data sets that we use for our bootstrap procedure (see Appendix C).
These data sets are designed to match the variance-covariance structure (σ, σλ , σµ , ρ) and
the entire distribution of Mi and Nj , not just the means and medians. On average, we find
that the AKM correlation is 0.217 for men and 0.184 for women in the artificial data sets.
We interpret this result as suggesting that M and N in Proposition 3 should be interpreted
as the mean values of these parameters.
    The fact that an AKM correlation in our bootstrap procedure is higher than in the real-


                                                       41
world data implies that the artificial data and real-world data sets differ in an important
dimension. One difference is the presence of loops in the matching graph. The proof of
Proposition 3 relies on an assumption that there are no loops in the matching graph, since
that ensures independence of shocks in the wage equation as we step away from a particular
match.
    What happens if there are loops? Our intuition is that loops reduce the number of
workers and firms who are a given number of steps removed from a particular match, much
like reducing M and N . An alternative way to think about this is that loops effectively create
some perfectly correlated shocks, since we can reach the same node following different paths.
Correlated shocks act like an increase in the variance of the shock in the wage equation. And
an increase in the variance of the shock has the same effect on the correlation as a reduction
in M and N . Thus loops should raise the variance of fixed effects and reduce the covariance
of fixed effects measured using the AKM approach.
    While we know loops exist in the data, it is unclear how to recreate the types and
frequencies of loops that we see in artificial data sets. These loops presumably reflect the fact
that there are clusters in the matching graph, with matches more likely within clusters than
across them, even conditional on λ and µ. Modeling clusters is tricky even in simulated data
(Schaeffer, 2007), and extending the results in Proposition 3 to handle realistic clusters goes
beyond the scope of this paper. Nevertheless, we have found using Monte Carlo methods
that introducing clusters further depresses the estimated correlation between fixed effects
when using the AKM methodology, in line with our empirical results.
    We can also examine how the AKM estimator behaves using our alternative bootstrap
procedure, where we hold fixed the set of matches and draw uncorrelated types for each
worker and firm. This is essentially the approach taken by Andrews, Gill, Schank and Upward
(2008). We find that the AKM estimator is biased, but the bias is modest. When we feed in
a correlation of 0, our 95 percent confidence interval for the correlation is [−0.0457, −0.0431].
The modest bias reflects the tension between a negative estimate of the covariance and an
overestimate of the variance of worker and firm fixed effects.
    The bottom line is that the bias in the AKM estimator is quantitatively significant even
if the model is correctly specified and even if we have a long panel with many workers and
firms. The bias in the correlation between matched worker and firm effects is worse if the
true correlation is positive, since the overestimate of the variance of the worker and effects
and the underestimate of the covariance between the worker and firm effect both push the
measured correlation towards zero.




                                               42
6     Conclusion
This paper proposes and implements a simple, precise, and accurate approach to measuring
whether high wage workers work for high wage firms. Using Austrian data, we find that they
do. The correlation between a worker’s type and her employer’s type lies between 0.4 and 0.6
and is reasonably stable over time. We contrast our results with the existing literature based
on the AKM fixed effects estimator. We show that the AKM estimator is significantly biased
even in data sets with many worker and firm observations, due to the incidental parameter
problem. This has led to the previous literature to the incorrect conclusion that there is
little sorting of high wage workers into high wage jobs.
     Is a correlation of 0.4 to 0.6 large? This is a quantitative question that goes beyond
the scope of this paper. Still, there are reasons to think that the true correlation is even
larger. We have previously noted three reasons why our approach likely understates the
true correlation: we focus only on workers who experience unemployment, while those who
are continuously employed appear to have a higher correlation; workers’ types change over
time, arguably more dramatically during a spell of registered unemployment (Ljungqvist
and Sargent, 1998); and firms are collections of heterogeneous jobs at a point in time and so
there is not really a single firm type that is applicable to all workers. Even in a frictionless
environment, one would not expect to see many firms that only hire high wage workers, since
real-world production processes and hierarchies utilize a mix of skills (Garicano, 2000). Our
estimated correlations therefore suggest that the labor market is very effective at getting the
highest wage workers working together at the highest wage firms.


References
Abowd, John, Francis Kramarz, Paul Lengermann, and Sébastien Pérez-Duarte,
 “Are Good Workers Employed by Good Firms? A Test of a Simple Assortative Matching
 Model for France and the United States,” 2004. Mimeo.

Abowd, John M. and Francis Kramarz, “The Analysis of Labor Markets using Matched
 Employer-Employee Data,” Handbook of Labor Economics, 1999, 3, 2629–2710.

    , , and David N. Margolis, “High Wage Workers and High Wage Firms,” Economet-
    rica, 1999, 67 (2), 251–333.

Abowd, John M, Robert H. Creecy, and Francis Kramarz, “Computing person and
 firm effects using linked longitudinal employer-employee data,” 2002. Center for Economic
 Studies, US Census Bureau.

                                              43
Andrews, Martyn J., Leonard Gill, Thorsten Schank, and Richard Upward, “High
 Wage Workers and Low Wage Firms: Negative Assortative Matching or Limited Mobility
 Bias?,” Journal of the Royal Statistical Society: Series A (Statistics in Society), 2008, 171
 (3), 673–697.

  , , , and , “High Wage Workers Match with High Wage Firms: Clear Evidence of
  the Effects of Limited Mobility Bias,” Economics Letters, 2012, 117 (3), 824–827.

Arellano, Manuel and Stéphane Bonhomme, “Identifying Distributional Characteris-
 tics in Random Coefficients Panel Data Models,” Review of Economic Studies, 2011, 79
 (3), 987–1020.

Azevedo, Eduardo M. and Jacob D. Leshno, “A Supply and Demand Framework for
 Two-Sided Matching Markets,” Journal of Political Economy, 2016, 124 (5), 1235–1268.

Bagger, Jesper and Rasmus Lentz, “An Equilibrium Model of Wage Dispersion and
 Sorting.,” 2016. Mimeo.

  , François Fontaine, Fabien Postel-Vinay, and Jean-Marc Robin, “Tenure, Ex-
  perience, Human Capital, and Wages: A Tractable Equilibrium Search Model of Wage
  Dynamics,” The American Economic Review, 2014, 104 (6), 1551–1596.

  , Kenneth L Sørensen, and Rune Vejlin, “Wage Sorting Trends,” Economics Letters,
  2013, 118 (1), 63–67.

Becker, Gary S., “A Theory of Marriage: Part I,” Journal of Political economy, 1973, 81
 (4), 813–846.

Bonhomme, Stéphane, Thibaut Lamadon, and Elena Manresa, “A Distributional
 Framework for Matched Employer Employee Data,” 2016. University of Chicago Mimeo.

Burdett, Kenneth and Dale Mortensen, “Wage Differentials, Employer Size, and Un-
 employment,” International Economic Review, 1998, 39 (2), 257–73.

Card, David, Jörg Heining, and Patrick Kline, “Workplace Heterogeneity and the
 Rise of West German Wage Inequality,” Quarterly Journal of Economics, 2013, 128 (3),
 967–1015.

Christensen, Bent Jesper, Rasmus Lentz, Dale T. Mortensen, George R. Neu-
 mann, and Axel Werwatz, “On-the-Job Search and the Wage Distribution,” Journal
 of Labor Economics, 2005, 23 (1), 31–58.


                                             44
Eeckhout, Jan and Philipp Kircher, “Identifying Sorting—In Theory,” Review of Eco-
 nomic Studies, 2011, 78 (3), 872–906.

Farber, Henry S. and Robert Gibbons, “Learning and Wage Dynamics*,” Quarterly
  Journal of Economics, 1996, 111 (4), 1007–1047.

Garicano, Luis, “Hierarchies and the Organization of Knowledge in Production,” Journal
 of Political Economy, 2000, 108 (5), 874–904.

Gruetter, Max and Rafael Lalive, “The Importance of Firms in Wage Determination,”
 Labour Economics, 2009, 16 (2), 149–160.

Hagedorn, Marcus, Tzuo Hann Law, and Iourii Manovskii, “Identifying Equilibrium
 Models of Labor Market Sorting,” Econometrica, 2017, 85 (1), 29–65.

Iranzo, Susana, Fabiano Schivardi, and Elisa Tosetti, “Skill Dispersion and Firm
  Productivity: An Analysis with Employer-Employee Matched Data,” Journal of Labor
  Economics, 2008, 26 (2), 247–285.

Jochmans, Koen and Martin Weidner, “Fixed-Effect Regressions on Network Data,”
  2017. mimeo.

Lindenlaub, Ilse and Fabien Postel-Vinay, “Multidimensional Sorting Under Random
  Search,” 2017. mimeo.

Ljungqvist, Lars and Thomas J. Sargent, “The European Unemployment Dilemma,”
  Journal of Political Economy, 1998, 106 (3), 514–550.

Lopes de Melo, Rafael, “Firm Wage Differentials and Labor Market Sorting: Reconciling
  Theory and Evidence,” Journal of Political Economy, forthcoming.

Menzel, Konrad, “Large Matching Markets as Two-Sided Demand Systems,” Economet-
 rica, 2015, 83 (3), 897–941.

Pichelmann, Karl and Monika Riedel, “New Jobs or Recalls?,” Empirica, 1992, 19 (2),
  259–274.

Postel-Vinay, Fabien and Jean-Marc Robin, “Equilibrium Wage Dispersion with
 Worker and Employer Heterogeneity,” Econometrica, 2002, 70 (6), 2295–2350.

   and , “Microeconometric Search-Matching Models and Matched Employer-Employee
  Data,” in “The Proceedings of the 9th World Congress of the Econometric Society” 2006,
  pp. 877–907.

                                          45
Schaeffer, Satu Elisa, “Graph Clustering,” Computer Science Review, 2007, 1 (1), 27–64.

Shimer, Robert and Lones Smith, “Assortative Matching and Search,” Econometrica,
  2000, 68 (2), 343–369.

Solomon, Lewis C., “The Definition of College Quality and Its Impact on Earnings,”
  in “Explorations in Economic Research, volume 2, number 4,” NBER, October 1975,
  pp. 537–587.

Tiebout, Charles M., “A Pure Theory of Local Expenditures,” Journal of Political Econ-
  omy, 1956, 64 (5), 416–424.

Weiss, Gideon, “Time-Reversibility of Linear Stochastic Processes,” Journal of Applied
 Probability, 1975, 12 (4), 831–836.

Zweimuller, Josef, Rudolf Winter-Ebmer, Rafael Lalive, Andreas Kuhn, Jean-
 Philipe Wuellrich, Oliver Ruf, and Simon Buchi, “Austrian Social Security
 Database,” April 2009. Mimeo.



A       Omitted Proofs
Proof of Proposition 1. We first prove that the expected value of α conditional on ψ is
θ0 + θ1 ψ, where θ0 = ᾱ − ζ ψ̄, θ1 = ζ, and ζ ≡ ρσα /σψ . Towards this end, take any point
                                        
(α1 , ψ) and let α2 ≡ 2 ᾱ + ζ(ψ − ψ̄) − α1 , so the mean of α1 and α2 is ᾱ + ζ(ψ − ψ̄). The
definition of an elliptical distribution implies ξ(α1 , ψ) = ξ(α2 , ψ). Using this, the conditional
expected value satisfies
   R∞                   R ᾱ+ζ(ψ−ψ̄)                  R∞
        αξ(α, ψ)dα       −∞
                                       αξ(α, ψ)dα +    ᾱ+ζ(ψ−ψ̄)
                                                                     αξ(α, ψ)dα
    R−∞
      ∞            =     R ᾱ+ζ(ψ−ψ̄)                 R∞
      −∞
         ξ(α, ψ)dα                      ξ(α, ψ)dα +                  ξ(α, ψ)dα
                           −∞                          ᾱ+ζ(ψ−ψ̄)
                        R ᾱ+ζ(ψ−ψ̄)                  R ᾱ+ζ(ψ−ψ̄)                       
                         −∞
                                       αξ(α, ψ)dα + −∞
                                                                      2 ᾱ + ζ(ψ − ψ̄) − α ξ(α, ψ)dα
                    =                              R ᾱ+ζ(ψ−ψ̄)
                                                  2 −∞      ξ(α, ψ)dα
                        R ᾱ+ζ(ψ−ψ̄)                 
                         −∞
                                   2 ᾱ + ζ(ψ − ψ̄) ξ(α, ψ)dα
                    =             R ᾱ+ζ(ψ−ψ̄)                 = ᾱ + ζ(ψ − ψ̄)
                                 2 −∞          ξ(α, ψ)dα

The first expression defines the conditional expectation. The first equality breaks the inte-
grals into two terms. The second equality uses the key property of the elliptical distribution,
ξ(α, ψ) = ξ(2(ᾱ − ζ(ψ − ψ̄)) − α, ψ), which allows us to change the variable of integration

                                                  46
in the second integral in both the numerator and denominator. The third equation adds to
the two integrands in the numerator. The fourth equation uses the fact that the integrand
is constant.
                                                                                         ρσ
    A symmetric proof implies that the expected value of ψ conditional on α is ψ̄ + σαψ (α −
ᾱ) = κ0 + κ1 α. The logic in the body of the paper then implies λ = κ0 + (1 + κ1 )α and
µ = θ0 + (1 + θ1 )ψ, with the coefficients given in equation (2).
    If σα + ρAKM σψ and σψ + ρAKM σα are both positive, this equation implies λi is a linearly
increasing function of αi and µj is a linearly increasing function of ψj . Therefore the correla-
tion between λ and µ is the same as the correlation between α and ψ, ρ = ρAKM . Moreover,
equation (2) implies that the standard deviations of λ and ψ are σλ = σα + ρAKM σψ and
σµ = σψ + ρAKM σα , both positive by the assumption at the start of this paragraph. Using
this and ρ = ρAKM gives us σλ − ρσµ = σα (1 − ρ2AKM ) > 0, and σµ − ρσλ = σψ (1 − ρ2AKM ) > 0.
Hence indeed (σλ − ρσµ )(σµ − ρσλ ) > 0.
    Now suppose that σα + ρAKM σψ > 0 > σψ + ρAKM σα . Then λi is a linearly increas-
ing function of αi and µj is a linearly decreasing function of ψj . Therefore ρ = −ρAKM .
Equation (2) implies that the standard deviations of λ and ψ are σλ = σα + ρAKM σψ and
σµ = −(σψ + ρAKM σα ). Using this and ρ = −ρAKM gives us σλ − ρσµ = σα (1 − ρ2AKM ) > 0
and σµ − ρσλ = −σψ (1 − ρ2AKM ) < 0. This proves (σλ − ρσµ )(σµ − ρσλ ) < 0. The case with
σψ + ρAKM σα > 0 > σα + ρAKM σψ is analogous.
    Finally, if σα + ρAKM σψ = 0, equation (2) implies σλ = 0. If σψ + ρAKM σα = 0, then
σµ = 0. In either case, the correlation between λ and µ is undefined.

Proof of Lemma 1. For worker i, consider Mi independent observations from the worker-
                                                          w         Mi
specific distribution of log wages and densities, say (ωi,m , tw
                                                               i,m )m=1 . Now consider a random
                               w
                                                                                      PMi w
variable ω which is equal to ωi,m  with probability tw      w                    w
                                                     i,m /Ti , where as usual Ti =      m=1 ti,m .
The population variance of this random variable is

                                         PM i                           2
                                                w          w
                                           m=1 ti,m       ωi,m   − λ̂i
                               (sw  2
                                 i ) ≡                                        ,              (14)
                                                      Tiw
            PMi
                  tw ω w
where λ̂i = m=1T wi,m i,m .
                   i
   Now let ω1 and ω2 denote two independent draws from this distribution. With probability
PMi w          w 2
  m=1 (ti,m /Ti ) , the two draws come from the same observation m and so ω1 = ω2 . Oth-
erwise they come from different observations m and m0 . In this event, the two observations
were themselves draws from a distribution with variance (σiw )2 and so E(ω1 − ω2 )2 = 2(σiw )2 .
(Recall that if x1 and x2 are two independent draws of a random variable with variance


                                                47
σx2 , then the expected value of their squared difference equals twice the variance of x,
E(x1 − x2 )2 = 2E(x2 ) − 2(Ex)2 = 2σx2 .) Combining this gives us

                                                   Mi  w  2
                                                                   !
                                                   X   ti,m                        2(σiw )2
                        E(ω1 − ω2 )2 = 2 1 −                           (σiw )2 =            ,
                                                   m=1
                                                            Tiw                      βiw

where the second equation uses the definition of βiw . Inverting this tell us that the variance
of a single draw ω from this distribution is (σiw )2 /βiw .
    We have now found two different measures of the variance of a single draw from the
Mi observations. Equating those measures gives us that the product of the Bessel correc-
tion factor and the population variance, βiw (sw   2
                                                i ) , is a random variable with expected value
(σiw )2 . The unbiased estimator of the variance in equation (5) follows immediately from the
expression for swi in equation (14).


Proof of Proposition 3. The first order condition from minimizing the sum of squared
residuals in equation (12) is equivalent to two moment conditions:

                                            M
                                         1 X w
                                   α̂i =      (ω − ψ̂ki,m ) for all i,                                      (15)
                                         M m=1 i,m
                                            N
                                         1 X f
                                   ψ̂j =      (ω − α̂hj,n ) for all j.                                      (16)
                                         N n=1 j,n

Standard results imply that the expected value of α̂i is αi and the expected value of ψ̂j is
ψj .25
     When the variance of the error in the wage equation, σv2 , is zero, the measured fixed
effects are exactly proportional to the types, α̂i = αi and ψ̂j = ψj . In the more interesting
case when the variance in the wage equation is positive, the differences α̂i − αi and ψ̂j − ψj ,
which we refer to hereafter as the “AKM residuals,” are random variables with mean zero
and some variance. Moreover, because of the structure of who matches with whom, the
AKM residuals are correlated across matched pairs of workers and firms. The bulk of the
proof consists of finding these variances and covariances.
     As a preliminary step, we seek to understand how shocks in the wage equation affect
estimated fixed effects. Consider the impact of raising the error in the wage equation (12)
by 1 for the mth job of some worker i. This directly affects the fixed effects estimates α̂i
  25
    The pair of equations is actually underidentified, so a correct statement is that the expected value of α̂i is
αi +γ and the expected value of ψ̂j is ψj −γ for some constant γ. The constant γ reflects an indeterminacy in
the fixed effect measurement that does not affect the correlation between the fixed effects on any connected
set of workers and firms; hereafter we normalize it to 0 for convenience.


                                                       48
and ψ̂ki,m . Let ∆α0 denote the change in α̂i and ∆ψ0 denote the change in ψ̂ki,m . From the
moment conditions (15) and (16), these satisfy

                                   1                       
                             ∆α0 =   1 − ∆ψ0 − (M − 1)∆ψ1 ,
                                   M
                                   1                      
                             ∆ψ0 =   1 − ∆α0 − (N − 1)∆α1
                                   N

where ∆α1 and ∆ψ1 denote the change in the estimated fixed effect for all the other employees
of ki,m and all the other employers of i. These changes in the fixed effects propagate through
the network of workers and jobs. Let ∆αn and ∆ψn denote the change in the estimated
fixed effect of workers and firms who are n steps removed from i or ki,m , i.e. matched with a
worker or firm that is n − 1 steps removed. Again using the moment conditions, these satisfy

                                 1                         
                           ∆αn =    − ∆ψn−1 − (M − 1)∆ψn+1 ,
                                 M
                                 1                         
                           ∆ψn =   1 − ∆αn−1 − (N − 1)∆αn+1 .
                                 N

The unique bounded solution to these equations is:
                               
                                            1
                               
                                   M (M −1)n/2 (N −1)n/2
                                                                     if n is even
                      ∆αn =
                               −              1
                                  M (M −1)(n−1)/2 (N −1)(n+1)/2
                                                                     if n is odd
                               
                                         1
                               
                                   N (M −1)n/2 (N −1)n/2
                                                                     if n is even
                       ∆ψn =
                               −                 1
                                     N (M −1)(n+1)/2 (N −1)(n−1)/2
                                                                     if n is odd

This solution oscillates around 0, with even n corresponding to positive deviations and odd
n corresponding to negative deviations. Moreover, if M ≥ 2 and N ≥ 2 with one inequality
strict, the sequence converges to 0.
    Now each worker i is matched with M firms. Each of those matches induces a variance
                                     σv2
of the fixed effect of (∆α0 )2 σv2 = M  2 . Since the shocks are independent across matches, all
                                                                                 2
of those matches together create a variance of the fixed effect totalling σMv .
    Additionally, each of i’s M employers has N −1 other employees. Each of those M (N −1)
                                                                         2
matches induces a variance of the fixed effect of (∆α1 )2 σv2 = (M (Nσv−1))2 , independent across
matches. Thus all of those matches together create a variance of the fixed effect totalling
   σv2
M (N −1)
         .
    Proceeding by induction, the matches that are n steps removed from i create a vari-
                                                                      σv2
ance of the fixed effect that collectively accounts for M (M −1)n/2       (N −1)n/2
                                                                                    for n even and



                                                   49
            σv2
M (M −1)(n−1)/2 (N −1)(n+1)/2
                                for n odd. Summing across n gives

                                                         N (M − 1)σv2
                                    var (α̂i − αi ) =                  .
                                                      M (M N − M − N )

A similar logic implies
                                                        M (N − 1)σv2
                                    var ψ̂j − ψj =                      .
                                                       N (M N − M − N )
These are the variances of the AKM residuals.
    We can also compute the covariance between a matched worker i and firm j = ki,m ’s
                                                                                   2
AKM residuals. First, the shock vi,m induces a covariance of (∆α0 )(∆ψ0 )σv2 = MσvN .
    Second, each of worker i’s M − 1 other employment relationships has a shock vi,m0 .
                                                             σv2
This shock induces a covariance of (∆α0 )(∆ψ1 )σv2 = − M N (M    −1)
                                                                     between the AKM resid-
uals of i and j, since those workers are one step removed from firm j. The total of these
           −σv2
shocks is M N
                . Third, each of the workers’ M − 1 other employers has N − 1 other em-
ployees. The wage shock in each of those employment relationships induces a covariance
                              2
of (∆α1 )(∆ψ2 )σv2 = M N (M−σ v
                            −1)2 (N −1)
                                        between the AKM residuals of i and j. This covariance
            −σv2
totals   M N (M −1)
                    .   Fourth, each of these employees has M − 1 other employers, each inducing a
                                              −σv2
covariance of (∆α2 )(∆ψ3 )σv2 =        M N (M −1)3 (N −1)2
                                                             between the AKM residuals of i and j. This
                             −σv2
covariance totals M N (M −1)(N −1) . Each successive step away from the worker divides the total
covariance alternatively by M − 1 or N − 1. Summing across all the contributions from all
                                                                                    −σv2 (M −1)
the relationships emanating from i’s other employers, the covariance totals M (M       N −M −N )
                                                                                                 .
     A symmetric argument shows that summing across all the relationships emanating from
                                                      −σv2 (N −1)                          −1
j’s other employees, the covariance totals N (M         N −M −N )
                                                                  . Finally, M1N − M (M M
                                                                                        N −M −N )
                                                                                                   −
      N −1             −1
N (M N −M −N )
               = M N −M −N . Therefore the covariance between the AKM residuals of i and
j is
                                                                  σv2
                         cov α̂i − αi , ψ̂ki,m − ψki,m = −                   .
                                                               MN − M − N
     The last step is to compute the unconditional variance-covariance matrix of α and ψ. We
do this using the decomposition

                                           α̂i = αi + (α̂i − αi ) ,
                                                                 
                                           ψ̂j = ψj + ψ̂j − ψj .

The variance-covariance matrix of the first term is exogenous and known. We have just
found the variance and covariances of the second term. Finally, the two random variables
are independent. The variance-covariance matrix (13) follows immediately.


                                                       50
   Now if ρAKM ≥ 0, the covariance between α̂ and ψ̂ may be negative, in which case the
correlation between α̂ and ψ̂ is negative and hence smaller than ρAKM . Alternatively, the
covariance is positive but smaller than ρAKM σα σψ . The standard deviation of α̂ exceeds σα
and the standard deviation of ψ̂ exceeds σψ . Thus the correlation is less than ρAKM .


B      Selection versus Bias
Standard theories of on-the-job search imply that the independence assumptions I-IV are
increasingly likely to be satisfied. That is, it seems plausible that the correlation estimates
in Tables 1(4)–1(7) and 2(4)–2(7) are unbiased, whereas the larger estimates in Tables 1(2)–
1(3) and 2(2)–2(3) are biased. At the same time, the sample size drops dramatically as
we impose more stringent requirements on the data, which means that the estimates in
the later columns may not apply to the whole population. The goal of this section is to
disentangle the extent to which changes in the estimated correlation reflect a reduction in
bias versus a change in sample selection. We focus first on the change in the correlation
between Tables 1(3) and 1(4) for men and present similar analysis for women at the end of
the section.
    The estimated correlation for men drops from 0.62 to 0.49 going from Table 1(3) to
Table 1(4). An obvious difference between these estimates is the time period. Whereas in
Table 1(3) we use data from 1972–2007, Table 1(4) drops the first 14 years of data because we
only have registered unemployment data after 1986. To show that this shorter sample does
not drive our results, we replicate Table 1(3) using only data from 1986–2007. Table 7(1)
shows that this raises the estimated correlation to 0.65. Thus we seek to explain why changing
the independence assumption from II to III causes a decline in the measured correlation
from 0.65 to 0.49 for men. Does this reflect a bias coming from a reliance on independence
assumption II or selection in the sample resulting from independence assumption III or both?
    A suggestive piece of evidence that selection may be important comes from dividing the
workers in Table 7(1) into two groups, those who are never unemployed in Table 7(2), versus
those who have at least one registered unemployment spell in Table 7(3). We maintain
independence assumption II and so include all jobs for both groups of workers. We find
that about 44 percent of the workers are never unemployed and they have an estimated
correlation of 0.81. About 55 percent of workers experience at least one unemployment spell
and they have a substantially lower estimated correlation, 0.53.26 The average estimated
  26
    The remaining 1 percent of the workers are dropped from the sample because of the requirement that all
firms have two workers in the relevant data set. Some firms only have one worker who is never unemployed
and one worker who is unemployed once, resulting in us dropping the firm and then potentially both workers.



                                                    51
                                Selection versus   Bias: Men
                                             (1)      (2)    (3)      (4)     (5)     (6)
   correlation of matched types ρ̂         0.647    0.807 0.530     0.559   0.666   0.502
   covariance of matched types ĉ          0.034    0.036 0.025     0.029   0.037   0.019
   variance of log wages σ̂ 2              0.123    0.115 0.115     0.119   0.119   0.101
                              2
   variance of worker types σ̂λ            0.044    0.036 0.040     0.045   0.051   0.029
                           2
   variance of job types σ̂µ               0.061    0.055 0.056     0.060   0.060   0.050
   number of workers (thousands)          2,066   904 1,133   473 1,263∗              444
   number of firms (thousands)              373   187   315   211    211              112
   number of observations (thousands)    10,575 2,712 7,712 3,578 3,578             1,182
   share of observations top-coded        0.123 0.242 0.081 0.083 0.083             0.097
   independence assumption                    II       II      II      II      II     III
   observations included                     all      all     all     all     all longest
   ever unemployed?                        some       no     yes    some      no      yes


Table 7: Estimates of correlations, covariances, and variances between matched workers’ and
firms’ types for women. All columns use residual log wages, obtained by regressing log wages
on year and age dummies, aggregated to the worker-firm match level by taking a weighted
average of wages within the match across years. All measures of correlation use our method
after we iteratively drop firms and workers with a single wage observation. Each column
uses a different sample to estimate the correlation. Column (1) includes all workers with
at least two distinct employers and treats each employer as an independent observation.
Columns (2) and (3) divide those workers up into those who did not and did experience
at least one registered unemployment spell. Columns (4)–(6) includes a sample of workers
with at least two employment spells, each of which has at least two employers. Column (4)
treats the entire sample. Column (5) treats an observation as coming from a different worker
if it comes from a different employment spell; thus it only measures the correlation using
within-employment-spell data. Column (6) uses independence assumption III and treats the
longest jobs during each employment spell as independent observations. The sample always
runs from 1986–2007.




                                            52
                                   Selection versus Bias: Women
                                                 (1)     (2)  (3)           (4)     (5)        (6)
       correlation of matched types ρ̂         0.502 0.555 0.462          0.494   0.565      0.435
       covariance of matched types ĉ          0.046 0.054 0.035          0.042   0.052      0.030
                                2
       variance of log wages σ̂                0.228 0.243 0.199          0.206   0.206      0.188
       variance of worker types σ̂λ2           0.086 0.092 0.070          0.080   0.095      0.059
                               2
       variance of job types σ̂µ               0.097 0.102 0.083          0.089   0.090      0.082
       number of workers (thousands)      1,768   730   996   298 705∗                         264
       number of firms (thousands)          386   173   321   168   168                         79
       number of observations (thousands) 7,667 2,104 5,375 1,870 1,870                        620
       share of observations top-coded    0.042 0.078 0.028 0.034 0.034                      0.039
       independence assumption                     II        II      II      II       II     III
       observations included                      all       all     all     all      all longest
       ever unemployed?                         some        no     yes    some       no      yes


Table 8: Estimates of correlations, covariances, and variances between matched workers’ and
firms’ types for women. See description of Table 7 for details.

correlation in Table 7(1) is essentially a weighted average of these two numbers.
    It seems intuitively reasonable that workers who are well matched are less likely to be-
come unemployed.27 By insisting on a registered unemployment spell with independence
assumption III, we select a sample of poorly matched (low correlation) workers. Indeed, the
correlation in Table 7(3) and Table 1(4) are remarkably similar. The small remaining drop
in the correlation from 0.53 to 0.49 appears to reflect the fact that the sample in Table 7(3)
includes some workers who have multiple jobs during a single employment spell. The wage
in those jobs is conditionally correlated, inflating the estimated correlation.
    This reasoning might suggest that the drop in the correlation going from Table 7(1) to
Table 1(4) largely reflects sample selection issues. If so, this would point towards relying
on the less selected sample in Table 7(1). The problem is that the numbers in Table 7(1)
may be more biased than the previous paragraph suggests. All the jobs for the workers in
Table 7(2) are drawn from the same employment spell, whereas this is the case only for some
of the jobs in Table 7(3). If the correlation is higher within spells than across spells, then
workers with only one spell would have a higher correlation than workers with multiple spells
even if selection is not an issue. That is, the difference between the estimated correlations
in Tables 7(2) and 7(3) reflects a combination of bias and selection.
    To illustrate and quantify this, we construct a sample of workers who have at least
  27
    Workers who do not experience unemployment are different on a number of observable dimensions. They
earn a residual log wage that is 0.17 standard deviations above the mean and have less than half as many
jobs as men who go through unemployment.


                                                  53
two employment spells, with at least two employers per spell. For this sample of workers,
Table 7(4) shows that the correlation constructed in the usual manner, under independence
assumption II, is 0.56. Table 7(5) treats observations from different employment spells as
if they come from different workers, and so effectively only measures the correlation within
employment spells, 0.67. And Table 7(6) uses independence assumption III to measure the
correlation using the longest job during each spell, 0.50. For this sample, we view this last
number as the correct measure of the correlation, whereas the correlation in Table 7(4) is
mixture of this and the upward-biased within-spell correlation measure. Since selection is
not an issue in this sample, the difference between Tables 7(5) and 7(6) reflects the bias from
independence assumption II.
    Finally, we try quantify the magnitudes of bias and selection. Here we rely on the
fact that Tables 1(4) and 7(6) are very similar not only in terms of the correlation but
also in terms of the covariance and each of the variances. We treat these two estimates
as unbiased for the selected samples. The bias due to the independence assumption not
being satisfied for workers with one spell is then the difference between Tables 7(5) and 7(6),
0.666 − 0.502 = 0.164. The contribution of selection is the difference between the correlation
for the two samples of never unemployed workers, Tables 7(2) and 7(5), 0.807−0.666 = 0.141.
We conclude that bias and selection are of roughly similar importance in explaining the
results in Table 1(3) and Tables 1(4).
    We can perform a similar analysis for women. Table 8(1) shows that if we measure the
correlation using independence assumption II on data after 1986, the measured correlation is
0.50, compared to 0.43 using independence assumption III (Table 2(4)). As in Table 7, this
reflects a higher correlation for women who are never employed and a lower correlation for
women who work on each side of an unemployment spell; see Tables 8(2) and 8(3). Again,
we believe this suggests that the baseline estimates in Table 2 are a lower bound on the
correlation in the full sample. Finally, Table 8(4) shows the correlation for women with at
least two employment spells and at least two jobs in each spell, split into the within-spell
correlation Table 8(5) and across spell correlation Table 8(6). That the decomposition in
Table 8(1)–8(3) is similar to the decomposition in Table 8(4)–8(6) suggests that selection
is not an important issue. Instead, the decline in the measured correlation going from
Table 8(1) to Table 2(4) reflects the bias in independence assumption II for women.
    For women, the drop in the correlation that comes from switching from independence
assumption I to II is much larger than for men, 0.62 to 0.44; see Tables 2(2) and 2(3). Bias
again appears to be behind this. Using the sample from Table 2(3) but treating each worker-
firm-year observation according to independence assumption I, we get a correlation of 0.58
(not reported in the table), similar to the finding in Tables 2(2). This strongly suggests


                                              54
the reasonable conclusion that wage observations in the same worker-firm match in different
years are not conditionally independent.


C      Bootstrap
C.1      Constructing Artificial Data
We construct artificial data sets that match a few key moments: the correlation between
matched worker and firm types ρ, the standard deviation of worker and firm types σλ and σµ ,
the standard deviation of log wages σ, the number of workers and firms, and the distribution
of the number of matches per worker Mi , the number of matches per firm Nj and the joint
distribution of durations tw i,· . We draw these from our estimates, e.g. in Tables 1 and 2, and
we take distributions of M, N, tw   i,· directly from the data.
     In each iteration of the bootstrap b ∈ {1, . . . , B}, we construct an artificial data set that
replicates these moments, use it to measure the correlation between λ and µ in matches, ρb ,
and then use it to estimate the correlation using our procedure, giving us ρ̂b . In practice, ρ,
ρb , and ρ̂b will not be the same. The difference between the first two reflects the fact that
the artificial data set is finite. The difference between the latter two reflects limitations in
our estimator. We focus on this difference.
     We proceed as follows:

    1. We choose the number of workers I˜ and firms J˜ as in the data.

                                       ˜ we draw Mi and tw , . . . tw , the number firms a worker
    2. For each worker i ∈ {1, . . . , I}                i,1        i,Mi
       works for and durations of each of his job directly from the data. For each j ∈
                   ˜ we draw the number of employees Nj . We use the distribution of N from
       {1, . . . , J},
                                                           P             P
       the data. The model imposes the restriction that i Mi = j Nj . We start with large
       I˜ and J˜ and add workers (if i Mi < j Nj ) or firms (if i Mi > j Nj ) until we
                                         P       P                       P      P

       achieve balance. We end up with I ≥ I˜ workers and J ≥ J˜ firms.

    3. For each worker i (firm j), we choose a random λi (µj ) from a normal distribution with
       mean 0 and variance σλ2 (σµ2 ).

    4. We order the firms so that µ1 < µ2 < · · · < µJ .

    5. For each worker i, we choose Mi values χi,m , distributed normally with mean λiσρσ
                                                                                        λ
                                                                                          µ
                                                                                            and
                 2       2
       variance σµ (1 − ρ ). We rank these values. The N1 lowest values are assigned to firm
       1. The next N2 values are assigned to firm 2, etc. This gives us our matched pairs.


                                                55
  6. We drop any duplicate matches between i and j. If this leaves us with any workers or
     firms with a single match, we drop those as well.

  7. We measure correlation ρb using types λ and µ, and the job durations tw .

  8. We compute the log wage. For worker i’s mth job, the log wage is ωi,m
                                                                         w
                                                                            = aλi + bµki,m +
     vi,m , where vi,m is an i.i.d. normal shock with mean 0 and standard deviation σv . The
     constants a and b satisfy

                                      σλ − ρσµ            σµ − ρσλ
                                a=            2
                                                 and b =              ,
                                     σλ (1 − ρ )         σµ (1 − ρ2 )

      and the variance of the log wage shock satisfies

                                                 σλ2 + σµ2 − 2ρσλ σµ
                                   σv2 = σ 2 −                       .
                                                       1 − ρ2

  9. We estimate ρ̂b using our approach (as described in the text).

 10. We find the largest connected set and keep only workers and firms in this set. We
     estimate ρ̂AKM,b following AKM methodology.

 11. We are primarily interested in δb = ρ̂b − ρb and δAKM,b = ρ̂AKM,b − ρb , the difference
     between the estimated and true correlation in the bth sample.

   We construct B = 500 samples and find values δ and δ̄ such that

                          P (δb ≤ δ) = 0.025 and P (δb > δ̄) = 0.025.

The 95 percent confidence interval for ρ is [ρ + δ, ρ + δ̄]. Note that this will not be centered
around ρ if the estimator is biased. In our case, it is centered and the difference δ̄ − δ is
small.
    We similarly construct confidence intervals using δAKM,b . These turn out not to be
centered around ρ, reflecting the bias in the AKM estimate of the correlation between fixed
effects.
    Finally, we can use the same procedure to bootstrap confidence intervals around other
parameters, e.g. σλ and σµ .
    Our procedure assumes that worker and firm types are homoscedastic but it is straight-
forward to relax this assumption. We have constructed artificial data sets where types are
correlated with the number of observations. In particular, we assume that the worker types
λi are distributed normally with a mean and variance that depends on Mi , and that the firm

                                                 56
types µj are distributed normally with a mean and variance that depends on Nj . We mea-
sure the conditional distributions directly from the data, following the approach in Section 2.
Our estimated confidence interval for ρ is robust to this assumption.


C.2     Properties of the Artificial Data
This section shows that ρb , constructed as described above, is equal to ρ in an infinitely large
data set. We do this by finding all the first and second moments:

  1. The unconditional mean of χi,m is 0 by the law of iterated expectations.

  2. The expected value of χ2i,m conditional on λi is the conditional variance plus the square
                                     λ2i ρ2 σµ
                                             2
      of the mean, σµ2 (1 − ρ2 ) +        2
                                         σλ
                                               .   Thus the unconditional expectation of χ2i,m is

                                            σµ2 (1 − ρ2 ) + ρ2 σµ2 = σµ2 .

      Thus the distribution of χi,m and µj are the same and hence µi,m = µki,m , the type of
      the firm that employs i in her mth match.

  3. The expected value of λµ conditional on λ is λ2 ρσµ /σλ . Thus the unconditional ex-
     pected value is ρσµ σλ . This is the covariance between λ and µ.

  4. The correlation is the ratio of the covariance to the product of the two standard
     deviations, and hence is ρ.


D      Impact of Top-Coding on Estimated Correlation
We study the impact of top-coding on our estimates by varying the share of top-coded wages
in the data set. Starting from the wage cap as in the data, we decrease it gradually by
2 percent, 4 percent,. . . , and up to 40 percent. We then censor wages at the wage cap,
construct data using Concept III as described in the main text and estimate the correlation
and variances.
    Figure 6 shows the results. In the top row, we display the estimated correlation ρ̂ for
data sets with different top-coding as a function of the share of top-coded observations. For
women, the correlation varies very mildly, staying around 0.43 even when almost 20 percent
of observations are top-coded.
    Top-coding matters for men. Setting the maximum wage to 40 percent of what it is in
Austria increases the share of top-coded observations from 7.8 percent to 43.5 percent, and
results in an increase of the correlation from 0.491 to 0.864.

                                                        57
                                              Men                                              Women
                            1                                           0.44
   correlation ρ̂




                           0.8
                                                                        0.43
                           0.6


                           0.4                                          0.42
                                   0.1      0.2    0.3     0.4                 0        0.05      0.1    0.15    0.2
                                 share of top-coded observations                   share of top-coded observations




                           0.4                                           0.5
      standard deviation




                                                                         0.4
                           0.3
                                                                         0.3
                           0.2
                                                                         0.2
                           0.1                                           0.1

                            0                                             0
                                   0.1      0.2    0.3     0.4                 0        0.05      0.1    0.15    0.2
                                 share of top-coded observations                   share of top-coded observations

                                           wages σ̂      worker types σ̂λ               job types σ̂µ


Figure 6: Impact of top-coding on estimated correlation and standard deviation of wages
for men and women. Each dot corresponds to a sample where we decreased the top-code by
0, 2, 4, . . . 40 percent every year and truncated all wages at this new top-code. The sample
of workers and firms is chosen according to Concept III, so the numbers are comparable to
Column (4) of Table 1 for men and Table 2 for women. We plot the results as a function of
the share of top-coded observations in the sample. An observation is considered top-coded
if at least one wage observation of the job is top-coded.




                                                                   58
    Our intuition is that the impact of top-coding on estimated correlation depends on the
correlation in the group affected by top-coding relative to the correlation among the rest. If
the correlation is similar to the rest of the sample, then top-coding does not have a significant
impact. However, if the correlation in the top-coded group is stronger, the correlation
decreases after top-coding the data. Viewed through this lens, the correlation among high-
wage women is similar to the rest. For men, it is useful to think about the components
of the correlation separately. The covariance (not plotted) decreases with top coding from
initial 0.018 to 0.007 when top code is 40 percent of the top wage in Austria. This suggests
that the covariance is stronger among high-wage workers. We see in 6 that the correlation
increases with severity of top-code, which is driven by the sharp decline in the variance of
worker types.
    The standard deviation of log wages declines with severity of top-coding. The drop over
the depicted range of top-coding is significant for all three standard deviations. The decline is
similar for men and women: increasing the share of top-coded observations by 10 percentage
points decreases σ̂, σ̂λ , and σ̂µ by 7.9 percent, 12.1 percent and 8.7 percent, respectively, for
men and 6.9 percent, 11.9 percent, 8.0 percent, respectively, for women.


E     Time-Varying Types
Consider a variant of the model where both workers’ and firms’ types change over time,
and hence across matches. We are interested in understanding what our estimator would
measure in this environment.
    Assume that the mth log wage observation for worker i is ωi,m   w
                                                                       = λi,m + εi,m . Conditional
independence of wage draws implies that εi,m is independently distributed with mean 0 and
a distribution that may depend on the time-varying type λi,m . Similarly, the nth log wage
                           f
observation for firm j is ωj,n = µj,n + ηj,n , where ηj,n is independently distributed with mean
0 and a distribution that may depend on the time-varying type µj,n .
    Types themselves are autocorrelated. Assume λi,m+1 = rλi,m + υi,m+1 and µj,n+1 =
sµj,n + νj,n+1 , where r ∈ [0, 1), s ∈ [0, 1) and υ and ν are independent mean zero normal
shocks with fixed variances συ2 and σν2 , respectively. The cross-sectional distribution of λ and
µ is invariant across matches. Since υ and ν are normal, the stationary distributions of λ
and µ are also normal, with zero means and variances σλ2 = συ2 /(1 − r2 ) and σµ2 = σν2 /(1 − s2 ).
    Since λ and µ are stationary normal processes, Theorem 1 in Weiss (1975) implies that
they are time-reversible. That is, we can write λi,m = rλi,m+1 + υ̃i,m and similarly µj,n =
sµj,n+1 + ν̃j,n where υ̃ and ν̃ are independent mean zero normal shocks with variances συ2
and σν2 , respectively. We will use this property to simplify the expression for the estimated

                                                59
covariance.
   Finally, assume that there is measure I of workers, and to simplify the algebra, assume
that all workers and firms have 2 matches, each of duration 1.
   Using Lemma 2, our estimate of the variance of worker types in this environment is
                Z I
             1                                                 w 2
   σ̂λ2                 w
                           − w̄)2 + (ωi,2
                                        w
                                           − w̄)2 − ωi,1 w
                                                                    
          =          (ωi,1                                  − ωi,2     di
            2I 0
                                  Z I w           w     2
            1 I w w                       ωi,1 + ωi,2
               Z
                                   1
          =       ω ω di −                            di
            I 0 i,1 i,2            I 0         2
                                                                                                        2
            1 I
               Z                                            Z I
                                                             1      (1 + r)λi,1 + εi,1 + υi,2 + εi,2
          =       (λi,1 + εi,1 )(rλi,1 + υi,2 + εi,2 )di −                                           di
            I 0                                              I 0                  2
          = rσλ2 .

The first line uses the assumption that tw  i,m = 1 and Mi = 2 to derive the Bessel correction
factor βi = 2. It also eliminates λ̂i using its definition 12 (ωi,1
        w                                                       w      w
                                                                    + ωi,2 ). The second line uses
                        1
                          RI w        w
the definition of w̄ = 2I 0 (ωi,1 + ωi,2 )di and expands all the squares. The third line uses
                                                w
the distributional assumptions to express ωi,m      in terms of λi,1 and shocks. The last line
leverages the independence of the shocks to get that the measured variance is biased down
by the autocorrelation.
    Similarly, we can use the formula in Lemma 3 to show that σ̂µ2 = sσµ2 .
    Finally, Lemma 4 implies that our estimate of the covariance is
                       Z I
                     1          w           f                     w          f
                                                                                           
               ĉ =          (ωi,2 − w̄)(ωki,1 ,2 − w̄) + (ωi,1 − w̄)(ωki,2 ,1 − w̄) di
                    2I 0
                       Z 1
                     1                                                                                  
                  =          (λi,2 + εi,2 )(µki,1 ,2 + ηki,1 ,2 ) + (λi,1 + εi,1 )(µki,2 ,1 + ηki,2 ,1 ) di
                    2I 0
                       Z 1
                     1
                  =        (rλi,1 + υi,2 + εi,2 )(sµki,1 ,1 + νki,1 ,2 + ηki,1 ,2 )di
                    2I 0
                           Z 1
                         1
                     +         (rλi,2 + υ̃i,1 + εi,1 )(sµki,2 ,2 + ν̃ki,2 ,1 + ηki,2 ,1 )di
                        2I 0
                 = rsρσλ σµ .

The first line again uses the assumption that tw i,m = 1 and Mi = Nj = 2 to simplify the
expression. We also order workers and firms so that if firm j is worker i’s mth employer,
worker i is firm j’s mth employee. Since the average wage w̄ is zero, we can drop that from
subsequent lines. The second line rewrites wages as the sum of time-varying types and i.i.d.
shocks. The third line writes the time-varying types in terms of the types in the period when
the worker and firm are matched, taking advantage of time-reversibility in the case where

                                                           60
the two are matched in the second period but we are looking at wages in the first period.
The final line again uses independence of shocks to get that the measured covariance is also
biased down.
                                                                                 √
    Combining these results, the estimated correlation would be ĉ/(σ̂λ σ̂µ ) = ρ rs < ρ. Thus
to the extent that types vary over time, our approach underestimates the correlation between
types at a point in time.
    It may be possible to extend our approach to handle time-varying types. Identification
results would build on the ideas in Arellano and Bonhomme (2011), using workers and
firms with three or more observations, to distinguish between time-varying types and a low
correlation between types in matched pairs.


F       Time Series and Life Cycle Results under Indepen-
        dence Assumption II
We replicate our time series and life cycle analysis on data sets constructed following using
independence assumption II. We proceed in an analogous manner to the main text. For each
year or age, we select workers who work for at least two distinct employers in the considered
year/age. We estimate the correlation for each year/age separately. Figures 7 and 8 depict
the results.


G       Fixed Effects in Life Cycle Estimation
Our goal is to obtain an estimate of the correlation which controls for composition of workers.
We start by noticing that the covariance ĉ can be obtained as a coefficient from a linear
regression. For each worker i in the sample, we can construct the summand,
                                                                          f         f
                Mi w
                                                    !    P                                          !
                                     w     w
                           P
                   ti,m     m0 6=m ti,m0 ωi,m0               n0 6=ei,m tki,m ,n0 ωki,m ,n0
                X
           ci =                                − w̄                                          − w̄
                   Tw                   w                                     f
                            P
                                m0 6=m ti,m0
                                                              P
                m=1 i                                              n0 6=ei,m tki,m ,n0


where                                     PI     PMi   w    w
                                           i=1    m=1 ti,m ωi,m
                                  w̄ˆ =          PI    w
                                                                ,
                                                     T
                                                  i=1 i

and use weighted least squares with weights τiw ≡ Tiw / Ii0 =1 Tiw0 for worker i to regress
                                                          P

this on the constant 1. The coefficient on the constant is the weighted average of ci across
workers, and is identical to ĉ defined in Section 2.7.



                                                  61
                            0.80
                                                   men      women


                            0.70
           correlation ρ̂




                            0.60


                            0.50


                            0.40

                              1970   1975   1980   1985    1990   1995   2000   2005
                                                          year


Figure 7: Correlation between worker and firm types using indpendence assumption II. Solid
lines are computed year-by-year. For each year, the sample considers workers who switched
employers within that year. The sample only includes the wage observations for that year,
even if the match continued in other years. Dashed lines are computed using the full sample,
reported in column Tables 1(3) and 2(3).




                                                     62
                     1.0                                                  1,000,000
                                          men      women
                     0.8
                            numb
                     0.6         er of w
                                        orkers




                                                                                      number of workers
                                                                          100,000
   correlation ρ̂




                     0.4

                     0.2

                     0.0                                                  10,000

                    −0.2

                    −0.4
                                                                          1,000
                       20   25       30     35          40   45   50    55
                                                 age


Figure 8: Correlation between worker and firm types by age using independence assumption
II. Solid lines are computed age-by-age. For each age, the sample considers all workers who
switched employers at that age. The sample only includes the wage observations for that
age, even if the match continued at other ages. Dotted lines are the number of workers in
the age bin who satisfy our selection criterion. Dashed lines are computed using the full
sample, reported in Tables 1(3) and 2(3).




                                                   63
   We can similarly obtain the variance of worker types by constructing

                             Mi w                Mi
                     2
                             X  ti,m w       2 X        tw  w
                                                       w i,m
                                                                        2
                    σi,λ =           ω  −  ˆ
                                          w̄   −     β       ω    − λ̂i
                                T w i,m
                             m=1 i               m=1
                                                       i
                                                         Tiw  i,m



and use weighted least squares with weights τiw for worker i to regress this on the constant 1.
                                                              2
The coefficient on the constant is the weighted average of σi,λ  across workers, and is identical
     2
to σ̂λ defined in Section 2.7.
    We next turn to our life cycle analysis. For the covariance, we construct ci,a for each
worker i who has at least two jobs separated by an unemployment spell at each age a. In
doing this, we use the age-specific mean wage in place of w̄ˆ and age-specific weights τi,a    w

for worker i at age a. We then regress this on a full set of age dummy variables. Again,
the coefficients are the average covariance, ĉ, among workers with age a. We obtain the
age-specific variance of worker types in the same manner.
    Finally, to control for worker composition, we add worker fixed effects into the two
regressions. We impose that the mean of the fixed effects is zero and look at the coefficients
on the age dummies.
    It is impossible to estimate the variance of job types controlling for worker fixed effects,
because there is no obvious way to attach worker dummies to the summand in the formula
for variance of job types. Since Figure 4 shows little life cycle pattern in the variance of job
types, we feel comfortable assuming that selection is unimportant and simply rely on that
measure.
    We obtain the correlation by dividing the age-specific covariance, controlling for worker
fixed effects, by the product of the age-specific standard deviation of worker types, again
controlling for worker fixed effects, and the age-specific standard deviation of job types, not
controlling for worker fixed effects.
    Figure 9 presents results for men (left panel) and women (right panel). We start with
the same data set as we used in Section 4.5, pooling together workers of all ages. This gives
us an initial sample of 463,794 men and 289,724 women. The blue lines show the correlation
without any fixed effects. This exactly replicates Figure 3.
    The effect of age in the regressions including worker fixed effects is identified only off of
workers whom we observe at two or more ages. Only 176,991 men and 78,434 women satisfy
this restriction, a substantial reduction in the sample size. We are naturally concerned that
these workers are different than their peers who only have one of these short unemployment
episodes. To address this, we look at age-specific correlations for this subset of workers,
depicted in the red lines in Figure 9. The difference between the red and blue lines is
modest, mitigating our concern that this sample selection issue is important.

                                               64
                                       Men                                    Women
                     1.0

                     0.8
    correlation ρ̂


                     0.6

                     0.4

                     0.2

                     0.0
                        20   25   30   35 40   45   50   55    20   25   30   35 40    45   50   55
                                         age                                    age

                              all workers       two observations         worker fixed effects


Figure 9: Correlation between worker and firm types by age using one job per employment
spell (independence assuption III). The blue lines are computed age-by-age using the sample
from Section 4.5; see notes under Figure 3 and the main text for more details. The red lines
restrict the sample to workers who appear at least twice in the life cycle analysis, that is,
they satisfy the relevant selection criteria at two or more ages. The green lines show the
measure of correlation which controls for worker fixed effects.

     Finally, the green lines measure the correlation after including worker fixed effects in the
regression. For men, controlling for worker fixed effects dampens the rise in the correlation,
reducing the slope by about a forty percent. Still, the figure shows a dramatic increase in
the correlation, from around 0.4 for the youngest workers to above 0.8 for workers in their
fifties.
     For women the results are quite different. Selection is critical for women in their twenties.
After controlling for worker fixed effects, the correlation is actually decreasing during this
decade. This changes later in life. For women who are at least 30 years old, the estimates
including worker fixed effects follow a similar pattern to the estimates that omit those fixed
effects, albeit at a lower level. For the subsample of women whom we can observe at two or
more ages, controlling for selection leads to a u-shaped pattern in the estimated correlation
over the lifecycle. Finally, the estimated correlation drops dramatically at age 54 for women,
but this result is based on a particularly small sample.




                                                         65
