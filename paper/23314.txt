                              NBER WORKING PAPER SERIES




               SOVEREIGN DEFAULT RISK AND FIRM HETEROGENEITY

                                       Cristina Arellano
                                           Yan Bai
                                        Luigi Bocola

                                      Working Paper 23314
                              http://www.nber.org/papers/w23314


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                            April 2017, Revised July 2019




First draft: March 2017. We thank Sebnem Kalemli-Ozcan, Juan Carlos Hatchondo, Christian
Hellwig, Grey Gordon, Alberto Martin, and Vivian Yue for useful comments, and participants at
several seminars and conferences for valuable insights. Gabriel Mihalache and Alexandra
Solovyeva provided excellent research assistance. We thank the National Science Foundation for
financial support under grant 1024581. The views expressed herein are those of the authors and
not necessarily those of the Federal Reserve Bank of Minneapolis, the Federal Reserve System,
or the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2017 by Cristina Arellano, Yan Bai, and Luigi Bocola. All rights reserved. Short sections of
text, not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.
Sovereign Default Risk and Firm Heterogeneity
Cristina Arellano, Yan Bai, and Luigi Bocola
NBER Working Paper No. 23314
April 2017, Revised July 2019
JEL No. E44,F34,G12,G15

                                          ABSTRACT

This paper measures the output costs of sovereign risk by combining a sovereign debt model with
firm- and bank-level data. In our framework, an increase in sovereign risk lowers the price of
government debt and has an adverse impact on banks’ balance sheets, disrupting their ability to
finance firms. Importantly, firms are not equally affected by these developments: those that have
greater financing needs and borrow from banks that are more exposed to government debt cut
their production the most in a debt crisis. We show that the response of aggregate output to an
increase in sovereign risk depends on these cross-sectional firm-level elasticities. We use Italian
data to measure them and parameterize the model to match the cross-sectional facts. In
counterfactual analysis, we find that heightened sovereign risk was responsible for one-third of
the observed output decline during the 2011-2012 crisis in Italy.

Cristina Arellano                                    Luigi Bocola
Federal Reserve Bank of Minneapolis                  Department of Economics
Research Department                                  Landau 342
90 Hennepin Avenue                                   Stanford University
Minneapolis, MN 55401                                579 Serra Mall
and NBER                                             Stanford, CA 94305-6072
arellano.cristina@gmail.com                          and NBER
                                                     lbocola@stanford.edu
Yan Bai
Department of Economics
University of Rochester
216 Harkness Hall
Rochester, NY 14627
and NBER
yanbai06@gmail.com
1     Introduction
As the recent experience of southern European countries has shown once more, sovereign
debt crises are often associated with a tightening of credit for the private sector and large
declines in real economic activity. An active research agenda has emphasized various
explanations for this negative association between sovereign risk and aggregate output.
One explanation for these patterns, developed in sovereign default models in the tradition
of Eaton and Gersovitz (1981), Arellano (2008), and Aguiar and Gopinath (2006), argues
that governments have greater temptation to default when economic conditions deteriorate.
Another popular explanation for this association highlights that sovereign debt crises have
disruptive effects on financial intermediation and real economic activity because banks
are often the main creditor of their own government (Gennaioli, Martin, and Rossi, 2014;
Bocola, 2016; Perez, 2015).
    Quantifying this two-way feedback between sovereign risk and output is a challenging
open question in macroeconomics yet relevant for policymakers dealing with sovereign
debt crises.1 The challenge arises because debt crises and economic outcomes are jointly
determined, which makes it hard to disentangle to what extent sovereign risk rises in re-
sponse to deteriorating economic conditions and to what extent it causes them. Researchers
have approached this challenge mainly with two methodologies. Some studies fit structural
models to aggregate data and use them to measure the macroeconomic consequences of
sovereign risk. This approach suffers from the criticism that the identification of the rel-
evant effects partly relies on ancillary assumptions, as aggregate data alone provide little
information about the direction of causality. A different approach in some recent stud-
ies, uses micro firm-bank datasets and difference-in-difference methodologies to estimate
the impact that sovereign risk has on credit to firms and their performance.2 While the
identification of these micro elasticities is often more transparent in this approach, it is not
designed to capture the general equilibrium effects needed to measure aggregate responses.
    The contribution of this paper is to combine these two approaches by building a model
of sovereign debt with heterogeneous firms to measure the feedback between sovereign
risk and output. We show that in our framework, the response of output to an increase in
    1 For instance, proponents of the fiscal austerity measures implemented in Europe over the past few
years have often emphasized how these policies—by reducing sovereign risk— could have positive spillovers
into the private sector, yet these recommendations depend on a quantification of the recessionary effects of
sovereign risk.
    2 Bottero, Lenzu, and Mezzanotti (2017) use the Italian credit registry and firms’ balance sheet data to

gauge the impact of the government debt crisis on lending behavior. In some recent work, Kalemli-Ozcan,
Laeven, and Moreno (2018) also use matched firm-bank data and find that investment falls for firms that
borrow from banks with high exposure to government debt. See also Bofondi, Carpinelli, and Sette (2017),
Altavilla, Pagano, and Simonelli (2017) and De Marco (2017).


                                                     2
sovereign risk depends on a set of cross-sectional firm-level elasticities. We fit the model
to these moments using Italian micro data as well as aggregate data and use the model to
measure the impact that sovereign risk has on the economy. In our main counterfactual, we
find that spillovers from the government into the private sector were sizable and accounted
for one-third of the output decline observed during the Italian debt crisis of 2011-2012.
   Our framework incorporates financial intermediaries and heterogeneous firms into an
otherwise canonical general equilibrium model of sovereign debt and default. The econ-
omy is composed by islands populated by firms, financial intermediaries, and households,
and by a central government. Firms differ in their productivity, and they borrow from
intermediaries to finance payments of labor and capital services, factors that are used to
produce a differentiated good. These working capital needs are also heterogeneous, with
some firms needing to advance a greater fraction of their payments than others. Inter-
mediaries borrow from households and use their own net worth to purchase long-term
government debt and extend loans to firms. These credit markets are local as firms bor-
row exclusively from intermediaries operating on their island, and intermediaries across
islands are heterogeneous in their holdings of government debt. Importantly, financial
intermediaries face occasionally binding leverage constraints, as the amount they borrow
cannot exceed a proportion of their net worth. The government collects taxes and issues
long-term bonds to fund public consumption, and chooses whether or not to default on its
debt.
   The model is perturbed by two aggregate shocks: a shock that moves the productivity
process of firms and a shock to the value of default for the government, which can be in-
terpreted as capturing time variation in the enforcement of sovereign debt.3 In response to
these shocks, our environment features a two-way feedback loop between the government
and the private sector.
   The first side of this loop reflects the endogeneity of government default risk as changes
in aggregate productivity and enforcement affect the values of repaying versus defaulting
for the government, thereby inducing time variation in sovereign default probabilities and
hence interest rate spreads of government securities. The second side of this loop is that
fluctuations in government default risk can affect production through its impact on finan-
cial intermediation. When sovereign risk increases, the market value of government debt
on the balance sheet of financial intermediaries falls, leading to a decline in their net worth.
A large enough decline in net worth triggers a binding leverage constraint, which leads
intermediaries to tighten credit supplied to firms. These effects increase borrowing costs
   3 As discussed in the quantitative literature of sovereign debt, variation in the default value gives the
model flexibility to fit the behavior of interest rate spreads; see Arellano (2008) and Chatterjee and Eyigungor
(2012).

                                                       3
for firms, which then reduce their production. Alongside this direct effect that sovereign risk
has on firms’ borrowing costs, the model features additional general equilibrium mecha-
nisms: as firms that are exposed to higher borrowing costs cut their production, aggregate
demand for labor and goods falls, affecting the prices faced by all other firms. We refer to
these latter effects as the indirect effects of sovereign risk on real economic activity.
  These mechanisms affect firms in different ways. Consider the direct effect of sovereign
risk. We show that this channel has more adverse effects for firms that have higher bor-
rowing needs, and more so if they are located on islands in which financial intermediaries
are more exposed to government debt. Therefore, when the direct effect of sovereign risk
to the private sector is sizable, we should observe large differences in production across
firms during a sovereign debt crisis, depending on firms’ financial needs and on whether
they borrow from intermediaries that hold a sizable fraction of government debt. Impor-
tantly, these cross-sectional comparisons do not provide information on the indirect effects
of sovereign risk because firms with high and low borrowing needs share the same labor
and goods markets. We show, however, that we can learn about the magnitude of the indi-
rect effects by looking at the behavior of firms with no borrowing needs. These firms are
not affected by fluctuations in borrowing rates, so their performance during a debt crisis
is informative about the spillovers that sovereign risk has on firms through its impact on
labor and goods markets.
  We formalize these insights in two steps. We first derive a model implied linear relation
where firms’ output are a function of aggregate productivity and sovereign interest rate
spreads, with the coefficients varying across firms depending on their borrowing needs
and location, as well as the deep structural parameters. These coefficients can be mapped
into the direct and indirect effects and they are sufficient to construct the elasticity of firm
sales with respect to sovereign risk. We then derive a correspondence between these micro
elasticities and the response of aggregate output to sovereign risk. These relationships are
the basis of our methodology of using cross-sectional information to empirically discipline
the aggregate effect of sovereign risk.
  We apply our framework to Italian data during the 2007-2015 period. We link three
datasets for our analysis: firm-level balance sheet data from ORBIS-AMADEUS, balance
sheet information of Italian banks from Bankscope, and reports on the geographical lo-
cation of bank branches from the Bank of Italy. We use these data to estimate the linear
firm-level relation implied by our model in order to recover the elasticity of firms’ output to
changes in sovereign spreads and how they vary across firms and regions. Using dummy
variables, we classify firms into four groups, depending on whether their leverage is “high”
or “low” or whether they operate in locations where banks’ exposure to government debt


                                                4
is “high” or “low.” The main empirical finding, robust to a wide range of specifications, is
that highly levered firms in regions where banks are highly exposed to government debt
experienced the largest contraction in their output in periods of high sovereign spreads.
These results confirm the empirical predictions of our theory that sovereign risk has neg-
ative direct effects on the private sector. By analyzing the behavior of firms with zero
leverage, we also find that the indirect effects of sovereign risk are negative, and more so
in regions with high exposure to government debt.
   We use these regression coefficients, along with the standard empirical targets consid-
ered in the sovereign debt literature, to estimate the model. We then use the model to
measure the macroeconomic effects of sovereign risk. To this end, we feed into the model
the aggregate productivity series measured in the data, and we retrieve the path for en-
forcement shocks so that the model reproduces the sovereign spreads in the data. We then
use the model to construct counterfactual series for output and firms’ interest rates that
would have emerged in Italy if the level of sovereign debt enforcement were held constant
at its pre-crisis level. We can then net out the effects of sovereign risk on these variables
by comparing their benchmark and counterfactual time paths. Our main findings indicate
a sizable propagation of sovereign risk to real economic activity. Specifically, we find that
on average, a 100 basis point increase in sovereign interest rate spreads increases average
firms’ interest rates by about 70 basis points and induces a 0.67% decline in aggregate out-
put, of which 0.45% is due to the direct effect on firms’ borrowing costs. These numbers
imply that the government debt crisis accounted for roughly one-third of the output losses
observed during the 2011-2012 crisis episode in Italy.


Related Literature.   Our paper combines elements of the sovereign default literature with
the literature on the impact of financial imperfections on firms. We also contribute to
the growing literature that combines structural models with micro data to infer aggregate
elasticities.
   Several papers in the sovereign debt literature study the links between sovereign defaults
and the private sector through financial intermediation. Mendoza and Yue (2012) propose
a model in which firms lose access to external financing conditional on a government
default, and they show that such a mechanism can generate substantial output costs in a
sovereign default. Similar dynamics are present in the quantitative models of Sosa Padilla
(2013) and Perez (2015), and in the more stylized frameworks of Fahri and Tirole (2014) and
Gennaioli, Martin, and Rossi (2014). We share with these papers the emphasis on financial
intermediation, but we depart from their analysis by focusing on this feedback in periods
in which the government is not in default: in our model, an increase in the likelihood of a


                                              5
future default—even when the government keeps repaying— propagates to the real sector
because of its impact on firms’ interest rates. Many debt crises, and in particular the one
that we are studying, are characterized by rising sovereign spreads but no actual default.
   In this respect, our paper is closer to Neumeyer and Perri (2005), Uribe and Yue (2006),
Corsetti, Kuester, Meier, and Müller (2013), Gourinchas, Philippon, and Vayanos (2016),
and Bocola (2016), who measure the macroeconomic effects of sovereign risk by estimating
or calibrating structural models, and the reduced form approach in Hebert and Schreger
(2016) and Bahaj (2019).4 A main contribution of our approach relative to all of the above-
mentioned papers is to show that cross-sectional moments are informative about the prop-
agation of sovereign risk on real economic activity and to use micro data and a model to
carry out the measurement.
   Our emphasis on informing macro elasticities from micro data is shared by a number of
recent papers. Nakamura and Steinsson (2014) use regional variation in military build-ups
to provide an estimate of the aggregate spending multiplier. Beraja, Hurst, and Ospina
(2018) use regional fluctuations in employment and wages to estimate the aggregate effects
of demand shocks and wage stickiness for the Great Recession. These two papers illustrate
important methodological challenges faced by this type of analysis from important differ-
ences between the “regional” elasticities recovered using cross-sectional variation and the
“aggregate” elasticities that macroeconomists are interested in. In these papers, monetary
policy is common across states and reacts to aggregate and not regional conditions, blur-
ring the mapping between regional and aggregate elasticities. A similar issue arises in our
context, as factor prices are common across firms.
   An active research agenda centers on using micro data to inform aggregate structural
models. Researchers have used related “micro-to-macro” approaches to understand the
mechanisms from monetary policy to consumption (Kaplan, Moll, and Violante, 2018), un-
employment benefit extensions on labor market outcomes (Hagedorn, Karahan, Manovskii,
and Mitman, 2013; Chodorow-Reich, Coglianese, and Karabarbounis, 2018), quantifying
the losses from international trade (Lyon and Waugh, 2018; Caliendo, Dvorkin, and Parro,
forthcoming), measuring the effects from volatility shocks at the firm level on aggregates
during the Great Recession (Arellano, Bai, and Kehoe, 2016), or gauging the impact of
declining real interest rates on input misallocation and aggregate productivity (Gopinath,
Kalemli-Ozcan, Karababounis, and Villegas-Sanchez, 2015). To the best of our knowledge,
our paper is the first to apply a similar set of tools to study the macroeconomic conse-
   4 Hebert and Schreger (2016) cleverly exploit the rulings in the case Republic of Argentina v. NML Capital as
exogenous variation of sovereign risk and document large negative effects of sovereign risk on Argentinian
stock returns. Bahaj (2019) uses a narrative high-frequency approach to identify plausibly exogenous variation
in sovereign risk.


                                                       6
quences of sovereign debt crises.
    Our heterogeneous firm model builds on the literature of firm dynamics with financial
frictions. Cooley and Quadrini (2001) develop a workhorse model of heterogeneous firms
with incomplete financial markets and default risk. Kahn and Thomas (2013) focus on
aggregate fluctuations in a model with heterogeneous firms facing financial frictions and
financial shocks. In their work, shocks to the collateral constraint can generate long-lasting
recessions. Buera and Moll (2015), Buera, Kaboski, and Shin (2011), Arellano, Bai, and
Zhang (2012), and Midrigan and Xu (2014) also develop models with firm heterogeneity
and financial frictions and compare the misallocation costs across economies with varying
degrees of financial development. In contrast to these papers, we focus on the interaction
between firms’ financial frictions and sovereign default risk while simplifying the decision
problem of firms. Our paper shares this emphasis with the recent work by de Ferra (2016)
and Kaas, Mellert, and Scholl (2016).


Layout.   The paper is organized as follows. We present the model in Section 2. Section
3 discusses the main mechanisms and our empirical strategy. Section 4 presents our data
sources and the results of the firm-level regressions. In Section 5 we use the model to
measure the macroeconomic effects of sovereign risk. Section 6 concludes.


2     Model
The economy is composed of a central government and J islands where a continuum of
final goods firms, intermediate goods firms, financial intermediaries, and families interact.
    The central government collects tax revenues from final goods firms and borrows from
financial intermediaries to finance public goods and service outstanding debt. The govern-
ment can default on its debt, and the rate at which it borrows reflects the risk of default.
    Each island has two types of firms. Final goods firms are competitive, and they have a
technology that converts intermediate goods into a final good. Intermediate goods firms
operate under monopolistic competition, and they use capital and labor to produce dif-
ferentiated goods. They borrow from financial intermediaries to finance a portion of their
input costs, and they differ in their productivity and financing needs.
    Families are composed of workers and bankers. They have preferences over consump-
tion and labor, and they own intermediate goods firms. Families decide on labor for work-
ers and investment, and they rent out their capital to firms. They can also deposit savings
in financial intermediaries. Financial intermediaries are run by bankers who use net worth
and the savings of families to lend to intermediate goods firms and the central government.

                                              7
   The economy is perturbed by two aggregate shocks. The first shock, pdt , is an aggregate
shock to the firms’ productivity. The second shock, νt , affects the utility of the government
in case of a default. The timing of events within the period is as follows. First, all aggregate
and idiosyncratic shocks are realized and the government chooses whether to default and
how much to borrow. Given shocks and government policies, all private decisions are
made, and goods, labor, and credit markets clear.
   We start with the description of the problem of the central government and the agents
on each island. We then define the equilibrium for this economy and conclude the section
with a discussion of the key simplifying assumptions.


2.1    The government
The central government decides the level of public goods Gt to provide to its citizens. It
finances these expenditures by levying a constant tax rate τ on final goods firms and by
issuing debt to financial intermediaries. The debt instrument is a perpetuity that specifies
a price qt and a quantity Mt such that the government receives qt Mt units of final goods
in period t. The following period a fraction ϑ of outstanding debt matures. Let Bt be the
stock of debt at the beginning of period t. Conditional on not defaulting, the government’s
debt in t + 1 is the sum of non-matured debt (1 − ϑ ) Bt and the new issuance Mt , such that
Bt+1 = (1 − ϑ ) Bt + Mt .
   The time t budget constraint, conditional on not defaulting, is

                             ϑBt + Gt = qt [ Bt+1 − (1 − ϑ ) Bt ] + τ ∑ Yt ,
                                                                              j
                                                                                                         (1)
                                                                         j

           j
where Yt are the aggregate final goods on island j.
   Every period the government chooses Gt and Bt+1 and decides whether to repay its
outstanding debt, Dt = 0, or default, Dt = 1. A default eliminates the government’s
debt obligations, but it also induces a utility cost νt , which follows a Markov process with
transition probabilities π ν (νt+1 , νt ).5 When in default, the government can still issue new
bonds. Its budget constraint is as in equation (1) with Bt = 0.
   The government’s objective is to maximize the present discounted value of the utility
   5 The   shock νt generates fluctuations in the value of default for the government, which the quantitative
sovereign debt literature has found necessary to fit the data on government spreads (Arellano, 2008). In most
of this literature, fluctuations in default values are generated by assuming that the cost of default depends
on income. In our model, as in Aguiar and Amador (2013) and Muller, Storesletten, and Zilibotti (2018), such
fluctuations are directly induced by νt shocks.




                                                     8
derived from public goods net of any default costs,

                                          ∞
                                      "                                            #
                                 E0       ∑ βtg (ug (Gt ) − Dt νt )                    .
                                          t =0


2.2   The private sector
The private sector consists of J islands with firms, families, and financial intermediaries
operating on each island.


Final goods firms. The final good Yjt is produced from a fixed variety of intermediate
goods i ∈ [0, 1] via the technology

                                                 Z                       1
                                                               η          η
                                      Yjt ≤             yijt        di         ,             (2)


where the elasticity of demand is 1/(1 − η ) > 1. Final goods firms also pay a proportional
tax from their revenue with tax rate τ. Final goods are traded across regions and their price
                                                          
is normalized to 1. They choose the intermediate goods yijt to solve
                                                               Z
                                max (1 − τ )Yjt −                    pijt yijt di
                                {yijt }

subject to (2), where pijt is the price of good i on island j relative to the price of the final
good. This problem yields that the demand yijt for good i is

                                                            !       1
                                                                   1− η
                                                   1−τ
                                      yijt =                              Yjt .              (3)
                                                    pijt

This standard demand function for good i depends negatively on the relative price pijt and
positively on the island output Yjt . Island output acts as an aggregate demand shifter for
each good.


Intermediate goods firms. A measure of intermediate goods firms produce differentiated
goods in this economy. Each firm i combines capital k ijt and labor `ijt to produce output yijt
using a constant returns to scale technology. Production is affected by productivity shocks
zijt . The output produced by firm i on island j at time t is

                                           yijt = zijt `1ijt−α kαijt .                       (4)


                                                       9
   Firms’ productivity zijt is affected by an aggregate and a firm specific component. We
model the aggregate shock following the literature on “disaster risk” as in Gourio (2012):
every period with probability pdt , a firm’s productivity declines by µ. This probability is
common across firms and is drawn from a distribution Π p ( pd ). The process for firms’
productivity is
                                log(zijt ) = ρz log(zijt−1 ) − Iijt µ + σz ε ijt .                          (5)

The variable Iijt follows a Bernoulli distribution with Pr( Iijt = 1) = pdt . The idiosyncratic
shock is persistent with autocorrelation ρz and is subject to an innovation ε ijt , which follows
a standard normal random process.6
   At the beginning of the period, aggregate and idiosyncratic shocks are realized. Firms
make input choices for capital k ijt and labor `ijt to be used in production.7 We assume that
firms need to borrow a fraction of their input costs before production, and they borrow
                                                                f
from financial intermediaries by issuing bonds bijt at interest rate R jt . These working capital
needs are firm-specific and time-invariant, and we denote them by λi . Accordingly, the
financing requirement for firm i is

                                            f
                                          bijt = λi (r kjt k ijt + w jt `ijt ),                             (6)

where r kjt is the rental rate for capital and w jt is the wage rate on island j at period t.
   At the end of the period, production takes place, firms decide on the price pijt for their
                                                                                                   f
product taking as given their demand schedule (3), and repay their debt R jt bijt and the
remainder of their input costs. Firms’ profits, which are rebated to families, are

                                                                                           f
                          Πijt = pijt yijt − (1 − λi )(r kjt k ijt + w jt `ijt ) − R jt bijt .              (7)


Families.     Each island has a representative family composed of an equal mass of workers
and bankers. Each period, the family sends out a mass of workers to provide L jt labor to
firms. It also sends out bankers to run financial intermediaries for one period providing
them with net worth Njt . At the end of the period, workers and bankers return the proceeds
of their operations to the family, which then decides how to allocate these resources. The
family has preferences over consumption Cjt and labor L jt and discounts the future at rate
   6 In  this formulation, the aggregate productivity shock pdt affects not only the average productivity of
firms, but also higher order moments. This specification fits better the micro data relative to a specification
where the aggregate productivity shock only affects the cross-sectional average.
    7 In an earlier version of the paper, we assumed that firms choose inputs before observing the idiosyncratic

shock, as in Arellano, Bai, and Kehoe (2016). In that environment, the problem of the firm was dynamic, and
it could generate firms’ default in equilibrium. The current formulation is more tractable and gives very
similar quantitative results.


                                                          10
β,                                                                            
                                                                         1+ γ
                                                    ∞                  L jt
                                     Uj = E0  ∑ βt Cjt − χ                     .
                                                    t =0               1+γ

Preferences over consumption are linear and decreasing and convex over labor, with 1/γ >
0 being the Frisch elasticity of labor supply. As we will show below, the linearity of prefer-
ences over consumption simplifies the characterization of the equilibrium and reduces the
number of aggregate state variables.8
     Families own capital K jt−1 , which depreciates at rate δ, and they rent it to intermediate
goods firms at the rental rate r kjt . They can save by accumulating new capital and by saving
in one-period deposits A jt with financial intermediaries at the price q ajt . They receive the
profits from the intermediate goods producers, Π jt , the wages from the workers, w jt L jt ,
and the returns from the operations of the bankers, Fjt . As we discuss later, the payment
from bankers includes the returns from the bonds issued by the firms and from the island’s
holdings of government debt Bjt .
     The family also endows bankers with net worth Njt that consists of a fraction ω of the
value of government bonds held in region j that did not mature, as well as a constant
transfer n̄ j ,


                                      Njt = n̄ j + ω (1 − Dt )(1 − ϑ )qt Bjt .                                (8)

     The dynamics of bond prices that reflect default risk qt , actual defaults Dt , and govern-
ment debt holdings Bjt will induce variation in the net worth of financial intermediaries.
     The budget constraint of the representative family is

             Cjt + K jt − (1 − δ)K jt−1 + q ajt A jt + Njt = w jt L jt + r kjt K jt + A jt−1 + Fjt + Π jt .   (9)


     The optimality conditions for families imply that the deposit rate and the rental rate of
capital are constant over time, q ajt = β and r kjt = 1 − β(1 − δ). In contrast, the wage rate is
time-varying and island-specific, and it equals the marginal disutility of labor,

                                                                 γ
                                                      w jt = χL jt .


Financial intermediaries.            A continuum of financial intermediaries in each island use their
net worth and the deposits of the family to purchase debt issued by the government and the
     8 Onecan relax this assumption and still maintain tractability by considering a small open economy rather
than the closed economy considered here.


                                                           11
firms. Financial intermediaries are competitive and take all prices as given. The beginning-
of-the-period budget constraint for an intermediary is
                                                      Z
                                                           f
                                     qt Bjt+1 +           bijt di ≤ Njt + q ajt A jt .                          (10)


   Financial intermediaries face a standard financial constraint that limits their ability to
raise deposits, which implies that variations in their net worth potentially affect their ability
to lend. The financial constraint we consider is given by the following leverage constraint:
                                                                       Z
                                                                              f
                                        q ajt A jt   ≤ qt Bjt+1 + θ         bijt di,                            (11)

which specifies that the amount of deposits that the intermediaries can borrow from house-
holds is bounded by the value of their collateral. We assume that government debt can be
fully pledged, while intermediaries can pledge only a fraction θ of the firms’ debt.9 Com-
bining the budget constraint (10) and leverage constraint (11) implies that the amount that
a bank can lend to firms is bounded by a proportion 1/(1 − θ ) of their net worth,

                                                      Njt  Z
                                                             f
                                                          ≥ bijt di.                                            (12)
                                                     1−θ

   At the end of the period, each financial intermediary receives the payment from firms
and the government and pays back deposits. The end-of-the-period returns depend on
whether or not the government defaults and they equal
                                                                                         Z
                                                                                            f
                Fjt+1 = (1 − Dt+1 ) ϑBjt+1 + qt+1 (1 − ϑ ) Bjt+1 + R jt                      bijt di − A jt .   (13)


   Intermediaries distribute back to the family their end-of-the-period return. Their objec-
                                    f
tive is to choose { A jt , Bjt+1 , bijt } to maximize the expected return Et [ βFjt+1 ] subject to (10)
and (11).
   The financial intermediaries’ problem gives rise to the following pricing condition for
firm loans:
                                                               1 + ζ jt
                                                      R jt =            ,                                       (14)
                                                                  β
where ζ jt is the Lagrange multiplier on constraint (11). Condition (14) implies that firms
pay a premium ζ jt /β over the risk-free rate on their loans when the leverage constraint
of banks binds. This premium reflects a standard balance sheet mechanism. When the
   9 The  assumption that government debt can be pledged fully captures the fact that these securities are ef-
fectively the best collateral for financial institutions, for example, in refinancing operations with the European
Central Bank. This restriction can easily be relaxed by introducing a discount θ g in equation (11).


                                                               12
constraint binds, a reduction in net worth reduces the supply of credit by financial in-
termediaries. In equilibrium, the interest rate that firms pay must rise to clear the credit
market.
  The decision problem of financial intermediaries also gives rise to the following pricing
condition for government securities:

                          qt = Et β [(1 − Dt+1 ) (ϑ + qt+1 (1 − ϑ ))] .                   (15)

The price of long-term government bonds compensates for default risk. In no default
states, each unit of a discount bond pays the maturing fraction ϑ and the value of the
non-maturing fraction qt+1 (1 − ϑ ). The Lagrange multiplier does not appear in this pricing
equation for government bonds because they are fully pledgeable.
  The bond price qt maps into the government interest rate spread, sprt , through the
standard yield to maturity formulation such that

                                                 ϑ
                                  qt =                      .                             (16)
                                         ϑ + 1/β − 1 + sprt

2.3   Equilibrium
We can now formally define a Markov equilibrium for this economy. We characterize the
equilibrium conditions for the private sector, taking the government policies as given. We
then describe the recursive problem of the government.
  We first describe our state variables and switch to recursive notation. The linearity in
preferences for private consumption implies that we do not need to record the distribution
of capital and deposits across islands as aggregate state variables because the wealth of
families does not matter for the choices of labor, capital, and deposits. Moreover, this
linearity also gives a symmetric pricing condition for government bonds across all islands,
seen in (15), which implies that intermediaries are indifferent about the amount they lend
to the government. We can then write B0j = ϕ j B0 , with ∑ j ϕ j = 1 and with the ϕ j ’s being
indeterminate in equilibrium. As we explain in Section 5, we will use bank-level data on
holdings of government debt to discipline empirically the exposure of banks to government
debt for different regions. The aggregate state of the economy includes the aggregate
shocks {ν, pd }, the distribution of firms across idiosyncratic productivity and borrowing
needs, Λ, and the initial level of government debt B. We express the aggregate state by
{S, B}, with S = {ν, pd , Λ}. Given the aggregate state, the government makes choices for
default, borrowing, and public consumption with decision rules given by B0 = HB (S, B),
D = HD (S, B), and G = HG (S, B).

                                               13
   These public sector states and choices for default D, borrowing B0 , and public consump-
tion G are relevant for the firms’ and the family’s choices of labor, capital, and deposits
on each island only because they affect the net worth of financial intermediaries Nj . It is
therefore useful to define an island state X j that includes the aggregate productivity shock,
the distribution of firms, and the intermediaries’ net worth X j = ( pd , Λ, Nj ). These vari-
ables, along with the idiosyncratic states {z, λ}, are sufficient to determine the decisions of
the firms and the family’s choices of labor, capital, and deposits. The consumption of the
family, however, depends on the state as well as on the government’s choices { D, B0 , G }.
   We now formally define the private sector equilibrium.

Definition 1. Given an aggregate state {S, B}, government policies for default, borrowing, and pub-
lic consumption { D, B0 , G } that satisfy the government budget constraint, future government deci-
sion rules HB = B00 (S0 , B0 ) and HD = D 0 (S0 , B0 ), and the associated island state X j = ( pd , Λ, Nj ),
the private equilibrium for island j consists of

   • Intermediate goods firms’ policies for labor `(z, λ, X j ), capital k (z, λ, X j ), and borrowing
        b(z, λ, X j ), and final goods firms’ output Y ( X j ),
   • Policies for labor L( X j ), capital K ( X j ), deposits A( X j ), and consumption C (S, B, D, B0 , G ),
   • Price functions for wages w( X j ) and firm borrowing rates R( X j ), and the constant capital
        rental rate r k and deposit price q a ,
   • The transition function for the distribution of firms HΛ (Λ(z, λ), pd0 ),
   • The government bond price function q(S, B0 ),

such that: (i) the policy functions of intermediate and final goods firms satisfy their optimization
problem; (ii) the policies for families satisfy their optimality conditions; (iii) firm borrowing rates
satisfy equation (14) and the leverage constraint (12) is satisfied; (iv) labor, capital, and firm bond
markets clear, (v) the evolution of the distribution of firms is consistent with the equilibrium behavior
of firms, (vi) the government bond price schedule satisfies the functional equation from (15) such
that,
                   q(S, B0 ) = Eβ (1 − HD (S0 , B0 )) ϑ + q(S0 , HB (S0 , B0 ))(1 − ϑ )
                                                                                       

and (vii) net worth is Nj = n̄ j + ωϕ j (1 − D )(1 − ϑ )q(S, B0 ) B.
   Market clearing in the firm bond market requires that the loans demanded by all firms
equal all the funds supplied by financial intermediaries with their leverage constraints
satisfied,

                                      Nj   Z
                                         ≥         b f (z, λ, X j )dΛ(z, λ).
                                     1−θ     {z,λ}



                                                       14
The labor market clearing condition implies that labor demanded by firms equals the labor
supplied by families for each island j,
                                                 Z
                                    L( X j ) =               `(z, λ, X j )dΛ(z, λ).
                                                     {z,λ}

Likewise, the capital rental market clearing condition implies that the capital demanded by
firms equal the capital rented by families,
                                                 Z
                                    K(Xj ) =                 k (z, λ, X j )dΛ(z, λ).
                                                     {z,λ}

The final goods market clears at the national level. Aggregating across islands, the resource
constraint for the economy implies that total consumption, both private and public, plus
investment (K 0j − (1 − δ)K j ) equal total output,
                                                             
                               ∑        Cj + K 0j − (1 − δ)K j + G =           ∑ Yj .
                                j                                                j


   The productivity process follows equation (5), and it is independent from the invariant
distribution of λ across firms, so that Λ(z, λ) = Λz (z)Λλ (λ). Note that the evolution of the
distribution of firms over {z, λ} depends on the current distribution of firms, Λ(z, λ), and
the productivity shock pd0 such that

                                         Λ0z (z0 ) = HΛ (Λ(z, λ), pd0 ).


   Next we characterize the equilibrium on each island. The following lemma derives
the three conditions that determine island-level wages w( X j ), output Y ( X j ), and firms’
borrowing rates R( X j ).

Lemma 1. In the private equilibrium for island j, wages w( X j ), output Y ( X j ), and firms’ borrowing
rates R( X j ) satisfy the following conditions:

                                 Nj                                  (1−η )(1+γ)
                                         ≥ Mn Z ( X j ) R w ( X j ) η (1− α ) γ                    (17)
                               1−θ
                                                                      (1− η )
                               w ( X j ) = Mw Z ( X j ) R w ( X j ) η (1− α )                      (18)
                                                                     1−η +(1−αη )γ
                                                Z ( X j ) R w ( X j ) η (1− α ) γ
                               Y ( X j ) = My                                        ,             (19)
                                                        Z ( X j ) Ry ( X j )

where R( X j ) = 1/β if condition (17) is an inequality. Rw ( X j ) and Ry ( X j ) are weighted av-

                                                              15
                                                           R                     − η
erages of firms’ borrowing rates: Rw ( X j ) = λ 1 + λ[ R( X j ) − 1] 1−η dΛλ and Ry ( X j ) =
R                           − 1                                                              R η
  λ 1 + λ [ R ( X j ) − 1 ]   1− η
                                   dΛ λ , Z ( X j ) is the average productivity:  Z ( X j ) =  zz
                                                                                                  1−η dΛ , and
                                                                                                        z
the constants { Mn , Mw , My } are functions of the model parameters.

   The proof of this lemma is in Appendix B. Equation (17) can be interpreted as an equi-
librium condition of the credit market: credit supply cannot exceed Nj /(1 − θ ) because of
the leverage constraint, while credit demand is given by expression on the right hand side
in (17). This condition determines the level of interest rates that financial intermediaries
charge to firms. If at R( X j ) = 1/β the inequality is satisfied, then we have that equilibrium
interest rates equal 1/β. On the other hand, if at those interest rates the demand for credit
exceeds the maximal amount that can be supplied by financial intermediaries, then interest
rates need to increase so that (17) holds with equality. Equations (18) and (19) determine
the equilibrium level of wages and output given the equilibrium level of interest rates.
   Lemma 1 also clarifies the mechanisms through which government policies affect the
private sector. By affecting default risk and the price of its debt, the actions of the gov-
ernment have an impact on the net worth of financial intermediaries through equation (8).
These changes in net worth affect equilibrium interest rates via equation (17), and changes
in interest rates affect the demand for labor and output by the firms, affecting equilibrium
wages and output. These effects are summarized in equations (18) and (19). Shortly, we
will discuss these mechanisms in details.
   Having defined a private sector equilibrium, we can now describe the recursive problem
of the government. The government collects as tax revenues a fraction τ of the final goods
output of each island Y ( X j ). Tax revenues are a function T (S, B, D, B0 ) that depends on the
aggregate shocks, the distribution of firms, and the states and choices of the government
because the aggregate output of each island depends on these variables. Tax revenues are
T (S, B, D, B0 ) = τ ∑ j Y ( X j ( pd , Λ, Nj )), with Nj = Nj (S, B, D, B0 ) as specified in Definition 1.
   The recursive problem of the government follows the quantitative sovereign default lit-
erature. Let W (S, B) be the value of the option to default such that

                   W (S, B) = maxD={0,1} {(1 − D )V (S, B) + D [V (S, 0) − ν]},

where V (S, B) is the value of repaying debt B and is given by

                               V (S, B) = max u g ( G ) + β g E W (S0 , B0 ),
                                              B0




                                                     16
subject to the budget constraint

                      G + ϑB = T (S, B, D, B0 ) + q(S, B0 ) B0 − (1 − ϑ ) B ,
                                                                          


and the evolution of aggregate shocks and firm distributions. The value of default is
V (S, 0) − ν because with default the debt B is written off and the government experiences
the default cost ν.
  Importantly, the government internalizes the feedback that its choices have on the private
equilibrium. This feedback matters for the government because the private equilibrium
determines current and future tax revenues T (S, B, D, B0 ) and bond prices q(S, B0 ). The
government views tax revenues and bond prices as schedules that depend on borrowing
B0 . This problem gives decision rules for default D (S, B), borrowing B0 (S, B), and public
consumption G (S, B).
  We can now define the recursive equilibrium of this economy.

Definition 2. The Markov recursive equilibrium consists of government policy functions for de-
fault D (S, B), borrowing B0 (S, B), public consumption G (S, B), and value functions V (S, B) and
W (S, B) such that: (i) the policy and value functions for the government satisfy its optimization
problem; (ii) the private equilibrium is satisfied; and (iii) the functions HB and HD are consistent
with the government policies.


2.4   Discussion
Before moving forward, we discuss some key elements of the model. As explained in the
previous section, in our model the government affects the private sector only through its
impact on the net worth of financial intermediaries. The literature has identified other chan-
nels through which public sector strains can be transmitted to the real economy, such as in-
centives for indebted governments to raise corporate taxes (Aguiar, Amador, and Gopinath,
2009) or, more generally, to interfere with the private sector (Arellano, Atkeson, and Wright,
2016). Our analysis is silent about the quantitative importance of these other mechanisms.
  Our modeling of the financial sector borrows from a recent literature that introduced
financial intermediation in otherwise standard business cycle models, such as Gertler and
Karadi (2011) and Gertler and Kiyotaki (2010). The key difference with these papers is
that the bankers in our framework exit after one period whereas in these other models
they can operate for more than one period. Technically, this implies that in our framework
the evolution of net worth, governed by the transfer rule in equation (8), depends only on
the dynamics of government debt and sovereign risk, whereas in these other papers net

                                                17
worth also depends on the savings of financial intermediaries. Our restriction is motivated
mostly by tractability because the numerical solution of our model with one additional state
variable per island, while potentially feasible, is substantially more involved. It is important
to emphasize, however, that this modification would not alter the mapping between the
elasticity of firms sales to changes in sovereign risk and cross-sectional moments that we
will discuss in the next section. Thus, given the measurement strategy pursued in the
paper, we expect the results to be robust to adding financial intermediaries savings.
    Firms’ heterogeneity in our framework is introduced in two ways: first, by assuming that
firms differ in their borrowing needs (λ), and second by assuming that they borrow from
banks that potentially have different exposures to government debt ( ϕ j ). This structure
implies that the effects of sovereign risk on firms are heterogeneous across the population.
As we will see shortly, these cross-sectional implications will be at the core of our mea-
surement strategy. While we do not have a deep theory that explains these differences, our
formulation is flexible enough to reproduce the observed degree of heterogeneity across
firms and financial intermediaries in these dimensions.
    Finally, note that the islands in our model are regions in which credit, intermediate
goods, and labor markets are local. This assumption is clearly a stretch, but we think
that the alternative assumption in which these markets are national would be even more
extreme. First, the majority of Italian firms in our dataset are small enterprises, and their
predominant form of external finance is local banks. Second, most firms in our dataset
operate in non-tradable sectors. Third, our analysis is conducted over a fairly short period
of time, during which it is reasonable to assume that labor is not perfectly mobile across
regions.


3     The propagation of sovereign risk
Having presented the model, we now analyze the mechanisms that govern the propagation
of sovereign risk to the private sector, and we discuss our empirical strategy to discipline
these mechanisms using firm-level data. Section 3.1 discusses the aggregate effects of an
increase in sovereign interest rate spreads. A change in spreads has an impact on the
output produced by firms because it affects their borrowing costs, which we label the direct
effect, and because it affects the wages and the demand for their product, which we label
the indirect effect. In Section 3.2, we provide two main results. First, we establish a mapping
between these direct and indirect effects and the coefficients of a linear relation between
firms’ sales, sovereign spreads, and aggregate productivity. Second, we derive a relation
between these coefficients and the response of aggregate output to a change in sovereign


                                              18
spreads. These results motivate our quantitative strategy, which consists of estimating the
coefficients of this linear relation using Italian data, and we subsequently parameterize the
model such that it reproduces these coefficients in simulated data.


3.1      Direct and indirect effects of sovereign risk
Taking as given prices and aggregate demand in each island, firms maximize their profit
(7) subject to their demand schedule (3) and the financing requirement (6). We can express
the optimal sales of a firm with idiosyncratic state (z, λ) operating in island j as

                                η           η                              η (1 − α )
 log( py(z, λ, X j )) = C1 +       log z −     λR( X j ) + log Y ( X j ) −            log w( X j ), (20)
                               1−η         1−η                               1−η

where equilibrium borrowing rates R( X j ), wages w( X j ), and output Y ( X j ) are determined
by the expressions in Lemma 1. Holding everything else constant, a firm facing higher
borrowing interest rates R( X j ) has lower sales, especially if the firm has a higher λ. Firms
borrow a fraction λ of their input costs for working capital needs, and so higher borrowing
rates translate into higher effective input costs for firms with high λ. Similarly, higher
wages w( X j ) and lower aggregate demand for the firm’s output Y ( X j ) contribute to lower
sales.
   We can use equation (20) to explain the mechanisms through which sovereign risk af-
fects firms. As explained in Lemma 1, changes in interest rate spreads on government debt
affect firms only by their impact on the net worth of financial intermediaries. Moreover,
the marginal effect of net worth with respect to a given change in spreads is the same re-
gardless of whether the spread change is driven by aggregate shocks or borrowing choices.
Therefore, we can directly consider a marginal response of firms sales, equation (20), to a
change in spr as follows:
                                                                                           
                                             !                      η (1− α )
   ∂ log( py)     η            ∂R( X j ) ∂Nj     ∂ log Y ( X j ) −    1−η ∂ log w ( X j )       ∂Nj
              =−     λ                        +                                                    .   (21)
      ∂spr       1−η            ∂Nj ∂spr                           ∂Nj                          ∂spr
               |               {z            } |                      {z                           }
                          direct effect                           indirect effects

The effect of a change in sovereign spreads on firms’ sales can be decomposed into a direct
effect on firms’ borrowing rates and indirect effects that operate through aggregate demand
and wages.
   The direct effect arises because financial intermediaries hold legacy government debt and
face a potentially binding leverage constraint. When sovereign risk increases, the value of
government bonds declines, as does financial intermediaries’ net worth, which is related to

                                                   19
the value of government debt according to equation (8). If the leverage constraint binds, the
decline in net worth translates into a decline in credit supply, which in equilibrium is met
by an increase in firms’ borrowing rates. This direct effect is heterogeneous across islands
and firms because islands differ in the degree of balance sheet exposure to government
debt, and firms differ in their borrowing needs.
   Along with this direct effect, our model features two additional channels through which
sovereign risk affects the behavior of firms that operate through the equilibrium change
in demand and wages, shown in Lemma 1. Consider these additional general equilibrium
forces that arise, for example, from an increase in sovereign spreads that lead to an increase
in firms’ borrowing rates. High borrowing rates depress the production of firms, as does
the demand for all the other intermediate goods on the island because of complementarities
in the production of final goods output. This aggregate demand channel further depresses
firms’ production. High borrowing rates also depress the demand for labor by firms, which
leads to a decline in wages. Lower wages reduce the marginal cost of production for firms,
which on the margin boost their production. Thus, the overall indirect effect could be
expansionary or recessionary, depending on which of these two channels dominates.


3.2      Measuring the propagation of sovereign risk
We now show that these direct and indirect effects map into the coefficients of a linear
relation that can be recovered using firm-level data. For the following results, we work
with first order approximations around a state in which leverage constraints bind and
consider responses to shocks that are small enough such that no default occurs. Appendix
B contains all the proofs.

Proposition 1. To first order, the response of the sales of firm i operating in region j to idiosyncratic
shock zijt and aggregate shocks pdt and νt is a linear function of the sovereign spread sprt and the
productivity shocks {zijt , pdt }

                                                                                                            η
      log pyijt = δi + β s,j sprt + γs,j (λi × sprt ) + β p,j pdt + γ p,j (λi × pdt ) +                        log(zijt ),     (22)
                                                                                                           1−η

with the coefficients given by
                                              h               i
                                                  η (1− α )
                       ∂ log Y ( X 0j ) −           1− η          ∂ log w( X 0j )                                   0
                                                                                                          η ∂R( X j )
         β s,j = −                                                                  Mq ϕ j    γs,j =                  Mq ϕ j
                                                  ∂N                                                    1 − η ∂N
                                          h             i
                                              η (1− α
                     ∂ log Y ( X 0j ) −        1− η         ∂ log w( X 0j )                               η ∂R( X j )
                                                                                                                        0
         β p,j =                                                                             γ p,j   =−               ,        (23)
                                          ∂pd                                                           1 − η ∂pd

                                                                       20
                                    ∂Nj                                        ωB0 ϑ
where we used the derivative        ∂spr   = − Mq ϕ j and Mq =            (ϑ+1/β−1+spr0 )2
                                                                                           .

  Equation (22) recovers the response of the sales of firm i of type (λ, z) to idiosyncratic
and aggregate shocks. The response is a function of the government spread because in our
model spreads are endogenous to aggregate shocks { pdt , νt } and government borrowing
choices B0 , which themselves depend on aggregate shocks and the initial state. Moreover,
the micro elasticities with respect to spreads are the same regardless of the source of the
spread fluctuations. A comparison between the expressions in (23) and equation (21) re-
veals that β s,j and γs,j λi capture, respectively, the indirect and direct effects of sovereign
risk defined in the earlier section. This relation is the basis of our quantitative strategy,
which consists of estimating an empirical version of equation (22) using micro data and
subsequently using these estimated coefficients as empirical targets when parameterizing
the model.
  Why is it important that our model reproduces these firms’ responses accurately? It
is important because, as the next result shows, these moments are closely related to the
response of aggregate output to sovereign risk.

Corollary 1. To first order, the marginal response of aggregate output to a change in sovereign
spreads is a weighted average of the firm responses

                                           ∂ log Yt
                                                         ∑ πj
                                                                                   
                                                    =               β s,j + γs,j m j ,         (24)
                                            ∂sprt          j

                 h                      i− 1
                λ 1+λ( R( X 0j )−1) 1−η dΛλ
              R
                  λ
where m j =   R h                      i− η          and π j = Yj /Y0 .
                                0 )−1)    1− η
               λ  1 + λ ( R ( X j              dΛλ


  This result asserts that by ensuring that the model reproduces the firm-level elasticities
summarized by γs,j and β s,j , we are disciplining empirically the response of aggregate
output to a change in sovereign risk.
  The next result further characterizes the expressions in (23) and derives some empirical
predictions for the micro elasticities.

Proposition 2. The direct effect on firms’ sales from increases in sovereign spreads is negative,
γs,j ≤ 0 ∀ j. Across two islands with N10 = N20 , the direct effect is more negative in islands with
higher exposure to government debt, γs,1 ≤ γs,2 if ϕ1 ≤ ϕ2 .

  Our theory predicts that an increase in sovereign risk is associated with a larger decline
in sales for firms that borrow more. Our theory also predicts that such differential effect is

                                                               21
stronger in islands where financial intermediaries have a higher ratio of government bond
holdings to net worth: in those regions, a given increase in sovereign spreads implies a
deeper decline in net worth for financial intermediaries, and so a larger increase in interest
rates charged to firms. The sign of the indirect effects in our model, however, is ambiguous
but it is stronger for islands with higher exposure to government debt, | β s,1 | ≤ | β s,2 | if
ϕ1 ≤ ϕ2 . As seen in the appendix, the magnitudes of both sets of coefficients, γs,j and β s,j
across j, provide information of the parameters of the model. Below we use firm and bank
data to test the model’s empirical predictions and use the recovered coefficients for direct
and indirect effects in Italy to parameterize the model.


3.3   Discussion
Before moving forward, we further discuss the role of micro data in our approach. First,
it is useful to point out which feature of the data informs the direct and indirect effects
of sovereign risk in our approach. The indirect effect is captured by β s,j , which in equa-
tion (22) represents the response of firms that do not borrow (λi = 0) to an increase in
sovereign spreads, controlling for idiosyncratic and aggregate productivity. The reason
why the behavior of “zero-leverage” firms is informative about the indirect effects is intu-
itive: these firms are not affected by fluctuations in borrowing rates, so any change in their
performance must come from the general equilibrium effects that work through wages and
aggregate demand. The direct effect is, instead, identified by exploiting cross-sectional
variation in λi . If, conditional on an increase in spreads, we see sales dropping substan-
tially more for firms with high borrowing relative to firms with low borrowing, we will
infer from the data a more negative γs,j .
  We can also use our model to contrast our procedure to the more standard approach in
the literature that uses only aggregate data. Integrating both sides of equation (22) across
firms and regions, one is left with an equation linking aggregate output, sovereign spreads,
and productivity pdt ,
                                   Yt = a0 + a1 sprt + a2 pdt .

Thus, rather than using micro data as we do in our paper, one could in principle estimate
the above expression using only aggregate data, and use these coefficients as empirical
targets in the estimation of the model parameters.
  We believe, however, that our approach is superior in at least two dimensions. First, the
mechanism studied in this paper has a number of cross-sectional predictions that cannot be
verified using aggregate data exclusively. As we have seen in Proposition 2, the sovereign
risk channel studied in this paper predicts that γs,j < 0, more so in regions where banks


                                               22
are highly exposed to government debt. In our approach, with firm- and bank-level data,
we can verify whether these predictions hold, and impose more empirical discipline on
measurement. Second, the heterogeneity in behavior across firms provides information on
the different mechanisms through which sovereign risk affects the real economy. As we
explained earlier, we can measure the direct effect via cross-sectional comparisons and the
indirect effects by looking at the behavior of zero-leverage firms. This is something one
cannot do when using aggregate data exclusively.


4     Empirical analysis
This section uses Italian data to test the empirical predictions of our model and provide
estimates for the micro elasticities in equation (22). The results will be used in the subse-
quent sections to estimate the parameters of the structural model. Section 4.1 describes the
data and Section 4.2 reports the main empirical results.


4.1     Data
We merge three main datasets for our analysis. First, we obtain yearly firm-level data
from the ORBIS-AMADEUS dataset. The dataset covers the period 2007-2015 and provides
detailed information on publicly and privately held Italian firms. The core variables used in
our analysis are indicators of a firm’s performance (operating revenues, operating profits,
and number of employees), key balance sheet indicators (total assets and short-term loans),
and additional firm-level information regarding the location of a firm’s headquarters and
the sector in which the firm operates. We define firm leverage as the ratio of short-term
loans to total assets. We perform standard steps to guarantee the quality of the data,
we scale all nominal variables by the consumer price index, and we eliminate outliers by
dropping the 1st and 99th percentile of all variables used in the analysis. We further restrict
the sample by considering a balanced panel of firms operating continuously between 2007
and 2015, and by excluding firms that operate in the financial industry or in sectors with a
strong government presence.10 In Appendix A, we provide details on our sample selection
and variables. Table 1 reports a set of summary statistics for the main variables used in
the analysis for the year 2007. The median firm in our sample is privately held, has seven
employees, has operating revenues of roughly one million euros, and has little debt, with
average leverage equal to 3%.
    10 We
        exclude firms that operate in public administration and defense (NACE 84), education (NACE 85),
and health care (NACE 86-88). Our results are robust to including these firms in the sample.



                                                  23
                           Table 1: Summary statistics for the firm panel
                                          Mean      Standard deviation         P25     P50     P75
             Number of employees            16                54                 3       7   16
             Operating revenues            2320              3830              355     912 2443
             Total assets                  2326              3706              397     994 2528
             Short term debt               2952              8359              0.00     20  206
             Leverage                      0.11              0.14              0.00    0.03 0.17
      Note: The data are from a panel of 224,359 firms for the year 2007. Monetary values are re-
      ported in thousands of euros and deflated using the consumer price index (2010 base year). See
      Appendix A for a definition of the variables.


   The second dataset is Bankscope, from which we obtain balance sheet information for
banks headquartered in Italy.11 The main variables in our analysis are total assets, total
equity, banks’ holdings of government debt, and the ZIP code of the banks’ headquarters.
Unfortunately, Bankscope does not provide a breakdown of government bond holdings
by nationality, which means that in principle a large value for this indicator might reflect
exposure to foreign governments rather than the Italian one. However, Gennaioli, Martin,
and Rossi (2018) document that this is a minor concern, as the Bankscope indicator captures
mainly banks’ exposure to domestic government debt. This reflects the high degree of home
bias in international financial portfolios.12
   The third dataset consists of Bank of Italy reports, which collects information on the
distribution of bank branches across Italian regions as of December 31, 2007. The 20 regions
in Italy are the first-level administrative divisions.
   Before turning to test the empirical predictions of our model and estimating the micro
elasticities in equation (22), we perform two preliminary steps that are necessary to obtain
some of the covariates for our analysis. First, we estimate a firm-specific productivity
process zi,t and use it to obtain the time path for pdt . Second, we use the Bankscope data
together with the data on the geographical distribution of bank branches to construct an
indicator of banks’ exposure to government debt at the regional level.


Production function estimation. To estimate firm productivity, we use the two-step gen-
eralized method of moments implementation of Levinsohn and Petrin (2003) developed in
   11 Thissample is highly representative for the whole Italian banking sector. Total assets for the banks in our
sample were 2,985 billion euros at the end of 2007. The corresponding statistic for all monetary and financial
institutions (banks and money market funds) in Italy was 3,289 billion euros at the end of 2007.
   12 See also Kalemli-Ozcan, Laeven, and Moreno (2018). They have access to proprietary data from the

European Central Bank on the holdings of domestic government bonds by banks. They compare this indicator
to the one constructed using Bankscope and find minimal differences in their analysis (see their Table 5).



                                                       24
Wooldridge (2009). As is standard, we allow the elasticities of value added with respect to
inputs to vary at the two-digit industry level and consider a sample of firms that operate in
manufacturing (NACE codes 10-33). Specifically, for each industry n, we have the following
equation:
                      log(yit ) = α + β t (n) + β 1 (n) log(`it ) + β 2 (n) log(k it ) + eit ,            (25)

where yit is the value added for firm i at time t, `i,t is its cost of labor inputs, and k it is
capital. In the above equation, β 1 (n) and β 2 (n) are sector-specific factor shares, and β t (n)
is a sector-specific time effect. The level n is defined at the two-digit NACE level. Given the
estimates for the coefficients in equation (25), we can compute for each firm the implied
(log) of revenue total factor productivity,

                  TFPRit = log(yit ) − [α + β t (n) + β 1 (n) log(`it ) + β 2 (n) log(k it )].

We can then use the estimated TFPRit to retrieve the time path for the aggregate shock pdt .13
From the productivity process in equation (5) and the law of large numbers, we have that

                                                             z t − ρ z z t −1
                                                                               
                                       pdt   = − max                          ,0 ,                        (26)
                                                                   µ

where zt is the cross-sectional average of the log of the firm’s productivity at date t. Because
of the short dimension of our panel, we do not directly estimate ρz but set it to 0.9, in line
with the results in Foster, Haltiwanger, and Syverson (2008), which use a longer panel of
U.S. firms. Moreover, we normalize µ to 0.3, which corresponds to the 5th percentile of the
panel data for log(zit ). Given ρz and µ, we can compute pdt using equation (26).
   The plots in Figure 1 illustrate the behavior of firms’ productivity in our sample. Panel
(a) reports percentiles of the cross-sectional distribution of zi,t for each year t. We can
see that average productivity fell sharply in 2008-2009 and recovered little after that.14
Panel (b) in the figure plots the pdt process that we recover from the data. Consistent with
the distributional plot, pdt displays a sharp increase in 2008-2009 and a somewhat smaller
increase in 2012. To place these data into context, the dynamics of pdt closely mirror those
  13 In   our model, TFPRit is not equal to physical productivity. The relation between the two is given by

                                                    1          (1 − η )
                                     log(zi,t ) =     TFPRit −          log(Yt ).
                                                    η             η

So, conditional on η and regional aggregate output Yt , we could use the above expression to correct for the
discrepancy between TFPRit and zit . In practice, we have verified that this correction does not affect our
results very much given the value of η that we will adopt in the quantitative analysis.
   14 In our estimates, the average decline in TFP between 2008 and 2009 is on the order of 10%. This is

consistent with OECD data (Productivity and ULC by main economic activity) showing a decline in value
added per hours worked of 7.1% in manufacturing during the same period.

                                                           25
             Figure 1: The cross section of firms’ productivity in Italy, 2007-2015


                10th pct   25th pct   50th pct   75th pct    90th pct




            (a) Firms’ productivity percentiles                              (b) Aggregate productivity shock


of aggregate real GDP growth, which display a “double-dip” recession over the sample.


Banks’ holdings of government debt by region.                                We now construct an indicator of banks’
exposure to government debt at the regional level. A limitation of the Bankscope dataset
is that it does not contain bank-level information on the geographical distribution of their
operations. We overcome this issue by using the location of a bank’s headquarters and the
geographical distribution of its branches as a proxy for the size of a bank’s operations in a
given region.
   Specifically, we group the banks in the sample into two categories: local and national
banks. National banks are the five largest banks in our dataset by total assets in 2007, and
their operations are distributed throughout the national territory.15 Local banks are smaller,
and we assume that they operate exclusively in the region in which their headquarters are
located.
   The indicator is constructed in two steps. In the first step, we compute the ratio of the
government’s bond holdings to the bank’s equity for the five national banks,

                                                                             Bi
                                                            exposurenat
                                                                    i   =       ,
                                                                             Ei

where Bi is the book value of government debt held by national banks i at the end of 2007,
and Ei is the book value of the bank’s equity in the same year. This indicator measures
  15 The national banks are Unicredit, Intesa-Sanpaolo, Monte dei Paschi di Siena, Banca Nazionale del La-
voro, and Banco Popolare.


                                                                        26
             Figure 2: Banks’ exposure to government debt by region in 2007




the size of these financial positions as a fraction of a bank’s capital: a large value for the
indicator means that the bank is particularly exposed to domestic sovereign risk. We also
construct this indicator for the local banks operating in region j,

                                                           ∑i Bi,j
                                        exposureloc
                                                j =                .
                                                           ∑i Ei,j

  The second step consists of constructing region-specific weights for these two variables.
For this purpose, we use the information on the geographical location of branches provided
by the Bank of Italy. Let Mbr
                           j be the total number of bank branches in region j at the end of
               br be the number of branches for national bank i in that region. We construct
2007, and let Mi,j
                       br
                      Mi,j
the variable αnat
              i,j =   Mbr
                             , which denotes the proportion of bank branches in a given region j
                       j
that belong to national bank i.
  Given these definitions, we define the indicator of exposure for region j as
                                                 !
               exposure j =         1 − ∑ αnat
                                           i,j               j + ∑ αi,j exposurei .
                                                     exposureloc    nat         nat
                                                                                            (27)
                                        i                              i

A high value of exposure j indicates that in 2007, banks operating in that region had large
quantities of debt issued by the government in their portfolio as a fraction of their capital.


                                                      27
This can happen for two reasons. First, it could be that local banks in region j were highly
exposed to government debt. Second, it could be that a national bank that was particularly
exposed to government debt also had a strong presence in region j, as proxied by the
number of its bank branches.
  Figure 2 is a map of the exposure measure for the 20 Italian regions. Light colors indicate
regions where banks have relatively low values for this indicator, while dark colors denote
regions characterized by higher values for exposure j . We can verify that there is substantial
variation across regions. In Calabria, the region where banks are the least exposed to
government debt, banks’ holdings of government debt are equivalent to 24% of their total
equity, while in Molise, the region where banks are most exposed, this number equals
131%.
  We partition these regions into two groups for the empirical and quantitative analysis.
The high-exposure regions are those with exposure j above the median, while low-exposure
regions are those with a value of exposure j below the median. The high-exposure regions
consist of two from Northern Italy (Piemonte and Friuli Venezia Giulia), two from the
South (Puglia and Sicilia), and five from Central Italy (Molise, Lazio, Abruzzo, Marche,
and Umbria).
  In the model, we have assumed that regions differ in their exposure to government debt
but share the same distribution of firm productivity and leverage. We now show that
this assumption is a good description of Italian data. Table 2 reports the firms’ summary
statistics in 2007 for the high- and low-exposure regions. We can verify that firms in the
two regions are very similar: they have comparable numbers of employees and operating
revenues. Low-exposure regions have slightly more total assets and leverage, most likely
reflecting the fact that these regions are also more manufacturing-intensive, with 26% of
firms operating in manufacturing relative to 20% in the high-exposure regions.


              Table 2: Distribution of firms in high- and low-exposure regions
                                              High exposure          Low exposure
                                             P25 P50       P75 P25 P50            P75
                Number of employees           3    7        15   3    8            17
                Operating revenues           338 846       2210 373 980           2643
                Total assets                 372 926       2335 430 1066          2688
                Short-term debt              0.00 13        173 0.00  27           233
                Leverage                     0.00 0.02     0.15 0.00 0.03         0.19
     Note: The data are from a panel of 224,359 firms for the year 2007. Monetary values are re-
     ported in thousands of euros and deflated using the consumer price index (2010 base year). See
     Appendix A for a definition of the variables.


                                                   28
  Figure 3 reports the time series of real income per capita averaged across regions for
the two groups of regions during the 1995-2016 period. In both panels, the solid vertical
line denotes 2007, the year in which we partition the regions. We can see from panel
(b) of the figure that the two groups have remarkably similar dynamics prior to 2007, as
the ratio of income per capita is stable at 0.935 throughout the 1995-2007 period. During
this period government spreads for Italian government bonds were close to zero. After
2007, and in conjunction with the sovereign debt crisis, we can see that regions where
banks are more exposed to government debt suffer a much deeper decline in income per
capita. This pattern is consistent with the mechanism emphasized in this paper and also
important for the difference-in-differences methodology employed in the next subsection.
The similar trends in output across the two regions prior to the debt crisis and the diverging
performance during the crisis are in line with the parallel trend assumption embedded in
the methodology.


                 Figure 3: Income per capita in high and low exposure regions



                                        Low
                                    exposure




                                                   High
                                               exposure




                  (a) Income per capita                        (b) Ratio of high exposure to low exposure
      Note: The line with circles in panel (a) reports the average income per capita in the regions cat-
      egorized as “low-exposure.” The solid line reports the same object for “high-exposure” regions.
      Income per capita is expressed in thousands of euros at 2009 prices. The data are from the Istat
      Regional Accounts. Panel (b) reports the ratio between the solid line and the line with circles in
      panel (a).




4.2    Firm-level regressions
We now turn to estimating firm level regressions to test the empirical predictions of our
model and measure the micro elasticities in equation (22). The two aggregate time series

                                                          29
we use are taken directly from the data. Sovereign spreads, sprt , are the difference in 10-
year yields between Italian bonds relative to German bonds. The aggregate productivity
series pdt is the one constructed in the previous section. For regional exposure, we use a
dummy variable expi which equals 1 if firm i is headquartered in a high-exposure region
and zero otherwise. Firm sales yit equals the firm’s operating revenue. The last variable
we need to measure is λi —the fraction of input costs that must be paid in advance by firm
i. In our model, there is a mapping between this indicator and the leverage of the firm,
that is, the fraction of short-term debt over total assets, as the latter equals λi r k /α. We
exploit this mapping and proxy for λi using a firm’s leverage. Specifically, we construct a
dummy variable levi that takes the value of 1 if firm i was in the upper 75th percentile of the
leverage distribution and zero otherwise. To minimize concerns about the endogeneity of
leverage, we sort firms according to the leverage distribution using only 2007 data, the first
year in our panel. In our sample, firms with levi = 1 had, on average, a leverage of 0.241 in
2007, while firms with levi = 0 were borrowing very little, with an average leverage ratio
of 0.038.
  The benchmark equation that we estimate is

      ∆yit = δi + α1 sprt + α2 (levi × sprt ) + α3 (expi × sprt ) + α4 (levi × expi × sprt )
                                                                                                (28)
            + α5 pdt + α6 (levi × pdt ) + α7 (expi × pdt ) + α8 (levi × expi × pdt ) + ε it ,

where ∆yit is the growth rate of sales for firm i between time t and t − 1, δi are the firm’s
fixed effects, sprt are interest rate differentials between Italian and German 5-year govern-
ment bonds, and pdt is aggregate productivity.
  There are a number of differences between equation (22) and equation (28). First, in
equation (28) we consider the growth rate of sales rather than its level. We do so to deal
with potential trends in the data. The second difference is that we do not control for
idiosyncratic productivity in equation (28), and we absorb it in the residual ε it . We do
so because the productivity process is estimated only for firms in manufacturing, while
equation (28) is estimated for all firms in our panel. Third, in equation (28) we use a
dummy for leverage, while in the model λi is potentially continuous. In the numerical
solution of the model, however, we restrict λi to take only two values, so the dummy
variable approach is without loss of generality. Finally, note that equation (22) is only an
approximation to time path of firms’ sales and does not hold exactly in our model: the true
relationship is nonlinear and also depends on the dynamics of the other state variables, Bt
and Λt . To deal with this issue, we will estimate equation (28) on simulated data from our


                                                  30
model when estimating the structural parameters via indirect inference.
  Despite these differences, the coefficients in equation (28) can easily be mapped into the
indirect and direct effects described in Section 3. The indirect effects in the two regions are
captured by α1 and α1 + α3 . The coefficient α1 in equation (28) approximates the response
of zero-leverage firms conditional on an increase in sovereign spreads in low-exposure
regions because firms with levi = 0 are essentially not borrowing in our sample. The sum
of the coefficients α1 + α3 approximates this response for the high-exposure regions. The
direct effects, instead, are captured by the interactions between the leverage dummy and
sovereign spreads: in the low-exposure regions, that would be equal to α2 , while in the
high-exposure regions, the direct effect is represented by α2 + α4 .
  Table 3 reports the results of the estimation of equation (28). Standard errors in every
specification are clustered two ways, across firm and time. In column (1) we report a
version of equation (28) that includes only sovereign spreads sprt and the productivity
series pdt as covariates. The table shows that both variables are negatively related to firms’
sales. An increase of 100 basis points in interest rate spreads is associated with a decline
of of 1.56% in firms’ sales growth, while a 1% increase in pdt is associated with a decline of
0.42%. Both coefficients are statistically different from zero at the 99% level.
  In column (2) we introduce the interactions between these two variables and our leverage
dummy. Both interactions are negative and statistically significant at the 95% level. On
average, firms belonging to the low-leverage group experience a decline in sales growth
of 1.49% after a 100 basis point increase in spreads, while for high-leverage firms, sales
growth falls by 1.77% (1.49+0.28). This result is consistent with the idea that sovereign risk
has recessionary effects because of its impact on the financial sector, as firms that borrow
are more exposed to sovereign risk relative to firms that do not borrow.
  Column (3) of Table 3 reports the estimation of equation (28), our benchmark specifi-
cation. To summarize the results, let’s first consider firms that are headquartered in re-
gions where banks have a low exposure to government debt. In those regions, a 100 basis
point increase in spreads is associated with a 1.35% and 1.61% (1.35+0.26) decline in sales
growth for the low- and high-leverage groups, respectively. Now consider the regions in
which banks have high exposure to government debt. These elasticities become −1.79%
(1.35+0.44) and −2.18% (1.35+0.26+0.44+0.13), respectively. These results are in accordance
with the empirical predictions in our model from Proposition 2. In the data, as predicted in
the model, the sales for high-leverage firms decline more than for low-leverage firms when
sovereign spreads increase, and this differential response is stronger in regions where banks
are more exposed to government debt. These results are also consistent with the empirical
implication of our model that the indirect effects of sovereign risk, captured here by the


                                              31
    Table 3: Firms sales on sovereign risk, productivity, leverage, and banks’ exposure

                                               (1)              (2)        (3)        (4)        (5)
        sprt                                  -1.56            -1.49      -1.35                 -0.90
                                              (-4.03)          (-4.06)    (-3.82)               (-4.13)
        sprt × levi                                            -0.28      -0.26      -0.24      -0.17
                                                               (-2.53)    (-2.34)    (-2.26)    (-2.19)
        sprt × expi                                                       -0.44                 -0.34
                                                                          (-2.44)               (-1.82)
        sprt × levi × expi                                                -0.13      -0.07      -0.13
                                                                          (-9.27)    (-2.58)    (-3.43)
        pdt                                   -0.42            -0.38      -0.43                 -0.37
                                              (-12.98)        (-12.52)   (-14.82)              (-17.70)
        pdt   × levi                                           -0.16      -0.16      -0.04      -0.17
                                                              (-10.45)   (-10.77)    (-4.99)   (-13.44)
        pdt   × expi                                                      0.14                  0.13
                                                                          (10.78)               (10.23)
        pdt   × levi × expi                                               0.03       0.01       0.03
                                                                          (3.70)     (1.28)     (3.28)
        Firm fixed effects                      yes             yes        yes        yes        yes
        Time/region/sector fixed effects        no              no          no        yes         no
        Time-varying firms’ controls            no              no          no        no         yes
        R2                                    0.10              0.10       0.10       0.11       0.13
        Number of observations              1941426           1941426    1937619    1936935    1722328
 Note: This table reports the estimation of equation (28) and robustness specifications. Standard errors are
 clustered two ways, across firm and time. t-statistics are reported in the parentheses. See Appendix A for
 data sources and variable definitions.


effects of low-leverage firms, are stronger in regions with higher exposure to government
debt.
   The remaining specifications in Table 3 report sensitivity analysis of the results. Column
(4) introduces interactions of time, region, and two-digit sector fixed effects. These fixed
effects absorb all the shocks common to firms in each region and sector, such as changes
in the demand for their goods and labor, and in credit conditions including those arising
from changes in sovereign risk and productivity. Although we cannot identify in this
specification the indirect effects in both regions, we confirm that the benchmark results for
the direct effects are qualitatively and quantitatively robust. Column (5) introduces in the
regression some time-varying firm controls: lagged leverage, lagged firms’ size and lagged


                                                         32
profitability. Again, we observe little variation in the coefficients when comparing columns
(3) and (5).
   The empirical specification of this panel regression is guided by our model, and hence
through the lens of our theory, it recovers the response of firms’ output to sovereign risk.
In our model, however, firms’ leverage and banks’ exposure to government debt are exoge-
nously given. If we were to relax these assumptions, the difference-in-differences method-
ology employed here might not recover the micro elasticities of interest because of endo-
geneity. We discuss next some of these concerns and our approach to handling them.
   One potential problem arises because time-varying determinants of firms’ leverage and
banks’ exposure to government debt might be systematically related to the error term in
equation (28). For example, a negative idiosyncratic productivity shock might reduce firms’
output and at the same time reduce its incentive to borrow. To address these concerns, in
our baseline specification we use measures of firm leverage and regional banks’ exposure
to government debt using dummy variables, and classify firms and regions into groups
based on the ex ante distributions of these variables in 2007, before the debt crisis.
   A related concern is the possibility that even these pre-determined firms and regional
groups are systematically correlated due to the error term in equation (28). For example,
one might be worried that banks with a large exposure to government debt might system-
atically lend more to certain type of firms (ex. government’s contractors) that might be
more sensitive to sovereign risk than others. The recovered regression coefficients could
then reflect such sorting rather than the mechanism discussed in this paper. While prop-
erly addressing this issue would require a different dataset than the one used here, note
that specification (4) controls for this issue if the omitted firms’ characteristics are invariant
across firms within the same region, sector and time.16 Our results are reassuring in that
this specification continues to display significant robust patterns for the direct effects of
sovereign risk similar to the benchmark specification.
   A distinct concern is that these regression results arise because of an omitted aggregate
shock that affects the performance of high-leverage firms and sovereign spreads at the
same time.17 Changes in global appetite for risk, for example, could have an impact on all
financial contracts, which would affect more firms with high leverage and, at the same time,
the market for government bonds. We think that the results on the direct effects of sovereign
   16 With  the credit registry, for example, one could control for this issue by considering firms with multiple
lending relationship. See Khwaja and Mian (2008).
   17 In a recent empirical study, Bottero, Lenzu, and Mezzanotti (2015) actually argue that the increase in

Italian spreads following the Greek bailout of 2010 can be considered a “natural experiment” to assess the
impact of sovereign risk on banks’ lending behavior. They document, consistent with our theory, that banks
that were holding more Italian government securities prior to such event significantly tightened credit relative
to less exposed banks.


                                                       33
risk are largely robust to these considerations. First in the baseline specification, we find
that the coefficient on the triple interaction between sovereign spreads, firm leverage, and
banks’ exposure – the direct effect– is negative and significant: we believe that a change in
global risk would not generate such pattern because it is unlikely to vary across regions
based on banks’ government bond holdings. Second, in specification (4), the negative
direct effect is robust when we control for any aggregate shock that is potentially correlated
with sovereign risk and that can differentially impact firms based on their region/sector of
operation. The inference on the indirect effects, instead, relies more on the structure of our
model.


5     Quantitative analysis
This section performs a quantitative evaluation of our model to study the evolution of the
Italian economy and to measure the propagation of sovereign risk to the real economy. We
first use the regression results of the previous section as well as aggregate Italian data to
parameterize the model. We then compare the model implications against micro and aggre-
gate data and perform an event analysis and counterfactual to assess the macroeconomic
implications of the Italian debt crisis in 2011 and 2012.


5.1    Parameterization
We start with some functional forms. The preferences of the government are given by the
                                        G 1− σ −1
standard utility function u g ( G ) =     1− σ ,    where σ is the risk aversion parameter. The
default cost shocks are assumed to follow a autoregressive process νt = ν̄ + ρν νt−1 + ε νt ,
with an autocorrelation parameter ρν and where ε νt ∼ N (0, σεν ). We consider two regions,
J = 2, and a period in the model is a year.
    We classify the structural parameters into three groups of vectors Γ = [Γ1 , Γ2 , Γ3 ]. The
parameters in Γ1 govern the idiosyncratic and aggregate productivity process Γ1 = [ρz , σz ,
µ, Π p ( p)]. These parameters are chosen to fit the process for firm-specific productivity
described in Section 4.1. The parameters Γ2 = [α, η, δ, β, σ, χ, τ, ϑ ] are set outside the model
and are based on other studies. The remaining parameters, collected in Γ3 , are chosen to
match a set of micro and macro moments for the Italian economy.


Parameterization of Γ2 .    The parameters in Γ2 = [α, η, δ, β, σ, χ, τ, ϑ ] include technological
parameters, preference parameters, the disutility of labor, the tax rate, and the fraction
of outstanding debt that matures. The parameters α and η determine the shape of the


                                                    34
production function of intermediate goods firms and final goods firms. We set the labor
share α to 0.67, consistent with the labor share in Italy. The parameter η controls the
elasticity of substitution across intermediate goods, 1/(1 − η ), and the markup. In setting
this parameter, we use markup estimates for Italy in Christopoulou and Vermeulen (2012).
Using data from 1981 to 2004, they find that markup estimates for Italy range from 0.23 to
0.87 across industries. We take a median level of 0.5 implying an elasticity of substitution
of 3. We set the depreciation rate δ to 0.10 and the discount factor of households β to
get a risk-free rate of 2%. We set the risk aversion parameter in the utility to a standard
value, σ = 2. The parameter χ normalizes the average level of labor. We set it such that
labor equals 0.3 when pd = 0 and leverage constraints are not binding. We set the tax rate
to 0.2, which obtains a ratio of government consumption to output that is close to 20%,
the estimate for Italy in Mendoza, Tesar, and Zhang (2014). Finally, we set the fraction of
maturing debt ϑ such that the weighted average life of government debt is 5 years.


Parameterization of Γ3 .       We set the parameters in Γ3 to match moments in Italian data.
These parameters include those controlling the balance sheet of financial intermediaries,
the distribution of firms’ financing needs, the stochastic process for enforcement shocks,
and preference parameters for the government discount factor and labor supply elasticity.
As explained earlier, the holdings of government debt by banks across regions are indeter-
minate in the model. Thus, we treat ϕ1 and ϕ2 as model parameters and, because ϕ j enters
as a product with ω in equation (8), we will parametrize only ω j ≡ ωϕ j .18
   The parameters that determine the balance sheet of intermediaries, {n̄1 , n̄2 , ω1 , ω2 , θ },
affect the equilibrium only through the leverage constraint in equation (8). The linearity
of the constraint implies that only the ratios of n̄1 , n̄2 , ω1 , ω2 relative to the pledgeability
parameter (1 − θ ) matter for the equilibrium. Therefore, we can only recover the ratios
{n̄ j /(1 − θ ), ω j /(1 − θ )} in each region j. We discretize the distribution of firms’ financing
needs into two points λ = {λlow , λhigh }, with probabilities equal to 0.75 and 0.25, in line
with the groups in the estimated firm-level regressions of Section 4. We discretize the
enforcement shocks ν into 16 points following the Tauchen (1986) method.
   We target 12 sample moments that include cross-sectional, regional, and aggregate statis-
tics. The cross-sectional statistics include the distribution of leverage and the regression
coefficients of the firm-level regressions reported in specification (3) of Table 3. Specifically,
we target the average short-term debt-to-asset ratio for the firms with levi = 0 and those
with levi = 1, as well as α1 , α2 , α3 , α4 , α5 in equation (28). The regional statistics are the av-
  18 This implicitly assumes that banks’ holdings of government debt are not time-varying over the episode,
which is broadly consistent with the high persistence of government bond holdings by banks in our data.



                                                    35
erage ratio of government bond holdings to banks’ equity for the low- and high-exposure
regions. The aggregate statistics include the mean, standard deviation, and autocorrelation
of sovereign interest rate spreads, as well as the correlation between sovereign spreads and
aggregate output.
   We solve the model using global methods (see Appendix C for details). Given the model
policy functions, we compute aggregate moments in the model by simulating a long realiza-
tion of a panel of 100,000 firms and calculating statistics on the simulated aggregated data.
For recovering the model implied regression coefficients we estimate the exact specification
of equation (28), used in our baseline empirical regression, for a large panel of firms in a
short simulation. Specifically, the sequence of aggregate shocks for this simulation consist
of the observed productivity shocks and a constructed sequence for enforcement shocks to
match the observed path of sovereign spreads during the 2007-2012 period, while the initial
conditions for government debt and the distribution of firms are their ergodic mean. The
parameters in Γ3 are then chosen to minimize a weighted distance between the moments in
the model and their corresponding counterparts in the data. Table 4 summarizes all values
for the parameters Γ = {Γ1 , Γ3 , Γ3 }.
   Even though the parameters in Γ3 are chosen jointly, we can give a heuristic description
of how the sample moments included in the estimation inform specific parameters. First, in
our model, the leverage ratio for a firm of type i equals λi r k /α. Using the parameters in Γ3
and the equilibrium level for r k = 1 − β(1 − δ), the empirical measure for leverage for firms
with leverage below and above the 75th percentile pins down λlow and λhigh . Similarly, there
is a tight relation between the government-bonds-to-equity ratio of banks in a given region
and ω j . Indeed, such statistic in the model equals ω j qt (1 − ϑ ) Bt /(n̄ j + ω j qt (1 − ϑ ) Bt ): given
n̄ j and the market value of debt, these moments pin down ω j for the two regions. The
coefficients associated with the direct effects of sovereign risk (α2 , α4 ) provide information
on n̄ j . To see why, suppose n̄ j is so large that the intermediaries’ leverage constraints are
slack in the simulation. Then, the model predicts these coefficients to be equal to zero. As
n̄ j decreases, the coefficients become negative. The coefficients associated with the indirect
effects (α1 , α3 ), instead, provide information on the Frisch elasticity of labor supply: a
higher Frisch elasticity is associated with a lower sensitivity of wages to movements in
labor demand, which dampens the general equilibrium effects that are working through
wages, as discussed in Section 3. Thus, a high 1/γ is associated with more negative α1 and
α3 in model-simulated data. The mean, standard deviation, and persistence of sovereign
spreads have a tight connection with the process for the enforcement shock νt and with the
government discount factor β g .
   Table 5 reports the target moments in the model and the data. Overall, the model pro-


                                                    36
                                  Table 4: Parameter Values
               Productivity Parameters Γ1
               Firm persistence z                          ρz = 0.9
               Firm volatility z                          σz = 0.05
               Aggregate pd shocks                  d
                                                   pt = {0.0, 0.04, 0.1, 0.29}
                                                  π p = {3/9, 4/9, 1/9, 1/9}
               Productivity decline                        µ = 0.3
               Assigned Parameters Γ2
               Labor share                                 α = 0.67
               Markup parameter                            η = 0.67
               Discount factor                             β = 0.98
               Depreciation rate                            δ = 0.1
               Risk aversion                                 σ=2
               Labor disutility                             χ = 11
               Tax rate                                    τ = 0.2
               Fraction of bonds maturing                  ϑ = 0.05
               Parameters from Moment Matching Γ3
               Frisch elasticity                          1/γ = 2.8
               Leverage constraint                   n̄1 /(1 − θ ) = 0.09
                                                     n̄2 /(1 − θ ) = 0.06
               Regional exposure            ω1 /(1 − θ ) = 0.3, ω2 /(1 − θ ) = 0.6
               Financing requirement               λlow = 0.1, λhigh = 0.6
               Process for νt                   ν̄ = 0.6, σν = 0.05, ρν = 0.9
               Government discount factor                  β g = 0.9


duces similar statistics to the ones in the data. The model average and standard deviation
of interest rate spreads on government debt of 2.6% and 1.1% are similar to the data coun-
terparts of 1.8% and 1.3%, respectively. The persistence of the spread in the model of 0.8
is slightly higher than the one in the data of 0.6. The mean leverage for firms in two lever-
age group of 4% and 24% are exactly matched. The mean exposure to government debt
across the two regions in the model of 0.31 and 0.55 are similar to those in the data of
0.34 and 0.58. The model generates a correlation between sovereign spreads and output
of -0.68, similar to the data one of -0.54. In terms of the regression coefficients, the model
reproduces their signs, with magnitudes in line with the data for all coefficients, with the
exception of α1 , which is 40% of his corresponding target in the data. This means that the
indirect effects of sovereign spreads on output in the low-exposure region are somewhat
smaller in the model relative to the data. However, the estimated coefficient in the data
also has a wide confidence interval that ranges from -2.2 to -0.58, and the model-implied


                                             37
statistics fall almost within this confidence interval.

                               Table 5: Moments in Model and Data
                                                           Data       Model
                    Targeted moments
                    Govt spread mean                         1.8         2.6
                    Govt spread volatility                   1.3         1.1
                    Govt spread persistence                  0.8         0.6
                    Firms’ leverage                       [.04 .24]   [.04 .24]
                    Banks’ exposure to government debt    [.34 .58]   [.31 .55]
                    Corr(output, spread)                     -.54        -.68
                    Regression coefficients:
                      α1 : sprt                            -1.35        -.53
                      α2 : sprt × levi                      -.26        -.30
                      α3 : sprt × exp j                     -.44        -.35
                      α4 : sprt × levi × exp j              -.13        -.12
                      α5 :   pdt                            -.43        - .34
                    Other Moments
                    Corr(output L , spread)                 -.47        -.41
                    Corr(output H , spread)                 -.49        -.54
                    Corr(output L , output H )               .96        .96
                    Corr(spread, firm spreads)              .89         .70
             Note: output L and output H are the output of low-exposure and high-
             exposure region respectively.


  In Table 5, we also report some additional implications of our model for aggregate and
regional moments and compare them with the data. In the data, the high-exposure region
is more negatively correlated with government spreads, as in our model. Our model also
successfully replicates the positive co-movement of output across the two regions, 0.96 for
both the model and the data.
  An important implication of our model is that borrowing rates for firms positively co-
move with the sovereign spread, as they do in the data. In the model, firms’ borrowing
rates co-move positively with government spreads because both respond to the aggregate
productivity shock and also because sovereign spreads affect financial intermediaries’ bal-
ance sheets. The correlation between sovereign and average firms’ spreads in the model,
defined as R jt − 1/β, equals 0.70. Although our dataset does not contain firms’ interest
rates, we construct an indicator of average firms’ spreads using data from the European
Central Bank for comparisons with our model. Specifically, we obtain the average interest
rate charged on short-term loans by Italian non-financial corporations below 1 million eu-

                                                 38
ros at the monthly level and average it at the annual level. We construct the same average
interest rate for German non-financial corporations and take the difference between the
two.19 Between 2007 and 2012, the correlation between this interest rate differential and
sovereign spreads equals 0.89.


5.2     Dissecting the Italian debt crisis
We now use the model to measure the propagation of sovereign risk to the real economy
during the Italian debt crisis. As described above, in our event study, we feed the ob-
served productivity shocks into the model and construct a sequence of enforcement shocks
to produce the observed rise in sovereign spreads during the debt crisis. We assess the
implications of our model for the paths of firms’ borrowing rates and output. We then
conduct counterfactual experiments to measure the impact of the sovereign debt crisis on
these variables.
   Figure 4 reports the time path for the aggregate shocks, firms’ and sovereign spreads,
and aggregate output. The productivity shock is the one we measured using the firm-level
productivity estimates, while the time path for the enforcement shock is chosen to minimize
a weighted distance between the observed and model-implied sovereign spreads.20 From
panel (b), we can see that the model calls for a progressive deterioration of enforcement
after 2009 in order to reproduce the rise in sovereign interest rate spreads observed in the
data.
   Panels (d) and (e) in the figure report the time path for firms’ spreads and aggregate
output in the model and data. The model predicts slack leverage constraints for financial
intermediaries until 2010, implying zero interest rate spreads on firms. After 2010, these
leverage constraints start to bind, and firms’ spreads increase by about 225 basis points.
Such dynamics are consistent with the behavior of firms’ interest rate spreads in the data,
shown in the solid line in panel (d) of the figure. As for output (panel (e)), we can observe
two large declines in this episode in the data: 6.2% in 2009 and 7.5% in 2012. Our model
successfully produces these sizable declines, and it also replicates the short recovery during
2010 and 2011. These results indicate a good out-of-sample fit for our model because we
did not include the volatility of aggregate output or of firms’ interest rate spreads in the
moment-matching exercise.
   19 The differential between interest rates on Italian firms and German government securities follows a very
similar pattern, although the spread is on average 200 basis points higher, which reflects credit risk. We focus
on the spread relative to German firms to net out such credit risk that we abstract from in our model.
   20 We initialize the other state variables as follows. We fix pd at its 2007 level and ν at the highest level in

the grid and simulate a long time-series from the model. We then select the ergodic level of government debt
and Λ as the initial values in our event study.


                                                        39
                               Figure 4: Event study: 2007-2012




                     (a) Productivity shock                   (b) Enforcement shock




                                                      Model                               Model


             Model




                        Data

                                              Data
                                                                                                  Data




      (c) Sovereign spreads         (d) Firms’ spreads (average)             (e) Aggregate output


  Having chosen a sequence of enforcement shocks, we next proceed to measure the
macroeconomic implications of the sovereign debt crisis. To do so, we construct the time
path for the model’s endogenous variables in a counterfactual in which the enforcement
shock is fixed at its 2007 level throughout this episode while aggregate productivity follows
the path observed in the data. Figure 5 reports the time path of sovereign spreads, firms’
borrowing rates, and aggregate output in this counterfactual, and we compare it to the one
we obtained in the event study of Figure 4.
  From panel (a), we can see that sovereign spreads increase very modestly in this counter-
factual. This muted deterioration implies that financial intermediaries’ leverage constraints
remain slack, as net worth does not suffer losses. The slackness in these constraints implies
no rise in firms’ borrowing costs over the sample (see panel (b)). Without such increase in
firms’ borrowing costs, the recession in Italy would have continued to be sizable but sub-
stantially milder as seen in panel (c) of Figure 5. By 2012, output would have been about


                                                     40
Figure 5: Counterfactual path for sovereign spreads, firms’ spreads, and aggregate output


                                                                                           Counterfactual
                    Event
                                                         Event




                      Counterfactual                                                             Event
                                                           Counterfactual




      (a) Sovereign spreads            (b) Firms’ spreads (average)         (c) Aggregate output


4% below trend, whereas in the benchmark it was 6.2%. Thus, our model predicts a sizable
propagation of sovereign risk to real economic activity, contributing to 2.2% of the output
decline in 2012.
  We can further decompose the output losses associated with sovereign risk into those
that are due to the direct effects on firms’ borrowing rates and those that are due to the ad-
ditional general equilibrium mechanisms working through aggregate demand and wages.
To do so, we use equation (20), which expresses log-sales for a firm as a function of in-
terest rates, wages, and aggregate demand. We use this expression to evaluate the firms’
sales that would have been realized if interest rates on firms follow the same path as in the
event of Figure 4 while wages and aggregate demand follow the path of the counterfactual
economy. We aggregate across firms to generate a path for aggregate output with only the
direct effect operating. By comparing this path of output to the counterfactual output path,
we can evaluate the output losses arising because of the increase in firms’ borrowing rates
rates alone. This decomposition is reported in Table 6. We can see that out of the 2.2%
decline in output attributed to the sovereign debt crisis, 1.5% is due to the direct effects of
sovereign risk. The indirect effects of sovereign risk that depressed aggregate demand and
wages are also negative and account for an additional 0.7% decline.
  Using the results from this counterfactual, we can compute the passthrough from sovereign
spreads to firms borrowing rates and the elasticity of aggregate output with respect to
changes in sovereign spreads. Our results imply that on average during the Italian debt
crisis, a 100 basis point increase in sovereign spreads led to an increase in firm borrowing
rates of 68 basis points (225/330×100) and a decline of 0.67% (-2.2/3.3) in aggregate output.
The macro elasticity in our full quantitative model is state dependent. As seen from the


                                                    41
                           Table 6: The Italian debt crisis, 2007-2012
                                                        Output      Govt spreads
              Data                                        -7.3           3.7
              Benchmark Model                             -6.2           3.4
              Counterfactual: No Govt Debt Crisis         -4.0            .1
              Counterfactual Decomposition
              Crisis total effect                         -2.2           3.3
              Crisis direct effect                        -1.5
 Note: Output is reported as the percentage deviation between 2012 and 2007. Spreads are measured in
 percentage points.


event paths, the elasticity is lower earlier in the event and highest at the height of the crisis
in 2012. The state dependency in our full nonlinear model arises because the dynamics of
the state variables dictate when the leverage constraint for intermediaries is binding. As
implied from the paths of firms’ borrowing costs in panel (d) in Figure 4, earlier in the
event the leverage constraint for intermediaries is not binding (which leads to zero firm
spreads), and it becomes binding later in the event, with firm spreads rising on average as
the sovereign debt crisis becomes prolonged and sovereign spreads rise substantially.


6    Conclusion
We have developed a framework that combines a structural model of sovereign debt with
financial intermediaries and heterogeneous firms with micro data to study the macroeco-
nomic implications of sovereign risk. We showed that firm-level data can be useful for
measuring the macroeconomic implications of sovereign risk and the different transmis-
sion mechanisms. In our application, we find that the effect of sovereign risk on the private
sector is sizable, accounting for about one-third of the observed decline in output during
the Italian debt crisis.
   Our approach could be generalized along other dimensions. The sovereign debt litera-
ture has suggested several mechanisms through which sovereign risk affects the economy,
for example, by disrupting international trade or by hindering firms’ investment plans be-
cause of increased uncertainty about fiscal policy. We believe that a fruitful avenue for
future research would be to exploit the cross-sectional variation that is present in firm-level
datasets to test and quantify these theories. We leave these applications to future research.




                                                 42
References
Aguiar, Mark and Manuel Amador. 2013. “Take the short route: How to repay and restructure
  sovereign debt with multiple maturities.” Tech. rep., National Bureau of Economic Research.

Aguiar, Mark, Manuel Amador, and Gita Gopinath. 2009. “Investment cycles and sovereign debt
  overhang.” The Review of economic studies 76 (1):1–31.

Aguiar, Mark and Gita Gopinath. 2006. “Defaultable Debt, Interest Rates and the Current Account.”
  Journal of International Economics 69:64–83.

Altavilla, Carlo, Marco Pagano, and Saverio Simonelli. 2017. “Bank exposures and sovereign stress
  transmission.” Review of Finance 21 (6):2103–2139.

Arellano, Cristina. 2008. “Default Risk and Income Fluctuations in Emerging Economies.” American
  Economic Review 98 (3):690–712.

Arellano, Cristina, Andrew Atkeson, and Mark Wright. 2016. “External and Public Debt Crises.”
  NBER Macroeconomic Annual .

Arellano, Cristina, Yan Bai, and Patrick J. Kehoe. 2016. “Financial Frictions and Fluctuations in
  Volatility.” Staff Report No. 466, Federal Reserve Bank of Minneapolis.

Arellano, Cristina, Yan Bai, and Jing Zhang. 2012. “Firm Dynamics and Financial Development.”
  Journal of Monetary Economics 59 (6):533–549.

Bahaj, Saleem. 2019. “Sovereign Spreads in the Euro Area: Cross Border Transmission and Macroe-
  conomic Implications.” Journal of Monetary Economics .

Beraja, Martin, Philip Hurst, and Juan Ospina. 2018. “The Aggregate Implications of Regional
  Business Cycles.” MIT Working Paper.

Bocola, Luigi. 2016. “The pass-through of sovereign risk.” Journal of Political Economy 124 (4):879–926.

Bofondi, Marcello, Luisa Carpinelli, and Enrico Sette. 2017. “Credit supply during a sovereign debt
  crisis.” Journal of the European Economic Association 16 (3):696–729.

Bottero, Margherita, Simone Lenzu, and Filippo Mezzanotti. 2015. “The Lending Channel at the
  Onset of the Sovereign Crisis.” Manuscript, Harvard Business School.

———. 2017. “Sovereign debt exposure and the bank lending channel: impact on credit supply and
  the real economy.” .

Buera, Francisco, Joseph Kaboski, and Yongseok Shin. 2011. “Finance and Development: A Tale of
  Two Sectors.” American Economic Review 101 (5):1964.2002.

Buera, Francisco J and Benjamin Moll. 2015. “Aggregate Implications of a Credit Crunch: The
  Importance of Heterogeneity.” American Economic Journal: Macroeconomics 7 (3):1–42.


                                                  43
Caliendo, Lorenzo, Maximiliano Dvorkin, and Fernando Parro. forthcoming. “Trade and Labor
  Market Dynamics: General Equilibrium Analysis of the China Trade Shock.” Econometrica .

Chatterjee, Satyajit and Burcu Eyigungor. 2012. “Maturity, Indebtedness, and Default Risk.” Ameri-
  can Economic Review 102 (6):2674–2699.

Chodorow-Reich, Gabriel, John Coglianese, and Loukas Karabarbounis. 2018. “The Macro Effects
  of Unemployment Benefit Extensions: a Measurement Error Approach.” The Quarterly Journal of
  Economics 134 (1):227–279.

Christopoulou, Rebekka and Philip Vermeulen. 2012. “Markups in the Euro area and the US over
  the period 1981–2004: a comparison of 50 sectors.” Empirical Economics 42 (1):53–77.

Cooley, Thomas and Vincenzo Quadrini. 2001. “Financial Markets and Firm Dynamics.” American
  Economic Review 91 (5):1286.1310.

Corsetti, Giancarlo, Keith Kuester, André Meier, and Gernot J. Müller. 2013. “Sovereign Risk, Fiscal
  Policy, and Macroeconomic Stability.” Economic Journal 123 (566):99–132.

de Ferra, Sergio. 2016. “Sovereign Debt Crises, Fiscal Austerity and Corporate Default.” Working
  Paper Stockholm University.

De Marco, Filippo. 2017. “Bank lending and the European sovereign debt crisis.” .

Eaton, Jonathan and Mark Gersovitz. 1981. “Debt with Potential Repudiation: Theoretical and
  Empirical Analysis.” Review of Economic Studies 48:289–309.

Fahri, Emmanuel and Jean Tirole. 2014. “Deadly Embrace: Sovereign and Financial Balance Sheets
  Doom Loops.” Manuscript, Harvard University.

Foster, Lucia, John Haltiwanger, and Chad Syverson. 2008. “Reallocation, Firm Turnover, and Effi-
  ciency: Selection on Productivity or Profitability?” American Economic Review 98 (1):394.425.

Gennaioli, Nicola, Alberto Martin, and Stefano Rossi. 2014. “Sovereign Default, Domestic Banks
  and Financial Institutions.” Journal of Finance 69 (2):819–866.

———. 2018. “Banks, government bonds, and default: What do the data say?” Journal of Monetary
  Economics .

Gertler, Mark and Peter Karadi. 2011. “A model of unconventional monetary policy.” Journal of
  monetary Economics 58 (1):17–34.

Gertler, Mark and Nobuhiro Kiyotaki. 2010. “Financial intermediation and credit policy in business
  cycle analysis.” In Handbook of monetary economics, vol. 3. Elsevier, 547–599.

Gopinath, Gita, Sebnem Kalemli-Ozcan, Loukas Karababounis, and Carolina Villegas-Sanchez. 2015.




                                                  44
  “Capital Allocation and Productivity in South Europe.” Working Paper No. 728, Federal Reserve
  Bank of Minneapolis.

Gourinchas, Pierre-Olivier, Thomas Philippon, and Dimitri Vayanos. 2016. The Analytics of the Greek
  Crisis. University of Chicago Press, 1–81.

Gourio, François. 2012. “Disaster Risk and Business Cycles.” American Economic Review 102 (6):2734–
  2766.

Hagedorn, Marcus, Fatih Karahan, Iourii Manovskii, and Kurt Mitman. 2013. “Unemployment
  benefits and unemployment in the great recession: the role of macro effects.” Tech. rep., National
  Bureau of Economic Research.

Hebert, Benjamin and Jesse Schreger. 2016. “The Costs of Sovereign Default: Evidence from Ar-
  gentina.” Manuscript, Harvard Business School.

Kaas, Leo, Jan Mellert, and Almuth Scholl. 2016. “Sovereign and Private Default Risk over the
  Business Cycle.” Working Paper University of Konstanz.

Kahn, Aubhik and Julia K. Thomas. 2013. “Credit Shocks and Aggregate Fluctuations in an Economy
  with Production Heterogeneity.” Journal of Political Economy 121 (6):1055.1107.

Kalemli-Ozcan, Sebnem, Luc Laeven, and David Moreno. 2018. “Debt Overhang, Rollover Risk,
  and Corporate Investment: Evidence from the European Crisis.” Tech. rep., National Bureau of
  Economic Research.

Kaplan, Greg, Benjamin Moll, and Giovanni L. Violante. 2018. “Monetary Policy According to
  HANK.” American Economic Review 108 (3):697–743.

Khwaja, Asim Ijaz and Atif Mian. 2008. “Tracing the impact of bank liquidity shocks: Evidence
  from an emerging market.” American Economic Review 98 (4):1413–42.

Levinsohn, J. and A. Petrin. 2003. “Estimating Production Function using Inputs to Control for
  Unobservables.” Review of Economic Studies 70:317–341.

Lyon, Spencer G. and Michael E. Waugh. 2018. “Quantifying the Losses from International Trade.”
  Unpublished manuscript, NYU Stern.

Mendoza, Enrique G. and Vivian Z. Yue. 2012. “A General Equilibrium Model of Sovereign Default
  and Business Cycles.” Quarterly Journal of Economics 127 (2):889.946.

Mendoza, Erique G., Linda L. Tesar, and Jing Zhang. 2014. “Saving Europe?: The Unpleasant
  Arithmetic of Fiscal Austerity in Integrated Economies.” NBER Working Paper 20200.

Midrigan, Virgiliu and Daniel Y. Xu. 2014. “Finance and Misallocation: Evidence from Plant-Level
  Data.” American Economic Review 104 (2):422.458.



                                                45
Muller, Andreas, Kjetil Storesletten, and Fabrizio Zilibotti. 2018. “Sovereign Debt and Structural
  Reforms.” University of Oslo Working Paper.

Nakamura, Emi and Jon Steinsson. 2014. “Fiscal stimulus in a monetary union: Evidence from US
  regions.” American Economic Review 104 (3):753–92.

Neumeyer, Pablo A. and Fabrizio Perri. 2005. “Business Cycles in Emerging Economies: The Role
  of Interest Rates.” Journal of Monetary Economics 52 (2):345–380.

Perez, Diego J. 2015. “Sovereign Debt, Domestic Banks and the Provision of Public Liquidity.”
  Manuscript, New York University.

Sosa Padilla, César. 2013. “Sovereign Defaults and Banking Crises.” Manuscript, McMaster Univer-
  sity.

Tauchen, George. 1986. “Finite state markov-chain approximations to univariate and vector autore-
  gressions.” Economics letters 20 (2):177–181.

Uribe, Martin and Vivian Z Yue. 2006. “Country Spreads and Emerging Countries: Who Drives
  Whom?” Journal of international Economics 69 (1):6–36.

Wooldridge, Jeffrey M. 2009. “On Estimating Firm-Level Production Function using Proxy Variables
  to Control for Unobservables.” Economic Letters 104:112–114.




                                                  46
    Online Appendix to “Sovereign Default Risk and Firm
                      Heterogeneity"
                     by Cristina Arellano, Yan Bai, and Luigi Bocola


A      Data sources

A.1     ORBIS-AMADEUS
The construction of the firm-level dataset follows closely the work of Gopinath et al. (2015).
Here we report some basic information, and we refer the reader to that paper for additional
details. We use firm-level data on Italian firms from ORBIS-AMADEUS, accessed online
through Wharton Research Data Services (WRDS). The data set has detailed balance sheet
information for public and privately held firms, and use only the unconsolidated data on
active firms.
    We clean this dataset in a series of steps. First, we control for basic reporting mistakes by
dropping firm-year observations with negative values for total assets, tangible fixed assets,
number of employees, and operating revenues. Second, we drop firms that have missing
values for the variables of interest over the 2007-2015 period. Finally, we winsorize variables
at the 1st and 99th percentile and deflate monetary values using the Italian consumer price
index (CPI) obtained from FRED. The data used in our benchmark specifications therefore
comprise a balanced panel of approximately 225,000 firms operating continuously between
2007 and 2015.
    In the production function estimation, we restrict the analysis to all the firms in our
sample that operate in manufacturing (NACE codes 10-33). We correct further reporting
mistakes by dropping firm-year observations with missing or negative values for mate-
rial costs and wage bill, and with missing values for value added, where value added is
calculated as the difference between operating revenue and material costs. As a result of
these additional steps, we are left with a balanced panel of firms with 425,168 firm-year
observations over the 2007-2015 period.
    For the firm-level regressions in Table 3, we use the following variables (in emphasis the
AMADEUS mnemonics)

Sales growth: We compute the symmetric percentage changes, defined as the ratio of
change in operating revenues (opre) relative to the previous year to the average operating




                                               47
revenues in those years,
                                                        opret − opret−1
                                     growtht = 200                      .
                                                        opret + opret−1


Leverage: Ratio of short term debt (loan) relative to total assets (toas).

Profitability: Ratio of profit (plbt) to sales (opre).

Size: Log of total assets (toas).


A.2     Bankscope and Bank of Italy reports
From Bankscope, we extract balance sheet data for banks headquartered in Italy. We keep
data only for 2007, and drop observations with no information on total assets (totalassets),
total equity (totalequity) and holdings of government bonds (memogovernmentsecuritiesin-
cluded). We then map the city of incorporation (city) to one of the twenty Italian regions:
Abruzzo, Basilicata, Calabria, Campania, Emilia-Romagna, Friuli-Venezia Giulia, Lazio,
Liguria, Lombardia, Marche, Molise, Piemonte, Puglia, Sardegna, Sicilia, Toscana, Trentino-
Alto Adige, Umbria, Valle d’Aosta, and Veneto. We use these data to construct exposureloc
                                                                                      j
for each region j defined in the main text, and exposurenat
                                                        i,j for the five largest banks by total
assets in 2007.
    We obtain the number of banks’ branches for the national banks using Bank of Italy Albi
and Elenchi Vigilanza which can be accessed at https://www.bancaditalia.it/compiti/
vigilanza/albi-elenchi/. We manually use the website query to obtain the geographic
distribution of bank branches for UNICREDIT, Intesa-Sanpaolo, Monte dei Paschi di Siena,
Banca Nazionale del Lavoro and Banco Popolare. The branches are reported at the city
level as of December 31st 2007, and we use ZIP codes to aggregate branches at the regional
level. The total number of banks’ branches as of December 31st 2007 for each region is
obtained from the Bank of Italy Base Dati Statistica. The series name is TDB20207.


B     Proofs
Proof of Lemma 1 Taking as given the aggregate demand and wage, a firm (z, λ) in region
j with state X j = ( pd , ν, Nj ) chooses capital and labor to maximize its profit (7) subject to
the demand schedule (3) and financing requirement (6). In equilibrium the optimal capital
satisfies
                                          η                     (1− α ) η                               1
                  k (z, λ, X j ) = Mk z 1−η Y ( X j )w( X j )     η −1          1 − λ + λR( X j )       η −1
                                                                                                               ,


                                                       48
                                                        1 − α rk
                                      `(z, λ, X j ) =                k (z, λ, X j ),
                                                          α w( X j )
                                                                 rk
                                           b(z, λ, X j ) = λ        k (z, λ, X j ),
                                                                 α
                                y(z, λ, X j ) = zk (z, λ, X j )α `(z, λ, X j )1−α ,

where the constant Mk is given by

                                 1                           1            1−(1−α)η
                                                              1− η        −
                  Mk = (1 − τ ) 1−η ηα1−(1−α)η (1 − α)(1−α)η       ( r k ) 1− η .

Aggregating up y(z, λ, X j ) and `(z, λ, X j ) and applying the market clearing conditions and
family’s optimal condition w( X j ) = χL( X j )γ , we get the equilibrium wage and output as
                                                                           (1− η ) / (1− α )
in equation (18) and (19) with the constants Mw = My                                           and My as
                                                 1− α                                                1
                                          1−α
                                      
                                1                                                                 
                                                                1−(1−α)η              (1− α ) η       1− η            − 1−α η
              My = ( 1 − τ )   1− η                        ηα              (1 − α )                          (r k )             .
                                           α

Summing over the loan demand b(z, λ, X j ) over (z, λ) and using the equilibrium (18) and
(19), we get the total loan demand of firms and the loan market condition (17) where
                            (1+γ)(1−η )/(γ(1−α))
Mn = α/(χ(1 − α)rk ) My                                 . Q.E.D


Proof of Proposition 1 Recall that the state of region j is given by
                                            h                                      i
                                      X jt = pdt , Λt , Njt (St , Bt , Dt , Bt+1 )                                                  (A.1)

with St = {νt , pdt , Λt }. Here we consider small shocks so that there are no default in
equilibrium, and the net worth of each region Njt is a function of ( pdt , νt , Λt , Bt , Bt+1 ). Using
the definition of spread from equation (16), we can rewrite the net worth equation (8) with
spread,
                                                                        ϑ
                             Njt = n̄ j + ωϕ j (1 − ϑ )                            Bt .                                             (A.2)
                                                                ϑ + 1/β − 1 + sprt

  Given that pdt , νt , , Λt , and Bt+1 only affect Njt through their impacts on spread sprt , we
can define a function of net worth on spread and B as Ñj (sprt , Bt ) = Njt pdt , νt , Λt , Bt , Bt+1
                                                                                                       

where the spread sprt is the evaluation of the spread function spr ( pd , ν, Λ, B) at period t’s
state, i.e.
                    sprt = spr ( pdt , νt , Λt , Bt ) = HS ( pdt , νt , Bt+1 ( pdt , νt , Λt , Bt )).                               (A.3)

   Consider approximating linearly log pyijt = f (λi , zijt ; X jt ) around a point (λi , z0 ; X 0j ). We



                                                            49
can follow standard steps and consider a first order Taylor expansion,

                                         η
log pyi,j,t − f (λi , z0 ; X 0j ) ≈         (log zijt − log z0 ) + f p (λi , z0 ; X 0j )( pdt − p0d ) + f ν (λi , z0 ; X 0j )(νt − ν0 ),
                                        1−η
                                                                                                                           (A.4)
and use equation (20) to obtain these derivatives:
                                                 h                 i
                                                 ( η (1− α )
                            ∂ log Y ( X jt ) −     (1− η )
                                                               log w( X jt ) 1 − η ∂R( X jt )
f p (λi , zijt ; X jt ) =                                                   −      λi                           (A.5)
                                                 ∂pdt                           η       ∂pdt
                                                    h             i
                                                      ( η (1− α )
                                ∂ log Y ( X jt ) − (1−η ) log w( X jt ) ∂Njt ∂spr            1 − η ∂R( X jt ) ∂Njt ∂sprt
                                                                                        t
                            +                                                         d
                                                                                          −       λi
                                                     ∂Njt                     ∂sprt ∂pt        η     ∂Njt ∂sprt ∂pdt


                                                 h                 i
                                                     ( η (1− α )
                            ∂ log Y ( X jt ) −         (1− η )
                                                                       log w( X jt ) ∂Njt ∂spr     1 − η ∂R( X jt ) ∂Njt ∂sprt
                                                                                               t
f ν (λi , zijt ; X jt ) =                                                                        −      λi                     .
                                                 ∂Njt                                ∂sprt ∂νt       η     ∂Njt ∂sprt ∂νt
                                                                                                                          (A.6)

Note that from (A.1), pdt enters the state of the region in two ways. First, it affects the private
economy directly. Second, it affects the net worth of banks since the productivity shock
affects the government’s default incentive and hence spread of the government. Hence f p
includes the derivatives of prices and output on pdt itself and the derivatives through net
worth.
   Plugging the derivatives (A.5) and (A.6) into the Taylor expansion (A.4) and combining
terms, we have

                                              η
   log pyi,j,t ≈ f (λi , z0 ; X 0j ) +              (log zijt − log z0 )
                                          1−η
                                         h             i
                                           ( η (1− α )
                    ∂ log Y ( X jt ) − (1−η ) log w( X jt )                           1 − η ∂R( X jt ) d
                                                                        d      d
                  +                                                 ( p t  − p 0 ) −          λi          ( pt − p0d )
                                          ∂pdt                                           η         ∂pdt
                                         h             i
                                           ( η (1− α )
                    ∂ log Y ( X jt ) − (1−η ) log w( X jt ) ∂Njt ∂spr
                                                                             "                                          #
                                                                                     t     d     d     ∂sprt
                  +                                                                    ( p t − p0 ) +        (νt − ν0 )
                                         ∂Njt                        ∂sprt ∂pdt                         ∂νt
                                                     "                                           #
                    1−η       ∂R  ( X jt )  ∂N   jt     ∂sprt d              ∂sprt
                  −       λi                               d
                                                              ( pt − p0d ) +         (νt − ν0 ) .                      (A.7)
                       η        ∂Njt ∂sprt ∂pt                                 ∂νt


   The government’s spread varies with both productivity shock pdt and the default cost
shock νt . Assuming Bt = B0 , the first order Talyor expansion over the spread function (A.3)



                                                                           50
implies
                             "             #                                    
                                     ∂Bt+1      d    d                     ∂Bt+1
       sprt − spr0 = HS,1,t + HS,3,t         ( pt − p0 ) + HS,2,t + HS,3,t         (νt − ν0 )
                                      ∂pdt                                  ∂νt
                             ∂spr d              ∂spr
                         =      d
                                  ( pt − p0d ) +      (νt − ν0 ).                                                                          (A.8)
                             ∂pt                  ∂νt

where HS,i,t is the derivative of function HS over its ith argument at period t. Note that
                                                                                                                             ∂spr
the second equation holds because the derivatives of equation (A.3) shows ∂pd = HS,1,t +
                     h                    i                                    t
      ∂Bt+1    ∂spr                 ∂Bt+1                  ∂spr  d    d     ∂spr
HS,3,t ∂pd and ∂νt = HS,2,t + HS,3,t ∂νt . We can replace ∂pd ( pt − p0 ) + ∂νt (νt − ν0 ) in
          t                                                                                           t
equation (A.7) with sprt − spr0 . For ∂Nj /∂spr in equation (A.7), we can take the partial
derivative of Njt over sprt in equation (A.2) and evaluate it at B0 , which ends up with
∂Nj /∂spr = − B0 ϑ/(ϑ + 1/β − 1 + spr0 )2 ωϕ j ≡ − Mq ϕ j . Collecting the constant terms
together as δi and using the definition of β s,j , β p,j , γs,j , and γ p,j in (23), we have equation
(22) in Proposition 1. Q.E.D


Proof of Corollary 1 Aggregate output is the sum of the output in each region,
                                                                                                          
                                 Yt =   ∑ Yjt       pdt , Λt , Ñj         spr ( pdt , νt , Λt , Bt ), Bt          ,
                                        j


where Ñj (sprt , Bt ) and spr ( pdt , νt , Λt , Bt ) are the same as in the Proof of Proposition 1. Let
π j = Yj /Y be the output share of region j at { X 0j }. Using the first order approximation, we
have
                                                                       ∂ log Yjt ∂Njt
                             log Yt − log Y0 =             ∑ πj          ∂Njt ∂sprt
                                                                                      (sprt − spr0 ).
                                                               j

Recall that the coefficients of γs,j and β s,j in equation (22):
                                                                                            h               i
                                                                                                η (1− α )
                           η ∂R jt ∂Njt                                      ∂ log Yjt −          1− η          ∂ log w jt ∂Njt
              γs,j = −                                             β s,j =
                         1 − η ∂Njt ∂sprt       X 0j                                          ∂Njt                         ∂sprt    X 0j


Applying the equilibrium condition (18) and (19), we have
                                               h               i
                                                   η (1− α )
                                                                                          
                                 ∂ log Yjt −  ∂ log w jt ∂Njt
                                                     1− η          γη (1 − α)    1 dNjt 
log Yt − log Y0 = ∑ π j                                       +                             (sprt − spr0 )
                  j
                                      ∂Njt               ∂sprt   (1 + γ)(1 − η ) Nj0 ∂sprt
                                  γη (1 − α)     1 dNjt
                                                         
                = ∑ π j β s,j +                             (sprt − spr0 )                           (A.9)
                  j
                                (1 + γ)(1 − η ) Nj ∂sprt



                                                                        51
Under the assumption of binding leverage constraint, the loan market clearing condition
for each region j implies

                                                                                                                   1
                 1 ∂Njt      (1 + γ)(1 − η ) η 1                                    h                        i−
                                                                        ∑ π (λ)λ                         f        1− η
                          =−                                                            1 − λ + λR
                 Nj ∂R jt      γη (1 − α) 1 − η Rw                       λ

Applying the equation for γs,j , we have

                                           ∂Njt          1 − η ∂Njt
                                                 = −γs,j            .
                                           ∂sprt           η ∂R jt

Hence
                                                                    h                           i−    1
                                                                                                     1− η
                                                                        1 + λ( R( X 0j ) − 1)
                                                        R
                    γη (1 − α)    1 ∂Njt          λλ                                                         dΛλ
                                           = γs,j                                                  η                     (A.10)
                  (1 + γ)(1 − η ) Nj ∂sprt        R h                       0
                                                                                            i   − 1− η
                                                            λ 1 + λ ( R ( X j ) − 1)                     dΛλ

Plugging equation (A.10) into (A.9), we get Corollary 1. Q.E.D


Proof of Proposition 2 Assume banks’ leverage constraint bind at X 0j . Loan market clear-
ing condition (17) holds with equality. Taking first order condition over (17), we can get

                  η ∂R jt ∂Njt
    γs,j = −
                1 − η ∂Njt ∂sprt    X 0j
                                       h                   i− η
                                                        0)     1− η
                           ∑
              η γ (1 − α ) λ  π  ( λ )   1 − λ + λR ( X j           1           ωB0 ϑ
         =−                                                                                     ϕj.
            1 − η (1 + γ )              h                   i − 1−η N 0 ( ϑ + 1/β − 1 + spr0 )2
                                                                 1

                           ∑λ π (λ)λ 1 − λ + λR( X 0j )              j



It is easy to see that γs,j < 0. For the two regions with the same net worth, N10 = N20 ,
they will have the same firm borrowing rate, R( X10 ) = R( X20 ). Hence, ϕ1 ≤ ϕ2 implies
γs,1 > γs,2 .
   The indirect effect is captured by β s,j , which takes the following form
                                            h          i− 21−−ηη               h        i− 1−η η 
                                                    0
                 ν (1 − α )   ∑λ π (λ)λ Rλ ( X j )                 ∑λ π (λ) Rλ ( X 0j )           1          ωB0 ϑ
β s,j = − 
          1 − (1 − η )(1 + ν)          h            i− 1−1 η               h            i− 1−1 η  N 0 (ϑ + 1/β − 1 + spr )2 ϕ j
                                                                                                  
                                                                                                                          0
                               ∑λ π (λ)λ Rλ ( X 0j )                ∑λ π (λ) Rλ ( X 0j )             j



where Rλ ( X 0j ) = 1 − λ + λR( X 0j ). Q.E.D




                                                         52
C      Numerical solution
We solve the model in two steps. The first step solves a pseudo private equilibrium. The
second step solves the Markov equilibrium where the government takes as given the private
responses over its default and debt choices.
    We have already shown in the main text that the government’s decisions affect the pri-
vate economy through banks’ net worth, which in terms determines firms’ borrowing rate.
Furthermore, it is also easy to show that firms’ borrowing rate R decreases monotonically
with banks’ net worth. In the private equilibrium, under a given shock and firm distribu-
tion, there must be a level of net worth associated with a firms’ borrowing rate R ≥ 1/β.
This motives us to solve a pseudo private equilibrium in the first step. For each state
X̂ = (Λ, R), we compute the private equilibrium of {Y ( X̂ ), w( X̂ ), T ( X̂ ), L( X̂ ), B f ( X̂ ),
k (z, λ; X̂ ), `(z, λ; X̂ ), where B f ( X̂ ) is the aggregate loan demand of the firms in region
(Λ, R f ), i.e.
                                                           1
                                                 Z
                                  B f ( X̂ ) =            λ rk k (z, λ; X̂ )dΛ.
                                                     (z,λ) α

    In the second step, we solve the government’s problem taking as given the private equi-
librium. In particular, for any state ( p, ν, Λ, B) and the government’s choice ( D, B0 ), the
state for the private economy becomes X = (S, Λ, B, D, B0 ) with S = (ν, pd , Λ). The implied
banks’ net worth Nj ( X ) in region j is given by

      Nj ( X ) = N̄j + ω j (1 − D (S, B))q(S, B0 ( B))(1 − ϑ ) B + D (S, B)q(S, B0 ( R))(1 − ϑ ) R .
                                                                                                 


The pseudo private state is X̂ j ( X ) = (Λ j , R j ( X )) with R j ( X ) = β if (1 − θ ) B f (Λ j , β) ≤
Nj ( X ), otherwise R j ( X ) is given by the inverse of the aggregate private loan demand, i.e.

                                                 −1
                                                 f
                                    R j ( X ) = Bj    ( Nj ( X ); Λ j ).

    We now describe in details the computation algorithm.


C.1     Step 1: computation for private equilibrium
We compute the private equilibrium by iterating over the market prices {Y, w} for any
given private state X̂ = (Λ, R).
    1. We discretize the idiosyncratic productivity shock into two points (z L , z H ). With two
       points, we only need to track the fraction of z L in each period. We abuse notation and
       use Λz for the fraction of z L in the firms’ distribution. We construct the state space


                                                          53
  for Λz ∈ (0, 1). The finance requirements λ also takes two values λ L and λ H . The
  probabilities are given by Λλ , which are time invariant.
2. Construct Λz -specific state space for interest rate R(Λz ) ∈ [1/β, Rmax (Λz )].
3. Compute the equilibrium {Y, w}( X̂ ) for each grid of (Λz , R):

                                                                        "                                                                  #!      1− η
                                                                                                                                  η              η (1− α )

                                              ∑ π (z; Λz )z ∑ Λλ (λ) [1 − λ + λR]
                                       η                                                                                     − 1− η
                w( X̂ ) =            My
                                                                                λ

                                                                                   1−η +(1−αη )ν
                                                  h                          η i
                                                                           −         νη (1−α)
                                 My [∑ π (z; Λz )z] ∑λ Λλ (λ) [1 − λ + λR] 1−η
                                  η

              Y ( X̂ ) =
                                                                                 − 1
                                                         h                            i
                                     M` χ [∑ π (z; Λz )z] ∑λ Λλ (λ) [1 − λ + λR] 1−η

                                                                            "                                                                  #! 1+ν        (1− η )
                                                                                                                                                        ν   η (1− α )
                       Mk                                                                                                              η
                                                  ∑ π (z; Λz )z ∑ Λλ (λ) [1 − λ + λR]
                                       η                                                                                      − 1− η
           K ( X̂ ) =                 My
                      χM`                                                           λ
                                                                    "                                                                           #!        1− η
                                                                                                                                                        νη (1−α)
                        1                                                                                                            η
                                          ∑ π (z; Λz )z ∑ Λλ (λ) [1 − λ + λR(X )]
                                     η                                                                                          − 1− η
            L( X̂ ) =            My
                        χ                                                   λ


                                                                        "                                                               #! 1+ν           (1− η )
                                                                                                                                                    ν   η (1− α )
                         M                                                                                                       η
                                              ∑ π (z; Λz )z ∑ Λλ (λ) [1 − λ + λR]
                                                                                                                              − 1− η
          k(z, λ; X̂ ) = k
                                                                   
                                                                                                                                                                    ×
                        χM`                                                 λ
                                                                                          1
                                                                                    −
                                          z [1 − λ + λR] 1−η
                                                                  − 1
                                            h                          i
                            [∑ π (z; Λz )z] ∑λ Λλ (λ) [1 − λ + λR] 1−η

                                                            "                                                                 #!− 1
                                                                                                                                           η
                                                                                                                                                1                       − 1−1 η
                                                                                                                       η
                                     ∑ π (z; Λz )z ∑ Λλ (λ) [1 − λ + λR]
                                                                                                                  − 1− η
   y(z, λ; X̂ ) = Y ( X̂ )                                                                                                                     z η [1 − λ + λR]
                                                                λ

  where
                                                                                                       1                  1−(1−α)η
                                                    1−(1−α)η                            (1− α ) η       1− η            −
                             Mk = ηα                            (1 − α )                                       (r k )         1− η



                          1 − α  1−(1−α)η                    1            αη
                                                    (1− α ) η 1− η        −
                    M` =          ηα       (1 − α )                ( r k ) 1− η
                            α
                               1 − α 1−α  1−(1−α)η                         1
                                    
                   α 1− α                                                   1− η        − α
             My = Mk M` =                 ηα           ( 1 − α ) (1− α ) η       ( r k ) 1− η
                                 α




                                                                        54
  4. Construct total tax T ( X̂ ) = τY ( X̂ ) and aggregate loan demand function B f ( X̂ )
                                                                                                  
                                                                  1
                                    f
                                 B ( X̂ ) =           ∑          λ rk k (z, λ; X̂ )π (z; Λz )Λλ (λ) .
                                                                  α
                                                     (z,λ)


C.2    Step 2: computation for the Markov equilibrium
Taking given the functions of B f (Λ, R) and T (Λ, R), the government solve its problem. Let
Ψ be the conditional CDF of default cost shock ν. We solve the following problem:
  Define the expected value HV as follows
                                                                                                               Z                               
                    0                   0       0                ∗      0     0        ∗   0      0                                 0       0
       HV (S, B ) = βES V (S , B ) + Ψ(ν (S , B )|ν)ν (S , B ) −                                                                   ν dΨ(ν |ν)
                                                                                                                    ν∗ (S0 ,B0 )


  1. Construct a large set of grids for ν.
                   {0}                                                                                               {0}
  2. Guess HV (S, B0 ), q{0} (S, B0 ) =                                       and tax revenue Tx,j (S, B, D, B0 ) as follows.
                                                               βϑ
                                                           1− β (1− ϑ )
                                                                        ,
      Let                                                                              h                                                i
                          {n}
                         Nj (S, B, D, B0 )           = N̄j + ω j (1 − D ) q                {n}              0
                                                                                                 (S, B ( B))(1 − ϑ) B .
            {n}
      If Nj       (S, B, D, B0 )/(1 − θ ) ≥ B f (Λ j , 1/β) for region j

                                                     {n}
                                                Tx,j (S, B, D, B0 ) = T (Λ j , 1/β);

      otherwise
                                                                      −1                                                             
                           {n}                                                     {n}
                          R j (S, B, D, B0 )          = B         f
                                                                                  Nj (S, B, D, B0 )/(1 − θ ), Λ j

      and                                                                         
                                    {n}                           {n}
                                   Tx,j (S, B, D, B0 ) = T Λ j , R j (S, B, D, B0 ) .

  3. Solve the government’s problem

                                                                                                      {n}
                                    V {n+1} (S, B) = max u g ( G ) + βHV (S, B0 )
                                                                       G,B0


      subject to

                                        ∑ Tx,j
                                                    {n}
                                                          (S, B, D, B0 ) + q{n} (S, B0 ) B0 − (1 − ϑ) B .
                                                                                                      
                         G + ϑB =
                                            j




                                                                        55
4. We update the default cutoff ν∗

                                   ν∗ (S, B) = V {n+1} (S, 0) − V {n+1} (S, B),

  HV function
                                                                                                    Z                                    
   { n +1}
  HV       (S, B0 )      = βES V    { n +1}     0   0                ∗   0   0   ∗
                                              (S , B ) + Ψ(ν (S , B )|ν)ν (S , B ) − 0     0                             0
                                                                                                                        ν dΨ(ν |ν) ,  0
                                                                                                         ν∗ (S0 ,B0 )


  q schedule
                                     n                                                                                      o
             { n +1}       0                            ∗   0    0                       {n}     0        00        0
         q             (S, B ) = βES [1 − Ψ(ν (S , B ))] ϑ + (1 − ϑ)q                          (S , B (S, B ))                    .


5. Iterate procedure 3 to 5 until q and HV function converge.




                                                            56
