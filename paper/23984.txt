                                NBER WORKING PAPER SERIES




         FINANCIAL CRISES, DOLLARIZATION, AND LENDING OF LAST RESORT
                              IN OPEN ECONOMIES

                                           Luigi Bocola
                                          Guido Lorenzoni

                                         Working Paper 23984
                                 http://www.nber.org/papers/w23984


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                             November 2017, Revised June 2018




Previously circulated as "Financial Crises and Lending of Last Resort in Open Economies." First draft:
August 29, 2016. We thank Mark Aguiar, Fernando Alvarez, Javier Bianchi, Charles Brendon,
Fernando Broner, Alessandro Dovis, Pierre-Olivier Gourinchas, Anton Korinek, Matteo Maggiori,
Fabrizio Perri, and participants at EIEF, CSEF-IGIER 2016, EEA-ESEM 2016, Cambridge-INET
2016, ASSA 2017, CREI, PSE, Boston College, Cornell, Carnegie Mellon, Wharton, University of
Chicago, MFS 2017 spring meeting, IMF, Federal Reserve Bank of Richmond, SED 2017, NBER SI
2017, ITAM-PIER 2017, Stanford SITE 2017, Federal Reserve Board, Columbia, NYU, Duke, UNC,
MIT, Harvard, the BIS, Notre Dame, UCLA, and UBC. Jane Olmstead-Rumsey provided excellent
research assistance. The views expressed herein are those of the authors and not necessarily those of
the Federal Reserve Bank of Minneapolis, the Federal Reserve System, or the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2017 by Luigi Bocola and Guido Lorenzoni. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including ©
notice, is given to the source.
Financial Crises, Dollarization, and Lending of Last Resort in Open Economies
Luigi Bocola and Guido Lorenzoni
NBER Working Paper No. 23984
November 2017
JEL No. E44,F34,F41,G11,G15

                                              ABSTRACT

Foreign currency borrowing is perceived as a source of financial instability in emerging markets. We
propose a theory where liability dollarization arises from an insurance motive of domestic savers. Because
financial crises are associated with currency depreciations, savers are reluctant to hold assets denominated
in local currency. This behavior makes local currency debt expensive, incentivizing borrowers to issue
foreign currency debt. We show that this mechanism can generate multiple equilibria, with the bad
equilibrium characterized by dollarization and financial instability. A domestic lender of last resort
can eliminate the bad equilibrium, but interventions need to be fiscally credible. Holdings of foreign
currency reserves hedge the fiscal position of the government and enhance its credibility, thus improving
financial stability.


Luigi Bocola
Department of Economics
Northwestern University
2001 Sheridan Road
Evanston, IL 60208
and NBER
luigi.bocola@northwestern.edu

Guido Lorenzoni
Department of Economics
Northwestern University
2211 Campus Dr
Evanston, IL 60208
and NBER
guido.lorenzoni@northwestern.edu
1     Introduction
Emerging economies are exposed to recurrent episodes of financial instability. At least
since the East Asian crisis of 1997, this instability has been linked to the presence of debt
denominated in foreign currency issued by banks, firms, or households. These various
forms of liability dollarization can amplify the effects of financial crises, as crises are typ-
ically associated with currency depreciations, and depreciations increase the real burden
of foreign currency debt. Liability dollarization also makes it challenging for domestic
authorities to intervene in financial markets when a crisis takes place: covering the losses
of local borrowers by expanding domestic money supply can lead to inflationary concerns
and exacerbate the currency depreciation, while using government borrowing may lead to
concerns about public debt sustainability.
    While we have a good understanding of the mechanisms by which foreign currency debt
makes emerging economies more fragile, we still have a relatively limited understanding
of the incentives that drive the accumulation of foreign currency debt in the first place. In
this paper we build a theory of liability dollarization and study how it interacts with policy
interventions, focusing in particular on operations of lending of last resort.
    Our theory builds on two observations emphasized in recent empirical work. First, coun-
tries characterized by high levels of liability dollarization are also countries where domestic
agents tend to save in foreign currency.1 Second, local currency bonds in these economies
are characterized by positive excess returns over comparable dollar bonds, which effec-
tively means that borrowing in dollars is cheaper than borrowing in local currency.2 In our
theory, both facts are driven by the incentives of domestic savers to insure against a crisis.
Because crises are associated with a depreciation of the local currency, domestic savers are
reluctant to hold local currency assets. This behavior puts upward pressure on local cur-
rency interest rates, incentivizing domestic borrowers to issue debt in foreign currency. We
show that this mechanism can lead to multiple equilibria, with a bad equilibrium charac-
terized by higher excess returns on domestic currency bonds, more financial dollarization,
and a higher probability of crises. In line with this logic, and in contrast with the con-
ventional view, we also show that ex-post government interventions that reduce financial
instability can induce the private sector to take safer choices ex ante: by reducing savers’
demand for insurance, they can lead in equilibrium to lower levels of liability dollarization.
    1 Thiscorrelation is documented in De Nicoló, Honohan, and Ize (2003) and Levy-Yeyati (2006). Arteta
(2005) shows that this relation is stronger for countries with more volatile exchange rates.
    2 Burnside, Eichenbaum, and Rebelo (2007) first documented large deviations from uncovered interest

rate parity (UIP) for emerging market bonds. Recent work by Dalgic (2017) and Wiriadinata (2017) finds a
positive correlation across countries between these UIP deviations and the degree of liability dollarization.



                                                     1
  We develop these arguments in a framework that extends a “third-generation” currency
crisis model (Krugman, 1999) by adding an explicit treatment of ex ante portfolio decisions
of borrowers and savers, in line with recent developments in the macro-financial literature
(Gertler and Kiyotaki, 2010; Brunnermeier and Sannikov, 2014; He and Krishnamurthy,
2015). We consider a small open economy populated by two types of domestic agents, con-
sumers and bankers, and by risk-neutral foreign investors. Consumers work for domestic
firms and save in bonds denominated in domestic and foreign currency. Bankers borrow in
domestic and foreign currency and use these resources along with their accumulated net
worth to purchase domestic capital, which is used as input in production. The model fea-
tures two sources of financial frictions: banks face a potentially binding financial constraint,
and foreign investors only borrow and lend in foreign currency.
  Our economy is exposed to self-fulfilling crises because of a feedback loop between the
exchange rate and banks’ net worth. A decline in banks’ net worth depresses investment,
which reduces expected future wages and consumers’ demand for non-tradable goods,
causing a real exchange rate depreciation. An exchange rate depreciation, then, reduces
banks’ net worth if they have foreign currency liabilities and domestic currency assets.
Thus, an economy with enough foreign currency debt is exposed to a crisis in which banks’
net worth, the real exchange rate, and consumers’ income all fall at the same time.
  The key aspect of our paper is to study how the comovement caused by financial crises
influences the ex ante portfolio decisions of consumers and bankers regarding the currency
denomination of their financial positions. When crises are possible in the future, consumers
have an incentive to insure by saving in foreign currency because of the hedging properties
highlighted above: in a crisis, consumers’ income goes down while the foreign currency
appreciates. In general equilibrium, this means that the interest rate in domestic currency
will be high relative to the interest rate in foreign currency, making foreign currency bor-
rowing relatively cheaper for banks. This mechanism can dominate the banks’ own motives
to insure against a crisis, leading them to issue more dollar debt.
  This feedback between the insurance motives of consumers and the risk of future crises
can be so strong as to produce multiple equilibria. In a safe equilibrium, consumers are
not worried about future crises and are happy to save in domestic currency, banks borrow
mostly in domestic currency, the balance sheet effects of currency depreciation are weak,
and crises cannot occur. This confirms consumers’ expectations. In a fragile equilibrium,
consumers are worried about future crises and save in foreign currency. Domestic currency
funding is more expensive, so banks borrow in dollars, making the financial sector more
fragile and opening the door to the possibility of a crisis. Again, consumers’ expectations
are confirmed. This novel form of multiplicity emphasizes the importance of allowing for


                                               2
endogenous risk premia as determinants of the currency denomination of debt.
   The presence of these fragile equilibria motivates our analysis of lending of last resort.
We consider the problem of a benevolent government that can extend a liquidity facility
to the banks when a crisis takes place. Although these interventions can break the feed-
back loop between exchange rates and banks’ net worth, we show that a government with
limited fiscal resources might be unable to credibly eliminate the crisis equilibrium. The
reason is that when private investors hold pessimistic expectations, they also forecast low
future tax revenues, and they are reluctant to purchase government debt. This constrains
the government’s ability to finance the liquidity facilities and to lead the economy out of
the crisis. In this context, we show that foreign currency reserves hedge the fiscal position
of the government because they appreciate precisely when the private investors hold pes-
simistic expectations. When sufficiently large, the ex ante accumulation of foreign currency
reserves allows the government to credibly operate as a lender of last resort and eliminates
the crisis equilibrium.
   This last set of results provides a rationale to the view, articulated by several economists
and policymakers, that emerging market authorities recently accumulated large quantities
of foreign currency reserves in order to improve financial stability.3 In our framework, for-
eign currency reserves help financial stability because they have good hedging properties
against bad equilibria. In other words, a desirable feature of foreign currency reserves is
that if private sector beliefs deteriorate, pushing the economy toward a crisis, the value of
reserves increases, giving the government more resources to intervene.
   Importantly, the accumulation of official foreign currency reserves does not induce the
banking sector to increase risk taking ex ante, as the standard moral hazard logic would
suggest. When the government can credibly rule out financial panics, it also reduces the
incentives of domestic savers to hold foreign currency assets for precautionary reasons.
Through this mechanism, ex post interventions reduce the costs of borrowing in domestic
currency, deterring banks from borrowing in foreign currency. In this sense, official hold-
ings of foreign currency reserves can play a catalytic role by encouraging virtuous behavior
of local borrowers and by promoting financial stability also from an ex ante perspective.


Literature.    Our research is related to several strands of literature. Following the crises
of the late 1990s, several authors have developed equilibrium models to explain the joint
occurrence of financial and currency crises. The seminal work of Krugman (1999) empha-
   3 For example, in a speech as governor of the Bank of England, Mervyn King argues that the buildup of
foreign currency reserves allows emerging market authorities to act as “do-it-yourself lenders of last resort
in US dollars to their own financial system” (King, 2006).



                                                     3
sizes how the feedback between investment demand and the real exchange rate can lead to
multiple equilibria when firms/financial institutions have dollar debt. Other seminal con-
tributions in this literature include Aghion, Bacchetta, and Banerjee (2001, 2004), Burnside,
Eichenbaum, and Rebelo (2001b), Corsetti, Pesenti, and Roubini (1999), Chang and Velasco
(2000, 2001). An important innovation relative to this literature is that we endogenize debt
denomination and show how risk premia can lead banks to endogenously choose currency
positions that expose an economy to a crisis.
   The economic mechanism that produces foreign currency debt in our setting are distinct
from other explanations offered in the literature and, in particular, from Schneider and Tor-
nell (2004), Burnside, Eichenbaum, and Rebelo (2001a) and Farhi and Tirole (2012). These
papers emphasize the role of bailout guarantees that, coupled with the financial instabil-
ity typical of emerging markets, can induce the private sector to take excessive risk and
borrow in foreign currency.4 In contrast, we emphasize the portfolio choices of domestic
savers and how their demand for safety can, through a general equilibrium mechanism,
incentivize local borrowers to issue dollar debt. As explained earlier, our theory has dis-
tinctive predictions for the coexistence of asset and liability dollarization and for deviations
from uncovered interest parity that finds support in the data. Another key difference lies in
the effects of policy: in the moral hazard view, ex post government interventions generate
risk shifting and lead to more dollar debt; in our theory, these interventions can reduce the
degree of financial dollarization in the economy.
   Our approach to lending of last resort is close to Gertler and Kiyotaki (2015). In their
environment, providing liquidity to the financial sector during a panic has ex ante benefits,
and it is always optimal ex post because the government does not face borrowing con-
straints. The main innovation in our paper relative to their approach is that we explicitly
formulate a game between the government and private investors, which embeds equilib-
rium in goods and asset markets. This allows us to analyze whether off-the-equilibrium-
path promises to intervene in a “bad” equilibrium are credible and to discuss how limited
fiscal capacity can interfere with lending of last resort policies. The only previous work
we know of that discusses credibility issues in lending of last resort policies is Ennis and
Keister (2009), who analyze deposit freezes in the Diamond and Dybvig (1983) model.5
   A few papers address financial dollarization from a portfolio perspective. In particular,
Ize and Levy-Yeyati (2003) present a model that focuses on the effects of the monetary
   4 On   the normative side, Caballero and Krishnamurthy (2003) suggest that dollar debt might be excessive
relative to the social optimum because of pecuniary externalities.
    5 A different approach to think about the fiscal costs of intervention is to consider the policy maker’s

uncertainty on whether a crisis is due to illiquidity or insolvency, an approach pursued in Robatto (2017).




                                                     4
regime, which determines the volatility of inflation and of the nominal exchange rate.6
Salomao and Varela (2017) build a partial equilibrium model of the response of domestic
borrowers to UIP violations and use it to generate cross-sectional predictions on the cur-
rency composition of debt. Gopinath and Stein (2018) present a model where the choice
of debt denomination comes from a stylized portfolio problem and use it to study the
complementarity between dollar invoicing and financial dollarization in the international
monetary system. A distinctive feature of our paper relative to this literature is the focus
on the hedging benefits of dollar assets against financial instability.
   An important literature studies the role of foreign currency reserves as insurance against
various types of shocks (Caballero and Panageas, 2008; Durdu, Mendoza, and Terrones,
2009; Jeanne and Rancière, 2011; Bianchi, Hatchondo, and Martinez, 2012). Relative to
this literature, our focus on reserves’ role to fight financial panics leads to a distinct set
of predictions.7 In particular, our model can rationalize why reserves across countries are
well explained by the size of the financial sector’s total liabilities, as shown by Obstfeld,
Shambaugh, and Taylor (2010). Moreover, our framework can explain why reserves seem
to be underutilized by domestic authorities, as documented by Aizenman and Sun (2012).
In our framework, a government that accumulates enough reserves can rule out financial
panics, so reserves are never used in equilibrium.
   Finally, our paper relates to recent research aimed at understanding the patterns of
global capital flows and low interest rates in the world economy (Caballero, Farhi, and
Gourinchas, 2008; Gourinchas and Jeanne, 2013; Mendoza, Quadrini, and Rios-Rull, 2009;
Maggiori, 2017; Fahri and Maggiori, 2017). Our paper offers a fully fledged model of finan-
cial instability as a cause for increased accumulation of reserves by emerging economies,
and it identifies important differences between the private and the official sector demand
for dollars.


Layout.    Section 2 presents the model. We then move on to characterize the equilibria of
the model, proceeding backward in time. Section 3 describes the continuation equilibria of
the model from period 1 onward, taking the currency denomination of assets and liabilities
as given. Section 4 studies the optimal portfolio choices of households and banks in the
initial period. In Section 5 we introduce a government and study lending of last resort,
while Section 6 discusses the role of foreign currency reserves. Section 7 concludes.
   6 Rappoport  (2009) adds defaultable debt and optimal monetary policy to the setup of Ize and Levy-Yeyati
(2003) and obtains the possibility of multiple equilibria due to the endogenous response of monetary policy.
    7 Models that focus on other sources of equilibrium multiplicity are Hur and Kondo (2016) and Hernandez

(2017).




                                                     5
2     Model
We consider a small open economy that lasts three periods, t = 0, 1, 2, populated by two
groups of domestic agents, consumers and bankers, who trade with a large number of
foreign investors. There are two goods in the economy, a tradable good and a non-tradable
good.
    The model is built around three ingredients. First, in line with standard financial accel-
erator models, bankers have unique access to a superior technology to accumulate capital,
and they finance capital accumulation with debt. Second, debt can be denominated in non-
tradable or tradable goods, which is meant to capture debt denominated in domestic and
foreign currency. This creates the possibility of currency mismatch. Third, consumers sup-
ply labor that is combined with capital to produce tradable output. This last assumption
introduces a simple macro spillover by which consumers’ incomes go down when bankers’
capacity to accumulate capital contracts.
    We now turn to a detailed description of the environment. The model includes a number
of simplifying assumptions. Their role is discussed in detail at the end of the section.


2.1     Agents and their decision problems

Consumers.      Consumers have preferences represented by the utility function

                                           E ∑ βt U (ct )
                                               t

                  1− γ
where U (ct ) = ct       /(1 − γ) and ct is the Cobb-Douglas consumption aggregator

                                        ct = (ctT )ω (ctN )1−ω ,

ctT is consumption of the tradable good, and ctN is consumption of the non-tradable good.
    The tradable good is the numeraire, and pt denotes the price of the non-tradable good.
Each period t, consumers supply a unit of labor inelastically at the wage wt and receive an
                                 N.
endowment of non-tradable goods ec,t
    Consumers trade one-period bonds denominated in tradable and non-tradable goods,
denoted by atT and atN , at the prices qtT and qtN . As just mentioned, these two bonds
represent foreign and domestic currency denominated bonds. Currency denomination can
be modeled in other ways—for example, by denominating domestic bonds in terms of the
domestic consumption basket, or by introducing explicitly nominal variables and making


                                                   6
assumptions about monetary policy. For our purposes here, simply denominating bonds
in tradables and non-tradables makes the analysis more transparent.
     The consumers’ budget constraint is

                          ctT + pt ctN + qtT atT+1 + qtN pt atN+1 ≤ wt + pt ec,t
                                                                             N
                                                                                 + atT + pt atN .                            (1)

Consumers choose consumption levels and asset positions in order to maximize their utility
subject to the budget constraint (1) and the terminal condition a3N = a3T = 0.


Bankers.          Bankers are risk-neutral agents and consume only tradable goods at date 2.
Bankers own banks. Banks hold physical capital k t , which is used as input in the production
of tradable goods and yields the rental rate rt . Banks have access to a linear technology
to convert one unit of tradable goods into one unit of capital and vice versa. Capital fully
depreciates at the end of each period. Banks also receive a non-tradable endowment each
        N . On the liability side, banks issue tradable and non-tradable denominated bonds,
period eb,t
denoted, respectively, by btT and btN . The banks’ net worth at the beginning of each period
is
                                                               N
                                             nt = rt k t + pt eb,t − btT − pt btN .                                          (2)

The banks’ budget constraint at t = 0, 1 is

                                            k t+1 = nt + qtT btT+1 + qtN pt btN+1 .                                          (3)

At t = 2 the bankers consume n2 .
     We assume that banks face limits in their ability to raise external finance. Namely,
they have to satisfy the following collateral constraint, which requires total end-of-period
liabilities to be bounded, in each state of the world, by a fraction of the capital held by the
bank:
                                                 btT+1 + pt+1 btN+1 ≤ θk t+1 ,                                               (4)

where θ is a parameter in [0, 1]. The underlying assumption is that at the beginning of each
period the banker can allow the bank to default on its debt and divert the bank’s resources
to consume or to start a new bank. Diversion entails a real cost θk t .8
     Bankers choose {k t+1 , btT+1 , btN+1 } to maximize the expected value of n2 , subject to the law
of motion for net worth (2), the budget constraint (3), the collateral constraint (4), and the
terminal condition b3T = b3N = 0.
     8 The   banker’s participation constraint is then rt k t + pt ebN − θk t ≥ rt k t + pt ebN − btT − pt btN , which gives (4).



                                                                7
Production.        Consumers own two types of firms. Tradable goods firms produce tradable
goods using capital and labor according to the production function

                                                    ytT = Ktα L1t −α ,                                                (5)

where Kt and Lt are capital and labor inputs.
   Next, there are firms that produce capital k̃ t using a linear technology that requires
φ > 1 units of tradable goods per unit of capital. Since the latter technology is inferior to
the banks’ technology, these firms will only be active when banks’ capital is low enough,
as we will see shortly.
   Both types of firms owned by consumers run constant returns to scale technologies, so
their profits will be zero in equilibrium and can be omitted from the consumers’ budget
constraints.
   We assume that the total endowment of non-tradable goods is constant over time:

                                                    N      N
                                                   ec,t + eb,t = eN .


Foreign investors.         Foreign investors are risk neutral and consume only tradable goods.
Their discount factor is β. An important restriction in our model is that foreign investors
can only purchase tradable denominated bonds, denoted by { atT ∗ }.


2.2     Equilibrium

There are no fundamental shocks in the economy, but given the possibility of multiple
equilibria, we introduce a sunspot variable ζ realized at t = 1, with a uniform distribution
on [0, 1], and use this sunspot as a selection device when multiple equilibria are possible at
t = 1. For ease of notation, we will mostly leave implicit the dependence of variables dated
t = 1, 2 on the sunspot realization.9

Definition 1. A competitive equilibrium is a vector of prices { pt , rt , wt , qtT , qtN }, households’ choices
{ctT , ctN , atT+1 , atN+1 }, bankers’ choices {k t+1 , btT+1 , btN+1 }, firms’ choices {Kt , Lt , k̃ t }, and foreign in-
vestors’ choices { atT ∗ } such that all choices are individually optimal and all markets clear,

                         ctN = e N ,     atT + atT ∗ = btT ,    atN = btN ,    Kt = k t + k̃ t .
    9 We  only introduce a sunspot at t = 1 because, conditional on past state variables, no multiplicity can
arise at t = 2, and we do not need to specify how multiplicity is resolved at t = 0, given that no previous
decision relies on that equilibrium selection.



                                                            8
  For simplicity, throughout the paper we focus on economies in which at date t = 0, in
equilibrium, there is no investment in the inferior technology, that is, K1 = k1 and k̃1 = 0.


2.3   Discussion of assumptions

Let us briefly discuss some simplifying assumptions made in the model.
  First, banks invest directly in physical capital, rather than making loans. This is a fairly
common assumption in the financial accelerator literature, and it essentially consolidates
into a unique entity the banks and the firms they lend to. In terms of capturing the problem
of liability dollarization, this assumption treats in the same way situations in which banks’
balance sheets are explicitly mismatched and situations in which they are only implicitly
mismatched—as happens, for example, when banks borrow in dollars and lend in dollars
to domestic firms, who are then more likely to default in the event of a depreciation.
  Second, foreign investors in the model can only hold tradable bonds, an assumption
that plays an important role in our analysis, as we will discuss in Section 4.4. Our results,
however, do not require this stark form of segmentation, and they would go through as long
as the demand for domestic currency (non-tradable) claims by foreigners is not infinitely
elastic. Ruling out foreign investors’ participation in the domestic currency debt market is
just a useful simplification.
  Third, we are assuming that non-tradables are in fixed endowment. This simplifies the
analysis because we do not have to determine how labor is allocated among the two sectors
and only need to keep track of capital accumulation in one sector. Our main results can
also be derived in a more symmetric version of the model with production in both sectors,
but the analysis is less transparent.


2.4   Road map

In the next two sections, we analyze the model in two steps, moving backward in time.
First, we analyze the equilibrium in the last two periods, taking as given assets and lia-
bilities from the previous period. We call this a continuation equilibrium and show that, for
some initial conditions, multiple continuation equilibria are possible. In our second step,
we go back to date 0 and complete our equilibrium characterization, focusing, in particular,
on the endogenous denomination of assets and liabilities and on whether the economy can
endogenously settle on portfolios that produce multiple continuation equilibria.




                                              9
3      Financial crises
In this section, we look at continuation equilibria, that is, equilibria that arise at dates
t = 1, 2, for given initial asset positions { a1T , a1N , b1T , b1N , K1 }. We characterize continuation
equilibria using two relations. The first is an equilibrium condition in the non-tradable
goods market. The second is an equilibrium condition in the capital market.


3.1     Non-tradable goods market

Simple derivations in the appendix show that the price of non-tradable goods is constant
in periods t = 1, 2 and is determined by the market clearing condition

                          11−ω  T                                    
                                a1 + pa1 + w1 + βw2 + p(ec,1 + βec,2 ) = e N ,
                                       N                 N       N
                                                                                                                 (6)
                          p 1+β

where p denotes the constant price of non-tradables in t = 1, 2. The left-hand side of this
equation is the demand for non-tradables: consumers spend a fraction (1 − ω )/(1 + β)
of their lifetime wealth on non-tradable goods, and their wealth is equal to their financial
wealth plus the present value of their labor income and non-tradable endowments.10 The
right-hand side of the equation is just the total supply of non-tradables. Profit maximization
and labor market clearing imply that wages are wt = (1 − α)Ktα . So we can rearrange the
equation above to express p as a function of K2 :

                                                        (1 − α)(K1α + βK2α ) + a1T
                  p = P ( K2 ) ≡ ( 1 − ω )                          N + βe N ) − (1 − ω ) a N
                                                                                              .                  (7)
                                             (1 + β)e N − (1 − ω )(ec,1     c,2            1


To ensure that the non-tradable goods market clears at a finite price p, claims a1N denomi-
nated in non-tradable goods must satisfy

                               (1 − ω ) a1N + (1 − ω )(ec,1
                                                        N       N
                                                            + βec,2 ) < (1 + β ) e N ,                           (8)

which implies that the denominator in (7) is positive.
    Equation (7) defines an increasing relation between p and K2 . More capital invested in
the tradable sector leads to higher wages in period 2, higher consumers’ wealth, and higher
demand for non-tradables. This leads to a real appreciation (higher p). This mechanism is
a version of the Balassa-Samuelson effect.
    10 The   real interest rate is 1/β due to the presence of international investors with linear preferences.




                                                          10
3.2    Capital market

In the capital market, three configurations are possible.
   First, banks’ net worth may be large enough that the collateral constraint is slack. In
this case, banks’ optimality requires βr2 = 1. Substituting the rental rate r2 = αK2α−1 and
solving, we get the first-best level of capital
                                                                1
                                           K2 = K ∗ = (αβ) 1−α .

Given that banks can borrow at most βθk2 , this case arises if banks’ net worth satisfies
n1 ≥ (1 − βθ )K ∗ .
   A second scenario arises if the banks’ collateral constraint is binding, but there is no
investment in the inferior capital accumulation technology controlled by the consumers. In
this case, the level of K2 can be derived from the bankers’ budget constraint:

                                                        1
                                              K2 =          n1 .
                                                     1 − βθ

To ensure that banks find it optimal to invest in capital and that the inferior technology is
not in use, K2 must satisfy the inequalities

                                         1 ≤ βr2 = βαK2α−1 ≤ φ.


   In the third scenario, the bankers’ net worth is so low that there is positive investment in
the inferior technology. Optimality for the firms running this technology requires βr2 = φ,
which yields the aggregate capital stock
                                                                    1
                                          K2 = K ≡ (αβ/φ) 1−α .

This case arises if bank’s net worth satisfies n1 ≤ (1 − βθ )K. In this case, banks’ investment
is k2 = n1 /(1 − βθ ), and investment in the inferior technology is k̃2 = K − k2 > 0.11
   To complete the analysis of the capital market, notice that the banks’ net worth from
equation (2) is a linear function of the non-tradable price:

                                n1 = N ( p) ≡ αK1α − b1T + p(eb,1
                                                              N
                                                                  − b1N ).
   11 An additional case arises if the net worth n1 is negative. Dealing with this case would require specifying
how banks’ bankruptcy is resolved for bondholders. In what follows, we will provide conditions that rule
out this case.




                                                      11
Combining this relation with the analysis of the three cases discussed above, we obtain the
following schedule:
                                           
                                           
                                           
                                            K?                if   N ( p) ≥ (1 − βθ )K ∗
                                           
                       K2 = K( p) ≡            K               if   N ( p) < (1 − βθ )K               (9)
                                           
                                           
                                                 1
                                               1− βθ N ( p )   otherwise.
                                           
                                           


   From now on, we restrict attention to date 1 positions that satisfy three inequalities:

                            b1N ≤ eb,1
                                   N
                                       ,           b1T ≤ θK1 ,       αK1α−1 ≥ 1/β.                   (10)


   The first inequality means that banks have a non-negative net position in non-tradables,
so a real exchange rate appreciation (higher p) increases banks’ net worth and leads to
(weakly) higher investment. We focus on initial asset positions that satisfy this inequality
because this is the interesting case that can potentially produce multiple equilibria.
   The other two inequalities are just necessary conditions for the optimality of the bankers
at date 0 and must be satisfied in any competitive equilibrium. The second inequality is a
necessary condition for the collateral constraint (4) at t = 0, while the third inequality is a
necessary condition for banks’ optimal choice of K1 at date 0.
   Combining the three inequalities above implies that the banks’ net worth is always pos-
itive, since
                         n1 = αK1α − b1T + p1 (eb,1
                                                N
                                                    − b1N ) > θK1 − b1T ≥ 0.


3.3    Multiple equilibria

Continuation equilibria can be found looking for pairs (K2 , p) that satisfy p = P (K2 ) and
K2 = K( p). Using the concavity of the function P and the properties of the capital demand
K, we can then prove the following.

Proposition 1. Suppose initial asset positions { a1T , a1N , b1T , b1N , K1 } satisfy (8) and (10). Then a
continuation equilibrium exists and there are at most three continuation equilibria. If there are
multiple equilibria, the equilibrium with the lowest price always has K2 = K.

   Figure 1 plots two examples of the schedules P and K in the (K2 , p) space. An equi-
librium corresponds to a point where the two schedules intersect. In panel (a) there is a
unique equilibrium. In panel (b) there are three equilibria, at points A, B, and C. In equilib-
rium A, banks are unconstrained. In equilibria B and C, however, the collateral constraint

                                                          12
         (a) Unique continuation equilibrium               (b) Multiple continuation equilibria

                                Figure 1: Continuation equilibria

binds. From now on, whenever there are three equilibria as in panel (b), we will rule out
the unstable intermediate equilibrium B and focus on the two stable equilibria A and C.
  Equilibrium multiplicity comes from the positive feedback between banks’ investment
and the real exchange rate. In turn, this positive feedback is due to currency mismatch,
                             N > b N . This makes it possible to have a self-fulfilling de-
namely, from the inequality eb,1  1
preciation: a lower p causes a reduction in banks’ net worth; this causes lower investment,
lower wages, and lower consumers’ wealth; finally, this causes a low demand for non-
tradables, producing a lower equilibrium value of p.
  Whenever multiple equilibria are possible, we interpret the “bad” equilibrium with low
p and K2 as a financial crisis and obtain a number of predictions about the behavior of
consumption, investment, the exchange rate, and the current account in a crisis.

Proposition 2. If there are three equilibria and we compare the two stable ones, we obtain the
following predictions:
   i. Investment and consumption are lower in the crisis equilibrium;
  ii. The real exchange rate is more depreciated in the crisis equilibrium;
 iii. The current account balance is higher in the crisis equilibrium;
  iv. The utility of consumers is lower in the crisis equilibrium. If the following sufficient condition
      is satisfied,
                                                       1
                                         (1 − βθ )φ 1−α > φ − βθ,                                  (11)



                                                  13
      the utility of bankers is also lower in the crisis equilibrium.

   The improvement in the current account shows that the domestic banking crisis is asso-
ciated with a capital flight. The capital flight has a double nature: the contraction in invest-
ment is driven by the reduction in banks’ net worth, while the contraction in consumption
is driven by lower future wages. The recent literature includes papers that emphasize finan-
cial constraints (Mendoza, 2010) and lower future income growth (Aguiar and Gopinath,
2007) as causes of capital account reversals in emerging markets. Here both mechanisms
are active.
   The proposition shows that the equilibria are Pareto ranked, as both households and
bankers get lower utility in the crisis equilibrium.12 On the households’ side, welfare is
lower because of lower capital accumulation and hence lower future real wages. On the
bankers’ side, the effects are subtler because the rate of return on banks’ net worth is ac-
tually higher in the low-p equilibrium. However, net worth itself is lower. The proposition
gives a sufficient condition under which the latter effect dominates.


3.4    Debt denomination and financial instability

What is the role of debt denomination in exposing the economy to equilibrium multiplicity?
   Proposition 1 shows that to have multiple equilibria there must exist an equilibrium in
which the inferior technology is employed, K2 = K. The existence of such equilibrium
requires the following inequality to hold:

                                      1 h α                              i
                            K>            αK1 − b1T + P (K )(eb,1
                                                              N
                                                                  − b1N ) .                             (12)
                                   1 − βθ

The other two equilibria are present if and only if the following condition is also satisfied:

                                      1 h α                                i
                            K2 <          αK1 − b1T + P (K2 )(eb,1
                                                               N
                                                                   − b1N )                              (13)
                                   1 − βθ

for some K2 ∈ (K, K ∗ ]. The last two conditions thus provide necessary and sufficient
conditions for the existence of three continuation equilibria.
   Panel (a) of Figure 2 helps us to understand these conditions in the simple case in which
(13) is satisfied at K ∗ . Inequality (12) requires that banks have insufficient net worth to buy
the capital stock K when the exchange rate is p = P (K ), so that the inferior technology
  12 Internationalinvestors are indifferent between the two equilibria as in both cases they get zero surplus
from trading tradable-denominated bonds.



                                                     14
      (a) Conditions for equilibrium multiplicity            (b) The role of N-debt

                      Figure 2: Debt denomination and multiple equilibria

is employed. Inequality (13) at K ∗ requires that at the appreciated exchange rate p∗ =
P (K ∗ ), banks have enough net worth to finance the first-best capital level K ∗ . Given that
K ∗ > K, in order for both conditions to be satisfied, we need the balance sheet effects of
the appreciation to be sufficiently strong, which can only be the case if eb,1  N − b N is large
                                                                                     1
enough. In particular, it is immediate to see that both conditions can never be satisfied if
 N = b N . In that case, the K schedule is a vertical line and multiplicity is impossible.
eb,1     1
    To further illustrate this idea, panel (b) of Figure 2 shows what happens if we start from
the economy in panel (a) and we reduce b1T and increase b1N while leaving the value of total
bank debt unchanged at the good equilibrium (that is, keeping constant b1T + P (K ∗ )b1N ).
Since the bank net exposure is lower, the schedule K shifts downward for all K2 < K ∗ , and,
for b1N large enough, the bad equilibrium disappears.
    Since mismatch is crucial for the presence of multiplicity, our next question is: why
would banks choose a liability composition at date 0 that exposes them to crises with
positive probability at date 1? This is the question we address in the next section.



4     Dollarization
We now go back to date 0 and study the equilibrium determination of banks’ and con-
sumers’ assets and liabilities. Our main objective is to show that even though banks can
choose ex ante whether to denominate their debt in tradables or non-tradables, this does not


                                                    15
rule out the possibility of multiple continuation equilibria. That is, even though currency
mismatch in banks’ balance sheets opens the door to “bad” Pareto-dominated equilibria,
banks do not necessarily have sufficient ex ante incentives to reduce their exchange rate
exposure.
   From now on, whenever we say an “equilibrium” of the model, we are referring to an
equilibrium of the whole three-period model, as opposed to a continuation equilibrium that
starts in period 1. We will use the following terminology. We say that an equilibrium is
“fragile” if it features multiple continuation equilibria that happen with positive probability
at t = 1. We say that an equilibrium is “safe” if the equilibrium values of { a1T , a1N , b1T , b1N , K1 }
are such that there is a unique continuation equilibrium. Notice that the requirement
for a safe equilibrium is not just that a single continuation equilibrium is selected with
probability 1 at t = 1, but also that no other continuation equilibrium exists.
   Our argument in this section is constructive. First, we show how to construct examples
of fragile equilibria. Second, we show that given an economy with a fragile equilibrium,
the same economy also admits a safe equilibrium and we compare the two equilibria. At
the end of this section, we use a numerical example to illustrate our argument and provide
intuition. Readers less interested in the formal steps can skip directly to the example.


4.1    Portfolio choice

Consider first the portfolio decision problem of consumers and banks at date 0. Consumers’
optimization gives the following first-order conditions for a1T and a1N :
                                                                              
                                                                        p1
                          q0T λc,0   = βE [λc,1 ] ,     q0N λc,0   = βE    λc,1 ,                    (14)
                                                                        p0

where
                                             λc,t = (ctT )ω (1−γ)−1

is the consumers’ marginal utility of wealth (in tradables).
   On the banks’ side, we will focus on cases in which the collateral constraint is slack at
time 0. The banks’ first-order conditions for b1T and b1N then take a similar form:
                                                                            
                                                                      p1
                           q0T λb,0   = E [λb,1 ] ,     q0N λb,0   =E    λ     ,
                                                                      p0 b,1




                                                      16
and the bankers’ marginal utility of wealth at t = 1 is

                                                        r2 − θ
                                               λb,1 =          .
                                                        1 − βθ

To interpret the last expression notice that a unit of net worth can be levered to purchase
1/(1 − βθ ) units of capital at t = 1. And the payoff per unit of capital at t = 2, net of debt
repayments, is r2 − θ. So we get a return of (r2 − θ )/(1 − βθ ) per unit of net worth.13
   It is useful to remark that when multiple equilibria are possible, the bankers’ marginal
utility of wealth is higher in the bad equilibrium, since in that equilibrium capital is scarcer
and yields a higher rate of return. Therefore, even though bankers are risk neutral, they still
perceive a high marginal utility of wealth in states of the world in which their net worth
is low. This is a hedging motive that commonly arises in general equilibrium models with
financial constraints, as pointed out, for example, in Rampini and Viswanathan (2010).


4.2    Fragile equilibrium

Take a vector of date 1 initial positions { a1T , a1N , b1T , b1N , K1 } such that multiple continuation
equilibria are possible. Suppose now that we want to construct an equilibrium in which
the two stable continuation equilibria occur with positive probability. Given that the price
p1 is different in the two equilibria and there are only two states of the world at t = 1,14
domestic consumers and bankers have sufficient instruments to achieve perfect risk sharing
among themselves. This means that the portfolio conditions derived above can be satisfied
if and only if the marginal utilities of wealth of consumers and bankers are equalized across
states of the world, using the appropriate Pareto weights. That is, the portfolio conditions
can be satisfied if and only if there is a Φ > 0 such that

                                                               r2 − θ
                                        (c1T )ω (1−γ)−1 = Φβ
                                                               1 − βθ

in both the good and the continuation equilibria.
   Can we construct an equilibrium in which the last condition is satisfied? The answer is
yes because both the consumers’ and the bankers’ marginal utilities of wealth are higher if
the bad equilibrium is realized. Building on this intuition, the next proposition shows how
to construct a fragile equilibrium and what conditions are required for the construction.
   13 The expression is also valid if r2 = 1/β and banks are unconstrained. Then the expression boils down
to λb,t = 1/β, as the return per unit of net worth is simply the interest rate 1/β.
   14 To be precise, there are only two payoff-relevant states. The sunspot is a continuous variable, but it can

only select one of the two stable continuation equilibria.


                                                      17
   For simplicity, we focus on constructing fragile equilibria in which non-tradable posi-
tions are exactly zero and in which, as mentioned above, the collateral constraint is slack
in period 0, so K1 = K ∗ . We use the superscripts G and B to denote variables in the good
and bad continuation equilibria.

Proposition 3. Fix all the model parameters except γ and the initial asset positions at t = 0. Take
a vector of date 1 initial positions { a1T , a1N , b1T , b1N , K1 }, with

                                   a1N = b1N = 0,       K1 = K ∗ ,      b1T ≤ θK1 .

Suppose that, given these positions, there are two continuation equilibria that satisfy
                                                             ! ω −1
                                         w1 + βw2B + a1T                r2B − θ
                                                                      < G       .                              (15)
                                         w1 + βw2G + a1T               r2 − θ

Then there exist a coefficient of relative risk aversion γ and date 0 initial positions { a0T , a0N , b0T , b0N , K0 }
that generate a fragile equilibrium in which the two continuation equilibria above are realized with
positive probability.

   The proof of this proposition relies on the fact that continuation equilibria can be con-
structed independently of the parameter γ, as the schedules P and K do not depend on
that parameter. Then γ can be chosen to ensure that the two continuation equilibria are
consistent with ex ante optimality. The role of condition (15) is discussed in the proof of
the proposition in the appendix.
   Proposition 3 relies on making the consumers sufficiently risk averse to match the
bankers’ hedging motive. This logic can also be turned around, and we can show that
if consumers’ risk aversion is low enough, then the economy cannot feature a fragile equi-
librium. The next proposition provides a uniqueness result along these lines.

Proposition 4. Suppose consumers’ risk aversion satisfies

                                                    β(1 − α) − (φ − βθ )
                                        γ < 1+                           .
                                                        ω (φ − βθ )

Then there exists no fragile equilibrium with a1T ≥ 0.




                                                          18
4.3   Safe equilibrium

Suppose we have constructed an example of an economy that has a fragile equilibrium
following the steps in Proposition 3. We can then ask whether the same economy also
admits a safe equilibrium. The next proposition shows that the answer is yes.

Proposition 5. Take an economy with a fragile equilibrium constructed as in Proposition 3. The
economy also has a safe equilibrium. Comparing the safe and the fragile equilibria, c0 and p0 are
higher and the trade balance is lower in the safe equilibrium.

   The idea behind this proposition is to take the good continuation equilibrium that is
part of the fragile equilibrium under consideration and rearrange the debt composition of
the bankers in favor of non-tradable debt in order to reduce the currency mismatch in their
balance sheet. The logic of Figure 2 suggests that this eventually eliminates the multiplicity
while leaving total repayments in the good equilibrium unchanged. Because of market
clearing, this requires an increase in the consumers positions in non-tradable denominated
bonds, as market clearing requires b1N = a1N . This can always be done because consumers
are no longer worried about denominating their saving in non-tradables once the bad equi-
librium is eliminated, as the depreciation risk associated with the crisis disappears.
   The proposition states that the safe equilibrium has higher consumption and a more ap-
preciated real exchange rate than the fragile equilibrium. This happens because consumers
at t = 0 are no longer concerned about the bad equilibrium outcome, and this reduces
their incentives to save. As they choose higher consumption at t = 0, their demand for
non-tradables increase, and this pushes up the real exchange rate. The time t = 0 choice of
capital is, however, the same in the two equilibria. Because of full depreciation and inelastic
labor, the marginal product of capital at date t = 1 is state uncontingent, which implies
that its rate of return is equalized to the rate of return on a bond denominated in tradable
goods. This result follows from the fact that the rate of return equals 1/β in both the safe
and the fragile equilibria.


4.4   A numerical example

We now present a simple numerical example of an economy that admits both safe and
fragile equilibria. Table 1 reports the parameters used and several statistics of interest in
the two equilibria.
   To interpret the forces at work in the two equilibria, it is useful to introduce a standard
asset pricing condition that relates the interest rates on tradable and non-tradable denomi-


                                                 19
                      Table 1: Safe and fragile equilibria: a numerical example

                                                                     Safe   Fragile
                                 a1N , b1N                           0.40     0.00
                                 a1T                                 0.01     0.17
                                 b1T                                 0.16     0.46
                                 St. dev. of log w2                  0.00     0.07
                                 St. dev. of log p1                  0.00    0.025
                                 Covar. of log w2 and log p1         0.00    0.002
                                 E[(1 + i0N )( p1 /p0 )]             1.01     1.06
                                 (1 + i0T )                          1.01     1.01
                                                                                N = 0.20, e N = 0.40, θ = 0.77,
 Notes: The parameters used in the example are: α = 0.40, β = 0.99, ω = 0.20, ec,t           c,t
 φ = 1.40, γ = 55.48. The initial conditions are K0 = 0.21, a0 = 0.23, b0 = 0.95, a0N = b0N = 0.00.
                                                             T          T




nated bonds 1 + i0T = 1/q0T and 1 + i0N = 1/q0N :15
                                                                                  
                                                     p1              N p1
                                                                            λc,1
                       1 + i0T   − (1 + i0N )E            = Cov 1 + i0     ,            ,                  (16)
                                                     p0                  p0 E [λc,1 ]

where λc,1 is the consumers’ marginal utility of wealth. The left-hand side of equation
(16) can be interpreted as a standard uncovered interest rate parity (UIP) relation, which
compares the returns of bonds denominated in different units.
  In the safe equilibrium, consumers decide to denominate most of their savings in non-
tradables. Banks absorb the desired pesos savings of consumers and issue tradable bonds
to finance any further shortfall between desired investment and their initial net worth. Be-
cause most of the banks’ liabilities are denominated in non-tradables, the banks have little
currency mismatch on their balance sheets. Indeed, in our example there is no mismatch at
all (b1N = eb,1
            N ), and the economy has only a unique stable continuation equilibrium at date

t = 1. This can be appreciated from the fact that consumers’ wages and the real exchange
rate are not stochastic.
  Why are these t = 0 asset choices optimal from the perspective of consumers and banks?
The impossibility of the bad equilibrium at date t = 1 means that agents in the economy
do not face any risk. Thus, the two bonds are perfect substitutes as their interest rate
is equalized. In equilibrium, this is precisely what happens because of equation (16). It
follows that in the safe equilibrium, both consumers and banks are indifferent about the
denomination of their assets and liabilities, which rationalizes these positions.
  15 This   condition can be derived by following standard steps from the optimality conditions (14).


                                                           20
  In the fragile equilibrium, consumers decide to denominate their savings in tradable
goods ( a1∗ = 0.17, a1N = 0.00). Banks have little access to pesos, and they finance their date
t = 0 operations by issuing debt denominated in tradable goods. This balance sheet of
                                        N > b N ), and it exposes the economy to a bad
the banks generates currency mismatch (eb,1  1
equilibrium at date t = 1.
  The risk of a bad equilibrium at date t = 1 is what justifies the portfolio choices of
agents in the economy at date t = 0. From Table 1, we can verify that consumers’ lifetime
income is exposed to the realization of the sunspot at date t = 1. Importantly, the real
exchange rate depreciates when a crisis occurs, generating a negative comovement between
consumers’ income and the real exchange rate. This property of the exchange rate makes
bonds denominated in tradable goods a “crisis hedge” for consumers, and this justifies
their decision to denominate their savings in tradables at t = 0. The precautionary motive
of the households is met, in equilibrium, by a riskier balance sheet of the banks, which is
ultimately what exposes the economy to financial instability.
  Why are banks happy to borrow in tradables and be exposed to exchange rate risk? The
answer is that borrowing in tradables is “cheaper” for banks. This can be seen by com-
paring the interest rates of the two bonds. From Table 1, we can see that in the fragile
equilibrium, the rate of return on bonds denominated in tradables is lower than the one
on non-tradables. This deviation from the UIP condition is effectively a result of the con-
sumers’ unwillingness to save in non-tradables, which in equilibrium bids up the interest
rate on these bonds. Paradoxically, this behavior generates in equilibrium the very risk
against which the consumers are trying to insure.
  Before continuing, it is useful to further discuss properties of safe and fragile equilibria.
As for the safe equilibrium, we have seen that consumers and banks are indifferent over
their asset positions at t = 0. Because of that, the split between tradable and non-tradable
bonds on the balance sheets of domestic agents is indeterminate, and there is a continuum
of safe equilibria. This is due to the absence of fundamental shocks, which implies that the
safe equilibrium is deterministic.
  As for the fragile equilibrium, it is worth emphasizing that a key assumption underlying
its existence is the presence of segmentation in financial markets. The segmentation has
both an international and a domestic dimension.
  At the international level, it is important that some mechanism prevents foreign investors
from issuing non-tradable denominated bonds to the local banks. To understand why,
consider the fragile equilibrium in Table 1 and suppose that we allow foreign investors to
purchase claims denominated in non-tradables. Because foreign investors are risk neutral,
they have an incentive at date t = 0 to purchase those claims: due to the UIP deviation,

                                              21
they earn a positive excess return from this strategy. Eventually, this force would eliminate
the fragile equilibrium because, by issuing non-tradable denominated claims, the balance
sheets of local banks become less exposed to exchange rate fluctuations. Importantly, this
argument works only because foreign investors are risk neutral and have deep pockets—
assumptions that generate an infinitely elastic supply of funds. There is ample empirical
evidence, however, that the supply of foreign capital to emerging market economies is not
perfectly elastic.16 In our paper, we consider the extreme view in which the supply of
foreign funds in “local currency” (non-tradables) is perfectly inelastic, but this is just a
useful simplification. Our results would not be qualitatively different if we were to relax
this assumption and instead model foreign lenders as risk-averse specialists that are not
diversified toward the small open economy.
    At the domestic level, we have assumed that the bankers and the consumers are distinct
agents. This assumption, shared by recent papers such as Brunnermeier and Sannikov
(2014) and He and Krishnamurthy (2012), allows us to consider parametrizations in which
the consumers are relatively more risk averse than the bankers, which, from Proposition
4, is important in obtaining the fragile equilibrium. More primitive frictions that limit the
participation of consumers to asset markets would offer a justification for our assumption.



5      Lending of last resort
After having characterized the sources of financial instability in this economy, we turn to
government intervention. In this section, we add to our model a benevolent government
that intervenes in financial markets at t = 1. We then study continuation equilibria and find
under what conditions government intervention can or cannot eliminate multiplicity. In the
next section, we move back to date 0 to analyze the portfolio choice of the government and
how it interacts with the private sector’s portfolio choice.


5.1      Modeling interventions and limited fiscal capacity

At date 1 the government can make a transfer Tb to banks in exchange for a repayment R
at date 2.17 The government finances the transfer Tb by raising linear labor income taxes on
consumers and by borrowing against labor income taxes to be raised at t = 2 and against
the repayment R. Letting τt denote the labor income tax rate, Tt ≥ 0 a lump-sum transfer
    16 For
         example, Borri and Verdhelan (2013) and Tourre (2017) document large risk premia in emerging
markets’ sovereign bonds, while Du and Schreger (2016) and Maggiori, Nieman, and Schreger (2017) recently
document the dominance of dollar denomination in cross-border flows.
  17 To simplify, we assume that all financial transactions from t = 1 onward are in tradables.



                                                   22
to consumers, and A2T the government’s net bond position in tradables, the government
budget constraints at t = 1, 2 are

                                        Tb + T1 ≤ τ1 w1 − βA2T ,
                                     − A2T + T2 ≤ τ2 w2 + R.

  We make two assumptions that limit the government’s ability to intervene.
  First, we assume that the government has no superior ability to enforce repayments from
banks at t = 2, so total repayments to the private sector and to the government must satisfy
the collateral constraint
                                            b2T + R ≤ θk2 .

  Second, we assume limited fiscal capacity by imposing a limit on the government’s
ability to raise labor taxes:
                                                τt ≤ ξ.                                     (17)

In the Online Appendix, we provide a microfoundation for this assumption by introducing
an informal sector, completely shielded from taxation, that employs labor and capital and
in which labor is less efficient by a factor 1 − ξ. We then show that constraint (17) needs to
be satisfied to prevent labor and capital from switching to the informal sector.
  To make the analysis interesting, we assume that at date 0, absent government interven-
tion, the economy is in a fragile equilibrium in which crises occur with positive probability.
Moreover, we assume that the capital stock is at its first-best level K ∗ in the good continua-
tion equilibrium.
  As in the case of no intervention, tradable consumption is constant in equilibrium, c1T =
c2T = c T , and non-tradable consumption is equal to the endowment, c1N = c2N = e N . The
government is benevolent, and its objective is to maximize the social welfare function

                                     (1 + β)U (c T , e N ) + ΦβcbT ,                        (18)

where cbT denotes the consumption of the banker at t = 2. In order to focus on the role of the
government as a lender of last resort, we set the Pareto weight to Φ = UcT (c T,G , e N ), where
c T,G is consumption in the good continuation equilibrium with no government intervention.
This social welfare function implies that the government does not want to redistribute
resources between bankers and consumers under the allocations prevailing in the good
continuation equilibrium. Because of complete financial markets at date 0, this also implies
that the government has no redistributive motives in the bad continuation equilibrium.


                                                   23
5.2   Timing and equilibrium

We now specify the timing of actions by private agents and the government at t = 1. We
split date 1 into two subperiods:

   i. In the first subperiod, consumers buy non-tradable goods and the non-tradable goods
      market clears at the price
                                                 1 − ω c T,e
                                          p1 =               ,
                                                   ω eN
      where c T,e denotes the private sector’s expectation of tradable consumption. In the
      same subperiod, consumers and international investors buy bonds issued by the gov-
      ernment, subject to the borrowing limit

                                      − A2T ≤ ξw2e + Re ≡ − A,

      where w2e and Re denote the private sector’s expectation of wages and banks’ repay-
      ments to the government in period 2.
  ii. In the second subperiod, the government chooses Tb , R, τ1 , and T1 . Banks buy capital
      using their own net worth, the government transfer, and funds borrowed from con-
      sumers and international investors. Consumers choose their financial position a2T and
      their tradable consumption.

  In the Online Appendix, we show that the government’s problem in subperiod (ii) is
equivalent to the problem of choosing an allocation {c T , cbT , k2 , K2 } that maximizes social
welfare (18) subject to the constraints

                 (1 + β) c T + βcbT ≤ a1T − b1T + K1α + βK2α − k2 − φ (K2 − k2 )            (19)
                                cbT ≥ αK2α−1 k2 − θk2                                       (20)
                          αβK2α−1 ≥ φ and K2 − k2 ≥ 0                                       (21)
                                                         
                       n1      ∗                  M       ∗
               min          ,K     ≤ k2 ≤ min          ,K                                   (22)
                     1 − βθ                     1 − βθ

with at least one condition in (21) holding as an equality. The variable M in equation (22)
is defined as follows:
                                     M = n1 + ξw1 − βA.

  Constraint (19) is the intertemporal resource constraint. Constraint (20) is the bankers’
participation constraint and reflects the assumption that the government has no superior
enforcement capacity. The constraints in (21) and their complementary slackness condition

                                              24
ensure optimality in the inferior technology sector. Finally, the constraints in (22) define
a feasible interval for k2 . The first constraint requires that k2 not be smaller than the level
that banks would choose with Tb = 0 and comes from the non-negativity of Tb . The
second constraint comes from the assumption of limited fiscal capacity and puts an upper
bound on banks’ investment in period 1, which depends on the banks’ net worth and
the maximum transfer that the government can make. An important consequence of our
timing assumptions is that the government takes both n1 and M as given in the problem
just described.
  This characterization allows us to define a continuation equilibrium in a compact way.

Definition 2. The vector
                                       {c T , cbT , k2 , K2 , n1 , M, p1 }

is a continuation equilibrium with government intervention if and only if:

   i. The allocation {c T , cbT , k2 , K2 } maximizes the government objective (18) subject to the con-
      straints (19)-(22), taking as given {n1 , M}.

  ii. {n1 , M } are consistent with rational expectations and market clearing in the non-tradable
      market, that is,

                                 n1 = αK1α − b1T + p1 (eb,1
                                                        N
                                                            − b1N ),                               (23)
                                 M = n1 + ξ (1 − α)K1α + βξ (1 − α)K2α ,                           (24)

      where
                                                         1 − ω cT
                                                 p1 =             .
                                                           ω eN



5.3   Fiscal capacity and lending of last resort

We now characterize equilibria, proceeding in two steps. First, we study the government’s
best response. That is, we study how the solution of the government’s decision problem
varies with n1 and M. Second, we characterize equilibria by imposing the fixed point
conditions (23)-(24). The next proposition characterizes the government’s best response.

Proposition 6. There exists a threshold M̂ > K (1 − βθ ) such that:

  1. If M < M̂ and k2B ∈ [ 1−n1βθ , 1−Mβθ ], the government’s optimal policy replicates the bad equilib-
      rium allocation, c T = c T,B , cbT = cbT,B , k2 = k2B , and K2 = K.



                                                      25
  2. If M ≥ M̂, the government’s optimal policy sets
                                              
                                     M       ∗
             k2 = K2 = min                ,K ,
                                   1 − βθ
                                                                                    
               T           1       
                                      T    T
                                                                            
                                                                                 T,G
             c = min                 a1 − b1 + K1 + β(1 − α)K2 − (1 − βθ )K2 , c
                                                 α           α
                                                                                       ,
                          1+β
                   1 T
                                                             
             cbT =     a1 − b1T + K1α + βK2α − K2 − (1 + β)c T .
                   β



  Let us first sketch the formal argument for the proposition and then turn to intuition. In
Figure 3 we plot the government’s objective as a function of k2 , choosing all other variables
optimally and ignoring the constraints in (22). To solve the government’s problem, we
maximize this function, choosing k2 in the feasible interval defined by (22). The function
has two local maxima: one at k B in the region k2 < K and one at K ∗ in the region k2 ≥ K.
This non-concavity is a general property derived formally in the proof of the proposition
(in the appendix). To define the cutoff M̂, we look for the k2 = M̂/(1 − βθ ) that is the
lowest point in the region k2 ≥ K that yields the same payoff as the local maximum in the
region k2 < K. This construction is illustrated in panel (a) of Figure 3. Result (1) in the
proposition considers the case M ≤ M̂. In this case, the local maximum at k B is also a
global maximum. Result (2) considers the case M > M̂. In this case, the global maximum
is in the region k2 ≥ K.
  Turning to intuition, let us first understand why there is a local maximum at the bad
equilibrium investment level k2B . Suppose we start at the bad equilibrium and the govern-
ment transfers a dollar to the banks by taxing consumers. Since the collateral constraint
is binding, banks increase k2 by dk2 = 1/(1 − βθ ). Total investment K2 is unaffected, so
wages are constant. The present value of total resources increases by (φ − 1)dk2 because
the production technology of the banks is more efficient than the inferior technology. The
bankers’ participation constraint (20) requires that bankers’ consumption satisfies

                                                         r2 − θ
                               βdcbT = β(r2 − θ )dk2 =          ,
                                                         1 − βθ

and, using the intertemporal budget constraint and βr2 = φ, it follows that

              (1 + β)dc T = (φ − 1)dk2 − β(r2 − θ )dk2 = −(1 − βθ )dk2 = −1.




                                               26
        social welfare




                                                                   social welfare
                         (a) Finding the cutoff M̂                                  (b) Low and high fiscal capacity

                                            Figure 3: Government optimization

The change in social welfare is then

                                                                                                     r2 − θ
                           (1 + β)UcT (c T , e N )dc T + ΦβdcbT = −UcT (c T , e N ) + Φβ                    ,
                                                                                                     1 − βθ

which equals zero at the bad continuation equilibrium given our choice of Pareto weights.
This shows that, in a neighborhood of the bad continuation equilibrium, the government
has no incentive to support the banks. Consistently with this observation, the case M = M0
shown in panel (b) of Figure 3 is an example in which fiscal capacity is low and the optimal
policy is no intervention.
     The government’s marginal incentives are different in the region above K. In that region,
repeating the steps above, an additional dollar transfer to the banks changes social welfare
by
                                        T    N    r2 − θ    
                                                                   T N
                                                                             
                               −UcT (c , e ) + Φβ        + β UcT (c , e ) − Φ dw2 ,
                                                  1 − βθ
where dw2 = β(1 − α)r2 /(1 − βθ ) > 0. The first two terms are the same as before. The
last term reflects a pecuniary externality that operates through the wage and is positive as
long as c T is below its first-best level c T,G . When M is large enough, the marginal gains
in the region above K more than offset the marginal losses in the region below K, and the
government’s optimal response is to intervene. The case M = M00 in panel (b) of Figure 3
is an example in which fiscal capacity is high enough that the optimal policy is maximal
intervention.
     Notice the difference between private and social incentives. Private consumers could also
be given the option to make a unilateral transfer to banks, but they would never choose to


                                                            27
make it. The crucial difference between the government and individual consumers is that
the government internalizes the general equilibrium effects of higher investment on wages.
As the argument above shows, this is what makes intervention optimal.
  Having studied the best response of the government, we can now characterize the equi-
libria in the model with government intervention.

Proposition 7. Let M B be

                             M B = n1B + ξ (1 − α)K1α + βξ (1 − α)K α .                     (25)

The economy with government intervention has a unique continuation equilibrium if and only if
M B > M̂ and the allocation corresponds to the good continuation equilibrium with no government
intervention. If M B ≤ M̂, there are at least two stable continuation equilibria: one with K2 = K
and one with K2 = K ∗ .

  Let the functions N ( M, n1 ) and M( M, n1 ) denote the values of M and n1 that come
from (23)-(24) after substituting the government’s optimal responses to {n1 , M } on the
right-hand side. An equilibrium corresponds to a fixed point of the function N × M, that
is a pair
                               {n1 , M} = {N ( M, n1 ), M( M, n1 )}.

Also, similar to the definition of M B , let us define

                           M G = n1G + ξ (1 − α)K1α + βξ (1 − α)(K ∗ )α .


  To illustrate Proposition 7 graphically, we plot M( M, n1 ) in Figure 4, fixing n1 at its
bad equilibrium level n1B . It is easy to show that M is non-decreasing in its first argument
because Proposition 6 shows that a larger capacity to intervene leads the government to
choose weakly higher levels for K2 and c T . Now two cases are possible. In panel (a) of
the figure, we show the case M B < M̂. In this case, the bad equilibrium survives under
government intervention because, under pessimistic expectations about future wages, the
government has insufficient fiscal resources to intervene. And low investment validates the
private sector’s expectations by keeping future wages low. This is represented by point C in
the figure. At the same time, the good equilibrium (point A in the figure) is also possible.
To complete the argument for the existence of the good equilibrium, we just need to note
that if the government chooses to intervene, the constraint k2 ≥ n1 /(1 − βθ ) is not binding,
so M( M G , n1G ) = M( M G , n1B ) = M G .
  In panel (b) of Figure 4, we show the case M B > M̂. In this case, the bad equilibrium

                                                28
                (a) Multiplicity                                (b) Uniqueness

                     Figure 4: Equilibria with government intervention

of the economy with no intervention is ruled out because if we start there, the government
has sufficient resources to move the economy to a better allocation. In fact, this condition is
sufficient to rule out any equilibrium that does not correspond to the good equilibrium with
no intervention. Again, the full argument relies on the fact that the value of n1 /(1 − βθ ) as
a lower bound for k2 is irrelevant if the government finds it optimal to intervene and go to
the upper bound M/(1 − βθ ).


5.4   Discussion

Let us add a few remarks on the assumptions made in modeling government intervention.
  First, in our simple model, the government has no incentive to intervene in a neigh-
borhood of the bad equilibrium. This is a useful simplification that comes from the way
we model the inferior technology. It is possible to enrich the model in order to make the
decision problem of the government smoother, either by introducing richer tax distortions
(e.g., via a labor supply margin) or by complicating our model of capital accumulation not
financed by banks. This could eliminate the non-convexity in the government’s problem
and also make some level of intervention optimal in the bad equilibrium. The crucial thing
is to have some force that makes the slope of the map M relatively low near the bad equi-
librium, so that government intervention near the bad equilibrium is not powerful enough
to push the economy to uniquely converge to the good equilibrium.
  Second, let us discuss the role of our timing assumptions. Market clearing in the non-
tradable goods market and government borrowing happen in the first subperiod. This

                                              29
implies that the banks’ net worth—which depends on p1 —and the government borrow-
ing capacity are determined by consumers’ expectations regarding future wages, which
depend on their expectations about K2 . When the government intervenes in the second
subperiod, the variables n1 and M have already been determined, so the government must
take them as given even though its interventions will affect K2 . If the model featured the
simultaneous determination of government policy and of w2e and p1 , then it would be easy
for the government to rule out multiplicity, as shown in the following result.

Proposition 8. Consider the model with government intervention, but assume that the actions in
the first and second subperiods are simultaneous. Then, the government can uniquely implement
the first-best allocation. This holds true even if ξ = 0.

    The logic for this result is that a successful lender of last resort is fully self-financed. If
the government makes a large enough transfer to banks, investment goes up and future
wage expectations increase, and this raises demand on the non-tradable market, leading
to an appreciation. Then banks’ net worth increases, allowing banks to finance the higher
investment level and creating sufficient collateral to repay the government transfer in full.
So if everything is simultaneous, the government can switch to the good equilibrium allo-
cation by making a large enough transfer.
    To meaningfully discuss the relation between fiscal capacity and lending of last resort,
we need a model that breaks the simultaneity of Proposition 8. Our timing offers a simple
way to break the simultaneity. An open area for future research is to explore richer dynamic
specifications that capture more realistically the back and forth between government actions
and market responses in this type of setup.



6     The role of reserves
We now consider the role of foreign currency reserves. To do so, we allow the government
to take positions in tradable and non-tradable bonds at date 0, so the government enters
period 1 with an initial financial position A1T + p1 A1N . The analysis of the previous section
can easily be extended to this case. However, in order to proceed, we need to make assump-
tions on how the economy responds at date 0 to the portfolio choices of the government.
Here we consider two experiments.
    First, we consider the case of unexpected interventions. That is, we assume the gov-
ernment buys the portfolio ( A1T , A1N ) at date 0, but the private sector does not expect the
government to use these resources to intervene in financial markets. Second, we consider


                                                   30
the case of fully anticipated interventions. That is, we assume that the private sector takes
into account that the government will use its resources to intervene optimally at date 1.
Both exercises are useful in understanding how reserve accumulation affects the economy.


6.1   Unexpected interventions

In our first experiment, we assume that the private sector expects the government to simply
transfer A1T + p1 A1N back to the consumers at date 1. This experiment shows how the
portfolio ( A1T , A1N ) changes the government’s ability to credibly act as a lender of last resort.
  For this experiment, we need to move in two steps. First, we characterize the equilibrium
in which the government buys the portfolio ( A1T , A1N ) at date 0 but does not intervene in
financial markets at date 1. This step gives us agents’ portfolios at date 0. Then, given these
portfolios, we will study “off-equilibrium” optimal interventions at date 1.
  Suppose we start at the fragile equilibrium of an economy with no government inter-
vention and a zero government portfolio. If the government buys ( A1T , A1N ) at date 0 and
transfers the net return back to the consumers at date 1, it is easy to see that there is still a
fragile equilibrium, with values of a1T + A1T and a1N + A1N identical to those of the original
equilibrium. All remaining quantities and prices are unchanged. This is a standard Ricar-
dian equivalence result. The only thing we need to check, given that taxes are bounded
by (17), is that the government has sufficient fiscal capacity to finance the net value of
( A1T , A1N ) in all states of the world. We will take care of this requirement below.
  We can then turn to the off-equilibrium analysis of interventions at date 1. The analysis
of the previous section can easily be extended to the case in which the government enters
period 1 with a non-zero portfolio ( A1T , A1N ). Only two things change. First, the definition
of the total resources available to banks M is now

                      M = A1T + p1 A1N + n1 + ξ (1 − α)K1α + βξ (1 − α)K2α .

Second, the resource constraint (19) in the government maximization problem becomes

              (1 + β) c T + βcbT ≤ a1T + A1T − b1T + K1α + βK2α − k2 − φ (K2 − k2 ) .

However, we just made the argument that, in the case of unexpected interventions, the
equilibrium value of a1T + A1T will be the same as a1T in the economy with a zero government
portfolio. Therefore, the government maximization problem is unchanged.
  The fact that the maximization problem of the government is unchanged implies that
the cutoff M̂ is equivalent to the case with A1T = A1N studied in Proposition 6. We can then

                                                31
derive the following result.

Proposition 9. Take an economy with a fragile equilibrium. Let M̂ and M B be defined as in
Propositions 6 and 7. Suppose the portfolio ( A1T , A1N ) satisfies the inequalities

                   A1T + p1B A1N > M̂ − M B ,                                                                (26)
                   A1T + p1G A1N > −ξ (1 − α)[K1α + β(K ∗ )α ],                                              (27)
              q0T A1T + q0N A1N < βE[ A1T + p1 A1N ] + ξ (1 − α)E[K0α + βK1α + β2 K2α ].                     (28)

Then, given the positions ( A1T , A1N ), the good equilibrium is the unique continuation equilibrium
with government intervention.

   To provide an interpretation of this result, consider the interesting case in which M B <
M̂, so optimal government intervention with A1T = A1N = 0 is not sufficient to eliminate
the bad equilibrium, as shown in Proposition 7.
   Now suppose the government borrows in non-tradables to finance the accumulation
of reserves denominated in tradables, taking positions A1T > 0 > A1N , and assume that
these positions yield a zero average payoff E[ A1T + p1 A1N ] = 0. Given that p1G > p1B , the
government makes a net gain in the bad state and a net loss in the good state. Moreover,
given that tradable bonds pay a lower expected return than non-tradable bonds in a fragile
equilibrium, the portfolio will cost q0T A1T + q0N A1N > 0 at date 0.
   Condition (26) ensures that the net portfolio gain in the bad state is large enough to
cover the difference M̂ − M B . This shifts up the resources available in the bad equilibrium,
moving us from the situation depicted in panel (a) of Figure 4 to the situation depicted
in panel (b), and thus eliminating the bad equilibrium. This is our main result on the ex
post effects of reserve accumulation: reserves allow the government to hedge against the
bad equilibrium state and, by boosting the government’s resources in that state, end up
eliminating that equilibrium.18
   The results above provide a rationale for some recent empirical findings. Obstfeld, Sham-
baugh, and Taylor (2010) show that the size of the banking sector liabilities is an important
predictor in explaining the accumulation of foreign currency reserves by emerging markets.
In our model, we can compare two economies that have multiple equilibria at K and K ∗ ,
have the same foreign net position a1T − b1T , and are identical in all other respects except for
   18 Conditions(27) and (28) are needed to make sure that the portfolio ( A1T , A1N ) is feasible. In particular,
condition (27) ensures that the government has sufficient fiscal capacity to cover the portfolio losses in the
good state. Condition (28) ensures that it has sufficient fiscal capacity to cover the ex ante cost of reserve
accumulation.



                                                       32
the balance sheet of the financial sector at date 1, that is, for the debt levels b1N and b1T . The
conditions in Proposition 9 imply the following:19

Remark 1 (Reserves and banks’ balance sheets). Between the two economies described above,
the one with more bank debt requires a higher value of A1T to rule out the bad equilibrium.

   Leverage in the banking sector reduces banks’ net worth in a crisis, thus requiring a
larger government buffer to eliminate the bad equilibrium.
   A second remark comes out of our analysis.

Remark 2 (Unused reserves). Reserves can play a useful role in credibly ruling out financial
panics and yet never be used in equilibrium.

   When the conditions in Proposition 9 are satisfied, the government doesn’t intervene
in equilibrium and rebates the reserves back to the households. However, the presence of
reserves is important to rule out the bad equilibrium. This remark connects our analysis
to another empirical observation: emerging markets seem to hold on to their stocks of
reserves, even in times of distress. Aizenman and Sun (2012) provide evidence of this type
of behavior—which they dub “fear of losing international reserves”—looking at emerging
economies’ response to the global downturn of 2009.


6.2    Anticipated interventions

We now consider the case of a fully expected intervention, that is, we assume that agents
correctly anticipate that the government will use reserves optimally at t = 1 to eliminate
the bad equilibrium.
   Suppose, in particular, that we start at a fragile equilibrium and the government takes
positions that satisfy the conditions in Proposition 9. If all agents correctly anticipate that
the government will intervene and eliminate the bad equilibrium, the positions they take at
date 0 will adjust. In particular, it is possible to show that there is an equilibrium in which
the values of b1T − A1T and b1N − A1N are equal to the values of b1T and b1N in the safe equi-
librium constructed in Proposition 5 and the conditions of Proposition 9 are satisfied, so
there is a unique (good) continuation equilibrium. This means that the consolidated dollar
debt of the banks and the government is lower, and their consolidated peso debt is larger
relative to the original fragile equilibrium. In other words, increased dollar holdings by the
  19 Notice that the value of M̂ depends on the net foreign position of the country, but not on individual
balance sheets.



                                                   33
government are not undone by increased dollar borrowing by the banks. We summarize
this finding in the next remark.

Remark 3 (Catalytic reserves). When reserves are large enough to eliminate the bad equilibrium,
their presence can lead to a higher net consolidated dollar position of banks and the government.

    Here the interesting observation is that banks do not have incentives to undo the positive
foreign currency position of the government by borrowing more in foreign currency. In
other words, the presence of credible intervention at date t = 1 does not induce more risk
taking by banks at t = 0 as the usual moral hazard logic would suggest, and anticipated
government rescues do not lead to more risk taking.
    To understand the logic behind this result, it is useful to identify two opposing channels
through which government intervention affects banks’ behavior ex ante.
    First, if we fix the interest rates in tradables and non-tradables at date 0, there is a direct
effect of intervention that leads banks to issue more tradable debt. The argument is as
follows. As argued in Section 4, the presence of the bad equilibrium gives banks an incen-
tive to borrow less in tradables, as the marginal value of net worth is higher and tradable
debt increases in value in the bad equilibrium. Therefore, when the bad equilibrium is
removed, the incentive to borrow in tradables goes up. This is the traditional moral hazard
mechanism, where reducing the risk to which banks are exposed (by eliminating the bad
equilibrium) would lead to increased risk taking.
    Second, there is a general equilibrium effect that works in the opposite direction. When
government interventions remove the bad equilibrium, domestic savers are no longer con-
cerned about a large depreciation correlated to a contraction in consumption. Hence, savers
will demand more non-tradable denominated assets. This force pushes down the interest
rate differential between tradable and non-tradable denominated debt and induces banks
to borrow more in non-tradables.
    Our argument above shows that the general equilibrium effect dominates in our econ-
omy.



7      Conclusion
Our model provides a novel perspective on financial dollarization in emerging markets,
pointing out the interaction between financial instability and the precautionary motive of
domestic savers. We have used our model to study the ex post and ex ante effects of lending
of last resort, introducing a notion of fiscally credible interventions. Our analysis provides

                                                 34
a rationale for the view that official foreign currency reserves support financial stability, as
they improve the credibility of domestic authorities to intervene in financial panics.
   Our model is very stylized and abstracts from a numer of interesting policy issues.
   First, we leave aside the role of monetary policy. Our model can be interpreted as
making the implicit assumption that the domestic monetary authority is committed to
keep the price of non-tradables stable. It would be interesting to model explicitly monetary
policy in an environment with nominal rigidities, to capture important dilemmas faced
by monetary policy both ex post and ex ante. Ex post, the monetary authority faces the
problem that a monetary expansion causes a nominal devaluation, which increases the
burden of dollar debt. Ex ante, the monetary authority faces the problem that agents taking
domestic currency positions are afraid of future inflation in financial crises. We leave these
issues to future research.
   Second, in our paper, the role of foreign currency reserves is to boost the fiscal position
of the domestic government in the event of a crisis. There are additional reasons why dol-
lar reserves can help support a financial system in distress. In particular, currency market
interventions can be used to dampen movements in the exchange rate, reducing the bur-
den of foreign currency debt.20 Capturing this role would require introducing additional
frictions in currency markets, which is outside the scope of the present paper.
   The central mechanism of our paper is that private savers do not internalize the effect
of their portfolio choices on the financial fragility of the economy. The logic of this mecha-
nism can be extended beyond the specific environment considered here, where savers only
choose the currency composition of their portfolio. In ongoing work, we explore this mech-
anism in a more general dynamic macro-financial model in which borrowers and lenders
trade state contingent claims, and study its implications for aggregate volatility.




  20 Ilzetzki,
            Reinhart, and Rogoff (2017) interpret reserve accumulation by emerging economies as a tool to
reduce exchange rate volatility.


                                                   35
References
Aghion, Philippe, Philippe Bacchetta, and Abhijit Banerjee. 2001. “Currency crises and
  monetary policy in an economy with credit constraints.”          European economic review
  45 (7):1121–1150.

———. 2004. “A corporate balance-sheet approach to currency crises.” Journal of Economic
  theory 119 (1):6–30.

Aguiar, Mark and Gita Gopinath. 2007. “Emerging market business cycles: The cycle is the
  trend.” Journal of Political Economy 115 (1):69–102.

Aizenman, Joshua and Yi Sun. 2012. “The financial crisis and sizable international reserves
  depletion: From "fear of floating" to the "fear of losing international reserves"?” Interna-
  tional Review of Economics & Finance 24:250–269.

Arteta, Carlos O. 2005. “Exchange rate regimes and financial dollarization: Does flexibility
  reduce currency mismatches in bank intermediation?” Topics in Macroeconomics 5 (1).

Bianchi, Javier, Juan Carlos Hatchondo, and Leonardo Martinez. 2012. “International re-
  serves and rollover risk.” Tech. rep., National Bureau of Economic Research.

Borri, Nicola and Adrien Verdhelan. 2013. “Sovereign Risk Premia.” Manuscript, MIT
  Sloan.

Brunnermeier, Markus K and Yuliy Sannikov. 2014. “A macroeconomic model with a fi-
  nancial sector.” The American Economic Review 104 (2):379–421.

Burnside, Craig, Martin Eichenbaum, and Sergio Rebelo. 2001a. “Hedging and financial
  fragility in fixed exchange rate regimes.” European Economic Review 45 (7):1151–1193.

———. 2001b. “Prospective deficits and the Asian currency crisis.” Journal of political
  Economy 109 (6):1155–1197.

———. 2007. “The returns to currency speculation in emerging markets.” American Eco-
  nomic Review 97 (2):333–338.

Caballero, Ricardo J, Emmanuel Farhi, and Pierre-Olivier Gourinchas. 2008. “An Equi-
  librium Model of" Global Imbalances" and Low Interest Rates.” The American Economic
  Review 98 (1):358.

Caballero, Ricardo J and Arvind Krishnamurthy. 2003. “Excessive dollar debt: Financial
  development and underinsurance.” The Journal of Finance 58 (2):867–894.



                                              36
Caballero, Ricardo J and Stavros Panageas. 2008. “Hedging sudden stops and precautionary
  contractions.” Journal of Development Economics 85 (1):28–57.

Chang, Roberto and Andres Velasco. 2000. “Financial fragility and the exchange rate
  regime.” Journal of economic theory 92 (1):1–34.

———. 2001. “A model of financial crises in emerging markets.” Quarterly Journal of
  Economics :489–517.

Corsetti, Giancarlo, Paolo Pesenti, and Nouriel Roubini. 1999. “Paper tigers?: A model of
  the Asian crisis.” European Economic Review 43 (7):1211–1236.

Dalgic, Husnu. 2017. “Financial Dollarization in Emerging Markets as an Insurance Mech-
  anism.” Manuscript, Northwestern University.

De Nicoló, Gianni, Patrick Honohan, and Alain Ize. 2003. Dollarization of the banking system:
  good or bad? 3-146. International Monetary Fund.

Diamond, Douglas W and Philip H Dybvig. 1983. “Bank runs, deposit insurance, and
  liquidity.” Journal of Political Economy :401–419.

Du, Wenxin and Jesse Schreger. 2016. “Sovereign Risk, Currency Risk, and Corporate
  Balance Sheets.” Manuscript, Columbia Business School.

Durdu, Ceyhun Bora, Enrique G Mendoza, and Marco E Terrones. 2009. “Precautionary
  demand for foreign assets in Sudden Stop economies: An assessment of the New Mer-
  cantilism.” Journal of development Economics 89 (2):194–209.

Ennis, Huberto M and Todd Keister. 2009. “Bank runs and institutions: The perils of
  intervention.” The American Economic Review 99 (4):1588–1607.

Fahri, Emmanuel and Matteo Maggiori. 2017. “A Model of the International Monetary
  System.” Forthcoming, Quarterly Journal of Economics.

Farhi, Emmanuel and Jean Tirole. 2012. “Collective moral hazard, maturity mismatch, and
  systemic bailouts.” The American Economic Review 102 (1):60–93.

Gertler, Mark and Nobuhiro Kiyotaki. 2010. “Financial intermediation and credit policy in
  business cycle analysis.” Handbook of Monetary Economics 3 (3):547–599.

———. 2015. “Banking, liquidity, and bank runs in an infinite horizon economy.” The
  American Economic Review 105 (7):2011–2043.

Gopinath, Gita and Jeremy C Stein. 2018. “Banking, Trade, and the making of a Dominant
  Currency.” Tech. rep., National Bureau of Economic Research.


                                              37
Gourinchas, Pierre-Olivier and Olivier Jeanne. 2013. “Capital flows to developing countries:
  The allocation puzzle.” Review of Economic Studies 80 (4):1484–1515.

He, Zhiguo and Arvind Krishnamurthy. 2012. “Intermediary Asset Pricing.” The American
  Economic Review 20:1–42.

———. 2015. “A Macroeconomic Framework for Quantifying Systemic Risk.” Manuscript,
  Stanford GSB.

Hernandez, Juan. 2017.       “How International Reserves reduce the Probability of Debt
  Crises.” Manuscript, University of Pennsylvania.

Hur, Sewon and Illenin O Kondo. 2016. “A theory of rollover risk, sudden stops, and
  foreign reserves.” Journal of International Economics 103:44–63.

Ilzetzki, Ethan, Carmen M. Reinhart, and Kenneth S. Rogoff. 2017. “Exchange arrangements
  entering the 21st century: Which anchor will hold?” NBER working paper No 23134.

Ize, Alain and Eduardo Levy-Yeyati. 2003. “Financial dollarization.” Journal of International
  Economics 59 (2):323–347.

Jeanne, Olivier and Romain Rancière. 2011. “The optimal level of international reserves for
  emerging market countries: a new formula and some applications.” The Economic Journal
  121 (555):905–930.

King, Mervyn. 2006. “Reform of the International Monetary Fund.” Speech at the Indian
  Council for Research on International Economic Relations.

Krugman, Paul. 1999. “Balance sheets, the transfer problem, and financial crises.” In
  International finance and financial crises: Essays in Honor of Robert P Flood, edited by A. Razin
  P. Isard and A. Rose. Springer, 31–55.

Levy-Yeyati, Eduardo. 2006. “Financial dollarization: evaluating the consequences.” Eco-
  nomic Policy 21 (45):62–118.

Maggiori, Matteo. 2017. “Financial intermediation, international risk sharing, and reserve
  currencies.” Forthcoming, American Economic Review.

Maggiori, Matteo, Brent Nieman, and Jesse Schreger. 2017. “Unpacking Global Capital
  Flows.” Manuscript, Harvard.

Mendoza, Enrique G. 2010. “Sudden stops, financial crises, and leverage.” The American
  Economic Review 100 (5):1941–1966.




                                                38
Mendoza, Enrique G, Vincenzo Quadrini, and Jose-Victor Rios-Rull. 2009. “Financial in-
  tegration, financial development, and global imbalances.” Journal of Political economy
  117 (3):371–416.

Obstfeld, Maurice, Jay C Shambaugh, and Alan M Taylor. 2010.             “Financial stability,
  the trilemma, and international reserves.” American Economic Journal: Macroeconomics
  2 (2):57–94.

Rampini, Adriano A and S Viswanathan. 2010. “Collateral, risk management, and the
  distribution of debt capacity.” The Journal of Finance 65 (6):2293–2322.

Rappoport, Veronica. 2009. “Persistence of dollarization after price stabilization.” Journal
  of Monetary Economics 56 (7):979–989.

Robatto, Roberto. 2017. “Bank Runs, Fire Sales, and Policy Interventions: Panic versus
  Fundamentals.” Working Paper, University of Wisconsin.

Salomao, Juliana and Liniana Varela. 2017. “Exchange Rate Exposure and Firm Dynamics.”
  Manuscript, Carlson School of Management.

Schneider, Martin and Aaron Tornell. 2004. “Balance sheet effects, bailout guarantees and
  financial crises.” The Review of Economic Studies 71 (3):883–913.

Tourre, Fabrice. 2017. “A Macro-Finance Approach to Sovereign Debt Spreads and Re-
  turns.” Manuscript, University of Chicago.

Wiriadinata, Ursula. 2017. “External Debt, Currency Risk, and International Monetary
  Policy Transmission.” Manuscript, University of Chicago.




                                             39
                                              Appendix

Derivations for equation (6)

The consumer optimality conditions in a continuation equilibrium can be derived following
standard steps and take the form
                                   ω (1−γ)−1  (1−ω )(1−γ)
                                ω c1T            c1N                          =λ               (A.1)
                                   ω (1−γ)  (1−ω )(1−γ)−1
                          (1 − ω ) c1T        c1N                             = λp1            (A.2)
                                   ω (1−γ)−1  (1−ω )(1−γ)
                              βω c2T             c2N                          = λβ             (A.3)
                                   ω (1−γ)  (1−ω )(1−γ)−1
                        β (1 − ω ) c2T        c2N                             = λβp2 ,         (A.4)

where λ is the Lagrange multiplier on the intertemporal budget constraint. Combining
(A.1), (A.3), and the market clearing condition ctN = e N , we get c1T = c2T . Combining (A.2)
and (A.4) we then get p1 = p2 = p. Combining (A.1) and (A.2), we also get ctT /( p1 c1N ) =
ω/ (1 − ω ), and similarly we get the same relation at t = 2. Substituting these conditions
in the intertemporal budget constraint, we obtain

                                            ω                           11−ω
                          c1T = c2T =          W,       c1N = c2N =           W,
                                           1+β                          p 1+β

where                                                                                    
                          W=     a1T   +   pa1N   + w1 + βw2 + p        N
                                                                       ec,1   +     N
                                                                                  βec,2

is the total wealth of the consumers at date 1. Setting c1N = e N gives equation (6) in the text.


Proof of Proposition 1

If { a1T , a1N , b1T , b1N , K1 } satisfy (8), we have that P (.) is increasing in K and concave. Let
p∗ = P (K ∗ ) and p = P (K ). We can have three types of equilibria: either we have

                                          1 h α                         i
                             K≥               αK1 − b1T + p(eb,1
                                                             N
                                                                 − b1N ) ,
                                       1 − βθ

and we have an equilibrium with K = K( p) and p = P (K ); or we have

                             ∗    1 h α      T    ∗ N       N
                                                               i
                           K ≤        αK1 − b1 + p (eb,1 − b1 ) ,
                               1 − βθ

                                                       40
and we have an equilibrium with K ∗ = K( p∗ ) and p∗ = P (K ); or we have

                                1 h α      T           N      N
                                                                 i
                          K=        αK1 − b1 + P (K )(eb,1 − b1 ) ,
                             1 − βθ

for some (K, K ∗ ), and we have an interior equilibrium. If the first two types of equilibria
do not exist, then the third type of equilibrium must exist by a continuity argument. This
establishes existence.
  Let us now show that if there are multiple equilibria, one of them must be of the first
type. By contradiction, we show that if a first type
                                                 h equilibrium does not exist, i then the
                                              1          T           N      N
equilibrium is unique. The function h(K ) = 1− βθ αK1 − b1 + P (K )(eb,1 − b1 ) is concave,
                                                     α

                                   N . If an equilibrium of the first type does not exist,
from the concavity of P and b1N ≤ eb,1
then h(K ) > K and two cases are possible: either the function h crosses the 45o line from
above at some K ∈ (K, K ∗ ), in which case that is the unique equilibrium, or the function
remains above the 45o line on the whole interval, in which case h(K ∗ ) ≥ K ∗ and there is a
unique equilibrium at K ∗ .


Proof of Proposition 2

Points (i)-(iii) and the consumers’ part of point (iv) follow immediately from the fact that
p1 and K2 are lower in the crisis equilibrium. For the entrepreneurs, we have that their
consumption in period 2 is
                                             r2 − θ
                                                    n1 .
                                             1 − βθ
If K2 ∈ (K, K ∗ ), this expression becomes

                               r2 − θ
                                      n1 = (r2 − θ )K2 = αK2α − θK2 ,
                               1 − βθ

where the first equality uses the banks’ budget constraint and the fact that the banks are
constrained when K2 is in that interval, and the second equality uses the definition of the
rental rate of capital.
  If there is an equilibrium at K, then

                              r2 − θ
                                     n1 ≤ (αK α−1 − θ )K = αK α − θK,
                              1 − βθ




                                                 41
whereas if there is an equilibrium at K ∗ ,

                         r2 − θ
                                n1 ≥ (α(K ∗ )α−1 − θ )K ∗ = α(K ∗ )α − θK ∗ .
                         1 − βθ

These derivations and the concavity of αK α − θK imply that a sufficient condition for the
banker to be better off at any equilibrium with K2 > K, than at the crisis equilibrium with
K, is
                                          α(K ∗ )α − θK ∗ > αK α − θK.

Given the definitions of K ∗ and K, this inequality is equivalent to condition (11) in the
statement of the proposition.


Proof of Proposition 3

The proof is by construction. Fix the wages and rental rates that prevail in the good and the
bad equilibria under { a1T , a1N , b1T , b1N , K1 }. If condition (15) is satisfied, there exists a γ > 0
such that                                                !ω (1−γ)−1
                                       w1 + w2B + a1T                        r2B − θ
                                                                         =           .
                                       w1 + w2G + a1T                        r2G − θ
The above condition guarantees that the asset positions are consistent with consumers’ and
banks’ optimality. We now show that we can select initial positions { a0T , a0N , b0T , b0N , K0 } such
that all the remaining equilibrium conditions of the model at date t = 0 are satisfied. As
we have some degree of freedom, we set a0N = b0N = 0.
   Pick any probabilities π G , π B and set c0T to satisfy the consumers’ Euler equation
                                      ω (1−γ)−1                         ω (1−γ)−1
                                 c0T                =    ∑       π s c1T,s            .
                                                        s= G,B


We can then choose a0T to satisfy the consumers’ budget constraint at t = 0:

                                  c0T + p0 e N + βa1T = p0 ec,0
                                                            N
                                                                + w0 + a0T

where
                                                          1 − ω c0T
                                                p0 =
                                                            ω eN
guarantees that the market for non-tradable goods clears. So, households are optimizing,
and their budget constraint is satisfied.
   Assuming that the collateral constraint of the banks is slack, we have that optimal capital


                                                          42
choice at date t = 0 solves
                                            λb,0 = E[λb,1 ]r1 .

Combining the above equation with the banks’ optimality condition for tradable denom-
inated bonds, we obtain K1 = K ∗ . Thus, the budget constraint of the banks is satisfied
if
                                    K ∗ = αK0α + p0 eb,0
                                                     N
                                                         − b0T + βb1T .

For any K0 , there always exists a b0T that guarantees that the above constraint holds. More-
over, the collateral constraint b1T ≤ θK1 is satisfied by construction, verifying the assump-
tion that the banks’ collateral constraint is slack. Thus, the bankers are also optimizing,
and their constraint is satisfied.


Proof of Proposition 4

Having stable multiple equilibria ex ante requires that we have a pair of capital stocks
(K, K2 ) such that
                                                    !ω (1−γ)−1
                                   w1 + w2B + a1T                     r2B − θ
                                                                  =           ,
                                   w1 + w2G + a1T                     r2G − θ
where wages and rental rates are derived from the two capital stocks. This is impossible if
                                                    !ω (1−γ)−1
                                   w1 + w2B + a1T                   r2B − θ
                                                                  < G
                                   w1 + w2G + a1T                  r2 − θ

for all pairs (K2 , K ) with K2 ∈ [K, K ∗ ]. To find sufficient conditions for this inequality, let us
study the function
                                                                          
            f (k) = ln αkα−1 − θ + (ω (γ − 1) + 1) ln w1 + β (1 − α) kα + a1T .

If f 0 (k) < 0 for all k ∈ [K, K ∗ ], then the above inequality holds. The derivative of f is

                            α ( α − 1 ) k α −2                         β (1 − α) αkα−1
                f 0 (k) =                      + ( 1 + ω ( γ − 1 ))
                              αkα−1 − θ                             w1 + β (1 − α) k + a1T

and has the same sign as

                     ( βαkα−1 − βθ ) (1 + ω (γ − 1)) k − w1 − β (1 − α) k − a1T .




                                                     43
Since w1 ≥ 0 and βαkα−1 ≤ φ and we are assuming a1T ≥ 0, the last expression is bounded
above by
                              (φ − βθ ) (1 + ω (γ − 1)) k − β (1 − α) k,

which is negative by assumption.


Proof of Proposition 5

Some algebra shows that consumption of tradables in a fragile equilibrium satisfies
                                                                 
                                          c0T = ψ0 w0 + a0T − βa1T ,

                                                                   
                                          c1T,s = ψ1 w1 + βw2s + a1T ,

for s = { B, G }, where
                                                            ωe N
                                           ψ0 =                       N
                                                                          ,
                                                     ωe N + (1 − ω ) eb,0

                                                                   ωe N
                             ψ1 =                                      .
                                                              N + βe N
                                     (1 + β) ωe N + (1 − ω ) eb,1   b,2

The Euler equation for consumers
                                        ω (1−γ)−1                                 ω (1−γ)−1
                                   c0T                   = ∑π        s
                                                                             c1T,s
                                                               s

implies                                                    h        i
                                              c0T   <   E0 c1T,s         < c T,G ,

which implies

                                                    c0T   c T,G w0 + w1 + βw2G + a0T
                                   
                        1     1
                           +β             c0T <         +β 1 =                       .            (A.5)
                        ψ0    ψ1                    ψ0     ψ1       1 + β + β2

   In a safe equilibrium, consumption of tradables must be constant c0T = c1T = c2T = ĉ T .
Therefore, to construct a safe equilibrium, we look for a vector ĉ T , p̂, n̂1 , K̂2 that satisfies the
following four equations:
                                         
                            1     1
                               +β             ĉ T = w0 + βw1 + β2 (1 − α) K̂2α + a0T ,
                            ψ0    ψ1




                                                               44
                                                  1 − ω ĉ T
                                            p̂ =             ,
                                                    ω eN
                                      1h  N          N
                                                                      i
                               n̂1 =     p̂ eb,0 + βeb,1   + αK0α − b0T ,
                                      β
                                                                   
                                                      1           ∗
                                     K̂2 = min             n̂1 , K .
                                                   1 − βθ
The equation for banks’ net worth follows from the fact that we constructed fragile equilib-
ria with K1 = K ∗ , so the rate of return on banks’ net worth is 1/β between periods 0 and
1.
     It is possible to use equation (A.5) together with monotonicity and concavity properties
of the functions involved to show that the four equations above have a unique solution
with
                                     K̂2 ≥ K2G , n̂1 ≥ n1G , ĉ T > c0T .

We can then construct a safe equilibrium based on the allocation just derived and set the
positions in non-tradables to â1N = b̂1N = ebN .


Proof of Proposition 6

Before proving the proposition, we state and prove three preliminary lemmas.
     To ensure that condition (21) is satisfied, the government must choose an allocation that
is in one of two regions: the region k2 ≤ K2 = K and the region k2 = K2 ≥ K. The next
two lemmas characterize the optimal solution when the opimal k2 is in one of these two
regions.

Lemma 1. If the government optimum satisfies k2 ≤ K2 = K and k2B ∈ [ 1−n1βθ , 1−Mβθ ], then the
optimum is at the bad equilibrium allocation.

Proof. When k2 ≤ K2 = K, the first-order conditions for the optimal choice of (c T , cbT , k2 )
are

                              UcT (c T , e N ) = λ                                              (A.6)
                                      βΦ = βλ − µ                                               (A.7)
                                λ(φ − 1) = µ(αK α−1 − θ ) + δu − δl ,                           (A.8)

where λ and µ are the Lagrange multipliers of constraints (19) and (20), and δu and δl are
the Lagrange multipliers on the upper and lower bounds in (22).
     If k2B ∈ [ 1−n1βθ , 1−Mβθ ], the bad equilibrium allocation is feasible and we can check that the

                                                     45
first-order conditions (A.6)-(A.8) are satisfied at the bad equilibrium allocation, with δu =
δl = 0. Solving for λ and µ from (A.6) and (A.7), substituting in (A.8), using φ = βαK α−1 ,
and rearranging gives
                                          r2B − θ
                                     Φβ           − UcT (c T,B , e N ) = 0,                   (A.9)
                                          1 − βθ
where the equality follows from our choice of Φ and the equilibrium conditions of a fragile
equilibrium.

   Define the value of the social welfare function at the bad equilibrium:

                                 W B ≡ (1 + β)U (c T,B , e N ) + ΦβcbT,B .                   (A.10)

We can then state the next lemma.

Lemma 2. If the government optimum satisfies k2 = K2 ≥ K, it also satisfies
                                                
                                       M       ∗
           k2 = K2 = min                    ,K ,                                             (A.11)
                                     1 − βθ
                                                                                      
            T           1            
                                        T    T
                                                                              
                                                                                   T,G
           c = min                     a1 − b1 + K1 + β(1 − α)K2 − (1 − βθ )K2 , c
                                                   α           α
                                                                                         ,   (A.12)
                       1+β
            T   1 T
                  
                          T                          T
                                                       
           cb =     a − b1 + K1 + βK2 − K2 − (1 + β)c .
                              α     α
                                                                                             (A.13)
                β 1

Proof. The first-order conditions for (c T , cbT , k2 ) in this case are

                                 UcT (c T , e N ) = λ                                        (A.14)
                                     βΦ = βλ − µ                                             (A.15)
                                      
                          λ αβK2α−1 − 1 = µ(α2 K2α−1 − θ ) + δu − δl ,                       (A.16)

where the Lagrange multipliers are labeled as in the previous lemma. To show that the
allocation in (A.11)-(A.13) satisfies these first-order conditions, we consider three cases.
   First, consider the case in which M/(1 − βθ ) < K ∗ and

                              1  T                                        
                   c T,G ≤       a1 − b1T + K1α + β(1 − α)K2α − (1 − βθ )K2 .                (A.17)
                             1+β

In this case, equation (A.12) yields c T = c T,G , and, using inequality (A.17) and condition
(A.13), it is easy to show that the participation constraint (20) is slack. Consistent with a
slack participation constraint, equations (A.14) and (A.15) yield µ = 0, as UcT = Φ at the
good equilibrium allocation. Since k2 is at its upper bound, we set δl = 0 and we need

                                                       46
to check that δu ≥ 0. The value of δu can be derived from equation (A.16) and is positive
because µ = 0 and αβK2α−1 > 1 from K2 < K ∗ .
  Second, consider the case in which M/(1 − βθ ) < K ∗ and

                     T,G      1  T   T
                                                                       
                 c         >     a − b1 + K1 + β(1 − α)K2 − (1 − βθ )K2 .
                                           α            α
                                                                                         (A.18)
                             1+β 1

In this case, equation (A.12) yields c T < c T,G , and, using inequality (A.18) and condition
(A.13), it is possible to check that the participation constraint (20) is binding. Consis-
tent with a binding constraint, equations (A.14) and (A.15) yield µ > 0 (using c T < c T,G ,
UcT (c T,G , e N ) = Φ, and strict concavity of U). Again, k2 is at its upper bound, so we need
to check that δu ≥ 0. In this case, we can write
                                                
                             βδu = βλ αβK2α−1 − 1 − µ(α2 βK2α−1 − βθ ),

and the argument that δu ≥ 0 follows from two inequalities: βλ > µ—which follows
immediately from (A.15)—and

                                    αβK2α−1 − 1 > α2 βK2α−1 − βθ.

To prove the last inequality, notice that it is equivalent to requiring that the expression

                            1  T   T
                                                                      
                               a − b1 + K1 + β(1 − α)K2 − (1 − βθ )K2
                                         α            α
                           1+β 1

has a positive derivative with respect to K2 . This expression is the first expression inside
the min operator in (A.12) and is a concave function of K2 . Moreover, it is possible to prove
that c T,G is strictly lower than this expression at K2 = K ∗ . This implies that the derivative
of this function must be positive for any K2 < K ∗ that satisfies (A.18).
  Third, consider the case M/(1 − βθ ) ≥ K ∗ . In this case, the good equilibrium allocation
can be implemented and the first-order conditions are all satisfied with µ = δu = δl = 0.

  In order to define the cutoff M̂, we first need to define the function J ( M ) that gives
social welfare at the allocation defined by (A.11)-(A.13) for any given M. The next lemma
characterizes this function. Define the following values for M:

                                M ≡ (1 − βθ )K,    M∗ = (1 − βθ )K ∗ .

Lemma 3. The function J ( M), is continuous and strictly increasing in M for M < M∗ , and it



                                                  47
achieves its maximum

                           J ( M ) = W G ≡ (1 + β)U (c T,G , e N ) + ΦβcbT,G ,          (A.19)

for all M ≥ M∗ . It also satisfies
                                            J ( M) < W B .

Proof. It is straightforward to show that J ( M ) is continuous and increasing in M, as a
higher M relaxes the upper bound constraint on k2 . Moreover, J ( M ) achieves its maximum
at the good equilibrium allocation because the government implements this allocation if
M ≥ M∗ , as shown in Lemma 2.
   To show the inequality J ( M ) ≤ W B , notice that the allocation chosen at M has k2 =
K2 = K. So the same allocation is also feasible in the region of allocations considered in
Lemma 1. And that lemma shows that the optimum in that set is (if feasible) at the bad
equilibrium allocation. It is also easy to show that the latter is a unique local optimum,
proving the strict inequality.

   We can now define the cutoff M̂ and complete our proof. We just proved that J ( M) <
W B and J ( M∗ ) = W G . Since the good equilibrium Pareto dominates, we have W G > W B .
By continuity of J there must exist an M ∈ ( M, M∗ ) such that J ( M) = W B . Such value is
unique since J is strictly increasing in that interval. Let M̂ be that unique value.
   If M < M̂ and k2B ∈ [ 1−n1βθ , 1−Mβθ ], we know from Lemma 1 that the bad equilibrium
allocation is the best allocation in the region k2 ≤ K2 = K. We also know that there can be
no solution in the region k2 = K2 ≥ K that dominates W B because, by Lemma 2, such a
solution would yield J ( M ) and the definition of M̂ implies J ( M) < W B . This proves part
1 of the proposition.
   If M > M̂, we know from Lemma 2 that there is a solution in the region k2 = K2 ≥ K
that is feasible and dominates the best solution in the region k2 ≤ K2 = K, which yields at
most W B . This proves part 2 of the proposition.
   If M = M̂, the government is indifferent between the bad equilibrium and setting k2 =
K2 = M/(1 − βθ ). In this case, we assume that the government chooses the second solution.




Proof of Proposition 7

The steps to prove this result are provided in the discussion of Figure 4 in the main text.




                                                   48
Proof of Proposition 8

If the actions in the first and second subperiods are simultaneous, the problem of the
government becomes
                                  max (1 + β)U (c T , e N ) + ΦcbT
                               c T ,cbT ,k2 ,K2

subject to

                 (1 + β) c T + βcbT ≤ a1T − b1T + K1α + βK2α − k2 − φ (K2 − k2 )         (A.20)
                                cbT ≥ αK2α−1 k2 − θk2                                    (A.21)
                            αβK2α−1 ≥ φ and K2 − k2 ≥ 0                                  (A.22)
                     n1 ( c T ) ∗                M ( c T , K2 ) ∗
                                                               
               min             ,K   ≤ k2 ≤ min                 ,K ,                      (A.23)
                     1 − βθ                       1 − βθ

where n1 (c T ) depends on c T because the latter affects the equilibrium exchange rate, and
M (c T , K2 ) depends on c T and K2 because the former affects net worth through the exchange
rate and the latter affects second-period wages and, thus, the tax revenues the government
can collect. Note also that n1 (c T,G )/(1 − βθ ) ≥ K ∗ because of the assumption that in the
good continuation equilibrium with no interventions, banks are not financially constrained.
Note also that M (c T,G , K ∗ )/(1 − βθ ) ≥ K ∗ even if ξ = 0. It follows that the allocation of
the good continuation equilibrium with no intervention is feasible. It is straightforward to
show that it is optimal for the government to implement such an allocation (see the proof
of Proposition 6 for the argument).


Proof of Proposition 9

The steps to prove this result are provided in the main text.




                                                  49
   Online Appendix to “Financial Crises, Dollarization,
     and Lending of Last Resort in Open Economies"
                            by Luigi Bocola and Guido Lorenzoni


The decision problem of the government

The government enters subperiod (ii) and chooses a policy {τ1 , τ2 , T1 , T2 , A2T , Tb , R} that
maximizes the social welfare function subject to its budget constraints, feasibility,

                 τt ≤ ξ      Tt ≥ 0       − A2T ≤ − A         Tb ≥ 0       R ≤ β−1 Tb

and the optimal behavior of consumers, bankers, and firms.
   In this section we show that this problem can be rewritten as choosing an allocation
(c T , cbT , k2 , K2 ) that maximizes social welfare, subject to a set of constraints.
   We can start by deriving an intertemporal resource constraint for the economy by con-
solidating the budget constraints of the government, consumers, and bankers. The budget
constraints of the consumers under a government’s policy are

                    c1T + p1 c1N + βa2T ≤ (1 − τ1 )w1 + p1 ec,1
                                                            N
                                                                + a1T + p1N a1 + T1

                            c2T + p2 c2N ≤ (1 − τ2 )w2 + p2 ec,2
                                                             N
                                                                 + a2T + T2 .

The budget constraints for the government are

                                       T1 + Tb ≤ τ1 w1 − βA2T

                                        T2 − A2T ≤ τ2 w2 + R.

Consolidating the budget constraints of the government with those of the consumers, we
have

  c1T + βc2T + p1 c1N + βp2 c2N ≤ w1 + βw2 + p1 ec,1
                                                 N          N
                                                     + βp2 ec,2 + a1T + p1 a1N + ( βR − Tb ). (OA.1)

   For the banks, we have the budget constraints

                                         k2 ≤ n1 + βb2T + Tb

                                         cbT ≤ r2 k2 − b2T − R.


                                                   1
Substituting the two expressions above in (OA.1) and using the market clearing conditions
for non-tradable goods, for factors of production, and for the N-denominated bonds, we
obtain the intertemporal resource constraint

                    c1T + βc2T + βcbT ≤ ( a1T − b1T ) + K1α + βK2α − k2 − φ(K2 − k2 ).


   Given any government policy, consumers set c1T = c2T = c T . Thus, the intertemporal
resource constraint becomes

                   (1 + β)c T + βcbT ≤ ( a1T − b1T ) + K1α + βK2α − k2 − φ(K2 − k2 ).    (OA.2)


   We can also derive a lower bound on the consumption of bankers that must be satisfied
under any policy of the government. Using the collateral constraint

                                               b2T + R ≤ θk2

and the expression for net worth in period 2, we obtain the following restriction on cbT :

                                 cbT = r2 k2 − b2T − R ≥ (αK2α−1 )k2 − θk2 .             (OA.3)


   From these derivations, we have that (c T , cbT ) must satisfy the constraints (OA.2) and
(OA.3) under any government policy. We now show that the government can partly control
(k2 , K2 ) by using ( Tb , R).
   Using the optimality conditions of firms operating with an inferior technology, we have
that for any feasible ( Tb , R), (k2 , K2 ) must satisfy

                                      K2 − k 2 ≥ 0           αβK2α−1 ≤ φ,                (OA.4)

where at least one of the above inequalities is strict. Note also that for any ( Tb , R), we
cannot have that k2 = K2 > K ∗ because the banks would not borrow when βr2 > 1.
Moreover, because Tb ≥ 0, we must have that
                                                                   
                                                           n1     ∗
                                        k2 ≥ min                ,K ,                     (OA.5)
                                                         1 − βθ

which is the optimal level of investment set by banks when Tb = 0.
   It follows that the government can influence (k2 , K2 ) only when n1 /(1 − βθ ) < K ∗ , and
as long as K2 ≤ K ∗ . Under these conditions, the collateral constraint of banks necessarily


                                                         2
binds, which implies that banks use any government transfer to accumulate capital. The
maximum transfer that the government can give to the banks is obtained by setting Tb =
ξ (1 − α)K1α − βA and R = 0. Thus, the highest level of bank investment that the government
can induce satisfies                                                    
                                                                M      ∗
                                     k2 ≤ min                        ,K ,                     (OA.6)
                                                              1 − βθ
where M = n1 + ξ (1 − α)K1α − βA.
  From here, it follows that choosing a feasible ( Tb , R) is equivalent to choosing (K2 , k2 )
subject to the constraints (OA.4)-(OA.6).
  As a result, we can write the decision problem of the government as follows:

                          W ( n1 , M ) =      max (1 + β)U (c T , e N ) + ΦcbT
                                           c T ,cbT ,k2 ,K2


subject to

                 (1 + β) c T + βcbT ≤ a1T − b1T + K1α + βK2α − k2 − φ (K2 − k2 )              (OA.7)
                                  cbT ≥ αK2α−1 k2 − θk2                                       (OA.8)
                             αβK2α−1 ≥ φ and K2 − k2 ≥ 0                                      (OA.9)
                                                           
                          n1      ∗                  M      ∗
              min              ,K     ≤ k2 ≤ min          ,K ,                               (OA.10)
                        1 − βθ                     1 − βθ

with at least one condition in (OA.9) holding as an equality.


Microfoundations for limited fiscal capacity

Suppose that firms in the tradable sector can operate in an informal sector that cannot be
taxed. Capital and labor can freely move to the informal sector, but labor in the informal
sector is less efficient, by a factor 1 − ξ. That is, the production function in the informal
sector is
                                                                        1− α
                                      ỹ = K̃ α (1 − ξ ) L̃                     .

  The wage in the informal sector is
                                                                                   α
                                                                          K̃
                               w̃ = (1 − α) (1 − ξ )                                     .
                                                                      (1 − ξ ) L̃




                                                              3
Optimality for capital in the informal sector requires
                                                    α −1          α −1
                                          K̃                       K
                              α                              =r=α          ,
                                      (1 − ξ ) L̃                  L

which implies
                                                   K̃       K
                                                           = .
                                               (1 − ξ ) L̃  L
Workers weakly prefer the formal sector if
                          α                                  α                      α
                          K                             K̃                              K
       (1 − τ ) (1 − α )      ≥ (1 − α ) (1 − ξ )                  = (1 − ξ ) (1 − α )      ,
                          L                         (1 − ξ ) L̃                         L

that is, if
                                                      τ ≤ ξ.

If τ > ξ, all labor and capital will shift to the informal sector and tax revenues are zero. If
τ = ξ, agents are indifferent and we assume that they choose to work in the formal sector.
If τ < ξ, there is no activity in the informal sector and taxes are non-distortionary. Thus,
this economy is equivalent to our baseline model where labor taxes are non-distortionary
but are bounded above by ξ.




                                                             4
