                              NBER WORKING PAPER SERIES




                   GENERATIONAL RISK - IS IT A BIG DEAL?:
        SIMULATING AN 80-PERIOD OLG MODEL WITH AGGREGATE SHOCKS

                                      Jasmina Hasanhodzic
                                      Laurence J. Kotlikoff

                                      Working Paper 19179
                              http://www.nber.org/papers/w19179


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                            June 2013, Revised August 2018




We thank Ken Judd, Thomas Sargent, Kent Smetters, Kerk Phillips, Rick Evans, Karl
Schmedders, Simon Gilchrist, and Alisdair McKay for helpful comments. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2013 by Jasmina Hasanhodzic and Laurence J. Kotlikoff. All rights reserved. Short sections of
text, not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.
Generational Risk - Is It a Big Deal?: Simulating an 80-Period OLG Model with Aggregate
Shocks
Jasmina Hasanhodzic and Laurence J. Kotlikoff
NBER Working Paper No. 19179
June 2013, Revised August 2018
JEL No. E0
                                          ABSTRACT
The theoretical literature presumes generational risk is large enough to merit study and that such
risk can be meaningfully shared via appropriate government policies. This paper assesses these
propositions. It develops an 80-period OLG model to directly measure generational risk and the
extent to which it can be mitigated via financial markets or Social Security. The model is trend
stationary as is common in the literature. It features isoelastic preferences, moderate risk
aversion, Cobb-Douglas technology, and shocks to both TFP and capital depreciation. Our
computation method builds on Marcet (1988), Marcet and Marshall (1994), and Judd, Maliar, and
Maliar (2009, 2011), who overcome the curse of dimensionality by limiting a model's state space
to its ergodic set.

Our baseline calibration uses the literature's estimate of the TFP shock process and sets
depreciation shocks to match the variability of the return to U.S. wealth. The baseline results
feature higher than observed output variability. Nonetheless, we find relatively little generational
risk. This calibration produces a very small risk premium. Resolving this puzzle by adding
increasing borrowing costs does not affect our conclusions regarding the size of generational risk.
Our second calibration increases depreciation shocks, as in Krueger and Kubler (2006), to match
the model's return variability with that of the equity market. Doing so reproduces the equity
premium (even absent borrowing costs), but substantially overstates the variability of output and
wages. This calibration generates significant cross-generational risk.

Under both calibrations, the one-period bond market is very effective in sharing risks among
contemporaneous generations. But the simulated sizes of short and long bond positions associated
with unrestricted use of this market appear unrealistically large. Finally, we find that Social
Security can be effective in reducing generational risk no matter its initial size.

Jasmina Hasanhodzic
Babson College
Finance Division
231 Forest Street
Babson Park MA 02457
jhasanhodzic1@babson.edu

Laurence J. Kotlikoff
Department of Economics
Boston University
270 Bay State Road
Boston, MA 02215
and The Gaidar Institute for Economic Policy
and also NBER
kotlikoff@gmail.com
1         Introduction
Generational risk references lifetime welfare differences across agents born at different dates
arising from shocks to the economy. Economists have long examined generational risk and
its mitigation via government policy (e.g., Diamond, 1977; Merton, 1983; Bohn, 1998, 1999,
2001, 2002, 2006, 2009; Shiller, 1999; Rangel and Zeckhauser, 2001; Smetters, 2003; Krueger
and Kubler, 2006; Ball and Mankiw, 2007; and Bovenberg and Uhlig, 2008). The above
studies don’t directly measure the size of generational risk. Rather, they presume genera-
tional risk is large enough to merit study and show that pay-as-you-go Social Security and
other generational redistribution policies can potentially share it.
     This paper seeks to quantify the extent of generational risk and the relative roles of
the bond market and Social Security in mitigating it. It posits an 80-period OLG model
and develops a simple, robust method to overcome the curse of dimensionality, calculate
the model’s stationary stochastic equilibrium and measure generational risk. Our model’s
solution method is based on the trend-stationary, global computation techniques developed
by Marcet (1988), Marcet and Marshall (1994), and Judd, Maliar, and Maliar (2009, 2011).
Apart from the number of periods, our model is bare bones. It features isoelastic preferences,
moderate risk aversion, Cobb-Douglas production, a one-period bond market, and aggregate
shocks to both total factor productivity (TFP) and the rate of capital depreciation. Policy
is limited to Social Security.
     Generational risk is measured in two ways. First, we examine the dispersion across gen-
erations born at different dates in their realized levels of lifetime utility. Second, we consider
the scope for contemporaneous generations to share risk. We consider two calibrations la-
beled baseline and alternative. The baseline calibration sets the variability of depreciation
shocks to reproduce the variability of the economy’s return to wealth. Specifically, we use
data from the Bureau of Economic Analysis’ National Accounts and the Federal Reserve’s
Financial Accounts to back out the return to the economy’s wealth based on



                                               Wt+1 − Wt + Ct − Et
                                        rt =                       ,                                    (1)
                                                       Wt

where Wt , Et , Ct , and rt stand for time-t wealth, labor income, economy-wide consumption,
and the rate of return on economy-wide wealth. The wealth data come from the Federal
Reserve. The labor income and consumption data are from the National Accounts.1 Some
    1
        We measure total labor income assuming labor’s share of proprietorship and partnership income is the



                                                       1
components of the Federal Reserve wealth series are carried at books. Consequently, our
rt series may exhibit too little variability. As an alternative, we calibrate our depreciation
shocks such that our model’s return volatility matches that of the equity market.
    Under our baseline calibration, generational risk is small or very small according to both
measures. The average, taken across all newborn generations, of the compensating differ-
ential (calculated as a generation-specific uniform absolute annual percentage consumption
adjustment) needed to achieve the average, across all newborns, in realized lifetime utility is
less than 5 percent. The average annual compensating differential needed to achieve full risk
sharing among contemporaneous generations is less than 1 percent. Under our alternative
calibration, these two figures are 21 percent and 4 percent, respectively.
    Our baseline calibration features roughly 70 percent more output volatility than observed
in the economy. But the risk premium is very small. However, adding one ingredient to the
model, namely increasing costs of borrowing (soft borrowing constraints), leads to a realistic
risk premium and Sharpe ratio. Constantinides, Donaldson, and Mehra (2002) were the
first to use borrowing constraints (hard ones) in a life-cycle model to produce reasonably-
sized risk premiums. Our implementation borrows from Hasanhodzic (2014) who implements
Constantinides et al.’s idea via soft borrowing constraints in a model like ours.2 Adding soft
borrowing constraints has little impact on the economy’s key macro variables and does not
change our conclusions regarding the size of generational risk. Our alternative calibration
produces a realistic equity premium—close to 5 percent—with no need for borrowing costs.
But the model’s output volatility is over 6 times too large.
    We prefer the base calibration for three reasons. First, output is not excessively volatile.
Second, we can generate a realistic equity premium by including borrowing costs rather than
relying on excessive shocks. And third, the baseline calibration matches the return volatility
on our best, if imperfect measure of aggregate wealth, not just the stock market.
    The intuition for our finding of very modest generational risk among contemporaneous
generations, under both calibrations, is partly that pointed out by Bohn (2009) and Boven-
berg and Uhlig (2008) namely that shocks are correlated across overlapping generations.
Both the young and old earn more or less income when TFP shocks hit. As for depreciation
shocks, they impact young workers as well as old retirees since less capital means a lower
wage.3
same as for national income.
    2
      Soft borrowing constraints are also featured in the theoretical models of Altonji and Siow (1987), Milde
and Riley (1988), Wirjanto (1995), Fernandez-Corugedo (2002), and Chatterjee, Corbae, Nakajima, and
Rı́os-Rull (2007).
    3
      With depreciation shocks, returns to capital at time t and wages at time t+1 (not time t) are correlated
since it takes a period for the change in the stock of capital to influence the wage.


                                                      2
    This said, the risks facing contemporaneous generations are far from perfectly correlated.
Younger generations are hurt more by adverse TFP shocks than older generations whose
relatively large holdings of capital are not impacted. And older generations are hurt more by
adverse capital depreciation shocks than are younger generations who hold limited amounts
of capital.
    The different risk exposures of contemporaneous young and old generations lead them to
share risk via the model’s bond market. Indeed, we find that an unfettered bond market is
highly effective in sharing risk among overlapping generations. However, the absolute sizes
of the generation-specific short and long positions generated by the model are unrealistically
large.
    Like Krueger and Kubler (2006) (KK), we find that Social Security can significantly
reduce generational risk regardless of its initial size. Their excellent paper may come closest
to ours. They, like we, calibrate an OLG model that considers generational risk. But they
provide no direct measures of generational risk nor do they examine the ability of a bond
market or a Social Security system to impact such measures. Instead, they ask whether
Social Security’s ability to mitigate generational risk (first pointed out by Merton, 1983) can
effect a Pareto improvement even if the system is unfunded and crowds out capital.4
    KK’s model differs from ours in important ways. First, their model posits only 9 pe-
riods. Ours has 80. The extra number of periods appears important to the assessment of
generational risk, since more periods permits better averaging of shocks over the life cycle.
Additional periods also provide agents with far more opportunities to adjust their behavior
(i.e., to self insure) through time. Second, KK posit Epstein-Zin preferences, whereas our
preferences are isoelastic. Third, and most important, KK calibrate their depreciation shocks
to the variability of the return to U.S. equities rather than to the variability of the return to
aggregate U.S. wealth. The former is over six times larger than the latter. As indicated, we
consider both calibrations.
    We proceed below by reviewing some of the computation literature, detailing our model,
describing its solution, assessing its precision, specifying its calibration, presenting results,
and concluding. In the Appendix we 1) detail our algorithm, 2) present a generational
risk-inducing policy to check whether our generational risk measures are indeed capturing
generational risk, and 3) conduct a sensitivity analysis to consider cases with more persistent
TFP shocks and very high levels of risk aversion.
   4
     Their general conclusion, which is no, tells us that Social Security’s risk mitigation is too small to
overcome its crowding out effects. But this doesn’t necessarily tell us anything about the size of generational
risk.




                                                      3
2       Computation Literature Review
OLG models with macro shocks and long-lived agents encounter the curse of dimensionality.
Krussel and Smith (1998) banish the curse for certain single-agent models. They show that
the state space in such models may be adequately approximated by sufficient statistics, such
as the size of the economy’s capital stock. Gourinchas (2000), Storesletten, Telmer, and
Yaron (2007), and Harenberg and Ludwig (2016) apply the Krusell and Smith approach
to OLG models. They find it works well for their purposes. But Krueger and Kubler
(2004) argue that Krusell and Smith’s low-dimensional approximation approach cannot, as a
general matter, adequately handle OLG economies—a robustness concern raised by Krusell
and Smith (1998) themselves.5
    Krueger and Kubler (2004, 2006) represents another major milestone in battling the
curse. They calculate solutions for life-cycle models experiencing macro shocks. They do so
by applying Smolyak’s (1963) algorithm to efficiently choose grid values.6 This algorithm
guarantees uniform approximation over a small (sparse) set of points in the multidimensional
hypercube. Their technique considers economic behavior over the entire state space. Unfor-
tunately, it cannot overcome the curse at least in computing models with realistic lifespans
measured in years. Indeed, Krueger and Kubler (2006) limit their model to 9 periods for
computational feasibility.
    Rı́os-Rull (1994, 1996) uses local perturbation methods to solve large-scale (55-period)
OLG models subject to aggregate productivity shocks calibrated to U.S. aggregate wealth
as in our base model (recall that we also consider larger shocks and use a global rather than
a local solution method). His papers ask, in part, whether the degree of completeness in
risk-sharing arrangements materially affects aggregate variables in the economy. His answer
is no. He also finds a very small risk premium, which he interprets as evidence of little macro
risk. Our findings are similar in some ways and different in others. First, we find a small
risk premium in our baseline simulation, but not under our alternative calibration, which
produces a realistic premium. Second, like Rı́os-Rull, we find that fluctuations in macro
variables are similar regardless of the presence of a bond market or Social Security. But,
third, under both of our calibrations, the bond market materially reduces an aggregate risk,
namely generational risk. Social Security also materially reduces aggregate risk, especially
under our alternative calibration. Hence, we find that risk-sharing arrangements can matter,
    5
     In the first draft of this paper, we suggested the inability of a single statistic, namely the stock of wealth,
to adequately capture consumption behavior in our OLG model by showing that transferring wealth from the
young to the old would dramatically change the economy’s transition. This said, multiple statistics might
adequately capture the impact of such a policy.
   6
     Malin, Krueger, and Kubler (2011) detail this method.


                                                         4
at least for risk sharing.
    Our means of dispelling the curse builds on the Generalized Stochastic Simulation Algo-
rithm (GSSA) developed by Judd, Maliar, and Maliar (2009, 2011). GSSA, in turn, builds on
the Parametrized Expectations Approach (PEA) developed by Marcet (1988), Marcet and
Marshall (1994), and Marcet and Lorenzoni (1998), notably by replacing the Monte Carlo
integration method employed in these studies with a more accurate Gaussian quadrature
method.
    Marcet (1988) is seminal. It contains the fundamental insight that, for computational
purposes, the state space can be limited to the economy’s ergodic set. I.e., economic be-
havior needs to be calculated only for states the economy will actually visit with non-trivial
probability.
    As indicated in Marcet and Marshall (1992) and Judd, et. al. (2009, 2011), PEA and
its enhancement, GSSA, have been used to solve a wide range of economic models featuring
infinitely-lived agents. Our paper appears to be the first large-scale OLG model to implement
as well as build on PEA/GSSA.
    Our solution method, detailed in the Appendix, is simple and can be easily extended to
handle more complex OLG models. First, we draw a sequence of aggregate shocks. Second,
we guess consumption functions for each of our 80 generations as linear polynomials of the
economy’s state vector. Third, we project the economy forward for 830 years from its initial
conditions.7 This involves clearing the bond market if one is assumed. Fourth, we use the
model’s Euler conditions to update our guessed decision functions. And fifth, we repeat
steps two through four until the Euler conditions are satisfied to a high degree of precision.
    Unlike the initial 2013 version of this paper, which followed Judd et al.’s (2009, 2011) use
of assets and shocks as state variables, the state vector here consists of cash-on-hand and
shocks. This change does not affect the results but renders our simulation method highly
robust.
    Reiter (2015) develops a method for solving multi-period OLG models. He independently
chose to characterize the state vector in terms of cash-on-hand. His main focus is the compu-
tation of global higher-order approximations to medium-sized OLG models, including mod-
els with asset short-sale constraints, through an efficient implementation of quasi-Newton
methods. His numerical results for six- and larger-period models include relatively large risk
premiums and support our finding that generational risk is small.
    Bovenberg and Uhlig (2008) show that fully funded defined benefit pensions combined
   7
     We chose 830 years to produce roughly 10 data points per 82 consumption-function coefficients entering
our polynomial approximations to the 80 generations’ consumption functions. This said, all the data are
used to estimate all the coefficients. Longer simulation periods produce no differences in results.


                                                    5
with defined contribution pensions can improve the allocation of risk. Their work compli-
ments Bohn’s (1998, 1999, 2001, 2002, 2006, 2009) extensive analysis of the risk-sharing and
risk-making properties of particular government policies. These authors examine stochas-
tic two-period OLG models, which they solve using log-linearization techniques to derive
insights into the linearized behavior around the steady state.


3     The Model
Our model is intentionally bare bones to maximize the potential for generational risk. Thus,
we omit variable labor supply, which helps cohorts self insure against macro shocks. We
also omit progressive income taxation, which redistributes, in part, from winning to losing
generations. And we ignore all social insurance programs other than Social Security.
    Each agent works through retirement age R, dies at age G, and maximizes expected
lifetime utility. There are no short sale constraints, but in some versions of the model agents
face borrowing costs which are increasing at the margin in the amount borrowed. There are
also no adjustment costs, so firms maximize static profits.


3.1    Endowments and Preferences
The economy is populated by G overlapping generations that live from age 1 to age G. All
agents within a generation are identical and are referenced by their age g at time t. Each
cohort supplies `g units of labor per period, which equals 1 before and 0 after retirement.
Hence, total labor supply equals R. Utility in a given year is time-separable and isoelastic,
with risk aversion coefficient γ. Thus,

                                               c1−γ − 1
                                      u(c) =            .                                  (2)
                                                 1−γ


3.2    Technology
Production is Cobb-Douglas with output Yt given by


                                       Yt = zt Ktα L1−α
                                                    t   ,                                  (3)




                                               6
where z is total factor productivity, α is capital’s share, Kt is capital, and Lt is labor demand.
Equilibrium factor prices satisfy

                                                                     α
                                                                 Kt
                                          wt = z(1 − α)     ,                                 (4)
                                                                 R
                                                   α−1
                                                    Kt
                                          rt = zα        − δt ,                               (5)
                                                    R


with depreciation shock, δt ∼ N (0, ψ 2 ).
   Total factor productivity, z, obeys


                                         ln(zt+1 ) = ρ ln(zt ) + t+1 ,                       (6)


where t ∼ N (0, σ 2 ).


3.3       Financial Markets
Households save and invest in either risky capital or one-period safe bonds. Investing 1 unit
of consumption in bonds at time t yields 1 + r̄t units of the model’s single good in period
t + 1. The return, r̄t , is indexed by t because it is determined at t. The asset demand of a
household age g at time t is given by θg,t and its share of assets invested in bonds is given
by αg,t . The supply of capital in period t, Kt , satisfies

                                                       G
                                                       X
                                               Kt =          θg,t−1 .                         (7)
                                                       g=1



Bonds are in zero net supply, hence for all t,

                                               G
                                               X
                                                     αg,t θg,t = 0.                           (8)
                                               g=1



    As shown in Green and Kotlikoff (2008), fiscal policy can be labeled in an infinite number
of ways to produce whatever time path of explicit and implicit debts the government wishes
to report. Such relabeling makes no difference to this or any other neoclassical model.8
  8
      I.e., all relabeled models are isomorphisms.


                                                        7
Hence, our model can be viewed as including government debt or not depending on the
reader’s preferences. With government debt included in the policy’s labeling, the left-hand-
side of (8) would be larger by the amount of debt. But the right-hand-side would also be
larger by exactly the same amount, leaving the capital stock unchanged.9
    How can a one-period bond market among the living impact generational risk? It ob-
viously can’t be used to share risk between the living and the unborn. But it can help
contemporaneous generations share risks. For example, workers can hedge negative TPF
shocks by buying bonds from retirees who can use the proceeds to buy stock. Retirees are
in a position to sell bonds to workers because part of their resources, namely the principal
of their assets, is insulated from TFP shocks. This is particularly the case for the oldest
elderly who have the fewest years left to live and whose consumption is disproportionately
determined by their stock of assets as opposed to the return on their assets.
    Depreciation shocks reverse this logic, but to a lesser degree than one might first think.
A large negative depreciation shock directly hurts retirees, who are the primary owners of
capital. But, thanks to the induced shortage of capital, it also helps them by raising the rate
of return over the short term. As for workers, the reduction in the stock of capital leads to
a short-term reduction in their wage.


3.4     Borrowing Costs
We follow Hasanhodzic (2014) and model borrowing costs via a function proposed by Chen
and Mangasarian (1996). The function is smooth and rising for negative bond holdings and
essentially zero when bond holdings are close to zero or positive. Specifically, to borrow the
amount of αθ households have to pay the borrowing cost of f (α)θ, where

                                                                              
                                                    1
                               f (α) = 0.2 −bα − 1 + ln(1 + e5bα+5 )                                         (9)
                                                    5

and b is a parameter described in Section 4 governing the slope of f . Since f is increasing
in bond shares (α), for a given level of assets (θ) the marginal borrowing cost is increasing
in total amount borrowed (αθ).10
   9
     The ability to relabel a given model with a given generational redistribution policy so that it has whatever
time-path of government debt one wishes to report does not imply that changes in generational policy have
no impact. It simply implies that the size of government debt does not help measure this or any other policy.
  10
     As explained in that paper, specifying the borrowing costs via f (α)θ rather than f (αθ) insures that
the model remains scalable. This specification also makes economic sense. With 2θ in assets and some α,
the marginal costs would be the same as with θ in assets and that same alpha, since the extra assets could
be used as collateral. This is in line with Goodfriend (2005) and Goodfriend and McCallum (2007), where


                                                       8
3.5     Government
Social Security benefits are financed by a 15 percent wage tax and provided to all retirees on
a per-capita basis. In the Appendix we also consider an unrealistic, risk-inducing policy to
test the ability of our methods to capture generational risk. This risk-inducing policy also
taxes the young and hands the proceeds to the old. But the proportion of the wages taken
from the young raises steeply with the wage.
    Let Hg,t denote the tax levied on the age-g household at time t and let Bg,t denote the
benefit paid to the age-g household at time t. Then

                                    
                                    τ w ` ,  with Social Security Policy
                                        t g
                           Hg,t   =                                                                        (10)
                                    µ(w )` , with Risk-Inducing Policy
                                         t g



where



                                                  bw̄ − aw
                                    µ(wt ) = aw +        ¯ (wt − w),                                       (11)
                                              ¯    w̄ − w        ¯
                                                        ¯

and w and w̄ are minimum and maximum values of w. As described in Section 4, the
    ¯
parameters a, b, τ , w, w̄ are chosen to exacerbate generational risk. Finally,
                     ¯
                                                           PG
                                                             g=1Hg,t
                                        Bg,t = (1 − `g )             .                                     (12)
                                                            80 − R
collateral is as a valuable input in loan production because it enables a bank to enforce the repayment of loans
with less monitoring (i.e., the greater is the borrower’s collateral, the more productive is the intermediary’s
monitoring effort).




                                                       9
3.6     Household Problem
At time t, the economy’s state is (st , zt ), with st = (x1,t ,. . . ,xG−1,t ) denoting the set of
age-specific holdings of cash-on-hand. 11

                                     n                          o
                 Vg (s, z) = maxc,θ,α u(c) + βE Vg+1 (s0 , z 0 )
                                               
                                                                   for g < G, and                       (13)

                 VG (s, z) = u(c)                                                                       (14)


subject to


             c1,t = `1 wt − θ1,t − H1,t + B1,t ,                                                        (15)
                                                                           
             cg,t = `g wt + αg−1,t−1 (1 + r̄t−1 ) + (1 − αg−1,t−1 )(1 + rt ) θg−1,t−1 − θg,t            (16)
                 − If (αg−1,t−1 θg−1,t−1 ) − Hg,t + Bg,t ,
                 for 1 < g < G, and
                                                                           
             cG,t = `G wt + αG−1,t−1 (1 + r̄t−1 ) + (1 − αG−1,t−1 )(1 + rt ) θG−1,t−1                   (17)
                 − If (αG−1,t−1 θG−1,t−1 ) − HG,t + BG,t ,


where cg,t is the consumption of a g-year old at time t, I is an indicator variable that equals 1
if there are borrowing costs and equals 0 otherwise, f is the borrowing cost function described
above, and (15)–(17) are budget constraints for age group 1, those between 1 and G, and
that for age group G.


3.7     Equilibrium
Given the initial state of the economy (x1,0 , . . . , xG−1,0 , z0 ), the recursive competitive equi-
librium is defined as follows.

Definition. The recursive competitive equilibrium is governed by the consumption func-
tions, cg (s, z), the share of savings invested in bonds, αg (s, z), factor demands of the rep-
resentative firm, K(s, z) and L(s, z), government policy, H(s, z) and B(s, z), as well as the
  11
    Note that xG,t , the cash on hand of the oldest generation is not included in the state vector. When the
depreciation shock, δ, is zero, the value of xG,t can be inferred from the other state variables. When δ is
random, this is no longer the case. Now the initial value of xG,t (or equivalently the initial value of δ) is
needed to fully characterize the economy’s initial-period consumption vector. But we still exclude xG,t from
the state vector because it provides no addition information about the economy’s future evolution. Also, we
can directly calculate xG,t and, thus, the consumption of the old for periods beyond the first.


                                                     10
pricing functions r(s, z), w(s, z), and r̄(s, z) such that:

    1. Given the pricing functions, the value functions (13) and (14) solve the recursive prob-
       lem of the households subject to the budget constraints (15)–(17), and θg , αg , and cg
       are the associated policy functions for all g and for all dates and states.

    2. Wages and rates of return on capital satisfy (4) and (5).

    3. The government budget constraint (12) is satisfied.

    4. All markets clear.

    5. Finally, for all age groups g = 1, . . . , G − 1, optimal intertemporal consumption and
       investment choice satisfies

                                         u0 (cg+1 (s0 , z 0 )) 
                1 = βEz 1 + r(s0 , z 0 )
                       
                                                                                                       (18)
                                            u0 (cg (s, z))
                                                                            u0 (cg+1 (s0 , z 0 )) 
                  + IβEz αg (s, z)(r̄(s, z) − r(s0 , z 0 )) − f (αg (s, z))
                        
                                                                               u0 (cg (s, z))
                  and
                         h                                                           i
                             0       0   0                  0   0       0
                0 = Ez u (cg+1 (s , z )) r̄(s, z) − r(s , z ) − If (αg (s, z))            ,            (19)


       where Ez is the conditional expectation of z 0 given z.


4     Calibration
As indicated below, our calibration is standard.


4.1     Endowments and Preferences
Agents work for 45 periods and live for 80. We set the quarterly subjective discount factor,
β, to 0.99. This implies an annual value of 0.96 for β. In the base model as well as the
model with risk-inducing policy, risk aversion γ equals 2. In the alternative model it equals
5. With this level of risk aversion, the alternative model delivers a realistic risk premium
absent borrowing costs. But, as indicated, it comes at cost, namely an overly volatile output
series.




                                                    11
4.2     Technology
Base Model
For the base model, we calibrate the TFP process, z, based on Hansen (1985) and Prescott
(1986).12 Hansen estimates a quarterly value for the autocorrelation coefficient, ρ, of 0.95
and a standard deviation, σ, of the innovation  ranging from 0.007 to 0.01. Prescott’s (1986)
estimates are 0.9 for ρ and 0.00763 for σ.
    Our assumed quarterly values for ρ and σ are 0.95 and 0.01, respectively. On an annual
basis they are 0.814 and 0.019, respectively, generating a mean TFP value of 0.997 with a
standard deviation of 0.033 and a coefficient of variation of 3.293 percent.
    In our base model, we set the quarterly value of the standard deviation, ψ, of the de-
preciation shock, δ, to 0.011 (implying an annual value of 0.045).13 This is higher than the
0.0052 quarterly estimate of Ambler and Paquet (1994). With this calibration of the shocks,
the wage displays a standard deviation of 0.117 around a mean of 1.934, for a coefficient of
variation of 6.047 percent.

The alternative model
In the alternative model, the TFP process is calibrated as above, but the quarterly standard
deviation of the depreciation shock is increased to 0.034 (implying an annual value of 0.137)
to reproduce the Sharpe ratio of the stock market.14 This accords with the size of the
standard deviation of the depreciation shock assumed by Krueger and Kubler (2006).
    Empirical estimates of the historic equity premium and the standard deviation of the
return on stocks—and therefore the Sharpe ratio—vary greatly depending on the time period
used and the security chosen to proxy for the safe asset.
    The equity premium often targeted in academic studies is 4 percent (see, e.g., Jagan-
nathan, McGrattan, and Scherbina (2001)). This accords with Siegal’s (1998) estimate
based on data for the last two centuries. Mehra (2008) suggests that the historic equity
premium ranges from 2 to 4 percent if an inflation-indexed, default-free bond portfolio is
used as a proxy for the risk-free rate. Jagannathan, McGrattan, and Scherbina (2001) find
that the equity premium has declined over time, averaging just 0.7 percent after 1970. As
for the standard deviation of stock returns, Constantinides, Donaldson, and Mehra (2002)
  12
     This TFP formuation is standard. See, e.g., Cooley and Prescott (1995), Rı́os-Rull and Santaeulalia-
Llopis (2010), Gomme, Rogerson, Rupert, and Wright (2005), and Judd, Maliar, and Maliar (2011).
  13
     We interpret Y (equation 3) as the net production function, and hence set the mean value of depreciation
at zero.
  14
     The model’s Sharpe ratio is defined as the difference in mean real returns to capital and safe bonds
divided by the standard deviation of the real return to capital.




                                                     12
report a range of 13.9 to 15.8 percent.15 Combining a 4 percent equity premium and a 14
percent standard deviation of the real equity return implies an empirical Sharpe ratio of
0.286.
   Our model’s alternative calibration generates a risk premium of 4.634 percent and a
standard deviation of the return to capital of 13.922 percent, producing a Sharpe ratio
of 0.333. These values are in line with the historical record of measured equity returns.
They also accord with the practitioner literature (see, e.g., Hasanhodzic, Lo, and Patel,
2009). Thus, in this case, a reasonable risk premium is obtained without resort to special
preferences, borrowing costs or other assumptions, by simply overstating the size of the
shocks facing the economy.

Other Models
In Appendix A.3, we consider variants of the base model with depreciation shocks turned
off, but with more persistent or more volatile TFP processes and depreciation shocks. When
the TFP process is more persistent, its autocorrelation coefficient equals 0.961 on an annual
basis, which is significantly larger than the base case model’s 0.815 value. Our more volatile
TFP process incorporates a standard deviation of t that is 5 times larger than in the base
model.


4.3     Borrowing Costs
The borrowing costs function is calibrated so that the ratio of the marginal borrowing cost
to the risk-free rate ranges from 15 to 20. Many credit card companies now charge interest
rates between 15 and 25 percent. Given that the yield on 30-year TIPS is 1 percent and
even lower on shorter-term TIPS, our borrowing cost ratio seems reasonable. Moreover,
even those borrowers with high incomes, excellent credit, and considerable home equity, face
home equity rates that can be 10 or more times higher than the one-month T-Bill rate. To
achieve this ratio, the borrowing cost parameter b is set to 25 in the model without Social
Security and to 33 in the model with it.


4.4     Government
As indicated, Social Security benefits are financed via a payroll tax, τ , of 15 percent. As
for the risk-inducing policy, we set its parameters, a and b, to 0.1 and 0.4, respectively. The
minimum and maximum values of w, w and w̄, are estimated by iteratively simulating the
                                         ¯
  15
    This is in line with the standard deviation of the annualized returns of the S&P500 Total Return Index
over the last 22 years.


                                                   13
model and using the minimum and maximum wage from a previous simulation until those
values converge.16 The resulting tax rates range from 9.995 percent to 40.000 percent of the
wage. Note that (10) and (11), together with the above choice of parameters, imply that
the risk-inducing policy is countercyclical, i.e., the correlation between the net wage and z
is negative.17 Since this tax rate is applied to all wages and rises steeply with the wage,
it transforms good times into bad time for workers and makes good (bad) times far better
(worse) for retirees.


4.5     Return to U.S. Wealth and to Safe Assets
As indicated in the Introduction, to measure the empirical equivalent to the model’s return on
capital we use the national income accounting identity that Wt+1 = Wt + rt Wt +Et −Ct − Gt ,
where Wt stands for national wealth at time t , Et stands for labor income at time t, Ct
standards for household consumption at time t, and Gt stands for government consumption
at time t. We solve this identity for annual values of rt by plugging in values of Wt , reported
in the Federal Reserve’s Financial Accounts data, and Et , Ct , and Gt , reported by the Bureau
of Economic Analysis in the National Income Accounts. Our data for this calculation cover
1947-2015. All data were converted into real dollars using the PCE index and measured
at producer prices. The share of labor earnings in proprietorship and partnership income
was assumed to equal the overall share of labor income to national income on a year-by-
year basis. The empirical counterpart to the model’s safe rate of return is calculated as the
annualized real return on one-month Treasuries from 1947-2015.
    As reported in Table 1, the mean return to capital (actually, total U.S. assets) is 6.512
percent with a standard deviation of 4.886. The mean safe return is 1.083. These figures
imply a Sharpe ratio of 1.111, which, as indicated below, is very close to our base model’s
Sharpe ratio.


5      Solution Method and Its Precision
Our algorithm contains outer and inner loops. The outer loop solves for consumption func-
tions of each generation. The inner loop uses a combination of techniques from the numerical
  16
      In starting this iteration we use the minimum and maximum wage from the no-policy model. The final
minimum and maximum values of the wage are 1.492 and 1.983. The average wage is 1.657.
   17
      For example, when the TFP decreases from 1.040 to 0.989 between years 778 and 779, the net wage rises
from 1.268 to 1.294. And when the TFP increases from 1.031 to 1.057 between years 747 and 748, the net
wage falls from 1.276 to 1.262. Similar examples abound.




                                                    14
analysis literature—Broyden, Gauss-Seidel, and Newton’s method—to compute the agents’
bond holdings and the risk-free rate that clears the bond market.
      Recall that the state vector consists of cash-on-hand variables, xg,t , of generations 1
through G − 1 and exogenous shocks. Given the information at time t, agents decide how
much of their cash on hand to consume, cg,t . They also choose the proportion αg,t of their
savings to allocate to bonds at the prevailing risk-free rate r̄t .
      The outer loop starts by making an initial guess of generation-specific consumption func-
tions cg as polynomials (linear, for this paper) in the state vector and the prevailing depre-
ciation shock.18 Next, we take a draw of the path of shocks for T periods. We then run the
model forward for T periods using the economy’s initial condition (which corresponds to the
non-stochastic steady state of the no-policy model), guessed consumption functions and the
drawn shocks. I.e., we compute cash-on-hand variables at time t + 1 using the information
we have at time t and the exogenous shocks at time t + 1. Since the α’s and the r̄ that
are determined at time t are realized at time t + 1, their knowledge is necessary to compute
cash-on-hand variables in period t + 1.
      In running the model forward, at each time t, we compute the agents’ choice of bond
shares and the risk-free rate that clears the bond market. To solve for r̄t , we use Broyden’s
method based on the bond-market clearing condition. This condition requires that the sum
of bond holdings at time t equals zero. The bond holdings at time t of each agent age g is
αg,t θg,t . The choice of the αg,t ’s make them functions of r̄t . Hence, for given values of the
θg,t ’s, the bond-market clearing condition is a function of r̄t and can be used, via Broyden’s
method, to find the r̄t that sustains market clearing.
      For any given r̄t , the choice of αg,t ’s is determined by Gauss-Seidel iterations to solve the
system of simultaneous G−1 generation-specific Euler equations governing the choices of the
G − 1 α’s for the new values of those α’s. Specifically, for given guesses of each agent’s value
of α, other than that of agent i, we apply Newton’s method to agent’s i’s Euler equation to
determine the new guessed value of α for agent i.19
      Simulating the model forward produces the data needed to update our guessed consump-
tion functions. Specifically, for each age group g and each period t, we evaluate the Euler
condition to determine what that age group’s consumption should be in that period. This
calculation is based on the derived period-t state variables and the current guessed consump-
tion functions of all agents, which enter, via their impact on the state vector of cash of hand
at t + 1, into the determination of any given age-g agent’s marginal utility of consumption
  18
    Although we do not include δ as part of the theoretical state space, using it as a regressor for approxi-
mating the consumption functions proved valuable.
 19
    Taking other unknowns as given is Gauss-Seidel.


                                                     15
at t + 1. The expected value is evaluated using Gaussian quadrature, as in GSSA.
    Following PEA/GSSA, we then regress these time series of age-specific consumption levels
on the state variables plus the depreciation shock and use the new regression estimates to
update, with dampening, the polynomial coefficients of each guessed consumption function.
We iterate the updating of these functions based, always, on the same draw of the path of
shocks until consumption functions converge.
    We evaluate the accuracy of our solutions using two methods proposed in the literature—
out-of-sample deviations from the exact satisfaction of the Euler equations and the statistic
proposed by Den Haan and Marcet (1989, 1993).


5.1     Out-of-Sample Deviations from the Perfect Satisfaction of Eu-
        ler Equations
A satisfactory solution requires that generation-specific Euler equations (18) hold out of
sample. Hence, to test the accuracy of our solution, we draw a fresh sequence of 1660 sets of
shocks for each simulated model. We then run the model forward for 1660 years (twice the
length of the original simulation), imposing the drawn shocks, using the original consumption
functions, cg , and clearing the bond market by rerunning the model’s inner loop each year as
we move through time. To calculate out-of-sample, unit-free deviations from full satisfaction
of the Euler equations, we form



                                     0
                                           u0 (cg+1 (s0 , z 0 )) 
                                          0
         (s, z) = βEz       1 + r(s , z )                          −1                                   (20)
                                              u0 (cg (s, z))
                                                                           u0 (cg+1 (s0 , z 0 )) 
                 + IβEz αg (s, z)(r̄(s, z) − r(s0 , z 0 )) − f (αg (s, z))
                       
                                                                                                    −1
                                                                              u0 (cg (s, z))

   for each period in the newly simulated time path and for each generation g ∈ 1, . . . , G − 1.
Finally, we compute the average, across time, of the absolute value of the deviations from
these Euler equations for each generation.
   Table A.1 in the Appendix reports summary statistics, across generations, of their average
absolute deviations from Euler equations for each model considered.20 As indicated, in all
cases these deviations are at most 0.004. And in most cases, they are zero to the third
  20
     Note, these deviations are not Euler errors, which capture differences in period t’s marginal utility and
period (t + 1)’s realized marginal utility (properly weighted by β and r(s0 , z 0 )). Rather, they reference
mistakes in satisfying the Euler equation, i.e., the discrepancy in period t between the marginal utility and
its properly weighted time-t expectation.



                                                        16
decimal place.
   The portfolio choice equations (19) and the bond market-clearing condition (8) hold
almost perfectly by construction, since the α’s and r̄ that satisfying them are calculated in
the inner loop with a high degree of precision. In particular, the average absolute deviations
from these equations, which theoretically should equal zero, are at most 0.0005 and 0.00001,
respectively, and in most cases equal zero to the seventh decimal place.


5.2    The Den Haan-Marcet Statistic
An alternative precision test is provided by Den Haan and Marcet (1989, 1993). Taylor and
Uhlig (1990) use this test to compare alternative solution methods for nonlinear stochastic
growth models. We follow Taylor-Uhlig’s particular implementation method.
    As above, we start with a fresh draw of shocks over T periods and simulate the model
forward based on these shocks, using the original consumption functions and clearing the
bond market each period based on the inner loop technique (discussed above). We set
T again to 1660. Then, for each generation-specific Euler equation (18), we compute the
residual, ηg , where g references the generation’s age at time t.

                                                         u0 (cg+1 (t + 1))
                             ηg (t) = β 1 + r(t + 1)                        .                   (21)
                                                              u0 (cg (t))

We next regress, separately for each generation, their 1600 ηg values on a matrix xg consisting
of a constant, five lags of cg , and five lags of z. The predicted values of the regression equation,
âg ,

                                                     −1
                               âg = (Σxg (t)0 xg (t) (Σxg (t)0 ηg (t) ,
                                                                      
                                                                                                (22)


are then used to construct the Den Haan-Marcet statistic mg as follows:

                                                                 −1
                mg = â0g Σxg (t)0 xg (t) Σxg (t)0 xg (t)ηg (t)2     Σxg (t)0 xg (t) âg .
                                                                                   
                                                                                                (23)


If the generation-specific Euler equations (18) are satisfied, then Et−1 [ηg (t)] = 0 must hold.
This implies that the coefficient vector, and, therefore, mg is zero, which is the null hypoth-
esis. Note that our solution method does not enforce this property, so as Den Haan and
Marcet (1994) point out, theirs is a challenging test.


                                                   17
    Under the null, mg is distributed as χ2 (11) asymptotically. Based on a two-sided test
at the 2.5 percent significance level, we would fail to reject the null if mg lies outside the
interval (3.82, 21.92). In Table A.2 we compute the minimum, mean, and maximum across
generations of generation-specific statistics mg in the base and alternative models with and
without Social Security. The mean across generations of the statistic is well within the
acceptance interval for all four models. The same holds for the minimum value. Two of the
four maximum values are slightly above the top value of the acceptance range.


6     Results
Turning to the results, we begin by comparing models’ asset returns with those in the data,
and then measure generational risk in our base and alternative models and the role of the
bond market and Social Security in limiting such risk.


6.1    Summary Statistics of Asset Returns
Table 1 compares returns to capital and the safe bond in our model and in the data. The base
model, regardless of whether it includes borrowing costs or Social Security, reproduces quite
well the variability of the real return to U.S. wealth. Specifically, the standard deviation of
the return to capital ranges from 4.587 percent to 4.606 percent in the model compared to
4.886 percent in the data. By contrast, the alternative model, where the standard deviation
of the returns to capital equals 13.922 percent, overstates the actual return variability by
almost a factor of three.
    Table 1 shows that, absent borrowing costs, our base model also produces a risk-premium
puzzle. The rate of return to capital averages 3.916 percent without Social Security and 4.892
percent with it, while the corresponding safe rates of return average 3.632 percent and 4.622
percent, respectively. The resulting risk premia are very small—0.285 percent without Social
Security and 0.270 percent with it.
    However, the puzzle is readily resolved by adding increasing costs to borrowing. Our
borrowing cost function produces a risk-free rate of roughly two-tenths of one percent on
average. This implies a risk premium of 3.762 percent in the model without Social Security
and 4.772 percent with it. The latter is close to the 5.429 percent measured in the data.
    The model’s mean return to capital ranges from 3.916 percent to 4.994 percent in the
model, depending, crucially on the presence of Social Security. This falls short of the 6.512
percent mean return to U.S. wealth observed in the data. But we could easily introduce
additional government policies, such as government consumption financed by an income tax,

                                              18
                                        Summary Statistics of Rates of Return

                                          Mean      Mean Safe      S.D. of    Risk
                                                                                        Sharpe
                                        Return to    Rate of      Return to Premium
                                                                                         Ratio
                                        Capital (%) Return (%) Capital (%)     (%)
                                                             Base Model
                   No Social Security         3.916       3.632        4.592    0.285    0.062
                   Social Security            4.892       4.622        4.606    0.270    0.059
                                                   Base Model With Borrowing Costs
                   No Social Security         3.999       0.237        4.587     3.762 0.820
                   Social Security            4.994       0.222        4.599     4.772 1.037
                                                          Alternative Model
                   No Social Security         2.640       -1.994       13.922    4.634 0.333
                   Social Security            4.414        0.241       14.032    4.173 0.297
                                                  Data Based On Return to U.S. Wealth
                                              6.512         1.083       4.886      5.429 1.111



                Table 1: Summary statistics of rates of return in the model and in the data.

which would crowd out capital and raise capital’s return to match that of the data.21
    Table 2 compares the variability of output for different variants of our model to that
in the data. Following Prescott (1986), we detrend real net national product for the years
1929 through 2015 and form the standard deviation of the percent deviations from trend.
Our model abstracts from growth, so we simply form the standard deviation of our model’s
percentage deviation of annual output from its mean.22
    As the table shows, our models overstates actual output variability. For example, in the
base model with Social Security and borrowing costs, the standard deviation of percentage
output deviations is 5.237 percent in our model compared with 3.396 percent in the data.
This suggests that the base model’s finding of small generational risk cannot be attributed
to an understatement of output variability. The alternative model produces a standard
deviation of 21.516 percent with Social Security and 22.262 percent without it, overstating
output volatility in the data by more than a factor of six.


6.2       Generational Risk in the Base Model
Our two generational risk measures focus on risk in a stationary, stochastic environment
where policy has been in place for at least 75 years. In what follows we describe each
measure and present corresponding results.
 21
      We chose not to do so to isolate the impact of Social Security on generational risk.
 22
      The standard deviation of detrended per capita output is virtually identical.


                                                         19
                             Standard Deviation of Percent Deviations of
                                        Output from Trend

                                          Model/ Data               S.D. (%)
                                              Base Model
                            No Social Security                         5.782
                            Social Security                            5.685
                                   Base Model With Borrowing Costs
                            No Social Security                     5.275
                            Social Security                        5.237
                                            Alternative Model
                            No Social Security                       22.262
                            Social Security                          21.516
                                                 Data
                            Real Net National Product, 1929-2015       3.396


Table 2: Standard deviation of percent deviations from trend of U.S. real Net National Product, 1929–2015
and standard deviation of percent deviations of output from its mean in the base and alternative models.


6.2.1    Realized Utility Measures of Generational Risk

In Table 3 we report the realized lifetime utility generational risk measure. The realized
utility measure is based on the particular state to which the generation is born and the par-
ticular sequence of shocks it experiences over its lifetime. We first calculate each generation’s
particular realized lifetime utility and form the average of these realized values across all gen-
erations born between years 75 and 751. Next, we calculate for each generation the factor
by which we need to multiply each year’s realized consumption to produce the same realized
lifetime utility as the first 677 generations experience on average. Finally, we compute the
absolute value of this factor’s deviation from 1. The closer are the percent adjustments to 0,
and the less variable they are through time, the less difference does the date of birth make
for the household’s expected lifetime utility, i.e., the smaller is the generational risk.
    This table shows that the compensating consumption differential needed to equate re-
alized lifetime utility of each cohort through time to the average across newborns of their
realized lifetimes utilities averages 4.675 percent with a standard deviation of 3.800 percent
in the presence of a fully functional bond market. These values are modest. The maximum
value of the differential is 19.961 percent, which is large, but as discussed above, the bond
market is not designed to share risk among the living and the unborn. Rather, it may exacer-
bate differences in realized lifetime utility across non-overlapping generations or generations
with limited overlap.

                                                   20
                                Absolute Percentage Adjustments to Achieve
                                   Average Realized Utility of Newborns

                                                   Min   Mean       Max      S.D.
                                                  Bond Market
                            No Social Security     0.014    4.675   19.961 3.800
                            Social Security        0.000    4.107   18.097 3.388
                                                 Borrowing Costs
                            No Social Security     0.006    2.663   10.333 2.082
                            Social Security        0.001    2.372   10.639 1.996
                                              No Bond Market
                            No Social Security 0.000    2.686       10.329 2.096
                            Social Security     0.007   2.394       10.639 2.006


Table 3: Means, standard deviations, minimums, and maximums of absolute percent adjustments in each
cohort’s annual consumption needed to achieve post-transition average realized lifetime utility of newborns
in the base model.


     Eliminating the bond market leaves us with our purest measure of generational risk since
it is the risk that prevails prior to any market or government mitigation. In this case, the
average absolute percentage adjustment across 677 generations needed to achieve the same
realized lifetime utility is only 2.686 percent. Clearly, this represents modest generational
risk. Adding Social Security, whether in the presence or absence of bonds, does relatively
little to limit the small residual risk needing to be shared. For example, with no bond market,
Social Security reduces this risk measure by only 10.9 percent—from 2.686 percent to 2.394
percent.
     Why might shocks hitting earlier generations not greatly impact later generations? All
generations live for 80 periods meaning that initial good or bad shocks will have limited
impact on the shocks that a generation experiences later in life.23 Intuitively, new shocks,
even if their TFP impact persists, arrive each period and average out. Moreover, our economy
is ergodic and naturally rebounds from bad or good states. Hence, a generation that is born
into bad (good) times with a small (large) stock of capital will, on average, experience better
(worse) times in the future.

6.2.2       Measuring Generational Risk Among Contemporaneous Generations

Finally, we ask whether contemporaneous generations are experiencing materially different
shocks as measured by differences in their annual percentage consumption changes. If so, such
  23
       This is true even when we assume unrealistically high degrees of autocorrelation in TFP shocks.


                                                       21
changes could be pooled either via private arrangements or government policy. Recall that
full risk sharing among contemporaneous generations, indeed all agents, with the homothetic
preferences considered here, requires equal percentage changes in the consumption from one
period to the next (see Abel and Kotlikoff, 1988). Hence, one can measure the extent of
generational risk by considering the co-movement of consumption across age groups as well as
the extent of consumption adjustments that would be needed to achieve perfect consumption
co-movement.
    We present results with and without Social Security, post transition. Minimum, mean,
and maximum are taken across all cohorts and all time. The standard deviation value is the
mean across cohorts of cohort-specific time-wise standard deviations.
                                   Absolute Percentage Adjustments to
                                   Achieve Perfect Risk Sharing Among
                                     Contemporaneous Generations

                                                   Min Mean      Max    S.D.
                                              No Borrowing Costs
                              No Social Security 0.000 0.224      1.098 0.163
                              Social Security    0.000 0.317      1.108 0.152
                                               Borrowing Costs
                              No Social Security 0.000 0.933      5.904 0.699
                              Social Security    0.000 0.713      3.811 0.535
                                                 No Bond Market
                              No Social Security    0.000 0.929   5.853 0.696
                              Social Security       0.000 0.721   3.877 0.539


Table 4: Absolute percent adjustments to achieve perfect risk sharing among contemporaneous generations
in the base model. Minimum, mean, and maximum are taken across all cohorts and all time. The standard
deviation value is the mean across cohorts of cohort-specific standard deviations.


    Table 4 summarizes the agent- and year-specific absolute percentage consumption ad-
justment needed to achieve perfect risk sharing, i.e., to ensure that all agents experience the
same percentage change in the year in question.24 It shows that the average (across agents)
absolute percentage adjustment needed to achieve full risk sharing is 0.224 percent without
Social Security, but with an unfettered bond market. The standard deviation is only 0.163
percent. Hence, generational risk among contemporary cohorts is quite small even absent
any government risk-sharing policy. Indeed, the maximum absolute adjustment is only 1.098
percent. Adding Social Security to the risk-sharing mix actually slightly exacerbates gener-
ational risk, raising the average adjustment needed to achieve percent risk sharing to 0.317
  24
       Values of 0.000 and 1.000 reflect rounding.

                                                     22
percent.
     With borrowing costs and no Social Security, the absolute adjustments are larger, but
still quite small—0.933 percent on average. The maximum adjustment in this case—5.904
percent—is almost six times larger than arises without borrowing costs. In this case, adding
Social Security improves risk sharing. It reduces the average absolute adjustment needed for
full risk sharing by one quarter. It also lowers the standard deviation of the adjustment and
its maximum value.
     Note that the unfettered bond market is more than three times as efficient as Social
Security in reducing risk among contemporaneous generations. Compare, in this regard, the
value of 0.224 percent with the value of 0.721 percent. The former number is the mean
absolute percent adjustment with the bond market, but no Social Security. The later value
is the mean adjustment with Social Security, but no bond market. However, as shown below,
the simulated size of short and long bond positions associated with unrestricted use of this
market appears unrealistically large.25

6.2.3         Illustrating Consumption Co-Movement Among Contemporaneous Gen-
              erations

                                           Illustrating the Comovement in Consumption

                                                                                    Rate of Rate of
                        Depreciation           % Change            Stock   Bond     Return Return to % Change % Change
   Age         TFP                     C                  Wage
                          Rate (%)                in C           Holdings Holdings on Bonds Capital Output in Agg C
                                                                                      (%)     (%)
                                                            Worker
         29     0.934         -5.960   1.659      2.396    1.805    11.029 -10.160     3.446   9.544    -1.460    2.772
         30     0.946          5.160   1.605     -3.276    1.859    11.916 -10.198     3.284  -1.644     2.959   -3.169
         31     0.971          6.285   1.555     -3.129    1.873    11.263  -9.823     3.462  -2.537     0.754   -3.320
         32     0.984          7.453   1.494     -3.907    1.858    10.563  -9.430     3.709  -3.492    -0.799   -3.907
         33     0.974          3.545   1.460     -2.258    1.796     9.784  -9.007     3.951   0.571    -3.317   -1.957
         34     0.950          2.733   1.428     -2.227    1.732     9.521  -8.708     4.009   1.367    -3.544   -1.765
                                                            Retiree
         69     0.934         -5.960   1.700      3.030    0.000      20.772   9.111    3.446    9.544   -1.460    2.772
         70     0.946          5.160   1.646     -3.228    0.000      21.274   9.205    3.284   -1.644    2.959   -3.169
         71     0.971          6.285   1.585     -3.670    0.000      19.847   8.939    3.462   -2.537    0.754   -3.320
         72     0.984          7.453   1.519     -4.162    0.000      18.362   8.645    3.709   -3.492   -0.799   -3.907
         73     0.974          3.545   1.490     -1.948    0.000      16.874   8.293    3.951    0.571   -3.317   -1.957
         74     0.950          2.733   1.466     -1.552    0.000      16.052   8.050    4.009    1.367   -3.544   -1.765



         Table 5: An example of consumption co-movement of a worker and a retiree through time.
  25
    We also computed pairwise correlations of percentage changes in consumption among all contemporane-
ous generations. Rounded to one decimal place, all correlations equal 0.9, regardless of the bond market or
Social Security. This indicates that the risk the economy experiences is, for the most part, not generation-
specific.


                                                              23
    In Table 5, we follow a worker age 29 and a retiree age 69 for six years to illustrate
the co-movement in their consumption in the base model. While we consider just six years,
starting in the year 745, they are very typical of our simulation results.
    As columns two and three show, the model’s shocks are sizable. There is, for example,
close to a 5 percent difference between the largest and smallest TFP values over the period.
And the depreciation shocks range from -6.0 percent to 7.5 percent. (Note, negative depre-
ciation is a good thing, i.e., a plus, when it comes to expanding the size of the capital stock
and the return to capital.)
    These shocks as well as their associated impact on capital accumulation produce signif-
icant changes in the wage. In year 750, for example, the wage is 6.78 percent smaller than
two years earlier. And the rate of return to capital ranges from 9.54 percent in 745 to -3.49
percent in 746.
    Interestingly, aggregate consumption and output can move in different directions over
short periods in our model. For example, output rises, but consumption falls between the
first and second years of our table. This reflects the higher stock of capital (thanks to negative
depreciation) in 745 and the higher level of TFP. But the year 746 return to capital is negative
reflecting the significant depreciation rate that year. This depresses the consumption of the
old as well as the young who also hold stock (capital).
    The size of these shocks, the size of changes to factor returns, and the size of output
changes notwithstanding, there is very high co-movement of the worker’s, the retiree’s con-
sumption as well as aggregate consumption.26
    Table 5 suggests that borrowing by the young and lending by the old are instrumental
to risk sharing among the living. This raises the real world question of whether the young
borrow to buy stocks.
    We have two responses. First, as shown below, eliminating the bond market actually
reduces risk across non-contemporaneous generations, although at the price of a modest rise
in risk across contemporaneous generations.
    Second, one subtle mechanism by which workers may be borrowing from the old to
purchase stocks is via their company’s borrowing on their behalf and paying them more
when the company does well. These payments may be contemporaneous with company’s
performance or be made through time. This effectively lets workers borrow to invest in
stocks.27
    That said, the simulated sizes of short and long bond positions associated with unre-
  26
   Also per capital consumption since the model features zero population growth.
  27
   The fact that young borrow to purchase equity is a central feature of Constantinides, Donaldson, and
Mehra (2002).


                                                  24
stricted borrowing and lending appear unrealistically large.


6.3     Generational Risk in the Alternative Model
6.3.1    Realized Utility Measures of Generational Risk

Table 6 reports our realized lifetime utility measures in the alternative model. The mea-
sures are much larger that their Table 3 counterparts. For example, under the alternative
calibration with neither bonds nor Social Security, one would need to expand or contract
a newborn’s consumption in all years of her life by 15.141 percent, on average, in order
to achieve average realized utility across newborns. The maximum adjustment is 83.694
percent. The corresponding figures in the base model are 2.686 percent and 10.329 per-
cent. Thus, the alternative calibration is highly effective in generating risk across newborns
through time.28

                        Absolute Percentage Adjustments to Achieve Average
                                    Realized Utility of Newborns
                                         Alternative Model

                                              Min   Mean          Max       S.D.
                                              Bond Market
                       No Social Security     0.096      20.078   78.201   16.675
                       Social Security        0.008      16.895   66.167   14.229
                                            No Bond Market
                       No Social Security    0.105 15.141         83.694   13.758
                       Social Security       0.004   9.248        32.863    8.435


Table 6: Means, standard deviations, minimums, and maximums of absolute percent adjustments in each
cohort’s annual consumption needed to achieve post-transition average realized lifetime utility of newborns
in the alternative model.


   Table 6 confirms that the presence of the bond market increases generational risk. How-
ever, in the alternative model, the increase is much more pronounced.

6.3.2    Measuring Generational Risk Among Contemporaneous Generations

Table 7 presents our measures of generational risk among contemporaneous generations for
the alternative model. As indicated, the average absolute percentage adjustments needed to
  28
     These results raise the question of whether Krueger’s and Kubler’s (2006) finding that Social Security
can be Pareto improving, if not in general, at least under some under particular preference structures, is
driven by their assumption of unrealistically large economic shocks.


                                                    25
achieve full risk sharing are less than half a percent without Social Security, but with bonds.
Hence, in the presence of a bond market, generational risk among contemporary cohorts is
quite small even absent any government risk-sharing policy. Indeed, the maximum value is
only 7.014 percent. Adding Social Security reduces reduces these small values even further.
Now the average absolute adjustment is 0.262 percent and the maximum adjustment is 4.172
percent.
                              Absolute Percentage Adjustments to
                              Achieve Perfect Risk Sharing Among
                                Contemporaneous Generations
                                       Alternative Model

                                              Min  Mean        Max     S.D.
                                            Bond Market
                         No Social Security 0.000 0.437        4.557 0.341
                         Social Security    0.000 0.296        4.179 0.289
                                            No Bond Market
                         No Social Security    0.000 3.473 24.012 2.627
                         Social Security       0.000 2.307 17.919 1.789


Table 7: Absolute percent adjustments to achieve perfect risk sharing among contemporaneous generations
in the alternative model. Minimum, mean, and maximum are taken across all cohorts and all time. The
standard deviation value is the mean across cohorts of cohort-specific standard deviations.


    Without bonds or Social Security, the absolute adjustments are larger—2.943 percent on
average, with a much larger maximum value of 23.983 percent. Social Security reduces the
average and the maximum values of the adjustment to 2.004 percent and 15.335 percent,
respectively.
    But, as was the case in the base model, if the bond market could be used with unrestricted
leverage, it would be more effective than Social Security in reducing generational risk among
the living. To see this, compare the value of 0.486 percent with the value of 2.004 percent.
The former value is the mean absolute percent adjustment with the bond market, but no
Social Security. The later value is the adjustment with Social Security, but no bond market.


7     Conclusion
Generational risk and its mitigation via Social Security and other government policies has
long intrigued economists. This paper adds to the literature on this issue. Its bare bones,
trend-stationary, 80-period OLG model can generate small or large generational risk depend-
ing on the calibration.

                                                  26
    Our baseline calibration sets depreciation shocks to replicate the variability of returns
to total U.S. wealth. Our alternative calibration reproduces the variability of returns to
U.S. equities. We view the baseline calibration as more reasonable, since its output (and
thus wage) variation, while higher than observed, is substantially lower than that of the
alternative calibration.
    Under the baseline calibration, generational risk is remarkably small, regardless of the
presence of the bond market. This holds whether generational risk is measured in terms
of differences across age cohorts in realized lifetime utility or as differences across contem-
poraneous generations in their exposure to risk from contemporaneous shocks. Under our
alternative calibration, the risk of realizing a much higher level of lifetime utility than another
generation is economically significant. However, even with this calibration, contemporaneous
generations are able to effectively trade risk using the model’s one-period bond market with
unrestricted leverage. Interestingly, though, although the bond market helps contempora-
neous generations share risk, its presence accentuates differences in realized lifetime utility
across generations.
    Social Security is a significant generational risk-mitigating institution regardless of the
calibration. But it’s not as powerful in this regard as the one-period bond market. One
should, however, view our bond-market results as illustrative of the potential power of fi-
nancial exchange to share risk, not as evidence that such risk sharing necessarily arises. The
reason is that full financial risk sharing entails, in our model, unrealistically large short- and
long-bond positions for particular cohorts.
    Beyond these points, the paper demonstrates the feasibility of simulating realistic, large-
scale OLG models with aggregate shocks in which generational policy matters as appears
so evident in real economies. Our solution algorithm is simple and results are robust based
on a range of simulations including those featuring large and persistent TFP shocks as well
as very high degrees of risk aversion. An interesting direction would be to move away from
our trend stationary environment and consider the effect on generational risk of a random
walk in TFP in this model. This is likely more important for studying generational risks in
countries whose TFP processes exhibit either much higher serial correlation than observed
for the U.S. or breaks in their TFP growth rates.29 We leave this for future work.




  29
    Prescott(1986) indicates that modeling the growth rate in U.S. TFP as a random walk ”result in es-
sentially the same fluctuations” as the autoregressive process, which he used and we employ. This said,
generational risk, even in the U.S., might be different based on a random walk in TFP growth.


                                                  27
References
Abel, A. and L. J. Kotlikoff, 1988, “Does the Consumption of Different Age Groups Move
 Together? A New Nonparametric Test of Intergenerational Altruism”, NBER Working
 Papers 2490, National Bureau of Economic Research.

Altonji, J. G. and A. Siow, 1987, “Testing the Response of Consumption to Income Changes
  with (Noisy) Panel Data”, Quarterly Journal of Economics 102, 293–328.

Ambler, S. and A. Paquet, 1994, “Stochastic Depreciation and the Business Cycle”, Inter-
 national Economic Review 35, 101–116.

Auerbach, A. J., J. Gokhale, and L. J. Kotlikoff, 1994, “Generational Accounting: A Mean-
 ingful Way to Evaluate Fiscal Policy”, Journal of Economic Perspectives 8, 73–94.

Auerbach, A. J. and L. J. Kotlikoff, 1987, Dynamic Fiscal Policy, Cambridge University
 Press.

Ball, L. and N. G. Mankiw, 2007, “Intergenerational Risk Sharing in the Spirit of Arrow,
  Debreu, and Rawls, with Applications to Social Security Design”, Journal of Political
  Economy 115, 523–547.

Barro, R. J., 2006, “Rare Disasters and Asset Markets in the Twentieth Century”, The
  Quarterly Journal of Economics 121, 823–866.

Bodie, Z., R. C. Merton, and W. F. Samuelson, 1992, “Labor Supply Flexibility and Portfolio
  Choice in a Life Cycle Model”, Journal of Economic Dynamics and Control 16, 427–449.

Bohn, H., 1998, “Risk Sharing in a Stochastic Overlapping Generations Economy”, Uni-
  versity of California at Santa Barbara, Economics Working Paper Series, Department of
  Economics, UC Santa Barbara.

Bohn, H., 1999, “Should the Social Security Trust Fund Hold Equities?: An Intergenerational
  Welfare Analysis”, Review of Economic Dynamics 2, 666–697.

Bohn, H., 2001, “Social Security and Demographic Uncertainty: The Risk-Sharing Proper-
  ties of Alternative Policies”, in J. Campbell and M. Feldstein, editors, “Risk Aspects of
  Investment Based Social Security Reform”, Chicago: University of Chicago Press, 203–241.

Bohn, H., 2002, “Retirement Savings in an Aging Society: A Case for Innovative Government
  Debt Management”, in A. Auerbach and H. Herrman, editors, “Ageing, Financial Markets
  and Monetary Policy”, Berlin: Springer, 139–181.

                                            28
Bohn, H., 2006, “Who Bears What Risk? An Intergenerational Perspective”, in D. Blitzstein,
  O. S. Mitchell, and S. P. Utkus, editors, “Restructuring Retirement Risks”, Oxford, UK:
  Oxford University Press, 10–36.

Bohn, H., 2009, “Intergenerational Risk Sharing and Fiscal Policy”, Journal of Monetary
  Economics 56, 805–816.

Bovenberg, L. and H. Uhlig, 2008, “Pension Systems and the Allocation of Macroeconomic
  Risk”, in “NBER International Seminar on Macroeconomics 2006”, National Bureau of
  Economic Research, 241–344.

Chatterjee, S., D. Corbae, M. Nakajima, and J.-V. Rios-Rull, 2007, “A Quantitative Theory
 of Unsecured Consumer Credit with Risk of Default”, Econometrica 75, 1525–1589.

Chen, C. and O. Mangasarian, 1996, “A Class of Smoothing Functions for Nonlinear and
 Mixed Complementarity Problems”, Computational Optimization and Applications 5, 97–
 138.

Constantinides, G. M., J. B. Donaldson, and R. Mehra, 2002, “Junior Can’t Borrow: A New
  Perspective On the Equity Premium Puzzle”, The Quarterly Journal of Economics 117,
  269–296.

Cooley, T. and E. Prescott, 1995, “Economic Growth and Business Cycles”, in “Frontiers of
  Business Cycle Research”, Princeton University Press.

Davis, S. J. and P. Willen, 2000, “Using Financial Assets to Hedge Labor Income Risks:
  Estimating the Benefits”, Working Paper.

Diamond, P., 1977, “A Framework for Social Security Analysis”, Journal of Public Economics
  8, 275–298.

Fernandez-Corugedo, E., 2002, “Soft Liquidity Constraints and Precautionary Saving”,
  Working paper, Bank of England.

Gomme, P., R. Rogerson, P. Rupert, and R. Wright, 2005, “The Business Cycle and the Life
 Cycle”, NBER Macroeconomics Annual 19.

Goodfriend, M., 2005, Models and Monetary Policy: Research in the Tradition of Dale
 Henderson, Richard Porter, and Peter Tinsley, chapter Narrow Money, Broad Money,
 and the Transmission of Monetary Policy, Board of Governors of the Federal Reserve
 System.

                                           29
Goodfriend, M. and B. T. McCallum, 2007, “Banking and Interest Rates in Monetary Policy
 Analysis: A quantitative exploration”, Journal of Monetary Economics 54, 1480–1507.

Gourinchas, P.-O., 2000, “Precautionary Savings, Life Cycle and Macroeconomics”, Econo-
 metric Society World Congress 2000 Contributed Papers 0793, Econometric Society.

Green, J. and L. J. Kotikoff, 2008, “On the General Relativity of Fiscal Language”, in
  A. J. Auerbach and D. N. Shaviro, editors, “Institutional Foundations of Public Finance”,
  Cambridge: Harvard University Press, 241–256.

Hansen, G. D., 1985, “Indivisible Labor and the Business Cycle”, Journal of Monetary
  Economics 16, 309–327.

Harenberg, D. and A. Ludwig, 2016, “Idiosyncratic Risk, Aggregate Risk, and the Wel-
  fare Effects of Social Security”, SAFE working paper no. 59. Available at SSRN:
  https://ssrn.com/abstract=2464170.

Hasanhodzic, J., 2014, “Increasing Borrowing Costs and the Equity Premium”, SSRN work-
  ing paper. Available at SSRN: https://ssrn.com/abstract=2425330.

Hasanhodzic, J. and L. Kotlikoff, 2013, “Generational Risk–Is It a Big Deal?: Simulating an
  80-Period OLG Model with Aggregate Shocks”, NBER Working Papers 19179, National
  Bureau of Economic Research.

Hasanhodzic, J., A. W. Lo, and P. Patel, 2009, “The CS 130/30 Index: A Summary and
  Performance Comparison”, White paper, Credit Suisse.

Hayashi, F., 1987, “Tests for Liquidity Constraints: A Critical Survey and Some New Ob-
  servations”, in F. T. Bewley, editor, “Advances in Econometrics, Fifth World Congress”,
  Cambridge University Press, Cambridge, England.

Jagannathan, R., E. McGrattan, and A. Scherbina, 2000, “The Declining U.S. Equity Pre-
  mium”, Federal Reserve Bank of Minneapolis Quarterly Review 24, 3–19.

Judd, K., L. Maliar, and S. Maliar, 2009, “Numerically Stable Stochastic Simulation Ap-
  proaches for Solving Dynamic Economic Models”, NBER Working Papers 15296, National
  Bureau of Economic Research.

Judd, K., L. Maliar, and S. Maliar, 2011, “Numerically Stable Stochastic Simulation Ap-
  proaches for Solving Dynamic Economic Models”, Quantitative Economics 2, 173–210.


                                            30
Krueger, D. and F. Kubler, 2004, “Computing Equilibrium in OLG Models with Stochastic
  Production”, Journal of Economic Dynamics and Control 28, 1411–1436.

Krueger, D. and F. Kubler, 2006, “Pareto-Improving Social Security Reform when Financial
  Markets are Incomplete!?”, American Economic Review 96, 737–755.

Krusell, P. and A. A. Smith, 1997, “Income And Wealth Heterogeneity, Portfolio Choice,
  And Equilibrium Asset Returns”, Macroeconomic Dynamics 1, 387–422.

Krusell, P. and A. A. Smith, 1998, “Income and Wealth Heterogeneity in the Macroecon-
  omy”, Journal of Political Economy 106, 867–896.

Krusell, P. and A. A. Smith, 1999, “On the Welfare Effects of Eliminating Business Cycles”,
  Review of Economic Dynamics 2, 245–272.

Lucas, R., 1987, Models of Business Cycles, Oxford, UK: Basil Blackwell.

Malin, B. A., D. Krueger, and F. Kubler, 2011, “Solving the Multi-Country Real Business
 Cycle Model Using a Smolyak-Collocation Method”, Journal of Economic Dynamics and
 Control 35, 229–239.

Marcet, A., 1988, “Solution of Nonlinear Models by Parameterizing Expectations”, Technical
 report, Carnegie Mellon University.

Marcet, A. and G. Lorenzoni, 2001, “The Parameterized Expectations Approach: Some
 Practical Issues”, in R. Marimon and A. Scott, editors, “Computational Methods for the
 Study of Dynamic Economies”, Chicago: Oxford University Press.

Marcet, A. and D. A. Marshall, 1994, “Solving Nonlinear Rational Expectations Models By
 Parametrized Expectations: Convergence to Stationary Solutions”, Discussion paper 91,
 Federal Reserve Bank of Minneapolis.

Mehra, R., 2008, “The Equity Premium Puzzle: A Review”, Foundations and Trends in
 Finance 2, 1–81.

Merton, R. C., 1983, “On the Role of Social Security as a Means for Efficient Risk-Bearing in
 an Economy Where Human Capital Is Not Tradeable”, in Z. Bodie and J. Shoven, editors,
 “Financial Aspects of the United States Pension System”, Chicago: University of Chicago
 Press.

Milde, H. and J. G. Riley, 1988, “Signaling in Credit Markets”, Quarterly Journal of Eco-
 nomics 103, 101–129.

                                             31
Prescott, E., 1986, “Theory Ahead of Business-Cycle Measurement”, Carnegie-Rochester
  Conference Series on Public Policy 25, 11–44.

Rangel, A. and R. Zeckhauser, 2001, “Can Market and Voting Institutions Generate Optimal
  Intergenerational Risk Sharing?”, in “Risk Aspects of Investment-Based Social Security
  Reform”, NBER Chapters, National Bureau of Economic Research, 113–152.

Rawls, J., 1971, A Theory of Justice, Cambridge, MA: Belknap Press of Harvard University
  Press.

Reiter, M., forthcoming, “Solving OLG Models with Many Cohorts, Asset Choice and Large
  Shocks”, personal correspondence.

Rietz, T. A., 1988, “The Equity Risk Premium: A Solution”, Journal of Monetary Economics
  22, 117–131.

Rios-Rull, J. and R. Santaeulalia-Llopis, 2010, “Redistributive Shocks and Productivity
  Shocks”, Journal of Monetary Economics 57, 931–948.

Rios-Rull, J.-V., 1994, “On the Quantitative Importance of Market Completeness”, Journal
  of Monetary Economics 34, 463–496.

Rios-Rull, J.-V., 1996, “Life-Cycle Economies and Aggregate Fluctuations”, Review of Eco-
  nomic Studies 63, 465–489.

Shiller, R., 1999, “Social Security and Intergenerational, Intragenerational, and International
  Risk Sharing”, Carnegie-Rochester Conference Series on Public Policy 50, 165–204.

Siegel, J. J., 1998, Stocks for the Long Run: The Definitive Guide to Financial Market
  Returns and Long-Term Investment Strategies, McGraw-Hill.

Smetters, K. A., 2003, “Trading with the Unborn: A New Perspective on Capital Income
  Taxation”, NBER Working Papers 9412, National Bureau of Economic Research.

Storesletten, K., C. Telmer, and A. Yaron, 2007, “Asset Pricing with Idiosyncratic Risk and
  Overlapping Generations”, Review of Economic Dynamics 10, 519–548.

Weitzman, M. L., 2007, “Subjective Expectations and Asset-Return Puzzles”, American
 Economic Review 97, 1102–1130.

Wirjanto, T. S., 1995, “Aggregate Consumption Behaviour and Liquidity Constraints: The
 Canadian Evidence”, Canadian Journal of Economics 28, 1135–1152.

                                              32
A       Appendix
For Online Publication


A.1       Algorithm
The following is a step-by-step description of our algorithm.

    Initialization:

    • Set z̄ and δ̄ to their average values and solve for the nonstochastic steady state cash
      on hand of each age group without bond, s̄ = (x̄1 , . . . , x̄G−1 ). Let (s0 , z0 , δ0 ) = (s̄, z̄, δ̄)
      be the starting point of the simulation.

    • Approximate G − 1 consumption functions by polynomials in the state variables and
      the shock delta: c1 (s, z, δ) = φ1 (s, z, δ; b1 ), . . . , cG−1 (s, z, δ) = φG−1 (s, z, δ; bG−1 ), where
      b1 , . . . , bG−1 are polynomial coefficients. We use linear polynomials. To start the iter-
      ations, we make the following initial guess for the coefficients:
      b1 = (0, 0.9c̄1 /x̄1 , 0, . . . , 0, 0.1c̄1 , 0), . . . , bG−1 = (0, 0, . . . , 0, 0.9c̄G−1 /x̄G−1 , 0.1c̄G−1 , 0).

    • Take draws of the exogenous path of shocks for T years. We set T to 830, which
      corresponds to roughly 10 observations per polynomial coefficient.

    Outer loop:

    • The first step in the outer loop is to simulate the model forward, i.e. compute the
      state space for t = 1, . . . , T . To do so, at each time t we proceed as follows:

          – Recall that at time t, the state vector consists of the vector of cash-on-hand
            variables of generations 1 through G − 1, st = (x1,t , . . . , xG−1,t ) and exogenous
            shocks.
                                                                                                              (p)
          – Using this state vector, for each age group g, calculate its consumption cg given
                                                            (p)
            the current guess for the coefficients bg , where the subscript (p) denotes the
                                                             (p)
            current iteration of the outer loop. I.e., cg,t equals the inner product of the vector
                                                                 (p)
            (1, st , zt , δt ) with the vector of coefficients bg . Compute the generation-specific
            asset demands, θg,t , as the difference between cash on hand and consumption,
            θg,t = xg,t − cg,t . Note that the sum of asset demands of generations 1 through
            G − 1 is the capital stock at the beginning of period t + 1, kt+1 .


                                                          33
          – At this point enter the inner loop to compute the agents’ choices of bond shares,
            αg,t , for generations 1 through G − 1, and the risk free rate r̄t . Recall that these
            are needed to compute the cash-on-hand variables at time t + 1.
          – Inner loop:
               ∗ Use Broyden’s method to solve (8) for r̄t . To start, make an (arbitrary) initial
                 guess for the value of r̄t .
               ∗ Given r̄t , solve the system of G−1 equations given by (19) for g = 1, . . . , G−1,
                 for G − 1 unknowns, α1,t , . . . , αG−1,t . To do so, approximate the expectation
                 by Gaussian quadrature.30 Notice that the consumption at time t + 1, cg,t+1 ,
                 on the right-hand-side of each equation (19) needs to be approximated by the
                 polynomial in the state vector plus δ. Hence, each of these equations depends
                 on the entire distribution of the cash-on-hand variables, and through them,
                 on all of the generation-specific α’s, α1,t , . . . , αG−1,t . To solve a nonlinear
                 system of G − 1 nonlinear equations in G − 1 unknowns we use the Gauss-
                 Seidel algorithm, which reduces the problem of solving for G − 1 unknowns
                 simultaneously in G−1 equations to that of iteratively solving G−1 equations
                 in one unknown.31 We solve each of these nonlinear equations in one unknown
                 α using Newton’s method.
               ∗ Use αg,t found above for all g to calculate (8) and update r̄t .
          – Given αg,t for g = 1, . . . , G − 1, r̄t , kt+1 , and exogenous shocks, we can now
            compute each generation’s cash on hand in period t+1 as the sum of their labor
            and capital income (plus or minus any government transfers) at time t+1.

 • Note that for each age group g and each state (st , zt ), t = 1, . . . , T , (18) implies



            cg (s, z) = βEz 1 + r(s0 , z 0 ) u0 (cg+1 (s0 , z 0 ))
                                                               
                                                                                                                 (A.1)
                                                                                                          − γ1
                      + IβEz αg (s, z)(r̄(s, z) − r(s0 , z 0 )) − f (αg (s, z)) u0 (cg+1 (s0 , z 0 ))
                                                                                                    
                                                                                                                 .


       Denote the right-hand-side of (A.1) by yg and evaluate the expectation using Gaussian
       quadrature.

 • For each age group g, regress yg on (st , zt , δt ) and a constant term using regularized least
30
     We use 4 nodes in the quadrature, using more does not change the results.
31
     As the starting point for Gauss-Seidel we use the α’s computed at time t-1.


                                                       34
      squares with Trikhonov regularization. Denote the estimated regression coefficients by
        (p)
      b̂g .

   • Check for convergence: If

                                       G−1    T  (p−1)     (p)
                                   1 X 1 X xg          − xg
                                                     (p−1)
                                                               < ,
                                 G − 1 g=1 T t=1   xg

                                                                       (p+1)          (p)   (p)
      end. Otherwise, for each age group g update the coefficients as bg = (1−ξ)bg +ξ b̂g
      and return to the beginning of the outer loop. We use ξ = 0.1 and  ∈ [10−7 , 10−13 ].

A.1.1    Accuracy Test Results

We now present the results of the two accuracy tests (out-of-sample deviations from the
exact satisfaction of the Euler equations and the Den Haan-Marcet statistic) described and
summarized in Sections 5.1 and 5.2.


A.2     Generational Risk-Inducing Policy
To ensure that our generational risk measures are, indeed, capturing generational risk, we
next simulate our base model, but with risk-inducing policy and with depreciation shocks
turned off to maximize the policy’s ability to exacerbate TFP shocks. In considering this
policy, bear in mind that it tends to persist because it’s tied to the wage, which is tied to
TFP, whose process is autocorrelated.
    By construction, the risk-inducing policy differentially affects the young and old. It does
so by making the good times far less good for the young and far better for the old. For
example, if z and the capital stock are kept at their average values, the young receive a wage
of 1.657, pay 0.366 in taxes, and the old receive 0.471 in benefits. If times are good and z is
two standard deviations above the mean, the corresponding values are 1.761 for the wage,
0.503 for the tax on the young, and 0.647 for the old-age benefit. If times are bad and z is
two standard deviations below the mean, the wage, tax, and benefit amounts are now 1.553,
0.229, and 0.295, respectively. Notice that in this example, if viewed as the percentage of
the wage, the tax on the young is almost twice as large in the good state than in the bad
state. On the other hand, the old receive a benefit in the good state that is more than twice
as large than that in the bad state, while also enjoying a higher return on their investments.
    The younger young and the older old are particularly affected. Indeed, we would expect
smaller correlations in percentage changes in consumption the further apart are agents in
age. Table A.3, which considers age group two, shows that this is precisely what happens.

                                              35
                                Mean Absolute Euler Equation Deviations
                                                   Min          Mean           Max
                                                             Base Model
                   No Social Security               0.0000         0.0002       0.0005
                   Social Security                  0.0001         0.0003       0.0005
                                                 Base Model With Borrowing Costs
                   No Social Security               0.0002         0.0013       0.0031
                   Social Security                  0.0004         0.0009       0.0018
                                                    Base Model Without Bonds
                   No Social Security               0.0000         0.0002       0.0003
                   Social Security                  0.0001         0.0003       0.0006
                                                         Alternative Model
                   No Social Security               0.0009         0.0024       0.0039
                   Social Security                  0.0013         0.0026       0.0039
                                                 Alternative Model Without Bonds
                   No Social Security               0.0012         0.0016       0.0018
                   Social Security                  0.0015         0.0022       0.0027
                                                        Risk-Inducing Policy
                   Bond Market                      0.0000         0.0001       0.0005
                   No Bond Market                   0.0000         0.0000       0.0002
                                                     Sensitivity Analysis Models
                   More Volatile TFP                0.0000         0.0006       0.0011
                   More Persistent TFP              0.0000         0.0001       0.0001
                   Very High Risk Aversion          0.0000         0.0000       0.0000


Table A.1: Minimum, mean, and maximum across generations of the average, across time, of the absolute
value of the generation-specific, out-of-sample deviations from the perfect satisfaction of Euler equations.



                                        The Den Haan-Marcet Statistic
                                                  Min       Mean         Max
                                                         Base Model
                           No Social Security      6.240     12.292     21.285
                           Social Security        12.315     18.310     24.828
                                                      Alternative Model
                           No Social Security      5.506     10.837     23.188
                           Social Security         5.598     10.184     16.851


Table A.2: The minimum, mean, and maximum values across generations of the Den Haan-Marcet statistic
in the base and alternative models.



                                                     36
       Correlations of Age Group Two's Percent Changes in Consumption with Those of Other Age Groups
                                No Stochastic Depreciation and No Bond Market
 Age group 2 correlated with age        3       25      34      35         36       37      38     39      55      80
 Correlation                           1.000 0.998 0.921 0.806 0.419 -0.330 -0.731 -0.864 -0.976 -0.979



Table A.3: Correlations of age group two’s percent changes in consumption with percent changes in
consumption of other age groups.


    Bohn, in several papers, and Bovenberg and Uhlig (2008) consider a different generational-
risk producing policy namely one that raises Social Security’s tax rate in bad times (negative
TFP shocks) and lower it in good times (positive TFP shocks) to maintain benefit levels.
This, obviously, makes bad (good) times worse (better) for workers while protecting retirees’
benefits.
                           Measures of Generational Risk With Risk-Inducing Policy
                          No Stochastic Depreciation, With and Without Bond Market
                                                                      No Bond Market               Bond Market
                                                                     Min    Mean         Max     Min     Mean    Max
   corr(% change in C worker i; % change in C worker j)          -0.973         0.374    1.000   1.000   1.000   1.000
   corr(% change in C retiree i; % change in C retiree j)         0.996         0.999    1.000   0.996   1.000   1.000
   corr(% change in C agent i; % change in C agent j)            -0.979         0.032    1.000   0.995   1.000   1.000
   corr(% change in C agent i; % change in per capita C)         -0.976         0.125    0.986   0.989   0.995   0.995
   all agents: absolute % adjustment for perfect risk sharing     0.000         0.892    7.337   0.322   0.563   0.834



Table A.4: Measures of generational risk with risk-inducing policy with and without bonds. The measures
are presented as summary statistics of pairwise correlations in percentage changes in consumption among
different age groups (first four rows) and absolute percentage adjustments needed to achieve full risk sharing
(last row).


    Table A.4, which incorporates the risk-inducing policy, reports summary statistics of pair-
wise correlations in annual percentage changes in consumption between different age groups
among workers only, retirees only, and all agents.32 Second, it examines the correlation of
each agent’s annual percentage change in consumption with the annual percentage change in
per capita consumption. And third, it reports the absolute percent adjustments to achieve
perfect risk sharing among contemporaneous generations in the base model, analogous to
the results in Table 4 for the base model with Social Security. The results that are dramat-
ically different from those for the base model. Take row 4, for example, which shows the
minimum, mean, and maximum values of the correlation of each agent’s percentage change
  32
     For each age group pair, g and g 0 , we correlate the pair’s percentage consumption changes between adja-
cent time periods across all 755 time periods during which they overlap. Hence, each correlation coefficient
is calculated based on the same number of observations.



                                                         37
in consumption with per capita consumption. These three values, in the no-bond-market
case, are -0.976, 0.125, and 0.986. Recall that in the base case, the corresponding values all
equal 0.9 rounded to one decimal place. Hence, we see what we expect—larger measured
generational risk in the presence of larger generational risk.
    The addition of bonds reverses this story. With bonds, the Table-A.4, row-4 values are
0.989, 0.995, and 0.995, indicating, as before, that in principle the bond market can be
effective in hedging generational risk. This is also clear from the last row in Table A.4.
Without bonds, the maximum adjustment needed to achieve full risk sharing among living
generations is 7.337 percent. With bonds, it’s far less, 0.834 percent.


A.3     Sensitivity Analysis
To assess the robustness of our findings, we also simulate models with high risk aversion,
greater persistence of the TFP shocks or larger TFP shocks. Specifically, we consider risk
aversion of 15, a TFP process with an annual autocorrelation coefficient of 0.961 (recall,
the base model’s annual value is 0.814), and a TFP shock whose standard deviation is 5
times larger than in the base model. All models feature a bond market and no depreciation
shocks or Social Security. Table A.5 shows that increasing risk aversion to 15 has minimal
effect on both output variability and generational risk. On the other hand, increasing the
volatility or the persistence of the TFP process increases our realized utility measure of
generational risk. Table A.6 shows that this coincides with an increase in the variability of
output (and, thus, wages) beyond empirically relevant values. Table A.7 shows that each of
the above variants confirms our finding in sections 6.2 and 6.3 of very small generational risk
across contemporaneous generations in the presence of the bond market. The bond market,
even though its maturity is only one period, is remarkably robust in pooling risk among
contemporaneous generations.




                                              38
                          Absolute Percent Adjustment to Achieve Average
                            Realized Utility of Newborns Through Time
                        Models With More Volatile or Persistent TFP or Higher
                                            Risk Aversion


                                                Risk                     Standard
                               TFP                               Mean
                                              Aversion                   Deviation
                       More persistent             2             4.461     3.656
                       More volatile               2             6.620     5.002
                       Assumed                    15             1.375     0.954
                       Assumed                     2             1.282     0.992



Table A.5: Means and standard deviations of absolute percentage adjustments needed to achieve average
realized utility of newborns through time. All models feature a bond market and no depreciation shocks or
Social Security.




                                 Standard Deviation of Output Percent
                                      Deviations from the Mean

                                                         Risk    Standard
                                     Model
                                                       Aversion Deviation (%)

                            Base model                      15            3.662
                            More persistent TFP             2             8.739
                            More volatile TFP               2            18.644



Table A.6: Standard deviation of percentage deviations from the mean in output, with high risk aversion,
with higher persistence, or higher volatility in the TFP process. When the TFP process is more persistent,
its autocorrelation coefficient equals 0.99 on a quarterly basis (0.96 on an annual basis). When it is more
volatile, the standard deviation of its innovation is 5 times larger than that assumed in the base model. All
models include bonds and do not include depreciation shocks.




                                                       39
     Generational Risk With More Volatile or More Persistent TFP Process, and High Risk Aversion

                                                               Assumed TFP           More persistent TFP
                                                              Risk aversion 15         Risk aversion 2
                                                             Min Mean Max            Min Mean       Max
corr(% change in C worker i; % change in C worker j)         1.000 1.000 1.000       1.000 1.000 1.000
corr(% change in C retiree i; % change in C retiree j)       1.000 1.000 1.000       1.000 1.000 1.000
corr(% change in C agent i; % change in C agent j)           1.000 1.000 1.000       1.000 1.000 1.000
corr(% change in C agent i; % change in per capita C)        0.997 0.997 0.997       0.999 0.999 0.999
all agents: absolute % adjustment for perfect risk sharing   0.000 0.036 0.092       0.005 0.129 0.234

                                                              More volatile TFP          Assumed TFP
                                                               Risk aversion 2          Risk aversion 2
                                                             Min Mean Max             Min Mean       Max
corr(% change in C worker i; % change in C worker j)         1.000 1.000 1.000        1.000 1.000 1.000
corr(% change in C retiree i; % change in C retiree j)       1.000 1.000 1.000        1.000 1.000 1.000
corr(% change in C agent i; % change in C agent j)           0.999 1.000 1.000        1.000 1.000 1.000
corr(% change in C agent i; % change in per capita C)        0.998 0.999 0.999        0.999 0.999 0.999
all agents: absolute % adjustment for perfect risk sharing   0.000 0.133 0.495        0.076 0.129 0.176



Table A.7: Measures of generational risk in the model with high risk aversion, or with high persistence
or volatility in the TFP process. All models feature a bond market, no depreciation shocks, and no Social
Security. The measures of generational risk include summary statistics of pairwise correlations in percentage
changes in consumption among different age groups (first four rows) and absolute percentage adjustments
needed to achieve full risk sharing (last row).




                                                       40
