                             NBER WORKING PAPER SERIES




TESTING, VOLUNTARY SOCIAL DISTANCING AND THE SPREAD OF AN INFECTION

                                      Daron Acemoglu
                                       Ali Makhdoumi
                                     Azarakhsh Malekian
                                      Asuman Ozdaglar

                                     Working Paper 27483
                             http://www.nber.org/papers/w27483


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                    July 2020




This work is partially supported by a grant from C3.DTI consortium. The views expressed herein
are those of the authors and do not necessarily reflect the views of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2020 by Daron Acemoglu, Ali Makhdoumi, Azarakhsh Malekian, and Asuman Ozdaglar. All
rights reserved. Short sections of text, not to exceed two paragraphs, may be quoted without
explicit permission provided that full credit, including © notice, is given to the source.
Testing, Voluntary Social Distancing and the Spread of an Infection
Daron Acemoglu, Ali Makhdoumi, Azarakhsh Malekian, and Asuman Ozdaglar
NBER Working Paper No. 27483
July 2020
JEL No. D62,D85,I18

                                           ABSTRACT

We study the effects of testing policy on voluntary social distancing and the spread of an
infection. Agents decide their social activity level, which determines a social network over which
the virus spreads. Testing enables the isolation of infected individuals, slowing down the
infection. But greater testing also reduces voluntary social distancing or increases social activity,
exacerbating the spread of the virus. We show that the effect of testing on infections is non-
monotone. This non-monotonicity also implies that the optimal testing policy may leave some of
the testing capacity of society unused.

Daron Acemoglu                                    Azarakhsh Malekian
Department of Economics                           Rotman School of Management
MIT                                               University of Toronto
50 Memorial Drive                                 and LIDS, MIT
Cambridge, MA 02142-1347                          azarakhsh.malekian@rotman.utoronto.ca
and NBER
daron@mit.edu                                     Asuman Ozdaglar
                                                  Dept of Electrical Engineering
Ali Makhdoumi                                     and Computer Science
Duke University                                   Massachusetts Institute of Technology
100 Fuqua Drive                                   77 Massachusetts Ave, E40-130
Durham, NC 27708                                  Cambridge, MA 02139
United States                                     asuman@mit.edu
ali.makhdoumi@duke.edu
        Testing, Voluntary Social Distancing and the Spread of an
                                                   Infection
 Daron Acemoglu⇤                Ali Makhdoumi†            Azarakhsh Malekian‡             Asuman Ozdaglar§

                                                   June 25, 2020



                                                      Abstract

              We study the effects of testing policy on voluntary social distancing and the spread of an
          infection. Agents decide their social activity level, which determines a social network over
          which the virus spreads. Testing enables the isolation of infected individuals, slowing down
          the infection. But greater testing also reduces voluntary social distancing or increases social
          activity, exacerbating the spread of the virus. We show that the effect of testing on infections is
          non-monotone. This non-monotonicity also implies that the optimal testing policy may leave
          some of the testing capacity of society unused.


1       Introduction
The COVID-19 pandemic has reignited interest in models of epidemics and their control. A point
of broad agreement among different approaches is that ramping up testing capacity is one of the
most effective ways of combating the pandemic (see e.g. Searchinger et al. [2020], Brumfiel [2020],
and BruSoe-Lin and Hecht [2020]). One issue that has not received much attention, however, is
whether and how different testing strategies will impact voluntary social distancing decisions of
individuals.
        In this paper, we develop a simple model to investigate the effects of testing on infections and
provide insights on optimal testing strategies. We model social activity and voluntary distancing
as a network formation problem and use a simple percolation process to represent the spread of a
virus over the endogenous social network. Our choice for a model of percolation rather than the
SIR (susceptible, infected and recovered) model more commonly used in the analysis of COVID-19
is motivated by two considerations. First, our percolation model enables a fairly tractable, albeit
general, analysis of the spread of the virus and how it depends on the endogenous social network.
Second, to the extent that the optimal social policy is to minimize infections until a vaccine and
    ⇤
      Dept. of Economics, Massachusetts Institute of Technology. daron@mit.edu
    †
      Fuqua School of Business, Duke University. ali.makhdoumi@duke.edu
    ‡
      Rotman School of Management, University of Toronto. azarakhsh.malekian@rotman.utoronto.ca
    §
      Dept. of Electrical Engineering and Computer Science, Massachusetts Institute of Technology. asuman@mit.edu


                                                          1
a cure arrive (rather than reaching herd immunity), a percolation model, even though it does not
have the recovered individuals, will provide a good approximation to the outcomes under an SIR
model.
   Our main results confirm the major benefit society can reap from testing and isolating infected
individuals, but also leads to two new insights. First, greater testing can lead to more social ac-
tivity (less social distancing) and thus a denser social network, because when infected individuals
are more likely to be identified and isolated, agents feel more secure to initiate contacts. We show
that, for a nontrivial set of parameters, greater testing can increase infections. This happens, in
particular, when the equilibrium involves some groups choosing an intermediate level of social
activity because of their fear of infection. Second, we demonstrate that when the testing capacity
of society is limited, optimal policy may involve leaving some of this capacity unused in order to
avoid adverse effects on social distancing. This also implies that testing should be combined with
mandatory social distancing measures to avoid these adverse behavioral effects.
   More formally, our model consists of n individuals of two types, high-type agents with greater
value from social activities and low-type agents with lower values (more than two types are con-
sidered as an extension). Each individual i chooses a social activity level xi 2 [0, 1], and the vector
of social activities defines a contact (social) network among individuals. Specifically, we assume
that there will be contact between agents i and j with probability ⌘xi xj , where ⌘ < 1 captures
the probability of a match conditional on activities. The utility of each individual is her utility
gain from social activities minus her infection probability. The virus spreads over the social net-
work following a cascade process, whereby each infected and non-isolated individual transmits
the infection to each one of its neighbors with probability     2 (0, 1]. An infected individual does
not transmit the virus after isolation, but we assume that transmission still occurs before testing
detects and isolates an infected agent. More specifically, we assume that an infected individual
who is detected transmits the virus with a smaller probability p, where p 2 [0, 1).
   Our analysis relies on a key lemma which establishes that the stochastic process for the spread
of the virus satisfies natural monotonicity and concavity (submodularity) properties: more social
activity leads to more infections but an individual’s probability of infection increases less in her
own social activity when she already has a high activity level.
   We first prove that, as often maintained in prior analyses, more testing reduces infections when
we take activity levels (and thus the social network) as given. Our key results concern the case
in which the social activity levels are endogenous. First, we show that when testing probabilities
are large, both types of individuals choose maximal social activity (which can be interpreted as
the same level of activity as the pre-pandemic period). In this region, the equilibrium behaves in
an identical fashion to the exogenous social network case and testing always reduces infections.
More interestingly, however, for lower testing probabilities, either high-value or low-value indi-
viduals choose intermediate levels of social activity and greater testing increases their infection
probability.
   We next turn to an analysis of optimal testing (where the objective is to maximize the value of


                                                  2
social activity minus the cost of infections). We assume that there is a fixed supply of tests and then
investigate how these should be allocated. Because high-value agents are socially more active,
they are more likely to be infected and thus they should be tested first. If there is sufficient testing
capacity, it is optimal to test all agents. But most interestingly, we prove that for intermediate or
low values of testing capacity, it is socially optimal not to use all available tests. The social planner
should either test all high-value agents, but not the low-value agents, so as to discourage them
from high levels of social activity. Or she should have no testing, even though there is capacity to
test some of the high-value agents. The intuition is again via the impact of testing on voluntary
social distancing: additional testing over this range would reduce voluntary social distancing so
much that it would have no benefit in terms of containing the infection.
   As already emphasized, these non-monotonicity results are due to the impact of testing on
equilibrium social activity (social distancing). If the social planner can mandate social distancing,
then it is straightforward to show that there is no non-monotonicity and it is always optimal to
use all of the available testing capacity.
   We also show that uniform testing policies, where tests are allocated without reference to the
type of agents, are worse than targeted testing policies.
   In our baseline model, high-value agents should be tested first because they are more active
and thus more likely to transmit the virus. In an extension where we allow individuals to choose
type-specific social activity levels (e.g., how much to socialize with high-value and low-value
agents), we show that not testing high-value agents may have an additional strategic benefit—it
discourages low-value agents from socializing with high-value agents, slowing down the spread
of the virus.


Related Literature

Our paper is related to three distinct literatures. First, ours is a model of endogenous social net-
work formation. Seminal papers in this area include Jackson and Wolinsky [1996], Bala and Goyal
[2000], and Currarini et al. [2009] (see Jackson [2008] and Vega-Redondo [2007] for book-length
treatments of issues of network formation and contagion in networks). Differently from the most
common approach in this literature, which is to look at pairwise or coalition-wise stable outcomes,
we adopt a non-cooperative approach to network formation (see also Bollobás and Béla [2001] and
Newman et al. [2001]). In particular, we adopt a very simple (and to the best of our knowledge,
novel) modeling strategy, where the probability of connection between two agents is proportional
to the product of their levels of social activity. This leads to a tractable but rich set of interactions,
in part because this structure makes activity levels both strategic substitutes and complements.
Goyal [1993], Bala and Goyal [2000], and Acemoglu et al. [2017a] assume agents can unilaterally
create directed links to others. In contrast, in our model the probability of a link between two
agents depends on the action of both of them.
   Second, there is a large literature spanning various areas of economics where precautionary
tools increase risk-taking (Peltzman [1975]). For example, hydraulic breaks increase driving speed


                                                    3
and may have much lower effects on accidents than they would have done had driving behav-
ior not responded (see e.g., Lindgren and Stuart [1980], Crandall and Graham [1984], and Keeler
[1994]). Differently from other works in this vein, we show that in our setting with social net-
work interactions, the countervailing effects can outweigh the direct impacts and lead to higher
infections from more testing.
       Third, our paper is related to the recent literature on the effects of pandemics and especially of
COVID-19. See, for example, Kruse and Strack [2020], Atkeson [2020], Jones et al. [2020], Glover
et al. [2020], Berger et al. [2020], and Birge et al. [2020]. More closely related are several papers en-
dogenizing behavior and social distancing in the context of SIR models, such as Leung et al. [2018],
Toxvaerd [2020], Eichenbaum et al. [2020], Farboodi et al. [2020], and Maloney and Taskin [2020].
In particular, Eichenbaum et al. [2020] extend the canonical SIR model to study the interaction
between economic decisions and pandemics, while Leung et al. [2018], Toxvaerd [2020], Farboodi
et al. [2020], and Maloney and Taskin [2020] incorporate simple social distancing behavior in an
otherwise standard SIR model.1
       Also closely related within this recent literature are a few recent papers studying the effects
of lockdown and testing strategies. For example, Alvarez et al. [2020], Acemoglu et al. [2020],
Piguillem and Shi [2020], Brotherhood et al. [2020], and Eshragh et al. [2020] look at the effects
of different testing and isolation policies on the dynamics of infections and optimal lockdowns.
More closely related are Drakopoulos and Randhawa [2020] and Ely et al. [2020] who both study
optimal testing policy when tests are inaccurate (and Kasy et al. [2020] who investigate the impli-
cations of false quarantine). None of these papers analyze the impact of testing on voluntary social
distancing and behavior. In addition, to the best of our knowledge, no other paper has provided
a full characterization of social activity and how it depends on infection probabilities and testing
strategies.
       Various other issues such as estimation, testing, and control related to COVID-19 and more
broadly pandemics have also been studied. Kaplan [2020] considers a statistical model for esti-
mating the effectiveness of isolation and quarantine, Drakopoulos et al. [2017] study the open-
loop control of epidemics on a network and shows how the network structure affects the amount
of resources required to contain the spread of infection, Wang et al. [2009] study the strategic
interaction among states in allocating their resources, and Sun et al. [2009] study the strategic
considerations in allocating drugs during a pandemic. Nor has pointed out the non-monotonic
impacts of testing on infections.
       The rest of the paper is organized as follows. In Section 2 we present our model, describing
the formation of contact network and the stochastic process governing the spread of infection. We
also show that for a given (exogenous) network, as expected, increasing the testing capability de-
creases the infection probability. In Section 3 we characterize the equilibrium outcome and show
   1
    Other related work includes Acemoglu et al. [2016], who introduce precautionary behavior in the context of a virus
spreading over a network, Morris [2000], Tardos and Wexler [2007], Blume et al. [(2011], Acemoglu et al. [2017a], Elliott
et al. [2014], Capponi [2016], Acemoglu et al. [2017b], and Bernard et al. [2017] who study contagion over financial
networks, and Manshadi et al. [2020] who study diffusion in random networks.



                                                           4
that increasing testing probabilities may adversely increase the (equilibrium) infection probability.
In Section 4 we characterize the optimal testing policy and show it may be optimal to have under-
utilized testing capacity. Section 5 considers two extensions: multiple groups of agents and social
activity differentially targeted towards different groups. Section 6 concludes, while the Appendix
contains all the proofs and additional results.


2      The Environment
We study the spread of an infection among n individuals (also referred to as agents) represented
by the set V = {1, . . . , n}. Each agent i 2 V decides about her level of social activity denoted by
xi 2 [0, 1]. Higher social activity provides greater utility to agents but also leads to faster spread of
the infection. Agents are heterogeneous in terms of their value of social interaction. In our main
model, we assume that the agent’s type (value of interaction) is either vH 2 [0, 1] or vL 2 [0, 1],
where vL < vH . We also use H and L to denote individuals with high and low values, respectively,
and rH and rL to denote the population fractions of high- and low-value agents. Section 5 extends
our results to a setting with m > 2 types of agents.
      A virus infects a random individual and then spreads to others through a stochastic process
described in subsection 2.2. We analyze the implications of infection testing, represented by testing
probabilities for two types of agents, ↵L , ↵H 2 [0, 1], and study the optimal testing policy, (↵L , ↵H ),
of a (benevolent) social planner. Each infected individual that is tested positive will be isolated
from the rest of society. If an individual is infected and not isolated, she will expose her neighbors
to the infection. If she is isolated, the individual still has a (smaller) chance to infect her neighbors
and expose them to the infection.
      We let x = (x1 , . . . , xn ) denote the social activity profile of all individuals. We also let x   i
represent the social activity profile of all individuals except agent i. In what follows, for any
vector x 2 Rn and set S ✓ V, xS denotes the elements of x for the indices in S and x           S   denotes
the elements of x for the indices outside set S.
      We next describe how social activity levels determine the (endogenous) social network in this
community and how the infection spreads over this social network.


2.1     Network of Contacts

The social activity profile x = (x1 , . . . , xn ) of agents generates a social (contact) network in which
agents i and j are connected with a probability that depends on xi and xj . Let G = (V, E) be a
random network where E 2 {0, 1}n⇥n denotes the random edges (thus, Eij = Eji ), where Eij for
i, j 2 V are independent binary random variables with

                                           P [Eij = 1] = ⌘xi xj ,




                                                     5
for some ⌘ 2 (0, 1]. This ⌘ captures the probability of match between two individuals conditional
on activity levels. We denote a realized network by G = (V, E), where Eij is a realization of Eij , and
thus Eij = 1 means that there is a link between agents i and j.
      We next describe the stochastic process governing the spread of infection and define the infec-
tion probability of agents.


2.2     The Spread of the Infection

Let us denote the neighbors of node i by N (i) = {j 2 V : Eij = 1}. For a given network
G = (V, E), there is a stochastic process that governs the spread of infection as follows. One of the
individuals uniformly at random becomes infected, and the infection then spreads to others via a
percolation process over the social network that is a generalization of the independent cascades
model (see Kempe et al. [2015] for more details).
      We can describe the dynamics of infection as follows: At time 0, one of the agents (chosen
                                                                                                          (t)
uniformly at random) s 2 V gets infected. At any round t      0 for any agent i 2 V we let di
                                                                                       (t)
denote the number of neighbors of agent i that are infected and tested at time t and dˆi denote
the number of neighbors of agent i that are infected at time t but not tested. For each agent i,
these two variables are initially 0 and then evolve over time as described next. At time 0 node s
will be tested with probability ↵i in which case at time 1 for all neighbors of agent s such as j we
            (1)
have dj           = 1. Here ↵i is either ↵H or ↵L depending on whether agent s belongs to H or L. With
probability 1  ↵i , however, agent s will not be tested in which case at time 1 for all neighbors of
                            (1)
agent s such as j we have dˆ = 1. If an infected node is not tested (and therefore not isolated),
                                   j
she will be active for one round and transmits infection to its neighbors with transmission probability
  2 (0, 1]. If an infected node is tested, she can be isolated and prevented from transmitting the
virus. However, before isolation takes place, some social contacts will occur and lead to the spread
of the infection. We represent this possibility with a smaller probability of infection, p, where
p 2 [0, 1). From active agents, the infection simultaneously and independently transmits to each
of their uninfected neighbors. If an uninfected agent is a neighbor to multiple infected individuals
(i.e., there exists at least two i and i0 such that j 2 N (i) and j 2 N (i0 )), then the infection is
transmitted to agent j in an order-independent fashion. This implies, for example, that if j is
uninfected and a neighbor to two active agents that are not tested, then j becomes infected with
probability 1          (1    )2 . If a neighbor of an active node does not become infected at time t, then it
will never again become infected via that node. Given this process, for each node i, the probability
of getting infected at time t + 1 becomes

                                                         ˆt          t
                                             1   (1     )di (1   p)di ,

where, we recall that dˆti is the number of i’s neighbors that are infected and not tested at time t
and d˜t is the number of i’s neighbors that are infected and tested at time t.
        i




                                                         6
Definition 1. For any agent i 2 V, network G = (V, E), and testing policy (↵L , ↵H ) we let
 i (G, ↵L , ↵H ) denote the probability of infection reaching agent i. This probability is over the
Pinf
randomness in the source of infection, the randomness in testing, and the randomness in the
stochastic process described above.

     We next illustrate the stochastic process and the infection probability by means of an example.

Example 1.

     We consider a setting with three agents {1, 2, 3} who are fully connected to each other with
testing probabilities ↵H = ↵L = ↵ and find the infection probability of agent 3. We list the three
cases for the source of infection and find this probability:

     • With probability 1/3, the infection hits agent 3: In this case, agent 3 gets infected.

     • With probability 1/3, the infection hits agent 1: In this case, there are two possibilities:

         (i) Node 1 will get tested whose probability is ↵. Here there are two cases. In the first,
            the infection reaches node 3 directly through the edge between nodes 1 and 3 with
            probability p (i.e., through the red solid path in Figure 1). In the second case, this
            edge is not active and the infection reaches node 3 through node 2 whose probability
            is (1    ↵)   2p   +↵      2 p2   (i.e., through the blue dashed path in Figure 1). The first term
            is the probability of node 2 not being tested in which case the infection reaches node 3
            with probability p ⇥              and the second term is the probability of node 2 being tested in
            which case the infection reaches node 3 with probability p ⇥ p.
        (ii) Node 1 will not get tested whose probability is (1                      ↵). Similarly, we can find the
            infection probability.

       Therefore, the overall infection probability of node 3, if the infection hits agent 1, is

                                                2         2 2                                               2        2
           ↵    p + (1         p) (1      ↵)        p+↵   p         + (1   ↵)   + (1       ) (1      ↵)         +↵       p   .


     • With probability 1/3, the infection hits agent 1: This case is identical to the previous one by
       swapping the role of nodes 1 and 2.

     Putting these three cases together, the infection probability of agent 3, Pinf
                                                                                3 (G, ↵L = ↵, ↵H = ↵),
is

     1 2                                        2         2 2                                               2        2
      +  ↵      p + (1         p) (1      ↵)        p+↵    p        + (1   ↵)    + (1       ) (1     ↵)         +↵       p       .
     3 3

Definition 2. For a given social activity profile x and testing policy (↵L , ↵H ), we denote the
infection probability of individual i in the random network of contacts by Pinf
                                                                            i (x, ↵L , ↵H ), i.e.,
                                                                              h                       i
                    Pinf
                     i   (x, ↵ L , ↵ H ) = E G=(V,E): Eij ⇠Bernoulli(⌘xi xj )   P inf
                                                                                  i   (G, ↵ L , ↵ H )   .

                                                                7
                                                             1




                                               2                            3




Figure 1: From agent 1 the infection can reach agent 3 from two paths: (i) directly via the edge
between them whose probability depends on whether agent 1 will be tested or not and (ii) through
agent 2 which, again, depends on whether agents 1 and 2 will be tested or not.


This probability is over the randomness in the formed network, the randomness over the source
of infection, the random in testing, and the randomness in the stochastic process governing the
spread of infection.


2.3     Utility of Agents and Solution Concept

The utility function of agent i is given by

                ui (x, ↵L , ↵H ) = vi xi      Pinf
                                               i (x, ↵L , ↵H )       c (↵L 1{i 2 L} + ↵H 1{i 2 H}) ,                   (1)

where vi 2 {vL , vH } and c > 0 is a (possibly small) cost of testing for an agent. The first term, vi xi ,
represents the utility gain from social activity, the second term,                      i (x, ↵L , ↵H ), is the loss from
                                                                                       Pinf
getting infected, and the last term is the expected cost of getting tested.
      As a solution concept, we use symmetric pure-strategy or mixed-strategy (Nash) equilibrium.

Definition 3. A pure-strategy social activity profile xe is a (pure-strategy) Nash equilibrium if

                     ui (xe , ↵L , ↵H )    ui ((xi , xe i ), ↵L , ↵H ),   for all i 2 V, xi 2 [0, 1].
                                                                                Qn
A mixed-strategy social activity profile is of the form µe =                               e
                                                                                      i=1 µi   where µei is a probability
distribution over [0, 1]. A mixed-strategy social activity profile is an equilibrium if
                                                     ⇥                           ⇤
         Exe ⇠µe [ui (xe , ↵L , ↵H )]     Exe i ⇠µe i ui ((xi , xe i ), ↵L , ↵H ) ,      for all i 2 V, xi 2 [0, 1].

A symmetric pure (mixed) strategy equilibrium is a pure (mixed) strategy equilibrium in which the
decision of each agent i only depends on its value vi and its infection probability and not on her
identity.




                                                              8
2.4     Monotonicity and Concavity of Infection Probability

As illustrated in Example 1, the infection probability depends on the graph structure and testing
policy in a complex way. Nevertheless, the next lemma shows that the stochastic process of the
spread of the infection satisfies natural monotonicity and concavity properties. In what follows
for two vectors a, b 2 Rm , we write a        b to denote ai       bi for i = 1, . . . , m.

Lemma 1.

  (a) For any agent i 2 V, we have

                               Pinf
                                i (x̂, ↵L , ↵H )   Pinf
                                                    i (x, ↵L , ↵H ),        for all x̂        x.                       (2)


  (b) For any agent i 2 V, and any social activity profile x          i   2 [0, 1]n      1,
                                                                                               i ((xi , x i ), ↵L , ↵H ) is
                                                                                              Pinf
        concave in xi .

      Part (a) of Lemma 1 is straightforward. It shows that the infection probability for an individual
is increasing in the social activity levels of all agents in society, because higher social activity leads
to a denser social network over which the virus spreads. Part (b), on the other hand, shows that
this probability is concave in the individual’s own social activity level, because additional social
activity brings the virus to the individual only if her existing links did not do so already.


2.5     Exogenous Activities: Impact of Testing Policy on Infection Probability

We first analyze the case in which social activity levels are fixed and thus the social (contact)
network G is given. The next proposition shows that more testing always reduces the spread of
the infection in this case.

Proposition 1. For any network G = (V, E), the infection probability of each agent is decreasing in
(↵L , ↵H ). In particular, we have

                         0    0                                              0    0
                 Pinf                inf
                  i (G, ↵L , ↵H )  Pi (G, ↵L , ↵H ),       for all i 2 V, (↵L , ↵H )          (↵L , ↵H ).

      The testing policy changes the dynamics of the independent cascade process, and hence affects
the infection probability of agents in a non-trivial way. To show Proposition 1, we first reformulate
the independent cascade process governing the spread of infection in terms of a sequence of i.i.d
random variables and then use a coupling argument to relate the infection probability of agents
with testing policy (↵L , ↵H ) to infection probability of agents with testing policy (↵L
                                                                                        0 , ↵0 ). This
                                                                                             H
proposition establishes that when agents do not choose their social activity levels, greater testing
probabilities (↵L , ↵H ) reduce the infection probability of all agents. This is intuitive: greater test-
ing enables the detection and isolation of infected individuals, slowing down the spread of the
virus.


                                                        9
      We conclude this section by noting that all the results that will follow hold for any contagion
process that satisfies the properties stated in Lemma 1 and Proposition 1. Put differently, provided
that for any i 2 V, Pinf
                     i (x, ↵L , ↵H ) is increasing in x, concave in xi , and decreasing in (↵L , ↵H ), the
equilibrium characterization and the non-monotonicity of infection probability in testing policy,
presented in the next section, hold.


3     Endogenous Activities
With endogenous networks each individual has a strategic decision to make: the social activity
level (or conversely, her social distancing), which determines the expected number of neighbors
she will have. Lemma 1 shows that the utility of each agent i is convex in her social activity xi .
This implies that agents do not choose an intermediate level of activity because the convexity of
utility makes mixing between 0 and 1 (strictly) preferable. This observation is formally stated in
the next lemma.

Lemma 2. Given an agent i 2 V and action profile x i , let xei denote the best response social activity of
agent i, i.e.,

                                   xei 2 arg max ui (x, x i , ↵L , ↵H ).
                                          x2[0,1]


Then, we have xei 2 {0, 1}.


3.1     Equilibrium Characterization

We first introduce some additional notation that will be used in the rest of the paper. We let 1 and
0 denote the vectors of all 1s and all 0s, respectively where their dimension will be clear from the
context. We also let l and h be a low- and high-value agent and define the following sets:

                                                                                               1
                  A1 = (↵L , ↵H ) 2 [0, 1]2 : Pinf
                                               l (xH = 1, xL = 1, ↵L , ↵H )  vL +               ,
                                                                                               n
                                                                   1
                         Pinf
                          h (xH = 1, xL = 1, ↵L , ↵H )  vH +
                                                                   n
                                                                                               1
                  A2 = (↵L , ↵H ) 2 [0, 1]2 : Pinf
                                               l (xH = 1, xL = 1, ↵L , ↵H )             vL +     ,
                                                                                               n
                                                                                  1
                         Pinf
                          l (xH = 1, xl = 1, xL\{l} = 0, ↵L , ↵H )  vL +           ,
                                                                                  n
                                                                   1
                         Pinf
                          h (xH = 1, xL = 0, ↵L , ↵H )  vH +
                                                                   n
                                                                                               1
                  A3 = (↵L , ↵H ) 2 [0, 1]2 : Pinf
                                               l (xH = 1, xL = 1, ↵L , ↵H )             vL +     ,
                                                                                               n
                                                                                  1
                         Pinf
                          l (xH = 1, xl = 1, xL\{l} = 0, ↵L , ↵H )         vL +     ,
                                                                                  n
                                                                   1
                         Pinf
                          h (xH = 1, xL = 0, ↵L , ↵H )  vH +
                                                                   n


                                                    10
                                                                  Equilibrium actions
                                                              (High-values, Low-values)


                                                   A⇤1                   (1, 1)
                                   (1)
                                  ↵H


                           ↵H                      A⇤2           (1,    L (↵L , ↵H ))
                                   (2)
                                  ↵H
                                                   A⇤3                     (1, 0)
                                   (3)
                                  ↵H
                                                   A⇤4           (    H (↵L , ↵H ), 0)



                                                          ↵L

Figure 2: This graph depicts the regions A1 , A2 , A3 , and A4 (as n ! 1) that determine the equi-
librium in Proposition 2.

                                                                                                     1
                   A4 = (↵L , ↵H ) 2 [0, 1]2 : Pinf
                                                l (xH = 1, xL = 1, ↵L , ↵H )                  vL +     ,
                                                                                                     n
                                                                            1
                                Pinf
                                 h (xH = 1, xL = 0, ↵L , ↵H )        vH +     .
                                                                            n

We recall that H denotes the set of agents with a high value vH for social activity and L denotes
the set of agents with a low value vL for social activity.

Proposition 2. There exist M 2 N+ and functions           L   : [0, 1]2 ! [0, 1] and    H     : [0, 1]2 ! [0, 1] such that
for n     M , depending on the testing policy, (↵L , ↵H ) there are four possibilities for the equilibrium:

  (a) For (↵L , ↵H ) 2 A1 , there exists a unique symmetric equilibrium where xei = 1 for all i 2 V.

  (b) For (↵L , ↵H ) 2 A2 , there exists a unique symmetric equilibrium where xei = 1 for all i 2 H and a
        mixed-strategy µej for all j 2 L that puts probability       L (↵L , ↵H ) on 1 and probability 1      L (↵L , ↵H )
        on 0.

  (c) For (↵L , ↵H ) 2 A3 , there exists a unique symmetric equilibrium where xei = 1 for all i 2 H and
        xej = 0 for all j 2 L.

  (d) For (↵L , ↵H ) 2 A4 , there exists a unique symmetric equilibrium where xej = 0 for all j 2 L
        and a mixed-strategy µei for all i 2 H that puts probability           H (↵L , ↵H )   on 1 and probability 1
         H (↵L , ↵H )   on 0.

   Proposition 2 characterizes the equilibrium outcome for different testing policies (↵L , ↵H ). For
the case in which the number of agents in society is greater than a threshold, it divides testing poli-
cies into four regions, which lead to different types of equilibrium behavior. For example, when

                                                         11
testing policy is in the set A1 , the infected are sufficiently likely to be identified and isolated that
all individuals choose full social activity—as if social contacts did not increase their probability
of infection. Outside of this region, individuals take precautionary action by reducing their social
activity.2 In the region A2 , high-value agents (who receive greater utility from social activity) still
choose full activity, but now low-value agents mix between no activity and full activity. The other
regions are defined similarly. In the proof of Proposition 2 we show that the four sets A1 , A2 , A3 ,
and A4 will cover all possible testing policies (↵L , ↵H ) 2 [0, 1]2 (for sufficiently large n).
    Note finally that the sets A1 to A4 are functions of the model primitives, but depend on the in-
fection probability in the stochastic process governing the spread of infection which is a complex
quantity. Nonetheless, the next lemma shows that as n ! 1, these sets have a simple characteri-
zation. For this lemma, recall that rH and rL denote the fractions of the two types of individuals.
This characterization will be used in Section 4 in studying the optimal testing policy.
                             (1)      (2)     (3)
Lemma 3. There exist ↵H             ↵H      ↵H such that as n ! 1 the sets A1 , A2 , A3 , A4 converge to 3
                   n                                                       o
                                                                       (1)
              A⇤1 = (↵L , ↵H ) 2 [0, 1]2     : ↵ L rL + ↵ H rH       ↵ H rH ,
                   n                                                                          o
                                                                       (1)              (2)
              A⇤2 = (↵L , ↵H ) 2 [0, 1]2     : ↵ L r L + ↵ H rH  ↵ H r H , ↵ H       ↵H          ,
                   n                                                                                         o
                                                                       (1)      (3)                    (2)
              A⇤3 = (↵L , ↵H ) 2 [0, 1]2     : ↵ L r L + ↵ H rH  ↵ H r H , ↵ H  ↵ H  ↵ H                      , and
                   n                                                                    o
                                                                    (1)             (3)
              A⇤4 = (↵L , ↵H ) 2 [0, 1]2     : ↵ L r L + ↵ H rH  ↵ H r H , ↵ H  ↵ H ,

respectively.

    These four sets are depicted in Figure 2, which also shows the equilibrium action profiles of
high- and low-value agents as a function of the pair (↵L , ↵H ).
    To obtain the intuition of the proof of Lemma 3, let us consider set A1 for which both type
of agents are playing 1 and therefore their testing probability affects the infection probabilities of
other agents. The convergence of the sets to these asymptotic objects follows from the fact that for
large enough n, the number of tests will be concentrated around its mean which is ↵L rL + ↵H rH
and the infection probability is decreasing in the number of tests. The proof does not readily
follow from law of large numbers because the infection probability is a non-linear function of the
number of tests. To establish this result, we develop a “peeling argument” that uses the properties
of the infection probability (such as submodularity) together with a concentration bound. More
precisely, consider a society with n agents and let Q(n, k) denote the infection probability of agents
when x = 1 and k out of n agents are tested. We show that

                  lim |Pinf
                        i (x = 1, ↵L , ↵H )         Q (n, d(↵L rL + ↵H rH )ne) | = 0,                 for all i.
                 n!1
    2
      In particular, in this region n must be large enough such that, when all agents are playing 1, a change in one agent’s
testing probability does not change the infection probability of other agents by more than vH vL .
    3
      We say a sequence of sets {A}1   n=1 converges to set A if for any ✏ > 0, there exists M 2 N+ such that for n  M , we
                                (✏)                                    S
have An ✓ A(✏) and A ✓ An , where for any set B, B (✏) denotes b2B {x : ||x b||2  ✏}.


                                                            12
                              Infection probability of high-values

                                                Infection probability of low-values

                        vH
                         vL


                                  A4           A3            A2      A1
                                                                             ↵L = ↵H = ↵


Figure 3: The schematic view of the infection probability of high- and low value agents, in the
limit as n ! 1, for uniform policy (i.e., ↵H = ↵L = ↵) as ↵ increases.


To establish this result, we first use Chernoff-Hoeffding inequality, showing with a high probabil-
ity the number of tested individuals is around dn(↵L rL + ↵H rH )e. We then use the submodularity
of the infection probability combined with a “peeling argument” to show that for any small ✏ > 0
and k 2 (bn(↵L rL + ↵H rH        ✏)c, dn(↵L rL + ↵H rH + ✏)e), we have

                                                                                     ✏
                 |Q(n, k)     Q(n, dn(↵L rL + ↵H rH        ✏)e)|  ✏ +                          .
                                                                         1     (↵L rL + ↵H rH )

In our baseline analysis we adopt symmetric equilibrium solution concept to simplify the notation
(i.e., the strategy of an agent depends on the infection probability from her perspective and not her
identity). In Appendix 7.2 we show that the equilibrium characterization given in Proposition 2 is
essentially unique. In particular, we show that the pure-strategy equilibrium in parts (a) and (c)
are unique. We then characterize the asymmetric pure-strategy equilibrium (for parts (b) and (d))
and show that, for large n, the expected number of infected individuals in any asymmetric pure-
strategy equilibrium is the same as the expected number of infected individuals in the symmetric
equilibrium characterized in Proposition 2.


3.2   Impact of Testing Policy on Infection Probability

The next theorem presents one of our main results in this paper. It shows the non-monotonic
impact of greater testing on infections.

Theorem 1. There exists M 2 N+ such that for n          M , in the unique symmetric equilibrium we have:

  (a) Higher (↵L , ↵H ) in the interior of A1 decreases the infection probabilities of both types of agents.

  (b) Higher (↵L , ↵H ) in the interior of A2 increases the infection probability of low-value agents and does
      not change the infection probability of high-value agents.


                                                      13
  (c) Higher (↵L , ↵H ) in the interior of A3 decreases the infection probabilities of both types of agents.

  (d) Higher (↵L , ↵H ) in the interior of A4 increases the infection probability of high-value agents and
         does not change the infection probability of low-value agents.
         Moreover, infection probabilities are continuous in (↵L , ↵H ) at the boundaries of the above sets.

    Theorem 1 establishes that whenever we have a mixed-strategy equilibrium, as in regions A2
and A4 , the effects of greater testing on infections are non-monotonic. Intuitively, this is because
greater testing and isolation makes agents that are mixing wish to go to full activity. But when
we are (and remain) in the interior of the sets A2 and A4 , the pure-strategy full activity level
is not an equilibrium (either for the low-value or the high-value agents). Hence, equilibrium is
restored by some more of the relevant agents choosing high activity at the margin, which increases
contacts and thus restores the incentives for mixing by increasing infection probabilities. In both
cases, as Proposition 1 highlighted, with given activity levels, greater testing would have reduced
the spread of the infection. The reason why the infection spreads more is because greater social
activity levels make the social network denser. To see that the infection probability is increasing in
the testing policy, let us consider (↵L , ↵H ) 2 A4 . As we showed in Proposition 2, in this region low-
value agents play 0 and high-value agents play a mixed strategy that puts probability                    H (↵L , ↵H )
on activity level 1 and probability 1            H (↵L , ↵H )   on activity level 0. Therefore, in this region
the infection probability of high-value agents is Ph (xH =            H (↵L , ↵H )1, xL , ↵L , ↵H ).   Changing the
testing policy (↵L , ↵H ) affects this probability in two ways: (i) it changes the testing probability
of agents in the governing stochastic process of the infection and (ii) it changes the equilibrium
social activity of high-value agents. Using the fact that mixing with probability                      H (↵L , ↵H )   is
equilibrium for high-value agents, we show that this infection probability can be written in closed-
form as      H (↵L , ↵H )vH   + n1 . The proof then completes by showing         H (↵L , ↵H )   is increasing in the
testing policy (↵L , ↵H ).
    In practice, it may not be possible to test different types of agents at different rates. If so,
we would have to impose ↵L = ↵H = ↵ for some ↵ 2 [0, 1]. Figure 3 depicts the infection
probability of both types as a function of ↵, confirming that infection probabilities continue to be
non-monotonic in testing probabilities (in this case ↵).
    Theorem 1 again highlights the importance of the sets A1 , . . . , A4 in our analysis. We next
provide a comparative statics for these sets as ⌘ (the probability of match conditional on activi-
ties),     (the transmission rate of the infection) , and p (where p is the transmission rate of tested
individuals) vary.

Lemma 4. Let A1 (⌘, , p) and A1 (⌘, , p) denote the sets A1 and A4 as a function of the parameters ⌘, ,
and p. We have

  (a) Higher ⌘ shrinks the set A1 and expands the set A4 . That is,

                  A1 (⌘ 0 , , p) ✓ A1 (⌘, , p) and A4 (⌘, , p) ✓ A4 (⌘ 0 , , p),     for all ⌘ 0   ⌘, , p.

                                                        14
    (b) Higher    shrinks the set A1 and expands the set A4 . That is,

                           0                                                      0                     0
                  A1 (⌘,       , p) ✓ A1 (⌘, , p) and A4 (⌘, , p) ✓ A4 (⌘,            , p),   for all        , ⌘, p.


    (c) Higher p shrinks the set A1 and expands the set A4 . That is,

                  A1 (⌘, , p0 ) ✓ A1 (⌘, , p) and A4 (⌘, , p) ✓ A4 (⌘, , p0 ),                for all p0    p, , ⌘.


     This lemma directly follows from the definition of the sets A1 and A4 and the fact that the
infection probabilities are increasing in ⌘, , and p. The boundary between sets A2 and A3 (for
large enough n) also shift up as we increase either ⌘, , or p. The sets A2 and A3 , however, can
either shrink or expand.


4     Optimal Testing Policy
We now discuss the design of optimal testing policy (↵L , ↵H ) to maximize social welfare. Through-
out we assume that there is a limited testing capacity represented by ✓n where ✓ 2 [0, 1] and n is
the number of individuals. We refer to ✓ as testing capacity. Social welfare is

                                                              n
                                                              X
                                           W(x, ↵L , ↵H ) =         ui (x, ↵L , ↵H ).
                                                              i=1

The game among the planner and the agents is a two-stage game with the following timing:

    1. The social planner chooses the testing policy (↵L , ↵H ).

    2. Given the testing policy, the unique symmetric equilibrium from Proposition 2 is played.

     With this timing and notation, the social planner’s problem becomes

                                max        W(xe , ↵L , ↵H )
                        (↵L ,↵H )2[0,1]2

                                           s.t. xe is the unique (symmetric) equilibrium ,
                                           ↵H |H| + ↵L |L|  ✓ n.

Our main result of this section, stated next, characterizes the optimal testing policy.

Theorem 2. There exist M 2 N+ , c̄ 2 R+ , and ✓(1)                   ✓(2)     ✓(3) such that for c  c̄ and n          M we
have:

    (a) If ✓ > ✓(1) , then the optimal testing policy is to test all individuals with probability ✓ and in the
        corresponding equilibrium all agents are fully active, i.e., xei = 1 for all i 2 V.


                                                              15
    Equilibrium with
      optimal policy:
                                        (0, 0)            (1, 0)            (1, 0)            (1, 1)
  (high-value, low-value)


                                                                                                             ✓
       Testing capacity                               Fully-utilized                      Fully-utilized
                                    Underutilized                       Underutilized
  In
   in the optimal policy
          optimal policy



Figure 4: Depending on ✓, the fraction of society that can be tested, there are four possibilities for
the optimal testing policy and the corresponding social activity profile in equilibrium.


  (b) If ✓(2) < ✓ < ✓(1) , then the optimal testing policy is to test only high-value individuals with probabil-
               ✓ (2)
         ity   rH      and in the corresponding equilibrium high-value agents are fully active and low-value agents
         are inactive, i.e., xei = 1 for all i 2 H and xej = 0 for all j 2 L.

  (c) If ✓(3) < ✓ < ✓(2) , then the optimal testing policy is to test only high-value individuals with probabil-
         ity    ✓
               rH      and in the corresponding equilibrium high-value agents are fully active and low-value agents
         are inactive, i.e., xei = 1 for all i 2 H and xej = 0 for all j 2 L.

  (d) If ✓ < ✓(3) , then the optimal testing policy is to have zero tests and in the corresponding equilibrium
         all agents are inactive, i.e., xei = 0 for all i 2 V.4

       The most important result in Theorem 2 is that the optimal policy does not necessarily use all
available tests. In particular, when there are enough tests that all agents can be fully active with the
appropriate testing in isolation, the social planner is (obviously) happy to deploy all testing and
allow all agents to be fully active. This is the case when ✓ > ✓(1) . However, when ✓(2) < ✓ < ✓(1) ,
the social planner prefers not to use all available tests. The intuition for this result is related to the
non-monotonicity of the comparative statics derived in Theorem 1: greater testing will encourage
more social activity, in this case from low-value agents. The social planner, on the other hand,
prefers zero activity from low-value agents so as to slow down the spread of the virus. Therefore,
she opts for a policy that does not test low-value agents, discouraging their social activity and
keeps the social network less dense. When ✓ < ✓(3) , the optimal policy is even more extreme. It
does not test any agents. This is because just testing high-value agents would encourage sufficient
social activity to lead to faster spread of the virus, which the social planner prefers to avoid.
       One implication of our model, highlighted in Theorem 2, is that testing high-value agents
ahead of low-value agents is optimal. In Section 5 we show that this is a consequence of indi-
viduals choosing a general social activity level. If, instead, they can target their social activity to
low-value and high-value agents separately, then the social planner may want to test low-value
   4                                                                                               (1)       (2)
   The thresholds on ✓ relate to the ones found in Lemma 3 and in particular we have ✓(1) = rH ↵H , ✓(2) = ↵H rH ,
            (3)                                     (2)
and ✓(3) = ↵H rH . These thresholds are such that ✓rH 2 [0, 1] and for ✓ 2 [✓(3) , ✓(2) ), we have r✓H 2 [0, 1].



                                                             16
agents and refrain from testing high-value agents in order to discourage everybody from interact-
ing with these “super spreaders” (who are socially very active).


4.1    Optimal Uniform Testing Policy

It may be impossible for authorities to discriminate between or identify high-value and low-value
agents, in which case testing policy would have to be uniform, ↵L = ↵H = ↵. With uniform
testing policy, the social planner’s problem becomes

                             max W(xe , ↵L = ↵, ↵H = ↵)
                             ↵2[0,1]

                                       s.t. xe is the unique (symmetric) equilibrium,
                                       ↵  ✓.

The following corollary readily follows from Proposition 2 and characterizes the optimal uniform
policy.

Corollary 1. Let ✓(1)        ✓(2)       ✓(3) be thresholds found in Theorem 2. There exist c̄ 2 R+ and M 2 N+
such that for c  c̄ and n      M we have:

  (a) If ✓ > ✓(1) , then the optimal testing policy is to test all individuals with probability ✓ and in the
        corresponding equilibrium both agent types have full social activities, i.e., xei = 1 for all i 2 V.
                 (2)
  (b) If min{ ✓rH , ✓(1) } < ✓ < ✓(1) , then the optimal testing policy is to test all individuals with probability
               (2)
        min{ ✓rH , ✓(1) } and in the corresponding equilibrium high-value agents have full social activities
        while low-value agents have zero social activities, i.e., xei = 1 for all i 2 H and xej = 0 for all j 2 L.
                 (3)                        (2)
  (c) If min{ ✓rH , ✓(1) } < ✓ < min{ ✓rH , ✓(1) }, then the optimal testing policy is to test all with probability
        ✓ and in the corresponding equilibrium high-value agents have full social activities while low-value
        agents have zero social activities, i.e., xei = 1 for all i 2 H and xej = 0 for all j 2 L.
                       (3)
  (d) If ✓ < min{ ✓rH , ✓(1) }, then the optimal testing policy is to have zero tests in the corresponding
        equilibrium and all agents have zero social activities, i.e., xei = 0 for all i 2 V.

      Comparing Corollary 1 with Theorem 2, we see that the top region, in which all agents are
                                                                               ✓ (2)
fully active, does not change. The second region shrinks (because              rH      > ✓(2) ) and involves greater
spread of the virus, because uniform policies are less effective at identifying and isolating the
“super spreader” agents that are more likely to be infected and more likely to spread the virus
(because of their greater social activity). The third region may expand, but in this region individu-
als continue to have the same infection probability as they did under targeted policies. Finally, the
fourth region expands, and in this region individuals have the same infection probability as under
targeted testing policy. Overall, uniform policies make testing less effective, but do not change
our qualitative conclusions.

                                                         17
4.2     Optimal Testing Policy with Mandatory Social Distancing

The non-monotonicity in our comparative statics and the unwillingness of the social planner to
always use all testing capacity are related to the fact that greater testing reduces voluntary so-
cial distancing. This naturally suggests that testing should be combined with mandatory social
distancing. The next proposition shows that when this is the case, the social planner would al-
ways like to use all available testing capacity and would then deploy mandatory social distancing
measures to limit the adverse behavioral effects of testing.
      Formally, we suppose the social planner, in addition to the testing policy (↵L , ↵H ), can choose
x̄L and x̄H which indicates the maximum social activity levels that low- and high-value agents can
have. We refer to such a policy, denoted by (↵L , ↵H , x̄L , x̄H ), a testing policy with mandatory social
distancing. With this notation, the social planner’s problem becomes

                            max                 W (xe , ↵L , ↵H )
                  (↵L ,↵H ,x̄L ,x̄H )=2[0,1]4

                                                s.t. xe is the unique (symmetric) equilibrium ,
                                                xi  x̄H for i 2 H, xj  x̄L for j 2 L,
                                                ↵H |H| + ↵L |L|  ✓ n.

For a given testing capacity ✓, we denote the first best by (↵L
                                                              FB (✓), ↵FB (✓), xFB (✓), xFB (✓)) which
                                                                       H        l        h
is the solution of

                                     max               W ((xH = xh 1, xL = xl 1), ↵L , ↵H )
                            (↵L ,↵H ,xl ,xh )2[0,1]4

                                                       s.t. ↵H |H| + ↵L |L|  ✓ n.

Proposition 3. For any testing capacity ✓, a testing policy with mandatory social distancing with

                                                       FB       FB
                            (↵L , ↵H , x̄L , x̄H ) = (↵L  (✓), ↵H  (✓), xFB      FB
                                                                         l (✓), xh (✓))


achieves the social welfare of the first best. Moreover, with this policy the social planner uses all the testings
capacity.


5     Extensions
In this section, we consider two extensions. First, we show that all of our results extend to an
environment with multiple types and non-monotonicities become more likely in this case. Second,
we allow for social activity levels directed to different types of agents (for example, individuals
choosing how much to interact with more active/popular agents and how much to interact with
other agents). We show that with such directed social activity behavior, optimal policy can try
to discourage individuals from interacting with high-social value agents what are more likely to


                                                               18
spread the virus.


5.1     Multiple Types

In our baseline model, we considered two types of individuals with different values from social
activity. Here, we show that our main results and therefore the insights will carry over to a more
general setting with m different values for individuals. In particular, we let v1 < v2 < · · · < vm
denote the social activity value of different individual types and also let Vk for k = 1, . . . , m denote
                                               S
the set of individuals of type k (therefore, m   k=1 Vk = V). We also denote the testing probability
of type k individuals by ↵k for k = 1, . . . , m and let ↵ = (↵1 , . . . , ↵m ) 2 [0, 1]m denote the testing
policy.
      To characterize the equilibrium, we first introduce a few notations. Again, we let 1 and 0
denote the vectors of all 1 and all 0, respectively where their dimension will be clear from the
context. We also define the following sets:

                                                                  1
                A1 = ↵ 2 [0, 1]m : Pinf
                                    k (x = 1, ↵)  vk +             , for k = 1, . . . , m
                                                                  n
                                                                  1
                A2 = ↵ 2 [0, 1]m : Pinf
                                    1 (x = 1, ↵)              v1 + ,
                                                                  n
                                                                                              1
                        Pinf
                         1 (xV2 = 1, . . . , xVm = 1, x1 = 1, xV1 \{1} = 0, ↵)  v1 +           ,
                                                                                              n
                                                                                1
                        Pinf
                         k (xV2 = 1, . . . , xVm = 1, xV1 = 0, ↵)  vk +          for k = 2, . . . , m
                                                                                n

and similarly for j = 2, . . . , m we let

                                                                                                                 1
 A2j    1   = ↵ 2 [0, 1]m : Pinf
                             k (xVj = 1, . . . , xVm = 1, xV1 = 0, . . . , xVj      1   = 0, xk = 1, ↵)   vk +     ,
                                                                                                                 n
                               for k = 1, . . . , j    1,
                                                                                                                 1
                              Pinf
                               k (xVj = 1, . . . , xVm = 1, xV1 = 0, . . . , xVj    1   = 0, xk = 1, ↵)  vk +     ,
                                                                                                                 n
                               for k = j, . . . , m,
                                                                                                                 1
                              Pinf
                               k (xVk = 1, . . . , xVm = 1, xV1 = 0, . . . , xVk    1
                                                                                        = 0, xk = 1, ↵)   vk +     ,
                                                                                                                 n
                               for k = 1, . . . , j    1 and
                                                                                                                 1
      A2j = ↵ 2 [0, 1]m : Pinf
                           k (xVj = 1, . . . , xVm = 1, xV1 = 0, . . . , xVj        1   = 0, xk = 1, ↵)   vk +     ,
                                                                                                                 n
                               for k = 1, . . . , j,
                                                                                                                 1
                              Pinf
                               k (xVj = 1, . . . , xVm = 1, xV1 = 0, . . . , xVj    1   = 0, xk = 1, ↵)  vk +     ,
                                                                                                                 n
                               for k = j, . . . , m,
                                                                                                                 1
                              Pinf
                               k (xVk = 1, . . . , xVm = 1, xV1 = 0, . . . , xVk    1
                                                                                        = 0, xk = 1, ↵)   vk +     ,
                                                                                                                 n
                               for k = 1, . . . , j    1 .


                                                             19
The following proposition is the analogue of Proposition 2 and characterizes equilibrium in this
setting.

Proposition 4. There exists M 2 N+ and functions                  k   : [0, 1]m ! [0, 1] for k = 1, . . . , m such that for
n    M , depending on the testing policy ↵ there are 2m possibilities for the equilibrium. For k = 1, . . . , m,
we have:
                                                                                                                Sk 1
    • If ↵ 2 A2k        1,
                         there exists a unique symmetric equilibrium where xei = 0 for all i 2                   j=1 Vj   and
                           S
       xei = 1 for all i 2 m j=k Vj .
                                                                                          S
    • If ↵ 2 A2k , there exists a unique symmetric equilibrium where xei = 0 for all i 2 kj=11 Vj , xei = 1
                 S
      for all i 2 mj=k+1 Vj , and a mixed-strategy µk for all i 2 Vk that puts probability k (↵) on 1 and
                                                    e

       probability 1         k (↵)   on 0.

    This proposition shows that for any k if ↵ 2 A2k                  1,   then individual types 1, . . . , k   1 have zero
social activities and individual types k, . . . , m have full social activity. If ↵ 2 A2k , then individual
types 1, . . . , k   1 still have zero social activities and individual types k + 1, . . . , m still have full
social activity. Individual type k, however, plays according to a mixed-strategy.
    Using Proposition 4, we next show how the infection probability of agents in equilibrium
changes as the testing policy ↵ varies, which is the analogue of Theorem 1 and establishes the
counterfactual non-monotonicity of infection probability in testing policy.

Theorem 3. There exists M 2 N+ such that for n                    M , in the unique symmetric equilibrium for k =
1, . . . , m we have:

    • Higher ↵ in the interior of A2k        1   decreases the infection probability of agent types j = k, . . . , m and
       does not change the infection probability of agent types j = 1, . . . , k                   1.

    • Higher ↵ in the interior of A2k increases the infection probability of agent type k and does not change
       the infection probability of agent types j = 1, . . . , k            1, k + 1, . . . , m.

    Moreover, infection probabilities are continuous in ↵ at the boundaries of the above sets.

    Similar to Theorem 1, this theorem states that if one of the individuals is playing a mixed-
strategy (i.e., for the sets with even indices), increasing the testing probabilities, adversely, in-
creases the infection probability of individuals. Figure 5 depicts the infection probabilities for
m = 3 for a uniform policy that tests each individual type with probability ↵. It illustrates that the
infection probability of all three types feature non-monotonicity as we increase ↵.
    Finally, note that by having more types of individuals there are more regions in which increas-
ing the testing policy increases the infection probability of individuals. More precisely, suppose
we have a society with V = {1, . . . , n} individuals and m individual types with values

                                                      v 1 < · · · < vm .


                                                             20
       Infection probability of type 3
                            Infection probability of type 2

                                                       Infection probability of type 1
           v3


           v2

           v1


                     A6            A5              A4           A3          A2           A1

                                                                                              ↵1 = ↵2 = ↵3 = ↵


Figure 5: Illustration of Theorem 3 for m = 3 types with v3 v2 v1 . The schematic view of the
infection probability of types 1, 2, and 3 agents, in the limit as n ! 1, for uniform policy (i.e.,
↵1 = ↵2 = ↵3 = ↵) as a function of ↵.


As shown in Theorem 3 in regions A2k for k = 1, . . . , m infection probability of individuals in-
crease when there is more testing. Now suppose we add some individuals with value v0 which is
smaller than v1 . We let V0 denote the set of individuals with this new value and consider a society
with V [ V0 agents whose values are

                                  v10 = v0 < v20 = v1 < · · · < vm+1
                                                                 0
                                                                     = vm+1 .

Since individuals with value v10 = v0 are the last ones who start having non-zero social activities
(because they have the lowest value), for this new society we have

                    A02k = A2(k      1) ,   A02k   1   = A2(k   1) 1 , ,   for k = 2, . . . , m + 1,

and the infection probability of all individuals with types with values vk0 are equal to the infection
probability of type k       1 individuals in the smaller society for k = 2, . . . , m + 1. We will have
two new sets: Set    A02   in which, as we increase testing, the infection probability of all previous
individual types remains equal to v10 = v0 and the infection probability of individuals with value
v10 = v0 increases from    1
                           n   and at the boundary between A02 and A01 , in the limit, becomes v10 = v0 .
Set A01 in which the infection probability of all individuals , in the limit, are equal and decreases
as we increases the testing policy. Therefore, there will now be more regions where greater testing
increases the spread of the infection.




                                                             21
5.2     Directed Social Activities

Here, we show that if agents choose two levels of activities, one directed to low-value and the
other to high-value agents, then the optimal policy may involve testing low-value agents with a
higher probability than high-value agents. In particular, we let the social activity of each agent
i be a pair xi = (xL
                   i , xi ), where xi denotes agent i’s social activity directed to low-value agents
                        H           L

and xH
     i denotes her social activity directed to high-value agents. In the network of contacts, the
probability of an edge between agents i and j is therefore:
                                                8
                                                >
                                                > ⌘xH   H           i, j 2 H,
                                                >
                                                >   i xj ,
                                                >
                                                >
                                                <⌘xH xL ,           i 2 H, j 2 L,
                                                    i j
                                   P[Eij = 1] =
                                                >
                                                > ⌘xL  H            i 2 L, j 2 H,
                                                >
                                                >   i xj ,
                                                >
                                                >
                                                :⌘xL xL ,           i, j 2 L.
                                                    i j


The utility of agent i is similar to our baseline model and is given by

      ui (xi , x i , ↵L , ↵H ) = vi (xL    H
                                      i + xi )   Pinf
                                                  i (xi , x i , ↵L , ↵H )      c (↵L 1{i 2 L} + ↵H 1{i 2 H}) .

      The next proposition provides conditions under which it is optimal to test only low-value
agents.

Proposition 5. If rH > max{ 1+1 , vH , 1 vL } and ✓ < rH             vH
                                                                            , then there exist c̄ and M 2 N+ such that
for n     M and c  c̄ the optimal policy is to only test low-value agents and in the corresponding symmetric
unique equilibrium all low-value agents play xj = (1, 0) and all high-value agents play a mixed-strategy
between (1, 0) and (1, 1).

      Proposition 5 proves that, for sufficiently small testing capacity ✓ and sufficiently large pop-
ulation fraction of high-value agents rH , it is optimal to only test low-value agents and in the
corresponding equilibrium low-value agents will not interact with high-value agents. The intu-
ition is that high-value agents, who are socially more active, act as “super spreaders”, and the
social planner would like to reduce their interactions with low-value agents. This was not pos-
sible in our baseline model because agents could not direct their social activity towards different
groups. When such directed behavior is introduced, this encourages the social planner to reduce
the testing of high-value agents so as to discourage low-value agents from interacting with them
too much.


6       Concluding Remarks
This paper studied the effects of testing on social activity and voluntary social distancing in the
context of an epidemic. Social activity levels determine the (endogenous) social network over
which contacts take place and an infection spreads. Testing enables authorities to identify and


                                                          22
isolate infected individuals who spread the virus, and has been identified by the recent literature
on COVID-19 and policymakers as a key tool for combating epidemics. Our analysis, however,
shows that the impact of testing on the spread of an epidemic may be more complex because,
knowing that tests will lead to the isolation of infected individuals, agents can increase their social
activity levels and refrain from voluntary social distancing. As a result, our analysis established
that the effects of testing on the spread of the infection can be non-monotonic—greater testing can
lead to higher infection probabilities.
      Our analysis also characterized the optimal testing policies. The same forces that lead to non-
monotonic comparative statics also imply that a benevolent social planner may prefer to leave
her testing capacity partially or fully unused—because increasing testing can make the spread of
the virus more likely. This implies that testing should often be combined with mandatory social
distancing measures—which ensure that the adverse behavioral effects of testing can be countered
by preventing excessively high social activity levels.
      Our paper is part of a growing literature on the interaction between economic incentives and
epidemiological dynamics. Two high-level contributions of our approach are to conceptualize the
problem of endogenous behavior as one of social network formation and to use the percolation
model rather than the SIR dynamic model. Both of these contributions can be useful beyond the
confines of our specific question, but the robustness of our conclusions to relaxing both assump-
tions and adopting different modeling strategies need to be investigated. Other interesting areas
for research include the analysis of optimal testing and tracing when tests lead to type I and type
II errors and policy is constrained by privacy considerations and non-obedience (both in acquiesc-
ing to testing and following mandatory social distancing guidelines). Another interesting avenue
is to enrich the setup to incorporate more heterogeneity and richer economic, social and epidemi-
ological interactions so as to enable quantitative policy analysis.


7     Appendix
This appendix includes the omitted proofs from the text and additional results.


7.1     Proofs

Proof of Lemma 1

First note that for any agent i we have

                                              n
                                              X 1 inf
                         Pinf
                          i (x, ↵L , ↵H ) =      P (x, ↵L , ↵H | source = s),
                                                n i
                                              s=1


where Pinf
       i (x, ↵L , ↵H | source = s) is the infection probability of agent i conditional on s being
the source of infection. We next establish that Pinf
                                                 i (x, ↵L , ↵H | source = s) is increasing in x and
concave in xi . To this end, we generalize this claim and then use induction on the number of


                                                    23
nodes to prove it. In particular, we prove that for any set of nodes S ✓ V that are infected at time
0, the probability of infection reaching node i is increasing in x and concave in xi . We denote this
probability by
                                        Pinf
                                         i (x, ↵L , ↵H | source = S).

We also use an auxiliary infection probability in this lemma. In particular for any set of nodes S,
we let
                                        P̃inf
                                          i (x, ↵L , ↵H | source = S)

denote the probability of infection reaching node i in one round (i.e., only through the nodes in
S).
Claim 1: For any set S and i 2 V, the probability P̃inf
                                                    i (x, ↵L , ↵H | source = S) is increasing in x
and concave in xi .
Proof of Claim 1: We prove this claim by induction on the size of S. If |S| = 1 and contains only
node j (i.e, S = {j}), then this probability is ⌘xi xj (↵j p + (1        ↵j ) ) which is increasing in x and
concave in xi . Now suppose |S| > 1 and let j 2 S. We can write

 P̃inf
   i (x, ↵L , ↵H |source = S)

  = ⌘xi xj ( (1     ↵j ) + p↵j ) + (1    ⌘xi xj ( (1      ↵j ) + p↵j )) P̃inf
                                                                          i (x, ↵L , ↵H | source = S \ {j}).


Taking derivative of this expression results in

           @ inf
             P̃ (x, ↵L , ↵H |source = S)
          @xi i
          = ⌘xj ( (1    ↵j ) + p↵)      ⌘xj ( (1      ↵j ) + p↵j ) P̃inf
                                                                     i (x, ↵L , ↵H |source = S \ {j})
                                               @ inf
          + (1    ⌘xi xj ( (1  ↵j ) + p↵j ))     P̃ (x, ↵L , ↵H |source = S \ {j})
                                              @xi i
                                     ⇣                                          ⌘
          = ⌘xj ( (1    ↵j ) + p↵j ) 1 P̃infi  (x, ↵ L , ↵ H |source = S \ {j})
                                                  @ inf                                  (a)
          + (1    ⌘xi xj ( (1   ↵j ) + p↵j ))        P̃i (x, ↵L , ↵H | source = S \ {j})     0,
                                                 @xi

where (a) follows from the induction hypothesis. This establishes monotonicity in xi . Similarly,
we can establish monotonicity in xj . Finally, note that monotonicity in x         {i,j}   follows by induction
hypothesis which says     P̃inf
                            i (x, ↵L , ↵H |   source = S \ {j}) is increasing in x    {i,j} .
      We next prove concavity in xi . Taking a second order derivative of the above expression results
in

               @ 2 inf
                    P̃ (x, ↵L , ↵H | source = S)
              @ 2 xi i
                                            @ inf
              = ⌘xj ( (1 ↵) + p↵)              P̃ (x, ↵L , ↵H | source = S \ {j})
                                           @xi i
                                          @ inf
                  ⌘xj ( (1 ↵) + p↵)         P̃ (x, ↵| source = S \ {j})
                                         @xi i

                                                       24
                                                       @ 2 inf                                      (a)
             + (1     ⌘xi xj ( (1    ↵) + p↵))               P̃ i (x, ↵ L , ↵ H | source = S \ {j})  0,
                                                      @ 2 xi

where (a) follows from the monotonicity of P̃inf
                                             i (x, ↵L , ↵H | source = S \ {j}) and the induction
hypothesis. ⌅
   We now proceed with the proof of Lemma 1 by induction on the number of nodes in the
network. The lemma evidently holds for n = 2. We can write
                                                                           ⇣                                      ⌘
 Pinf
  i   (x, ↵ L , ↵ H | source = S) = P̃ inf
                                       i   (x, ↵ L , ↵ H | source   = S) +   1 P̃ inf
                                                                                  i   (x, ↵ L , ↵ H | source = S)
                                         X
                                  ⇥              P(S |S)Pi (x, ↵L , ↵H | source = S new ).
                                                       new      inf

                                     S new ✓V\S


Taking derivative of this expression leads to

    @ inf                                  @ inf
      P (x, ↵L , ↵H | source = S) =           P̃ (x, ↵L , ↵H | source = S)
   @xi i                                 @xi i
       @ inf                             X
         P̃i (x, ↵L , ↵H | source = S)         P(S new |S)Pinf
                                                             i (x, ↵L , ↵H | source S
                                                                                          new
                                                                                              )
     @xi                                   new
                                         S
     ⇣                                     ⌘X                   @ inf
   + 1 P̃inf i (x, ↵L , ↵H | source = S)           P(S new |S)      Pi (x, ↵L , ↵H | source = S new )
                                                               @x i
                                             S new
                                                                                                      !
       @ inf                                      X
   =     P̃ (x, ↵L , ↵H | source = S) 1                P(S new |S)Pinf
                                                                     i (x, ↵L , ↵H | source S
                                                                                                new
                                                                                                    )
      @xi i
                                                 S new
     ⇣                                     ⌘X                   @ inf                                      (a)
   + 1 P̃inf i (x, ↵ L , ↵ H | source = S)         P(S new
                                                           |S)      P   (x, ↵ L , ↵ H | source  = S  new
                                                                                                         )     0
                                               new
                                                               @xi i
                                                  S

where (a) follows from Claim 1 and the induction hypothesis. This establishes monotonicity in xi .
Similarly, the derivative with respect to xj for j 2 S is non-negative, showing monotonicity in xj
for j 2 S. Finally, the monotonicity in x          (S[{i})   follows by induction hypothesis.
   We next take the second order derivative and show it is non-positive. We can write

   @ 2 inf
        P (x, ↵L , ↵H | source = S)
  @ 2 xi i
                                                                                                   !
      @ 2 inf                                    X
   = 2 P̃i (x, ↵L , ↵H | source = S) 1                 P(S new |S)Pinf
                                                                   i (x, ↵L , ↵H | source S
                                                                                             new
                                                                                                 )
     @ xi
                                                 S new
      @ inf                            X                    @ inf
         P̃i (x, ↵L , ↵H | source = S)       P(S new |S)       Pi (x, ↵L , ↵H | source S new )
    @xi                                                   @x i
                                       S new
      @ inf                            X                    @ inf
         P̃i (x, ↵L , ↵H | source = S)       P(S new |S)       P (x, ↵L , ↵H | source = S new )
    @xi                                  new
                                                          @xi i
                                       S
    ⇣                                    ⌘X                    @2                                       (a)
   + 1 P̃inf i (x, ↵L , ↵H | source = S)         P(S new |S) 2 Pinf i (x, ↵L , ↵H | source = S
                                                                                                  new
                                                                                                      )  0,
                                             new
                                                             @ xi
                                               S




                                                             25
where (a) follows from Claim 1 and the induction hypothesis. This completes the proof ⌅


Proof of Proposition 1

We let {Ui,t }i2{1,...,n},t   0   be a sequence of i.i.d. random variables with uniform distribution over
[0, 1]. We use a coupling argument together with stochastic dominance to relate the stochastic
processes unfolding with (↵L , ↵H ) to the stochastic process unfolding with (↵L
                                                                               0 , ↵0 ). Consider
                                                                                    H
the process with (↵L , ↵H ) and suppose at round t agent i is infected and consider the testing
probability of this agent. The probability of agent i getting tested is ↵i (where i 2 {L, H}) and
the probability of agent i not getting tested is 1                      ↵i . Alternatively, if we let Zi,t 2 {0, 1} denote
whether agents i gets tested at time t or not then we can write this random variable by using the
sequence of sequence of i.i.d. random variables {Ui,t }i2{1,...,n},t                      0   as
                                                         8
                                                         <1,            if Ui,t  ↵i
                                                Zi,t =
                                                         :0,            if Ui,t > ↵i .

We now define a coupled independent cascade process by using the same draws of the sequence
of i.i.d. random variables {Ui,t }i2{1,...,n},t          0   as
                                                         8
                                                         <1,            if Ui,t  ↵i0
                                                 0
                                                Zi,t =
                                                         :0,            if Ui,t > ↵i0 .

Given ↵i0      ↵i for i = 1, 2 we have P(Zi,t
                                          0                   Zi,t , for all i = 1, . . . , n, t   0) = 1. We also let Yi,j,t
be the probability of infection reaching from agent i to agent j which can be formulated by using
a sequence of i.i.d. random variables {Ui,j,t }i,j2{1,...,n},t                 0   as
                                                  8
                                                  >
                                                  > 1,            if Ui,j,t  p, Zi,t = 1
                                                  >
                                                  >
                                                  >
                                                  >
                                                  <0,             if Ui,j,t > p, Zi,t = 1
                                       Yi,j,t   =
                                                  >
                                                  >1,             if Ui,j,t  , Zi,t = 0
                                                  >
                                                  >
                                                  >
                                                  >
                                                  :0,             if Ui,j,t > , Zi,t = 0.

We again define a coupled independent cascade process by using the same draws of the sequence
of sequence of i.i.d. random variables {Ui,j,t }i,j2{1,...,n},t                 0   as
                                                  8
                                                  >
                                                  > 1,            if Ui,j,t  p, Zi,t
                                                                                  0 =1
                                                  >
                                                  >
                                                  >
                                                  >
                                                  <0,             if Ui,j,t > p, Zi,t
                                                                                  0 =1
                                         0
                                       Yi,j,t   =
                                                  >
                                                  >1,             if Ui,j,t  , Zi,t
                                                                                 0 =0
                                                  >
                                                  >
                                                  >
                                                  >
                                                  :0,             if Ui,j,t > , Zi,t
                                                                                 0 = 0.




                                                                   26
Given P(Zi,t
         0            Zi,t , for all i = 1, . . . , n, t
                                                       0) = 1, we obtain P(Yi,j,t
                                                                               0    Yi,j,t , for all i, j =
                                                                       P P
1, . . . , n, t   0) = 1. Note that node i gets infected if and only if t 0 j6=i Yi,j,t 1. Therefore, the
probability of node i getting infected with the original process is smaller than the auxiliary pro-
cess. Finally, note that the probability of getting infected in the auxiliary process is Pinf    0    0
                                                                                          i (G, ↵L , ↵H ),
completing the proof. ⌅


Proof of Lemma 2

The utility of agent i is vi xi          Pinf
                                          i (xi , x i , ↵L , ↵H )           c↵i . Using Part (b) of Lemma 1 this utility
function is convex in xi and therefore its maximum is either at 0 or at 1. ⌅


Proof of Proposition 2

We first prove that the best response decision of each individual is either 1 or 0 (i.e., the best
response social activity of each agent is at the boundaries of [0, 1]).
Lemma 2 also shows that in any mixed-strategy equilibrium each agent i must be mixing between
playing 1 and playing 0. In what follows we let x =                              for some             2 [0, 1] to denote a mixed
strategy that puts probability             on 1 and puts probability 1                      on 0. We also let ↵i denote the
testing probability of agent i which is equal to ↵L if i 2 L and is equal to ↵H if i 2 H.
We now proceed with the proof of proposition.
Proof of part (a): We first establish that xi = 1 for all i 2 V is an equilibrium and then show that it
is the unique symmetric equilibrium. Consider i 2 H. The utility of i with action profile x = 1 is

                                    vH        Pinf
                                               i (xi = 1, x       i   = 1, ↵H , ↵L )       c↵H .

If agent i deviates and plays xi = 0 (using Lemma 2, this is the only candidate for a profitable
deviation), then her utility becomes

                                                                                            1
                                Pinf
                                 i (xi = 0, x         i   = 1, ↵H , ↵L )       c↵H =               c↵H ,
                                                                                           n

where we used the fact that if xi = 0, then the only way for agent i to get infected is be the
source of infection. Therefore, given (↵H , ↵L ) 2 A1 we have ui (xi = 1, x i , ↵L , ↵H ) > ui (xi =
0, x i , ↵L , ↵H ). Similarly, any j 2 L does not have a profitable deviation.
     We next prove that this is the unique symmetric equilibrium. First note that for a high-value
agent i 2 H no matter what the strategy of other agents are, the dominant strategy is to play
xi = 1. This is because for any x             i   we can write

                                  ui (xi = 1, x i , ↵L , ↵H )
                                   = vH           Pinf
                                                   i (xi = 1, x i , ↵L , ↵H )          c↵H
                                   (a)
                                         vH       Pinf
                                                   i (xi = 1, x       i   = 1, ↵L , ↵H )        c↵H



                                                                 27
                                       (b)      1
                                       >              c↵H = ui (xi = 0, x i , ↵L , ↵H )
                                                n

where (a) follows from Part (a) of Lemma 1 and (b) follows from (↵L , ↵H ) 2 A1 and vH > vL .
Therefore, there are two other candidates for a symmetric equilibrium: (i) the action profile xi = 1
for all i 2 H and xj = 0 for all j 2 L and (ii) xi = 1 for all i 2 H and xj =                            L   for all j 2 L and
some    L   2 (0, 1). We next show that none of these can be an equilibrium because an agent j 2 L
has a profitable deviation to 1:

                              uj (xj = 1, xL\{j} , xH = 1, ↵H , ↵L )
                               = vL          Pinf
                                              j (xj = 1, xL\{j} , xH = 1, ↵H , ↵L )        c↵L
                               (a)
                               > vL          Pinf
                                              j (xj = 1, xL\{j} = 1, xH = 1, ↵H , ↵L )             c↵L
                               (b)     1
                                               c↵L = uj (xj = 0, xL\{j} = 0, xH = 1, ↵H , ↵L ),
                                      n

where (a) follows from Part (a) of Lemma 1 and the fact that we have either xL\{j} = 1 or xL\{j} =
 L1   which are both below xL\{j} = 1 and (b) follows from (↵L , ↵H ) 2 A1 . This completes the
proof of part (a).
Proof of part (b): Before proceeding with the proof of this part, note that as we decrease (↵L , ↵H ),
one of the constraints of A1 will be violated because the infection probability increases (by using
Proposition 1). For any ✏ > 0, there exists M 2 N+ such that for n                            M , we have

                    |Pinf
                      l (xH = 1, xL = 1, ↵H , ↵L )                Pinf
                                                                   h (xH = 1, xL = 1, ↵H , ↵L )| < ✏,

                                       vH vL
In what follows we let ✏ <               2   .      Therefore, the constraint Pinf                                 1
                                                                               l (xH = 1, xL = 1, ↵H , ↵L )  vL + n
will be violated first, resulting in (↵L , ↵H ) that belongs to the set A2 .
   We now proceed with the proof of part (b). Consider any symmetric mixed strategy for agents
i 2 H. Using Lemma 2, this mixed strategy must have only two atoms {0, 1}. We let                                     H   (and
similarly    L)   denote the probability of being 1 for high-value agents (and similarly for low-value
agents). With the abuse of notation whenever we write xi =                             H   this means expectation over xi
which is 1 with probability                H   and 0 with probability 1          H.
   We define       L   :   [0, 1]2   ! [0, 1] such that for any pair (↵L , ↵H ), we have

                                                                                                  1
                           Pinf
                            l (xH = 1, xl = 1, xL\{l} =             L (↵L , ↵H ), ↵L , ↵H )   =     + vL .
                                                                                                  n

Note that for any (↵L , ↵H ) 2 A2 there exists                   L (↵L , ↵H )   in [0, 1] that satisfies the above equality.
This is because by using Part (a) of Lemma 1 the function f : [0, 1] ! [0, 1] where

                                     f (y) = Pinf
                                              l (xH = 1, xl = 1, xL\{l} = y1, ↵L , ↵H )




                                                                  28
is increasing in y. For y = 0, we have

                                                                                               (a)   1
                             f (0) = Pinf
                                      l (xH = 1, xl = 1, xL\{l} = 0, ↵L , ↵H )                        + vL
                                                                                                     n

where (a) follows from (↵L , ↵H ) 2 A2 . For y = 1 we have

                                                                                              (a)    1
                             f (1) = Pinf
                                      l (xH = 1, xl = 1, xL\{l} = 1, ↵L , ↵H )                         + vL ,
                                                                                                     n

where (a) follows from (↵L , ↵H ) 2 A2 . Using, mean-value Theorem shows that                                     L (↵L , ↵H )   2 [0, 1]
exists.
     We first prove that xi = 1 for all i 2 H and xj =                      L (↵L , ↵H )   for all j 2 L is an equilibrium. For
i 2 H, we have

                 ui (xi = 1, xH\{i} = 1, xL = 1                 L (↵L , ↵H ), ↵H , ↵L )

                  = vH            Pinf
                                   i (xi = 1, xH\{i} = 1, xL = 1               L (↵L , ↵H ), ↵H , ↵L )    c↵H
                  (a)
                        vH        Pinf
                                   l (xl = 1, xH = 1, xL\{l} = 1               L (↵L , ↵H ), ↵H , ↵L )     ✏     c↵H
                  (b)                     1                   1(c)
                  = vH            (vL +     )     ✏      c↵H        c↵H
                                          n                   n
                  = ui (xi = 0, xH\{i}           = 1, xL = 1 L (↵L , ↵H ), ↵H , ↵L ),

where (a) follows from n               M , (b) follows from the definition of                L (↵L , ↵H ),     and (c) follows from
      vH vL
✏<      2   .   This shows that high-value agents do not have a profitable deviation. For j 2 L, we
have

                   uj (xj = 1, xL\{j} = 1                L (↵L , ↵H ), xH   = 1, ↵H , ↵L )
                    = vL           Pinf (xj = 1, xL\{j} = 1          L (↵L , ↵H ), xH   = 1, ↵H , ↵L )         c↵L
                    (a)       1
                    =               c↵L = uj (xj = 0, xL\{j} = 1               L (↵L , ↵H ), xH   = 1, ↵H , ↵L ),
                             n

where (a) follows from the definition of                       L (↵L , ↵H ).    This proves that each low-value agent is
indifferent between playing 0 and 1 given the action profile of others in this equilibrium.
     We next prove that there exists no other symmetric equilibrium by listing all possibilities:

   1. (xl = 0, xh = 0): This is not an equilibrium because any agent i can deviate and receive
       1   1
           n     c↵i instead of           n
                                           1
                                                 c↵i .

   2. (xl = 0, xh = 1): This is not an equilibrium because any agent j 2 L has a profitable devia-
       tion:

                                   uj (xj = 1, xL\{j} = 0, xH = 1, ↵L , ↵H )
                                    = vL        Pinf
                                                 j (xj = 1, xL\{j} = 0, xH = 1, ↵L , ↵H )                c↵L

                                                                     29
                             (a)    1
                                            c↵L = uj (xj = 0, xL\{j} = 0, xH = 1, ↵L , ↵H ),
                                   n

     where (a) follows from (↵H , ↵L ) 2 A2 .

  3. (xl = 0, xh =    H ):    This is not an equilibrium because any agent j 2 L can deviate with a
     similar reason to case 2.

  4. (xl = 1, xh = 0): This is not an equilibrium because any agent i 2 H has a profitable
     deviation for a similar reason as :

                       ui (xi = 1, xH\{i} = 0, xL = 1, ↵L , ↵H )
                       = vH             Pinf
                                         h (xh = 1, xH\{h} = 0, xL = 1, ↵L , ↵H )       c↵H
                       (a)
                              vH        Pinf
                                         l (xl = 1, xH = 0, xL\{l} = 1, ↵L , ↵H )       ✏    c↵H
                       (b)                         1
                              vH        ✏     vL          c↵H
                                                   n
                       (c)      1
                                         c↵H = ui (xi = 0, xH\{i} = 0, xL = 1, ↵L , ↵H ),
                               n

     where (a) follows from n being large, (b) follows from xl = 1 being equilibrium, and (c)
     follows from vH > vL and ✏ < vH                   vL .

  5. (xl = 1, xh = 1): This is not an equilibrium because any agent j 2 L has a profitable devia-
     tion:

                         uj (xj = 0, xL\{j} = 1, xH = 1, ↵L , ↵H )
                               1
                         =         c↵L
                              n
                             (a)
                                   vL       Pinf
                                             l (xj = 1, xL\{j} = 1, xH = 1, ↵L , ↵H )       c↵L
                             = uj (xj = 1, xL\{j} = 1, xH = 1, ↵L , ↵H ),

     where (a) follows from (↵H , ↵L ) 2 A2 .

  6. (xl = 1, xh =     H ):    This is not an equilibrium because any agent j 2 L has a profitable
     deviation for a similar reason as case 5.

Proof of part (c): By further decreasing the pair (↵L , ↵H ), using Proposition 1 the infection proba-
bilities increase and therefore one of the following constraints

                                                                                     1
                        Pinf
                         l (xH = 1, xl = 1, xL\{l} = 0, ↵L , ↵H )  vL +               ,
                                                                                     n
                                                                                       1
                        Pinf
                         h (xh = 1, xH\{h}              = 1, xL = 0, ↵L , ↵H )  vH +
                                                                                       n



                                                              30
will be violated first. For n            M , the first constraint that will be violated is Pinf
                                                                                            l (xH = 1, xl =
1, xL\{l} = 0, ↵L , ↵H )  vL + n1 , resulting in the set A3 .
    In region A3 , we next list all the candidate symmetric equilibria and conclude that xi = 1 for
i 2 H and xj = 0 for all j 2 L is the only symmetric equilibrium.

   1. (xl =    L , xh   = 1): This is not equilibrium because if this was equilibrium we would have
      been in region A2 more precisely this is not equilibrium because Pinf
                                                                        l (xH = 1, xl = 1, xL\{l} =
      0, ↵L , ↵H )      vL + n1 .

   2. (xl =    L , xh   =   H ):    This cannot be equilibrium for large enough n. This is because if it is
      equilibrium then we must have

                                                                                                      1
                              Pinf
                               l (xl = 1, xL\{l} = 1      L , xH     =1    H , ↵L , ↵H )   = vL +
                                                                                                      n

      and

                                                                                                      1
                             Pinf
                              h (xh = 1, xH\{h} = 1         H , xL   =1    L , ↵L , ↵H )   = vH +       .
                                                                                                      n

      for large enough n the difference between the left-hand of the above equations becomes
      smaller than vH         vL which is a contradiction.

   3. (xl =    L , xh   = 0): This cannot be equilibrium for large enough n. This is because if it is
      equilibrium then we must have

                                                                                                  1
                                   Pinf
                                    l (xl = 1, xL\{l} = 1    L , xH   = 0, ↵L , ↵H ) = vL +
                                                                                                  n

      and

                                                                                                  1
                                Pinf
                                 h (xh = 1, xH\{h} = 0, xL = 1            L , ↵L , ↵H )    vH +     .
                                                                                                  n

      for large enough n the difference between the left-hand of the above equations becomes
      smaller than vH         vL which again is a contradiction.

   4. (xl = 0, xh = 1): This is a symmetric equilibrium because a low-value agent has no profitable
      deviation:

                            ul (xl = 0, xL\{l} , xH , ↵L , ↵H )
                                 1         (a)
                            =         c↵L      vL Pinf l (xl = 1, xL\{l} , xH , ↵L , ↵H )             c↵L
                                 n
                            = ul (xl = 1, xL\{l} , xH , ↵L , ↵H ),




                                                           31
  where (a) follows from (↵L , ↵H ) 2 A3 . Also, a high-value agent has no profitable deviation:

                               uh (xh = 1, xH\{h} = 1, xL = 0, ↵L , ↵H )
                               = vH        Pinf
                                            h (xh = 1, xH\{h} = 1, xL = 0, ↵L , ↵H )              c↵H
                               (a)    1
                                            c↵H = uh (xh = 1, xH\{h} = 1, xL = 0, ↵L , ↵H ),
                                     n

  where (a) follows from (↵L , ↵H ) 2 A3

5. (xl = 0, xh =         H ):    This cannot be equilibrium for large enough n. This is because if it is
  equilibrium then we must have

                                                                                                     1
                                 Pinf
                                  l (xl = 1, xL\{l} = 0, xH = 1              H , ↵L , ↵H )    vL +
                                                                                                     n

  and

                                                                                                     1
                                Pinf
                                 h (xh = 1, xH\{h} = 1            H , xL   = 0, ↵L , ↵H ) = vH +       .
                                                                                                     n

  for large enough n the difference between the left-hand of the above equations becomes
  smaller than vH              vL which again is a contradiction.

6. (xl = 0, xh = 0): This cannot be equilibrium because any agent i can deviate and increase its
  utility from     n
                    1
                           c↵i to vi         1
                                             n   c↵i .

7. (xl = 1, xh = 1): This cannot be equilibrium because if it was equilibrium we would have
  been in region A1 .

8. (xl = 1, xh =        H ):   This cannot be equilibrium because if it is equilibrium we must have

                                                                                              1
                                Pinf
                                 h (xh = 1, xH\{h} = 1            H , xL   = 1, ↵L , ↵H ) =     + vH
                                                                                              n

  and

                                                                                       1
                                          Pinf
                                           l (xH = 1     H , xL   = 1, ↵L , ↵H )        + vL .
                                                                                       n

  For large enough n, the difference between the left-hand side of the above inequalities is
  below ✏ which is a contradiction.

9. (xl = 1, xh = 0): This cannot be equilibrium because if it is equilibrium we must have

                                                                                              1
                                Pinf
                                 h (xh = 1, xH\{h} = 1            H , xL   = 1, ↵L , ↵H )       + vH
                                                                                              n




                                                             32
         and

                                                                                 1
                                     Pinf
                                      l (xH = 1     H , xL   = 1, ↵L , ↵H )       + vL .
                                                                                 n

         Again, for large enough n, the difference between the left-hand side of the above inequalities
         is below ✏ which is a contradiction.

     Proof of part (d): By further decreasing the pair (↵L , ↵H ), the infection probabilities increase
and therefore the constraint Pinf
                              h (xh = 1, xH\{h} = 1, xL = 0, ↵L , ↵H )  vH +
                                                                                                     1
                                                                                                     n   will be violated
and we get to region A4 .
    We define     H    : [0, 1]2 ! [0, 1] such that for any pair (↵L , ↵H ), we have

                                                                                                  1
               Pinf
                h (xh = 1, xH\{h} =       H (↵L , ↵H )1, xl   = 0, xL\{l} = 0, ↵L , ↵H ) =          + vH .
                                                                                                  n

Note that for any (↵L , ↵H ) 2 A4 there exists          H (↵L , ↵H )   in [0, 1] that satisfies the above equality.
This is because by using Part (a) of Lemma 1 the function f : [0, 1] ! [0, 1] where f (y) = Pinf
                                                                                             h (xh =
1, xH\{h} = y1, xL = 0, ↵L , ↵H ) is increasing in y. For y = 0, we have

                                                                                    1 (a) 1
                       f (0) = Pinf
                                h (xh = 1, xH\{h} = 0, xL = 0, ↵L , ↵H ) =             + vH .
                                                                                    n     n

For y = 1 we have

                                                                                    (a)   1
                         f (1) = Pinf
                                  h (xh = 1, xH\{h} = 1, xL = 0, ↵L , ↵H )                  + vH ,
                                                                                          n

where (a) follows from (↵L , ↵H ) 2 A4 . Using, mean-value Theorem shows that                        H (↵L , ↵H )   2 [0, 1]
exist.
    We first establish that xj = 0 for all j 2 L and xi =            H (↵L , ↵H )   for all i 2 H is an equilibrium.
For j 2 L, we have

                 uj (xj = 1, xH = 1    H (↵L , ↵H ), xL\{j}    = 0, ↵H , ↵L )
                 = vL        Pinf
                              j (xH = 1   H (↵L , ↵H ), xj   = 1, xL\{j} = 0, ↵H , ↵L )        c↵L
                 (a)
                  vL        Pinf
                               h (xh = 1, xH\{h} = 1    H (↵L , ↵H ), xL   = 0, ↵H , ↵L ) + ✏        c↵L
                 (b)         1
                 = vL             vH + ✏ c↵L
                             n
                 (c)     1
                             c↵L = uj (xj = 0, xH = 1       H (↵L , ↵H ), xL   = 0, ↵H , ↵L ),
                        n

where (a) follows from n          M , (b) follows from the definition of          H (↵L , ↵H ),   and (c) follows from
     vH vL
✏<     2   .   This shows that low-value agents do not have a profitable deviation. For i 2 H, we




                                                         33
have

                ui (xi = 1, xH\{i} = 1       H (↵L , ↵H ), xL          = 0, ↵H , ↵L )
                 = vH        Pinf
                              i (xi   = 1, xH\{i} = 1         H (↵L , ↵H ), xL      = 0, ↵H , ↵L )   c↵H
                 (a)     1
                 =            c↵H = ui (xi = 0, xH\{i} = 1               H (↵L , ↵H ), xL   = 0, ↵H , ↵L ),
                        n

showing that high-value agents are indifferent between playing 1 and 0 with this activity profile,
where (a) follows from the definition of         H (↵L , ↵H ).          Similar to the proof of previous parts, listing
all possible symmetric equilibria shows this is the unique symmetric equilibrium. ⌅


Proof of Lemma 3

We first define a few notations that we use ion the proof. Consider a society of n individuals and
suppose that all agents are fully active, i.e., x = 1. For any (↵L , ↵H ) we let

                                        Q(n, ↵L , ↵H ) = Pinf
                                                          i (x, ↵L , ↵H )


be the infection probability of any agent when the testing probability of high-value agents is ↵H
and the testing probability of low-value agents is ↵L . In the next lemma we establish that for large
enough n the quantities Q(n, ↵L , ↵H ) and Q(n, rH ↵H +rL ↵L , rH ↵H +rL ↵L ) are close to each other:
Claim 1: We have

                       lim |Q(n, ↵L , ↵H )     Q(n, rH ↵H + rL ↵L , rH ↵H + rL ↵L )| = 0.
                     n!1


Proof of Claim 1: We define another quantity Q̃(n, ↵) that denotes the infection probability of any
agent in a society of n agents where n↵ agents are tested (we drop the ceiling and assume this
number is integer, to simplify the notation). To prove Claim 1, it suffices to show

                             lim |Q(n, ↵L , ↵H )     Q̃(n, ↵ = rL ↵L + rH ↵H )| = 0,                                (3)
                             n!1

showing that only the expected number of tests determines the limit of the infection probability.
We next establish (3). We let Sn denote the number of tested agents. Note that the distribution of
Sn is Binomial(n, ↵). We also let f (k, n) denote the infection probability when k agents are being
tested and the rest of them are not tested. With these notations, the statement of (3) becomes

                              lim |f (↵n, n)     ESn ⇠Binomial(n,↵) [f (Sn , n)] | = 0.
                             n!1

The above inequality holds because Sn concentrates around ↵n. We next formally prove this. We
can write
                                                   (a)
                                                                       2n✏2
                 ESn ⇠Binomial(n,↵) [f (Sn , n)]         (1        e          )f ((↵ + ✏)n, n)


                                                              34
                                                  (b)
                                                                               ✓                                         ◆
                                                                      2n✏2                                       ✏
                                                        (1        e          ) f (↵n, n)                ✏                                        (4)
                                                                                                             1       ↵

where (a) follows from Chernoff-Hoeffding inequality P(Sn  (↵ + ✏)n)                                                1       e       2n✏2    and (b)
follows from the following argument. We let S = {1, . . . , ↵n} be the set of nodes that are being
tested in finding f (n↵, n) and S̃ = {1, . . . , (↵ + ✏)n} be the set of nodes that are being tested in
finding f (n(↵+✏), n). With probability ✏, the source of infection is in set S̃\S. In this case we bound
f (↵n, n) by ✏. With probability 1         ✏ the source is not in the set S̃ \ S. Without loss of generality
we assume it is agent 0 and find the relationship between f (n↵, n) and f (n(↵ + ✏), n) given the
event that the source is agent 0. We let h(k, n) be the infection probability of agent n when we do
not test agents n, . . . , n   k and test the rest of the agents. Note that h(k, n) is increasing in k. With
this new notation, we have

                                    f (n(↵ + ✏), n) = h((1              (↵ + ✏))n, n),
                                           f (n↵, n) = h(n(1                 ↵), n).

We can write a telescopic summations

                                                             n(1 ↵)
                                                              X
                         h(n(1     ↵), n) = h(0, n) +                   (h(k, n)           h(k          1, n)) ,                                 (5)
                                                              k=1

and
                                                              n(1 (↵+✏))
                                                                      X
                    h(n(1      (↵ + ✏)), n) = h(0, n) +                           (h(k, n)             h(k   1, n)) ,                            (6)
                                                                      k=1

In Claim 2, proved next, we establish that (h(k, n)                    h(k        1, n)) is decreasing in k. Together with
(5) and (6), this implies that

                                                                                      n(1 ↵)
                                                                                       X
      f (n↵, n) = h(n(1        ↵), n) = h(n(1    (↵ + ✏)), n) +                                         (h(k, n)         h(k          1, n))
                                                                             k=n(1 (↵+✏))+1
                                     (a)                                          ✏                                              ✏
                                       h(n(1     (↵ + ✏)), n) +                           = f (n(↵ + ✏), n) +                           ,
                                                                              1       ↵                                      1       ↵

where (a) follows from the fact that h(n(1                ↵), n) given in (5) is less than or equal to 1 and
(h(k, n)    h(k     1, n)) is decreasing in k. Therefore, combining the two events for the source of
infection, we obtain
                                                                                           ✏
                                   f (↵n, n)  ✏ + f ((↵ + ✏)n, n) +                               ,
                                                                                       1       ↵
which is used in part (b) of (4).
    Similarly, we get

                                                                      2n✏2
                   ESn ⇠Binomial(n,↵) [f (Sn , n)]  (1        e             )f ((↵        ✏)n, n)


                                                             35
                                                                    ✓                              ◆
                                                            2n✏2                           ✏
                                              (1       e          ) f (↵n, n) + ✏ +                   .         (7)
                                                                                       1       ↵

                                                  log
                                                   pn
Combining the inequalities (4) and (7) for ✏ =       n
                                                            shows that

                          lim |f (↵n, n)    ESn ⇠Binomial(n,↵) [f (Sn , n)] | = 0,
                          n!1

completing the proof of Claim 1. ⌅
Claim 2: For the function h(k, n) defined above, we have

                    h(k + 1, n)    h(k, n)  (h(k, n)        h(k      1, n),    for all k, n.                    (8)

Proof of Claim 2: Let us fix whether we test all agents in V \ {i, j}. This claim is equivalent to

               P (0 ; n|i not tested , j not tested )        P (0 ; n|i tested , j not tested )
                  P (0 ; n|i not tested , j tested )        P (0 ; n|i tested , j tested ) ,

where s ; n denotes the event that infection reaches agent n starting from agent 0. The difference
between the left-hand side and right-hand side of the above inequality is non-zero only when the
infection reaches node n through a path that uses agents i and j which we denote by 0 ; i ;
j ; n. We also denote the probability of this event excluding the transmissions from i and j,
by P (0 ; i ; j ; n). In this case, the left-hand side becomes P (0 ; i ; j ; n) (                         p), which
is larger than the right-hand side that is P (0 ; i ; j ; n) (                 p)(         p). This completes the
proof of Claim 2. ⌅
We now proceed with the proof of Lemma 3. We recall that set A1 must satisfy

                                                                  1
                              Pinf
                               l (xH = 1, xL = 1, ↵L , ↵H )  vL +  ,
                                                                  n
                                                                  1
                              Pinf
                               h (xH = 1, xL = 1, ↵L , ↵H )  vH + .
                                                                  n

For large enough n the difference between the left-hand side of the above inequalities become
smaller than vH     vL , showing that the constraints of the set A1 will be satisfied if and only if we
have

                                                                               1
                                Pinf
                                 l (xH = 1, xL = 1, ↵L , ↵H )  vL +             .
                                                                               n

Using Claim 1, as n ! 1, the above inequality becomes equivalent to

                                Q(↵H rH + ↵L rL , ↵H rH + ↵L rL )  vL ,

where Q(↵) = limn!1 Q(n, ↵). Noting that Q(↵) is decreasing in ↵ (which follows from Proposi-
tion 2) establishes the existence of a threshold which we denote by rH ↵(1) such that (↵L , ↵H ) 2 A⇤1


                                                    36
                                                             (1)
if and only if we have ↵H rH + ↵L rL                   rH ↵H .5 The constraint Pinf
                                                                                l (xH = 1, xL = 1, ↵L , ↵H )
                                                                                  (1)
vL + n1 in the other sets also becomes ↵H rH + ↵L rL  rH ↵H as n ! 1. The two other constraints
of set A2 are

                                                                                                     1
                             Pinf
                              l (xH = 1, xl = 1, xL\{l} = 0, ↵L , ↵H )  vL +                          ,
                                                                                                     n
                                                                                        1
                             Pinf
                              h (xH = 1, xL = 0, ↵L , ↵H )  vH +                         .
                                                                                        n

The left-hand side of these constraints in the limit converge to each other and therefore, using
vH > vL , these two constraints can be written as limn!1 Pinf
                                                          l (xH = 1, xL = 0, ↵L , ↵H ) = Q(↵H ) 
                                                               (2)
vL . This shows the existence of a threshold ↵H such that these two constraints of set A2 in the
                                                                        (2)
limit as n ! 1 hold if and only if we have ↵H                        ↵H . A similar argument shows the existence of
                (3)
a threshold ↵H that defines the sets A⇤3 and A⇤4 . ⌅


Proof of Theorem 1

Proof of part(a): Using Proposition 2, the unique symmetric equilibrium for (↵L , ↵H ) 2 A1 is
xi = 1 for all i 2 V and therefore the infection probability of agent i becomes

                                                      Pinf
                                                       i (x = 1, ↵L , ↵H ),


which is decreasing in (↵L , ↵H ) as shown in Proposition 1.
Proof of part (b): Using Proposition 2, the unique symmetric equilibrium for (↵L , ↵H ) 2 A2 is
xi = 1 for all i 2 H and mixed action for all j 2 L where xj = 1 with probability                                     L (↵L , ↵H )
and xj = 0 with probability 1                L (↵L , ↵H ).     Here,          L (↵L , ↵H )    is such that low-value agent are
indifferent between playing x = 1 and x = 0 which implies

                                                                                                     1
                      Pinf
                       l (xl = 1, xL\{l} = 1            L (↵L , ↵H ), xH        = 1, ↵L , ↵H ) =       + vL .                 (9)
                                                                                                     n

The infection probability of low value agents is

                               inf
                  L (↵L , ↵H )Pl (xl      = 1, xL\{l} = 1          L (↵L , ↵H ), xH      = 1, ↵L , ↵H )
                                          inf
                 + (1       L (↵L , ↵H ))Pl (xl        = 0, xL\{l} = 1          L (↵L , ↵H ), xH     = 1, ↵L , ↵H )
                                     ✓            ◆
                                         1                                         1                            1
                  =   L (↵L , ↵H )         + vL       + (1         L (↵L , ↵H ))     =        L (↵L , ↵H )vL      .
                                         n                                         n                            n

We next prove that the        L (↵L , ↵H )   which is the solution of (9) is increasing in (↵L , ↵H ). We prove
this by assuming the contrary and reaching a contradiction. In particular, suppose that (↵L
                                                                                          0 , ↵0 ) >
                                                                                               H
   5
    The multiplier rH in this threshold is included to have a better geometric interpretation of the limiting set A⇤1 . In
                                (1)
particular, with this notation ↵H becomes the intersection of the boundary between A⇤1 and A⇤2 with the ↵H -axis.




                                                                   37
(↵L , ↵H ) and        0    0
                  L (↵L , ↵H )   <       L (↵L , ↵H ).   We can write

                        1 (a) inf
                vL +      = Pl (xl = 1, xL\{l} = 1             L (↵L , ↵H ), xH    = 1, ↵L , ↵H )
                        n
                          (b)
                                                                   0    0
                          > Pinf
                             l (xl = 1, xL\{l} = 1             L (↵L , ↵H ), xH   = 1, ↵L , ↵H )
                          (c)
                                                                   0    0               0    0      (d)      1
                          > Pinf
                             l (xl = 1, xL\{l} = 1             L (↵L , ↵H ), xH   = 1, ↵L , ↵H ) = vL +        ,
                                                                                                             n

which is a contradiction. In the above derivation (a) and (d) follow by invoking (9), (b) follow
from the assumption that              0    0
                                  L (↵L , ↵H )     <     L (↵L , ↵H )   and part (a) of Lemma 1, and (c) follows from
  0 , ↵0 )
(↵L    H     > (↵L , ↵H ) and Proposition 1. The infection probability of high-value agents is given in
(9) which remains equal to           1
                                     n   + vL .
Proof of part (c): Using Proposition 2, the unique symmetric equilibrium for (↵L , ↵H ) 2 A3 is
xj = 0 for all j 2 L and xi = 1 for all i 2 H and therefore the infection probability of an agent k
becomes
                                               Pinf
                                                k (xH = 1, xL = 0, ↵L , ↵H ),

which is decreasing in (↵L , ↵H ) as shown in Proposition 1.
Proof of part (d): Using Proposition 2, the unique symmetric equilibrium for (↵L , ↵H ) 2 A4 is
xj = 0 for all j 2 L and mixed action for all i 2 H where xi = 1 with probability                                   H (↵L , ↵H )
and xi = 0 with probability 1                 H (↵L , ↵H ).   Here,      H (↵L , ↵H )   is such that high-value agents are
indifferent between playing x = 1 and x = 0 which implies

                                                                                                 1
                      Pinf
                       h (xh = 1, xH\{h} = 1              H (↵L , ↵H ), xL   = 0, ↵L , ↵H ) =      + vH .                  (10)
                                                                                                 n

The infection probability of high value agents is

                              inf
                 H (↵L , ↵H )Pl (xh         = 1, xH\{l} = 1      H (↵L , ↵H ), xL    = 0, ↵L , ↵H )
                                         inf
                 + (1      H (↵L , ↵H ))Ph (xh           = 0, xH\{h} = 1      H (↵L , ↵H ), xL   = 0, ↵L , ↵H )
                                     ✓             ◆
                                          1                                     1                           1
                 =    H (↵L , ↵H )          + vH       + (1     H (↵L , ↵H ))     =      H (↵L , ↵H )vH       .
                                          n                                     n                           n

We next prove that the           H (↵L , ↵H )      which is the solution of (10) is increasing in (↵L , ↵H ). We
establish this by assuming the contrary and reaching a contradiction. In particular, suppose that
  0 , ↵0 ) > (↵ , ↵ ) and
(↵L                                  0    0                              We can write
       H       L   H             H (↵L , ↵H )      <     H (↵L , ↵H ).

                       1 (a) inf
               vH +      = Ph (xh = 1, xH\{h} = 1               H (↵L , ↵H ), xL   = 0, ↵L , ↵H )
                       n
                         (b)
                                                                   0    0
                         > Pinf
                            h (xh = 1, xH\{h} = 1              H (↵L , ↵H ), xL    = 0, ↵L , ↵H )
                         (c)
                                                                   0    0                0    0     (d)       1
                         > Pinf
                            h (xh = 1, xH\{h} = 1              H (↵L , ↵H ), xL    = 0, ↵L , ↵H ) = vH +        ,
                                                                                                              n



                                                                38
which is a contradiction. In the above derivation (a) and (d) follow by invoking (10), (b) follow
from the assumption that              0    0
                                  H (↵L , ↵H )       <     H (↵L , ↵H )    and part (a) of Lemma 1, and (c) follows from
  0 , ↵0 )
(↵L    H     > (↵L , ↵H ) and Proposition 1. The infection probability of low-value agents remains n1 ,
completing the proof. ⌅


Proof of Lemma 4

All parts follows from the fact that the infection probability is increasing in ⌘, , and p. The fact
that the infection probability is increasing in ⌘ follows from a similar argument to the proof of
Part (a) of Lemma 1. The fact that the infection probability is increasing in                            and p follows from a
similar argument to the proof of Proposition 1. ⌅


Proof of Theorem 2
                                                                                                   (1)            (2)
We first prove the theorem for the limit when n ! 1 with ✓(1) = rH ↵H , ✓(2) = ↵H rH , and
         (3)              (1)     (2)             (3)
✓(3) = ↵H rH where ↵H , ↵H , and ↵H are the thresholds found in Lemma 3 and then use Lemma
3 to show it holds for sufficiently large n. Similar to the proof of Lemma 3, we let Q(↵) be the
limiting infection probability of agents in a society of n individuals when each agent is tested with
probability ↵.
Proof of Part (a): For ✓        ✓(1) , the number of tests is such that the equilibrium can be in region A⇤1
with normalized social welfare equal to

                                                  v H r H + v L rL         Q(↵)   c↵,

where ↵ is the expected number of tests. Since ⇡(↵, , p) is decreasing in ↵ for
                                                                  ⇢
                                                                       d
                                                  c < max                Q(↵)|↵=x ,
                                                        x2[0,1]       d↵

it is optimal to let ↵ = ✓.
Proof of Part (b): For ✓(2)  ✓  ✓(1) , the number of tests is such that the is in region A⇤2 with
normalized social welfare equal to

                                                        inf
                    v H r H + v L rL    L     rL     L Pl (xH         = 1, xl = 1, xL\{l} =   L 1, ↵L , ↵H )

                       rH Pinf
                           h (xH = 1, xL =                  L 1, xH    = 1, ↵L , ↵H )   c(↵H rH + ↵L rL )
                    = rH (vH         vL )     c(↵H rH + ↵L rL ).

Therefore, for any point (↵L , ↵H ) in this region the social welfare is equal to rH (vH vL ) c(↵H rH +
↵L rL ). Therefore, the optimal testing policy (↵L , ↵H ) has the minimum number of tests which
brings the social activity of low-value agents to 0 (i.e., the boundary between A⇤2 and A⇤3 ) and we
                                                        ✓ (2)
test high-value agents with probability                 rH      so that on average we are testing the minimum fraction
of agents that belongs to       [✓(2) , ✓(1) ].

                                                                      39
Proof of Part (c): For ✓(3)  ✓  ✓(2) , the number of tests is such that the equilibrium can be in
region A⇤3 with normalized social welfare equal to
                                                     ✓        ◆
                                                          ✓
                                    v H rH    rH Q                  c(↵H rH + ↵L rL ),
                                                         rH

where we test each high-value agent with probability r✓H which makes the average number of tests
                   ⇣ ⌘
equal to ↵. Since Q r✓H is decreasing in r✓H and c < maxx2[0,1] d↵
                                                                 d
                                                                   Q(↵)|↵=x , it is optimal to let
↵ = ✓.
Proof of Part (d): For ✓  ✓(3) , the number of tests is such that the equilibrium can only be in
region A⇤4 with normalized social welfare equal to

                                  inf
           v H rH   H   rH     H Ph (xh    = 1, xH\{h} = 1         H , xL   = 0, ↵L , ↵H )    c(↵H rH + ↵L rL )
            =    c(↵H rH + ↵L rL ).

Therefore, for any point (↵L , ↵H ) in this region the social welfare is equal to c(↵H rH + ↵L rL ) and
the optimal testing policy is 0. Finally, note that the theorem holds for large enough n with strict
inequalities by invoking Lemma 3. ⌅


Proof of Corollary 1

The following lemma readily follow from Proposition 2 and characterizes equilibrium with uni-
form policies.

Lemma 5. With uniform policy ↵L = ↵H = ↵, there exists M 2 N+ , functions                           L   : [0, 1] ! [0, 1] and
 H   : [0, 1] ! [0, 1] and   ↵(1)   ↵(2)     ↵(3)   such that for n          M , depending on the testing policy ↵ there
are four possibilities for the equilibrium:

  (a) For ↵ > ↵(1) , there exists a unique symmetric equilibrium given by xei = 1 for all i 2 V.

  (b) For ↵(2) < ↵ < ↵(1) , there exists a unique symmetric equilibrium given by pure-strategy xei = 1 for
       all i 2 H and mixed-strategy µej for all j 2 L where µej puts               L (↵)   probability on 1 and 1      L (↵)
       probability on 0.

  (c) For ↵(3) < ↵ < ↵(2) , there exists a unique symmetric equilibrium given by xei = 1 for all i 2 H and
       xej = 0 for all j 2 L.

  (d) For ↵ < ↵(3) , there exists a unique symmetric equilibrium given by pure-strategy xej = 0 for all
       j 2 L and mixed-strategy µei for all i 2 H where µei puts                  H (↵)   probability on 1 and 1       H (↵)
       probability on 0.

     Corollary follows from this lemma and Theorem 2. ⌅




                                                              40
Proof of Proposition 3

Consider the testing policy with mandatory social distancing, the social planner uses all the testing
capacity. This is becasue

                                                    FB       FB
                         (↵L , ↵H , x̄L , x̄H ) = (↵L  (✓), ↵H  (✓), xFB      FB
                                                                      l (✓), xh (✓)).


We prove that each agent i 2 H plays xi = xFB
                                           H in equilibrium. Similarly, we can establish that
each agent j 2 L plays xi = xFB
                             L in equilibrium. Since the utility function of each agent i 2 H is
concave in xi , the equilibrium action of agent i (similar to Lemma 2), is either xi = 0 or xi = xFB
                                                                                                  H .
We next show that playing xFB
                           H is preferable for agent i:


                            ui (xi = xFB             FB         FB
                                      H , xH\{i} = 1xH , xL = 1xL , ↵L , ↵H )
                            (a)
                                  ui (xi = 0, xH\{i} = 0, xL = 1xFB
                                                                 L , ↵L , ↵H )
                            (b)
                                  ui (xi = 0, xH = 1xFB         FB
                                                     H , xL = 1xL , ↵L , ↵H ),


where (a) follows from the fact that social welfare with xi = xFB
                                                               H for i 2 H and xj = xL for i 2 L
                                                                                     FB

is larger than social welfare with xi = 0 for i 2 H and xj = xFB
                                                              L for i 2 L and (b) follows from the
fact that the infection probability is increasing in the social activities (i.e., Part (a) of Lemma 1).
   We next prove that with this testing policy with mandatory social distancing, the social planner
uses all the testing capacity. This is because the infection probability decreasing by increasing the
testing probabilities (by using Proposition 1) and therefore the first best solution improves by
using all the testing capacity. ⌅


Proof of Proposition 4

The proof is similar to the proof of Proposition 2. ⌅


Proof of Theorem 3

The proof is similar to the proof of Theorem 1. ⌅


Proof of Proposition 5

First, note that a similar argument to Lemma 2 shows that the best response of each agent is to
play one of the fours actions (0, 0), (1, 0), (0, 1), and (1, 1).
Claim 1: Under the assumptions of the proposition, high-value agents will have full social activi-
ties toward low-value agents, i.e., xL
                                     i = 1 for all i 2 H.
The maximum increase in the infection probability of a high-value agent from fully connecting
with low-value agents is rL . This is because this is the probability with which the infection hits
                                      vH
low-value agents. Given rH                 , we have vH    rL , showing that high-value agents will fully


                                                      41
connect to low-value agents.
Claim 2: Under the assumptions of the proposition, low-value agents will have zero social activi-
ties toward high-value agents, i.e., xH
                                      j = 0 for all j 2 L.
The minimum
    ⇣     ⌘ infection probability of a low-value j agent if she connects to high-value agents is
rH     1      ✓
             rH     . This is because with probability rH the infection hits one of the agents in H and
we do not test each of those with minimum probability 1     in which case the infection reaches
                                                                                  ✓
                                                                                 rH
                                                               ⇣       ⌘
agent j. Using the assumptions of the proposition, we have rH 1 r✓H         vH     vL , showing
that low-value agents will not connect to high-value agents.
Claim 3: Under the assumptions of the proposition, low-value agents will have full social activi-
ties toward low-value agents, i.e., xL
                                     j = 1 for all j 2 L.
This is because the maximum infection probability of a low-value agent j if she connects to other
low-value agents is rL (1               1
                                        n)   which is below vL given the assumption rH > 1                      vL and for large
enough n.
Claim 4: Under the assumptions of the proposition, high-value agents will have a mixed-strategy
activity toward high-value agents.
They will not have zero activity, because in that case one of them has a profitable deviation to con-
nect to others. They will not have full social activity because in that case their infection probability
is at least rH (1        ✓
                        rH )   which is above vH . We let          H   denote the mixed strategy of high-value agents
toward other high-value agents. This                   H   satisfies

                      vH       Ph (xL = (1, 0)1, xh = (1, 0), xH\{h} = (1,            H )1, ↵L , ↵H )

                        = 2vH          Ph (xL = (1, 0)1, xh = (1, 1), xH\{h} = (1,           H )1, ↵L , ↵H ).               (11)

The normalized social welfare in this unique symmetric equilibrium is

      rH (   H vH   + v H ) + rL v L         rL Pl (xL = (1, 0)1, xH = (1,      H )1, ↵L , ↵H )

           rH   H Ph (xL   = (1, 0)1, xh = (1, 1), xH\{h} = (1,            H )1, ↵L , ↵H )

           rH (1      H )Ph (xL     = (1, 0)1, xh = (1, 0), xH\{h} = (1,          H )1, ↵L , ↵H )     c(rH ↵H + rL ↵L )
       (a)
       = rH v H + rL v L           rL Pl (xL = (1, 0)1, xH = (1,         H )1, ↵L , ↵H )

           rH Ph (xL = (1, 0)1, xh = (1, 0), xH\{h} = (1,               H )1, ↵L , ↵H )    c(rH ↵H + rL ↵L ),

where (a) follows from (11). By decreasing ↵H , the term Ph (xL = (1, 0)1, xh = (1, 0), xH\{h} =
(1,   H )1, ↵L , ↵H )   remains equal to          n,
                                                  1
                                                       the term Pl (xL = (1, 0)1, xH = (1,           H )1, ↵L , ↵H )   does not
change as well because low-value agents are not connected to high-value agents. Therefore, in the
optimal policy we have ↵H = 0. Finally, by letting
                                   ⇢
                                        d
                     c  max              Pl (xL = (1, 0)1, xH = (1, 0)1, ↵L = ↵, ↵H = 0)|↵=x ,
                               x       d↵




                                                                  42
the optimal testing policy will have maximum ↵L . Given the constraint on testing capacity, the
optimal testing policy becomes
                                                         ✓      ⇢           ◆
                                                                     ✓
                                          (↵L , ↵H ) =       min 1,       ,0 ,
                                                                    rL

completing the proof. ⌅


7.2     Additional Results

Characterization of Asymmetric Equilibrium

Theorem 4. For any ✏ > 0, there exists M 2 N+ such that for n               M , depending on ↵ = (↵L , ↵H ) 2 A1
there are four possibilities for the equilibrium:

  (a) For ↵ 2 A1 , there exists a unique (symmetric or asymmetric) pure-strategy equilibrium given by
        xei = 1, for all i 2 V.

  (b) For ↵ 2 A2 , there exists a unique (symmetric or asymmetric) pure-strategy equilibrium given by
        xei = 1, for all i 2 H, xej = 1 for d ˜L (↵L , ↵H )|L|e of low-value agents and xej = 0 for the rest
        of them. Moreover, the difference between the expected number of infected individuals in this pure-
        strategy equilibrium and the the expected number of infected individuals in the unique symmetric
        mixed equilibrium is at most ✏n.

  (c) For ↵ 2 A3 , there exists a unique (symmetric or asymmetric) pure-strategy equilibrium given by
        xei = 1, for all i 2 H and xej = 0, for all j 2 L.

  (d) For ↵ 2 A4 , there exists a unique (symmetric or asymmetric) pure-strategy equilibrium given by
        xej = 1, for all j 2 L, xei = 1 for d˜ H (↵L , ↵H )|L|e of high-value agents and xei = 0 for the rest
        of them. Moreover, the difference between the expected number of infected individuals in this pure-
        strategy equilibrium and the the expected number of infected individuals in the unique symmetric
        mixed equilibrium is at most ✏n .

      Before proceeding with the proof of this theorem, we highlight that this theorem implies that
the social welfare of the unique symmetric equilibrium we studied in the main text is close to
the unique pure-strategy equilibrium. This establishes that all the results regarding the non-
monotonicity of infection probability in testing policy as well as the optimal testing hold true
for asymmetric equilibrium as well.
Proof of Theorem 4: Throughout this proof we use Lemma 2, showing that in any pure-strategy
equilibrium the social activity of agents is either 1 or 0.
Proof of Part (a): Part (a) follows from the fact that for any action profile of other agents x i , it is
optimal for agent i to have xi = 1. This is because

       ui (xi = 1, x i , ↵L , ↵H ) = vi     Pinf
                                             i (xi = 1, x i , ↵L , ↵H )     c(↵L 1{i 2 L} + ↵H 1{i 2 H})

                                                             43
                               (a)
                                            ✓                ◆
                                                       1
                                     vi           vL +             c(↵L 1{i 2 L} + ↵H 1{i 2 H})
                                                       n
                                      1
                                              c(↵L 1{i 2 L} + ↵H 1{i 2 H}) = ui (xi = 0, x i , ↵L , ↵H ),
                                      n

where (a) follow from the definition of set A1 .
   In the rest of the proof we use the following two lemmas.

Lemma 6. There exists M 2 N+ such that for n                       M , in any pure-strategy equilibrium we cannot have
xj = 1 for some j 2 L and xi = 0 for some i 2 H.

   Proof of Lemma 6: To arrive at a contradiction suppose the contrary holds, i.e., xj = 1 for some
j 2 L and xi = 0 for some i 2 H. We prove that agent i has a profitable deviation to xi = 1. This
is because we can write

                 ui (xi = 1, x i , ↵L , ↵H ) = vH                Pinf
                                                                  i (xi = 1, x i , ↵L , ↵H )     c↵H
                                                  (a)
                                                        vH       Pinf
                                                                  j (xj = 1, x j , ↵L , ↵H )       ✏   c↵H
                                                  (b)
                                                                 ✓        ◆
                                                                        1
                                                        vH         vL +       ✏ c↵H
                                                                        n
                                                  (c)    1
                                                   >              c↵H = ui (xi = 0, x i , ↵L , ↵H )
                                                        n

where (a) follows by having sufficiently large n which guarantees that the impact of one agent in
the infection probability of is smaller than ✏, (b) follows from the fact that agent j is playing xj = 1
in equilibrium, and (c) follows by choosing ✏ < vH                       vL . This completes the proof of Lemma 6. ⌅
Lemma 6 shows that high-value agents are always the first ones who connect with others.

Lemma 7. Consider a society of n individuals and let x be an action profile in which                         fraction of high-
value agents are playing 1 and the rest of them are playing 0. For any ✏ > 0, there exists M 2 N+ such that
for n   M we have

                |Pinf
                  j (x, ↵L , ↵H )         Pinf
                                           j (x = 1 , ↵L , ↵H ) |  ✏ for all j such that xj = 1.


   Proof of Lemma 7: The proof of this lemma is similar to the proof of Lemma 3, hence omitted. ⌅
We now proceed with the proof of Theorem 4.
Proof of Part (b): Using Lemma 6, in any equilibrium all high-value agents must have xi = 1. This
is because otherwise a high-value agent i 2 H with xi = 0 has a profitable deviation:

             ui (xi = 1, x i , ↵L , ↵H ) = vH            Pinf
                                                          i (xi = 1, x i , ↵L , ↵H )         c↵H
                                            (a)
                                                  vH     Pinf
                                                          i (xi = 1, xH\{i} , xL = 0, ↵L , ↵H )          c↵H
                                            (b)     1
                                                             c↵H       ui (xi = 0, x i , ↵L , ↵H ),
                                                   n


                                                                  44
where (a) follows from Lemma 6 and (b) follow from (↵L , ↵H ) 2 A2 . Now suppose a fraction
of low-value agents also play 1 and the rest of them play 0. We next establish that we must have
 =    L (↵L , ↵H ).   Letting j, j 0 2 L be such that xj = 1 and xj 0 = 0, this holds because we have

                                                                                        1
                                    Pinf
                                     j (xj = 1, x               j , ↵L , ↵H )      vL +  and
                                                                                        n
                                                                                        1
                                   Pinf
                                    j 0 (xj 0 = 1, x            j 0 , ↵L , ↵H )     vL + .
                                                                                        n

For large enough n the difference between the left-hand sides of the above inequalities is less than
✏. This shows that         is such that with xH = 1 and d |L|e of low-values playing 1 the infection
probability of a low-value agent who plays 1 is                             ✏
                                                                            2   away from vL +       n.
                                                                                                     1
                                                                                                           Finally, note that using
Lemma 7 this infection probability is                  ✏
                                                       2   away from Pl (xl = 1, xL\{l} =                  1, xH = 1) = vL + n1 .
Therefore,    is such that
                                                            ✓               ◆
                                                                     1
                             |Pinf
                               i (x, ↵L , ↵H )                  vL +            |  ✏,    for all i 2 H,
                                                                     n
                                                   ✓                ◆
                                                                1
                         |Pinf
                           j (x, ↵L , ↵H )                 vL +         |  ✏,       for all j 2 L, xj = 1,
                                                                n
and
                                                                 1
                                 Pinf
                                  j (x, ↵L , ↵H ) =                ,        for all j 2 L, xj = 0.
                                                                 n
Therefore, the difference between the expected number of infected individuals in the pure-strategy
equilibrium and the unique symmetric mixed-strategy equilibrium is at most ✏n.
Proof of Part (c): Again, using Lemma 6, in equilibrium either all high-value agents together with
some of low-value agents are playing 1 or a subset of high-value agents are playing 1 or only high
value agents play 1. The former cannot be equilibrium because a low value agent j 2 L has a
profitable deviation:

                                                   1
           uj (xj = 0, x    j , ↵L , ↵H )   =               c↵L
                                                  n
                                            (a)
                                                  vL        Pinf
                                                             j (xj = 1, xH\{j} = 1, xL = 0, ↵L , ↵H )                c↵L
                                            (b)
                                                  vL        Pinf
                                                             j (xj = 1, x          j , ↵L , ↵H )   c↵L ,

where (a) follow from (↵L , ↵H ) 2 A3 and (b) follows from the assumption that in the equilibrium
we started from all high-value agent play 1. Therefore, none of the low-value agents will play 1
in any equilibrium. Moreover, all the high-value agents must play 1 because otherwise if i 2 H is
playing 0, then she has a profitable deviation:

           ui (xi = 1, x i , ↵L , ↵H ) = vH                Pinf
                                                            i (xi = 1, x i , ↵L , ↵H )             c↵H
                                        (a)
                                                  vH        Pinf
                                                             j (xj = 1, xH\{j} = 1, xL = 0, ↵L , ↵H )               c↵H


                                                                       45
                                 (b)   1
                                           c↵H = ui (xi = 0, x i , ↵L , ↵H ),
                                       n

where (a) follows from (↵L , ↵H ) 2 A3 and (b) follows from the assumption that in the equilibrium
we started from a subset of high-value agents play 1. This shows that the unique equilibrium is to
have all high-value agents play 1 and all low-value agents play 0.
Proof of Part (d): The proof of this part follows from a similar argument to part (b). ⌅


References
D. Acemoglu, A. Malekian, and A. Ozdaglar. Network security and contagion. Journal of Economic
  Theory, 166:536–585, 2016.

D. Acemoglu, A. Makhdoumi, A. Malekian, and A. Ozdaglar. Privacy-constrained network for-
  mation. Games and Economic Behavior, 105:255–275, 2017a.

D. Acemoglu, A. Ozdaglar, and A. Tahbaz-Salehi. Microeconomic origins of macroeconomic tail
  risks. American Economic Review, 107(1):54–108, 2017b.

D. Acemoglu, V. Chernozhukov, I. Werning, and M. D. Whinston. A multi-risk SIR model with
  optimally targeted lockdown. Technical report, National Bureau of Economic Research, 2020.

F. E. Alvarez, D. Argente, and F. Lippi. A simple planning problem for covid-19 lockdown. Tech-
  nical report, National Bureau of Economic Research, 2020.

A. Atkeson. What will be the economic impact of covid-19 in the US? rough estimates of disease
  scenarios. Technical report, National Bureau of Economic Research, 2020.

V. Bala and S. Goyal. A noncooperative model of network formation. Econometrica, 68(5):1181–
  1229, 2000.

D. W. Berger, K. F. Herkenhoff, and S. Mongey. An SEIR infectious disease model with testing and
  conditional quarantine. Technical report, National Bureau of Economic Research, 2020.

B. Bernard, A. Capponi, and J. E. Stiglitz. Bail-ins and bail-outs: Incentives, connectivity, and
  systemic stability. Technical report, National Bureau of Economic Research, 2017.

J. R. Birge, O. Candogan, and Y. Feng. Controlling epidemic spread: Reducing economic losses
  with targeted closures. University of Chicago, Becker Friedman Institute for Economics Working
  Paper, (2020-57), 2020.

L. Blume, D. Easley, J. Kleinberg, R. Kleinberg, and E. Tardos. Network formation in the presence
  of contagious risk. In Proceedings of the 12th ACM conference on Electronic commerce, pages
  1–10. ACM, (2011).



                                                 46
B. Bollobás and B. Béla. Random graphs. Number 73. Cambridge university press, 2001.

L. Brotherhood, P. Kircher, C. Santos, and M. Tertilt. An economic model of the covid-19 epidemic:
  The importance of testing and age-specific policies. 2020.

G. Brumfiel. To end the coronavirus crisis we need widespread testing, experts say. NPR, 2020.
  URL       https://www.npr.org/sections/health-shots/2020/03/24/820157519/
  to-end-the-coronavirus-crisis-we-need-widespread-testing-experts-say.

S. BruSoe-Lin and R. Hecht.       To suppress covid-19, we need to test those with no symp-
  toms. The New York Times, 2020. URL https://www.nytimes.com/2020/04/26/opinion/
  coronavirus-test-asymptomatic.html.

A. Capponi. Systemic risk, policies, and data needs. In Optimization Challenges in Complex, Net-
  worked and Risky Systems, pages 185–206. INFORMS, 2016.

R. W. Crandall and J. D. Graham. Automobile safety regulation and offsetting behavior: Some
  new empirical estimates. The American Economic Review, 74(2):328–331, 1984.

S. Currarini, M. O. Jackson, and P. Pin. An economic model of friendship: Homophily, minorities,
  and segregation. Econometrica, 77(4):1003–1045, 2009.

K. Drakopoulos and R. S. Randhawa. Demand control of information products: Why perfect tests
  may not be worth waiting for. Available at SSRN, 2020.

K. Drakopoulos, A. Ozdaglar, and J. N. Tsitsiklis. When is a network epidemic hard to eliminate?
  Mathematics of Operations Research, 42(1):1–14, 2017.

M. S. Eichenbaum, S. Rebelo, and M. Trabandt. The macroeconomics of epidemics. Technical
  report, National Bureau of Economic Research, 2020.

M. Elliott, B. Golub, and M. O. Jackson. Financial networks and contagion. The American eco-
  nomic review, 104(10):3115–3153, 2014.

J. Ely, A. Galeotti, and J. Steiner. Optimal test allocation. Technical report, Mimeo, 2020.

A. Eshragh, S. Alizamir, P. Howley, and E. Stojanovski. Modeling the dynamics of the covid-19
  population in australia: A probabilistic analysis. arXiv preprint arXiv:2005.12455, 2020.

M. Farboodi, G. Jarosch, and R. Shimer. Internal and external effects of social distancing in a
  pandemic. Technical report, National Bureau of Economic Research, 2020.

A. Glover, J. Heathcote, D. Krueger, and J.-V. Rı́os-Rull. Health versus wealth: On the distribu-
  tional effects of controlling a pandemic. Technical report, National Bureau of Economic Re-
  search, 2020.



                                                  47
S. Goyal. Sustainable communication networks. Econometric Institute, Erasmus University Rotter-
  dam, 1993.

M. Jackson. Social and economic networks. 2008. Princeton: Prince-ton University Press. Princeton,
  2008.

M. O. Jackson and A. Wolinsky. A strategic model of social and economic networks. Journal of
  economic theory, 71(1):44–74, 1996.

C. J. Jones, T. Philippon, and V. Venkateswaran. Optimal mitigation policies in a pandemic: Social
  distancing and working from home. Technical report, National Bureau of Economic Research,
  2020.

E. H. Kaplan. Containing 2019-ncov (wuhan) coronavirus. Health care management science, pages
  1–4, 2020.

M. Kasy, A. Teytelboym, et al. Adaptive targeted infectious disease testing. Oxford Review of
  Economic Policy, 2020.

T. E. Keeler. Highway safety, economic behavior, and driving environment. The American Economic
  Review, 84(3):684–693, 1994.

D. Kempe, J. Kleinberg, and É. Tardos. Maximizing the spread of influence through a social net-
  work. Theory OF Computing, 11(4):105–147, 2015.

T. Kruse and P. Strack. Optimal control of an epidemic through social distancing. 2020.

K. Y. Leung, F. Ball, D. Sirl, and T. Britton. Individual preventive social distancing during an
  epidemic may have negative population-level outcomes. Journal of The Royal Society Interface, 15
  (145):20180296, 2018.

B. Lindgren and C. Stuart. The effects of traffic safety regulation in sweden. Journal of Political
  Economy, 88(2):412–427, 1980.

W. Maloney and T. Taskin. Determinants of social distancing and economic activity during covid-
  19: A global view, 2020.

V. Manshadi, S. Misra, and S. Rodilitz. Diffusion in random networks: Impact of degree distribu-
  tion. Operations Research, 2020.

S. Morris. Contagion. The Review of Economic Studies, 67(1):57–78, 2000.

M. E. Newman, S. H. Strogatz, and D. J. Watts. Random graphs with arbitrary degree distributions
  and their applications. Physical review E, 64(2):026118, 2001.

S. Peltzman. The effects of automobile safety regulation. Journal of political Economy, 83(4):677–725,
  1975.

                                                 48
F. Piguillem and L. Shi. Optimal covid-19 quarantine and testing policies. 2020.

T. Searchinger, A. LaMantia, and G. Douglas. Mass testing is the only sustainable solution to the
  coronavirus. Washington Post, 2020. URL https://www.washingtonpost.com/opinions/
  2020/03/23/mass-testing-is-only-sustainable-solution/.

P. Sun, L. Yang, and F. De Véricourt. Selfish drug allocation for containing an international in-
  fluenza pandemic at the onset. Operations Research, 57(6):1320–1332, 2009.

E. Tardos and T. Wexler. Network formation games and the potential function method. Algorith-
  mic Game Theory, pages 487–516, 2007.

F. Toxvaerd. Equilibrium social distancing. 2020.

F. Vega-Redondo. Complex social networks. Number 44. Cambridge University Press, 2007.

S. Wang, F. de Véricourt, and P. Sun. Decentralized resource allocation to control an epidemic: A
  game theoretic approach. Mathematical biosciences, 222(1):1–12, 2009.




                                                49
