                              NBER WORKING PAPER SERIES




                    AN AGGREGATIVE GAMES APPROACH TO
              MERGER ANALYSIS IN MULTIPRODUCT-FIRM OLIGOPOLY

                                        Volker Nocke
                                        Nicolas Schutz

                                      Working Paper 24578
                              http://www.nber.org/papers/w24578


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                    May 2018




We thank seminar participants at the London School of Economics for helpful comments. We
gratefully acknowledge financial support from the Deutsche Forschungsgemeinschaft (DFG)
through CRC TR 224. The first author also thanks the European Research Council (ERC) for
generous financial support through grant no. 313623. The views expressed herein are those of the
authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2018 by Volker Nocke and Nicolas Schutz. All rights reserved. Short sections of text, not to
exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.
An Aggregative Games Approach to Merger Analysis in Multiproduct-Firm Oligopoly
Volker Nocke and Nicolas Schutz
NBER Working Paper No. 24578
May 2018
JEL No. D43,L13,L40

                                          ABSTRACT

Using an aggregative games approach, we analyze horizontal mergers in a model of
multiproduct-firm price competition with nested CES or nested logit demands. We show that the
Herfindahl index provides an adequate measure of the welfare distortions introduced by market
power, and that the induced change in the naively-computed Herfindahl index is a good
approximation for the market power effect of a merger. We also provide conditions under which
a merger raises consumer surplus, and conditions under which a myopic, consumer-surplus-based
merger approval policy is dynamically optimal. Finally, we study the aggregate surplus and
external effects of a merger.


Volker Nocke
Department of Economics
University of California at Los Angeles
8283 Bunche Hall
Los Angeles, CA 90095
and NBER
volker.nocke@gmail.com

Nicolas Schutz
Department of Economics, University of Mannheim
L7, 3-5 (3rd floor, Office 3-10)
68131 Mannheim, Germany
nicolas.schutz@gmail.com
An Aggregative Games Approach to Merger Analysis in
            Multiproduct-Firm Oligopoly∗
                              Volker Nocke†                 Nicolas Schutz‡
                                               May 1, 2018



                                                  Abstract
            Using an aggregative games approach, we analyze horizontal mergers in a model
        of multiproduct-firm price competition with nested CES or nested logit demands. We
        show that the Herfindahl index provides an adequate measure of the welfare distortions
        introduced by market power, and that the induced change in the naively-computed
        Herfindahl index is a good approximation for the market power effect of a merger. We
        also provide conditions under which a merger raises consumer surplus, and conditions
        under which a myopic, consumer-surplus-based merger approval policy is dynamically
        optimal. Finally, we study the aggregate surplus and external effects of a merger.
        Keywords: Multiproduct firms, aggregative game, oligopoly pricing, market power,
        horizontal merger, Herfindahl index.


1       Introduction
Using an aggregative games approach, we provide an analysis of horizontal mergers in a mo-
del of multiproduct-firm price competition with nested CES (NCES) or nested multinomial
logit (NMNL) demand systems. The paper makes three contributions. First, we show that
the Herfindahl index, which plays an important role in antitrust practice, provides an ade-
quate measure of the welfare distortions introduced by market power, and that the induced
change in the (naively-computed) Herfindahl index is a good approximation for the market
power effect of a merger. Second, we provide conditions under which a merger raises consu-
mer surplus, and conditions under which a myopic, consumer-surplus-based merger approval
    ∗
      Some of the results presented in this paper were previously part of the working-paper version of Nocke and
Schutz (2018). That paper was later split and the published version does not contain those results. We thank
seminar participants at the London School of Economics for helpful comments. We gratefully acknowledge
financial support from the Deutsche Forschungsgemeinschaft (DFG) through CRC TR 224. The first author
also thanks the European Research Council (ERC) for generous financial support through grant no. 313623.
    †
      University of California, Los Angeles; NBER; and CEPR. Email: volker.nocke@gmail.com.
    ‡
      University of Mannheim. Email: schutz@uni-mannheim.de.


                                                       1
policy is dynamically optimal. Third, we study the aggregate surplus and external effects of
a merger.
    Almost all mergers involve multiproduct firms. This is reflected in the literature on
merger simulation (e.g., Hausman, Leonard, and Zona, 1994; Werden and Froeb, 1994; Nevo,
2000a; Peters, 2006; Miller and Weinberg, 2017) and in the literature on the upward-pricing
pressure of mergers (e.g., Werden, 1996; Goppelsroeder, Schinkel, and Tuinstra, 2008; Farrell
and Shapiro, 2010; Jaffe and Weyl, 2013), both of which have heavily influenced antitrust
practice. Despite this, much of the theoretical literature on horizontal mergers and antitrust,
including Farrell and Shapiro (1990), McAfee and Williams (1992), and Nocke and Whinston
(2010, 2013), has focused on single-product firms in the homogeneous-goods Cournot setting.
An open question is to what extent the insights derived in that earlier literature carry over
to more realistic models of price competition with multiproduct firms.1
    There are several desiderata for a flexible model of horizontal mergers and merger control:
First, the underlying demand system should have sound micro-foundations and allow for
flexible substitution patterns. Second, the model should allow for arbitrary firm and product
heterogeneity (e.g., in terms of marginal costs, qualities, size of product portfolios). Third,
the underlying oligopoly game should be tractable and give rise to a unique equilibrium.
Fourth, the model should permit rich forms of merger-specific synergies (e.g., marginal cost
reductions, quality improvements, new products). Finally, for the model to be useful for
antitrust practitioners, its predictions should ideally relate to easily observable sufficient
statistics such as firm-level market shares and concentration ratios.
    In this paper, we develop a model that, despite its limitations, goes a long way to-
wards satisfying these desiderata. The competitive setting underlying our merger analysis
is a game of price competition with multiproduct firms and NCES/NMNL demands. This
class of demand systems has discrete/continuous choice micro-foundations and, through its
nest structure, allows for substitution patterns that go beyond those of the independence-
of-irrelevant-alternatives (IIA) property. Indeed, variants of this class are ubiquitous in the
empirical industrial organization literature (e.g., Berry, 1994; Berry, Levinsohn, and Pakes,
1995; Goldberg, 1995; Verboven, 1996; Goldberg and Verboven, 2001; Nevo, 2001; Björner-
stedt and Verboven, 2016). We allow quality and marginal costs to differ arbitrarily across
products, and firms to own the property rights over arbitrary collections of nests of pro-
ducts. The assumption that each nest is entirely owned by one firm implies that competition
between firms takes place across nests, and not within nests.
    The NCES/NMNL demand specification, in conjunction with our restriction on the ow-
nership structure of nests, gives rise to an aggregative game: Each firm’s profit depends on
rival firms’ prices only through a single-dimensional aggregator. In equilibrium, each firm
   1
    For instance, Whinston (2007) notes: ‘[...] the Farrell and Shapiro analysis is based on the strong
assumption that market competition takes a form that is described well by the Cournot model, both before
and after the merger. [...] There has been no work that I am aware of extending the Farrell and Shapiro
approach to other forms of market interaction. The papers that formally study the effect of horizontal mergers
on price and welfare in other competitive settings [...] all assume that there are no efficiencies generated by
the merger.”


                                                      2
charges the same markup—the relative markup under NCES demand and the absolute mar-
kup under NMNL demand—for each of its products. Moreover, type aggregation obtains: All
relevant information about a firm’s product portfolio (the number of nests, the numbers of
products within the various nests, as well as the qualities and marginal costs of the products)
can be summarized in a single-dimensional sufficient statistic—the firm’s “type.” Building
on the aggregative games approach taken in Nocke and Schutz (2018), we show that there
exists a unique pricing equilibrium, with intuitive comparative statics. The resulting levels of
consumer surplus and aggregate surplus can be expressed as functions of firms’ equilibrium
market shares.
    At the heart of the review of a horizontal merger by an antitrust authority is the Wil-
liamson (1968) trade-off between the merger’s market power effect (which is due to the
internalization of pricing externalities post merger) and its efficiency effect (which is due to
potential merger-specific synergies). In our model, merger-induced synergies can take many
forms: Some of the marginal costs of the merged firms’ products may go down (while those of
other may go up); some of the products’ qualities may improve (while others may degrade);
and the merged entity may offer new products (while possibly withdrawing others). The type
aggregation property allows us to refrain from imposing any restrictions on the nature of the
synergies as all relevant information can be summarized in the merged firm’s post-merger
type.
    The Herfindahl index (HHI) is often used to quantify market power. Using the out-
come under monopolistic competition as the appropriate competitive benchmark in our
differentiated-products setting, we show that the Herfindahl index provides an adequate
measure of the welfare distortions introduced by market power. Specifically, using a Tay-
lor approximation, we show that the difference in the outcomes of our welfare measures
(consumer surplus and aggregate surplus) under oligopoly and monopolistic competition is
proportional to the Herfindahl index.
    The Herfindahl index also plays important role in merger control.2 Defining the market
power effect of a merger as its effect in the absence of synergies, we use a Taylor approx-
imation to show that the market power effect on consumer surplus and aggregate surplus
is proportional to the naively-computed, merger-induced variation in the Herfindahl index.
Our results thus provide some justification for the use of the Herfindahl index in antitrust
practice.
    We also provide an analysis of the consumer surplus effects of mergers that does not rely
on approximations. We show that, for any merger, there exists a unique cutoff such that the
merger increases consumer surplus if the post-merger type is above that cutoff, and decreases
consumer surplus if it is below. As in the homogeneous-goods Cournot model (Farrell and
Shapiro, 1990), for a merger to increase consumer surplus it must involve synergies. Moreover,
the required synergies are larger the less competitive is the market pre-merger and the larger
   2
     For instance, in the U.S. Horizontal Merger Guidelines, the pre-merger Herfindahl index and the “naively-
computed” merger-induced change in the Herfindahl index are proposed as indicators of the “likely compe-
titive effects of a merger.”


                                                      3
are the merging parties. This suggests that mergers inducing a larger increase in the naively-
computed Herfindahl index should indeed receive additional scrutiny.
    Embedding the static pricing game in a dynamic model in which merger opportunities
arise stochastically over time and, in every period, firms involved in feasible but not-yet-
approved mergers have to decide whether to propose their merger, and the antitrust authority
has to decide which (if any) of the proposed mergers to approve, we show that a completely
myopic merger approval policy is dynamically optimal. This extends the main insight of
Nocke and Whinston (2010), derived in a homogeneous-goods Cournot setting, to the case
of differentiated-products price competition with NCES or NMNL demands.
    Turning to the aggregate surplus effects of mergers, we show that there also exists a post-
merger cutoff type above which a merger increases aggregate surplus, and below which it
decreases aggregate surplus.3 That cutoff type is lower than the one for a consumer surplus
standard: For a merger to increase aggregate surplus requires fewer synergies than for it to
increase consumer surplus, and may not require any synergies at all.
    Building on Farrell and Shapiro (1990)’s analysis of the homogeneous-goods Cournot
setting, we also study the external effect of a merger, defined as the sum of the effect on con-
sumer surplus and the non-merging firms’ profits. The aggregative properties of our oligopoly
model allow us to decompose a merger into a sequence of infinitesimal mergers, where, along
the sequence, the value of the aggregator increases continuously from its pre-merger to its
post-merger equilibrium value. Building on this insight, we show that a consumer-surplus-
decreasing merger is more likely to have a positive external effect if the non-merging firms
command larger pre-merger market shares and if these pre-merger market shares are more
concentrated.4 We also provide a simple and easily-implementable test to check whether a
consumer-surplus-decreasing merger has a positive external effect. That test only requires
knowledge of the pre-merger market shares and of a demand elasticity parameter.
    Our paper is related to several strands of literature. In a diagrammatic analysis of a
merger from perfect competition to monopoly, Williamson (1968) was the first to identify
the welfare trade-off between the market power effect of a merger and its efficiency effect.
Farrell and Shapiro (1990) provide a thorough analysis of this trade-off in a homogeneous-
goods Cournot model. They provide a necessary and sufficient condition for a merger to
increase consumer surplus, and sufficient conditions for the external effect of a merger to be
positive. In a dynamic setting with endogenous merger proposals (and approvals), Nocke
and Whinston (2010) study the dynamic optimality of a myopic, consumer-surplus-based
merger approval policy in a homogeneous-goods Cournot model. In Sections 4 and 5.2, we
extend Farrell and Shapiro (1990) and Nocke and Whinston (2010)’s analysis to the case of
  3
      An analogous result is unavailable in the homogeneous-goods Cournot model.
  4
      The converse holds if the merger under consideration is consumer-surplus-increasing.




                                                      4
differentiated-goods price competition with multiproduct firms.5,6,7
    The literature on upward pricing pressure, pioneered by Werden (1996), attempts to
operationalize the Williamson (1968) trade-off using information local to the pre-merger
equilibrium. Werden (1996) considers a merger between two single-product firms competing
in prices and, using pre-merger markups, diversion ratios and prices as primitives, computes
the critical level of synergies that makes the merger price-reducing. Goppelsroeder, Schinkel,
and Tuinstra (2008) extend this approach to mergers among multiproduct firms under price
or quantity competition. Farrell and Shapiro (2010) provide guidance on how to implement
upward pricing pressure tests in practice. Using a Taylor approximation around zero upward
pricing pressure in a multiproduct-firm setting, Jaffe and Weyl (2013) formalize Farrell and
Shapiro (2010)’s intuition that local information on pass-through rates can be combined with
upward pricing pressure indices to obtain the likely price effect of a merger. The approxi-
mation results we provide in Section 3.3 are of a different nature; those results are obtained
around small market shares or around monopolistic competition conduct and relate explicitly
the market power effect of a merger to easily-observable concentration ratios. We also derive
exact conditions on the consumer surplus and aggregate surplus effects of mergers. Finally,
in contrast to the literature on upward pricing pressure, we allow synergies to materialize
not only through marginal cost reductions, but also through quality improvements and new
products.
    The Herfindahl index is a key sufficient statistic in our approximation results in Section 3.
In previous work on the homogeneous-goods Cournot model, the Herfindahl index has been
shown to provide a measure of an industry’s average markup and profitability; see, for in-
stance, Cowling and Waterson (1976), and Belleflamme and Peitz (2010) for a textbook
treatment.8 We are, however, aware of only few results linking the Herfindahl index to indu-
stry performance measures in models of differentiated-products industries. In a model with
CES preferences and price or quantity competition, Grassi (2017) relates the industry average
markup to the Herfindahl index. In Feenstra and Weinstein (2017)’s model with translog
preferences, the representative consumer’s indirect utility depends on the Herfindahl index
both directly, due to translog preferences, and indirectly, due to endogenous markups. To
the best of our knowledge, our paper is the first to link explicitly the market power distor-
   5
     A separate, less-related strand of literature studies the profitability of mergers in the absence of merger-
specific synergies (Salant, Switzer, and Reynolds, 1983; Perry and Porter, 1985; Deneckere and Davidson,
1985). Another literature, pioneered by Kamien and Zang (1990), studies the limits of monopolization
through mergers in the absence of antitrust policy.
   6
     A recent literature focuses on the effects of mergers and merger policy on investment and innovation
(e.g., Gowrisankaran, 1999; Mermelstein, Nocke, Satterthwaite, and Whinston, 2014; Motta and Tarantino,
2017; Federico, Langus, and Valletti, 2018; Bourreau, Jullien, and Lefouili, 2018).
   7
     Anderson, Erkal, and Piccinin (2013) use an aggregative games approach to study an oligopoly model
with single-product firms under price or quantity competition. They show that a merger without synergies
lowers consumer surplus in the short run. In the long-run free-entry equilibrium, ignoring integer constraints,
such a merger does not affect consumer surplus.
   8
     Dansby and Willig (1979) show that, in the homogeneous-goods Cournot model, the industry performance
gradient index, which measures the rate of potential improvement in aggregate surplus from a small variation
in the output vector, is proportional to the square root of the Herfindahl index.


                                                       5
tion to consumer surplus and aggregate surplus to the Herfindahl index, and to show that
the market power effect of a merger is approximately proportional to the naively-computed,
merger-induced variation in that index.
    The remainder of the paper is organized as follows. In Section 2, we introduce the
oligopoly model and solve it using aggregative games techniques. There, we also show that
the type aggregation property permits a tractable analysis of mergers in multiproduct-firm
oligopoly. Section 3 shows that the Herfindahl index provides an adequate approximation
of the welfare distortion from oligopolistic behavior, and that the merger-induced, naively
computed variation in the Herfindahl index approximates the market power effect of a merger.
Our results on the consumer surplus effects of mergers, in both static and dynamic settings,
are derived in Section 4. Section 5 presents our results on the aggregate surplus and external
effects of mergers. Section 6 concludes.


2         Mergers in Multiproduct-Firm Oligopoly
In this section, we present the oligopoly model that will serve as a workhorse throughout
the paper. We describe the model in Section 2.1. Section 2.2 introduces the important
benchmark of monopolistic competition. We solve the oligopoly model using aggregative-
games techniques in Section 2.3. Section 2.4 uses the type aggregation property to simplify
the treatment of mergers among multiproduct firms.


2.1         The Oligopoly Model
Consider an industry with a set N of imperfectly substitutable products. Each product
belongs to a nest of products; the set of nests is denoted L, a partition of N . Products
within the same nest are viewed by consumers as closer substitutes with each other than
products in different nests. Specifically, the representative consumer’s indirect subutility
function is given by                                           !β 
                                               X X
                         V (p) = V0 log H 0 +          hj (pj )  ,
                                                      l∈L   j∈l

where V0 > 0 is a market size parameter, 0 < β ≤ 1 is a parameter measuring the substitu-
tability of products within nests relative to that across nests,9 H 0 ≥ 0 is a baseline-utility
parameter, and                    (       a −p 
                                   exp j λ j     in the case of NMNL,
                       hj (pj ) =
                                   aj pj1−σ      in the case of NCES.
The parameter aj > 0, j ∈ N , summarizes vertical product characteristics, and will be
referred to as the quality of product j; σ > 1 and λ > 0 measure the substitutability of
products within nests.
    9
        If β = 1, the nest structure is irrelevant.


                                                      6
       Defining the nest- and industry-level aggregators
                                       X
                            Hl (pl ) =   hj (pj ), where pl ≡ (pj )j∈l ∀l ∈ L,
                                       j∈l
                                             X
                         and H(p) = H 0 +           (Hl (pl ))β
                                              l∈L


allows us to rewrite the consumer’s indirect utility as V (p) = V 0 log H(p).
    Applying Roy’s identity, we obtain the demand for product i in nest l:

                                               −h0i (pi ) hi (pi ) Hl (pl )β
                                 Di (p) = V0 β
                                               hi (pi ) Hl (pl ) H(p)
                                                   −h0i (pi )
                                        = V0 β                     .                                  (1)
                                               Hl (pl )1−β H(p)

As shown in Nocke and Schutz (2018), demand system (1) can alternatively be derived
from discrete/continuous choice.10 With such a micro-foundation, V0 β is the total number
of consumers, Hlβ /H is the probability that a given consumer chooses nest l, hi /Hl is the
probability that a consumer picks product i conditional on having chosen nest l, and −h0i /hi is
the number of units of product i a consumer purchases conditional on having chosen product
i.11 Moreover, (log H 0 )/β is the value of the outside option. In the remainder of the paper,
we normalize V0 to 1.
    Each product i ∈ N has constant marginal cost of production ci > 0. There is a set F
of firms, which we assume to be a partition of L. That is, each firm has property rights over
the production of all products within one or more nests. This assumption is for tractability:
If we allowed different products within the same nest to be offered by different firms, and
firms to own products in more than one nest, we would be unable to use the aggregative
games approach explored in this paper. This assumption has the following implications for
substitution patterns: For every triple of (distinct) products (i, j, k), ∂(Di /Dj )/∂pk = 0
whenever product k is owned neither by the firm that produces good i, nor by the firm that
produces good j. One way to interpret this restriction is that each firm owns one or several
brands (nests), with products being closer substitutes within a brand than across brands.12
    The economic environment can thus be summarized by the tuple (N , L, F, (aj )j∈N , (cj )j∈N )
along with nest parameter β, and elasticity parameters σ under NCES and λ under NMNL.
  10
      Anderson, de Palma, and Thisse (1987) are the first to provide a micro-foundation for the non-nested
CES demand system.
   11
      Under NMNL demand, −h0i /hi , the conditional demand for product i, is constant and equal to 1/λ;
under NCES demand, it is equal to (σ − 1)/pi .
   12
      In recent work, Hottman, Redding, and Weinstein (2016) structurally estimate a model of price compe-
tition with multiproduct firms, where each firm owns one nest of products.




                                                      7
The profit of firm f ∈ F is given by
                                                      XX
                                             Πf =               (pi − ci )Di (p).
                                                      l∈f i∈l


Firms compete by simultaneously setting the prices of all of their products. We seek the
Nash equilibrium of this multiproduct-firm pricing game. Aggregate surplus is the sum of
consumer surplus, log H, and industry-level profits, f ∈F Πf .
                                                    P

   Firms’ market shares will play an important role in our analysis. We define the market
share of firm f as
                                           X (Hl )β
                                      f
                                     s =             .
                                           l∈f
                                                 H

In the discrete/continuous choice micro-foundation mentioned above, sf corresponds to the
probability that any given consumer chooses one of firm f ’s products. Moreover, sf is equal
to firm f ’s market share in volume under NMNL, and to firm f ’s market share in value under
NCES.13 In both cases, the firms’ market shares add up to 1 − H 0 /H, where H 0 /H is the
market share of the outside option, as is standard in the literature on demand estimation
(see, e.g., Berry, Levinsohn, and Pakes, 1995; Nevo, 2001).14


2.2        The Monopolistic Competition Benchmark
Before analyzing the oligopoly model, it is instructive to consider first the monopolistic
competition benchmark. Under monopolistic competition, firms do not internalize the impact
of their behavior on the industry aggregator H, i.e., they behave as if ∂H/∂pi = 0 for every
i ∈ N.
    Under this behavioral assumption, the first-order condition of profit maximization for
product i ∈ n ∈ f is given by
                                                                         0 
                                                         P
               Hnβ−1                                      j∈n (pj − cj )hj
                     
                          0             00          ∂H n
                       −hi − (pi − ci )hi + (1 − β)                          = 0,
                 H                                  ∂pi        Hn
  13
       Under NMNL, firm f ’s market share in volume is given by
                                                                               
                                   P        β−1 P         0
                                                                P     β−1 P
               λ XX                   l∈f Hl      j∈l (−hj )     l∈f Hl    j∈l hj
                        Dj (p) = λ                            =                     = sf ,
               β                               H                        H
                     l∈f j∈l

whereas, under NCES, its market share in value is
                                                                P                                    P        
                                                  P    β−1                    0
                                                                                            P    β−1
            1       XX                       1    l∈f Hl            j∈l pj (−hj )           l∈f Hl      j∈l hj
                              pj Dj (p) =                                               =                            = sf .
         β(σ − 1)                           σ−1                 H                                 H
                    l∈f j∈l


  14           f
       P
    If   f ∈F s < 1, then our definition of market shares does not coincide with that used by antitrust
practitioners. See Nevo (2000b) for guidance on how to compute the market share of the outside option, and
therefore how to implement our definition in practice.


                                                                8
which can be rewritten as
                                                                     − cj )(−h0j )
                                                           P
                           pi − ci pi h00i                 j∈n (pj
                                           = 1 + (1 − β)                           .                (2)
                              pi −h0i                                Hn

If β = 1 (i.e., in the absence of nests), we immediately obtain that firm f sets the Lerner
index of product i equal to the reciprocal of the perceived price elasticity of demand. Under
CES demand, that elasticity is equal to σ; under MNL demand, it is equal to pi /λ.
       If β < 1, firm f internalizes self-cannibalization effects within its own nests, and it
optimally sets a Lerner index that exceeds that in the absence of nests. Note that, if β < 1,
pi h00i /(−h0i ) is no longer the perceived price elasticity of demand; instead, it is equal to the
perceived price elasticity of product i when firm f ignores the impact of pi on the nest-level
aggregator Hn (i.e., when ignoring self-cannibalization effects).
       Following Nocke and Schutz (2018), we call the left-hand side of equation (2) the ι-markup
on product i. As the right-hand side is the same for every i ∈ n, firm f charges the same
ι-markup, µ̃n > 1, for each product i in nest n. Under NCES demand, this implies that
the Lerner index of product i is equal to µ̃n /σ, whereas under NMNL demand, the absolute
markup pi − ci is equal to µ̃n λ.
       Using the common ι-markup property within nest n, the sum on the right-hand side of
equation (2) can be written as:

      X                      X pj − cj h00j (h0j )2        X (h0j )2          X
                       0
          (pj − cj )(−hj ) =                        = µ̃ n           = α̃µ̃ n     hj = α̃µ̃n Hn ,   (3)
      j∈n                    j∈n
                                  pj −h0j h00j             j∈n
                                                               h00j           j∈n


where α̃ = (σ − 1)/σ < 1 under NCES demand and α̃ = 1 under NMNL demand. Equation
(2) therefore boils down to
                                           1
                               µ̃n =               ≡ µmc .                    (4)
                                     1 − α̃(1 − β)
As µmc does not depend on the identity of nest n nor on the identity of firm f , the monopo-
listically competitive ι-markup µmc is the same for each product i ∈ N .15


2.3       Equilibrium Analysis
We now turn to the equilibrium analysis of our multiproduct-firm pricing game. This requires
adapting the aggregative-games approach taken in Nocke and Schutz (2018, Section 5), where
each firm is restricted to own only a single nest.
 15
      The resulting markups are:
                   pi − ci           1
                           =                                     (under NCES demand),
                      pi     σ − (σ − 1)(1 − β)
                             λ
                   pi − ci =                                    (under NMNL demand).
                             β




                                                    9
    The first-order condition of profit maximization for product i in nest n owned by firm f
is given by

                                        ∂Hn j∈n (pj − cj )h0j
                                            P
  Hnβ−1
          
             0              00
           −hi − (pi − ci )hi + (1 − β)
   H                                    ∂pi      Hn
                                                                                               !
                                                         H 1−β ∂H X β−1 X
                                                        + n        H        (pj − cj )h0j          = 0.
                                                          H ∂pi l∈f l   j∈l


The last term on the left-hand side of the equation, which is absent under monopolistic
competition, captures the impact of the price change through the aggregator H. Simplifying
and rearranging terms, we obtain
                                                    0
                                  P
    pi − ci pi h00i                j∈n (pj − cj )(−hj )     1 X β−1 X
                    = 1 + (1 − β)                       + β      H      (pj − cj )(−h0j ). (5)
       pi −h0i                            Hn                H l∈f l j∈l


    Hence, despite the additional term on the right-hand side of the equation, firm f continues
to charge the same ι-markup on every product i in nest n. That is, there exists µ̃n > 1 such
that
                                       pi − ci pi h00i
                                                       = µ̃n
                                          pi −h0i
for every i ∈ n.
    Using the common ι-markup property within each nest l as well as equation (3), equa-
tion (5) can be rewritten as

                                                                1 X l β
                            µ̃n (1 − α̃(1 − β)) = 1 + α̃β             µ̃ Hl ,                         (6)
                                                                H l∈f

which immediately implies that µ̃n = µ̃n0 ≡ µ̃f for every n, n0 ∈ f . Firm f therefore applies
the same ι-markup µ̃f to all the products in its portfolio. Using this common ι-markup
property, both within and across nests, equation (6) simplifies to

                                                                    Hlβ
                                                            P
                      f                                 f   l∈f
                     µ̃ (1 − α̃(1 − β)) = 1 + α̃β µ̃                      = 1 + α̃β µ̃f sf .          (7)
                                                                H
Define the elasticity measure α ≡ α̃β/(1 − α̃(1 − β)), and note that α < 1 under NCES and
α = 1 under NMNL. Using equation (7), we can decompose firm f ’s ι-markup as follows:

                                                 1           1
                                   µ̃f =                            .
                                           1 − α̃(1 − β) |1 −{zαsf}
                                           |     {z    }
                                                =µmc            ≡µf


That is, under oligopoly, firm f ’s ι-markup µ̃f is the product of the monopolistically com-
petitive ι-markup µmc and a market power factor, the normalized markup µf > 1. As µf is

                                                   10
increasing in sf , this decomposition reveals that firms with larger market shares have more
market power, and therefore set higher ι-markups.
    Equations (3) and (7) yield a simple formula for firm f ’s equilibrium profit:

                                             Πf = α̃β µ̃f sf = µf − 1.                                   (8)

   Next, we express firm f ’s market share as a function of the industry-level aggregator H
and firm f ’s normalized markup µf . Under NCES,
                                                       1−σ !β
                            1 X   X            σ
                       sf =           aj             cj         ,
                            H l∈f j∈l        σ − µ̃f
                                               !β
                            1 X X 1−σ                               α̃β
                          =           aj c j        1 − (1 − α̃)µ̃f 1−α̃ ,
                            H l∈f j∈l
                              |      {z         }
                                                 ≡T f
                                   f
                               T               α
                           =     1 − (1 − α)µf 1−α .
                               H
Under NMNL,
                                                      !β                             !β
     f  1 X X           aj − c j      f                        1 X X           aj − c j
    s =           exp            − µ̃                        =           exp                exp(−µf ).
        H l∈f j∈l          λ                                   H l∈f j∈l          λ
                                                                 |          {z            }
                                                                             ≡T f


We call T f firm f ’s type. As we shall see below, that uni-dimensional sufficient statistic
aggregates all the relevant information about firm f ’s product portfolio—the type aggregation
property.
   The above analysis implies that, if H is an equilibrium aggregator level, then firm f ’s
markup and market share µf and sf jointly solve the following system of equations:

                               1
                    µf =           ,                                                                     (9)
                           1 − αsf
                           ( f
                             T
                                               α
                                 1 − (1 − α)µf 1−α                in the case of NCES,
                    sf =     H
                             Tf
                                                                                                     (10)
                                       −µf
                               H
                                   e                              in the case of NMNL.

It is straightforward to show that this system has a unique solution (m(T f /H), S(T f /H)). We
call m(T f /H) and S(T f /H) the firm’s markup fitting-in function and market-share fitting-in
function, respectively. Both fitting-in functions are increasing, m0 > 0 and S 0 > 0, i.e., a firm
that has a higher type and operates in a less competitive environment (lower H) sets a higher
markup and commands a higher market share; moreover, the range of S is the entire interval
(0, 1). Using equation (8), we obtain the profit fitting-in function π(T f /H) = m(T f /H) − 1.


                                                             11
       The equilibrium aggregator level is pinned down by the equilibrium condition

                                     H0 X
                                                    f
                                                    T
                                          +      S      = 1,                                                 (11)
                                      H     f ∈F
                                                    H

which says that market shares add up to unity. The continuity and monotonicity properties
of S along with the fact that S has full range imply that equation (11) has a unique solution,
establishing equilibrium existence and uniqueness.
    We summarize these insights in the following proposition:
Proposition 1. The multiproduct-firm pricing game has a unique equilibrium. The equili-
brium aggregator level H ∗ is the unique solution of equation (11). In equilibrium, firm f ∈ F
sets a markup of m(T f /H ∗ ), commands a market share of S(T f /H ∗ ), and earns a profit of
π(T f /H ∗ ).
Proof. The only thing left to prove is that first-order conditions are necessary and sufficient
for global optimality. This is done in Appendix A.

   The following proposition, which follows immediately from Nocke and Schutz (2018),
provides intuitive comparative statics:
Proposition 2 (Nocke and Schutz, 2018, Proposition 6). An increase in T f raises firm f ’s
equilibrium markup m(T f /H ∗ ), market share S(T f /H ∗ ), and profit π(T f /H ∗ ), reduces firm
g 6= f ’s equilibrium markup m(T g /H ∗ ), market share S(T g /H ∗ ), and profit π(T g /H ∗ ), and
raises consumer surplus and aggregate surplus.

The Monopolistic Competition Limit. In the monopolistic competition outcome stu-
died in Section 2.2, each firm f sets a normalized markup µf of one. In the oligopoly model
studied here, this outcome arises in the limit as firms’ market shares tend to zero, that is,
when firms become atomless. Such a limiting outcome can be obtained by infinitely repli-
cating the population of firms, or by making the value of the outside option, H 0 , go to
infinity.

Firm Conduct. Some of the approximation results derived in Section 3 will require brid-
ging the gap between monopolistic competition conduct and fully-fledged “Bertrand-Nash”
conduct. Specifically, let θ ∈ [0, 1] be a conduct parameter, and assume that each firm belie-
ves that the impact of pi , i ∈ N , on the aggregator is θ∂H/∂pi instead of ∂H/∂pi , i.e., firms
internalize their impact on the aggregator only to a certain extent.16
    The analysis proceeds along the same lines as Section 2.3 (see Appendix D.1 for details).
There exists a unique equilibrium aggregator level H ∗ (θ). It is easy to see that H ∗ (θ), m(·, θ),
  16
    Our treatment of firm conduct is closely related to the classical approach under quantity competition
with homogeneous products surveyed by Bresnahan (1989). In Bresnahan (1989), a firm conjectures that the
price sensitivity of the inverse demand function P (·) is θP 0 (·) instead of P 0 (·). The special cases of perfect
competition and Cournot-Nash conducts arise respectively when θ = 0 and θ = 1.


                                                        12
S(·, θ), and π(·, θ) all tend to their value under monopolistic competition as θ tends to 0, and
to their value under fully-fledged oligopoly as θ tends to 1.17


2.4     Modeling Mergers
Consider a merger between the firms M ( F, and let O ≡ F \ M be the set of non-
merging firms—the outsiders. The post-merger economic environment can be summarized
by the tuple (N , L, F, (aj )j∈N , (cj )j∈N ) along with the pre-merger nest parameter β, and the
pre-merger elasticity parameters σ under NCES and λ under NMNL.
   We assume that the merger does not directly affect the outsiders. Formally, this means
that: For every f ∈ O and l ∈ f , the nest l is contained in N ; for every f ∈ O and l ∈ f , the
nest l belongs to L; for every i ∈ l ∈ f ∈ O, we have ai = ai and ci = ci . These assumptions
imply that the post-merger type of each outsider       f ∈ O is equal to its pre-merger type, T f .
                                                         S      S
   The merged firm M is defined as M = L \                 f ∈O   l∈f {l} . The post-merger set of
firms is therefore F = {M } ∪ O. We allow for the possibility that the merger affects the
merging firms’ set of products by adding or dropping products (including entire nests) as well
as the marginal costs and qualities of their pre-existing products. Formally, this means that
we do not impose any condition
                                 on the relationship between the merging firms’ pre-merger
            S      S
products,     f ∈M   l∈f {l} , and the merged firm’s post-merger products, M , implying no
restriction on the relationship between the merged firm’s type, T M , and the merger partners’
pre-merger types, (T f )f ∈M .
    Our aggregative-games tools and the type aggregation property deliver important benefits
in terms of tractability, as they allow us to view a merger as an event that turns the pre-
merger type vector (T f )f ∈F into (T M , (T f )f ∈O ) (rather than an event that turns the pre-
merger economic environment (N , L, F, (aj )j∈N , (cj )j∈N ) into (N , L, F, (aj )j∈N , (cj )j∈N )).
    A special case of interest
                               arises when the merger does not involve any synergies, so that
                                                                                   M
                                                                                     = f ∈M T f .
        S      S                                                                         P
M=        f ∈M   l∈f {l} , aj = aj and cj = cj for all j ∈ l ∈ M , implying that T
We say that the merger involves synergies if T M > f ∈M T f .
                                                         P



3      The Herfindahl Index and Market Power
In antitrust practice, the Herfindahl index (HHI), defined as
                                                X f 2
                                  HHI (sf )f ∈F ≡     (s ) ,
                                                           f ∈F


is often used to gauge the extent of market power in an industry as well as the potential
market power effect of a merger (see, e.g., the 2010 U.S. Horizontal Merger Guidelines). The
  17
    Our results on mergers in Section 4 and 5 are all stated and proved in the case of Bertrand-Nash conduct
(θ = 1). Our aggregative-games techniques can easily be applied to generalize those results to the case where
θ ∈ (0, 1].


                                                     13
presumption is that there is more market power in industries where the Herfindahl index is
larger, and the market power effect tends to be larger when (i) the pre-merger Herfindahl
index is larger and (ii) the merger-induced increase in the Herfindahl index is larger.
    In this section, we provide theoretical support for this presumption. Specifically, we
derive approximation results that show that this index is an adequate measure of the welfare
distortions introduced by market power. Using similar approximation techniques, we also
show that the naively-computed change in the Herfindahl index induced by a merger is an
appropriate measure of the market power effect of the merger. To prove these results, we
first relate measures of industry performance to the equilibrium market share vector. Such
an analysis is useful for antitrust practice as market shares are often readily available while
firms’ types are not.


3.1     Market Shares and Welfare
Let (sf )f ∈F be the profile of equilibrium market shares. Assume that consumers have access to
an outside option (H 0 > 0), so that f ∈F sf < 1. Equation (11) implies that the equilibrium
                                         P

aggregator level H ∗ is equal to H 0 /(1 − f ∈F sf ). As shown in Anderson and Nocke (2014),
                                            P

this implies that consumer surplus can be written as a function of market shares:18
                                                                    !
                                                               X
                            CS (sf )f ∈F = log H 0 − log 1 −     sf .
                                         
                                                                                          (12)
                                                                    f ∈F


   As firm f ’s equilibrium profit is µf −1 and µf = 1/(1−αsf ), the same holds for aggregate
surplus:                                                    !
                                                     X         X αsf
                  AS (sf )f ∈F = log H 0 − log 1 −        sf +
                              
                                                                           f
                                                                             .
                                                     f ∈F      f ∈F
                                                                    1 − αs

   Note that both consumer surplus and aggregate surplus are increasing in the vector of
market shares. Moreover, by convexity of s 7→ s/(1 − αs), a mean-preserving spread of
market shares would leave consumer surplus unchanged but raise industry profit and therefore
aggregate surplus.19


3.2     The Herfindahl Index as a Measure of Market Power
We now argue that the Herfindahl index provides an adequate measure of the consumer sur-
plus and aggregate surplus distortions stemming from oligopolistic behavior. As a benchmark
for the hypothetical situation without market power, we use the equilibrium outcome under
  18
      See Armstrong and Vickers (forthcoming) for a treatment of the related concept of consumer surplus as
a function of quantities.
   19
      This is akin to the homogeneous-goods Cournot model, where consumer surplus depends only on ag-
gregate output, and aggregate surplus is proportional to the Herfindahl index, holding aggregate output
fixed.



                                                    14
monopolistic competition. In the context of differentiated goods, monopolistic competition is
arguably a more appealing benchmark than perfect competition: If goods are homogeneous
and firms compete either in prices or quantities, then the equilibrium outcome converges
to perfect competition as the population of firms is infinitely replicated, so that each firm’s
limiting size is negligible relative to the size of the market. By contrast, in our framework,
such an infinite replication results in the monopolistic competition outcome, as shown in
Section 2.3.
   We provide two sets of approximation results: When firms have small market shares, and
when industry conduct is close to monopolistic competition.

Approximation Results for Small Firms. For this set of approximations, we assume
that consumers have access to an outside option. We proceed as follows. We first fix a
vector of market shares s = (sf )f ∈F , and compute the welfare measures CS(s) and AS(s).
Using s, we then back out the type vector T (s) = (T f (s))f ∈F that gives rise to this profile
of market shares under oligopoly. Next, using T (s), we compute our welfare measure under
monopolistic competition as a function of firms’ market shares under oligopoly, CSm (s) and
ASm (s). Finally, we apply Taylor’s Theorem to derive a second-order approximation of the
welfare distortions for small market shares:20

Proposition 3. In the neighborhood of s = 0,

                                 CS(s) − CSm (s) = −αHHI(s) + o ksk2 ,
                                                                    

                             and AS(s) − ASm (s) = −αHHI(s) + o ksk2 .
                                                                    


Proof. See Appendix C.1.

    The market power distortion to both consumer surplus and aggregate surplus is thus
approximately proportional to the Herfindahl index, where the proportionality factor is the
elasticity measure α.
    To see why the distortion to consumer surplus increases with the Herfindahl index, con-
sider a mean-preserving spread of the market share vector s under oligopoly. This raises the
Herfindahl index but leaves consumer surplus unchanged, as CS(s) depends only on the sum
of market shares (see equation (12)). The concavity of the market-share fitting-in function
S(·), which comes from the fact that a firm with a higher type tends to charge a higher
markup, implies that the mean-preserving spread of the market share vector must have been
caused by a sum-increasing change in the vector of firm types.21 As consumer surplus under
monopolistic competition depends only the sum of those types (see equations (22) and (23)
in Appendix C.1), this change increases CSm (s).
 20
      o(·) is Landau’s little-o notation: f (x) = o(g(x)) in the neighborhood of x = x0 if f (x)/g(x) −→0 0.
                                                                                                    x→x
 21
      The concavity of S is stated and proved in Lemma 1 in Appendix B.




                                                       15
   It may seem surprising that the distortion to consumer surplus is equal to that to aggregate
surplus at the second order. In Appendix C.1, we show that those two distortions no longer
coincide at the third order.22

Approximation Results around Monopolistic Competition Conduct. We now pro-
vide an alternative approximation of the market power distortion from oligopolistic behavior,
namely one involving only small departures from monopolistic competition conduct, but wit-
hout restricting the size of firms or imposing that H 0 > 0.
   Given the conduct parameter θ ∈ [0, 1] and the type vector (T f )f ∈F , the equilibrium
aggregator level is H ∗ ((T f )f ∈F , θ), equilibrium consumer surplus is

                              CS((T f )f ∈F , θ) = log H ∗ ((T f )f ∈F , θ),

and aggregate surplus is
                                                                                                          
                                                                                         Tg
                                                             X       αS           H ∗ ((T f )f ∈F ,θ)
                                                                                                      ,θ
           AS((T f )f ∈F , θ) = log H ∗ ((T f )f ∈F , θ) +                                                     .
                                                                                              Tg
                                                             g∈F   1 − αθS             H ∗ ((T f )f ∈F ,θ)
                                                                                                           ,θ

The industry-level Herfindahl index is given by
                                                                                         2
                                 f
                                            X                   Tg
                        HHI((T )f ∈F , θ) =  S                                 ,θ             .
                                               g∈F
                                                          H ∗ ((T f )f ∈F , θ)

     We can now provide a first-order Taylor approximation of the market power distortions
to consumer surplus and aggregate surplus in the neighborhood of θ = 0, i.e., close to
monopolistic competition conduct. Below, we drop the argument (T f )f ∈F from the functions
H ∗ , CS, AS, and HHI to ease notation.

Proposition 4. In the neighborhood of θ = 0,

                CS(θ) − CS(0) = −αHHI(θ)θ + o (θ) ,
                                                                                            !
                                                                              Tf
                                                              X          
           and AS(θ) − AS(0) = −αHHI(θ) 1 − α                        S               ,θ           θ + o (θ) .
                                                              f ∈F
                                                                             H ∗ (θ)

Proof. See Appendix D.2.
 22
   Specifically, at the third order in the neighborhood of s = 0,
                                                                  
                                 m                      1
                      CS(s) − CS (s) = −α HHI(s) + (1 + 2α)Γ(s) + o ksk3 ,
                                                                         
                                                        2
                                                                      
                                 m                               1
                 and AS(s) − AS (s) = −α HHI(s)(1 − αs̄) + (1 + 3α)Γ(s) + o ksk3 ,
                                                                                
                                                                 2

where s̄ = f ∈F sf and Γ(s) = f ∈F (sf )3 .
          P                      P


                                                     16
    As in the approximation with small market shares, the market power distortion to consu-
mer surplus is proportional to the Herfindahl index. In contrast, the market power distortion
to aggregate surplus now contains a new term that depends on α and the aggregate market
share. Holding fixed the aggregate market share, the distortion continues to be proporti-
onal to the Herfindahl index. Holding fixed the Herfindahl index, the distortion decreases
with the aggregate market share. If the aggregate market share is small, the distortion is
approximately the same as in Proposition 3.23


3.3       The Herfindahl Index as a Measure of the Market Power Effect
          of a Merger
The market power effect of a merger is the impact that merger would have on consumer
surplus or aggregate surplus if it involved no synergies. We now show that the naively-
computed change in the Herfindahl index induced by the merger is an adequate measure of
that merger’s market power effect. As in Section 3.2, we support this claim by providing
approximation results around s = 0 and θ = 0.

Approximation Results for Small Firms. As in Section 3.2, we assume that consumers
have access to an outside option. We proceed as follows. We fix the pre-merger vector
of market shares s = (sf )f ∈F , and use this vector to recover the pre-merger type vector
(T f (s))f ∈F and compute the pre-merger market performance measures CS(s) and AS(s).
Assuming no synergies, the merged firm’s type is T M (s) =                  f
                                                                  P
                                                                     f ∈M T (s). We then use
the post-merger type vector (T f (s))f ∈F to obtain the post-merger vector of market shares
s̄(s) = (s̄(s))f ∈F . The post-merger welfare measures are CS(s̄(s)) and AS(s̄(s)). Hence, the
market power effect of the merger is CS(s̄(s)) − CS(s) or AS(s̄(s)) − AS(s).
    The merged-induced, naively-computed variation in the Herfindahl index is:
                                  !2                                     !2
                            X           X             X           X             X
        ∆M HHI(s) =            sf    +    (sf )2  −   (sf )2 =        sf    −   (sf )2 .
                            f ∈M         f ∈O           f ∈F           f ∈M         f ∈M


       Applying Taylor’s theorem, we obtain the following second-order approximation results:

Proposition 5. In the neighborhood of s = 0, the market power effect of the merger on
consumer surplus is:

                          CS(s̄(s)) − CS(s) = −α∆M HHI(s) + o(ksk2 ).

The market power effect of the merger on aggregate surplus is:

                          AS(s̄(s)) − AS(s) = −α∆M HHI(s) + o(ksk2 ).
  23
    More precisely, the term HHI(s) f ∈F sf is third order in the neighborhood of s = 0. Note that that
                                    P
term does appear in the third-order Taylor approximation shown in footnote 22.


                                                  17
Proof. See Appendix C.1.

    Hence, the market power effect of a merger is proportional to the naively-computed vari-
ation in the Herfindahl index, where the proportionality coefficient is the elasticity measure
α. As was the case in Proposition 3, this holds regardless of whether the market power effect
is measured in terms of consumer surplus or aggregate surplus.

Approximation Results around Monopolistic Competition Conduct. Let θ be a
conduct parameter and (T f )f ∈F be the pre-merger type vector. The merged firm’s type is
T M = f ∈M T f , assuming no synergies. The merger-induced, naively-computed change in
      P

the Herfindahl index is:
                                                           !2 X                            2
    M         f
                          X              Tg                                 Tg
  ∆ HHI((T )f ∈F , θ) =         S                       ,θ    −     S                      ,θ .
                          g∈M
                                   H ∗ ((T f )f ∈F , θ)         g∈M
                                                                      H ∗ ((T f )f ∈F , θ)

  We provide a linear approximation of the market power effect of the merger around
monopolistic competition conduct:

Proposition 6. In the neighborhood of θ = 0, the market power effect of the merger on
consumer surplus is:

               CS((T f )f ∈F , θ) − CS((T f )f ∈F , θ) = −α∆M HHI((T f )f ∈F , θ)θ + o(θ).

The market power effect of the merger on aggregate surplus is:

    AS((T f )f ∈F , θ) − AS((T f )f ∈F , θ) =
                                                                                              !
                            M      f
                                                     X                    Tg
                        − α∆ HHI((T )f ∈F , θ) 1 − α  S                                  ,θ        θ + o(θ).
                                                           g∈F
                                                                    H ∗ ((T f )f ∈F , θ)

Proof. See Appendix D.3.

   As in the approximation of the aggregate surplus distortion from market power, the
merger’s market power on aggregate surplus when approximated around monopolistic com-
petition conduct differs slightly from that when approximated around small market shares.
That difference vanishes as market shares become small.


4      Consumer Surplus Effects of Mergers
We now turn to the consumer surplus effects of mergers—a question we already touched on
in Section 3 by providing two sets of Taylor approximations. In this section, we revisit this
question without approximations. We study a static setting in Section 4.1 and a dynamic
one with endogenous mergers in Section 4.2.

                                                   18
4.1    Static Analysis
                                                                        ∗
Consider a merger M between the firms in M. Let H ∗ (resp., H ) denote the equilibrium
value of the aggregator before (resp., after) the merger. As consumer surplus is increasing in
the value of that aggregator, we say that the merger is CS-increasing (resp., CS-decreasing)
     ∗                 ∗                              ∗
if H > H ∗ (resp., H < H ∗ ); it is CS-neutral if H = H ∗ .
    Suppose the merger is CS-neutral. This implies that the market share of each outsider
g ∈ O, S(T g /H ∗ ), and the market share of the outside option, H 0 /H ∗ , is unaffected by the
merger. Since the market shares of the firms and the outside option have to add up to one
(equation (11)), this means that the post-merger market share of the merged firm is equal to
the sum of the pre-merger market shares of the merger partners:
                                     M X  f
                                      T                 T
                                 S           =       S      ,
                                      H∗        f ∈M
                                                        H ∗


                                       ∗
where we have used the fact that H = H ∗ .
   As S is strictly increasing and has full range, it follows that there exists a unique cutoff
type T̂ M such that the merger is CS-neutral if and only if T M = T̂ M :
                                                             !
                                               X Tf 
                               T̂ M = H ∗ S −1      S      ∗
                                                                .
                                               f ∈M
                                                        H

                           ∗
    By Proposition 2, H is strictly increasing in T M , implying that the merger is CS-
increasing if and only if T M > T̂ M , and CS-decreasing if and only if the reverse inequality
holds.
    As the market-share fitting-in function S is strictly concave (see Lemma 1 in Appendix B)
and satisfies S(0) = 0, that function is sub-additive. This implies that the cutoff type satisfies
T̂ M > f ∈M T f . That is, for the merger to be CS-nondecreasing it has to involve synergies.24
       P

We summarize these insights in the following proposition:

Proposition 7. For a merger among the firms in M, there exists a unique T̂ M > f ∈M T f
                                                                                       P

such that the merger is CS-neutral if the post-merger type satisfies T M = T̂ M , CS-decreasing
if T M < T̂ M , and CS-increasing if T M > T̂ M .

   We now turn to the comparative statics of the post-merger cutoff-type T̂ M . First, we
consider the thought experiment of changing the pre-merger aggregator level H ∗ while holding
the characteristics of the merger fixed. Second, we compare two alternative mergers in a given
industry, thus holding fixed the pre-merger aggregator level H ∗ .
   The first comparative statics result shows that the synergies required for a merger to be
CS-nondecreasing are smaller the more competitive is the market before the merger:
  24
   Farrell and Shapiro (1990) obtain the same conclusion in the case of the homogeneous-goods Cournot
model.


                                                 19
Proposition 8. For a merger among the firms in M, the post-merger cutoff type T̂ M is
strictly decreasing in the pre-merger level of the aggregator, H ∗ .
Proof. See Appendix E.1.

    To see the intuition, consider a merger between two symmetric single-product firms,
producing products i and j at pre-merger marginal cost c, and charging the pre-merger price
p∗ . Suppose the merger-induced synergies materialize only through a symmetric marginal
cost reduction. As shown by Werden (1996), for the merger to be CS-neutral, the common
post-merger marginal cost ĉ must be such that

                                     c − ĉ     d(H ∗ ) (p∗ − c)
                                            =                    ,                                  (13)
                                       c      1 − d(H ∗ )   c

where
                                                        ∂Dj /∂pi
                                         d(H ∗ ) ≡ −
                                                        ∂Di /∂pi
is the diversion ratio from good i to good j, which by symmetry is also equal to the diversion
ratio from j to i.
    The left-hand side of equation (13) gives the required percentage change in marginal cost
whereas the right-hand side represents the increase in market power due to the post-merger
internalization of competitive externalities. An increase in the pre-merger aggregator level
H ∗ does not affect the left-hand side but reduces the right-hand side through two channels: It
reduces both the pre-merger equilibrium price p∗ and the diversion ratio d(h∗ ).25 Proposition
8 shows that this intuition generalizes to mergers between arbitrary sets of firms, involving
arbitrary forms of synergies.

    We now turn to our second comparative statics result. It shows that the synergies required
for a merger to be CS-nondecreasing are larger for mergers involving larger firms, holding
fixed the pre-merger aggregator level H ∗ .
Proposition 9. Consider a merger between the firms in M = {f, g}, resp., M0 = {f 0 , g 0 },
               0               0
where T f ≥ T f and T g > T g . Then, the “larger” merger M requires larger synergies than
M0 , in the sense of a larger fractional increase in type:
                                                              0
                                          T̂ M        T̂ M
                                                >              .
                                        Tf + Tg   T f 0 + T g0
This in turn implies that the larger merger requires a larger absolute increase in type:
                                                          0        0   0
                              T̂ M − (T f + T g ) > T̂ M − (T f + T g ).

Proof. See Appendix E.2.
  25
    In our model, the diversion ratio between two symmetric single-product firms can be shown to be equal
to αs∗ /(1 − αs∗ ), which is increasing in the equilibrium market share s∗ , and thus decreasing in H ∗ .


                                                   20
    To see the intuition, suppose each of the two mergers involves symmetric single-product
firms, and that merger-induced synergies materialize only through a symmetric reduction in
the common marginal cost. The right-hand side of equation (13) is larger for merger M
than M0 as each merger partner in M has a higher pre-merger market share, implying that
both its pre-merger diversion ratio d(H ∗ ) and its markup (p∗ − c)/c are larger. Hence, the
percentage cost reduction necessary for the merger to be CS-neutral is larger for the larger
merger.26

    Propositions 8 and 9 provide theoretical support for the use of the merger-induced,
naively-computed variation in the Herfindahl index to screen mergers. For merger M =
{f, g}, the naively-computed increase in the Herfindahl index is equal to
                                                 2
                          ∆M HHI = sf + sg            − ((sf )2 + (sg )2 ) = 2sf sg .

A merger involving larger firms will induce a larger ∆M HHI.
   Proposition 8 shows that, holding fixed the types of the merger partners, a decrease in
the pre-merger equilibrium aggregator level H ∗ , which results in a higher ∆M HHI, raises
the required level of synergies for the merger to be CS-increasing. Proposition 9 shows
that, holding fixed the pre-merger equilibrium aggregator level, a merger involving firms
with higher types, and thus resulting in a higher ∆M HHI, also raises that required level of
synergies. Both propositions in conjunction suggest that the additional scrutiny received by
mergers resulting in a higher naively-computed increase in the Herfindahl index is indeed
warranted.


4.2     Dynamic Analysis
In the previous subsection, we studied the static consumer surplus effect of a given merger.
In industries in which merger opportunities are not isolated events, such a static analysis
may be inappropriate: The approval decision on a currently proposed merger may affect
both the consumer surplus effects of future mergers, and therefore the set of mergers that
will be approved in the future, as well as the profitability of future mergers, and therefore
the set of mergers that will be proposed in the future.
    In the following, we show that a completely myopic merger approval policy, according
to which, in every period, the antitrust authority approves only those mergers that raise
consumer surplus given current market conditions, is dynamically optimal. This extends the
main insight of Nocke and Whinston (2010), derived in the context of a homogeneous-goods
  26
    In the case of NCES demand, there is a monotonic relationship between the percentage reduction in
marginal cost and the percentage increase in type (dT /T = (1 − σ)βdc/c). In the case of NMNL demand,
there is instead a monotonic relationship between the absolute reduction in marginal cost and the percentage
increase in type (dT /T = −(β/λ)dc). As a larger firm charges a larger absolute markup under NMNL
demand, equation (13) implies that the larger merger also requires a larger absolute reduction in marginal
cost, and thus a larger percentage increase in type.



                                                      21
Cournot model, to the case of differentiated-goods price competition with NMNL or NCES
demands.

Framework. Following Nocke and Whinston (2010), we assume that there is a collection
of potential mergers, M1 , . . . , MK , corresponding to sets of merger partners M1 , . . . , MK ,
and that all of these mergers are disjoint, i.e., Mk ∩ Ml = ∅ for k 6= l. Disjointness means
that each firm has a distinct set of natural merger partners that have the potential to create
sizable synergies by merging. (Recall from the previous subsection that any merger not
involving synergies is CS-decreasing.)
     There are τ < ∞ periods in which mergers may become feasible, and be proposed to the
antitrust authority for approval. Any merger Mk may become feasible at the beginning of
period 1 ≤ t ≤ τ with probability pM
                                                     P Mk
                                         t , where
                                           k
                                                       t pt  ≤ 1. Once merger Mk has become
feasible, the merger partners learn the realization of their post-merger type T Mk , which is
drawn from some set TtMk according to some continuous probability distribution.
     If merger Mk has become feasible in period t, or became feasible earlier but has not yet
been approved, the merger partners decide whether to propose it for approval to the antitrust
authority. We assume that bargaining is efficient so that the merger is proposed if and only
if it is in the merger partners’ joint interest to do so.27 When doing so, they observe the type
not only of their own merger but also that of any other feasible but not yet approved merger
(as well as the type of every firm).
     If a feasible merger is proposed, the antitrust authority observes its efficiency (i.e., the
post-merger type); the authority also observes the types of all firms. Market structure (as
summarized by the vector of firm types) changes according to the authority’s approval de-
cisions. Importantly, while a blocked merger cannot be consummated, it can be proposed
again in the future.
     At the end of period t, firms compete in prices under complete information, as described
in Section 2.1. Payoffs in each period therefore depend only on the market structure at the
end of that period. Firms as well as the authority discount future payoffs with factor δ ≤ 1.

Results. The main result of this subsection is that a myopically CS-maximizing merger
policy is dynamically optimal in that it maximizes the discounted sum of consumer surplus.
    A myopically CS-maximizing merger policy is a merger approval rule that, in each period
t, maximizes consumer surplus in that period, given current market structure and the set of
proposed mergers. As shown in Nocke and Whinston (2010), there may be more than one set
of merger approvals that maximizes consumer surplus in a given period but, if so, these sets
differ only by mergers that are CS-neutral given the other mergers in those sets. However,
Proposition 2, in conjunction with the assumption that post-merger types are drawn from
continuous distributions, implies that any merger is generically either CS-decreasing or CS-
  27
    One of the firms in Mk can be thought of as acting in the role of the proposer, with the gains or losses
from the merger being split in fixed proportions among its partners.



                                                    22
increasing, no matter what the market structure. For simplicity of exposition, we will thus
henceforth assume that the myopically CS-maximizing set of merger approvals is unique.
    Our result on the dynamic optimality of a CS-maximizing merger policy comes in two
parts. First, we ignore the incentive constraints for proposing mergers and show that the
myopically CS-maximizing merger policy maximizes discounted consumer surplus if all fea-
sible but not yet approved mergers are proposed in each period. Second, we show that there
exists a subgame-perfect equilibrium in which all feasible but not yet approved mergers are
indeed proposed in each period. Moreover, any subgame-perfect equilibrium induces the
same optimal sequence of period-by-period consumer surpluses.

    To show the first part, we begin by establishing a sign-preserving complementarity in
the consumer surplus effects of mergers. Consider two disjoint mergers Mk and Ml , and
suppose first that each is CS-nondecreasing given current market structure, i.e., T Mk ≥
T̂ Mk and T Ml ≥ T̂ Ml . If merger Mk is implemented first, then H ∗ weakly increases as the
merger is CS-nondecreasing. By Proposition 8, this implies that T̂ Ml weakly decreases so
that the condition for merger Ml to be nondecreasing, T Ml ≥ T̂ Ml , continues to hold. By
the same argument, if both mergers are CS-decreasing given current market structure, then
implementing merger Mk increases the cutoff type for the other merger Ml , implying that
Ml remains CS-decreasing. This insight is summarized in the following proposition:
Proposition 10. If merger Ml is CS-nondecreasing in isolation, it remains CS-nondecreasing
if another merger Mk , k 6= l, that is CS-nondecreasing in isolation takes place. If merger Ml
is CS-decreasing in isolation, it remains CS-decreasing if another merger Mk , k 6= l, that is
CS-decreasing in isolation takes place.
   Proposition 8 implies that a CS-increasing merger Mk can induce an otherwise CS-
decreasing merger Ml to become CS-nondecreasing. In this case, we have:
Proposition 11. Suppose that merger Mk is CS-nondecreasing in isolation whereas merger
Ml is CS-decreasing in isolation but CS-nondecreasing once merger Mk has taken place. Then,
merger Mk is CS-increasing conditional on merger Ml taking place.
Proof. As in the proof of Proposition 2 in Nocke and Whinston (2010), consider the thought
experiment of reversing the order of the two mergers: Consider first implementing merger Ml
(step 1) and then merger Mk (step 2). As consumer surplus must, by assumption, be weakly
higher when both mergers are implemented compared to when none is, and because consumer
surplus strictly falls at step 1 (again, by assumption), consumer surplus must strictly increase
at step 2.

    Propositions 10 and 11 imply that if the antitrust authority approves only mergers that
are CS-nondecreasing at the time of approval, then it will not have ex post regret about
previously approved mergers (as these remain CS-nondecreasing) nor about previously re-
jected mergers (as these remain feasible and therefore can be implemented once they become
CS-nondecreasing). This intuitively explains the following result:

                                              23
Corollary 1. Suppose that all feasible but not yet approved mergers are proposed in each
period. Then, the myopically CS-maximizing merger policy maximizes discounted consumer
surplus, no matter what the realization of feasible mergers is.

Proof. See Appendix F.1.

    We now turn to the second part by showing that there always exists a subgame-perfect
equilibrium in which, in each period, every feasible but not yet approved merger is proposed
for approval.
    The first step in showing this is that a CS-nondecreasing merger is privately profitable
in the sense that it raises the joint profit of the merger partners, holding fixed the market
structure in the rest of the industry. We first argue that a merger that does not involve
synergies is profitable, as is usually the case in models of price competition with differen-
tiated products.28 Intuitively, such a merger lowers the equilibrium aggregator level, and
therefore reduces the outsiders’ contribution to the aggregator. It follows that the merging
parties face less competition, and therefore make strictly higher profits after the merger. By
Proposition 7, a CS-nondecreasing merger must involve synergies. Hence, by Proposition 2,
a merger involving synergies must be more profitable than one that does not. This explains
the following result:

Proposition 12. A CS-nondecreasing merger Mk is privately profitable in that it strictly
raises the joint profit of the merger partners, holding fixed the market structure among out-
siders.

Proof. See Appendix F.2.

    The second step consists in showing that a CS-nondecreasing merger is still privately pro-
fitable even if it induces (directly or indirectly) other mergers to become CS-nondecreasing,
resulting in their approval:

Proposition 13. Suppose that merger Mk is CS-nondecreasing given current market struc-
ture whereas merger Ml is CS-decreasing but becomes CS-nondecreasing once Mk has been
implemented. Then, the joint profit of the firms in Mk is strictly higher if both mergers take
place than if none does.

Proof. As in the proof of Proposition 11, think of implementing merger Ml at step one. As
that merger is CS-decreasing by assumption, the equilibrium level of the aggregator, H ∗ ,
must decrease, which strictly raises the profit of each firm in Mk . Next, implement merger
Mk at step two: As that merger remains, by Proposition 11, CS-nondecreasing after Ml has
taken place, it is profitable by Proposition 12. We have thus shown that the joint profit of
the firms in Mk strictly increases at each step.
 28
      See Deneckere and Davidson (1985).




                                             24
     Propositions 12 and 13 imply that if the antitrust authority adopts a myopically CS-
maximizing merger policy, then—in the last period, τ —there exists an equilibrium in which
all feasible but not yet approved mergers are proposed. Consider now period τ −1. As the set
of mergers that the antitrust authority would want to approve can only increase over time,
the set of approved mergers in period τ is independent of firms’ proposal decisions in period
τ − 1. By the same argument as for the last period, there therefore exists an equilibrium
in which all feasible but not yet approved mergers are proposed in period τ − 1. Folding
backward, the same holds for each of the previous periods.
     The following proposition states the main result of this subsection:

Proposition 14. Suppose that the antitrust authority adopts the myopically CS-maximizing
merger policy. Then, all feasible mergers being proposed in each period after any history is a
subgame-perfect equilibrium. The resulting outcome maximizes discounted consumer surplus,
no matter what the realized sequence of feasible mergers. Moreover, every subgame-perfect
equilibrium results in the same optimal level of consumer surplus in each period.

Proof. See Appendix F.3.

    As in Nocke and Whinston (2010)’s homogeneous-goods Cournot model, a myopically CS-
maximizing merger policy is dynamically optimal in a strong sense: The antitrust authority
could not improve upon the resulting outcome even if it had perfect foresight about future
realizations of feasible mergers (which it does not) nor if it had the power to undo previously
approved mergers (which we assume it does not).


5     Aggregate Surplus and External Effects of Mergers
Although most antitrust authorities have adopted a consumer surplus standard, it is also
important to understand the impact of mergers on aggregate surplus. We prove the analogue
of Proposition 7 for aggregate surplus effects in Section 5.1. That is, we establish the existence
of a cutoff type above which the merger under consideration raises aggregate surplus. We
then study the external effect of a merger, defined as the impact of the merger on the sum
of consumer surplus and the outsiders’ aggregate profit, in Section 5.2.


5.1    Aggregate Surplus Effects
Consider a merger M among the firms in M, and let T M be the the merged firm’s type.
                   ∗
Let AS∗ (resp., AS ) denote equilibrium aggregate surplus before the merger (resp., after the
                                                        ∗                           ∗
merger). We say that the merger is AS-increasing if AS > AS∗ , AS-decreasing if AS < AS∗ ,
                     ∗
and AS-neutral if AS = AS∗ . We now prove the counterpart of Proposition 7 for aggregate
surplus.
   If T M = T̂ M , where T̂ M is the cutoff type defined in Proposition 7, then the merger is
CS-neutral. Moreover, as the merger does not affect the equilibrium value of the aggregator,

                                               25
it has no impact on the outsiders’ equilibrium profits. Since the merger is profitable by
Proposition 12, it is therefore AS-increasing.
    Next, we argue that the merger is AS-decreasing if T M is small. It is easy to show that,
as T M tends to zero, the post-merger value of aggregate surplus converges to the value that
would prevail if firm M did not exist. Note that this limiting value is equal to the equilibrium
value aggregate surplus would have before the merger if the firms in M did not exist (or,
equivalently, if all their types were equal to zero). As aggregate surplus is strictly increasing
in types (Proposition 2), that value is strictly lower than actual pre-merger aggregate surplus.
Hence, the merger is AS-decreasing for T M sufficiently small.
    To sum up, post-merger aggregate surplus exceeds its pre-merger value when T M is high,
and falls short of it when T M is low. The continuity of aggregate surplus in types implies
the existence of a cutoff type TeM that makes the merger AS-neutral. By monotonicity of
aggregate surplus, that cutoff type is unique, and the merger is AS-increasing if T M > TeM ,
and AS-decreasing if T M < TeM . We summarize these insights in the following proposition:

Proposition 15. For a merger among the firms in M, there exists a unique TeM < T̂ M such
that the merger is AS-neutral if the post-merger type satisfies T M = TeM , AS-decreasing if
T M < TeM , and AS-increasing if T M > TeM .

    Note that there is no counterpart to Proposition 15 in Farrell and Shapiro (1990)’s clas-
sical analysis. The reason is that, in the homogeneous-goods Cournot model, equilibrium
aggregate surplus is not a monotonic function of firms’ marginal costs (Lahiri and Ono, 1988;
Zhao, 2001). By contrast, we are able to leverage the monotonicity of aggregate surplus in
firms’ types to obtain Proposition 15.
    The proposition states that TeM < T̂ M , which follows immediately from the fact that a
CS-neutral merger is AS-increasing. Whether or not T̃ M > f ∈I T f , i.e., whether or not
                                                                 P

an AS-neutral merger must involve synergies, is unclear. On the one hand, a merger that
does not involve synergies lowers the equilibrium aggregator level. On the other hand, it
reallocates market shares toward the outsiders, which can raise social welfare if those firms
are initially producing too little.
    An example where a merger involving no synergies is AS-increasing can easily be con-
structed in the case of NMNL demand without an outside option (H 0 = 0). Let there be
three firms, 1, 2, and 3, with pre-merger types T 1 = 1 and T 2 = T 3 = 1/2. In the aggregate-
surplus-maximizing pre-merger allocation, which can be obtained by setting all markups
equal to zero, firm 1 commands a market share of 1/2, whereas firms 2 and 3 each receive
a market share of 1/4. The equilibrium allocation is efficient if and only if it replicates that
allocation, which arises if and only if all firms charge the same markup. As firm 1’s type is
higher than its rivals’, that firm sets an equilibrium markup that strictly exceeds that of its
rivals, resulting in an inefficient equilibrium allocation. Consider now a merger M between
firms 2 and 3, and, assuming no synergies, let T M = 1. As firm 1 and the merged firm have
the same type, they charge the same equilibrium markups, implying that the post-merger


                                               26
equilibrium allocation is efficient. The merger is therefore AS-increasing.29


5.2     External Effects
We now extend Farrell and Shapiro (1990)’s analysis of the external effects of a merger,
defined as the sum of its impact on consumer surplus and outsiders’ profits. To the extent
that a merger is proposed by the merger partners only if it is in their joint interest to do so, a
positive external effect is a sufficient (“safe harbor”) condition for the merger to raise social
welfare. The idea behind focusing on the external effect is that the profitability of a merger
depends on the magnitude of internal cost savings, and that these are hard to assess for an
antitrust authority. As we shall see below, the external-effects approach also delivers benefits
in terms of tractability, by allowing us to decompose a merger into infinitesimal components.
    Consider a merger M among the firms in M, and let O be the set of outsiders. Let H ∗
       ∗
and H denote the pre- and post-merger equilibrium values of the aggregator, respectively.
The external effect of the merger is defined as
                                                                                                  ∗
                                                                                              H
                                      X             Tf                 Tf
                                                                                     Z
              M         ∗         ∗                                                                   η(H)
          E       = log H − log H +          m         ∗       −m                    =−                    dH,
                                      f ∈O
                                                     H                  H∗                H∗           H

where
                                                     X Tf           
                                                                        Tf
                                                                             
                                                                0
                                 η(H) ≡ −1 +                    m                .
                                                     f ∈O
                                                            H           H

    Hence, as in Farrell and Shapiro (1990), the merger can be thought of as a sequence
of infinitesimal mergers dH, where, along the sequence, the value of the aggregator changes
                             ∗
progressively from H ∗ to H . The sign of the external effect of an infinitesimal CS-decreasing
(resp. CS-increasing) merger is thus given by η(H) (resp. −η(H)).
    In the following, we focus on CS-decreasing mergers to fix ideas. Such a merger necessarily
has a positive impact on outsiders’ profits. We now derive conditions under which this positive
effect on outsiders outweighs the negative effect on consumers.
    An infinitesimal CS-decreasing merger dH < 0 reduces consumer surplus by d log H =
dH/H, which corresponds to the first term in the definition of η. It also raises the profit of
every outsider f ∈ O by dH/H times (T f /H)m0 (T f /H). In Appendix G.1, we show that
η(H) can be rewritten as
                                          X           αsf (1 − sf )
                            η(H) = −1 +                                      ,                                   (14)
                                          f ∈O
                                               (1 − αsf )(1 − sf + α(sf )2 )

where, for every f in O, sf = S(T f /H) is firm f ’s market share when the value of the
aggregator is H. The results stated in this section are derived by exploiting the properties
  29
  By the same token, with NMNL demand, no outside option, and three firms 1, 2, and 3 such that
T = T 2 = T 3 , a merger between firms 2 and 3 is AS-decreasing, if it does not give rise to synergies.
 1




                                                     27
of the right-hand side of equation (14).

    We first show that a CS-decreasing merger has a negative external effect when products
are poor substitutes:
                                √
Proposition 16. Let ᾱ = 32
                                        
                                  57 − 7 ' 0.82. If α ≤ ᾱ, then any CS-decreasing merger has
a negative external effect. If instead α > ᾱ, then there exist CS-decreasing mergers that have
a positive external effect, and CS-decreasing mergers that have a negative external effect.

Proof. See Appendix G.2.

    In the non-nested CES case, the condition α ≤ ᾱ translates into σ ≤ σ̄ ' 5.7. More
generally, in the case of NCES demand, it translates into a low value of β and/or σ. The
intuition for the result is the following. After a CS-decreasing merger, the aggregate market
share of the insiders falls, meaning that consumers substitute away from the insiders’ products
into the outsiders’ products. If the insiders’ and outsiders’ products are poor substitutes,
which is the case if σ is small and/or β is small, then such substitution gives rise to a large
fall in consumer surplus, which the increase in the outsiders’ profits cannot offset, implying
a negative external effect.

     In the following, we assume that α > ᾱ, and derive conditions under which a CS-
decreasing merger is more likely to have a positive external effect. Note that the positive
impact on outsiders’ profits can be decomposed into two effects. First, holding fixed outsiders’
markups, the infinitesimal merger increases the profit of each outsider f by Πf × |dH/H|.30
Hence, the “direct” effect on outsiders’ joint profit is proportional to their joint profit. Se-
cond, outsiders respond by increasing their markups. As the outsiders’ aggregate profit is
increasing and convex in outsiders’ market shares (see Section 3.1), the first, direct effect
is larger when those market shares are higher and/or more concentrated. We would there-
fore expect the external effect of a merger to be more likely to be positive in such cases.
The following propositions show that this intuition is indeed correct under the appropriate
formalization of the notions of high and concentrated market shares, respectively.
     We formalize both notions by defining partial order relations over the set of pre-merger
industry structures among outsiders. A pre-merger industry structure among outsiders is a
vector (sf )f ∈O of arbitrary length, where O is a finite set, sf ∈ (0, 1) for every f ∈ O, and
         f                  f            0     0f
P
   f ∈O s < 1. Let s = (s )f ∈O and s = (s )f ∈O0 be two pre-merger industry structures.
     We say that the outsiders have higher market shares under s than under s0 , and write
s ≥1 s0 , if there exists an injection ι : O0 −→ O such that sι(f ) ≥ s0f for every f ∈ O0 .31
 30
      This holds, as                        (     f                        α
                                                α TH µf 1 − (1 − α)µf
                                                                         1−α
                            f       f f                                         under NCES,
                          Π = αµ s =            T f f −µf
                                                H µ e                           under NMNL.
 31
      ≥1 is clearly reflexive and transitive. It is antisymmetric under the equivalence relation

          s = (sf )f ∈O ∼ s0 = (s0f )f ∈O   ⇐⇒        sb(f ) = s0f ∀f ∈ O0 , for some bijection b : O0 −→ O.


                                                           28
    To every outsider industry structure s, we associate a discrete probability measure Ps (·),
defined as follows:
                                  1 
                        Ps (x) =      f ∈ O : sf = x , ∀x ∈ R.
                                 |O|
We say that outsiders’ market shares are more concentrated under outsider industry structure
s than under s0 , and write s ≥2 s0 , if s and s0 have the same length and the same mean, and
Ps0 second-order stochastically dominates Ps . Note that s and s0 having the same length and
the same mean implies that the aggregate market share of the outsiders is the same under s
and s0 .
    Using these partial order relations, we obtain the following propositions:
Proposition 17. Let α > ᾱ, and consider two infinitesimal CS-decreasing mergers, M and
M 0 , with pre-merger outsider industry structures s = (sf )f ∈O and s0 = (s0f )f ∈O0 . Suppose
s ≥1 s0 and sf ≤ s∗ ' 0.68 for every f ∈ O. If merger M 0 has a positive external effect, then
so does merger M .
Proof. See Appendix G.3.
Proposition 18. Let α > ᾱ, and consider two infinitesimal CS-decreasing mergers, M and
M 0 , with pre-merger outsider industry structures s = (sf )f ∈O and s0 = (s0f )f ∈O0 . Suppose
s ≥2 s0 , sf ≤ ŝ ' 0.29 for every f ∈ O, and s0f ≤ s̃ for every f ∈ O0 . If merger M 0 has a
positive external effect, then so does merger M .
Proof. See Appendix G.4.

    Thus, as long as outsiders’ market shares are not too high, the external effect of an
infinitesimal CS-decreasing merger is more likely to be positive when the outsiders have
higher and/or more concentrated market shares, in line with the intuition outlined above.
The reason why this intuition may fail if some of the outsiders are too large (i.e., if sf > s∗
or sf > ŝ for some firm f ) is the result of the second, indirect effect, namely, the fact that
outsiders respond to the reduction in H by increasing their markups. Holding H fixed,
the merger-induced increase in an outsider’s markup decreases its profit. This holds since
oligopolistic markups are always above those of monopolistically competitive firms (that
perceive H as fixed), so any further increase must reduce profit for a fixed H. This second
effect becomes quantitatively important when outsiders become too large.
    Proposition 18 suggests that relying on the level of the pre-merger Herfindahl index to
evaluate the social desirability of a merger can be misguided. To see this, consider two indus-
tries, and suppose that the vector of insiders’ market shares is the same in both industries.
Suppose also that outsiders’ market shares are more concentrated in the first industry than in
the second. Then, the first industry’s Herfindahl index is higher than the second’s. However,
the merger in the first industry is more likely to have a positive external effect than the one
in the second industry.
Hence, ≥1 is a partial order relation over the set of equivalence classes of the equivalence relation defined
above.


                                                     29
    We close this section by discussing the external effect of a non-infinitesimal CS-decreasing
merger. We already know from Proposition 16 that such a merger always has a negative exter-
nal effect if α ≤ ᾱ. Suppose now that α > ᾱ. By continuity, the comparative statics derived
in Propositions 17 and 18 continue to obtain as long as the mergers under consideration do
not have too much of an impact on the equilibrium aggregator level.
    We also note that, regardless of the magnitude of the merger-induced decrease in H,
a sufficient condition for the merger to have a positive external effect is that η(H ∗ ) > 0
(i.e., at the pre-merger aggregator level, an infinitesimal CS-decreasing merger has a positive
external effect). The reason is the following. The external effect of the merger is the integral
                                                                                        ∗
of the external effects of the infinitesimal mergers along the path from H ∗ to H < H ∗ .
As the merger is CS-decreasing by assumption, outsiders’ market shares increase along that
sequence. Hence, if η(H ∗ ) > 0, then, by Proposition 17, η(H) remains positive along the
sequence (provided no outsider reaches a market share larger than ŝ), and so the external
effect of the merger is positive. Note that checking whether η(H ∗ ) > 0 involves using only
the outsiders’ pre-merger market shares (see equation (14)).


6    Conclusion
We provide a merger analysis in a multiproduct-firm oligopoly model with NCES or NMNL
demands, where each firm owns property rights over an arbitrary portfolio of nests of pro-
ducts. That model goes a long way towards satisfying a number of desiderata: The underlying
demand system has discrete/continuous choice micro-foundations and allows for substitution
patterns that go beyond those implied by the IIA property (notwithstanding the assumption
that each nest is entirely owned by one firm). The model allows for arbitrary product hete-
rogeneity in terms of marginal costs and qualities, and allows firms to differ in their product
portfolios. The demand system gives rise to an aggregative pricing game; the equilibrium
is unique and has intuitive comparative statics. Moreover, the type aggregation property
permits rich forms of merger-specific synergies through marginal cost reductions, quality
improvements, or new products. Finally, consumer surplus and aggregate surplus can be
expressed as functions of firm-level equilibrium market shares.
    We derive three sets of results. First, we relate the Herfindahl index to market perfor-
mance measures using approximation techniques. The Herfindahl index provides an adequate
measure of the welfare distortions introduced by market power, relative to the monopolistic
competition benchmark. Moreover, the naively-computed, merger-induced variation in the
Herfindahl index approximates the market power effect of that merger.
    Second, we study the consumer surplus effects of mergers, in both static and dynamic
settings. For a merger to be CS-increasing requires that the merger generates efficiencies.
These efficiencies need to be larger when the industry is less competitive before the merger,
or when the merger partners are larger—thus providing additional justification for the use of
the naively-computed change in the Herfindahl index. In a dynamic context, in which merger


                                              30
opportunities arise stochastically over time and merger proposals (and approvals) are endo-
genous, a completely myopic consumer-surplus-based merger approval policy is dynamically
optimal.
    Third, we study the aggregate surplus and external effects of mergers. For a merger to
be AS-increasing requires fewer efficiencies than for it to be CS-increasing and may, in fact,
not require any efficiencies at all. The external effect of a CS-decreasing merger is always
negative when products are poor substitutes. When instead products are good substitutes,
the external effect is positive if the outsiders’ pre-merger market shares are sufficiently large
or sufficiently concentrated.
    One question that naturally arises is whether another, perhaps more general, underlying
multiproduct-firm price-competition model satisfying our desiderata could have been used to
derive the results summarized above. We can think of only three (realistic) candidates for
such an alternative oligopoly model. A first possibility would be to maintain the assumption
that demand is of the NCES or NMNL type, but relax the restriction that each nest is entirely
owned by one firm. Unfortunately, the resulting multiproduct-firm pricing game would no
longer satisfy two properties that play an essential role in our analysis: The game would no
longer be aggregative, and the type aggregation property would no longer hold. A second
possibility would be to use the general class of discrete/continuous choice demand systems
studied by Nocke and Schutz (2018). Although that class of demand systems gives rise to an
aggregative multiproduct-firm pricing game, it usually does not deliver the type aggregation
property.32 A final possibility would be to use the linear demand system, which is well known
to deliver a tractable pricing game, under the assumption of symmetric single-product firms.
In recent work, Cumbul and Virag (2017) show that much of this tractability is lost when
firms are allowed to be heterogeneous: Even when applying standard selection arguments,
the pricing game often has a continuum of equilibria.
    We believe that our analysis has implications well beyond industrial organization and
antitrust. The model of monopolistic competition with CES preferences is a major building
block in the macroeconomics and international trade literatures. Yet, many industries are
highly concentrated, with firms wielding market power. Such market power within an indu-
stry introduces several forms of misallocation, as it shifts output towards the outside good
(representing other industries), the within-industry outside option, and smaller, less efficient
firms that charge lower markups.33 We show that the welfare loss associated with those
misallocations is well approximated by the industry-level Herfindahl index—a measure that
is often readily available in industry-level data.
  32
      Moreover, comparative statics are much less well-behaved than under NCES or NMNL demand (see
Nocke and Schutz, 2018, Section 3.3). For instance, a reduction in the marginal cost of a product does
not necessarily increase the equilibrium profit of the firm offering that product, nor does it necessarily raise
equilibrium consumer surplus. Another issue is that firms’ market shares in volume or in value are not
necessarily sufficient statistics for consumer surplus and aggregate surplus.
   33
      There is a large recent literature that attempts to measure empirically the extent of misallocation arising
from market imperfections. See Restuccia and Rogerson (2017) for a survey.




                                                       31
Appendix

A      Proof of Proposition 1: Necessity and Sufficiency of
       First-Order Conditions
Proof. Fix a profile of prices p−f for firm f ’s rivals, and let N f =
                                                                                     S
                                                                                        l∈f   l . Define
                                                                           !β
                                                X X X
                            H 00 = H 0 +                            hj (p−f
                                                                         j )     > 0,
                                              g∈F \{f } l∈g   j∈l


and                                                      β−1 P                 0
                                 P         P
                                     l∈f         hi (pi )
                                               i∈l             j∈l (pj − cj )(−hj (pj ))
                   G(p) = β                           P       P             β           ,
                                               H 00 + l∈f       i∈l hi (pi )

for every profile of prices p = (pj )j∈N f . Note that G(p) is the profit firm f receives when it
sets the price vector p and its rivals rivals set the price vector p−f . Our goal is to show that
the maximization problem
                                              max G(p)
                                                         f
                                                     p∈RN
                                                        ++


has a unique solution, and that the price vector p solves that maximization problem if and
only if it satisfies the first-order conditions.
    The proof follows a similar development as the proof of Lemmas B–H in the Appendix
of Nocke and Schutz (2018). It proceeds as follows. We first show that pricing some (or all)
of the products below cost is strictly suboptimal (Step 1). We then extend the domain of G
to price vectors that have infinite components (Step 2). Combining Steps 1 and 2 allows us
to show that the profit maximization problem has a solution (Step 3). We then show that
there exists a unique price vector satisfying the first-order conditions of profit maximization
(Step 4). Combining Steps 1–4, we can conclude that the profit maximization problem has
a unique solution, and that first-order conditions are necessary and sufficient for optimality.

Step 1: No product is priced below cost. We first argue that firm f ’s products are
substitutes. Let n, n0 ∈ f and (i, i0 ) ∈ n × n0 such that i 6= i0 . If n 6= n0 , then

                                      ∂Di     2 hi Hn  hi0 Hnβ−1
                                                 0 β−1 0
                                                              0
                                           =β           2
                                                                 > 0.
                                      ∂pi0            H

If instead n = n0 , then
                                                                                 !
                                                                        2(β−1)
                           ∂Di    βh0i h0i0                       Hn
                                =                (1 − β)Hnβ−2 + β                    > 0.
                           ∂pi0    H                                H



                                                         32
Let p be a price vector for firm f such that pj < cj for some product j ∈ N f . Define a new
price vector p̃ for firm f such that for every i ∈ N f , p̃i = max(ci , pi ). When firm f deviates
from p to p̃, it stops making losses on those products that were originally priced below cost,
and, by substitutability, it makes more profits on those products that were priced above
cost. Therefore, price vector p is not optimal for firm f . When looking for a solution to firm
f ’s profit maximization problem, we can therefore confine our attention to price vectors in
Q
   j∈N f [cj , ∞).

                                                         Q
Step 2: Defining G at infinite prices. Let p̂ ∈ j∈N f [cj , ∞]. Suppose p̂ has at least
one infinite component, and let (pk )k≥0 be a sequence over j∈N f [cj , ∞) such that pk −→ p̂.
                                                              Q
                                                                                        k→∞
Let
                              f 0 = {l ∈ f : ∃i ∈ l s.t. p̂i < ∞}
and
                                                   N f 0 = {j ∈ N f : p̂j < ∞}.
      Clearly, as k tends to infinity, the denominator of G(pk ) tends to34
                                                                                           β
                                                             X             X
                                                  H 00 +                            hj (p̂j ) .
                                                             l∈f 0       j∈l∩N f 0


   Next, let i ∈ N f \ N f 0 . Let l ∈ f be the nest that contains product i. Note that, for
every k ≥ 0,
                                                                     !β−1
                                                  X                                                                     β−1
               (pki   −      ci )(−h0i (pki ))          hj (pkj )              ≤ (pki − ci )(−h0i (pki )) hi (pki )            .
                                                  j∈l


Under NCES demand,
                                                           β−1
                         (pki − ci )(−h0i (pki )) hi (pki )     ≤ (σ − 1)ai (pki )β(1−σ) −→ 0.
                                                                                                              k→∞

Under NMNL demand,
                                                                                                             
                                                                β−1       1                   β
                      (pki       ci )(−h0i (pki ))    hi (pki )           ≤ pki exp              ai − pki
                                                                                                          
                             −                                                                                    −→ 0.
                                                                           λ                   λ                  k→∞


      It follows that
                                  P           P                    β−1 P                         0
                k                     l∈f 0      i∈l∩N f 0hi (p̂i )       j∈l∩N f 0 (p̂j − cj )(−hj (p̂j ))
           G(p ) −→ β                                      P          P                     β              ≡ G(p̂).
                      k→∞                            H 00 + l∈f 0       i∈l∩N f 0 hi (p̂i )

 34
      By convention, the sum of an empty collection of reals is zero.



                                                                          33
                                                             Q
We have thus extended the domain of G to                          j∈N f [cj , ∞].   Note that, at p̂, G has smooth
partial derivatives with respect to (pi )i∈N f 0 .

Step 3: The profit maximization problem has a solution. By continuity of G (as
                                                    Q
established in the previous step) and compactness of j∈N f [cj , ∞], the maximization problem

                                                    Q max          G(p)
                                                  p∈ j∈N f [cj ,∞]


has a solution p̂. Clearly, p̂ has at least one finite component, for otherwise G(p̂) would be
equal to zero, as shown above.
    Assume for a contradiction that p̂ has some infinite components, and define f 0 and N f 0
                                                                            ∂G
as in the previous step. Since p̂ maximizes G, it must be the case that ∂p    i
                                                                                 = 0 for every
                                                                                                       p̂
i ∈ N f 0 . Manipulating the first order conditions as we did in Section 2.3, we obtain the
existence of a µ̃f such that, for every i ∈ N f 0 ,

                                               p̂i − ci p̂i h00i (p̂i )
                                                             0
                                                                        = µ̃f .
                                                   p̂i −hi (p̂i )

Under NCES, (p̂i h00i (p̂i ))/(−h0i (p̂i )) = σ, so that µ̃f < σ. Moreover, under both NCES and
NMNL demand, µ̃f satisfies
                                                                  P       P         β
                                                           l∈f 0            h  (p̂
                                                                   j∈l∩N f 0 j j   )
                   µ̃f (1 − α̃(1 − β)) = 1 + α̃β µ̃f        P      P                    β ,                         (15)
                                                     H 00 + l∈f 0               h  (p̂
                                                                       j∈l∩N f 0 j j   )

so that µ̃f > 1.
    Fix a product i ∈ N f \ N f 0 , and let n ∈ f be the nest that contains product i. For every
x ≥ ci , let G̃(x) be the value of G when product i is priced at x and all the other products
are priced according to p̂. We showed in the previous step that G̃(x) −→ G(p̂). Note that,
                                                                                              x→∞
for every x ∈ (ci , ∞),

                                                                              0               f
                                                                                                P
                                    h 00
                                         (x)                (x −  c  i )(−h   i (x)) +   α̃µ̃     j∈(n∩N f 0 )\{i} hj (p̂j )
  G̃0 (x) = Di × 1 − (x − ci ) i 0             + (1 − β)                            P
                                   −hi (x)                              hi (x) + j∈(n∩N f 0 )\{i} hj (p̂j )
                                              β−1                                                                    
                                                                        0              f
                     P                                                                    P
           hi (x) + j∈(n∩N f 0 )\{i} hj (p̂j )          (x − ci )(−hi (x)) + α̃µ̃             j∈(n∩N f 0 )\{i} hj (p̂j )
    +β                          P                             β      P              P                       β
                  00
                H + hi (x) + j∈(n∩N f 0 )\{i} hj (p̂j ) + l∈f 0 \{n}                       j∈l∩N f 0 hj (p̂j )
                                                                                  β
                                                                                                                
                                          P               P
                                             l∈f 0 \{n}                h
                                                            j∈l∩N f 0 j j (p̂ )
       +β α̃µ̃f                                                                                               β  , (16)
                                                                                                                  
                                P                            β P                   P
                H 00 + hi (x) + j∈(n∩N f 0 )\{i} hj (p̂j ) + l∈f 0 \{n}                    j∈l∩N f 0 hj (p̂j )




                                                             34
where we have used the simplification derived in equation (3).
   We argue that G̃0 (x) < 0 for x sufficiently high. We distinguish two cases. Assume first
       / f 0 , i.e., p̂j = ∞ for every j ∈ n. Then, G̃0 (x) simplifies to
that n ∈

                           h00i (x)                     −h0i (x)
             
      0
  G̃ (x) = Di 1 − (x − ci ) 0        + (1 − β)(x − ci )
                           −hi (x)                        hi (x)
                                                                      P                   β 
                     hi (x)β−1 (x − ci )(−h0i (x)) + α̃µ̃f l∈f 0 \{n}
                                                           P
                                                                                    h (p̂
                                                                           j∈l∩N f 0 j j  )
                 +β                                                                            . (17)
                                                                                              
                                                 P            P                  β
                                H 00 + hi (x)β + l∈f 0 \{n}               h (p̂
                                                                 j∈l∩N f 0 j j  )

                                           h00 (x)                     −h0i (x)
Under NCES demand, (x − ci ) −hi 0 (x) and (x − ci )                    hi (x)
                                                                                  tend to σ and σ − 1, respectively, as
                                 i
x goes to infinity, whereas
                                                                                              x − ci
                         hi (x)β−1 (x − ci )(−h0i (x)) = (σ − 1)ai xβ(1−σ)
                                                                                                x
tends to zero. It follows that the term in parenthesis in equation (17) tends to

                                                               P                  P                         β
                                                                   l∈f 0 \{n}           j∈l∩N f 0   hj (p̂j )
                1 − σ + (1 − β)(σ − 1) + β α̃µ̃f                       P                P                     β ,
                                                            H 00   +       l∈f 0 \{n}       j∈l∩N f 0 hj (p̂j )


which, using equation (15), simplifies to

          −β(σ − 1) + µ̃f (1 − α̃(1 − β)) − 1 < −β(σ − 1) + σ(1 − α̃(1 − β)) − 1,
                                                   1                                     
                                              =        − β α̃ + (1 − α̃(1 − β)) − (1 − α̃) ,
                                                1 − α̃
                                              = 0.

Hence, G̃0 (x) < 0 for high enough x.
   Under NMNL demand,
                                                                                               
                                                             x − ci                   β
                    hi (x)   β−1
                                   (x −   ci )(−h0i (x))   =        exp                 (ai − x) −→ 0,
                                                               λ                      λ           x→∞


and
                           h00i (x)                    −h0i (x)      β
              1 − (x − ci ) 0       + (1 − β)(x − ci )          = 1 − (x − ci ) −→ −∞.
                           −hi (x)                     hi (x)        λ          x→∞

Hence, we also have that G̃0 (x) < 0 for high enough x.
   Next, assume instead that n ∈ f 0 . Under NCES demand, the term in parenthesis in




                                                             35
equation (16) tends to

                                                                P         P                              β
                                                                 l∈f 0            j∈l∩N f 0   hj (p̂j )
                    1 − σ + (1 − β)α̃µ̃f + β α̃µ̃f                   P            P                           β ,
                                                        H 00 +            l∈f 0         j∈l∩N f 0 hj (p̂j )


which, using equation (15), simplifies to

                    1 − σ + (1 − β)α̃µ̃f + µ̃f (1 − α̃(1 − β)) − 1 = −σ + µ̃f < 0,

implying that G̃0 (x) < 0 for x high enough.
   Under NMNL demand, the term in parenthesis in equation (16) tends again to −∞, so
that G̃0 (x) < 0 for x high enough.
   It follows that G̃ is strictly decreasing over some interval (x0 , ∞). Therefore, G̃(x0 ) >
                                                                                Q
limx→∞ G̃(x) = G(p̂), and p̂ does not maximize G, a contradiction. Hence, p̂ ∈ j∈N f [cj , ∞)
maximizes G, which concludes Step 3.

Step 4: There exists a unique price vector satisfying the first-order optimality
                                                                                    Q
conditions. The analysis in Section 2.3 implies that the price vector p̂ ∈ j∈N f [cj , ∞)
satisfies the first-order conditions if and only if there exists a µ̃f that is such that for every
i ∈ N f , p̂i = ri (µ̃f ), where
                                         (
                                              σ
                                                c
                                             σ−x i
                                                            in the case of NCES,
                              ri (x) ≡
                                         λx + ci            in the case of NMNL,

and that satisfies
                                                                           P  β
                                                                                                    f
                                                                 P
                                                       l∈f   j∈f hj (rj (µ̃ ))
               µ̃f (1 − α̃(1 − β)) = 1 + α̃β µ̃f        P    P                     β ,
                                                 H 00 + l∈f          h
                                                                 j∈f j j(r  (µ̃ f ))



or, equivalently,

                                                                           H 00
                      µ̃f (1 − α̃) = 1 − α̃β µ̃f                 P        P                              β .        (18)
                                                     H 00   +       l∈f           j∈f   hj (rj   (µ̃f ))

As the left-hand side of equation (18) is strictly increasing, whereas the right-hand side is
strictly decreasing, that equation has at most one solution. By Step 3, that equation has a
solution. Hence, there exists a unique price vector satisfying the first-order conditions.




                                                            36
B         Technical Results on Fitting-In Functions
The following results are proved in Nocke and Schutz (2018):

Lemma 1. The following holds for every α ∈ (0, 1]:

 (a) For every x > 0,
                                                   1 S(x)(1 − S(x))(1 − αS(x))
                                    S 0 (x) =                                  .                         (19)
                                                   x     1 − S(x) + αS(x)2

 (b) The elasticity of S, ε(x) = xS 0 (x)/S(x), is strictly decreasing in x.

 (c) S is strictly concave.

Proof. See Section XIII.3 in the Online Appendix to Nocke and Schutz (2018).

    We also require the following lemma:

Lemma 2. The continuous extension of S to R+ is C 3 . Moreover, S(0) = 0,
                                            ( α
                                             α 1−α       under NCES demand,
                                S 0 (0) =
                                              e−1        under NMNL demand,

S 00 (0) = −2αS 0 (0)2 , and S 000 (0) = −3α(1 − 2α)S 0 (0)3 .
      The inverse function Θ ≡ S −1 is C 3 on [0, 1). Moreover, Θ(0) = 0, Θ0 (0) = 1/S 0 (0),
Θ00 (0) = 2α/S 0 (0), and Θ000 (0) = 3α(1 + 2α)/S 0 (0).
                                                S(x)
Proof. We start by computing limx↓0              x
                                                     .   In the NMNL case,
                                                                         
                               S(x)                               −1
                                    = e−m(x) = exp                            −→ e−1 .
                                x                              1 − S(x)       x↓0


In the NCES case,
                                                                                      α
                                                                                     1−α
              S(x)                      α                            1−α                           α
                   = (1 − (1 − α)m(x)) 1−α =                 1−                             −→ α 1−α .
               x                                                   1 − αS(x)                x↓0


    Differentiating equation (19), we obtain
                                             2
                     00                S(x)        α(2 − S(x))(1 − S(x))(1 − αS(x))
                    S (x) = −                                                       .                    (20)
                                        x                (1 − S(x) + αS(x)2 )3

Differentiating once more gives
                        3
    000           S(x)        α(1 − S(x))(1 − αS(x)) 
 S (x) = −                                             3(1 − 2α) − 4(1 + α)S(x)
                   x           (1 − S(x) + αS(x)2 )5

                                                          37
                                                                                                                            
                                                                   2    2                       3          2            4
                                           + (1 + 13α + 6α )S(x) − 2α(2 + 5α)S(x) + 3α S(x) . (21)

Taking limits in equations (20) and (21) gives us the values of S 00 (0) and S 000 (0).
    Since S is C 3 with strictly positive derivative on R+ , that function establishes a C 3 -
diffeomorphism from R+ to         h               
                                   S(0), lim S(x) = [0, 1).
                                                           x→∞

It follows that Θ is C 3 . Moreover,

                         1
         Θ0 (s) =                ,
                    S0◦ S −1 (s)
                      S 00 ◦ S −1 (s)
         Θ00 (s) = −                   ,
                     (S 0 ◦ S −1 (s))3
                         S 000 ◦S −1 (s)                       3                                     2 S 00 ◦S −1 (s)
          000            S 0 ◦S −1 (s)
                                           (S 0 ◦ S −1 (s)) − S 00 ◦ S −1 (s) × 3 (S 0 ◦ S −1 (s))     S 0 ◦S −1 (s)
         Θ (s) = −                                                                                                      ,
                                                               (S 0 ◦ S −1 (s))6
                                                                                            2 !
                                                S 000 ◦ S −1 (s)
                                                                         00
                           1                                                S ◦ S −1 (s)
                =                            −                     +3                            .
                    S0   ◦ S −1 (s)            (S 0 ◦ S −1 (s))3          (S 0 ◦ S −1 (s))2

Hence,

                                                   1
                                   Θ0 (0) =                ,
                                                 S 0 (0)
                                                 1 S 00 (0)         2α
                                  Θ00 (0) = −   0      0      2
                                                                 = 0 ,
                                              S (0) S (0)          S (0)
                                                           000
                                                                       00 2 !
                                              1          S     (0)       S (0)
                                 Θ000 (0) = 0         − 0 3 +3                    ,
                                            S (0)        S (0)           S 0 (0)2
                                              1
                                                     3α(1 − 2α) + 3(2α)2 ,
                                                                                
                                          = 0
                                            S (0)
                                            3α(1 + 2α)
                                          =                .
                                               S 0 (0)

C     Approximation Results Around Small Market Shares
C.1      Proof of Proposition 3
We prove a series of lemmas that jointly imply Proposition 3 as well as the third-order
approximation stated in footnote 22.
   We first approximate consumer surplus under oligopoly:




                                                                   38
                                     0
Lemma 3. H ∗ (s) =           1−
                                  PH
                                          sg
                                               . Moreover, in the neighborhood of s = 0,
                                    g∈F

                                                                                !2                        !3
                                             1 X                  X                    1      X
                 CS(s) = log H 0 +      sf +                               sf                        sf        + o ksk3 .
                                                                                                                       
                                                                                     +
                                   f ∈F
                                             2                    f ∈F
                                                                                       3      f ∈F


Proof. The first part of the lemma follows immediately from the equilibrium condition

                                                         H0 X g
                                                            +    s = 1.
                                                         H ∗ g∈F

    The second part of the lemma follows from the fact that, in the neighborhood of x = 0,

                                                          1    1
                                        − log(1 − x) = x + x2 + x3 + o(x3 ).
                                                          2    3
    Next, we compute the first, second, and third (cross-)partial derivatives of the type vector
T (s):
Lemma 4. For every (f, f 0 ) ∈ F 2 ,
                                                                  (
                                                                       H0
                                               ∂T f                   S 0 (0)
                                                                                 if f = f 0 ,
                                                             =
                                               ∂sf 0   s=0         0             otherwise.

For every (f, f 0 , f 00 ) ∈ F 3 ,
                                                     0
                                                       H                       0   00
                                                     S 0 (0) 2(1 + α) if f = f = f ,
                                                    
                           ∂ 2T f
                                                    
                                                =       0                         if f 0 6= f and f 00 6= f,
                          ∂sf 0 ∂sf 00    s=0
                                                    
                                                        H0
                                                    
                                                        S 0 (0)
                                                                                  otherwise.

Finally, for every (f, f 0 , f 00 , f 000 ) ∈ F 4 ,
                                                      
                                                      
                                                       6 + 9α + 6α2                       if f = f 0 = f 00 = f 000 ,
                                                      
                       ∂ 3T f                    H 0 2α + 4                               if (f 0 , f 00 , f 000 ) ∈ P 2 (f ),
                                                      
                                               = 0
                 ∂sf 0 ∂sf 00 ∂sf 000    s=0    S (0) 
                                                      2                                   if (f 0 , f 00 , f 000 ) ∈ P 1 (f ),
                                                      
                                                      
                                                        0                                  otherwise,
                                                      

where

  P 1 (f ) = (f 1 , f 2 , f 3 ) ∈ F 3 : f = f i 6= f j , f k , for some permutation (i, j, k) of (1, 2, 3) ,
            


and

P 2 (f ) = (f 1 , f 2 , f 3 ) ∈ F 3 : f = f i = f j 6= f k , for some permutation (i, j, k) of (1, 2, 3) .
          


                                                                      39
                                                               
                                      f                Tf
Proof. Let f ∈ F. Since s = S                         H ∗ (s)
                                                                    , we have that

                                                                         Θ(sf )
                             T f = H ∗ S −1 (sf ) = H 0                  P      g
                                                                                  ≡ H 0 Θ(sf )Ψ(s),
                                                                      1 − g∈F s

where we have used the inverse function Θ that was defined in Lemma 2.
  Note that, for every (f, f 0 , f 00 ) ∈ F 3 ,

                                                                     ∂Ψ
                                                          Ψ(0) =                   = 1,
                                                                     ∂sf     s=0
                                                                 ∂ 2Ψ
                                                                                   = 2,
                                                               ∂sf ∂sf 0     s=0
                                                              ∂ 3Ψ
                                                                                   = 6.
                                                          ∂sf ∂sf 0 ∂sf 00   s=0

Therefore, for every (f, f 0 ) ∈ F 2 ,
                                                                                                  (
                                                                                                       H0
                       f                              f                                                         if f = f 0 ,
                                                                                   
                 ∂T                   0       ∂Θ(s )               ∂Ψ                                 S 0 (0)
                                 =H                   Ψ(s) + Θ(sf ) f 0                       =
                 ∂sf 0     s=0                 ∂s f 0
                                                                   ∂s                   s=0       0             if f 6= f 0 .

    For every (f, f 0 , f 00 ) ∈ F 3 ,

   ∂ 2T f                    ∂ 2 Θ(sf )                    ∂ 2Ψ           ∂Θ(sf ) ∂Ψ      ∂Θ(sf ) ∂Ψ
                                                                                                                               
                             0                       f
                       =H                 Ψ(s) + Θ(s   )              +                 +                                                 ,
  ∂sf 0 ∂sf 00   s=0         ∂sf 0 ∂sf 00                ∂sf 0 ∂sf 00      ∂sf 0 ∂sf 00    ∂sf 00 ∂sf 0                             s=0
                             2
                             ∂ Θ(sf )       ∂Θ(sf ) ∂Θ(sf )
                                                                  
                          0
                       =H                 +         +                      ,
                             ∂sf 0 ∂sf 00     ∂sf 0       ∂sf 00      s=0
                             
                                   00          0                0      00
                             Θ (0) + 2Θ (0) if f = f = f ,
                             
                             
                       = H0 ×  0                 if f 0 , f 00 6= f,
                             
                             Θ0 (0)
                             
                                                 otherwise,
                               
                           0
                               
                                2(α + 1) if f = f 0 = f 00 ,
                         H     
                       = 0   × 0          if f 0 , f 00 6= f,
                        S (0) 
                               1         otherwise.

    Finally, for every (f, f 0 , f 00 , f 000 ) ∈ F 3 ,

           ∂ 3T f                            ∂ 3 Θ(sf )                             ∂ 3Ψ            ∂ 2 Θ(sf ) ∂Ψ
                                              
                                          0                               f
                                  =H                          Ψ(s) +  Θ(s   )                     +
     ∂sf 0 ∂sf 00 ∂sf 000   s=0          ∂sf 0 ∂sf 00 ∂sf 000                 ∂sf 0 ∂sf 00 ∂sf 000 ∂sf 0 ∂sf 00 ∂sf 000
                                       ∂Θ(sf ) ∂ 2 Ψ             ∂ 2 Θ(sf ) ∂Ψ         ∂Θ(sf ) ∂ 2 Ψ
                                     +                         +                     +
                                        ∂sf 000 ∂sf 0 ∂sf 00 ∂sf 0 ∂sf 000 ∂sf 00          ∂sf 0 ∂sf 00 ∂sf 000



                                                                        40
                             ∂ 2 Θ(sf ) ∂Ψ           ∂Θ(sf ) ∂ 2 Ψ
                                                                                  
                         +                        +                                         ,
                             ∂sf 00 ∂sf 000 ∂sf 0     ∂sf 00 ∂sf 0 ∂sf 000 s=0
                                    ∂ 3 Θ(sf )         ∂ 2 Θ(sf )              ∂Θ(sf )            ∂ 2 Θ(sf )
                             
                           0
                        =H                          +                  +   2                +
                               ∂sf 0 ∂sf 00 ∂sf 000 ∂sf 0 ∂sf 00                 ∂sf 000        ∂sf 0 ∂sf 000
                              ∂Θ(sf )         ∂ 2 Θ(sf )          ∂Θ(sf )
                                                                                 
                         + 2               +                + 2                           ,
                                ∂sf 0        ∂sf 00 ∂sf 000         ∂sf 00         s=0
                               
                                                                                         0         00    000
                               3α(1 + 2α) + 3(2α + 2) if f = f = f = f ,
                               
                               
                          H 0 2α + 2 + 2                                  if (f 0 , f 00 , f 000 ) ∈ P 2 (f ),
                               
                        = 0
                         S (0) 
                                   2                                      if (f 0 , f 00 , f 000 ) ∈ P 1 (f ),
                               
                               
                                    0                                      otherwise,
                               
                               
                               
                                   6 + 9α + 6α2 if f = f 0 = f 00 = f 000 ,
                               
                          H 0 2α + 4                    if (f 0 , f 00 , f 000 ) ∈ P 2 (f ),
                               
                        = 0
                         S (0) 
                                   2                    if (f 0 , f 00 , f 000 ) ∈ P 1 (f ),
                               
                               
                                    0                    otherwise.
                               


   To ease notation, let s̄ = g∈F sg . We now use Lemma 4 to obtain a third-order Taylor
                              P

approximation of T f (s) in the neighborhood of s = 0:

Lemma 5. In the neighborhood of s = 0,

          H0
                                                                      
   f             f       f 2    f       α(1 + 2α) f 3      f 2      f 2
                                                                           + o(ksk3 ).
                                  
  T (s) = 0     s + α(s ) + s s̄ +               (s ) + α(s ) s̄ + s s̄
         S (0)                              2
                                                                                                0
Proof. By Lemma 4, first-order terms are simply given by SH0 (0) sf . Second-order terms are
given by                                              !
                  0
              H 1                 f 2      f
                                             X
                                                    g      H0         f 2     f
                                                                                   
                       2(1 + α)(s  )  + 2s        s     =         α(s  )  + s   s̄   .
             S 0 (0) 2                       g6=f
                                                          S 0 (0)

Finally, third-order terms are:
                                                                                                                                                         
       0
   H 1                                                          X                     0   00       000
                                                                                                                              X                    0  00 000
              (6 + 9α + 6α2 )(sf )3 + (2α + 4)                                        sf sf sf + 2                                               sf sf sf  ,
  S 0 (0) 6
                                                       (f 0 ,f 00 ,f 000 )∈P 2 (f )                               (f 0 ,f 00 ,f 000 )∈P 1 (f )
                                                                                                                      !
  H0 1                                                             X                        X
                                                                                                                 g0
= 0         (6 + 9α + 6α2 )(sf )3 + 3(2α + 4)(sf )2                       sg + 6sf                        sg s            ,
 S (0) 6                                                           g6=f                    g,g 0 6=f

  H0 1
         (6 + 9α + 6α2 )(sf )3 + 3(2α + 4)(sf )2 (s̄ − sf ) + 6sf (s̄ − sf )2 ,
                                                                             
= 0
 S (0) 6
  H0 1
         (−6 + 3α + 6α2 )(sf )3 + 3(2α + 4)(sf )2 s̄ + 6sf (s̄2 − 2s̄sf + (sf )2 ) ,
                                                                                  
= 0
 S (0) 6



                                                          41
     H0 1              2     f 3        f 2         f 2
                                                        
=             (3α + 6α   )(s  )  + 6α(s  )  s̄ + 6s  s̄   ,
    S 0 (0) 6

The lemma follows by Taylor’s theorem.

     We recall the definition of the dispersion measure Γ(s):
                                                X
                                         Γ(s) =    (sf )3 .
                                                                   f ∈F


The following lemma gives a third-order Taylor approximation of the sum of the types:

Lemma 6. In the neighborhood of s = 0,
    X S 0 (0)                                                  
                                                                   α(1 + 2α)
                                                                                                     
                 f                                 2
                                                                             Γ(s) + α HHI(s)s̄ + s̄ + o(ksk3 ).
                                                                                                   3
                                                       
                T (s) = s̄ + α HHI(s) + s̄                 +
    f ∈F
           H0                                                          2

Proof. Immediate.

    Let CSm (s) be consumer surplus under monopolistic competition. Recall that all the
firms set their normalized markups equal to 1 under monopolistic competition. Hence, in the
case of NMNL demand,
                                              !                                      !
                                                                                0
                              X                                    X           S (0)
         CSm (s) = log H 0 +       T f (s) e−1 = log H 0 + log 1 +      T f (s) 0      . (22)
                              f ∈F                                 f ∈F
                                                                                H

Similarly, in the case of NCES demand,
                                                           !                                             !
           m
                                 X                  α                                    X     S 0 (0)
       CS (s) = log H 0 +               T f (s)α   1−α         = log H 0 + log 1 +      T f (s) 0            .   (23)
                                 f ∈F                                              f ∈F
                                                                                                H

     We now provide a third-order Taylor expansion of CSm (s):

Lemma 7. In the neighborhood of s = 0,

                                    1     1                 α(1 + 2α)
            CSm (s) = log H 0 + s̄ + s̄2 + s̄3 + α HHI(s) +           Γ(s) + o(ksk3 ).
                                    2     3                     2
Proof. Recall that, at the third order in the neighborhood of x = 0,

                                                  1    1
                                  log(1 + x) = x − x2 + x3 + o(x3 ).
                                                  2    3
Combining this with Lemma 6, and eliminating higher-order terms, we obtain

                                                                          α(1 + 2α)
            CSm (s) = log H 0 + s̄ + α HHI(s) + s̄2 +                               Γ(s) + α HHI(s)s̄ + s̄3
                                                                              2

                                                                   42
                      1                     2 1
                       − s̄ + α HHI(s) + s̄2 + s̄3 + o(ksk3 ),
                      2                            3
                                                     α(1 + 2α)
                 = log H 0 + s̄ + α HHI(s) + s̄2 +             Γ(s) + α HHI(s)s̄ + s̄3
                                                         2
                      1 2                          1 3
                   −     s̄ + 2α HHI(s)s̄ + 2s̄ + s̄ + o(ksk3 ),
                                                3
                      2                               3
                                  1     1                   α(1 + 2α)
                 = log H 0 + s̄ + s̄2 + s̄3 + α HHI(s) +               Γ(s) + o(ksk3 ).
                                  2     3                        2
   Combining Lemmas 3 and 7, we obtain the approximation results for the distortion to
consumer surplus that were announced in Proposition 3 and footnote 22:

Lemma 8. In the neighborhood of s = 0,

                                                      α(1 + 2α)
                CS(s) − CSm (s) = −α HHI(s) −                   Γ(s) + o ksk3 .
                                                                             
                                                          2
   Next, we turn our attention to profits. Let
                                        X 1             
                               Π(s) =                f
                                                       −1
                                        f ∈F
                                              1 − αs

be aggregate profit.

Lemma 9. In the neighborhood of s = 0,

                           Π(s) = αs̄ + α2 HHI(s) + α3 Γ(s) + o ksk3 .
                                                                    


Proof. This follows immediately from the fact that, in the neighborhood of x = 0,

                                1
                                    = 1 + αx + α2 x2 + α3 x3 + o(x3 ).
                             1 − αx

   Let Πm (s) be aggregate profit under monopolistic competition. Under NMNL demand,
                           X         T f (s) e−1               1
               Πm (s) =              P           −1
                                                    =1−                  0    .
                                   0           g
                                  H + g∈F T (s) e       1 + g∈F T g (s) SH(0)
                                                           P
                           f ∈F                                            0



Under NCES demand,
                                            α
                                                                                  !
                       X       T f (s)α 1−α                   1
          Πm (s) =      α                     α  =α 1−                  0             .
                                                       1 + g∈F T g (s) SH(0)
                               P
                          H 0 + g∈F T g (s)α 1−α
                                                          P
                   f ∈F                                                   0



Lemma 10. In the neighborhood of s = 0,
                                                              
          m                         α(1 + 2α)
        Π (s) = α s̄ + α HHI(s) +             Γ(s) − α HHI(s)s̄ + o(ksk3 ).
                                        2

                                                 43
Proof. Note that, at the third order in the neighborhood of x = 0,

                                   1
                             1−       = x − x2 + x3 + o(x3 ).
                                  1+x
Combining this with the definition of Πm and Lemma 6, and eliminating higher-order terms,
we obtain:
                      
                                             α(1 + 2α)
           Π (s) = α s̄ + α HHI(s) + s̄2 +
            m
                                                        Γ(s) + α HHI(s)s̄ + s̄3
                                                  2
                                          2      
                     − s̄ + α HHI(s) + s̄2 + s̄3 + o(ksk3 ),
                      
                                             α(1 + 2α)
                 = α s̄ + α HHI(s) + s̄2 +              Γ(s) + α HHI(s)s̄ + s̄3
                                                  2
                     − s̄ + 2α HHI(s)s̄ + 2s̄ + s̄3 + o(ksk3 ),
                         2                    3
                                                    
                                                                   
                                        α(1 + 2α)
                 = α s̄ + α HHI(s) +               Γ(s) − α HHI(s)s̄ + o(ksk3 ).
                                             2

    Combining Lemmas 8, 9, and 10 delivers the approximation of the aggregate surplus
distortion announced in Proposition 3 and footnote 22:

Lemma 11. In the neighborhood of s = 0,
                                                        
                   m                        1
       AS(s) − AS (s) = −α HHI(s)(1 − αs̄) + (1 + 3α)Γ(s) + o ksk3 .
                                                                  
                                            2

C.2    Proof of Proposition 5
We prove a series of lemmas that jointly imply Proposition 5.
    Recall from Appendix C.1 that H ∗ (s) is the equilibrium value of the aggregator given
the vector of market shares s. To ease notation, let H(s) ≡ H ∗ (s̄(s)) be the post-merger
equilibrium value of the aggregator. We first provide an approximation of the market power
effect of the merger, measured in terms of consumer surplus—the first part of Proposition 5:

Lemma 12. In the neighborhood of s = 0,

                       CS(s̄(s)) − CS(s) = −α∆M HHI(s) + o(ksk2 ).

Proof. By definition of H, we have that

                                  H0 X               Tg
                                                         
                                    +  S                      = 1.
                                  H                  H
                                          g∈F




                                                44
Totally differentiating this expression, we obtain:
                                             
                        0         g        g
                                                  1 X 0 T g X ∂T g f
                                                      
               dH  H       XT
                                      0   T 
             −            +         S           +    S             ds = 0.
                H     H         H         H       H     H f ∈F ∂sf
                                 g∈F                                  g∈F


Hence,
                                            0 T g ∂T g
                                    P             
                           ∂H         g∈F S   H      ∂sf
                                =H 0 P                   g .
                           ∂s f
                                  H + g∈F T S THg   0


Hence, by Lemma 5 and since T M = g∈M T g ,
                                 P


                                                       ∂H
                                                                   = H 0.
                                                       ∂sf   s=0


  Next, we compute the Hessian of H. Note that, for every f, f 0 ∈ F
                                                                                                  
    2
                                                          2 g                        g    g
                                                                                                  
  ∂ H         ∂H                          1        X        ∂ T        0      1 ∂T ∂T 00
        0   = f0 × 1 + H0 ×                                          0 S (0) +               S (0)  H 0
   f  f
 ∂s ∂s s=0 ∂s                        (H )  0   2               f
                                                            ∂s ∂s  f           H 0 ∂sf ∂sf 0
                                                     g∈F
                                            
                      X ∂T g
              −H 0                 S 0 (0) ,
                              ∂sf
                      g∈F
                    X  ∂ 2T g                       1 ∂T g ∂T g 00
                                                                            X
                                                                                   ∂T g 0
                0                           0
            =H +                         S    (0) +                S    (0)  −          S (0),
                            ∂sf ∂sf 0                H 0 ∂sf ∂sf 0                  ∂sf
                    g∈F                                                        g∈F
              X  ∂ 2T g                              g
                                                1 ∂T ∂T 00 g
                                                                   
                                  0
            =                  0 S (0) +                     S (0) ,
                       f
                    ∂s ∂s    f                 H 0 ∂sf ∂sf 0
              g∈F
               2 M
                                         1 ∂T M ∂T M 00
                                                                 
                  ∂ T       0
            =             S (0) + 0                       S (0)
                ∂sf ∂sf 0               H ∂sf ∂sf 0
                 X  ∂ 2T g                        1 ∂T g ∂T g 00
                                                                       
                                      0
              +            f ∂sf 0
                                    S (0) + 0 f f 0 S (0) .
                 g∈O
                       ∂s                         H ∂s ∂s

   Assume first that f ∈ O and/or f 0 ∈ O. Then, by Lemma 5 and since T M =                                                       T g,
                                                                                                                        P
                                                                                                                            g∈M
                                    
                 2
               ∂ H                  2H 0                                                               if f 6= f 0 ,
                                =                                                        2
              ∂sf ∂sf 0   s=0
                                        H0
                                                2(1   + α)S 0 (0) +   1          H0
                                                                                               S 00 (0) if f = f 0 ,
                                        S 0 (0)                       H0        S 0 (0)

                                = 2H 0 .




                                                              45
   Next, assume instead that f, f 0 ∈ M. Then,
                                                                  2
                                                           H0
                2
              ∂ H                2H 0 +         1
                                                 H0
                                                       S 00 (0)
                                                          S 0 (0)
                                                                                 if f 6= f 0 ,
                               =                                0 2
             ∂sf ∂sf 0   s=0
                                  H 0 2(1 + α)S 0 (0) + 1       H
                                                                        S 00 (0) if f = f 0 ,
                                   S 0 (0)                H0    S 0 (0)
                                 (
                                  2H 0 (1 − α) if f 6= f 0 ,
                               =
                                  2H 0          if f = f 0 .

   By Taylor’s theorem,
                                                                                                
                                 X               H0    X                X          
          H(s) = H 0 + H 0              sf +        2       s f g
                                                                s  − 2α       sf sg         2
                                                                                     + o(ksk ),
                                 f ∈F
                                                 2  
                                                       f,g∈F            f,g∈M
                                                                                        f 6=g
                                                                                         
                                                               !2
                          X                      X                              X          
                = H0 
                      1 +   sf +                         sf            −α            sf sg         2
                                                                                             + o(ksk ).
                                 f ∈F             f ∈F                       f,g∈M
                                                                              f 6=g


Using the fact that log(1 + x) = x − 21 x2 + o(x2 ) in the neighborhood of x = 0, this implies
that
                                             !2                              !2
                          X         X                 X            1 X
     log H(s) = log H 0 +      sf +       sf    −α         sf sg −        sf    + o(ksk2 ),
                          f ∈F      f ∈F             f,g∈M
                                                                   2 f ∈F
                                                                             f 6=g
                                         X
                         ∗                        f g                    2
              = log H (s) − α                    s s + o(ksk ), by Lemma 3,
                                        f,g∈M
                                         f 6=g

              = log H ∗ (s) − α∆M HHI(s) + o(ksk2 ).

   Next, we approximate post-merger market shares:

Lemma 13. In the neighborhood of s = 0, for every f ∈ O

                                                 s̄f = sf + o(ksk2 ),

and                                       X
                                s̄M =            sf − α∆M HHI(s) + o(ksk2 ).
                                         f ∈M


Proof. By definition, for every f ∈ F,

                                                                        Tf
                                                                            
                                                      f
                                                  s̄ = S                         .
                                                                        H

                                                               46
For every f ∈ F and f 0 ∈ F,

                                      ∂s̄f                ∂T f    T f ∂H                       Tf
                                                                                                 
                                               1                                       0
                                           0 =                  −                  S                    .
                                      ∂s f
                                               H          ∂sf 0   H ∂sf
                                                                        0
                                                                                               H

It follows that                                 (
                              ∂s̄f               0 if f 6= f 0 and (f 6= M or f 0 ∈
                                                                                  / M),
                                            =
                              ∂sf 0   s=0        1 otherwise.

    For every f ∈ F and f 0 , f 00 ∈ F,

    ∂ 2 s̄f                   ∂H 1 ∂T f 0
                                                        2 f
                                                                              1 ∂T f ∂H
                                                                                              
                                                     1      ∂ T
                       = − f 00 2 f 0 S (0) +                        00 −                        S 0 (0)
  ∂sf 0 ∂sf 00   s=0          ∂s H ∂s                H ∂s ∂s f 0   f
                                                                             H ∂s ∂sf 00  f 0


                                    f   f
                               1 ∂T ∂T
                         + 2 f 0 f 00 S 00 (0),
                              H ∂s ∂s
                               1 ∂T f 0
                                                   2 f
                                                                      ∂T f                      1 ∂T f ∂T f 00
                                                                              
                                               1       ∂ T                        0
                       = − 0 f 0 S (0) + 0                        −             S   (0)  +                       S (0),
                              H ∂s             H     ∂sf 0 ∂sf 00     ∂sf 00                (H 0 )2 ∂sf 0 ∂sf 00
                         S 0 (0)                                       S 00 (0) ∂T f ∂T f
                                  2 f
                                               ∂T f     ∂T f
                                                               
                                    ∂ T
                       =              0   00 −     0 −      00    +                           .
                          H0      ∂sf ∂sf      ∂sf      ∂sf           (H 0 )2 ∂sf 0 ∂sf 00

    Suppose first that f 6= M , so that f ∈ F. Clearly, if f 0 6= f and f 00 6= f , then,

                                                         ∂ 2 s̄f
                                                                            = 0.
                                                       ∂sf 0 ∂sf 00   s=0

If f 00 6= f , then
                                    ∂ 2 s̄f             S 0 (0)        ∂ 2T f      ∂T f
                                                                                               
                                                      =                          −                  = 0.
                                   ∂sf ∂sf 00   s=0      H0           ∂sf ∂sf 00   ∂sf
Finally,
                                                                                    2
                   ∂ 2 s̄f           S 0 (0)        ∂ 2T f         S 00 (0) ∂T f
                                                                ∂T f
                                                                         
                                   =                        − 2 +                      ,
                  ∂(sf )2    s=0      H0            ∂(sf )2     ∂sf
                                                                  (H 0 )2 ∂sf
                                                                                       0 2
                                     S 0 (0)                                 S 00 (0)
                                              0
                                                                 H0
                                                                         
                                               H                                         H
                                   =           0
                                                    2(1 + α) − 2 0         +                 ,
                                      H   0   S (0)             S (0)        (H ) S 0 (0)
                                                                                  0 2

                                   = 0.

    Next, assume that f = M . Clearly, if f 0 , f 00 ∈
                                                     / M, then

                                                        ∂ 2 s̄M
                                                                            = 0.
                                                       ∂sf 0 ∂sf 00   s=0




                                                                  47
Next assume that f 00 ∈
                      / M and f 0 ∈ M. Then,

                         ∂ 2 s̄M           S 0 (0)
                                                    2 M
                                                                   ∂T M
                                                                         
                                                     ∂ T
                                         =                       −         ,
                        ∂sf 0 ∂sf 00 s=0    H0      ∂sf 0 ∂sf 00   ∂sf 0
                                                    2 f0               0
                                           S 0 (0)   ∂ T           ∂T f
                                         =                       − f0 ,
                                            H0      ∂sf 0 ∂sf 00   ∂s
                                                      = 0.

Next, assume that f 0 , f 00 ∈ M. Then,
                                                                 0        00                   0    00
              ∂ 2 s̄M               S 0 (0)   ∂ 2T M        ∂T f     ∂T f         S 00 (0) ∂T f ∂T f
                                               
                                  =                       − f 0 − f 00 +                                ,
             ∂sf 0 ∂sf 00   s=0      H0      ∂sf 0 ∂sf 00   ∂s        ∂s          (H 0 )2 ∂sf 0 ∂sf 00
                                                                                   0 2
                                    S 0 (0)                              S 00 (0)
                                             2 M
                                                               H0
                                                                    
                                              ∂ T                                     H
                                  =              0     00 − 2  0
                                                                      +                        .
                                     H   0     f
                                             ∂s ∂s   f        S (0)      (H ) S 0 (0)
                                                                              0 2


Hence, if f 0 = f 00 , then
                                                                0                                               2
                    ∂ 2 s̄M               S 0 (0)        ∂ 2T f         H0             S 00 (0)        H0
                                                                                                
                                        =                          − 2               +                               ,
                   ∂sf 0 ∂sf 00   s=0      H0            ∂(sf 0 )2     S 0 (0)         (H 0 )2        S 0 (0)
                                        = 0.

    If instead f 0 6= f 00 , then
                                                        0                00                                                2
           ∂ 2 s̄M               S 0 (0)        ∂ 2T f       ∂ 2T f           H0                S 00 (0)          H0
                                                                                                          
                               =                           +             − 2                  +                                 ,
          ∂sf 0 ∂sf 00   s=0      H0           ∂sf 0 ∂sf 00 ∂sf 0 ∂sf 00     S 0 (0)            (H 0 )2          S 0 (0)
                               = −2α.

The lemma follows by Taylor’s theorem.

    Let
                                                              X
                                                              1
                                                                      
                                               Π(s) =               −1 ,
                                                      f ∈F
                                                           1 − αsf
                                                      X 1            
                                           and Π(s) =               −1 ,
                                                           1 − αs̄f
                                                              f ∈F


be aggregate profits, pre- and post-merger, respectively.

Lemma 14. In the neighborhood of s = 0,

                                                   Π(s) − Π(s) = o(ksk2 ).

                                                   1
Proof. By Lemma 13, and since                    1−αx
                                                            = 1 + αx + α2 x2 + o(kxk2 ) in the neighborhood of

                                                                    48
x = 0, we have that                              X                 X
                                   Π(s) = α             sf + α 2          (sf )2 + o(ksk2 ),
                                                 f ∈F              f ∈F

and
            1         X 1             
  Π(s) =          −1+                −1 ,
         1 − αs̄M     f ∈O
                           1 − αs̄ f

                              
                                                                           !2
             X f     X      
                          f g   2
                                                              X                      X                 X
          = α
              s  − α   s  s +α                                     sf         +α          sf + α 2          (sf )2 + o(ksk2 ),
                 f ∈M              f,g∈M                      f ∈M                   f ∈O              f ∈O
                                    f 6=g
               X                 X
          =α          sf + α 2          (sf )2 + o(ksk2 ),
               f ∈F              f ∈F
                             2
          = Π(s) + o(ksk ).

    Combining Lemmas 12 and 14 proves the second part of Proposition 5:

Lemma 15. In the neighborhood of s = 0,

                             AS(s̄(s)) − AS(s) = −α∆M HHI(s) + o(ksk2 ).


D      Approximation Results Around Monopolistic Com-
       petition Conduct
This section is organized as follows. We first provide more details on our treatment of firm
conduct in Section D.1. We then prove Proposition 4 in Section D.2, and Proposition 6 in
Section D.3.


D.1       Firm Conduct
Let θ ∈ [0, 1] be a conduct parameter as defined at the end of Section 2.3. The first-order
condition for product i ∈ n ∈ f is given by

                                                             0
                                             P
  Hnβ−1                                       j∈n (pj − cj )hj
          
             0              00          ∂H n
           −hi − (pi − ci )hi + (1 − β)
   H                                    ∂pi        Hn
                                                                                                                         !
                                                                 H 1−β ∂H X β−1 X
                                                             + θ× n        H        (pj − cj )h0j                            = 0,
                                                                  H ∂pi l∈f l   j∈l




                                                              49
which can be rewritten as
                                                    − cj )(−h0j )
                                     P
   pi − ci pi h00i                        j∈n (pj                      1 X β−1 X
                   = 1 + (1 − β)                                  + θβ      H      (pj − cj )(−h0j ),   (24)
      pi −h0i                                       Hn                 H l∈f l j∈l


so that the common ι-markup property within nest n continues to hold. Let µ̃n be firm f ’s
ι-markup in nest n. Then, using equation (3), equation (24) simplifies to

                                                                         1 X l β
                            µ̃n (1 − α̃(1 − β)) = 1 + θα̃β                     µ̃ Hl ,                  (25)
                                                                         H l∈f

so that µ̃n = µ̃n0 ≡ µ̃f for every n, n0 ∈ f . Using the common ι-markup property both within
nest and across nests allows us to further simplify equation (25):

                                     µ̃f (1 − α̃(1 − β)) = 1 + θα̃β µ̃f sf .

Defining µf ≡ µ̃f (1 − α̃(1 − β)) as we did in Section 2.3, this implies that

                                                                1
                                                     µf =            .                                  (26)
                                                            1 − θαsf
   As the conduct parameter θ does not affect the demand system, it is still the case that
                            (                                  α
                                Tf
                                                             1−α
                                         1 − (1 − α)µf              in the case of NCES,
                     sf =       H
                                Tf
                                                                                                        (27)
                                         −µf
                                H
                                     e                              in the case of NMNL.

   Thus, firm f ’s markup and market share jointly solve equations (26) and (27). This pins
down the fitting-in functions m(T f /H, θ) and S(T f /H, θ). The profit fitting-in function is
given by

                                           β X β−1 X
                     π(T f /H, θ) =                H         (pj − cj )(−h0j ),
                                           H l∈f l       j∈f
                                           β       X
                                          = µ̃f α̃     Hlβ , using equation (3),
                                           H       l∈f

                                          = αµf sf , by definition of µf , sf , and α,
                                                 f   f 
                                                  T           T
                                          = αm        ,θ S        ,θ ,
                                                   H           H
                                                    f 
                                              αS TH , θ
                                          =           
                                                        f
                                                            .
                                            1 − αθS TH , θ




                                                            50
The equilibrium aggregator level H ∗ (θ) uniquely solves the equation

                                        H0 X                Tf
                                                                   
                                          +      S             ,θ       = 1.
                                        H   f ∈F
                                                            H

It is easy to see that H ∗ (θ), m(·, θ), S(·, θ), and π(·, θ) all tend to their value under monopo-
listic competition as θ tends to 0, and to their value under fully-fledged oligopoly as θ tends
to 1, as stated at the end of Section 2.3.


D.2     Proof of Proposition 4
We prove a series of lemmas that jointly imply Proposition 4.
    Recall that the markup and market-share fitting-in functions, m(x, θ) and S(x, θ), jointly
solve the system

                                1
                     µf =            ,
                            1 − θαsf
                            (                 α
                              x 1 − (1 − α)µf 1−α              in the case of NCES,
                     sf =
                                  −µf
                             xe                                in the case of NMNL.

   We compute the derivatives of S with respect to x and θ at θ = 0:

Lemma 16. For every α ∈ (0, 1] and x > 0,

                                           ∂S                S(x, 0)
                                                        =            ,
                                           ∂x   (x,0)          x
                                           ∂S
                                    and                 = −αS(x, 0)2 .
                                           ∂θ   (x,0)


Proof. Under NMNL demand,
                                                                              
                                           −m                1
                                S = xe          = x exp −                          .
                                                          1 − θS

Hence, at θ = 0,
                                         S
                                           dx − S 2 dθ,
                                          dS =
                                         x
which proves the lemma for the case α = 1.
   Under NCES demand,
                                                         α
                                                        1−α              α
                                    α           1−α                1 − θS 1−α
          S = x (1 − (1 − α)m)     1−α   =x 1−               =x α             .
                                               1 − θαS            1 − θαS



                                                     51
   Hence, at θ = 0,

                 S        α    1 − αθS    1     
         dS =      dx +      S                    (−θ(1 − αθS) + αθ(1 − θS)) dS
                 x      1 − α 1 − θS (1 − αθS)2
                                                
                 + (−S(1 − αθS) + αS(1 − θS)) dθ ,
                 S
             =     dx − αS 2 ,
                 x
which proves the lemma for the case α < 1.

     Fix a profile of types (T f )f ∈F and a value of the outside option H 0 ≥ 0, and let H ∗ (θ)
be the equilibrium value of the aggregator when the conduct parameter is θ. We compute
H ∗0 (0), and use this derivative to obtain the first part of Proposition 4:

Lemma 17. The following holds:
                                                                               2
                                 d log H ∗                                Tf
                                                           X          
                                                   = −α           S          ,0 .
                                     dθ      θ=0           f ∈F
                                                                          H∗

This implies that, in the neighborhood of θ = 0,

                                 CS(θ) − CS(0) = −α HHI(θ)θ + o(θ).

Proof. Recall that H ∗ (θ) is pinned down by the equilibrium condition

                                      H0 X                Tf
                                                                 
                                         +     S             ,θ           = 1.
                                      H ∗ f ∈F            H∗

Totally differentiating the equilibrium condition, we obtain:
                                               f !
             dH ∗ H 0 X T f           ∂S       T              X ∂S  T f 
           − ∗           +                         ,θ   + dθ              , θ = 0.
              H      H ∗ f ∈F H ∗ ∂(T f /H ∗ ) H ∗            f ∈F
                                                                   ∂θ H ∗



Evaluating the above expression at θ = 0, and using Lemma 16 and the equilibrium condition,
we obtain:                                                   2
                             dH ∗
                                                  f
                                         X          T
                          − ∗       − dθ      αS    ∗ (0)
                                                          , 0 = 0,
                            H (0)        f ∈F
                                                  H

which proves the first part of the lemma.
   The second part of the lemma follows by Taylor’s theorem:

                                 CS(θ) − CS(0) = −α HHI(0)θ + o(θ),
                                                    = −α HHI(θ)θ + o(θ),


                                                      52
where the second line follows from the fact that HHI(θ) − HHI(0) is at most first order.
   Let Π(θ) denote aggregate equilibrium profits when the conduct parameter is θ. We
compute Π0 (0):
                                       f      
Lemma 18. Π0 (0) = α2 HHI(0) f ∈F S HT∗ (0) , 0 .
                             P

Proof. Let sf (θ) = S(T f /H ∗ (θ), θ) and

                                            f           sf (θ)
                                           π (θ) = α
                                                     1 − αθsf (θ)

be firm f ’s equilibrium market share and profit, respectively. Then,

                                   T f d log H ∗
                                                                
                         f0                         ∂S        ∂S
                        s (0) = − ∗                        +          ,
                                   H       dθ ∂(T f /H ∗ ) ∂θ θ=0
                                 = α HHI(0)sf (0) − α(sf (0))2 .

Hence,
                   π f 0 (0) = α sf 0 (0) − sf (0) −αsf (0) = α2 HHI(0)sf (0).
                                                           

Adding up over all firms proves the lemma.
   Combining Lemmas 17 and 18, we obtain the second part of Proposition 4:
Lemma 19. In the neighborhood of θ = 0,
                                                                                     !
                                                                         Tf
                                                         X          
               AS(θ) − AS(0) = −α HHI(θ) 1 −                    S               ,θ        θ + o(θ).
                                                         f ∈F
                                                                        H ∗ (θ)

Proof. Lemmas 17 and 18 and Taylor’s theorem imply that
                                                                                  !
                                                                         Tf
                                                         X          
               AS(θ) − AS(0) = −α HHI(0) 1 −                    S               ,0   θ + o(θ).
                                                         f ∈F
                                                                        H ∗ (0)

The lemma follows from the fact that
                                                   !                                !
                                          Tf                       X  Tf
                          X          
            HHI(0) 1 −           S               ,0   − HHI(θ) 1 −      S         ,θ
                          f ∈F
                                         H ∗ (0)                   f ∈F
                                                                          H ∗ (θ)



is at most first order.


D.3      Proof of Proposition 6
Proof. Let CS(θ) and AS(θ) be pre-merger equilibrium consumer surplus and aggregate sur-
plus, respectively. Let HHI(θ) (resp., H ∗ (θ)) be the pre-merger equilibrium value of the

                                                    53
Herfindahl index (resp., aggregator), and

                                                            Tf
                                            X                          
                                 Σ(θ) ≡            S               ,θ
                                            f ∈F
                                                           H ∗ (θ)

be the firms’ aggregate market share. The post-merger values of those quantities are CS(θ),
                  ∗
AS(θ), HHI(θ), H (θ), and Σ(θ), respectively.
                                                        ∗
   Note that CS(0) = CS(0), AS(0) = AS(0), H ∗ (0) = H (0), Σ(0) = Σ(0), and

                             HHI(0) − HHI(0) = ∆M HHI(0),

where ∆M HHI(θ) is the merged-induced, naively computed variation in the Herfindahl index.
  Using these facts and Proposition 4, we obtain:
                                                   
                 CS(θ) − CS(θ) = −α HHI(θ) − HHI(θ) θ + o(θ),
                                                          
                               = −α HHI(0) − HHI(0) + o(1) θ + o(θ),
                                = −α∆M HHI(0)θ + o(θ),
                                = −α ∆M HHI(θ) + o(1) θ + o(θ),
                                                      

                                = −α∆M HHI(θ)θ + o(θ),

which proves the first part of the proposition.
   Similarly,
                                                                
     AS(θ) − AS(θ) = −α HHI(θ) 1 − αΣ(θ) − HHI(θ) (1 − αΣ(θ)) θ + o(θ),
                                                                       
                     = −α HHI(0) (1 − αΣ(0)) − HHI(0) (1 − αΣ(0)) + o(1) θ + o(θ),
                                                     
                     = −α (1 − αΣ(0)) HHI(0) − HHI(0) θ + o(θ),
                     = −α (1 − αΣ(θ) + o(1)) ∆M HHI(θ) + o(1) θ + o(θ),
                                                             

                    = −α (1 − αΣ(θ)) ∆M HHI(θ)θ + o(θ),

which proves the second part of the proposition.


E     Consumer Surplus Effects: Static Analysis
E.1    Proof of Proposition 8
Proof. Recall that ε(·) is the elasticity of S (see Lemma 1) and that the cutoff type solves
the equation:                              !
                                      T̂ M      X Tf 
                                  S          =      S      .
                                       H∗      f ∈M
                                                       H∗


                                                   54
Totally differentiating this equation, we obtain:
                       !                           !
                     M       M      M           M        X Tf Tf 
               0  T̂     dT̂     T̂      0   T̂
             S       ∗       ∗
                               = ∗S              ∗
                                                      −            ∗
                                                                     S0        ,
                  H      dH       H          H           f ∈M
                                                               H         H∗
                                            !            !
                                      T̂ M          T̂ M        X Tf  Tf 
                               =ε             S              −        ε         S         ,
                                      H∗            H∗          f ∈M
                                                                          H ∗        H ∗

                                            !
                                         M                   f        X Tf  Tf 
                                                              
                                      T̂       X           T
                               =ε                    S            −       ε          S       ,
                                      H ∗ f ∈M            H∗         f ∈M
                                                                              H  ∗       H ∗

                                                    !                  !  
                                               T̂ M            Tf             Tf
                                 X                                  
                               =           ε           −   ε             S         ,
                                 f ∈M
                                                H∗             H∗             H∗
                                  < 0,

where the third line follows by definition of T̂ M and the last line follows from Lemma 1 and
from the fact that T̂ M > T f for every f ∈ M.


E.2      Proof of Proposition 9
Proof. Note that
                                          f                    
                                                             Tg
                         T̂M        S −1 S H
                                           T
                                             ∗ +S            H∗
                                                                            
                                                                                Tf Tg
                                                                                        
                              =                Tf       Tg
                                                                       =ξ         ,         ,
                       T + Tg
                        f
                                               H∗
                                                    +   H∗
                                                                                H∗ H∗

where
                                           S −1 (S(x) + S(y))
                               ξ(x, y) ≡                      ,        ∀x, y > 0.
                                                  x+y
Proving the first part of the lemma therefore boils down to showing that ∂ξ/∂x > 0 and
∂ξ/∂y > 0. By symmetry, this is equivalent to proving that ∂ξ/∂x > 0, which we undertake
next.

  Differentiating ξ with respect to x, we obtain:
                                                                                                

         ∂ξ   S −1 (S(x) + S(y))             (x + y) × S 0 (x)            
            =                                                            −1 .
                                                                          
                           2
                                  −1                 0      −1
         ∂x         (x + y)       S (S(x) + S(y)) × S ◦ S (S(x) + S(y))   
                                   |                {z                 }
                                                                  ≡ψ(x,y)




                                                        55
Let z = S −1 (S(x) + S(y)). By definition, S(z) = S(x) + S(y). Moreover, by subadditivity of
S, z > x + y. Assume first that x ≤ y. Note that

                   (x + y)S 0 (x)
         ψ(x, y) =                 ,
                      zS 0 (z)
                   (x + y)S 0 (x)/(S(x) + S(y))
                 =                              ,
                            zS 0 (z)/S(z)
                      xS 0 (x) S(x)         yS 0 (x) S(y)
                       S(x) S(x)+S(y)
                                        +    S(y) S(x)+S(y)
                  =                                           ,
                                    ε(z)
                      xS 0 (x) S(x)         yS 0 (y) S(y)
                       S(x) S(x)+S(y)
                                        +    S(y) S(x)+S(y)
                  ≥                                           , by concavity of S (see Lemma 1),
                                    ε(z)
                              S(x)             S(y)
                      ε(x) S(x)+S(y) + ε(y) S(x)+S(y)
                  =                                      ,
                                   ε(z)
                              S(x)             S(y)
                      ε(z) S(x)+S(y) + ε(z) S(x)+S(y)
                  >                                     , since ε is decreasing (see Lemma 1),
                                   ε(z)
                  = 1.

Therefore, ∂ξ/∂x > 0 whenever x ≤ y.
   Next, assume for a contradiction that ψ(x, y) ≤ 1 for some x > y. Take the smallest such
x. By continuity, this x exists, and satisfies x > y (as shown in the first step of the proof)
and ψ(x, y) = 1. Note that

                                                                                               zS 00 (z)
                                                                                                       
  ∂ψ         1             0                 00        0                    0      0       0
     =                 (S (x) + (x + y)S (x)) zS (z) − (x + y)S (x) S (x) + S (x) 0                         ,
  ∂x    (zS 0 (z))2                                                                             S (z)
                                                                          00
                                                                              
             1                   00      0                     0    2 zS (z)
     =                 (x + y)S (x)zS (z) − (x + y)(S (x))                       , since ψ(x, y) = 1,
        (zS 0 (z))2                                                    S 0 (z)
                                                   00
                                                          
        (x + y)z         00    0           0    2 S (z)
     =                 S (x)S (z) − (S (x)) 0                ,
        (zS 0 (z))2                               S (z)
        (x + y)z(S 0 (x))2 S 0 (z)
                                     00
                                                      S 00 (z)
                                                                
                                      S (x)
     =                                           −                .
                (zS 0 (z))2          (S 0 (x))2 (S 0 (z))2

Next, we argue that S 00 (·)/(S 0 (·))2 is decreasing. Recall from Lemma 1 that

                                            1 S(x)(1 − S(x))(1 − αS(x))
                               S 0 (x) =                                .
                                            x     1 − S(x) + αS(x)2

It follows that
                          00       α(2 − S(x))(1 − S(x))(1 − αS(x))S(x)2
                         S (x) = −                                       .
                                          x2 (1 − S(x)1 + αS(x)2 )3




                                                       56
Hence,
                   S 00 (x)                      α(2 − S(x))
                    0       2
                              =−                                             .
                  (S (x))        (1 − S(x))(1 − αS(x)) (1 − S(x)1 + αS(x)2 )
Since S(·) is strictly increasing, the above expression is strictly decreasing in x if and only if

                                                α(2 − s)
                            ϕ(s) =
                                     (1 − s)(1 − αs) (1 − s1 + αs2 )

is strictly increasing in s. Routine calculations show that ϕ0 (s) > 0 for every s ∈ (0, 1) and
α ∈ (0, 1]. Therefore, ∂ψ(x, y)/∂x > 0. It follows that ψ(x0 , y) < 1 in a small neighborhood
to the left of x. This contradicts the definition of x. We can conclude that ξ is increasing in
both of its arguments, which proves the first part of the lemma.
    To prove the second part of the lemma, note that
                                                                0       0       0
                 T̂ M − (T f + T g )   T̂ M − (T f + T g )   T̂ M − (T f + T g )
                                     >                     >                     ,
                     T f 0 + T g0           Tf + Tg               T f 0 + T g0
                                                                            0       0
where the first inequality follows from the fact that T f + T g > T f + T g and the second
inequality follows from the first part of the lemma.


F     Consumer Surplus Effects: Dynamic Analysis
F.1      Proof of Corollary 1
Proof. The corollary is the analogue of Lemma 4 in Nocke and Whinston (2010), and its
proof is identical to that of the lemma in the earlier paper. It suffices to make the following
two observations.
    First, Lemma 4 in Nocke and Whinston (2010) states the result for the “most lenient”
myopically CS-maximizing merger policy. However, the result and proof also hold for the
“least lenient” such policy. As noted in the text, these two policies are generically identical
in our model as every merger is, generically, either CS-increasing or CS-decreasing, but not
CS-neutral.
    Second, the proof of Lemma 4 uses the monotonicity property of Lemma 2 in Nocke and
Whinston (2010). It is straightforward to see that Lemmas 5 and 6 in Nocke and Whinston
(2010) hold in our setup, implying that the monotonicity property of Lemma 2 carries over
as well.


F.2      Proof of Proposition 12
Proof. We first show that merger Mk is profitable if it is CS-neutral. Recall that the profit
of a firm can be written as Π = m − 1, and its market share as S = (m − 1)/(αm). It follows



                                                57
that Π = αmS. Note that
          Mk   Mk       Mk  X  f              f  f
          T        T        T           T      X      T     T
       m     ∗
               S      ∗
                        =m    ∗
                                      S   ∗
                                            >      m    ∗
                                                          S   ∗
                                                                ,
           H        H       H    f ∈M
                                        H     f ∈M
                                                      H     H
                                                  k                   k


where the equality follows because the merger is CS-neutral, and the inequality follows be-
cause T̂ Mk > T f for every f ∈ Mk and m0 (·) > 0.
    Hence, merger Mk is profitable if T Mk = T̂ Mk . Next, suppose that the merger is CS-
increasing, i.e., T M > T̂ M . Then, by Proposition 2, the merged firm makes a strictly higher
equilibrium profit than if its type were T̂ Mk , i.e., if it were CS-neutral.


F.3    Proof of Proposition 14
Proof. The proposition is the analogue of Proposition 3, part (i) in Nocke and Whinston
(2010), and its proof is identical to that of the proposition in the earlier paper. (Note that,
in our model, the most and least lenient myopically CS-maximizing merger policies generically
coincide.) The proof in Nocke and Whinston (2010) makes explicit use of the statement about
the private profitability of CS-nondecreasing mergers in Corollary 1 as well as of Lemmas 2,
4 and 5 in that paper. The profitability statement of Corollary 1 in Nocke and Whinston
(2010) corresponds to Proposition 12 in our paper whereas Lemma 4 in Nocke and Whinston
(2010) corresponds to our Corollary 1. As noted in the proof of our Corollary 1, Lemmas 5
and 6 in Nocke and Whinston (2010) hold in our setup, implying that Lemma 2 in Nocke
and Whinston (2010) carries over as well.


G     External Effects
G.1     Preliminaries
We first derive the formula for η(H):

Lemma 20. η(H) is given by:
                                                  X
                                   η(H) = −1 +           φ(sf , α),
                                                  f ∈O


where sf = S(T f /H), and

                                   αs(1 − s)
                 φ(s, α) =                          ,     ∀s ∈ (0, 1), ∀α ∈ (0, 1].
                             (1 − αs)(1 − s + αs2 )

Proof. This follows from the definition of η and from the fact that

                                 S 0 (x)                     1
             xm0 (x) = xα                 , since m(x) =           ,
                             (1 − αS(x))2                1 − αS(x)

                                                58
                               α      S(x)(1 − S(x))(1 − αS(x))
                       =                                        , by Lemma 1,
                         (1 − αS(x))2     1 − S(x) + αS(x)2
                                 αS(x)(1 − S(x))
                       =                                 ,
                         (1 − αS(x))(1 − S(x) + αS(x)2 )
                       = φ(S(x), α).

   Next, we put on record the following facts about the function φ:
                                 √
                         1        33
Lemma 21. Let α̂ =       2
                             +   18
                                       ' 0.82. The function φ has the following properties:

 (a) For every s ∈ (0, 1), φ(s, ·) is strictly increasing.

 (b) If α ≤ α̂, then φ(s, α) ≤ s for every s ∈ (0, 1).

Moreover, if α > α̂, then there exist thresholds s∗ (α) ∈ (0, 1] and ŝ(α) ∈ (1/4, 1) such that:

 (c) φ(·, α) is strictly increasing on (0, s∗ (α)) and strictly decreasing on (s∗ (α), 1).

 (d) φ(·, α) is strictly convex on (0, ŝ(α)) and strictly concave on (ŝ(α), 1).

Proof. We prove the lemma (analytically) using Mathematica. Mathematica files are availa-
ble upon request.


G.2     Proof of Proposition 16
Proof. If α ≤ α̂, then, by Lemma 21, φ(x, α) ≤ x for every x ∈ (0, 1). As outsiders’ market
shares add up to strictly less than 1, Lemma 20 immediately implies that any infinitesimal
CS-decreasing merger has a negative external effect. Hence, any (not necessarily infinitesimal)
CS-decreasing merger has a negative external effect.
   Next, suppose α > α̂, and define

                         [                                           n
                                                                     X
                                 n              n                n
                  S=           S , where S = {s ∈ [0, 1] :                  si ≤ 1} ∀n ≥ 1,
                         n≥1                                         i=1
                         [                                           Xn
                  S̄ =         S n , where S¯n = {s ∈ [0, 1]n :             si = 1} ∀n ≥ 1,
                         n≥1                                          i=1


and                                                  X
                                     Ψ(α) = sup          φ(·, α), ∀α ∈ (α̂, 1],
                                               s∈S
                                                     s

where                                  n
                  X                    X
                       φ(·, α) ≡             φ(si , α), ∀s = (si )1≤i≤n ∈ S, ∀α ∈ (0, 1].
                   s                   i=1




                                                         59
                                                                     P
    Clearly, since φ(x, α) ≥ 0 for all x, we have that Ψ(α) = sups∈S̄ s φ(·, α). Next, we
                            P
claim that Ψ(α) = sups∈S¯4 s φ(·, α). To prove this, we show that, for every s ∈ S̄, there
exists s0 ∈ S¯4 such that          X             X
                                       φ(·, α) ≤   φ(·, α).
                                         s                 s0

If s belongs to S n for some n ≤ 4, or, more generally, if s has at most four components
different from zero, then this is obvious. Assume instead that s has five or more components
different from zero. Assume without loss of generality that s ∈ S¯n for some n ≥ 5, that
si > 0 for every i, and that the components of si have been sorted in increasing order. We
construct s0 by induction.
    Let us first define a function ξ, which takes as argument a profile of market shares s̃ ∈ S¯n
sorted in increasing order and with strictly positive components, and returns a profile of
market shares ξ(s̃) sorted in increasing order and with strictly positive components, such
that either ξ(s̃) ∈ S¯n , or ξ(s̃) ∈ S̄ n−1 . ξ(s̃) is defined as follows:

   • If s̃2 ≥ ŝ(α) (or if s̃ ∈ S 1 ), then ξ(s̃) = s̃.

   • If s̃2 < ŝ(α), then do the following:

         – If s̃1 + s̃2 ≤ ŝ(α), then form the (n − 1)-dimensional vector with first component
           s̃1 + s̃2 and remaining components (s̃i )3≤i≤n , and sort that vector in increasing
           order to obtain ξ(s̃).
         – If instead s̃1 + s̃2 > ŝ(α), then form the n-dimensional with first component
           s̃1 + s̃2 − ŝ(α), second component ŝ(α), and remaining components (s̃i )3≤i≤n , and
           sort that vector in increasing order to obtain ξ(s̃).

Note that, since φα (·) is convex on [0, ŝ(α)], we have that, for every s̃ ∈ S̄
                                    X              X
                                        φ(·, α) ≤      φ(·, α).
                                         s̃               ξ(s̃)


   We can now define the sequence (sk )k≥0 by induction: s0 = s; sk+1 = ξ(sk ) for every
k ≥ 0. Let mk denote the number of components of sk greater or equal to ŝ(α), and nk
denote the dimensionality of the vector sk . By definition of ξ and of the sequence (sk )k≥0 ,
the sequence of integers (mk )k≥0 (resp. (nk )k≥0 ) is non-decreasing (resp. non-increasing) and
bounded above by n (resp. bounded below by 1). Therefore, those sequences of integers are
eventually stationary: There exists K ≥ 0 such that mk = mk+1 and nk = nk+1 for every
k ≥ K. It follows that (sk )k≥0 is also stationary after K. Let s0 be the stationary value of
the sequence (sk )k≥0 . Then, by induction on k,
                                   X              X
                                       φ(·, α) ≤       φα (·, α).
                                        s                 s0




                                                    60
Moreover, s0 has at most one component in [0, ŝ(α)) (for otherwise, ξ(s0 ) would not be equal
to s0 ). Let n0 be the dimensionality of the vector s0 . We claim that n0 ≤ 4. Suppose n0 > 1.
Then,
                                n0
                               X                         1
                           1=      s0i ≥ (n0 − 1)ŝ(α) > × (n0 − 1),
                               i=1
                                                         4
where the last inequality follows by Lemma 21. Hence, n0 ≤ 4. Having constructed s0 , we
can conclude that                            X
                                  Ψ(α) = sup   φα (·, α).                           (28)
                                                   s∈S¯4        s

   By continuity of φ(·, α) (or, rather, of φ(·, α)’s continuous extension to [0, 1]) and com-
pactness of S¯4 , the maximization problem defined in equation (28) has a solution. Let s be
such a solution. Then, by the convexity argument used in the construction of s0 , s has a
most one component in (0, ŝ(α)). Moreover, since φ(·, α) is strictly concave on [ŝ(α), 1], the
components of s that are greater or equal to ŝ(α) must be equal to each other. It follows
that
                                                                                          
                                                           1−x                       1−x
Ψ(α) = max max φ(x, α) + φ(1 − x, α), φ(x, α) + 2φ              , α , φ(x, α) + 3φ         ,α    .
        x∈[0,1]                                              2                         3

We (analytically) solve the above maximization problem using Mathematica. We obtain:
                                              (
                                                     18α
                                                  18−3α−α2
                                                                       if α ≤ 67 ,
                                Ψ(α) =             4α
                                                  4−α2
                                                                       otherwise.

It is straightforward to check that Ψ is strictly increasing, and that Ψ(α̂) < 1 < Ψ(1). The
                                                                         √
unique solution of equation Ψ(α) = 1 on the interval (α̂, 1] is ᾱ = 23 ( 57 − 7).

  We can conclude. Assume first that α ∈ (α̂, ᾱ]. Then, for every profile of outsiders’ market
shares (sf )f ∈O ,
                                                       !
            X                          X                        X
                   φ(sf , α) < φ 1 −          sf , α       +           φ(sf , α) ≤ Ψ(α) ≤ Ψ(ᾱ) = 1.
            f ∈O                       f ∈O                     f ∈O


Therefore, any CS-decreasing merger must have a negative external effect.
    Assume instead that α > ᾱ. We first show that there exists an infinitesimal CS-decreasing
merger that has a negative external effect. Let O = {1} and I = {2, 3}. Since φ(·, α) is
continuous and φ(0, α) = 0, there exists s ∈ (0, 1) such that φ(s, α) < 1. Let T 1 = S −1 (s),
T 2 = T 3 = S −1 ((1 − s)/2), and H 0 = 0. Then, by construction, the pre-merger equilibrium
aggregator level is H = 1, and market shares are as follows: s1 = s, s2 = s3 = (1 − s)/2.
The external effect of an infinitesimal CS-decreasing merger between firms 2 and 3 is given
by φ(s, α) − 1, which is strictly negative by construction.


                                                           61
   Next, we claim that there exists an infinitesimal CS-decreasing merger that has a positive
external effect. Since Ψ(α) > 1, there exists (si )1≤i≤n ∈ (0, 1]n such that ni=1 si ≤ 1 and
                                                                                P
Pn                                                                 Pn
  i=1 φ(si , α) > 1. By continuity, for ε > 0 small enough,                   − ε, α) > 1.  Let
                                                                     i=1 φ(si 
O = {1, . . . , n}, I = {n + 1, n + 2}, s0i = si − ε for every i ∈ O, s0i = 21 1 − nj=1 s0j for
                                                                                   P

i ∈ I, T i = S −1 (s0i ) for every i ∈ I ∪ O, and H 0 = 0. Then, by construction, an infinitesimal
CS-decreasing merger between the insiders has a positive external effect.
    Since any CS-decreasing merger can be decomposed into the integral of infinitesimal CS-
decreasing mergers, and since a CS-decreasing merger can be made infinitesimal by tweaking
the post-merger type of the merged entity, the above existence results extend immediately
to non-infinitesimal mergers: If α > ᾱ, then there exist CS-decreasing mergers that have a
positive external effect, and CS-decreasing mergers that have a negative external effect.


G.3     Proof of Proposition 17
Proof. It is easy to show that s∗ ≡ inf α∈[ᾱ,1] s∗ (α) ' 0.68, where s∗ (α) was defined in
Lemma 21. Let s = (sf )f ∈O and s0 = (s0f )f ∈O0 such that s ≥1 s0 , and sf ≤ s∗ for every
f ∈ O. There exists an injection ι : O0 −→ O such that sι(f ) ≥ s0f for every f ∈ O0 . Note
that                   X                 X                      X
                 −1 +     φ(s0f ) ≤ −1 +      φ(sι(f ) ) ≤ −1 +   φ(sf , α),
                        f ∈O0                   f ∈O0                           f ∈F

where the first inequality follows by Lemma 21, and the second inequality follows by injecti-
vity of ι and non-negativity of φ. This proves the proposition.


G.4     Proof of Proposition 18
Proof. It is easy to show that ŝ ≡ inf α∈[ᾱ,1] ŝ(α) ' 0.29, where ŝ(α) was defined in Lemma 21.
Let s = (sf )f ∈O and s0 = (s0f )f ∈O0 such that s ≥2 s0 , sf ≤ ŝ for every f ∈ O, and s0f ≤ ŝ
for every f ∈ O0 . Since s ≥2 s0 , those vectors have the same length, and we can assume that
O = O0 = {1, . . . , n} without loss of generality. Note that
                                n
                                X                          Z       ŝ
                                          f
                        −1 +           φ(s , α) = −1 + n                φ(x, α)dPs (x),
                                f =1                       0
                                                           Z       ŝ
                                              ≥ −1 + n                  φ(x, α)dPs0 (x),
                                                               0
                                                        n
                                                        X
                                              = −1 +           φ(s0f , α),
                                                        f =1


where the inequality follows from the convexity of φ(·, α) on [0, ŝ] (see Lemma 21), and the
         R ŝ           R ŝ
fact that 0 xdPs (x) = 0 xdPs0 (x) and Ps0 second-order stochastically dominates Ps . This
proves the proposition.


                                                   62
References
Anderson, S. P., A. de Palma, and J.-F. Thisse (1987): “The CES is a Discrete Choice
 Model?,” Economics Letters, 24(2), 139–140.

Anderson, S. P., N. Erkal, and D. Piccinin (2013): “Aggregate Oligopoly Games with
 Entry,” CEPR Discussion Paper 9511, Center for Economic Policy Research.

Anderson, S. P., and V. Nocke (2014): “Sufficient Statistics for Consumer Welfare
 Analysis in Differentiated-Goods Industries,” Unpublished manuscript.

Armstrong, M., and J. Vickers (forthcoming): “Multiproduct Pricing Made Simple,”
 Journal of Political Economy.

Belleflamme, P., and M. Peitz (2010): Industrial Organization: Markets and Strategies.
 Cambridge University Press.

Berry, S. T. (1994): “Estimating Discrete-Choice Models of Product Differentiation,”
 RAND Journal of Economics, 25(2), 242–262.

Berry, S. T., J. A. Levinsohn, and A. Pakes (1995): “Automobile Prices in Market
 Equilibrium,” Econometrica, 63(4), 841–90.

Björnerstedt, J., and F. Verboven (2016): “Does Merger Simulation Work? Evidence
 from the Swedish Analgesics Market,” American Economic Journal: Applied Economics,
 8(3), 125–64.

Bourreau, M., B. Jullien, and Y. Lefouili (2018): “Mergers and Demand-Enhancing
 Innovation,” TSE Working Papers 18-907, Toulouse School of Economics (TSE).

Bresnahan, T. F. (1989): “Chapter 17 Empirical studies of industries with market power,”
 in Handbook of Industrial Organization, ed. by R. Schmalensee, and R. Willig, vol. 2, pp.
 1011 – 1057. Elsevier.

Cowling, K., and M. Waterson (1976): “Price-Cost Margins and Market Structure,”
 Economica, 43(171), 267–274.

Cumbul, E., and G. Virag (2017): “Multilateral Limit Pricing in Price-Setting Games,”
 Unpublished manuscript.

Dansby, R. E., and R. D. Willig (1979): “Industry Performance Gradient Indexes,”
 American Economic Review, 69(3), 249–60.

Deneckere, R., and C. Davidson (1985): “Incentives to Form Coalitions with Bertrand
 Competition,” RAND Journal of Economics, 16(4), 473–486.



                                           63
Farrell, J., and C. Shapiro (1990): “Horizontal Mergers: An Equilibrium Analysis,”
  American Economic Review, 80(1), 107–26.

        (2010): “Antitrust Evaluation of Horizontal Mergers: An Economic Alternative to
  Market Definition,” The B.E. Journal of Theoretical Economics, 10(1), 1–41.

Federico, G., G. Langus, and T. Valletti (2018): “Horizontal mergers and product
 innovation,” International Journal of Industrial Organization, 59, 1 – 23.

Feenstra, R. C., and D. E. Weinstein (2017): “Globalization, Markups, and US Wel-
 fare,” Journal of Political Economy, 125(4), 1040–1074.

Goldberg, P. (1995): “Product Differentiation and Oligopoly in International Markets:
 The Case of the U.S. Automobile Industry,” Econometrica, 63(4), 891–951.

Goldberg, P., and F. Verboven (2001): “The Evolution of Price Dispersion in the
 European Car Market,” Review of Economic Studies, 68(4), 811–848.

Goppelsroeder, M., M. P. Schinkel, and J. Tuinstra (2008): “Quantifying the
 Scope for Efficiency Defense in Merger Control: The Werden-Froeb Index,” Journal of
 Industrial Economics, 56(4), 778–808.

Gowrisankaran, G. (1999): “A Dynamic Model of Endogenous Horizonal Mergers,”
 RAND Journal of Economics, 30(1), 56–83.

Grassi, B. (2017): “IO in I-O: Size, Industrial Organization, and the Input-Output Network
 Make a Firm Structurally Important,” Working Papers 619, IGIER (Innocenzo Gasparini
 Institute for Economic Research), Bocconi University.

Hausman, J., G. Leonard, and J. D. Zona (1994): “Competitive Analysis with Diffe-
 rentiated Products,” Annals of Economics and Statistics, 34, 143–157.

Hottman, C. J., S. J. Redding, and D. E. Weinstein (2016): “Quantifying the Sources
 of Firm Heterogeneity,” The Quarterly Journal of Economics, 131(3), 1291–1364.

Jaffe, S., and E. G. Weyl (2013): “The First-Order Approach to Merger Analysis,”
  American Economic Journal: Microeconomics, 5(4), 188–218.

Kamien, M. I., and I. Zang (1990): “The Limits of Monopolization Through Acquisition,”
 The Quarterly Journal of Economics, 105(2), 465–499.

Lahiri, S., and Y. Ono (1988): “Helping Minor Firms Reduces Welfare,” Economic Jour-
 nal, 98(393), 1199–1202.

McAfee, R., and M. Williams (1992): “Horizontal Mergers and Antitrust Policy,” Jour-
 nal of Industrial Economics, 40(2), 181–87.


                                           64
Mermelstein, B., V. Nocke, M. A. Satterthwaite, and M. D. Whinston (2014):
 “Internal versus External Growth in Industries with Scale Economies: A Computatio-
 nal Model of Optimal Merger Policy,” Working Papers 14-10, University of Mannheim,
 Department of Economics.

Miller, N. H., and M. C. Weinberg (2017): “Understanding the Price Effects of the
 MillerCoors Joint Venture,” Econometrica, 85(6), 1763–1791.

Motta, M., and E. Tarantino (2017): “The effect of horizontal mergers, when firms
 compete in prices and investments,” Economics working papers, Department of Economics
 and Business, Universitat Pompeu Fabra.

Nevo, A. (2000a): “Mergers with Differentiated Products: The Case of the Ready-to-Eat
 Cereal Industry,” RAND Journal of Economics, 31(3), 395–421.

          (2000b): “A Practitioner’s Guide to Estimation of Random-Coefficients Logit Mo-
  dels of Demand,” Journal of Economics & Management Strategy, 9(4), 513–548.

         (2001): “Measuring Market Power in the Ready-to-Eat Cereal Industry,” Econo-
  metrica, 69(2), 307–42.

Nocke, V., and N. Schutz (2018): “Multiproduct-Firm Oligopoly: An Aggregative Ga-
 mes Approach,” Econometrica, 86(2), 523–557.

Nocke, V., and M. D. Whinston (2010): “Dynamic Merger Review,” Journal of Political
 Economy, 118(6), 1201 – 1251.

        (2013): “Merger Policy with Merger Choice,” American Economic Review, 103(2),
  1006–33.

Perry, M. K., and R. Porter (1985): “Oligopoly and the Incentive for Horizontal Mer-
 ger,” American Economic Review, 75(1), 219–27.

Peters, C. (2006): “Evaluating the Performance of Merger Simulation: Evidence from the
 U.S. Airline Industry,” Journal of Law and Economics, 49(2), 627–49.

Restuccia, D., and R. Rogerson (2017): “The Causes and Costs of Misallocation,”
 Journal of Economic Perspectives, 31(3), 151–174.

Salant, S., S. Switzer, and R. J. Reynolds (1983): “Losses From Horizontal Merger:
  The Effects of an Exogenous Change in Industry Structure on Cournot-Nash Equilibrium,”
  The Quarterly Journal of Economics, 98(2), 185–199.

U.S. Department of Justice and Federal Trade Commission (2010): “Horizontal
  Merger Guidelines,” August 19, 2010.


                                           65
Verboven, F. (1996): “International Price Discrimination in the European Car Market,”
 RAND Journal of Economics, 27(2), 240–268.

Werden, G., and L. Froeb (1994): “The Effects of Mergers in Differentiated Products
 Industries: Logit Demand and Merger Policy,” Journal of Law, Economics, and Organi-
 zation, 10(2), 407–26.

Werden, G. J. (1996): “A Robust Test for Consumer Welfare Enhancing Mergers among
 Sellers of Differentiated Products,” Journal of Industrial Economics, 44(4), 409–413.

Whinston, M. D. (2007): “Chapter 36: Antitrust Policy toward Horizontal Mergers,” in
 Handbook of Industrial Organization, ed. by M. Armstrong, and R. Porter, vol. 3, pp. 2369
 – 2440. Elsevier.

Williamson, O. E. (1968): “Economies as an Antitrust Defense: The Welfare Tradeoffs,”
 American Economic Review, 58(1), 18–36.

Zhao, J. (2001): “A Characterization for the Negative Welfare Effects of Cost Reduction in
  Cournot Oligopoly,” International Journal of Industrial Organization, 19(3-4), 455–469.




                                           66
