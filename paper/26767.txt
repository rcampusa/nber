                              NBER WORKING PAPER SERIES




                    IMMIGRATION LOTTERY DESIGN:
      ENGINEERED AND COINCIDENTAL CONSEQUENCES OF H-1B REFORMS

                                        Parag A. Pathak
                                        Alex Rees-Jones
                                        Tayfun Sönmez

                                      Working Paper 26767
                              http://www.nber.org/papers/w26767


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                    February 2020




We are grateful to David H. Autor, Sameer H. Doshi, and Ran Shorrer for helpful conversations.
Pathak and Sönmez thank the National Science Foundation for support. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2020 by Parag A. Pathak, Alex Rees-Jones, and Tayfun Sönmez. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Immigration Lottery Design: Engineered and Coincidental Consequences of H-1B Reforms
Parag A. Pathak, Alex Rees-Jones, and Tayfun Sönmez
NBER Working Paper No. 26767
February 2020
JEL No. D47,D61,D63,J24,K37

                                          ABSTRACT

In 2005, the U.S. Congress legislated that the H-1B visa program create 20,000 annual slots
reserved for advanced-degree applicants. Since then, the U.S. Customs and Immigration Service
(USCIS) has used visa allocation rules that comply with this legislation. Following a directive in
the April 2017 Buy American and Hire American Executive Order by President Trump, USCIS
tweaked its H-1B visa allocation rule in 2019. While remaining in compliance with the legislation
set forth in 2005, the USCIS estimated that the 2019 rule change would increase the number of
higher-skill awards by more than 5,000 annually at the expense of lower-skill awards. The rule
change was explicitly engineered for this objective. In this paper we characterize all visa
allocation rules that comply with the 2005 legislation and use this framework to analyze the rules
that have been deployed in the interim. Despite specifying rigid caps, we show that the legislation
permits a range of rules that can change the number of high-skill awards by as many as 14,000 in
an average year. Of all rules that comply with the legislation, the 2019 rule adopted by the Trump
administration maximizes the rate of high-skill awards and minimizes the rate of low-skill
awards. However, two previous and relatively unknown changes to the H-1B visa allocation rule
resulted in more substantial changes to this distribution. These earlier reforms, however, were
motivated by logistical considerations, potentially without understanding of their distributional
consequences.

Parag A. Pathak                                  Tayfun Sönmez
Department of Economics, E52-426                 Boston College
MIT                                              Department of Economics
50 Memorial Drive                                140 Comm. Ave.
Cambridge, MA 02142                              Chestnut Hill, MA, 02467
and NBER                                         tayfun.sonmez@bc.edu
ppathak@mit.edu

Alex Rees-Jones
Cornell University
Economics Department
404 Uris Hall
Ithaca, NY 14850
and NBER
arr34@cornell.edu
1       Introduction
Since its introduction in the Immigration Act of 1990, the U.S. H-1B program has enabled
American companies to temporarily employ educated foreign workers in occupations that
require highly specialized knowledge.1 Each year, statutory law enacted by the U.S.
Congress mandates the total number of visas to be granted. The U.S. Customs and
Immigration Service (USCIS), a part of the Department of Homeland Security, is charged
with implementing this mandate. Because the H-1B program is the largest temporary
employment program for skilled immigration to the U.S., there are many contentious
debates about the number and type of visas allocated.2 H-1Bs are also a focal point in
broader discussions about the appropriate skill-bias of U.S. immigration policy.3
    This paper studies the visa allocation problem from the perspective of market
design, motivated by the last 15 years of H-1B visa allocation reforms. During this time,
visas were allocated according to the H-1B Visa Reform Act of 2004.4 This act established
an annual system in which 65,000 visas were made available for all eligible applicants and
an additional 20,000 visas were reserved for applicants with advanced degrees. Popular
discussions refer to these reserves as caps; we call the 20,000 visas for those with advanced
degrees the reserved cap and the 65,000 visas available for all applicants the unreserved
cap. We say that reserved-category applicants are those that have earned a master's or
higher degree from a U.S. institution of higher education. We refer to applicants who
are not qualified for these slots as general-category applicants. Although the advanced-
degree reserve cap was prominently advertised, according to the Department of Homeland
Security, details on how the cap should be implemented were left to the discretion of the
USCIS (Register, 2005, 2018).5
    At the time of the H-1B Visa Reform Act of 2004, visa allocation was carried out by
the USCIS on a first-in first-out basis, up to total annual capacity. That is, the allocation
was based on a single priority order, which in this case was induced by the arrival time of
applications. In systems using a single priority order, intuition may suggest that merely
specifying an additional cap for a subgroup of applicants is sufficient to uniquely determine
the allocation.6 Perhaps that is why the Congress has left the details of implementation
    1
      Examples include such as engineering, computer science, or other STEM fields.
    2
      A March 30, 2006 the Congressional Subcommittee on Immigration, Border Security, and Claims
debated whether Congress should raise the H-1B cap (Judiciary, 2006). More recently, in 2018, Senators
Orrin Hatch and Jeff Flake introduced legislation to increase the quota from 65,000 to 85,000 (O'Brien,
2018).
    3
      Becker and Lazear (2013) argue that a market-based system where the U.S. sells the right to be a
citizen would be fairer than current immigration rules.
    4
      This act was signed in December 2004 and took effect in March 2005.
    5
      According to the Federal Register, "Congress did not specify any procedures for implementation or
dictate the manner in which USCIS should allocate H-1B numbers made available pursuant to the new
exemption" (Federal Register Vol. 70, No. 86, Thursday, May 5).
    6
      After all, in the absence of the cap for the subgroup, the allocation is uniquely determined through

                                                    1
of the advanced-degree cap to the USCIS. However, this intuition is misguided: a wide
range of outcomes can be obtained through a range of visa allocation rules subject to an
identical reserved cap.
    Of course, any allocation rule applied must be consistent with existing legislation. The
statutory text in the U.S. Code (8 USC §1184(g)(5)(C))) states that the annual 65,000
unreserved cap

      "shall not apply to any alien [...] who [...] has earned a master's or higher degree
      from a United States institution of higher education [...], until the number of
      aliens who are exempted from such numerical limitation during such year exceeds
      20,000."

Based on this code, we argue that any plausible visa allocation rule should satisfy three
properties. First, it should be non-wasteful, a minimal efficiency requirement. That means
a general-category applicant should not be denied a slot unless all unreserved slots are
exhausted; similarly, a reserved category applicant should not be denied a slot unless
all slots (reserved or unreserved) are exhausted.7 Second, it should accommodate the
reserve policy by restricting the access for reserved slots to reserved category applicants
only. Finally, it should respect priorities, which means an applicant who is qualified for
a slot should not lose it to a candidate who has lower priority for this slot. When a visa
allocation rule satisfies all three properties, we say it complies with the statute.
    Table 1 summarizes the four visa allocation rules that have been implemented in
the H-1B program since 2005, all of which comply with the statute as defined above.
Our formal results characterize how these rules distribute access between general and
advanced-degree applicants. In addition to analyzing these visa allocation rules, we also
document previously unemphasized implications of the transitions between these rules.
    The potential importance of these issues first became apparent in President Trump's
Buy American and Hire American Executive Order in 2017, which instructed the U.S.
Department of Homeland Security to propose reforms to ensure that H-1B visas are
awarded to the most-skilled or highest-paid petition beneficiaries. This declaration led to
an adoption of a new visa allocation rule for FY2020 and was widely touted as increasing
the number of advanced-degree applicants. For example, a government press release stated
(USCIS, 2019):

      "Currently, [...] the advanced degree exemption is selected prior to the H-1B cap.
      The proposed rule would reverse the selection order and count all registration or
      petitions towards the number projected as needed to the reach the H-1B cap first.
      Once a sufficient number of registration or petitions have been selected for the
a simple first-in first-out procedure.
   7
     Throughout the paper, an applicant refers to one who is qualified for a visa. Of course, unqualified
applicants can be denied without violating the non-wastefulness property.


                                                   2
                           Table 1: H-1B Visa Allocation Rules

             Years        Allocation Rule         Priority                   Publicized§
             2005     Over-and-Above ( )  oa
                                                Arrival time                     N
             2006-08  Exemptions-First (ef )    Arrival time                     N
             2009-19  Reserve-Initiated (ru )     Random                         N
                                             ur
             2020    Unreserved-Initiated ( )     Random                         Y

Notes: Years are fiscal years. Appendix provides documentation for each allocation rule from the Federal
Register. §While each rule was described in public documents such as the Federal Register, by Publicized
we mean the presence of prominent press releases and comments/discussion in the Federal Register.  If
the cap is reached on a given day when there are more petitions than slots, a random lottery is used as
a tie-breaker for the remaining slots.


      H-1B cap, USCIS would then select registration or petitions towards the advanced
      degree exemption."


      "The proposed process would result in an estimated increase of up to 16 percent
      (or 5,340 workers) in the number of selected H-1B beneficiaries with master's
      degree or higher."

    Given the publicity and debate regarding the objectives of the 2019 reform, our exam-
ination of the theoretical performance of the earlier iterations of this policy revealed two
surprising findings. First, the degree of skill bias conferred by the FY2020 policy is iden-
tical to that that arises from the system employed immediately after the passage of the
H1-B Visa Reform Act of 2004. Second, two reforms that occurred in the interim (in 2005
and 2008, respectively) had larger effects on the degree of skill bias. Strikingly, neither
the reform in 2005 nor in 2008 were meaningfully publicized, and appear to have been
enacted to overcome logistical hurdles surrounding the timing of visa applications. While
the distributional consequences of the reform of 2019 was explicitly engineered, the larger
distributional consequences of the reforms of 2005 and 2008 appear to be coincidental.
    The next section provides additional detail on the H-1B Visa program and recent
policy changes. It also discusses related literature. Section 3 defines the visa allocation
problem and formally presents our axioms that characterize it. Section 4 studies visa
allocation rules in a setting with one priority order, and then considers visa allocation
rules when there are two separate priority orders for reserved slots and unreserved slots.
The last section concludes. All proofs are in the appendix. A secondary appendix contains
additional information describing the four visa allocation rules used in practice from the
official Federal Register.




                                                   3
2       Causes and Consequences of H-1B Reforms
2.1      H-1B Visa Reform Act of 2004
Prior to the H-1B Visa Reform Act of 2004, allocation of H-1B visas was carried out
annually on a first-in first-out basis. This practice induced a natural priority order between
applicants based on the time a petition arrives at the USCIS or a processing center.
Perhaps due to this practice, the Congress introduced the additional 20,000 advanced-
degree visas and the USCIS provided the following interpretation (USCIS, 2004):

        "The first 20,000 H-1B beneficiaries who have earned a master's degree or higher
        from a U.S. institution of higher education are not subject to the annual congres-
        sionally mandated H-1B visa cap of 65,000.
        After those 20,000 slots are filled, USCIS is required to count those cases against
        the cap for the remainder of the fiscal year."

If this mandate is interpreted in relation to the existing first-in first-out procedure, it
suggests the following visa allocation rule that we refer to as Exemptions-First:

        Process each application one-at-a-time following its arrival time.8

          1. For each qualified application from a member of the general category,
             accept the application counting it against the unreserved cap of 65,000
             until all unreserved slots are exhausted. Reject the application if all
             unreserved slots are exhausted.
          2. For each qualified application from a member of the reserved category,
             (a) exempt the application from the unreserved cap of 65,000 counting
                 it against the reserved cap of 20,000 until all reserved slots are ex-
                 hausted,
             (b) count the application against the unreserved cap of 65,000 if all re-
                 served slots are exhausted although there are remaining unreserved
                 slots, and
             (c) reject the application if all slots (reserved or unreserved) are ex-
                 hausted.

In our view, this procedure reflects how the intended implementation of H-1B Visa Reform
Act of 2004 was interpreted at the time by the USCIS. Supporting this perspective, the
    8
    Time priority is based on the day the visa application is received. For the date on which new
applications cause the annual cap to be exceeded, a random lottery is used among applicants for that
date. Doran, Gelber, and Isen (2015) report that in FY2006 and FY2007 combined, a total of 4,180 visa
applications were allocated through lottery. This represents about 2.5% of the 85,000 total annual slots.


                                                   4
Exemptions-First visa allocation rule was adopted by USCIS for FY2006 and the next
two years.
   For FY2005, however, the USCIS used the following rule, which we refer to as Over-
and-Above:

     Process each application one-at-a-time following their arrival time.

       1. For each qualified application, award the applicant a slot counting it
          against the unreserved cap of 65,000 until all unreserved slots are ex-
          hausted.
       2. Once all unreserved slots are exhausted,
           (a) reject all applications from subsequent general-category applicants;
           (b) process only applications from reserved-category applicants, and award
               the qualified applicant a slot counting it against the reserved cap of
               20,000 until all reserved slots are exhausted;
           (c) reject the application if all slots (reserved or unreserved) are ex-
               hausted.

    The justification offered by the USCIS for using a different visa allocation rule for
FY2005 than the one adopted for subsequent years is based on how the application time-
line intersected with the passage of the 2004 H-1B Visa Reform Act. In the U.S., the
federal government's fiscal year starts on October 1 of the previous year and runs through
September 30 of the year. The Act was announced in December 2004 and took effect
in March 2005. By the time the additional reserved cap of 20,000 took effect, applica-
tions for FY2005 were already evaluated and the unreserved cap of 65,000 was already
allocated. The USCIS indicated that they had no way to identify which of the 65,000
awarded applications would qualify for the advanced-degree exemption, and instead they
stated (Register, 2005)

     "[. . .], for FY 2005, USCIS has determined that the only appropriate way to im-
     plement the H-1B Visa Reform Act of 2004 is to apply the 20,000 exemptions
     prospectively."

    While the justification for using a different visa allocation rule for FY2005 than the
rule adopted for subsequent years had been clearly articulated, the distributional impli-
cations of this one-time implementation have not been analyzed prior to our study. Even
though both rules comply with the statute, their outcomes are very different. Consider
a scenario with 87,380 reserved-category applications and 111,080 general-category ap-
plications. These numbers are the five year averages for FY2013-2017. The number of
admitted advanced-degree applicants is 38,834 under the 2005 Over-and-Above rule and


                                            5
24,630 under the Exemptions-First rule.9 The difference, 16.7% of all annual 85,000 slots,
is large given that both rules implement the same legislation. Therefore, the implemen-
tation of H-1B Visa Reform Act of 2004 significantly influences the distribution of H-1B
visas between reserved-category and general-category applicants.
    In our formal model, we show that, of all the rules that comply with the statute,
the two rules implemented in FY2005 and FY2006-08 play special roles. Of all rules that
comply with the statute, the Over-and-Above visa allocation rule is the most favorable rule
for the reserved-category applicants and the least favorable rule for the general-category
applicants. In striking contrast, the Exemptions-First visa allocation rule is the least
favorable rule for the reserved-category applicants and the most favorable rule for the
general-category applicants. This fact partially motivates our belief that the importance
of these details of implementation was not appreciated at this time.


2.2     2008 Reform
In each of the three years H-1B allocation was implemented using the Exemptions-First
rule, applications arrived earlier than the previous year.10 In FY2008, the number of
general-category applications sufficient to meet the 65,000 unreserved cap arrived the
first day applications were accepted by the USCIS. Indeed, anticipating this may happen,
employers spent significant effort and money to send petitions by expedited overnight
delivery for receipt on the first day petitions would be allowed, resulting in more than
150,000 petitions being delivered on the same day and burdening employers, delivery
services, and USCIS offices.11 This development made clear that the use of arrival time
as a priority measure was breaking down.
    Consequently, in March 2008 USCIS changed its procedure in three important ways:

   1. It abandoned the practice of processing the applications on a first-in first-out basis,
      instead allowing five days from April 1 for all petitions for the upcoming fiscal year
      to be submitted.12

   2. To replace the naturally induced first-in first-out based priority order for all slots,
      USCIS adopted two independent random priority orders r and u ; the former for
      the reserved slots and the latter for the unreserved slots.
   9
     Section 5.2 details these calculations.
  10
     The Federal Register reports that in FY2006 the general cap was reached on August 10, 2005 and
the advanced-degree cap was reached on January 17, 2006; in FY2007 the general cap was reached on
May 26, 2006 and the advanced-degree cap was reached on July 26, 2006; and in FY2008 the general cap
was reached on April 1, 2007 and the advanced-degree cap was reached on May 4, 2007. (Register, 2008).
  11
     This information comes from the United States District Court Case Walker Macy (2017) vs. U.S.
Citizenship and Immigration Services.
  12
     If sufficient applications from either category was not received within five days, the reform allowed
for additional petitions that arrived later.


                                                    6
  3. Under the new procedure, H-1B allocation is determined in two steps: first allocate
     the 20,000 reserved slots to highest r -priority reserved-category applicants, and
     next allocate the 65,000 unreserved slots to highest u -priority applicants consider-
     ing all applicants except those who already received the reserved slots.

We refer to the resulting visa allocation rule as Reserved-Initiated. USCIS allocated H-
1B visas using the Reserved-Initiated visa allocation over the next decade during FY2009-
19. As we have already emphasized, logistical considerations made it necessary to abandon
a system based on first-in first-out evaluation of the applications.
    The choice of using two independent and random lotteries to determine the priority
order for reserved and unreserved slots has one unexplored implication. For two different
scenarios, consider all rules that comply with the statute.

   · In Scenario 1, a single priority order u is used for both unreserved and reserved
     slots. Scenario 1 corresponds to FY2005-08, where the priority for both types of
     slots was carried out on a first-in first-out basis.

   · In Scenario 2, maintain the priority order u for unreserved slots, but adopt a
     different priority order r for the reserved slots.

    We have already stated that the difference between the "reserved-category optimal"
and "reserved-category pessimal" extremes of all visa allocation rules that comply with
the statute is significant when there is a single priority order for both types of slots, i.e
under Scenario 1. In Theorem 3 below, we show that there exists analogous "reserved-
category optimal" and "reserved-category pessimal" outcomes under Scenario 2 as well.
Moreover, under both scenarios, the "reserved-category optimal" outcome assigns exactly
the same number of reserved-category applicants. However, as we show in Theorem 2, the
"reserved-category pessimal" outcome is more favorable for reserved-category applicants
in Scenario 2 than Scenario 1.
    Not only does the difference between the two extreme outcomes shrink under Sce-
nario 2, but it does so in a way that eliminates some of the least favorable outcomes for
the reserved-category applicants. What makes this observation more important is that
the Reserved-Initiated visa allocation rule gives the "reserved-category pessimal" out-
come under Scenario 2 (Theorem 3). Therefore, while the H1-B reform in 2008 resulted
in replacing the reserve-category pessimal outcome under single priority order with the
reserve-category pessimal outcome of two priority orders, it still provided a boost to rep-
resentation of reserved-category applicants simply because a second independent priority
order is employed for reserved slots.
    Consider the same numbers of applications we considered before with 87,380 reserved-
category applications and 111,080 general-category applications. (Recall that these are the
five year averages for FY2013-17.) The number of admitted advanced-degree applicants


                                             7
in Scenario 2 is 38,834 under the reserved-category optimal outcome (as in the Over-
and-Above rule), and it is 33,495 under the reserved-category pessimal outcome given
by the Reserved-Initiated rule. The corresponding reserved-category pessimal outcome
was a much lower 24,630 under the Exemptions-First rule. Therefore, while possibly
unintentional, the 2008 reform had a greater distributional impact on H-1B allocation
than the 2019 reform.
    Why is there such a big difference between prioritizing the applicants on a first-in
first-out basis versus through two independent lotteries when reserved slots are processed
prior to unreserved slots? The key aspect of prioritizing applicants on a first-in first-out
basis is that it induces a single priority order for both reserved and unreserved slots.
The earlier an application arrives, the higher priority it has. The purpose of creating
reserved slots for advanced-degree applicants, while simultaneously maintaining their ac-
cess to unreserved slots, is to provide these candidates with a second chance for a visa.
In principle, advanced-degree applicants may have access to this second chance regard-
less of whether priority is determined by a first-in first-out system or by two lotteries.
However, the access of these applicants to unreserved slots is either diminished or totally
absent when allocation is based on a single priority order. To illustrate, when a single
priority order is determined by arrival time, this second chance becomes available for
the advanced-degree applicants only after all reserved slots are exhausted. By this point
some of the unreserved slots are already allocated, and advanced-degree applicants are
never considered for these slots. Moreover, this second chance completely disappears if
unreserved slots are exhausted prior to reserved slots. And indeed, this is what happened
in the period FY2006-08, rendering this second chance worthless in these years.13 As a
result, advanced-degree applicants received precisely 20,000 slots--all reserved--in all the
years Exemptions-First visa allocation rule was used. In contrast, the advanced-degree
applicants have a true second chance under the Reserved-Initiated visa allocation rule,
since any reserved-category applicant who failed to receive a reserved slot is still as likely
to receive an unreserved slot as any general-category applicant.


2.3     2019 Reform
President Trump's Buy American and Hire American Executive Order in 2017 instructed
the U.S. Department of Homeland Security to propose reforms to ensure that H-1B visas
are awarded to the most-skilled or highest-paid petition beneficiaries. To the best of our
knowledge, this is the first time the impact of the visa allocation rule on the distribution
of H-1B visas is explicitly explored by the USCIS.
   The USCIS proposed maintaining the general structure of the FY2009-19 Reserve-
  13
    The Federal Register reports that in FY2008 the advanced degree cap was reached on May 4, 2007,
in FY2007 the advanced degree cap was reached on July 26, 2006, in FY2006 the advanced degree cap
was reached on January 17, 2006 (Register, 2008).


                                                8
Initiated visa allocation rule, but reversing the processing order of reserved and unreserved
slots to increase the number of visas awarded to reserved-category applicants. We refer
to this visa allocation rule as Unreserved-Initiated because it processes unreserved
slots prior to reserved slots. Intuitively, it results in a more favorable outcome for the
reserved-category applicants compared to Reserved-Initiated visa allocation rule, because
these applicants have greater representation (with 20,000 additional applicants) under
Unreserved-Initiated visa allocation rule for the lottery-based competition for unreserved
slots. The outcome of the FY2020 Unreserved-Initiated visa allocation rule is more favor-
able than the FY2009-19 Reserved-Initiated visa allocation rule for the reserved-category
applicants. Moreover, its outcome awards the same number of visas as in FY2005 Over-
and-Above visa allocation rule, and thus it is reserved-category optimal even including
single priority order rules.


2.4    Related literature
Our work is closely related to questions about reserve design, first studied in the con-
text of school assignment by Dur, Kominers, Pathak, and S¨       onmez (2018). That paper
emphasizes that reserve size is insufficient for describing a reserve policy, when the order
of processing is not explicit. It establishes formal comparative static results comparing
changes in reserve sizes to changes in the processing order of reserves. Those results
played a role in discussions about Boston's walk zone policy and identified two biases in
reserve design. The first, processing order bias, corresponds to the difference between
between Unreserved-Initiated and Reserved-Initiated. The second, randomization bias,
corresponds to the difference between Reserved-Initiated and Exemptions-First.
    Aside from this paper, our work contributes to a growing literature on reserve design.
Dur, Pathak, and S¨   onmez (2019) consider situations with multiple reserve groups and
characterize optimal and constrained optimal implementation of reserve policies, when
the goal is to favor a particular group. Their study provides formal results for place-
based affirmative action in Chicago. Motivated by affirmative action policies in India,
S¨
 onmez and Yenmez (2019a) study both vertical and horizontal reservation policies, where
vertical reservation correspond to Over-and-Above, and horizontal reservation correspond
to Exemptions-First policies here. S¨   onmez and Yenmez (2019b) propose a centralized
assignment mechanism that integrates both types of reserves. Pathak, Rees-Jones, and
S¨
 onmez (2020) study perceptions of reserve policies among the general U.S. population.
    There is a large literature on market design under various classes of distributional
constraints such as minimum guarantee reserves (or lower quotas), upper quotas, and
regional quotas. A partial list includes Abdulkadiro      glu (2005), Biro, Fleiner, Irving,
and Manlove (2010), Kojima (2012), Budish, Che, Kojima, and Milgrom (2013), Hafalir,
Yenmez, and Yildirim (2013), Westkamp (2013), Ehlers, Hafalir, Yenmez, and Yildirim
(2014), Echenique and Yenmez (2015), Kamada and Kojima (2015), Kamada and Kojima

                                             9
(2017) Kamada and Kojima (2018), Ayg¨      un and Turhan (2016), Ayg¨ un and Bo (2016), Bo
(2016), Dogan (2016), Kominers and Sonmez (2016), and Fragiadakis and Troyan (2017).
    By introducing the visa allocation as a market design problem, our paper is also
related to several other papers that study the formal properties of specific allocation
processes in the field and propose alternatives. This literature includes studies of entry-
level labor markets (Roth, 1984; Roth and Peranson, 1999), school choice (Balinski and
S¨onmez, 1999; Abdulkadiro    glu and S¨ onmez, 2003; Pathak and S¨   onmez, 2008, 2013b),
spectrum auctions (Milgrom, 2000), kidney exchange (Roth, S¨                   ¨
                                                                  onmez, and Unver,   2004,
2005), internet auctions (Edelman, Ostrovsky, and Schwarz, 2007; Varian, 2007), course
allocation (S¨            ¨
              onmez and Unver,    2010; Budish, 2011), cadet-branch matching (S¨ onmez and
Switzer, 2013; S¨ onmez, 2013), assignment of airport arrival slots (Schummer and Vohra,
2013; Schummer and Abizada, 2017) and refugee resettlement (Jones and Teytelboym,
2017; Delacr´ etaz, Kominers, and Teytelboym, 2016; Andersson, 2017).
    Finally, this paper is related to several studies of the H-1B visa system. Our focus is
on the allocation of H-1B visas to petitioners. Two other studies empirically study the
effect of H-1B visas on firms. Doran, Gelber, and Isen (2015) study the effect of winning
an H-1B visa on firm employment, patenting, research and development expenditure, and
profits. Kerr, Kerr, and Lincoln (2015) study the effects of a firm's expansion in young,
skilled immigrants on other aspects of firm employment.


3     Model
There are q slots of immigration visas to be awarded to members of a set I of applicants,
where each applicant can be awarded at most one slot. The set of applicants is partitioned
into two sets as the general-category applicants IG and the reserved-category applicants
IR . While all slots are identical otherwise, qr  q slots are exclusively set aside for the
set of reserved-category applicants. We refer these slots as reserved slots. The remaining
qu = q - qr unreserved slots can be awarded to any applicant. To simplify the analysis,
we assume that there is excess demand for the visas; that is

                                 |IG |  qu and |IR |  qr .

This assumption easily holds for all years since the reserved slots are introduced with the
H-1B Visa Reform Act of 2004.
   A matching is a function µ : I  {r, u}  {} such that

                             |µ-1 (r)|  qr and |µ-1 (u)|  qu .

Given a matching µ, for any applicant i  I ,

    · µ(i) = r indicates applicant i is awarded a reserved slot,

                                            10
   · µ(i) = u indicates applicant i is awarded an unreserved slot, and

   · µ(i) =  indicates applicant i is not awarded a slot.

Since all slots are identical, each applicant is indifferent between all slots. We further
assume that, each applicant strictly prefers receiving a slot to not receiving one.
   For any matching µ, let

   · |µ| = |i  I : µ(i) = | denote the number of applicants who are allocated a slot,

   · |µr | = |i  I : µ(i) = r| denote the number of applicants who are allocated a
     reserved slot,

   · |µu | = |i  I : µ(i) = u| denote the number of applicants who are allocated an
     unreserved slot,

   · µ(IR ) = {i  IR : µ(i) = } denote the set of reserved-category applicants who are
     each allocated a slot, and

   · µ(IG ) = {i  IG : µ(i) = } denote the set of general-category applicants who are
     each allocated a slot.


3.1    Desiderata for Visa Allocation Rules
A priority order  is a linear order on the set of applicants I , where for any i, j  I

                                           ij

indicates applicant i has "higher claims" to a slot than applicant j .
    Motivated by U.S. H-1B visa allocation policies since 2004, we focus on allocation
rules that rely on two priority orders u and r , where the former identifies the claims
for the unreserved slots and the latter identifies the claims for the reserved slots. These
priority orders can depend on factors such as the timing of arrival of applications, exam
scores, or simply a random lottery draw. While the two priority orders can be identical,
they can also be different.
    A visa allocation rule is a function that assigns a matching for each set of applicants.
Throughout the paper, we fix the set of applicants, and simply refer to properties of
matchings rather than properties of visa allocation rules. We study matchings that satisfy
the following three properties.

Definition 1 A matching µ is non-wasteful if,

  1) for any i  IR ,
                                   µ(i) =  = |µ| = q, and

                                            11
  2) for any i  IG ,
                                     µ(i) =  = |µu | = qu .

That is, each slot is to be allocated, provided that there are eligible applicants.

Definition 2 A matching µ accommodates reservation policy if, for any i  IG ,

                                          µ(i) = r.

That is, only qualified applicants can be awarded slots reserved for advanced-degree ap-
plicants.

Definition 3 A matching µ respects priorities if,

  1) for any i, j  I ,
                             µ(i) =  and µ(j ) = u = j u i, and

  2) for any i, j  IR ,
                                µ(i) =  and µ(j ) = r = j r i.

That is, allocation of both type of slots is to respect their given priority orders.
   It is convenient to collect all three properties into the following definition.

Definition 4 A matching µ complies with the statute if and only if (i) it is non-
wasteful, (ii) it accommodates reservation policy, and (iii) it respects priorities.


3.2    Post-2004 Visa Allocation Rules in the U.S.
As we have discussed in the Introduction, four visa allocation rules have been relied upon
to allocate H-1B visas in the U.S. since the H-1B Visa Reform Act of 2004. We next
describe the matching produced by each of the four rules for a given set of applicants I .
    The first two rules rely on an identical priority order for reserved slots and unreserved
slots. That is, u = r =  . More precisely, these priority orders depend on the arrival
time of H-1B applications, giving priority to earlier applications. When two applications
arrive at the same date, ties are randomly broken.
    For the next two visa allocation rules, fix a priority order  .
Exemptions-First Visa Allocation Rule ef :
   Consider all applicants one-at-a-time based on the priority order  , until either all
applicants are considered or all slots are exhausted.

   · If the applicant in consideration is a member of the reserved category,

                                             12
        ­ allocate her a reserved slot provided that not all reserved slots are exhausted,
        ­ an unreserved slot provided that there still remains at least one unreserved slot
          although all reserved slots are exhausted.

   · If the applicant is a member of the general category, allocate her an unreserved slot,
     provided that not all unreserved slots are exhausted.

An applicant who fails to receive a slot at the end of this process is not awarded a slot.

Over-and-Above Visa Allocation Rule ao :
    Step 1: Consider all applicants one-at-a-time based on the priority order  . Allocate
an unreserved slot to the applicant in consideration, provided that not all unreserved slots
are exhausted. Proceed to Step 2, either when all applicants are already considered or all
unreserved slots are exhausted.
    Step 2: Consider all remaining reserved-category applicants one-at-a-time based on
the priority order  . Allocate a reserved slot to the applicant in consideration, pro-
vided that not all reserved slots are exhausted. Terminate the procedure, either when all
reserved-category applicants are already considered or all reserved slots are exhausted.
   An applicant who fails to receive a slot in either step is not awarded a slot.

For the next two visa allocation rules, fix two priority orders u and r .
Reserved-Initiated Visa Allocation Rule ru :
    Step 1: Consider all reserved-category applicants one-at-a-time based on the priority
order r . Allocate a reserved slot to the reserved-category applicant in consideration,
provided that not all reserved slots are exhausted. Proceed to Step 2, either when all
reserved-category applicants are already considered or all reserved slots are exhausted.
    Step 2: Consider all remaining applicants one-at-a-time based on the priority order
u . Allocate an unreserved slot to the applicant in consideration, provided that not all
unreserved slots are exhausted. Terminate the procedure, either when all applicants are
already considered or all unreserved slots are exhausted.
   An applicant who fails to receive a slot in either step is not awarded a slot.

Unreserved-Initiated Visa Allocation Rule ur :
    Step 1: Consider all applicants one-at-a-time based on the priority order u . Allocate
an unreserved slot to the applicant in consideration, provided that not all unreserved slots
are exhausted. Proceed to Step 2, either when all applicants are already considered or all
unreserved slots are exhausted.


                                            13
    Step 2: Consider all remaining reserved-category applicants one-at-a-time based on
the priority order r . Allocate a reserved slot to the applicant in consideration, pro-
vided that not all reserved slots are exhausted. Terminate the procedure, either when all
reserved-category applicants are already considered or all reserved slots are exhausted.
    An applicant who does not receive a slot in either step is not awarded a slot.
    Observe that all four rules allocate all slots sequentially to the extent there are qualified
applicants, they all restrict access to unreserved slots for applicants from reserved category,
and they all allocate both types of slots based on the relevant priority order. Hence, they
all satisfy each of the three axioms we formulated; i.e. they each comply with the statute.

Observation 1 The outcome of each of the visa allocation rules oa , ef , ru , and ur
complies with the statute.


4      Results
Throughout this section, the set of applicants I , the number of reserved slots qr , and the
number of unreserved slots qu are fixed.


4.1     Visa Allocation Rules for Fiscal Years 2005-2008
In fiscal years 2005-2008, visa allocation rules were based on a single priority order that is
induced by the arrival date of H-1B petitions. For the purposes of Theorem 1, therefore,
we also fix r = u =  .
     For fiscal year 2005 the mechanism of choice for H-1B allocation was the Over-and-
Above visa allocation rule oa , whereas for fiscal years 2006-2008 the mechanism of choice
was the Exemptions-First visa allocation rule ef . Our first result establishes that, fo-
cusing on rules that comply with the statute and given a single priority order, the visa
allocation rule oa is the least favorable rule for general-category applicants and the most
favorable one for the reserved-category applicants. In contrast, the visa allocation rule
ef is the least favorable rule for reserved-category applicants and the most favorable one
for the general-category applicants. Moreover, any other allocation that complies with
the statute must be between these two extreme outcomes.

Theorem 1 Let µef = ef (I ) be the outcome of the Exemptions-First visa allocation rule,
µoa = oa (I ) be the outcome of the Over-and-Above visa allocation rule, and matching µ
be any matching that complies with the statute. Then,

    1. µef (IR )  µ(IR )  µoa (IR ) and

    2. µoa (IG )  µ(IG )  µef (IG ).


                                               14
4.2     2008 H-1B Allocation Reform
In 2008, USCIS discovered that the use of a single priority order that relies on arrival
date of H-1B petitions had resulted in employers spending significant effort and money to
send petitions by expedited overnight delivery for receipt on the first day petitions would
be allowed, resulting in more than 150,000 petitions being delivered on the same day and
burdening employers, delivery services, and USCIS offices.
    Consequently, USCIS abandoned the practice of relying on a single priority order that
depends on the arrival of the petitions. Instead, USCIS allowed a period of five days for
all petitions to be submitted, and prioritized petitions through two random lotteries, one
for the general-category applicants and the other for the reserved-category applicants.
We refer the resulting two priority orders as u and r respectively. As USCIS adopted
two priority orders rather than one, they also adopted a new visa allocation rule ru ,
abandoning rule ef they relied upon for FY2006-2008.
    We next show that this reform benefitted the reserved-category applicants at the
expense of the general-category applicants.
    To have a meaningful comparison of the two visa allocation rules ru and ef , we
assume that

   · both rules rely of the same priority order  for allocation of the unreserved slots,

   · the rule ef also relies on the same priority order  for allocation of the reserved
     slots,

   · whereas the rule ru relies on a possibly distinct priority order   for allocation of
     the reserved slots.

Theorem 2 Let µef = ef (I ) be the outcome of the Exemptions-First visa allocation rule
that is induced by the priority order

                                      u = r = ,

and, µru = ru (I ) be the outcome of the Reserved-Initiated visa allocation rule that is
induced by the two priority orders

                                    u =  and r =   .

Then,

  1. |µef (IR )|  |µru (IR )| and

  2. µru (IG )  µef (IG ).



                                            15
4.3     2019 H-1B Allocation Reform
In contrast to previous reforms in H-1B visa allocation rules where the changes were
officially justified based on logistical considerations, the reform of 2019 was motivated by
an officially stated objective of increasing the fraction of reserved-category applicants who
receive H-1B visas. In 2019, USCIS adopted the Unreserved-Initiated visa allocation rule
ur starting FY2020 abandoning the rule ru that was used for over a decade.
    In our next result, we show that this reform increases the selection of the reserved-
category applicants at the expense of the general-category applicants, and it is has the
highest selection rate of reserved-category applicants among all rules that comply with
the statute.

Theorem 3 Given two priority orders u =  and r =   , let µru = ru (I ) be the
outcome of the reserved-initiated visa allocation rule, and µur = ru (I ) be the outcome of
the unreserved-initiated visa allocation rule. Let µ be any matching that complies with the
statute. Then

    1. |µru (IR )|  |µ(IR )|  |µur (IR )| and

    2. µur (IG )  µ(IG )  µru (IG ).


5      Comparison of Post-2004 H-1B Visa Allocation Rules
5.1     Summary of Formal Results
Consider all four post-2004 visa allocation rules ef , oa , ru , and ur . Fix

    · the priority order for unreserved slots of each of the four rules at u =  ,

    · the priority order for reserved slots of each of the two single-priority rules ef and
      oa at r =  , and

    · the priority order for reserved slots of each of the two dual-priority rules ru and
      ur at r =   .

Observe that, Step 1 of the two rules oa and ur are identical. Therefore, unreserved
slots are allocated to the same set of applicants under both rules. Not only are both rules
match an identical set of general-category applicants, but they also match an identical
number of reserved-category applicants. The set of reserved-category applicants matched
in Step 2 potentially differ under these rules since they rely on different priority orders to
fill the reserved slots.



                                                16
Observation 2 Let µoa = oa (I ) be the outcome of the Over-and-Above visa allocation
rule that is induced by the priority order

                                         u = r = ,

and, µur = ur (I ) be the outcome of the Unreserved-Initiated visa allocation rule that is
induced by the two priority orders

                                     u =  and r =   .

Then,

  1. |µoa (IR )| = |µur (IR )| and

  2. µur (IG ) = µoa (IG ).

   The following result immediately follows from Theorems 1-3 and Observation 2.

Corollary 1 Given a priority order  , let µoa = oa (I ) be the outcome of the Over-and-
Above visa allocation rule and µef = ef (I ) be the outcome of the Exemptions-First visa
allocation rule. Given a pair of priority orders (,   ), let µru = ru (I ) be the outcome
of the Reserved-Initiated visa allocation rule and µur = ur (I ) be the outcome of the
Unreserved-Initiated visa allocation rule. Then,

  1. |µef (IR )|  |µru (IR )|  |µur (IR )| = |µoa (IR )| and

  2. µoa (IG ) = µur (IG )  µru (IG )  µef (IG ).


5.2     Estimated Outcomes Across Rules
So far, our formal results have not placed any structure on the distribution of the two
priority orders u and r . To quantify the effects of these four different policies in practice,
we must place additional structure on the priority orders. Suppose both priority orders
are independent uniform draws, as is the practice in the U.S. since 2008, from the set of
all priority orders. For the Over-and-Above and Exemptions-First rules, the derivations
utilize priority order u only. For the Reserved-Initiated and Unreserved-Initiated rules,
the derivations utilize both priority orders.
    For Over-and-Above rule, in Step 1 the qu unreserved slots are allocated to members
of both groups in proportion to the sizes of both groups. Subsequently in Step 2, all qr
reserved slots are awarded to reserved-category applicants, unless of course fewer than qr
reserved-category applicants remain who are unmatched. In that case, each remaining
reserved-category applicant is awarded a reserved slot. Therefore, the expected numbers


                                               17
of reserved-category and general-category applicants matched under the Over-and-Above
visa allocation rule are:
                                   |IR |                           |IR |
                     |µoa (IR )| =       qu + min qr , |IR | -           qu   ,
                                    |I |                            |I |
                                   |IG |
                     |µoa (IG )| =       qu .
                                    |I |

    The following observation is helpful to derive the expected number of reserved-category
and general-category applicants matched under the Exemptions-First visa allocation rule.
Under this rule, the reserved cap provides a benefit to reserved-category applicants only
if their proportional share is less than the reserved cap. Otherwise all slots (reserved
or unreserved) are allocated in proportion to the sizes of both groups. If, on the other
hand, the proportional share of the reserved-category applicants is less than the reserved
cap, then all qr reserved slots (which is more than their proportional share of all slots)
are awarded to reserved-category applicants, whereas all qu unreserved slots (which is
less than their proportional share of all slots) are awarded to general-category applicants.
Therefore, the expected numbers of reserved-category and general-category applicants
matched under the Exemptions-First allocation rule are:


                                                   |IR |
                            |µef (IR )| = max qr ,       (qu + qr ) ,
                                                    |I |
                                                   |IG |
                            |µef (IG )| = min qu ,       (qu + qr ) .
                                                    |I |

    Under the Reserved-Initiated allocation rule, in Step 1 the qr reserved slots are awarded
to the qr highest r -priority reserved-category applicants. Therefore, the remaining |IR | -
qr reserved-category applicants and |IG | general-category applicants compete for the qu
unreserved positions in Step 2, each group in expectation receiving their proportional
share from these slots. Hence, the expected numbers of reserved-category and general-
category applicants matched under the Reserved-Initiated allocation rule are:


                                                    |IR | - qr
                              |µru (IR )| = qr +                   qu ,
                                                      |I | - qr
                                                 |IG |
                              |µru (IG )| =                 qu .
                                              |I | - qr

    Under the Unreserved-Initiated allocation rule, all applicants compete for qu unre-
served slots in Step 1, each group in expectation receiving their proportional share from
these slots. Subsequently in Step 2, all qr reserved slots are awarded to reserved-category
applicants, unless of course fewer than qr reserved-category applicants remain who are

                                               18
Table 2: Allocation of Advanced Degrees under a 65,000 General Cap and a
20,000 Master Cap


                                       # of Applicants           Advanced-Degree Allocation
                                     General Advanced
                                               Degree          oa         ef           ru       ur
       5-yr Average (2013-17)        137,017    55,900        38,834     24,630       33,495   38,834
       2017                          111,080    87,380        48,619     37,425       44,542   48,619

Notes: Calculations based on data from 2019 Federal Register, assuming same arrival time distribution
between advanced-degree and general applicants, and identical lottery distribution for r and u .


unmatched. In that case, each remaining reserved-category applicant is awarded a re-
served slot. Therefore, the expected numbers of reserved-category and general-category
applicants matched under the Unreserved-Initiated visa allocation rule are:


                                        |IR |                         |IR |
                          |µur (IR )| =       qu + min qr , |IR | -         qu    ,
                                         |I |                          |I |
                                        |IG |
                          |µur (IG )| =       qu .
                                         |I |

    We use these formulas together with data from the 2019 Federal Register on application
rates by general and advanced-degree applicants to quantify the effect of different rules
in Table 2. The table shows that the share of advanced-degree applications has increased
over time since the count for 2017 is greater than the five-year average. We report numbers
from these years because they are the basis of the calculations in the USCIS government
press release (USCIS, 2019). The 2006 replacement of Over-and-Above with Exemption-
First resulted in a reduction of about 14,000 visa awards to advanced-degree applicants,
using the numbers from the five-year average. The 2008 switch to Reserve-Initiated with
two separate lotteries increased the number of awards to advanced-degree applicants by
about 8,800 to 33,495. As mentioned above, with two lotteries, the scope for changing
the number of advanced-degree candidates by changing processing of applicants shrinks.
Even though Reserve-Initiated is the worst outcome for advanced-degree applicants, it is
only about 5,339 applications worse than Unreserve-Initiated, the best possible outcome
for advanced-degree candidates.14 This pattern shows that the rule changes in 2006 and
2008 were each quantitatively more significant than the 2019 change. We also observe the
same phenomenon using application data from 2017 as our benchmark.
  14
       This number differs from the 5,340 reported in the USCIS press release because of rounding.




                                                    19
6       Conclusion
In response to President Trump's 2017 Buy American and Hire American Executive Or-
der , the USCIS reformed the H-1B visa allocation rule in 2019. The stated objective of
increasing the share of advanced-degree visa awards was applauded by some groups and
contested by others, and its compliance with the statute has been thoroughly debated (see
Federal Register (2018), pp 894-918). We show that the newly-adopted Reserve-Initiated
rule is best for advanced-degree applicants among all rules that we consider to comply
with the statute. Ironically, of the three modifications to the H-1B visa allocation rule
since the Act of 2004, the 2019 reform had the smallest effect on the number of advanced-
degree awards. Despite that, the distributional implications of the 2019 reform were much
more widely publicized compared to the more significant (but possibly accidental) changes
occuring in FY2006 and FY2009.
    Our results are also related to the debate about walk-zone priority in Boston Public
Schools. As of 2013, each Boston school reserved half of its seats for applicants from the
school's walk-zone, and a single lottery-based priority order breaks ties. Boston's rules
had the unintended effect of diluting the walk-zone reserve. In public forums and school
committee meetings, several alternative implementations of the reserve were proposed and
discussed (Pathak and S¨  onmez, 2013a; Dur, Kominers, Pathak, and S¨   onmez, 2018). The
USCIS's four different visa allocation rules are equivalent to several of these proposals.
For example, Walk-Open with One Lottery is similar to Exemptions-First and Walk-
Open with Two Lotteries policy is similar to the Reserve-Initiated. Boston ultimately
eliminated the reserve system, motivated partially by a concern that these issues were too
complex and partially by potential interactions with other contemporaneous reforms (Shi,
2014; Pathak and Shi, 2017). It is interesting that the USCIS independently considered
and deployed closely related solutions to their similar problems and faced a similar period
of uncertainty regarding these policies functioning. In contrast to Boston, however, the
USCIS ultimately came to rely on the reserve system and to administer it based on an
understanding of its implications for the advantage conferred to the reserve group.
    The policy changes in the H-1B visa program are related to two broader debates in
market design. The first involves whether a market's design will naturally evolve to effi-
ciently meet its goals without expert intervention. The U.S. residency match demonstrates
a classic example of such an evolution: Roth (1984) showed that a procedure equivalent
to the deferred acceptance algorithm was adopted in the residency match about a decade
before Gale and Shapley (1962) first proposed the procedure. Market unravelling had
spurred the market organizers to innovate in a manner that was theoretically unguided,
but ultimately reasonably sophisticated. This observation is sometimes used to argue
that market designs will evolve if problems are significant enough.15 The history of the
 15
      In the context of frequent-batch auctions for stocks, Budish, Lee, and Shim (2019) formally study



                                                   20
H1-B program provides qualified support for this idea. Ultimately, the USCIS discovered
the rule that best implements the administration's stated goal of advantaging advanced-
degree applicants. We believe this provides only qualified support, however, because this
evolution took place after fifteen years involving several steps of trial-and-error. Further-
more, evolution may have been hasten by somewhat fortuitous logistical issues that forced
experimentation with new mechanisms.
    The second broader debate our work contributes to is about the importance of details
in market design. Some authors, most notably Klemperer (2002), have argued that most
of auction theory is of second-order importance for practical auction design. The auction
models he describes are often stylized representations of the actual market clearing rules.
In contrast, our model of the H-1B allocation scheme closely approximates the scheme used
by the USCIS and we have illustrated the importance of particular institutional details.
These situations - where the model most closely matches the real-world institution ­ seem
likely to be the ones in which the details matter the most.




the incentives for adoption of new market designs.

                                                     21
A      Appendix: Proofs
A.1     Proof of Theorem 1
Proof. Let µ be any matching that complies with the statute. That is, µ is any non-
wasteful matching that accommodates reservation policy and respects priorities.
    For any k  q , let JG (k ) denote the set of general-category applicants and JR (k )
denote the set of reserved-category applicants among k highest  -priority applicants.
Hence, |JG (k )| denotes the number of general-category applicants, and |JR (k )| denotes
the number of reserved-category applicants among k highest  -priority applicants. By
definition, for any k  q ,
                                 |JG (k )| + |JR (k )| = k.
   Consider the qu highest  -priority applicants. Of these applicants, |JG (qu )| are from
the general-category and |JR (qu )| are from the reserved-category.
   We first relate the set of applicants µoa (IG ) and µ(IG ). Since µ is non-wasteful and
respects priorities,
                                    |µ(IG )|  |JG (qu )|.                               (1)
Since general-category applicants receive |JG (qu )| unreserved and 0 reserved slots under
µoa ,
                                  |µoa (IG )| = |JG (qu )|.                            (2)
Equation (1) and equation (2) imply |µoa (IG )|  |µ(IG )|, which in turn implies

                                       µoa (IG )  µ(IG ),                                 (3)

since both matching µ and matching µoa respect priorities.
    We next relate the set of applicants µ(IR ) and µoa (IR ). Equation (1) implies

               |µ(IR )|  q - |JG (qu )| = q - (qu - |JR (qu )|) = qr + |JR (qu )|.        (4)

Since reserved-category applicants receive |JR (qu )| unreserved slots and qr reserved slots
under matching µoa ,
                                |µoa (IR )| = qr + |JR (qu )|.                           (5)
Equation (4) and equation (5) imply |µ(IR )|  |µoa (IR )|, which in turn implies

                                       µ(IR )  µoa (IR ),                                 (6)

since both matching µ and matching µoa respect priorities.
    Next consider the q highest  -priority applicants. Of these applicants, |JG (q )| are from
the general-category and |JR (q )| are from the reserved-category.


                                               22
Claim : |µ(IR )|  max{qr , |JR (q )|}.
Proof of the Claim : Since matching µ is non-wasteful and it accommodates reservation
policy,
                                     |µ(IR )|  qr .                               (7)
Consider an applicant i  IR who is one of the q highest  -priority applicants. Towards
a contradiction, suppose µ(i) =  . Since matching µ is non-wasteful, it accommo-
dates reservation policy and respects priorities, all qr reserved slots must be awarded to
reserved-category applicants who have higher  -priority than applicant i. But since all
qu unreserved slots are also exhausted by non-wastefulness, at least one of the applicants
who receive an unreserved slot must have lower  -priority than applicant i, for otherwise
applicant i would not be one of the q highest  -priority applicants. This contradicts
matching µ respecting priorities (for unreserved slots), yielding the desired contradiction.
    Hence, µ(i) = , and thus
                                     |µ(IR )|  |JR (q )|.                                (8)
Equations (7) and (8) imply

                                 |µ(IR )|  max{qr , |JR (q )|},

completing the proof of the Claim.                                                         

   Observe that

           |µef (IR )| = max{qr , |JR (q )|} and |µef (IG )| = q - max{qr , |JR (q )|}.    (9)

Therefore, the first part of equation (9) and the Claim imply |µef (IR )|  |µ(IR )|, which
in turn implies
                                     µef (IR )  µ(IR ),                               (10)
since both matching µ and matching µef respect priorities.
    Finally, observe that the Claim further establishes

                               |µ(IG )|  q - max{qr , |JR (q )|}.                         (11)

Equation (11) and the second part of equation (9) imply |µ(IG )|  |µef (IG )|, which in
turn implies
                                 µ(IG )  µef (IG ),                                (12)
since both matching µ and matching µef respect priorities.
    Together, relations (3), (6), (10), and (12) complete the proof of the theorem.




                                               23
A.2     Proof of Theorem 2
               
Proof. Let JR    be the set of qr highest   -priority reserved-category applicants, and JR
be the set of qr highest  -priority reserved-category applicants. We have
                                         
                              µru               ef
                               r (I ) = JR and µr (I ) = JR .


Let S  be the set of qu highest  -priority applicants in I \ JR
                                                              
                                                                and S be the set of qu highest
 -priority applicants in I \ JR . Define
                              
                             SR = S   IR ,           
                                                    SG = S   IG , and
                             SR = S  IR ,           SG = S  IG .

Observe that
                                                                     
                             µru (IR ) = JR  SR ,       µru (IG ) = SG ,
                             µef (IR ) = JR  SR ,       µef (IG ) = SG .
               
   Let g  SG    . That is, applicant g is one of the general-category recipients of an
                                                                 
unreserved slot under matching µru . By construction of the set SG ,
                                           
                                 |{i  I \ JR : i  g }| < qu ,

for otherwise applicant g would not be assigned one of the unreserved slots in µru .
                         
    Since |JR \ JR | = |JR \ JR | and

                      j  j                        
                                 for all j  JR \ JR and j   JR
                                                             
                                                               \ JR ,

we must have
                                 |{i  I \ JR : i  g }| < qu ,
                                          
which in turn implies g  SG . Therefore, SG  SG , and hence

                                     µru (IG )  µef (IG ),                               (13)

showing the second desired relation.
                         
   Recall that we have |JR | = |JR | = qr . Therefore the relation (13), together with the
non-wastefulness of matchings µru and µM -G imply

                                    |µef (IR )|  |µru (IR )|,                            (14)

showing the first desired relation and completing the proof.




                                               24
A.3     Proof of Theorem 3
Proof. Let µ be any matching that complies with the statute. That is, µ is any non-
wasteful matching that accommodates reservation policy and respects priorities. Let JG
denote the set of general-category applicants and JR denote the set of reserved-category
applicants among qu highest  -priority applicants. By definition,

                                     |JG | + |JR | = qu .                               (15)

   We first relate the set of applicants µur (IG ) and µ(IG ). Since µ is non-wasteful and it
respects priorities,
                                      |µ(IG )|  |JG |.                                   (16)
Since general-category applicants receive |JG | unreserved and 0 reserved slots under µur ,

                                     |µur (IG )| = |JG |.                               (17)

Equation (16) and equation (17) imply |µur (IG )|  |µ(IG )|, which in turn implies

                                     µur (IG )  µ(IG ),                                 (18)

since both matching µ and matching µur respect priorities.
   We next relate the set of applicants µ(IR ) and µur (IR ). Equation (16) and equation
(15) imply
                   |µ(IR )|  q - |JG | = q - (qu - |JR |) = qr + |JR |.             (19)
Since reserved-category applicants receive |JR | unreserved slots and qr reserved slots under
matching µur ,
                                  |µur (IR )| = qr + |JR |.                              (20)
Equation (19) and equation (20) imply

                                    |µ(IR )|  |µur (IR )|.                              (21)

   We finally show that

                      µ(IG )  µru (IG )      and   |µru (IR )|  |µ(IR ).|
         
    Let JR be the set of qr highest   -priority reserved category applicants. Ny construc-
tion
                                           
                                         |JR | = qr                                   (22)
and
                                                           
                               µru (i) = r     for any i  JR .                          (23)


                                              25
   Let S  be the set of qu highest  -priority applicants in I \JR
                                                                
                                                                  . By construction,
                                          |S  | = qu .                                   (24)
        
Define SR = S   IR and SG
                        
                          = S   IG . Observe that µru (I ) = JR
                                                              
                                                                 S  . Here,
                                                                      
                         µru (IR ) = JR  SR      and     µru (IG ) = SG .                (25)

                  
Claim : µ(IG )\SG  = .
                                                                     
Proof of the Claim : Suppose that there exists an applicant g  µ(G)\SG . Since g 
 ru
µ (IG ) by relation (25), we must have
                                 ig           for any i  S  ,
for otherwise matching µru would fail to respect priorities. Therefore,
                                         S   µ(I ),                                      (26)
since matching µ respects priorities as well. Moreover, since matching µ respects priorities
and accommodates reserve policy,
                                          
                                         JR   µ(I )
                                          
by construction of the set of applicants JR . Hence,
                                   S   JR
                                        
                                           {g }  µ(I ).
   But since |S  | = qu by equation (24) and |JR
                                               
                                                 | = qr by equation (22),
             S   JR
                  
                    =  and g  (S   JR
                                    
                                      ) = |S   JR
                                                
                                                   {g }| = qu + qr + 1.
Hence, we have a contradiction as
                               |µ(I )|  qu + qr + 1 = q + 1.
This proves the claim.

   As a result,
                                           
                                  µ(IG )  SG = µru (IG ).                                (27)
Since µ is non-wasteful,
                             |µ(IR )| = min{q - |µ(IG )|, |IR |}.
If |µ(IR )| = |IR |, then all reserve-category applicants in µ are matched under µ and
                                    |µru (IR )|  |µ(IR )|.
Otherwise,
                    |µ(IR )| = q - |µ(IG )|  q - |µru (IG )| = |µru (IR )|,
where the inequality follows from relation (27). In either case,
                                    |µru (IR )|  |µ(IR )|.                               (28)
Equations (18), (21), (27), and (28) complete the proof.

                                               26
B     Appendix: Documentation of Visa Allocation Rules
This appendix contains excerpts from the Federal Register, the official journal of the
federal government of the United States, related to H-1B allocation.


B.1     2005 Federal Register, Vol. 70, No. 86, May 5
"The H-1B Visa Reform Act of 2004 was enacted after the start of FY 2005 and after the
receipt of all petitions necessary to reach the existing 65,000 H-1B cap for FY 2005. The
amendment [. . . ] authorizing the cap exemption of 20,000 H-1B nonimmigrant aliens with
U.S. master's or higher degrees, did not become effective until March 8, 2005. Congress
did not specify any procedures for implementation or dictate the manner in which USCIS
should allocate H-1B numbers made available pursuant to the new exemption. Congress
specifically did not require USCIS to `reopen' its review of the H-1B petitions already
received and re-characterize the petitions that would have qualified for the next exemption
had it been in effect at the time the petitions were received. Thus, in order to give full
effect to the newly created exemption, it is reasonable to do so only going forward only,
applying the exemption to up to 20,000 petitions seeking work start dates during FY
2005." (Page 23777).
   "[. . . ], for FY 2005, USCIS has determined that the only appropriate way to implement
the H-1B Visa Reform Act of 2004 is to apply the 20,000 exemptions prospectively." (Page
23777).
    "For FY 2006 and future fiscal years, USCIS will accept and adjudicate properly filled
H-1B petitions on a first-in, first-out basis and will track those H-1B petitions that qualify
for the U.S. master's or higher degree exemption under the H-1B Visa Reform Act of 2004
as cases are received and adjudicated. [. . . ] Similarly, H-1B nonimmigrant aliens that are
exempt under the H-1B Visa Reform Act of 2004 will not be counted towards the fiscal
year numerical limit of 65,000. USCIS will continue to exempt such aliens until USCIS
has allocated all 20,000 H-1B exemption numbers authorized [. . . ] Thereafter, any H-
1B petition granted for an H-1B nonimmigrant alien who has earned a U.S. master's or
higher degree, unless otherwise exempt, will be counted against the fiscal year numerical
limitations." (Page 23777)



B.2     2008 Federal Register, Vol. 73, No. 57, March 24
"In order to ensure that the 65,000 and 20,000 caps are not exceeded, USCIS monitors
the number of H-1B petitions it receives. The first day on which petitions may file H-1B
petitions can be as early as six month ahead of the employment start date. Therefore,
a petition requesting an employment start date of October 1, the first day of the next

                                             27
fiscal year, may file the H-1B petition as early as April 1 of the current fiscal year. When
the USCIS determines, based on the number of H-1B petitions it has received, that the
applicable cap will be reached, it announces to the public the final day on which it will
accept such petitions for adjudication in that fiscal year. USCIS refers to this day as the
"final receipt date." USCIS then randomly selects the number of petitions necessary to
reach the cap from the petitions received on the final receipt date." (Page 15390)
   "However, because demand for other H categories has not been as great as for the
H-1B classification, USCIS has only had to apply the random selection procedures to
H-1B petitions subject to the overall 65,000 cap or the 20,000 cap on master's degree
exemption." (Page 15391)
   "On Monday, April 2, 2007, the first available filing day for fiscal year (FY) 2008,
USCIS received H-1B petitions totaling nearly twice the 65,000 cap. This was the first
time since the random selection process regulations were promulgated that USCIS received
more petitions than available cap numbers on the first available filing day. [. . . ] The high
volume of filings scheduled for delivery on April 2 caused logistical problems for overnight
couriers and on the two USCIS service centers where filings could be made. Using the
petitions received on April 2, and April 3, USCIS conducted the random selection process
and thereafter rejected all petitions that were not randomly selected." (Page 15391)
    "Just as with the 65,000 cap, the 20,000 cap on the master's degree exemptions has
been exhausted earlier and earlier for each fiscal year since the cap exemption was added
to the law. For FY 2006, the 20,000 cap was reached on January 17, 2006. For FY 2007,
the cap was reached on July 26, 2006, less than four months after petition filings began on
April 1, 2006. For FY 2008, the cap was reached on May 4, 2007, just over one month after
petition filings began on April 2, 2007. For each of these fiscal years, USCIS announced
a final receipt date and conducted the random selection process." (Page 15391)
    "USCIS believes that the trend of exhausting the 20,000 cap on master's degree ex-
emptions at an earlier date will continue. Should both 20,000 and 65,000 caps be reached
on the same day that numbers become available (e.g., April 1 of the preceding fiscal
year) no regulatory mechanism is in place to facilitate administration of the 20,000 cap
in relation to the 65,000 cap." (Page 15391)
    "This problem would be exacerbated were the 20,000 cap to be reached prior to or at
the same time as the 65,000 cap, since all petitions not selected random selection process
for the 20,000 cap would be considered twice--at the time of the random selection for the
20,000 cap and, thereafter, for the 65,000 cap." (Page 15391)
   "This rule provides that USCIS will include petitions filed on all of those first five
business days in the random selection process if USCIS receives a sufficient number of
petitions to reach the applicable numerical limit (including limits on exemptions) on any
one of the five business days on which USCIS may accept petitions. [. . . ] This rule also

                                             28
provides that, if both the 65,000 and 20,000 caps are reached within the first five business
days available for filing H-1B petitions for a given fiscal year, USCIS must first conduct
the random selection process for petitions subject to the 20,000 cap on master's degree
exemptions before it may begin the random selection process of petitions to be counted
towards the 65,000 cap. After conducting the random selection for petitions subject to
the 20,000 cap, USCIS then must add any non-selected petitions to the pool of petitions
subject to the 65,000 cap and conduct the random selection process for this combined
group of petitions. Therefore, those petitions that otherwise would be eligible for the
master's degree exemption that are not selected in the first random selection will have
another opportsloty to be selected for an H-1B number in the second random selection
process. This rule also clarifies that those petitions not selected in either random selection
will be rejected." (Page 15392)

B.3     2019 Federal Register, Vol. 84, No. 2, Thursday, January
        31
"The statute is ambiguous as to the precise manner by which beneficiaries with a master's
or higher degree from a U.S. institution of higher education must be counted toward the
numerical allocations. The statue states that the 65,000 numerical limitation does not
apply until 20,000 qualifying beneficiaries are exempted, but is otherwise silent as to
whether they must be exempted prior to, concurrently with, or subsequent to the 65,000
numerical limitation being counted and/or reached, or some combination therefor. This
ambiguity was recognized by DHS when it initially determined how the exemption should
be administered." (Page 895)
    "DHS believes this approach is most consistent with the overall statutory framework
as it counts all petitions filed by cap-subject petitioners until the numerical limitation
is reached, and otherwise precludes additional petitions, allows for an additional 20,000
petitions." (Page 895)
   "DHS believes that administering the numerically limited cap exemption in a way that
does not reduce the odds of selection for beneficiaries with a U.S. advanced degree under
the regular cap is most appropriate and maximizes the overall odds of selection for such
beneficiaries under the numerical allocations." (Page 895)
   "DHS also disagrees that the statue requires that initial H-1B visas be allocated to
petitions in the order received." (Page 896)
   "While DHS agrees that Congress has not limited the H-1B classification to the `best
and brightest" foreign nationals, nothing in the statute or legislative history precludes
DHS from administering the cap allocation in a way that increases the odds of selection for
beneficiaries with a master's or higher degree from a U.S. institution of higher education."
(Page 896)

                                             29
   "Rather, this final rule simply creates a registration process to streamline the existing
H-1B cap selection process, and reverses the order in which submissions are counted
toward the H-1B numerical allocations, but does not change the overall number of foreign
workers that may be hired under existing statutory authority." (Page 897)
    "Reversing the cap selection order is expected to result in a greater number of bene-
ficiaries with master's or higher degrees from U.S. institutions of higher education being
selected under the numerical allocations and is in line with the executive order's directive
to `help ensure that H-1B visas are awarded to the most-skilled or highest-paid petition
beneficiaries." Furthermore, master's or higher degree holders still maintain their own
selection pool." (Page 912)
   "It was clearly Congress's intent to prioritize such workers by creating a 20,000 cap
exemption only for them." (Page 912)
    "DHS is not able to increase the H-1B cap allocations, as the cap allocations are
statutory and set by Congress." (Page 913)
     "Under the current process, when the number of cap-subject petitions filed with US-
CIS during the first five days that such petitions may be filed exceeds the numerical
limits, a certain number of petitions projected as needed to meet the 20,000 advanced
degree exemption are randomly selected first from the 55,900 advanced degree petitions
eligible for the advanced degree exemption. Of the remaining 172,918 petitions, 35,900
(21 percent) of H-1B beneficiaries with master's degree or higher from a U.S. institution
of higher education remain in the pool to be selected in the 65,000 regular cap limit.
Then, USCIS randomly selects a certain number of petitions projected as needed to meet
the 65,000 regular cap limit from the remaining pool, which includes H-1B beneficiaries
with bachelor's degrees and beneficiaries with a master's or higher degree from a U.S.
institution of higher education no selected under the advanced degree exemption. DHS
estimates than an additional 13,495 petitions otherwise eligible for the advanced degree
exemption but not selected under the advanced degree exemption would be randomly se-
lected in the regular cap. Therefore, USCIS currently selects an estimated total of 33,495
petitions filed for beneficiaries with a master's or higher degree from a U.S. institution of
higher education, which accounts for 17 percent of 192,918 Form I-129 petitions." (Page
928)
     "Under the new change to the H-1B cap-subject selection process, those seeking to
file an H-1B cap-subject petition will have to submit an electronic registration for each
beneficiary, unless the registration requirement is suspended. Only those with selected
registrations will be eligible to file an H-1B cap-subject petition during an associated
filing period for that fiscal year. As previously stated, DHS continues to assume 192,918
registration will be received annually. Under the new selection process, when registration
is required, USCIS would first select a certain number of registrations projected as needed
to meet the 65,000 regular cap limit from the 192,918 registrations. All 55,900 H-1B

                                             30
beneficiaries with a master's or higher degree from a U.S. institution of higher education
(29 percent) will therefore be included in the pool for selection. DHS estimates that up
to 18,825 advanced degree registrations that could be selected during the selection for the
regular cap." (Page 928)
    "Next, USCIS will select a certain number of registrations projected to meet the 20,000
advanced degree exemption from the remaining pool of 37,065 advanced degree registra-
tions. In total, USCIS is likely to select an estimated 38,835 registrations for petitioners
seeking to file H-1B petitions under the advanced degree exemption. These registrations
account for 20 percent of the 192,918 registrations. Therefore, DHS estimates USCIS
could accept up to 5,340 (or 16 percent) more H-1B cap-subject petitions annually for
beneficiaries with a master's or higher degree from a U.S. institution of higher education."
(Page 929)




                                            31
References
Abdulkadirog   lu, A. (2005): "College Admissions with Affirmative Action," Interna-
 tional Journal of Game Theory, 33(4), 535­549.

Abdulkadirog                  ¨ nmez (2003): "School Choice: A Mechanism Design
              lu, A., and T. So
 Approach," American Economic Review, 93, 729­747.

Andersson, T. (2017): "Refugee Matching as a Market Design Application," Working
 paper.

   ¨ n, O., and I. Bo (2016): "College Admission with Multidimensional Reserves:
Aygu
 The Brazilian Affirmative Action Case," Working paper, WZB Berlin Social Science
 Center, 869.

   ¨ n, O., and B. Turhan (2016): "Dynamic Reserves in Matching Markets," Work-
Aygu
 ing paper.

Balinski, M., and T. So ¨ nmez (1999): "A Tale of Two Mechanisms: Student Place-
 ment," Journal of Economic Theory, 84, 73­94.

Becker, G., and E. Lazear (2013): "A Market Solution to Immigration Reform,"
 Wall Street Journal, March 1.

Biro, P., T. Fleiner, R. Irving, and D. Manlove (2010): "The College Admissions
  Problem with Lower and Common Quotas," Theoretical Computer Science, 411(34-26),
  3136­3153.

Bo, I. (2016): "Fair Implementation of Diversity in School Choice," Games and Economic
 Behavior, 97, 54­63.

Budish, E. (2011): "The Combinatorial Assignment Problem: Approximate Competitive
 Equilibrium from Equal Incomes," Journal of Political Economy, 119(6), 1061­1103.

Budish, E., Y.-K. Che, F. Kojima, and P. R. Milgrom (2013): "Designing Ran-
 dom Allocation Mechanisms: Theory and Applications," American Economic Review,
 103(2), 585­623.

Budish, E., R. Lee, and J. Shim (2019): "A Theory of Stock Exchange Competition
 and Innovation: Will the Market Fix the Market?," NBER Working Paper 25855.

Delacre´taz, D., S. D. Kominers, and A. Teytelboym (2016): "Refugee Resettle-
 ment," Working paper.



                                         32
Dogan, B. (2016): "Responsive Affirmative Action in School Choice," Journal of Eco-
 nomic Theory, 165, 69­105.

Doran, K., A. Gelber, and A. Isen (2015): "The Effects of High-Skilled Immigration
 Policy on Firms: Evidence from Visa Lotteries," NBER Working Paper, 20668.

Dur, U., S. Kominers, P. Pathak, and T. So   ¨ nmez (2018): "Reserve Design: Un-
 intended Consequences and The Demise of Boston's Walk Zones," Journal of Political
 Economy, 126(6).

Dur, U., P. Pathak, and T. So     ¨ nmez (2019): "Explicit vs. Statistical Preferential
 Treatment in Affirmative Action: Theory and Evidence from Chicago's Exam Schools,"
 forthcoming, Journal of Economic Theory.

Echenique, F., and M. B. Yenmez (2015): "How to Control Controlled School
 Choice," American Economic Review, 105(8), 2679­2694.

Edelman, B., M. Ostrovsky, and M. Schwarz (2007): "Internet Advertising and
 the Generalized Second-Price Auction: Selling Billions of Dollars Worth of Keywords,"
 American Economic Review, 97(1), 242­259.

Ehlers, L., I. E. Hafalir, M. B. Yenmez, and M. A. Yildirim (2014): "School
 Choice with Controlled Choice Constraints: Hard Bounds versus Soft Bounds," Journal
 of Economic Theory, 153, 648­683.

Fragiadakis, D., and P. Troyan (2017): "Improving Matching under Hard Distribu-
 tional Constraints," Theoretical Economics, 12(2), 863­908.

Gale, D., and L. S. Shapley (1962): "College Admissions and the Stability of Mar-
 riage," American Mathematical Monthly, 69, 9­15.

Hafalir, I. E., M. B. Yenmez, and M. A. Yildirim (2013): "Effective Affirmative
 Action in School Choice," Theoretical Economics, 8(2), 325­363.

Jones, W., and A. Teytelboym (2017): "The Local Refugee Match: Aligning
  Refugees' Preferences with the Capacities and Priorities of Localities," Journal of
  Refugee Studies, 31(2), 152­178.

Judiciary (2006): "Should Congress Raise the H-1B Cap?," Hearing before Subcommit-
  tee on Immigration, Border Security, and Claims, Serial No. 109-95, March 30.

Kamada, Y., and F. Kojima (2015): "Efficient Matching under Distributional Con-
 straints: Theory and Applications," American Economic Review, 105(1), 67­99.



                                          33
         (2017): "Stability Concepts in Matching with Distributional Constraints," Jour-
  nal of Economic Theory, 168, 107­142.

         (2018): "Stability and Strategy-proofness for Matching with Constraints: A
  Necessary and Sufficient Condition," Theoretical Economics, 13(2), 761­794.

Kerr, S. P., W. Kerr, and W. Lincoln (2015): "Skilled Immigration and the
 Employment Structures of U.S. Firms," Journal of Labor Economics, 33:S1, S147­S186.

Klemperer, P. (2002): "What Really Matters in Auction Design," Journal of Economic
 Perspectives, 16(1), 169­189.

Kojima, F. (2012): "School Choice: Impossibilities for Affirmative Action," Games and
 Economic Behavior, 75(2), 685­693.

Kominers, S. D., and T. Sonmez (2016): "Matching with Slot-specific Priorities:
 Theory," Theoretical Economics, 11(2), 683­710.

Macy, W. (2017): "Walker Macy v. U.S. Citizenship and Immigration," 243 F.Supp.3d
 (1156), United States District Court, D. Oregon, March 17.

Milgrom, P. R. (2000): "Putting Auction Theory to Work: The Simultaneous Ascend-
 ing Auction," Journal of Political Economy, 108, 245­272.

O'Brien, S. A. (2018): "H-1B reform bill seeks to expand annual quota," CNN, January
 25.

Pathak, P., and T. So  ¨ nmez (2013a): "Recommendation on Algorithm Processing,
  Public Testimony to EAC," Available at: https://economics.mit.edu/files/16966.

                                      ¨ nmez (2020): "Reversing Reserves," Work-
Pathak, P. A., A. Rees-Jones, and T. So
  ing paper.

Pathak, P. A., and P. Shi (2017): "How Well Do Structural Demand Models Work?
  Counterfactual Predictions in School Choice," NBER Working Paper 24017.

Pathak, P. A., and T. So     ¨ nmez (2008): "Leveling the Playing Field: Sincere and
  Sophisticated Players in the Boston Mechanism," American Economic Review, 98(4),
  1636­1652.

        (2013b): "School Admissions Reform in Chicago and England: Comparing Mech-
  anisms by their Vulnerability to Manipulation," American Economic Review, 103(1),
  80­106.

Register, F. (2005): "Allocation of Additional H-1B Visas Created by the H-1B Visa
 Reform Act of 2004," Vol. 70, No. 86, Thursday, May 5.

                                          34
        (2008): "Petitions Files on Behalf of H-1B Temporary Workers Subject to or
  Exempt From the Annual Numerical Limitation," Vol. 73, No. 57, Monday March 24.

        (2018): "Registration Requirement for Petitioners Seeking to File H-1B Petitions
  on Behalf of Cap-Subject Aliens," Vol. 83, No. 232, Monday December 3.

Roth, A. E. (1984): "The Evolution of the Labor Market for Medical Interns and
 Residents: A Case Study in Game Theory," Journal of Political Economy, 92, 991­
 1016.

Roth, A. E., and E. Peranson (1999): "The Redesign of the Matching Market for
 American Physicians: Some Engineering Aspects of Economic Design," American Eco-
 nomic Review, 89, 748­780.

Roth, A. E., T. So                   ¨
                   ¨ nmez, and U. Unver (2004): "Kidney Exchange," Quarterly
 Journal of Economics, 119, 457­488.

         (2005): "Pairwise Kidney Exchange," Journal of Economic Theory, 125, 151­
  188.

Schummer, J., and A. Abizada (2017): "Incentives in Landing Slot Problems," Jour-
  nal of Economic Theory, 170, 29­55.

Schummer, J., and R. V. Vohra (2013): "Assignment of Arrival Slots," American
  Economic Journal: Microeconomics, 5(2), 164­185.

Shi, P. (2014): "Guiding School-Choice Reform through Novel Applications of Opera-
  tions Research," Interfaces, 45(2), 117­132.

 ¨ nmez, T. (2013): "Bidding for Army Career Specialties: Improving the ROTC Branch-
So
  ing Mechanism," Journal of Political Economy, 121(1), 186­219.

 ¨ nmez, T., and T. Switzer (2013): "Matching with (Branch-of-Choice) Contracts at
So
  the United States Military Academy," Econometrica, 81(2), 451­488.
                         ¨
 ¨ nmez, T., and M. U. Unver
So                               (2010): "Course Bidding at Business Schools," Inter-
  national Economic Review, 51(1), 99­123.

 ¨ nmez, T., and B. Yenmez (2019a): "Affirmative Action in India via Vertical and
So
  Horizontal Reservations," Working paper.

         (2019b): "Constitutional Implementation of Vertical and Horizontal Reservations
  in India: A Unified Mechanism for Civil Service Allocation and College Admissions,,"
  Working paper.


                                          35
USCIS (2004): "USCIS to Implement H-1B Visa Reform Act of 2004," December 9.

            (2019): "USCIS Announces Implementation of H-1B Electronic Reg-
  istration Process for Fiscal Year 2021 Cap Season," December, 6; Available
  at: https://www.uscis.gov/news/news-releases/uscis-announces-implementation-h-1b-
  electronic-registration-process-fiscal-year-2021-cap-season.

Varian, H. R. (2007): "Position Auctions," International Journal of Industrial Organi-
 zation, 25(6), 1163­1178.

Westkamp, A. (2013): "An Analysis of the German University Admissions System,"
 Economic Theory, 53(3), 561­589.




                                         36
