                             NBER WORKING PAPER SERIES




                                   MATCHING IN CITIES

                                      Wolfgang Dauth
                                     Sebastian Findeisen
                                       Enrico Moretti
                                       Jens Suedekum

                                     Working Paper 25227
                             http://www.nber.org/papers/w25227


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                  November 2018




We thank David Card, Gilles Duranton, Laurent Gobillon, Simon Jaeger, Fabian Lange, Attila
Lindner, Elena Manresa, Giordano Mion, Michel Serafinelli and seminar participants at the
ASSA Meetings in Chicago, Barcelona, UC Berkeley, UC Davis, EUI, Haas, Hamburg,
Mannheim, Munich, Nuremberg, Trier, Warwick for helpful comments and suggestions. Linda
Borrs, Florian Knauth and Evan Rose provided excellent research assistance. We thank the
department DIM at the IAB and Hans Ludsteck for their support and suggestions with the dataset.
We gratefully acknowledge financial support from the DFG-priority program 1764 “The German
labor Market in a Globalised World - Challenges through Trade, Technology, and
Demographics.” The views expressed herein are those of the authors and do not necessarily
reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2018 by Wolfgang Dauth, Sebastian Findeisen, Enrico Moretti, and Jens Suedekum. All rights
reserved. Short sections of text, not to exceed two paragraphs, may be quoted without explicit
permission provided that full credit, including © notice, is given to the source.
Matching in Cities
Wolfgang Dauth, Sebastian Findeisen, Enrico Moretti, and Jens Suedekum
NBER Working Paper No. 25227
November 2018
JEL No. J0,R0

                                          ABSTRACT

In most countries, average wages tend to be higher in larger cities. In this paper, we focus on the
role played by the matching of workers to firms in explaining geographical wage differences.
Using rich administrative German data for 1985-2014, we show that wages in large cities are
higher not only because large cities attract more high-quality workers, but also because high-
quality workers are significantly more likely to be matched to high-quality plants. In particular,
we find that assortative matching—measured by the correlation of worker fixed effects and plant
fixed effects—is significantly stronger in large cities. The elasticity of assortative matching with
respect to population has increased by around 75%in the last 30 years. We estimate that in a
hypothetical scenario in which we keep the quality and location of German workers and plants
unchanged, and equalize within-city assortative matching geographical wage inequality in
Germany would decrease significantly. Overall, assortative matching magnifies wage differences
caused by worker sorting and is a key factor in explaining the growth of wage disparities between
communities over the last three decades.

If high-quality workers and firms are complements in production, moreover, increased assortative
matching will increase aggregate earnings. We estimate that the increase in within-city
assortative matching observed between 1985 and 2014 increased aggregate labor earnings in
Germany by 2.1%, or 31.32 billion euros. We conclude that assortative matching increases
earnings inequality across communities, but it also generates important efficiency gains for the
German economy as a whole.

Wolfgang Dauth                                   Enrico Moretti
University of Wuerzburg                          University of California, Berkeley
Sanderring 2                                     Department of Economics
97070 Wuerzburg                                  549 Evans Hall
Germany                                          Berkeley, CA 94720-3880
and Institute for Employment Research            and CEPR
wolfgang.dauth@uni-wuerzburg.de                  and also NBER
                                                 moretti@econ.berkeley.edu
Sebastian Findeisen
University of Mannheim                           Jens Suedekum
Department of Economics                          Düsseldorf Institute for Competition Economics (DICE)
Germany                                          Heinrich-Heine-University Düsseldorf
findeisen@uni-mannheim.de                        Universitätsstraße 1
                                                 40225 Düsseldorf
                                                 Germany
                                                 suedekum@dice.uni-duesseldorf.de
1       Introduction
In most countries in the world, there are large income and wage disparities between cities and
regions. These differences are not disappearing over time and in many countries have been
growing over the last three decades. In the United States, the 2014 average hourly wage of a
worker in Stamford, CT was twice that of a worker with the same education and demograph-
ics in Flint, MI—a difference significantly larger than in 1980. In Germany, after conditioning
on the same variables, the 2014 average wage in Munich was 43% higher than in Uelzen, a
small city at the bottom of the wage distribution. This difference is also significantly larger
than it was in 1985. Over this period, the standard deviation of the average conditional wage
distribution across metropolitan areas in the US and Germany grew by 48% and 42%, respec-
tively, suggesting a growing divergence in the economic fortunes of local communities (Glaeser
and Kohlhase, 2004; Moretti, 2011).
    These large and growing disparities in wages and incomes between communities have be-
come an important source of policy concern.1 Many countries, including the US and Germany,
have adopted "place-based policies" designed to transfer resources from high income areas to-
wards low income areas.2 However, the exact reasons for the existence of significant wage
disparities between cities and regions and their increase are still debated.
    Geographical wage disparities appear associated at least in part with city size. In most
countries, larger cities tend to enjoy higher wages than medium size cities and medium size
cities tend to enjoy higher wages than small cities. In Germany, doubling city employment is
associated with 3.7% higher conditional wages. A similar relationship between wages and the
size of local labor markets has been documented in the US (Glaeser and Mare, 2001), France
(Combes, Duranton, and Gobillon, 2008), Spain (De La Roca and Puga, 2017), UK (Rice, Ven-
ables, and Patacchini, 2006), and Japan (Keisuke, 2017).
    It is of course possible that spatial differences in wages merely reflect sorting of workers
with different unobserved skills. For example, the type of workers who live in America’s
large, high-wage cities like San Francisco or New York may have higher unobserved ability
levels relative to the type of workers who live in cities like Flint or St. Louis. The same sorting
may take place in Germany: Residents of high wage cities like Munich or Stuttgart may be
potentially quite different from residents of low wages cities like Uelzen and Hof.3 Yet, in
    1
      Wage and income disparities between cities and regions within countries have been linked to divergence in
other outcomes from health and mortality to family formation and politics (Austin, Glaeser, and Summers, 2018;
Autor, Dorn, Hanson, and Majlesi, 2017).
    2
      In the US, at least 95 billion dollars are spent annually on place-based policies (Kline and Moretti, 2014).
Place-based policies are considered even more important in Europe. For the period 2007-2013, expenditure on
the so-called Structural Funds alone was 278 billion Euros. On top of EU funds, many countries use national
place-based policies and transfers. In Germany, it is estimated that more than one billion Euros have been spent
annually since reunification to support economically struggling communities plagued by weak labor market
outcomes.
    3
      The importance of sorting has been documented for the United Kingdom by D’Costa and Overman (2014),
for France by Combes, Duranton, and Gobillon (2008), and for Italy by Mion and Naticchioni (2009).


                                                        1
Germany, wage disparities remain significant and city size remains highly correlated with
wages even after controlling for worker fixed effects, as we will show. Instead, there appears
to be something else beyond worker quality that systematically affects wages and depends
on a worker’s location. The question of what causes the link between wages and location is a
fundamental question in labor and urban economics and while much progress has been made,
the exact answer is arguably still debated.4
   In this paper, we study the role played by assortative matching between workers and plants
in explaining wage differences between cities in Germany. Large labor markets have long been
hypothesized to produce more productive matches between workers and firms than small
markets. In many urban economics models, labor pooling is an important advantage of large
cities.5 If worker quality and plant quality are gross complements in production, productiv-
ity and wages may be higher with assortative matching—i.e., when high-quality workers are
matched with high-quality plants. While the role of unobserved worker ability has received
significant attention in the literature on geographical wage inequalities, the role of matching
has received less attention. At the same time, assortative matching has been shown to be an
important driver of changes in the nationwide wage distribution in Germany and other coun-
tries (see Card, Heining, and Kline, 2013; Card, Cardoso, Heining, and Kline, 2018; Torres,
Portugal, Addison, and Guimarães, 2018).
   We study the sources of assortative matching in German local labor markets and their con-
sequences for workers. We show that wages in large cities are higher not only because of the
higher quality of their labor force, but also because of assortative matching. The match be-
tween high-quality workers and high-quality plants is significantly tighter in large cities rela-
tive to small cities. This difference in assortative matching magnifies wage differences caused
by worker sorting and is a key factor in explaining the existence and growth of wage dispar-
ities between communities over the last three decades. However, while assortative matching
increases geographical inequalities, it also has a positive effect on aggregate earnings in Ger-
many and its growth over time.
   Our analysis is based on a detailed administrative dataset that covers the full job history
of the universe of private sector workers in Germany from 1985 to 2014 excluding the self
employed—about 30 million workers per year—and links them to their plant of work. For
each worker and plant, we follow Card, Heining, and Kline (2013) to estimate a worker fixed
    4
       For a general discussion, see the book by Glaeser (2011) and surveys by Duranton and Puga (2014) and
Rosenthal and Strange (2004).
    5
      See Diamond (1982), Helsley and Strange (1990), Acemoglu (1997), and Rotemberg and Saloner (2000). In the
barter model by Diamond (1982), the probability of finding a trading partner depends on the number of potential
partners available, so that an increase in the size of the market makes trade easier. Helsley and Strange (1990),
Krugman (1991), Acemoglu (1997), and Rotemberg and Saloner (2000) formalize different versions of localized
increasing returns in the matching technology. In Helsley and Strange (1990), for example, a worker-firm match
may be more productive in areas where there are many firms offering jobs and many workers looking for jobs.
Petrongolo and Pissarides (2006) provide one of the earliest tests of the effect of labor market size on job search.
Acemoglu (1997) and Rotemberg and Saloner (2000) propose alternative mechanisms.



                                                         2
effect and a plant fixed effect, which we use as measures of worker and plant quality. We
then compute the correlation between the two fixed effects, which we use as a measure of
assortative matching. A preliminary variance decomposition highlights the importance of as-
sortative matching. When we decompose the between city variance in mean wages across
German cities in 2008-2014, we find that 42% of the variance is due to the geographical corre-
lation of mean worker effects and mean plant effects, indicating that assortative matching is
an important source of cross sectional spatial wage disparities in Germany—indeed it is even
more important than the sorting of high ability workers into high wage cities.
  In light of this finding, next we study more systematically the sources and effects of assor-
tative matching in Germany. Our main empirical analysis consists of two parts.
  In the first part, we study the geographical sources of assortative matching and their re-
lationship with city size. There are two ways in which assortative matching may arise in
practice: Between local labor markets and within local labor markets. Between city assortative
matching—which we refer to as co-location—is the tendency of high-quality workers to locate
in cities with many high-quality plants and is measured by the covariance of mean worker
and mean plant effects across cities. Empirically, mean worker and mean plant effects display
a strong covariance in Germany, driven in large part by the fact that both high-quality workers
and high-quality plants tend to be overrepresented in large cities, while low-quality workers
and low-quality plants tend to be overrepresented in small cities. This correlation is growing
over time—indeed, it is now double what is was in 1984.
  A second source of assortative matching takes place within cities for a given spatial distribu-
tion of worker and plant effects across cities. The degree of assortative matching within cities
need not be geographically uniform. Of particular interest for us is the relationship between
strength of within-city assortative matching and labor market size. We find that larger and
denser cities display significantly stronger assortative matching.
  This means that high fixed effects workers are significantly more likely to be employed in
high fixed effects plants in larger cities than in smaller cities. Compare, for example, a large
city like Munich (2,531,068 residents) with a medium size city like Balingen (190,291 residents)
and a small size city like Cochem (64,689 residents). The share of workers with fixed effects
in the top 33% of the nationwide distribution who work in plants with fixed effects in the top
33% of the nationwide distribution in the three cities is 17.1, 12.3 and 8.5 percent, respectively.
Similarly, the share of workers with fixed effects in the bottom 33% of the distribution who
work in plants with fixed effects in the bottom 33% of the distribution in the three cities is 17.1,
13.5 and 10.9 percent, respectively. Overall, the correlation between worker and plant effects
is 0.356, 0.138, and -0.062 respectively in the three cities.
  This pattern holds across all German cities, as shown in Figure 1. The top left (right) panel
shows the correlation between the share of top (bottom) tercile workers matched with top (bot-
tom) tercile plants in their respective fixed effects distributions and the city size measured by


                                                  3
the log number of citizens. Both shares rise significantly with population size. In the bottom
panel we plot the strength of assortative matching—measured by the correlation of plant and
worker effects in a city—against city size. When the population doubles, this correlation in-
creases by 6.1 percentage points. This figure increased by 75% between 1984 and 2014. We find
no evidence that this finding is driven by limited mobility bias, which may be systematically
related to labor market size.
  Importantly, we find an even stronger association between assortative matching and mar-
ket size when we define a local labor market not as a city, but as an city-occupation pair. A
doubling of city-occupation cell size results in a 6.5 percentage point increase in assortative
matching. This finding is important because city-occupation is arguably a better measure of
the size of the labor market that matters for matching workers to plants. Workers looking for a
job in a city and plants looking for an employee are likely to search within a specific occupation
rather than more generally.
  Figure 2 shows this relationship for four occupations: Chemical engineers, architects, bank
specialists, and economists. Consider the first panel. It shows that the probability that a high-
quality chemical engineer is matched with a high-quality plant is significantly higher in cities
where the stock of chemical engineers is larger. Intuitively, a high fixed effect plant in Mu-
nich looking for a high fixed effect chemical engineer is more likely to find one because at any
moment in time there are many chemical engineers of all qualities looking for jobs in Munich.
By contrast, a high fixed effect plant in Balingen looking for a high fixed effect chemical engi-
neer may have to settle for a low fixed effect engineer simply because there are not that many
chemical engineers of all qualities looking for jobs in the city at any given moment in time. In
an average year, there are 106 matches of chemical engineers of any quality to plants of any
quality in Munich, and only 2 matches in Balingen. Across all German cities, we find that
doubling the size of a city-occupation increases assortative matching by 5.4 percentage points.
The remaining three panels of Figure 2 show that the same is true for the other examples. In
an average year, there are 861 matches of architects, 2143 matches of bank specialists, and 794
matches of economists of any quality to plants of any quality in Munich, but only 21 matches
of architects, 50 matches of bank specialists, and 211 matches of economists in Balingen. The
elasticities of assortative matching with regard to city size range from 3.9 to 7.4 percentage
points.
  Overall, in the first part of our analysis we conclude that wages in larger cities are higher
than wages in smaller cities not only because larger cities have more high-quality workers,
but also because their high-quality workers are significantly more likely to work in high-
quality plants. We also conclude that the relationship between labor market size and assor-
tative matching is even stronger when a labor market is defined as the combination of city and
occupation.
  In the second part of our empirical analysis we conduct several counterfactual exercises


                                                4
under weak parametric assumptions to estimate the consequences of assortative matching for
(i) spatial wage disparities; and (ii) for aggregate earnings in Germany.
  First, we ask how much regional inequality would decrease if the strength of within-city
matching was the same in all cities irrespective of their size. In particular, we estimate what
would happen to mean wages in each city if we kept the quality and the location of German
workers and plants unchanged and set the strength of assortative matching everywhere equal
to the strength in the mean city. We find that geographical inequality would decrease signif-
icantly. For example, the average wage difference between cities at the 25th percentile of the
distribution and cities at the 75th percentile would be 5.6% lower.
  Exploiting the panel information in our data, we also ask how much of geographical sorting
is driven by worker mobility over the life-cycle, i.e., do some regions lose their most talented
workers as they flock to cities and is this a big contributor to regional inequalities? We find that
worker movements across labor markets contribute to regional inequalities only marginally.
The effect on inequality is about an order of magnitude smaller when compared to a counter-
factual with fully random geographical allocation of workers. The majority of the link between
regional inequality and geographical worker sorting therefore exists before labor market entry
of workers.
  Finally, we quantify the aggregate effects of assortative matching on total earnings in Ger-
many. If good workers and good firms are complements in production, more assortative
matching may increase efficiency and aggregate earnings. We find that in an a hypotheti-
cal scenario in which we keep the quality and the location of German workers and plants
unchanged, but we pair workers to firms within each city to maximize assortative matching,
aggregate earnings in Germany would increase by 5.7%, or 84.37 billion Euros. We view this as
an economically important effect. Note that this gain would not require any new investment
in physical or human capital, or any geographical change on the part of workers or firms. It
would only require improved matching of workers to plants within each city.
  The increase in within-city assortative matching that we have found in the last 30 years has
therefore the potential to increase aggregate earnings in Germany. Indeed, we estimate that
the increase in within-city assortative matching observed between 1985 and 2014 resulted in
an increase in aggregate labor earnings in Germany of 2.1%, a gain of 31.32 billion euros.
  Overall, we conclude that assortative matching increases earnings inequality across com-
munities as well as workers, but it also generates important efficiency gains for the German
economy as a whole in the form of higher aggregate labor income.
  The remainder of this paper is organized as follows. In Section 2, we introduce the data and
present some key facts on the geographical distribution of wages in Germany. In Section 3,
we discuss the intuition and our definition of assortative matching across and within cities.
Here we also describe how we estimate worker quality, plant quality, and their correlation.
In Section 4, we present our empirical results on co-location of plants and workers across


                                                 5
local labor markets. Section 5 studies matching within cities and its relationship to size. In
Section 6, we explore possible explanations. In Section 7, we provide a set of counterfactual
exercises which we use to quantify the consequences of matching between and within cities
for spatial inequality and aggregate earnings in West Germany. Section 8 concludes.



2     Geographical Wages Differences in Germany
In this section, we present some initial descriptive facts about spatial wage disparities in Ger-
many. We use data from the Employee History of the Institute for Employment Research.6 It
follows the full job history of the universe of private workers from 1985 to 2014, excluding
the self employed. It includes 298,565,604 worker-year-observations and a total of 29,187,865
individuals and 3,252,487 plants.


2.1    Spatial Wage Dispersion
Our main geographical unit of analysis is the 258 consistently defined travel-to-work areas
(Arbeitsmarktregionen) in Germany, which are similar to US commuting zones and the closest
approximation to local labor markets. Throughout the paper, we refer to these as cities.
    Like in most countries of the world, Germany exhibits vast differences in mean wages across
cities. The average wages in large cities like Munich or Frankfurt are more than twice that in
low-wage regions in East Germany. Among the 204 local labor markets in West Germany,
which is the focus of this paper, wage differences are pronounced. Munich has average wages
roughly 62% higher than the cities at the bottom of the distribution.
    Spatial wage disparities persist even when taking worker characteristics into account. Panel
A of Appendix Figure A.1 shows the dispersion of average log daily wages across 204 West
German cities in 2014 after conditioning on standard worker characteristics such as education,
age, gender, and nationality.7 Panel B shows an analogous distribution including East Ger-
many, and panel C depicts conditional wages across 220 US metropolitan statistical areas in
2009 for comparison. In the US these inequalities tend to be even larger. But the level in West
Germany is substantial as well, with average residual wages at the top being over 40% higher
than at the bottom of the distribution.
    These differences tend to have grown over time. The black line in Figure 3 depicts the
evolution of the standard deviation in raw average wages across cities. This measure of spatial
wage inequality is increasing over most of the observation period, with some flattening of the
trend since 2008. Controlling for various observable characteristics of the local workforce such
as age, nationality, education, plant size, and industry composition reduces the level of wage
    6
      Specifically, the data is called Beschäftigtenhistorik – BEH, Version V10.01.00 - 160816. (see Oberschachtsiek,
Scioch, Christian, and Heining, 2009) for a detailed description of an earlier version of this dataset.
    7
      The distribution is weighted by city size and both distributions are normalized to have the same mean.


                                                         6
inequality across regions, but the three curves at the bottom of Figure 3 reveal that the time
trends of conditional wage inequality remain very similar.8


2.2    Wages and City Size
A large literature has documented that wages are positively correlated with city size. This
is true for the US, where Glaeser and Mare (2001) find an urban wage premium of 24.5% in
metropolitan areas in cities with at least half a million citizens after controlling for experience,
education, race, tenure, and occupation. It is also true for France, where Combes, Duranton,
and Gobillon (2008) find an elasticity of unconditional wages with respect to city size of 5.15
and for Spain, where De La Roca and Puga, 2017 find an elasticity of wages with respect to city
size of 4.6 after controlling for experience, tenure, education, and four occupation categories.
   Germany is no different. The two maps in Figure 4 show average daily gross wages and
population sizes in 2014 for all 258 German local labor markets. A visual comparison shows a
strong correlation. Table 1 shows the average 2008-2014 wage in the five largest cities in terms
of population, the median city, and the five smallest cities. Differences in observed wage levels
between large and small cities are large. For example, the 90-10 difference and 99-1 difference
are 0.25 and 0.43 log points, respectively. Column 4 shows the conditional average log wage,
after controlling for a cubic in age, education levels, gender, and nationality of the worker.
As expected, spatial differences drop significantly, but remain economically important. For
example, 90-10 difference and 99-1 difference are 0.20 and 0.33 log points, respectively.
   The top panel in Figure 5 plots the mean log wage after controlling for workers’ education,
demographic variables, time effects, and industry in each of the 204 metropolitan areas in
West Germany between 2000 and 2014 against log population.9 The estimated elasticity is
0.037, indicating that a 10% increase in population is associated with a 3.7% increase in average
wages, holding constant workers’ observables.
   It is of course possible that workers with high unobserved ability sort into cities with higher
wages. The role played by worker quality has been highlighted by the previous literature.
For example, Combes, Duranton, Gobillon, Puga, and Roux (2012) have shown that sorting
   8
      The literatures on geographical sorting and agglomeration economies is very large. See, among others,
Glaeser and Mare (2001), Yankow (2006), Gould (2007), Combes, Duranton, and Gobillon (2008), Baum-Snow
and Pavan (2012), and Eeckhout, Pinheiro, and Schmidheiny (2014) or De La Roca and Puga (2017) who describe
different forms of sorting mechanisms and agglomeration effects, and provide evidence at the worker-level; or
Henderson (2003), Moretti (2004), Combes, Duranton, Gobillon, Puga, and Roux (2012), and Gaubert (2017).
who analyze agglomeration effects from the perspective of firms. Behrens, Duranton, and Robert-Nicoud (2014)
present a tractable theoretical framework in which founders and workers with heterogenous talents can self-
select into cities and profit from agglomeration economies. Consistent with predictions of their model, we find
positive selection of workers and plants into cities.
    9
      In practice, we follow Combes, Duranton, and Gobillon (2008) and use a 2-stage procedure. In the first step
we regress log individual wage on a city fixed-effect for the current location of a worker and a vector of standard
individual-level control variables. We use the same control variables in this model as in the AKM specification,
namely education-specific age profiles with a cubic functional form and a set of year dummies. In the second
step we regress the estimated city fixed-effects on an intercept and log population.



                                                        7
of high ability individuals plays a major role in explaining spatial wage differences between
French cities. D’Costa and Overman (2014) show that workers in the United Kingdom sort into
bigger cities on the basis of observable and unobservable characteristics. Once this sorting is
accounted for, they find no further wage growth in larger cities. Mion and Naticchioni (2009)
show that three quarters of spatial wage differences in Italy can be explained by sorting of
more able workers.
    In Germany, sorting also matters. But after controlling for worker fixed effects, there con-
tinues to be a positive relationship between average wages and city size. This is shown in the
bottom panel of Figure 5. The elasticity drops to 1.7%, but remains economically meaningful
and statistically significant.
    Combes, Duranton, Gobillon, Puga, and Roux (2012) use historical population data as in-
struments for current city size. If we use 1952 population as an instrument, the estimated 2SLS
elasticity is 3.8%, virtually unchanged relative to the OLS elasticity in the top panel of Figure
5. Controlling for individual fixed effects yields an elasticity of 1.8%.



3     Assortative Matching and Cities
The empirical literature on spatial wage disparities discussed in the previous section has fo-
cused on the role played by unobservable worker heterogeneity in explaining wage differences
across cities. The role played by worker-plant matching in explaining spatial wage disparities
has received relatively less attention. This is notable, since assortative matching has potentially
important consequences for our understanding of the geographical wage differences that exist
in Germany and other countries.
    On the other hand, labor economists have long discussed the potential importance of assor-
tative matching (Becker, 1973; Shimer and Smith, 2000; Shimer, 2005). The paper that is closest
to ours is the recent study by Card, Heining, and Kline (2013), who explore the contributions
of assortative matching to the rise in nationwide wage inequality in Germany. That paper
and the rest of the labor economics literature have generally ignored the spatial dimension of
matching.
    To empirically measure worker and plant quality, and their matching, we follow the ap-
proach by Abowd, Kramarz, and Margolis (1999), henceforth labeled AKM. This approach has
been widely used in the growing literature on assortative matching (see Card, Cardoso, Hein-
ing, and Kline (2018) for a recent survey), though rarely in the context of local labor markets.
The   AKM   model decomposes variation in wages into worker- and plant-specific pay compo-
nents by assuming that the (log) wage of a worker i can be written as:

                                 ln(wageit ) = µi + ΨJ(i,t) + Xit0 γ + it ,                    (1)



                                                     8
where µi are worker effects, ΨJ(i,t) are plant effects, Xit is a vector of observable worker char-
acteristics, and it is the error term.
   The worker effects µi are constant within any given time interval and capture individual-
specific skills that are portable across different jobs, giving rise to a worker-specific wage com-
ponent. Similarly, the plant effects ΨJ(i,t) capture a proportional wage premium (or discount)
for all employees of plant J.10
   We define positive (negative) assortative matching as a positive (negative) correlation be-
tween the worker effects µi and the plant effects ΨJ(i,t) . It has long been recognized that if
worker quality and plant quality are complements in production, positive assortative match-
ing might arise, whereby high (low) quality workers tend to be matched with high (low) qual-
ity plants and implying Cov(µi , ΨJ(i,t) ) > 0.
   In the   AKM   model, log wages are additive in worker and plant effects and, thus, have no
match-specific component. But wages are multiplicative in levels. Thus, there is an incentive
for positive assortative matching, as “good” workers (with high µi ) earn relatively more than
“bad” workers (with low µi ) when working for a “good” plant (with high ΨJ(i,t) ).
   The   AKM   model is consistent with a variety of production functions where the plant effect
captures plant-specific TFP. Consider, for example, the case where the output generated by the
match between worker i and plant J is proportional to:


                                                YJ ∝ µ̃ai Ψ̃bJ(i,t) .                                        (2)

   In this context, assortative matching results in higher output than random matching, and it
also results in higher wages if there is some rent-sharing between workers and plants.
   Thus, assortative matching has two potentially important consequences. First, in terms of
economic geography, if worker quality and plant quality are complements, assortative match-
ing magnifies wage differences across cities. Wages in cities with more good workers and
good plants are higher than wages in cities with fewer good workers and good plants not only
because of the difference in quality, but also because of the match component. If the strength
of assortative matching increases with city size, geographical wage differences will be further
magnified.
   Second, from a macroeconomic point of view, assortative matching increases aggregate out-
put and aggregate earnings. Intuitively, for a given distribution of worker and plant quality, a
country can produce more output if good workers and good plants are matched than if work-
ers and firms are matched randomly.
   10
     This may, for example, capture efficiency wages, rent sharing, or other time-invariant differences in com-
pensation policies across plants. Of course, the AKM model is not a structural model of the labor market and
the identified worker and plant effects do not necessarily measure true ability or productivity. See Eeckhout and
Kircher (2011), Abowd, Kramarz, Lengermann, and Pérez-Duarte (2004), and Abowd, Kramarz, Pérez-Duarte,
and Schmutte (2014) for a discussion.




                                                         9
3.1   Matching Between and Within Cities
We are interested in the geography of assortative matching. There are two ways in which as-
sortative matching may arise in practice: Between local labor markets and within local labor
markets. The first measures the degree to which high-quality workers and plants are sorted
into the same cities. The second measures the degree of matching within labor markets condi-
tional on the spatial distribution of workers and plants. More specifically, we can decompose
the overall covariance between worker and plant effects into the part of assortative matching
that takes place between cities and the part that takes place within them:

                                                                                         
                 Cov(µi , ΨJ(i,t) ) = Cov Ec [ΨJ(i,t) ], Ec [µi ] + E Covc (µi , ΨJ(i,t) )     (3)
                                      |        {z                } |        {z            }
                                                Between                      Within

where c indicates a city and Ec and Covc are the respective moments at the city level. The first
terms describes the covariance between average worker and plant quality across cities and
captures the between part. The second term captures the formation of matches within cities.


Between city matching.       First, we might see positive assortative matching between cities if
high-quality workers tend to locate in cities where high-quality plant also locate. In this case,
the correlation of average worker and plant effects should be positive, indicating that cities
with an above-average share of high-quality plants—which in Germany tend to locate in larger
cities—will also have a higher than average share of high-quality workers. We will refer to this
form of assortative matching as co-location.
  In practice, there are a variety of reasons why we might observe co-location occurring in
the data. If worker quality and plant quality are complements in production, good work-
ers and good plants may have an incentive to co-locate. Alternatively, it is also possible
that larger cities offer workers better or more varied consumption amenities (Glaeser, Kolko,
and Saiz, 2001) and also offer productivity advantages to plants in the form of productive
amenities—e.g., transportation infrastructure or other locational advantages. If good workers
have stronger tastes for consumption amenities found in large cities and good plants have a
higher return to productive amenities found in large cities, co-location might arise even in the
absence of complementarities. For the purpose of our analysis, what matters is the degree of
co-location and not the specific mechanism that generates it.


Within-city matching.      For a given spatial distribution of worker and plant effects across
cities, assortative matching might take place within each city. If worker quality and plant
quality are complements in production, there is an incentive for good workers in a city to
be matched with good plants in that city. The degree of assortative matching within cities,
however, does not have to be geographically uniform.
  Of particular interest for us is the relationship between the strength of assortative match-

                                                     10
ing and labor market size. There are two reasons why we might expect stronger assortative
matching in larger cities. First, large and thick labor markets have long been hypothesized to
produce more productive matches between workers and plants than small and thin markets.
The intuition was first provided in the barter model by Diamond (1982), where the probability
of finding a trading partner depends on the number of potential partners available, so that an
increase in the size of the market makes trade easier. In urban economics models, labor pool-
ing has long been assumed to be a potentially important advantage of large cities. In Helsley
and Strange (1990), a worker-plant match is more productive in areas where there are many
plants offering jobs and many workers looking for jobs.11 A second reason is that the incen-
tives for positive assortative matching depend on city size. If worker and plant quality are
complements there is an incentive for high-quality workers and high-quality plants to match
in all cities, but the incentive is stronger in larger cities, as we will show below.
   The empirical evidence is not extensive in part because it has proven difficult to measure
worker and plant quality and the quality of the match. Petrongolo and Pissarides (2006) pro-
vide one of the earliest tests of the scale effect in job search based on the comparison of the
number of job matches in labor markets of different sizes and find significant scale effects in
wage offers, but not in actual matches. Wheeler (2008) and Bleakley and Lin (2012) find that
the probability of changing occupation or industry is positively correlated with city size for
young workers and negatively associated with city size for older workers. This is consistent
with the notion that, early in a career, when presumably workers are shopping around for a
good match, industry and occupation changes occur more often in large local markets. Later
in a career, when changing industry or occupation becomes more costly because it may in-
volve giving up specialized skills, industry and occupation changes occur less often in large
markets, presumably because matches are better.
   There is also a literature that studies directly the link between assortative matching and
size of the local labor markets. Andersson, Burgess, and Lane (2007) find stronger assortative
matching in denser counties in Florida and California. By contrast, Figueiredo, Guimaraes,
and Woodward (2014) find little support for stronger assortative matching across Portuguese
industrial clusters. Mion and Naticchioni (2009) find a positive correlation of individual abil-
ity and firm size, but a negative correlation of assortativeness and area density. Andini, De
Blasio, Duranton, and Strange (2013) use various survey questions which measure workers’
assessments of match quality and find evidence that agglomeration improves matching, but
not very much.
  11
     Acemoglu (1997) and Rotemberg and Saloner (2000) propose alternative mechanisms. See Moretti (2011) for
a survey.




                                                    11
3.2     Estimation Issues
The worker and plant effects in (1) are identified by individuals moving across plants. Thus,
the estimation of    AKM    models requires a large longitudinal data set that ideally covers the
country’s entire workforce and all of its plants. Our data is well suited because it allows us to
follow the entire job history of all private sector worker from 1985 to 2014. We split the sample
into five 7-year time intervals: i) 1985-1991, ii) 1990-1996, iii) 1996-2002, iv) 2002-2008, and v)
2008-2014 and estimate the AKM model (1) separately for every interval. For every individual
worker we record the main job held on June 30 in every year and compute the correlations of
µi and ΨJ(i,t) pertaining to the job held in the first year of the respective time interval. Notice
that both µi and ΨJ(i,t) may vary across time intervals if the same worker or plant is observed
in the data in more than one interval.
   The dependent variable is the log gross wage per calendar day. We focus on male full-time
workers aged 20 to 60 in West Germany for the main part of the paper because data for East
Germany becomes available only after 1991. In the robustness checks, we also report results
that include East Germany. One well-known problem in this data is the top-coding of wages
at the social security contribution ceiling, which was around 140 e per day in 2010. We deal
with this problem in two ways. First, we follow the imputation methodology proposed by
Card, Heining, and Kline, 2013. All our main tables are based on this approach. In addition,
we re-estimate (1) using top-coded data and find that our results are not sensitive.12 The vector
Xit includes education-specific age profiles—in the form of a quadratic and a cubic term in age
interacted with four dummies for educational attainment—and year fixed effects.13
   Estimation of the AKM model (1) hinges on several assumptions. Card, Heining, and Kline
(2013) provide a detailed discussion and confirm their validity in a series of empirical tests
exploiting essentially the same data that we use in this paper, but without differentiating local
labor markets.14 Replicating their validity tests for our version of the data set, we obtain con-
sistent results that confirm the strong empirical performance of the               AKM   model in Germany
relative to a fully saturated model with match-specific fixed effects. Bonhomme, Lamadon,
and Manresa (2017a) find in Swedish data that the log additive structure of the AKM model
provides a good approximation to the wage distribution. The results and tests in Macis and
Schivardi (2016) also suggest a good fit of the AKM model in Italy.15
   12
      The detailed results tables for that approach are available upon request.
   13
      We leave out the linear age term to achieve identification and center the age effects around 45. We distin-
guish three education levels: i) completed college degree, ii) completed apprenticeship, iii) completed secondary
schooling or lower. We add a fourth category for the few observations where the education level is missing in the
data.
   14
      They find that workers of different skill groups receive approximately the same proportional wage pre-
miums at a given plant—consistent with the simple additive structure of Equation (1). Second, a fully satu-
rated model with job-specific fixed-effects only yields a marginal improvement in terms of data fit. Finally, the
match-specific component of the residual is uncorrelated with the direction of job switches between high- and
low-paying plants.
   15
      On the identification of positive assortative matching in AKM models, see also Eeckhout and Kircher (2011),
Abowd, Kramarz, Pérez-Duarte, and Schmutte (2014), and Chade, Eeckhout, and Smith (2016).


                                                       12
   Apart from these established empirical validity tests, we have also investigated two addi-
tional estimation concerns that are particularly relevant in our context.


Limited Mobility Bias.          The first is the presence of limited mobility bias, which is well-
known in the literature (Abowd, Kramarz, Lengermann, and Pérez-Duarte, 2004) and could
potentially lead to a downward bias in the estimated covariance of worker and plant effects.
In our context, we are particularly concerned that this bias may vary systemically with local
labor market size. Larger markets tend to have more worker mobility, and this could drive
some our results in Section 5 on assortative matching within cities.
   To address this, we follow the discussion in Bonhomme, Lamadon, and Manresa (2017a)
and Bonhomme, Lamadon, and Manresa (2017b) and estimate a set of grouped-fixed effect
models. Instead of obtaining a fixed effect for each plant, we allocate them into k = 10, 15, 20
groups with similar wage structures using a k-means cluster analysis. We then measure the
distribution of wages in each plant by m = 20, 40 wage percentiles.16 Since there is much
more mobility of workers between these plant clusters than between individual plants, any
bias should be mitigated.


Residual Plant Effects.        Another issue arises in interpreting the plant effects in Equation (1).
Since plants virtually never change their location, all time-invariant characteristics of the plant—
in particular its industry affiliation or size, to the extent that they are persistent over time—are
captured by the ΨJ(i,t) . This raises the question how much of the geographical variation in plant
effects is driven by nationwide differences across industries or plant size and how much is due
to spatial differences orthogonal to industry effects. To investigate these issues, we regress the
plant effects identified in (1) on a vector of city identifiers, a vector of 2-digit industry identi-
fiers, and a quadratic in initial employment and decompose the overall fit of the model into
the contributions of the each variable group.17 The R2 in Appendix Table A.1 shows that at
most 17 % of the variation in plant effects can be explained by the combination of plant size,
industry, and geography. The bulk of the variation seems to stem from genuine plant-specific
differences orthogonal to those dimensions. This emphasizes the importance of investigating
the role of plants for spatial wage disparities, since individual wages seem to be affected by
plant-specific components over and above industry effects.
   To take systematic industry differences into account, we construct a set of plant effects that
are purged of those influences. In particular, we de-mean the estimated plant effects at the
industry level (2-digit) and label those residual plant effects. These estimates are orthogonal to
local industry structures by construction. In what follows, we present our key results for both
   16
      The plant clusters represent the heterogeneity of wages across German plants remarkably well: Depending
on the interval and the choice of k and m, they capture between 94.48 and 97.98 percent of the variation of average
wages across all German plant.
   17
      This approach follows Huettner and Sunder (2012).



                                                        13
the unconditional and the residual plant fixed effects.


3.3     Summary Statistics
Means and standard deviations for all our variables are reported in Table A.2. In panel A, we
show descriptive statistics at the level of individual workers, while in panel B we show the
descriptive statistics at the city level.
   Appendix Table A.3 shows a decomposition based on Equation (3) of assortative matching
into the part that takes place between and within local labor markets. The first row shows that
the overall amount of assortative matching, measured by the covariance of worker and firm
effects, has increased dramatically. It was -13.1 in the period 1985-1991 and rose to 191 in 2008-
2014. The overall increase is not a novel finding and was documented by Card, Heining, and
Kline (2013). The second row shows that the geographical co-location component, measured
by the covariance between average city level worker and firm effects, almost doubled between
1985-1991 and 2008-2014, rising from 11.9 to 23.3. Column 4 shows that positive assortative
matching within cities has risen even faster, starting from a negative value in 1985-1991 and
increasing by a factor of 6 by the last time period. Column 3 shows that the within-city part
makes up 87.8% and the across-city part 12.2.% of the total match level covariance.


3.4     Preliminary Evidence on the Importance of Assortative Matching
We start by measuring the importance of assortative matching in explaining wage differences
across German cities. We use Equation (1) to decompose the between-city variance in mean
wages into the following components:



             V ar(Ec [ln wageit ]) =V ar(Ec [µi ]) + V ar(Ec [ΨJ(i,t) ]) + V ar(Ec [Xit0 γ])
                                       + 2Cov(Ec [ΨJ(i,t) ], Ec [µi ]) + 2Cov(Ec [µi ], Ec [Xit0 γ])
                                       + 2Cov(Ec [ΨJ(i,t) ], Ec [Xit0 γ]).

   This decomposition indicates that geographical wage differentials depend on geographi-
cal differences in mean worker quality V ar(Ec [µi ]) and mean plant quality V ar(Ec [ΨJ(i,t) ]).
Crucially, it also depends on assortative matching, measured here by the covariance of mean
worker quality and mean plant quality: Cov(Ec [ΨJ(i,t) ], Ec [µi ]). Thus, for a given amount of
spatial differences in mean worker and plant quality, a stronger degree of assortative match-
ing across cities results in larger spatial wage differences across cities. The spatial distribution
of workers’ observable characteristics Xit also plays a role.18
   18
   Note that for simplicity here we are focusing on the variance in log wages, rather than wages in levels. This
means that we are abstracting from the role played by within-city assortative matching and focusing only on the


                                                      14
    Table 2 shows the results of this decomposition exercise. Columns 2 and 3 indicate that 40%
and 24% of the cross-sectional differences in average wages across German cities in 2008-2014
reflect variation in worker and plant effects, respectively. Differences in workers’ observable
characteristics—namely education-specific age profiles—play a negligible role after condition-
ing on fixed effects. The finding that worker effects are an important determinant of spatial
disparities is not completely new. Indeed, it is consistent with findings established in Combes,
Duranton, and Gobillon (2008) for France. They show that sorting of high-quality workers is
a key explanation for wage differences across French cities.
    The key finding in Table 2, however, is that 42% of the cross-sectional differences in average
wage across German cities in 2008-2014 are due to co-location (column 3). Put differently,
assortative matching across German cities is the most important part in this decomposition,
accounting for almost half of the cross-sectional variation. This finding is consistent with Card,
Heining, and Kline (2013) who show that assortative matching is the most important factor in
explaining overall wage inequality across German workers (as opposed to cities).
    The importance of assortative matching across cities is not fading over time. Instead, it is
increasing over time. Columns 4 and 5 indicate that co-location of “good workers” and “good
plants” accounts for as much as 61% of the increase in spatial wage disparities over time.
A more unequal distribution for worker effects across space is the other important driver,
accounting for 68% of the increased variance. Increasing dispersion of the plant effects (i.e.,
rising workplace heterogeneity) plays only a very limited role in recent spatial wage inequality
trends. In other words, changes in the spatial distribution of plants have not contributed
significantly to changes in geographical inequality between high wage and low wage cities.19



4     Evidence on Co-Location
In the remainder of the paper, we document the amount of assortative matching, its rela-
tionship with local labor markets, its effects on geographical wage differences and aggregate
earnings. In particular, in this section we quantify the amount of assortative matching between
German cities (co-location) and the role played by city size in co-location patterns. In Sections 5
and Section 6 we study the link between the strength of within-city assortative matching and
city size. In Section 7, we use a series of counterfactual exercises to estimate systematically the
effect of assortative matching on wage disparities across cities and on aggregate earnings.
role played by co-location. This decomposition is analogous to the one proposed by Card, Heining, and Kline
(2013) for the decomposition of national wage inequality between occupation and education groups.
   19
      This conclusion is different than for occupational- or industry-specific trends. For example, Card, Heining,
and Kline (2013) have shown that important parts of the rise in individual wage dispersion in Germany can
be explained by workplace-specific factors. We find no such evidence at the local level, indicating that rising
workplace heterogeneity occurred uniformly across regions.




                                                       15
The Location of Good Workers and Good Plants                  The left panel in Figure 6 shows for each
city the fraction of workers in the top 10% of the national distribution of fixed effects. The
top three cities according to this measure in 2008-2014 are Munich, Erlangen, and Frankfurt.
Stuttgart, Duesseldorf, and most of the largest and densest cities in West Germany are all
among the top 20. The bottom three cities are Lichtenfels, Cloppenburg, and Neustadt/Aisch.
The right panel shows the fraction of plants in the top 10% of the national distribution of fixed
effects. The top three cities in 2008-2014 are Wolfsburg, Salzgitter, and Dingolfing, which are
all prominent locations of car manufacturing plants. The bottom three cities are Hof, Leer, and
Uelzen.
   A comparison of the two maps points to a positive association across German cities between
worker and plant effects. Some cities—mostly large cities—appear to have a disproportionate
share of both workers with high fixed effects and plants with high fixed effects, while other
cities—mostly small cities—appear to have a lower share of both.
   Panels A and B of Figure 7 depict the relationship between worker quality and market
size. In particular, it plots initial (log) population size against the mean worker effect in the
respective city. The corresponding elasticities for the early and latest periods are 0.036 (s.e.
0.002) and 0.052 (s.e. 0.005), respectively. Hence, doubling the local population is associated
with a 5.2% higher mean worker effect in 2008-2014, a relationship that has become more
pronounced over time. Put differently, “good workers” with high individual-specific wage
components are mostly found in large, dense cities, and particularly so in more recent years. If
we instrument current population with 1952 population, the estimated elasticity for the most
recent period increases from 0.052 to 0.056 (s.e. 0.005).
   Panels C and D of Figure 7 depict the relationship between plant effects and population. The
elasticity of mean regional plant effects with respect to (log) population is 0.028 (s.e. 0.003) in
the first and 0.016 (s.e. 0.003) in the last period. Unlike for worker effects, this elasticity has
thus decreased over time.20


Co-Location and City Size.         Overall, it appears that in Germany “good workers” and “good
plants” are concentrated in larger cities. The concentration of “good workers” has become
more important over time, while the concentration of “good plants” is stable. These two facts
together imply that worker and plant effects display a strong degree of correlation across Ger-
man cities and that this correlation is growing over time.
   Figure 8 plots mean plant effects (x-axis) against worker effects (y-axis) in 1985-91 and 2008-
2014. The figure confirms that the already strong correlation in the early period has become
even stronger more recently. Table 3 shows that the slope in a regression of mean plant on
mean worker effects across cities is 0.61 (s.e. 0.091) in 1985-91 and 1.30 (s.e. 0.184) in 2008-2014
   20
     A regression of the residual plant effects, which we have demeaned at the 2-digit industry level, on (log)
population yields almost identical elasticities. If we instrument current population with 1952 population, the
estimated elasticity is 0.031 (s.e. 0.004) in the first and 0.017 (s.e. 0.004) in the last period.


                                                      16
when we weight by lagged city size.21
    Since both “good workers” and “good plants” are concentrated in larger cities, we next ask
how much of the observed co-location patterns of workers and plants reflects city size. We
use the law of total covariance to decompose the covariance of the average worker and plant
effects from Table 2 Cov(Ec [µi ], Ec [ΨJ(i,t) ]) into a part explained by city size and a residual part.
Specifically, we use our estimates of the population size elasticity from Figure 7—0.052 and
                                                                                    
0.016, respectively—to obtain the fitted values E [Ec [µi ] |pop] and E Ec ΨJ(i,t) |pop and the
residuals. The covariance of the fitted values is the part that is explained by population size.
Adding the covariance of the residuals gives the total covariance:


                                                                                     
                 Cov(Ec [µi ], Ec [ΨJ(i,t) ]) =Cov E [Ec [µi ] |pop] , E Ec ΨJ(i,t) |pop
                                                                             
                                              +E Cov Ec [µi ] , Ec ΨJ(i,t) |pop

    The results of this decomposition are displayed in Table 4. In the most recent period, around
one quarter of the observed co-location is due to city size (columns 2 and 3). The importance
of size has declined from a value of around 60% at the start of the period. Thus while the
explanatory power of city size is on a downward trend, it still explains a significant part of
co-location patterns.



5        The Strength of Assortative Matching and City Size
Having documented the tendency of “good workers” and “good plants” to co-locate in large
cities, we now turn to assortative matching within cities and its relationship with city size.
We first estimate the degree of assortativeness of worker-plant matching for every city in our
sample. We then document that the degree of assortativeness increases with city size.


5.1      Baseline Estimates
Figure 9 shows geographical differences in the strength of assortative matching. Specifically,
for each city the map shows the correlation between worker and plant effects in the period
2008-2014. There are clearly large differences in the strength of assortative matching across
space. The three cities with the highest degree of assortative matching are Erlangen (0.44),
Munich (0.36), and Frankfurt (0.35). Appendix Table A.4 shows that the difference between
the cities with the largest and smallest correlations is 0.58. The 75-25 quartile spread is 0.12.
    In Figure 10 we plot the city-specific correlation coefficients against (log) population across
    21
    The corresponding slopes in an unweighted regression are 0.46 in the first period and 0.88 in the last period.
These results also hold for the other spatial units: 325 administrative counties, 108 larger commuting zones, and
8277 small-scale municipalities (Gemeinden).


                                                       17
all 204 local labor markets in 1985-91 (panel A) and in 2008-2014 (panel B). We find a positive
and statistically significant relationship, with an estimated elasticity of 0.038 (s.e. 0.005) in the
early period and 0.061 (s.e. 0.006) in the most recent period. Put differently, larger cities are
characterized by a substantially stronger degree of assortativeness.22 Notably, the relationship
between city size and the degree of assortativeness has become stronger over time. In other
words, larger cities were already characterized by a strong degree of assortative matching in
their local labor market already in 1985-1991, but this relationship strengthened in 2008-2014.
   The corresponding estimates are in panel A of Table 5. The first column reports OLS esti-
mates of a regression of the degree of assortativeness on current (log) population. The coeffi-
cients correspond to those shown in Figure 10. It is possible that city size in a given year may
be driven, at least in part, by the expectation of better matching within the local labor market.
In column 2 we show two-stage least squares (2SLS) estimates if we instrument current pop-
ulation with 1952 population. The estimated elasticity is 0.042 in the first and 0.070 in the last
time period, which are slightly larger than the corresponding OLS coefficients. In column 3,
we measure city size by the log employment in a city, instead of population. We find that the
elasticity of assortativeness with respect to total number of workers in the local labor market
is very similar to the elasticity with respect to total local population.
   When we re-estimate our models using residual plant effects (see Section 3.2), we find very
similar results (panel B of Table 5). This means that stronger assortative matching in larger
cities is not driven by local industry mix. Rather, our findings indicate that larger cities exhibit
better worker-plant matching independently of local industry mix.
   Overall, Table 5 confirms the key pattern that the degree of positive assortative matching
between workers and plants is stronger in larger cities and that the relationship with city size
has grown over time.


Hamburg and Daun.             To better understand where the association between assortative match-
ing and city size is coming from, we consider the largest and smallest West German city as
examples. Panel A of Figure 11 plots the joint density of plant effects and worker effects mea-
sured in 2008-2014 in Hamburg and panel B of Figure 11 shows a similar graph for Daun. Both
figures show a certain degree of assortativeness, but the sorting is much stronger in the large
city. In Hamburg, the higher degree of assortative matching seems to be driven mostly by
the matching of the highest two deciles of workers with the highest paying plants. But there
are also comparatively high densities of the other combinations among the main diagonal,
   22
      Notice that the level of the correlation coefficient on the vertical axis is not particularly high. For some regions
it is even negative. This is a common pattern in applications of the AKM approach, however, that is scrutinized
in a substantial literature which argues that the measured correlation understates the true degree of assortative
matching (e.g., Andrews, Gill, Schank, and Upward (2008), Eeckhout and Kircher (2011), and Abowd, Kramarz,
Pérez-Duarte, and Schmutte (2014)). Also see the applications by Card, Heining, and Kline (2013) and Andersson,
Burgess, and Lane (2007) who find similar magnitudes and domains for the correlations as in our Figure 10. For
this paper, we are less interested in the level of the correlation than how it varies with population size and over
time. This inference is unaffected by those identification problems when the bias is constant.


                                                           18
whereas the probabilities of matching top plants and bottom workers and vice versa are con-
siderably smaller. In Daun, the picture is somewhat different. Here, there are a lot of matches
of top plants with workers from the bottom of the distribution of fixed effects and overall the
degree of assortativeness in worker-plant matching appears much less tight.


5.2      Robustness Checks and Alternative Specifications
In this subsection we consider several important robustness checks and alternative specifica-
tions.


Limited Mobility Bias.     An important issue to consider is the presence of limited mobil-
ity bias, which may generate a downward bias in the estimated covariance of worker and
plant effects. To address this, we first follow a simplified procedure of Bonhomme, Lamadon,
and Manresa (2017a) and Bonhomme, Lamadon, and Manresa (2017b). We estimate a set of
grouped-fixed effect models. Instead of obtaining a fixed effect for each plant, we group them
into k = 10, 15, 20 groups of plants with similar wage structures using a k-means clustering
analysis. We measure the distribution of wages in each plant by m = 20, 40 wage percentiles.
Since there is much more worker mobility between these plant clusters than between indi-
vidual plants, clustering should mitigate any mobility bias when running the AKM proce-
dure with fixed effects for clusters instead of individual plants. The plant clusters represent
wage heterogeneity across German plants remarkably well: Depending on the interval and
the choice of k and m, they capture between 94.48 and 97.81 percent of the variation in average
wages across all German plants.
  At the national level, estimating a set of grouped-fixed effect models increases the estimated
correlation between worker and plant effects substantially from 0.2981 to 0.5535 for the last pe-
riod 2008-2014 (with k = 15 and m = 40). This suggests the presence of significant downward
bias in the worker-plant correlation.
  If we look at assortative matching within cities, however, we find that it is still strongly
positively associated with labor market size. All robustness checks for the grouped-fixed effect
models are reported in Appendix Table A.5. Using the results from the grouped-fixed effect
models, we find that the estimated elasticity of assortative matching with respect to city size
decreases by around 20%. This suggests that limited mobility bias is indeed stronger in smaller
labor markets, but our key finding that the degree of assortative matching is substantially
higher in larger cities remains robust.
  As an alternative approach to tackle limited mobility bias, we have also considered a sim-
pler procedure. Namely, we re-estimate our model using only the largest 66 out of 204 cities
that together account for about two thirds of the German population. Limited mobility bias
should be much less of an issue for those large cities, given that worker turnover is typically
higher in larger local labor markets. Our results indicate that the elasticity with respect to pop-

                                                19
ulation size of 0.0645 (s.e. 0.011) is virtually unchanged compared to the baseline results. We
repeat this exercise and drop the smallest/largest cities that together account for 20 percent,
33 percent, and 50 percent of the German population, respectively. The results are reported in
Appendix Table A.6 and show that our main results do not stem from a systematic bias that is
restricted to small or large cities.
   In another check, we drop the cities with the highest and smallest turnover. To do so, we
calculate the average number of worker switches per plant. Since each switch contributes to
the identification of the plant fixed effect of both the original and the target plant, which may
be located in different cities, we count each switch for both plants, sum up the switches by
city and divide the total number of switches by two. We then drop the 20 percent, 33 percent,
and 50 percent of all cities with the smallest/highest average number of switches per plant.
The results are reported in Appendix Table A.7. We find that dropping the cities with the
smallest number of switches shrinks the city size elasticity of assortative matching, but our
main coefficient is still positive and significant.


Price Differences and Regional Real Wages. We have so far deliberately focused on nominal
wage differences across cities and only deflated wages to correct for yearly national inflation.
The reason is that spatial equilibrium models predict a link between the nominal wage level
and productivity of a region. In panel A of Appendix Table A.8, we show results for local real
wages deflated by local price levels.23
   This exercise produces different and interesting patterns. Intuitively, since existing plants
virtually never change their location, the different regional price levels load into the plant
effects. In line with this, we find that the mean plant effects are now negatively correlated with
log population across cities. Thus, plants in larger cities pay higher nominal wages but lower
real wages. But the relationship between (log) population size and mean worker effects and
between population and the assortative matching coefficients remains virtually unchanged
compared to our baseline results. In other words, our key finding that worker-plant matching
has a higher degree of assortativeness in larger cities is unaffected when using real instead
of nominal regional wages because different regional price levels do not influence the within-
market correlation of worker and plant effects.


Density Instead of Size.        We re-estimate our models using population density, defined as
population over the area of a local labor market, instead of population size as the explanatory
variable of interest. Density and population are, naturally, positively correlated with a coef-
ficient of 0.694. However, the correlation is far from perfect and some cities outside the top
10 in terms of population are now among the top 10 in terms of density, e.g., Gelsenkirchen
   23
    We take the local price levels from the German Federal Institute for Research on Building, Urban Affairs
and Spatial Development, BBSR (2009, chapter 5). The price levels account for housing and services. We weight
counties by population to get the relevant labor market indices.


                                                     20
and Bochum. Some populous cities like Hamburg, Munich, and Frankfurt, by contrast, move
down the rankings significantly. The results are shown in panel B of Appendix Table A.8 and
are again similar to our baseline findings. In particular, we find that the elasticity of assortative
matching with respect to population density is 5.66%, which is only marginally smaller than
our baseline findings, and that this elasticity is increasing over time.


Other Geographic Units.           Our results so far refer to the 204 West German local labor market
areas, which can be thought of as analogues to US commuting zones. We have also replicated
our analysis for various other spatial units, namely the 325 administrative counties, 108 larger
commuting zones, and 8277 small-scale municipalities (Gemeinden). We find empirical patterns
that are very similar to our baseline results.


East Germany.        Finally, we only consider cities in East Germany, for which reliable data be-
came available only in the mid-1990ies. We used this data already in the estimation of worker
and plant effects, but then discarded all East German cities in the subsequent analyses. Now
we repeat our baseline exercises for the 54 East German cities. Results are shown in panel C
of Appendix Table A.8 and turn out to be similar to the results obtained when focusing on
West Germany. In particular, we find comparable elasticities of worker and plant effects with
respect to population, which are 4.36% and 2.38% in the last time interval. The elasticity of
the assortative matching coefficients and log population is 6.05% and thus also similar to the
baseline value.


5.3     Occupation-Specific Local Labor Markets
So far we have measured the size of cities by the overall (log) population. However, it is pos-
sible that localized increasing returns in the matching technology may be specific to narrower
definition of local labor markets (Moretti, 2011). For example, the assortativeness of match-
ing bioengineering workers with bioengineering firms may be better in local environments
where many such bioengineers are present and only weakly better in larger cities with more
inhabitants or workers in general.
   To explore this, we now turn to a more fine-grained definition of local labor markets using
cells for particular occupations. We distinguish 89 different 2-digit occupations and compute
the correlation of worker and plant effects separately for each occupation within each city.24
   A doubling of city-occupation cell size results in a 6.4% increase in assortative matching, as
shown in Figure 12. Table 6 reports more detailed results. In column 1 we regress the degree
of occupation-specific assortative matching on overall city employment only. In column 2, we
use instead the total number of workers in the relevant city-occupation cell. Notably, we find
   24
     Since in small cities some occupational cells are empty or very small, we restrict our analysis to cells with at
least 50 workers and 5 plants.


                                                         21
a stronger elasticity than we do at the city level. Including both measures at the same time in
column 3, we find that only the local-occupation size measure remains positive and significant.
In column 4 we include city fixed effects and thus focus on the variation in assortative match-
ing across occupations within cities. We obtain coefficients similar to column 2. In column
5 we include occupation fixed effects and in column 6 we include both city and occupation
fixed effects simultaneously. This cuts the correlation between the size of the specific local
labor market and matching in half. Apparently, this correlation holds more strongly across
than within occupations. Finally, in column 7 we include the percentage of college educated
workers in each cell as well as an interaction term with the size of the cell. We find that while
more skill-intensive city-occupations have a higher correlation of worker and plant effects per
se, the elasticity with respect to the size of the local labor market actually declines with skill
intensity. Taken together, the results show that the benefits of size for assortativeness seem to
be strongly confined to the specific local labor markets for particular occupations.
    Comparing the upper and the lower panel of Table 6, we find higher elasticities for 2008-
2014 than for 1985-1991. This mirrors the pattern found before that the elasticity of assortative
matching with respect to labor market size has become stronger over time.25
    In Appendix Table A.10 we conduct a similar analysis for fine-grained local labor markets
at the level of 60 2-digit industries in the 204 local labor markets. The results are qualitatively
similar to those for occupations, although the assortivity-size elasticities tend to be somewhat
smaller. This hints at a larger importance of matching at the occupation compared to the in-
dustry level. Moreover, we find that both the aggregate and the industry-specific labor market
size matter when it comes to the quality of worker-plant matching.



6        Why is Assortative Matching Stronger in Larger Cities?
We have documented that larger local labor markets are not only characterized by better pools
of workers and plants (co-location), but also that they additionally facilitate more assortative
worker-plant matching. In this Section, we discuss two not mutually exclusive possible expla-
nations. Establishing the relative merit of these two explanations is outside the scope of this
paper.


Benefits of Market Thickness.          One reason why we might see the degree of assortative match-
ing increasing in city size is that market thickness facilitates matching. Large and thick mar-
kets have long been assumed to generate better matches than small and thin markets when
frictions of some type separate demand from supply (Diamond, 1982; Helsley and Strange,
    25
     Since occupation-specific local labor markets are considerably smaller than whole local labor markets, those
results might be driven by limited mobility bias as discussed in section 5.2. We therefore replicate Table 6 using
plant effects from plants grouped into k = 20 groups. Appendix Table A.9 shows that this does not change the
overall result.


                                                       22
1990; Acemoglu, 1997; Rotemberg and Saloner, 2000).
   Compare, for example, Munich and Balingen. In the period 2008–2014, there were 633
matches of chemical engineers with 361 plants in Munich but only 12 matches of chemical
engineers with 10 plants in Balingen. The basic idea in this class of models is that—because
of frictions in the labor market—firms looking for chemical engineers in the small market
have a lower probability of finding any chemical engineer and must settle for worse matches.
Conversely, due to higher thickness the probability that a high-quality chemical engineer is
matched to a high-quality firm is higher in the larger market. And indeed, the correlation of
worker and plant effects of all chemical engineers and their firms is 0.228 in Munich and even
-0.275 in Balingen.
   Table 7 shows that in a cross section of German employers, city size is correlated with the
probability that a plant has difficulties filling a vacancy. The table is based on data from the
IAB Job Vacancy Survey on the hiring behavior of 14,000 German plants (see Kubis and Re-
bien, 2017, for details).26 In 2010 and 2011, the questionnaire included a question on whether
plants had "experienced difficulties in filling vacancies in the previous 6 months". About 25%
of the plants answered affirmatively. In Table 7, we show estimates of a linear probability
model where the probability of answering "yes" is a function of city size, plant size, a vector of
industry identifiers, and a dummy for whether the plant has grown or shrunk in the past year.
Entries indicate that the probability of experiencing difficulties in filling vacancies in the last
6 months is strongly negatively correlated with city population. The coefficient ranges from
-0.0181 (s.e. 0.008) to -0.0301 (s.e. 0.008), indicating that doubling the city size is associated
with a 2 to 3 percentage point lower probability of having difficulties filling vacancies. Since
there are many differences between the labor markets of large and small cities, however, this
evidence is suggestive at best.


Stronger Incentives.       Another possible explanation for stronger assortative matching in larger
cities is that the monetary incentive of forming better worker-plant matches is stronger for
“good workers” and “good plants”. This point can be illustrated with a simple example. Sup-
pose there are two local labor markets, a large city C and a small city R. Assume, in line
with the evidence, that C has more productive plants which could result, for example, from
better infrastructure—a port, an airport, a rail link, etc.—or other types of productive ameni-
ties. Because of the higher productivity of local plants, C will also have more employment
and population. Due to complementarity between worker and plant quality, C will also have
better workers with higher fixed effects. Indeed, this co-location pattern is what we found
empirically in Section 4.
   In particular, assume that there are two equally large groups of workers in city C with ability
   26
    The main aim of this survey is to gauge the number of vacancies in Germany. The data stems from a random
sample of all German plants with at least one employee subject to social security, stratified with regard to size,
industry, and East/West Germany.


                                                       23
µC                                                                      C
 i = {11, 9}, and two equally large groups of plants with productivity νJ = {110, 90}. In R, we

also have two equally sized groups, but their quality is lower: µR               R
                                                                 i = {6, 4} and νJ = {60, 40}.

Suppose that a worker-plant match generates revenue µi × νJ —as in the production function
in Equation (2) above—which is equally split. With initial random matching within every city,
the average wage (and profit) is thus (10×100)/2 = 500e in city C and only (5×50)/2 = 125e in
city R. Finally, assume that workers can freely send out job applications only locally and that
the plants receiving those applications can switch their single employee at a fixed cost F ,
which represent frictions in filling job vacancies. Empty plants and displaced workers can
then freely match in a secondary round.
    If the costs F are similar in the two regions it is easy to see that good plants in the larger
city C have the strongest incentive to re-match in this model. A good plant in C that is initially
matched with a bad urban worker can gain (110 × 11 − 110 × 9)/2 = 110e when firing their old
and switching to a new worker. This is higher than for a bad plant in C (which can gain 90e ) or
for a good plant in R (which can gain 60e ). For simplicity, suppose that F is the same in C and
in R. For the range 60 < F < 110, only the plants in C will have turnover in equilibrium and
eventually all good plants will employ good workers. In R, by contrast, there is no turnover
at all. Notice that this move towards perfect assortative matching in the city (for given pools
of workers and plants) raises the average wage in city C to (11 × 110 + 9 × 90)/4 = 505e , and
thus leads to an increase in the level of between-city and within-city wage inequality.27



7        Effects of Assortative Matching on Regional Divergence and
         Aggregate Earnings
Assortative matching matters for at least two reasons. First, it can potentially magnify wage
differences across communities. Indeed, in Section 3 we showed some preliminary evidence
on the importance of assortative matching based on the variance decomposition of between
city wage differentials. Second, assortative matching can also affect aggregate earnings at the
national level. If worker and plant quality are imperfect substitutes, then tighter matching will
result in higher productivity, aggregate output, and aggregate earnings.
    In this section, we quantify the importance of assortative matching for geographical wage
differences and aggregate earnings in Germany. Based on Equation (1), the mean log wage in
city c can be written as

                                Ec [ln wageit ] = Ec [µi + ΨJ(i,t) + Xit0 γ].

If wages at the city level are log-normally distributed so that µi , ΨJ(i,t) , Xit0 are jointly normally
    27
     See Chade, Eeckhout, and Smith (2016) for a recent overview of static and dynamic search models and a
precise characterization of the conditions for assortative matching between heterogeneous workers and firms.


                                                     24
distributed in each city, we can write the mean wage in city c as

                               
Ec [w] = exp µ̄c + Ψ̄c + X̄c γ
                                                                                                            
                                     
        1 2           2         2
                                        +  covc (µi , ΨJ(i,t) ) +covc (µi , Xit0 γ) + covc (ΨJ(i,t) , Xit0 γ)
                                    
× exp       σµ(c) + σΨ(c) + σXγ(c)
                                                                                                             
           2                                |      {z         }
                                                      AssortativeM atching

                                                                                                                       (4)

                                    2       2       2
where µ̄c , Ψc , X̄c are means and σµ(c) , σΨ(c) , σXγ(c) are the corresponding variances at the city
level c.
   Equation (4) shows that average wages are higher in cities with larger average plant and
worker effects. The average wage is also higher in cities with a higher variance of the fixed
effects and worker observables due to the skewness of the log-normal distribution. More im-
portantly for us, the expression indicates that stronger assortative matching—namely a higher
covariance term covc (µi , ΨJ(i,t) )—increases the mean wage level in a city. Given the assump-
tions of the AKM model, this makes intuitive sense. If worker and plant quality are gross
complements, cities where workers are more likely to be matched to plants of higher quality
enjoy higher average wages.
   We use equation (4) to create counterfactuals: what would happen to wage differences
across cities if the distribution of assortative matching—measured by covc (µi , ΨJ(i,t) )—differed
from the observed amount. In particular, we will homogenize covc (µi , ΨJ(i,t) ) across local labor
markets in two of our experiments. In expectation, this reduces inequality as larger local labor
markets will lose their matching advantage as we have uncovered in the previous section. The
quantitative question is how much. In addition, aggregate wages will decline when larger
local labor markets lose more than small markets gain.
   Before showing the results, we note that our counterfactuals depend on the log-normality
assumption. This assumption creates a simple and transparent covariance structure given by
the sum of the three respective covariances. To probe the robustness of our findings to this
assumption, we also conducted a set of alternative counterfactuals without the log-normality
assumption but instead imposing no correlation of the X’s and the worker/plant effects. For
simplicity of exposition, assume that X̄c0 γ = 0. We can then write average wages at the city
level as (using ∗ to denote exponentiated variables):

           Ec [w] = Ec [exp(µi + ΨJ(i,t) )] = Ec [µ∗i Ψ∗J(i,t) ] = Covc [µ∗i , Ψ∗J(i,t) ] + Ec [µ∗i ]Ec [Ψ∗J(i,t) ].

Covc [µ∗i , Ψ∗J(i,t) ] captures within-city matching and Ec [µ∗i ]Ec [Ψ∗J(i,t) ] the cross-city component.
We expect this approximation to yield counterfactuals similar to the ones that we obtain under
log normality since the estimated fixed effects show a near zero correlation with the Xc γ parts
(see also Table 2). Indeed, we find very similar results using this assumption. The results are


                                                             25
available on request.


7.1    Geographical Differences in Wages
Our counterfactuals are summarized in Table 8. For reference, the first row shows three mea-
sures of spatial wage variation observed in the data in our most recent period: The 90-10
percentile difference, the 75-25 percentile difference, and the standard deviation. We obtain
the observed city-level wages by inserting the respective moments of the within-city distribu-
tions of µi , ΨJ(i,t) , and Xi into Equation (4). To construct the counterfactuals, we then replace
either the observed values of covc (µi , ΨJ(i,t) ) with counterfactual values to examine the effect of
assortative matching within cities (rows 1-4). Alternatively, we replace the observed values of
         2
µ̄c and σµ(c) to examine the effect of spatial sorting across cities (rows 5-6).


Homogenizing Within-City Matching.              We start with a set of counterfactuals that equalize
the degree of within-city matching. This describes how much of regional inequalities are
driven by the advantage of some labor markets in generating positive assortative matching
conditional on the spatial distribution of workers and plants. In row 2, we begin by consid-
ering a counterfactual where we turn off assortative matching within each city all together.
Specifically, we consider a scenario where we keep the location of workers and plants equal to
that observed in the data, but we randomly assign workers to plants within each city. In prac-
tice, all items in Equation (4) are as observed in the data, with the exception of covc (µi , ΨJ(i,t) ),
which is set equal to = 0. Entries show that the 90-10 difference, the 75-25 difference, and
the standard deviation declines by 5.2%, 5.6% and 4.8%, respectively. In row 3 we equate
covc (µi , ΨJ(i,t) ) across cities by setting it to the median value (0.152, found in the city of Stein-
furt). The results show that the 90-10 difference, the 75-25 difference, and the standard devi-
ation decline by 4.6%, 3.8% and 4.0%, respectively. This shows that homogenizing matching
across cities has similar effects regardless of the precise value covc (µi , ΨJ(i,t) ) is set to.
   We found that the correlation between assortative matching and city population has in-
creased by 75% between 1985-91 and 2008-14. This increase has contributed to the observed
increase in spatial wage inequality. In row 4, we use the geographical distribution of workers
and plants observed in 2008-2014, but assign to each labor market the degree of assortative
matching it had in 1985-1991. This experiment should be interpreted as a lower bound, since
geographical sorting might have increased because of these trends in matching. Results show
that the 90-10 difference, the 75-25 difference, and the standard deviation declines by 5.3%,
4.7% and 2.4%, respectively. This experiment illustrates the importance of the divergence
in matching, since it has similar effects on inequality as making covc (µi , ΨJ(i,t) ) homogenous
across cities.




                                                    26
Geographical Worker Sorting.           Next, we consider a scenario where we keep the location of
plants and city population equal to that observed in the data. We also keep the overall distri-
bution of worker fixed effects in the country as observed in the data, but we randomly allocate
workers of different quality to cities. Within each city, we keep the degree of assortative match-
                                                                2
ing observed in the data. For this analysis, we equate µ̄c and σµ(c) across cities in Equation (4),
setting it to the moments of the national distribution of worker effects. This mimics the sce-
nario of workers randomly sorting themselves into places.
   Row 5 shows that in this counterfactual, the 90-10 difference, the 75-25 difference and the
standard deviation declines by 55.3%, 54.7% and 54.6%, respectively. This is a remarkably
large effect on spatial differences, indicating that co-location plays a major role in explaining
geographical differences in wages: Geographical sorting of workers to labor markets accounts
for more than half of observed spatial inequalities.28


Worker Mobility. In row 6 of Table 8, we consider a different counterfactual that pertains to
the mobility of workers over their work life-cycle across labor markets. We keep the overall
distribution of worker and plant fixed effects in the country as observed in the data, as well as
the locations of plants, and allocate workers to cities based on their origin labor market. Within
each city, we keep the degree of assortative matching as observed in the data. This allows
us to quantify how much spatial inequality is driven by geographical worker mobility after
entering the labor market. The origin labor market each worker is assigned to is the worker’s
location when he first appears in the social security data. Since for basically all workers we
observe their complete labor market history, this corresponds to the location of his first job.
For the majority of individuals, the origin will be the place where he/she undertook his/her
apprenticeship. This case therefore answers the question how much of the total geographical
worker sorting effect is due to labor market mobility over the career versus at labor market
entry. That is, we observe that Munich hosts many high fixed-effect workers. How much
would spatial inequality be reduced if we shut down migration to Munich after a worker’s
first job? The answer is not by much, as row 6 shows, at least as benchmarked against the
sorting estimate from row 5. Surprisingly, sorting into cities after labor market entry therefore
only seems to play a relatively small role in local labor market variation in wages. The standard
deviation of log wages and the 90-10 spread move by about 4% and 7%, respectively.29


7.2     Aggregate Earnings
In Table 9 we turn to aggregate earnings and quantify how much differential assortative
matching across cities contributes to aggregate wages at the national level. The aggregate
   28
     This finding is related to our earlier finding of a large contribution of the covariance term in Table 2.
   29
     The 75-25 spread is almost unchanged and implies slightly lower inequality. This is because we observe
moves mostly from very low ranked labor markets to very high ranked ones, which drive the larger effect on the
90-10 spread.

                                                     27
wage at the national level is the weighted average of city-level wages according to Equation (4)
                                                                                      P
across all cities, with the weights reflecting the number of workers in each city Nc : c Nc Ec [w].
The first row reports the observed average wage in West Germany in 2014. In column 3, we
report the implied absolute change in the total compensation of employees according to the
national accounts in 2014 in billion Euros.


Homogenizing Within-City Matching.           Row 3 shows the consequences of perfect assortative
matching, which would increase aggregate earnings by 5.7%. Conversely, a perfect negative
correlation would reduce aggregate earnings by 8.7% (row 4). While these numbers should
not be taken literally, they can be seen as an upper and lower bound of the effect of assortative
matching. In the next two counterfactuals we assume more realistic matching levels that, in
the light of the previous result, yield quite significant effects.
  In row 5, we see that if the level of matching was homogenous across cities and equal to the
observed median value, aggregate earnings would decrease by -0.7%. Cities with a large posi-
tive assortative matching level lose more than the cities with a small level gain. This is because
the cities with a high level of assortative matching also attract better workers and plants and
the gains from assortative matching are increasing in the means of the local worker and firm
distributions. This result directly stems from the supermodularity in the model. Overall, this
implies a loss of 9.7 billion euros in aggregate earnings. Enforcing random matching within
labor markets in row 2 leads to losses around 2.7 times as large. Assigning each labor markets
its 1985-1991 matching level in row 6 would reduce aggregate labor earnings by 2.1%, a loss
of 31.32 billion euros. The rise in assortative matching in West Germany has thus contributed
significantly to the rise of average labor earnings.


Geographical Worker Sorting. In contrast, the counterfactual scenario changing the alloca-
tion of workers across space in row 7 shows only very small effects on aggregate earnings.
Hence, while the geographical sorting of workers of different ability is very important to ex-
plain spatial inequalities, it matters much less for aggregates. This may seem like a surprising
result at first. It follows from the fact that the distribution of plant effects is relatively homoge-
nous across labor markets. We have seen this already in our findings from Section 4 where we
found the elasticity of plant effects with respect to population was comparably small and from
our decomposition in Table 2, where the variance of plant effects explained much less than
worker and match effects. Put differently, in the simple counterfactuals, high-quality workers
are able to find high-quality firms in all locations. Consequently, geographical worker sort-
ing has a first order effect on regional inequality but only a second order effect on aggregate
wages.




                                                 28
8     Conclusion
We study the role played by assortative matching in explaining differences in labor market
outcomes across cities. Improved matching of workers and plants has long been hypothesized
to be an important productivity advantage of denser or larger labor markets, but the empirical
evidence was so far limited.
    We find that assortative matching appears to be important for explaining mean wage dif-
ferences across German cities. Wages in large cities are higher not only because of the higher
quality of their labor force, but also because of assortative matching. A key reason is that
larger and denser cities display significantly more within-city assortative matching and this
relationship has been growing over time. Doubling city population is associated with 6.1 per-
centage points more assortative matching. The elasticity of assortative matching with respect
to population has increased by around 75% in the last 30 years. We estimate that in an a hy-
pothetical scenario in which we keep the quality and location of German workers and plants
unchanged, and equalize within-city assortative matching, geographical wage inequality in
Germany would decrease significantly. We find an even stronger association between assor-
tative matching and market size when we define a local labor market not as a city, but as an
city-occupation pair.
    Overall, we conclude that assortative matching magnifies wage differences caused by worker
sorting and is a key factor in explaining the growth of wage disparities between communities
over the last three decades.
    In addition, if high-quality workers and firms are complements in production, increased
assortative matching will increase aggregate earnings. We estimate that the increase in within-
city assortative matching observed between 1985 and 2014 increased aggregate labor earnings
in Germany by 2.1%, or 31.32 billion euros. We also estimate that in an a hypothetical scenario
in which we keep the quality and the location of German workers and plants unchanged,
but we pair workers to firms within each city to maximize assortative matching, aggregate
earnings in Germany would increase by 5.7%, or 84.37 billion.
    We conclude that assortative matching increases earnings inequality across communities,
but it also generates important efficiency gains for the German economy as a whole.




                                              29
References
Abowd, John M, Francis Kramarz, Paul Lengermann, and Sébastien Pérez-Duarte (2004). Are
   good workers employed by good firms? A test of a simple assortative matching model for France and
   the United States. Unpublished Manuscript.

Abowd, John M, Francis Kramarz, and David N Margolis (1999). “High wage workers and
   high wage firms”. In: Econometrica 67(2), pp. 251–333.

Abowd, John M, Francis Kramarz, Sébastien Pérez-Duarte, and Ian M Schmutte (2014). Sorting
   between and within industries: A testable model of assortative matching. NBER Working Paper
   20472.

Acemoglu, Daron (1997). “Training and innovation in an imperfect labour market”. In: The
   Review of Economic Studies 64(3), pp. 445–464.

Andersson, Fredrik, Simon Burgess, and Julia I Lane (2007). “Cities, matching and the produc-
   tivity gains of agglomeration”. In: Journal of Urban Economics 61(1), pp. 112–128.

Andini, Monica, Guido De Blasio, Gilles Duranton, and William C Strange (2013). “Marshal-
   lian labour market pooling: Evidence from Italy”. In: Regional Science and Urban Economics
   43(6), pp. 1008–1022.

Andrews, Martyn J, Len Gill, Thorsten Schank, and Richard Upward (2008). “High wage work-
   ers and low wage firms: Negative assortative matching or limited mobility bias?” In: Journal
   of the Royal Statistical Society: Series A (Statistics in Society) 171(3), pp. 673–697.

Austin, Benjamin A, Edward L Glaeser, and Lawrence H Summers (2018). Jobs for the Heartland:
   Place-Based Policies in 21st Century America. NBER Working Paper No. 24548.

Autor, David, David Dorn, Gordon Hanson, and Kaveh Majlesi (2017). Importing Political Po-
   larization? The Electoral Consequences of Rising Trade Exposure. Working Paper.

BBSR, ed. (2009). Regionaler Preisindex. Berichte Band 30. Bonn.

Baum-Snow, Nathaniel and Ronni Pavan (2012). “Understanding the city size wage gap”. In:
   The Review of Economic Studies 79(1), pp. 88–127.

Becker, Gary S (1973). “A theory of marriage: Part I”. In: Journal of Political Economy 81(4),
   pp. 813–846.

Behrens, Kristian, Gilles Duranton, and Frédéric Robert-Nicoud (2014). “Productive cities:
   Sorting, selection, and agglomeration”. In: Journal of Political Economy 122(3), pp. 507–553.

Bleakley, Hoyt and Jeffrey Lin (2012). “Thick-market effects and churning in the labor market:
   Evidence from US cities”. In: Journal of Urban Economics 72(2), pp. 87–103.




                                                  30
Bonhomme, Stéphane, Thibaut Lamadon, and Elena Manresa (2017a). A distributional frame-
   work for matched employer employee data. Working Paper.

Bonhomme, Stéphane, Thibaut Lamadon, and Elena Manresa (2017b). Discretizing unobserved
   heterogeneity. Working Paper.

Card, David, Ana Rute Cardoso, Jörg Heining, and Patrick Kline (2018). “Firms and labor
   market inequality: Evidence and some theory”. In: Journal of Labor Economics 36(S1), S13–
   S70.

Card, David, Jörg Heining, and Patrick Kline (2013). “Workplace heterogeneity and the rise of
   West German wage inequality”. In: The Quarterly Journal of Economics 128(3), pp. 967–1015.

Chade, Hector, Jan Eeckhout, and Lones Smith (2016). “Sorting through search and matching
   models in economics”. In: Journal of Economic Literature 55(2), pp. 493–544.

Combes, Pierre-Philippe, Gilles Duranton, and Laurent Gobillon (2008). “Spatial wage dispar-
   ities: Sorting matters!” In: Journal of Urban Economics 63(2), pp. 723–742.

Combes, Pierre-Philippe, Gilles Duranton, Laurent Gobillon, Diego Puga, and Sébastien Roux
   (2012). “The productivity advantages of large cities: Distinguishing agglomeration from
   firm selection”. In: Econometrica 80(6), pp. 2543–2594.

D’Costa, Sabine and Henry G. Overman (2014). “The urban wage growth premium: Sorting or
   learning?” In: Regional Science and Urban Economics 48, pp. 168–179.

De La Roca, Jorge and Diego Puga (2017). “Learning by working in big cities”. In: The Review
   of Economic Studies 84(1), pp. 106–142.

Diamond, Peter A. (1982). “Aggregate Demand Management in Search Equilibrium”. In: Jour-
   nal of Political Economy 90(5), pp. 881–894.

Duranton, Gilles and Diego Puga (2014). “Chapter 5 - The Growth of Cities”. In: Handbook
   of Economic Growth. Ed. by Philippe Aghion and Steven N. Durlauf. Vol. 2. Handbook of
   Economic Growth. Elsevier, pp. 781 –853.

Eeckhout, Jan and Philipp Kircher (2011). “Identifying sorting—in theory”. In: The Review of
   Economic Studies 78(3), pp. 872–906.

Eeckhout, Jan, Roberto Pinheiro, and Kurt Schmidheiny (2014). “Spatial sorting”. In: Journal of
   Political Economy 122(3), pp. 554–620.

Figueiredo, Octávio, Paulo Guimaraes, and Douglas Woodward (2014). “Firm–worker match-
   ing in industrial clusters”. In: Journal of Economic Geography 14(1), pp. 1–19.

Gaubert, Cecile (2017). Firm sorting and agglomeration. Working Paper.




                                                  31
Glaeser, Edward L. and Janet E. Kohlhase (2004). “Cities, regions and the decline of transport
   costs”. In: Fifty Years of Regional Science. Advances in Spatial Science. Ed. by Raymond J.G.M.
   Florax and David A. Plane. Springer: Berlin, Heidelberg, pp. 197–228.

Glaeser, Edward L., Jed Kolko, and Albert Saiz (2001). “Consumer city”. In: Journal of Economic
   Geography 1(1), pp. 27–50.

Glaeser, Edward L and David C Mare (2001). “Cities and skills”. In: Journal of Labor Economics
   19(2), pp. 316–342.

Glaeser, Edward (2011). Triumph of the City. Pan.

Gould, Eric D (2007). “Cities, workers, and wages: A structural analysis of the urban wage
   premium”. In: The Review of Economic Studies 74(2), pp. 477–506.

Helsley, Robert W and William C Strange (1990). “Matching and agglomeration economies in
   a system of cities”. In: Regional Science and Urban Economics 20(2), pp. 189–212.

Henderson, Vernon J (2003). “Marshall’s scale economies”. In: Journal of Urban Economics 53(1),
   pp. 1–28.

Hsieh, Chang-Tai and Enrico Moretti (2017). Housing constraints and spatial misallocation. Work-
   ing Paper.

Huettner, Frank and Marco Sunder (2012). “Axiomatic arguments for decomposing goodness
   of fit according to Shapley and Owen valueshapley and Owen values”. In: Electronic Journal
   of Statistics 6, pp. 1239–1250.

Keisuke, Kondo (2017). Urban Wage Premium Revisited: Evidence from Japanese matched employer-
   employee data. RIETI Discussion Paper Series 17-E-047.

Kline, Patrick and Enrico Moretti (2014). “People, places, and public policy: Some simple wel-
   fare economics of local economic development programs”. In: Annual Review of Economics
   6, pp. 629–662.

Krugman, Paul R (1991). Geography and trade. MIT press.

Kubis, Alexander and Andreas Moczall Martina Rebien (2017). The IAB Job Vacancy Survey -
   Establishment survey on labour demand and recruitment processes. FDZ-Datenreport 04/2017.

Macis, Mario and Fabiano Schivardi (2016). “Exports and Wages: Rent Sharing, Workforce
   Composition, or Returns to skills?” In: Journal of Labor Economics 34(4), pp. 945–978.

Mion, Giordano and Paolo Naticchioni (2009). “The spatial sorting and matching of skills and
   firms”. In: Canadian Journal of Economics/Revue canadienne d’économique 42(1), pp. 28–55.

Moretti, Enrico (2004). “Workers’ education, spillovers, and productivity: Evidence from plant-
   level production functions”. In: The American Economic Review 94(3), pp. 656–690.


                                               32
Moretti, Enrico (2011). “Local labor markets”. In: Handbook of Labor Economics 4, pp. 1237–1313.

Oberschachtsiek, Dirk, Patrycja Scioch, Seysen Christian, and Joerg Heining (2009). Integrated
   Employment Biographies Sample IEBS - Handbook For the IEBS in the 2008 Version. FDZ-Datenreport
   No. 03/2009.

Petrongolo, Barbara and Christopher Pissarides (2006). “Scale effects in markets with search”.
   In: The Economic Journal 116(508), pp. 21–44.

Rice, Patricia, Anthony J Venables, and Eleonora Patacchini (2006). “Spatial determinants of
   productivity: analysis for the regions of Great Britain”. In: Regional science and urban eco-
   nomics 36(6), pp. 727–752.

Rosenthal, Stuart S and William C Strange (2004). “Evidence on the nature and sources of
   agglomeration economies”. In: Handbook of Regional and Urban Economics 4, pp. 2119–2171.

Rotemberg, Julio J and Garth Saloner (2000). “Competition and human capital accumulation:
   A theory of interregional specialization and trade”. In: Regional Science and Urban Economics
   30(4), pp. 373–404.

Shimer, Robert (2005). “The assignment of workers to jobs in an economy with coordination
   frictions”. In: Journal of Political Economy 113(5), pp. 996–1025.

Shimer, Robert and Lones Smith (2000). “Assortative matching and search”. In: Econometrica
   68(2), pp. 343–369.

Torres, Sonia, Pedro Portugal, John T. Addison, and Paulo Guimarães (2018). “The sources
   of wage variation and the direction of assortative matching: Evidence from a three-way
   high-dimensional fixed effects regression model”. In: Labour Economics 54, pp. 47–60.

Wheeler, Christopher H. (2008). “Local market scale and the pattern of job changes among
   young men”. In: Regional Science and Urban Economics 38(2), pp. 101–118.

Yankow, Jeffrey J (2006). “Why do cities pay more? An empirical examination of some com-
   peting theories of the urban wage premium”. In: Journal of Urban Economics 60(2), pp. 139–
   161.




                                                33
                        Table 1: Average Wage in Largest and Smallest Cities


                                      (1)            (2)             (3)                     (4)
   Rank             City           Population    Daily Wage     Log Daily Wage      Res. Log Daily Wage
   1            Hamburg             2,803,463       123.49            4.676                 4.608
   2            München             2,531,068       147.38            4.845                 4.732
   3            Stuttgart           2,419,694       142.50            4.834                 4.758
   4         Frankfurt/Main         2,124,514       143.12            4.815                 4.712
   5              Köln              1,737,116       127.03            4.710                 4.639
   102           Balingen            190,294        112.06            4.632                 4.648
   200         Holzminden            75,092         100.94            4.530                 4.532
   201          Kronach              71,609         91.84             4.440                 4.464
   202         Lichtenfels           68,617          88.66            4.409                 4.438
   203          Cochem               64,489          94.83            4.480                 4.502
   204            Daun               62,201          96.46            4.500                 4.527
           Standard Deviation        397,441         12.30            0.098                 0.080
                 75-25               186,275         15.36            0.132                 0.110
                 90-10               532,636         30.46            0.250                 0.204
                 99-01              2,351,077        55.96            0.430                 0.334

Notes: Columns 2 and 3 report (log) wage levels by city for all West German cities in the period 2008-2014.
Column 4 reports residualized log wages. Controls for the residual wages: Educational attainment, nationality,
gender, cubic terms in age.




                                                     34
                Table 2: Decomposition of Across-City Variation in Average Wages


                                               (1)        (2)       (3)        (4)           (5)
                                             1985-91    2008-14     %      ∆ 2014-1985       %
               Var Mean Log Wages              61.7         94.6   100.0        32.9        100.0
               Var Mean Worker Effects         15.2         37.7    39.8        22.5         68.4
               Var Mean Plant Effects          21.1         22.3    23.6         1.2          3.6
               Var Mean Xb                      0.8          0.6     0.6        -0.2         -0.7
               2 Cov(Worker, Plant)            19.3         39.4    41.7        20.1         61.0
               2 Cov(Worker, Xb)                2.8         -3.5    -3.7        -6.3        -19.1
               2 Cov(Plant, Xb)                 2.4         -1.9    -2.0        -4.3        -13.1

Notes: Variance decomposition of between-city wage inequality across 204 labor markets. The parts of the de-
composition stem from individual level AKM estimations of the log wage on worker effects, plant effects, skill
specific cubic age profiles, and year dummies. The city average log wages are city-level averages of the fitted
values. Column 3 is the percentage contribution of each term in the last cross-section 2008-14. Column 5 is the
percentage contribution of each term to the change in the between-region variance between the first and last time
interval.




                                                       35
 Table 3: Co-Location: Regression of Mean Worker Fixed Effects on Mean Plant Fixed Effects


                                           Unweighted              Weighted by Lagged Pop.
                                       1985-1991 2008-2014         1985-1991    2008-2014
                                          (1)       (2)               (3)          (4)
                 Average plant FE       0.4574***     0.8836***     0.6027***       1.2993***
                                         (0.068)       (0.088)       (0.091)         (0.184)
                 R2                       0.291         0.462         0.364           0.478
                 N                         204           204           200             200


Notes: City level regressions. The dependent variable is the city level average worker effect from individual
level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year
dummies. Robust standard errors in parentheses. Levels of significance: *** 1%, ** 5%, * 10%.




                                                        36
     Table 4: Decomposition of Co-location into Part Explained by City Size and Residual


                                                 (1)         (2)        (3)        (4)            (5)
                                               1985-91     2008-14      %      ∆ 2014-1985        %
                100 x Cov(worker,plant)           9.7          19.7   100.0         10.0        100.0
                 Part explained by size           5.9           4.9   24.7          -1.0        -10.1
                 Residual part                    3.8          14.8   75.3          11.1        110.1

Notes: The table shows the decomposition of the covariance of average worker and plant effects (From in-
dividual level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age pro-
files, and year dummies. The city average log wages are city-level averages of the fitted values.) at the city
level into the part explained by city size and a residual part. The part of the covariance that is explained by
size is calculated in the following way: According to the law of total covariance, the covariance of the av-
erage worker and plant effects can be decomposed into a part that is explained by city size and a residual
                                                                                                         
part: Cov(Ec [µi ], Ec [ΨJ(i,t) ]) = Cov E [Ec [µi ] |pop] , E Ec ΨJ(i,t) |pop + E Cov Ec [µi ] , Ec ΨJ(i,t) |pop .
In practice, this is done by running two bivariate regressions of the respective worker or plant effects on log pop-
ulation. The covariance of the fitted values is the part explained by city size, the covariance of the residuals is the
unexplained covariance.
Column 3 is the percentage contribution of each term in the last cross-section 2008-14. Column 5 is the percentage
contribution of each term to the change in the between-region variance between the first and last time interval.




                                                          37
          Table 5: Correlation Between City Size and Strength of Assortative Matching


                                                (1)                   (2)                      (3)


              Panel A - Dependent Variable: Correlation of Worker and Plant FE
              1985-1991
                                        OLS                 IV                 OLS
              Log population                0.0380***              0.0415***
                                             (0.005)                (0.006)
              Log employment                                                                0.0390***
                                                                                             (0.004)
              R2                              0.188                  0.186                    0.260
              2008-2014
                                               OLS                    IV                      OLS
              Log population                0.0613***              0.0708***
                                             (0.006)                (0.007)
              Log employment                                                                0.0612***
                                                                                             (0.006)
              R2                              0.286                  0.275                    0.350


              Panel B - Dependent Variable: Correlation of Worker and Residual Plant FE
              1985-1991
                                        OLS                 IV                 OLS
              Log population                0.0412***              0.0422***
                                             (0.005)                (0.005)
              Log employment                                                                0.0421***
                                                                                             (0.004)
              R2                              0.248                  0.248                    0.337
              2008-2014
                                               OLS                    IV                      OLS
              Log population                0.0618***              0.0695***
                                             (0.006)                (0.008)
              Log employment                                                                0.0641***
                                                                                             (0.006)
              R2                              0.280                  0.271                    0.371

              N                                204                    200                      204

Notes: City level regressions. The dependent variables stem from individual level AKM estimations of the log
wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies. The residual plant
effects in Panel B are the residuals from a regression of the plant effects on 2-digit industry effects. Instrument
variable for log population is log population in 1952. (Since Saarland has not been part of Germany in 1952, the
respective regions are omitted in column 2.) The first-state coefficient is 0.7726 (s.e.=0.045) in the first and 0.7574
(s.e.=0.046) in the last period. Robust standard errors in parentheses. Levels of significance: *** 1%, ** 5%, * 10%.




                                                          38
Table 6: Correlation Between City-Occupation Cell Size and Strength of Assortative Matching


                                    (1)       (2)                  (3)          (4)         (5)         (6)         (7)
 Dependent Variable: Correlation of Worker and Plant FE


 1985-1991
 Employment in city                  0.0229***                   -0.0000
                                      (0.002)                    (0.002)
 Employment in city-occupation                   0.0359***      0.0359***    0.0356***   0.0264***   0.0277***   0.0381***
                                                  (0.002)        (0.002)      (0.002)     (0.002)     (0.003)     (0.002)
      × % college degree                                                                                          -0.0001
                                                                                                                  (0.000)
 % college degree                                                                                                0.0010**
                                                                                                                  (0.000)
 City FE                                 –           –              –          yes          –          yes          yes
 Occupation FE                           –           –              –           –          yes         yes           –
 N                                    10321        10321          10321       10321       10321       10320        10321
 R2                                   0.011        0.044          0.044       0.076       0.395       0.427        0.077


 2008-2014
 Employment in city                  0.0313***                  -0.0102***
                                      (0.002)                     (0.003)
 Employment in city-occupation                   0.0645***      0.0681***    0.0682***   0.0388***   0.0305***    0.0794***
                                                  (0.002)         (0.002)     (0.002)     (0.002)     (0.003)      (0.002)
      × % college degree                                                                                         -0.0006***
                                                                                                                   (0.000)
 % college degree                                                                                                 0.0041***
                                                                                                                   (0.000)
 City FE                                 –           –              –          yes          –          yes           yes
 Occupation FE                           –           –              –           –          yes         yes            –
 N                                    10293        10293          10293       10293       10293       10293        10293
 R2                                   0.016        0.116          0.117       0.160       0.410       0.452        0.173

Notes: Regressions at the level of occupation specific local labor markets, defined as all combinations of 204 cities
and 89 2-digit occupations with at least 5 plants and 50 workers. The dependent variables stem from individual
level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year
dummies.
Employment is measured as log number of employees. Robust standard errors in parentheses. Levels of signifi-
cance: *** 1%, ** 5%, * 10%.




                                                           39
                          Table 7: City Size and Difficulties Filling Vacancies


 Dependent variable: 1 if plant experienced difficulties in filling vacancies

                                                              Wave 2010                             Wave 2011
                                                   (1)          (2)           (3)          (4)        (5)               (6)
 Log Population                                -0.0181**      -0.0262***   -0.0301***    -0.0061    -0.0206**    -0.0230***
                                                (0.008)         (0.009)      (0.008)     (0.009)     (0.009)       (0.009)
 Log Area                                      0.0369***      0.0429***     0.0403***   0.0305**    0.0404***     0.0383***
                                                (0.014)         (0.014)      (0.013)     (0.015)     (0.015)       (0.014)
 Size 10 - 19 (Dummy)                          0.0602***      0.0621***     0.0425***   0.0660***   0.0710***    0.0533***
                                                (0.015)         (0.015)      (0.015)     (0.018)     (0.017)       (0.016)
 Size 20 - 49                                  0.1255***      0.1305***     0.1015***   0.1132***   0.1158***    0.0938***
                                                (0.018)         (0.018)      (0.017)     (0.019)     (0.018)       (0.017)
 Size 50 - 199                                 0.1782***      0.1768***     0.1377***   0.1802***   0.1844***    0.1528***
                                                (0.019)         (0.019)      (0.018)     (0.019)     (0.018)       (0.017)
 Size 200 - 499                                0.2258***      0.2245***     0.1827***   0.1936***   0.1999***    0.1607***
                                                (0.028)         (0.027)      (0.030)     (0.027)     (0.025)       (0.027)
 dummy, size 500 - 999                         0.2590***      0.2697***     0.2190***   0.2800***   0.2932***    0.2733***
                                                (0.038)         (0.039)      (0.039)     (0.053)     (0.052)       (0.053)
 Size 1000+                                    0.2870***      0.2961***     0.2539***   0.3905***   0.3678***    0.3312***
                                                (0.055)         (0.054)      (0.058)     (0.045)     (0.043)       (0.046)
 Plant has grown in last year (Dummy)                                       0.2093***                            0.1821***
                                                                             (0.015)                               (0.017)
 Plant Has Shrunk                                                            0.0103                                0.0050
                                                                             (0.022)                               (0.022)
 23 Industry Dummies                              No             Yes           Yes         No          Yes           Yes
 N                                               4790           4790         4709         4783        4783             4687
 R2                                              0.037          0.088        0.129        0.040       0.099            0.130

Notes: Plant level linear probability models. The data stems from the 2010 and 2011 waves of the IAB Job Vacancy
Survey. The dependent variable is an indicator variable constructed from the question “Have you experienced
difficulties in filling vacancies in the previous 6 months” and takes the value one if the question was answered
with yes. Standard errors, clustered by local labor market, in parentheses. Levels of significance: *** 1%, ** 5%, *
10%.




                                                         40
                           Table 8: Effects on Geographical Wage Differences


                                                                                  (1)      (2)      (3)

            Spatial differences of log average wage across cities                90-10    75-25     s.d.
            (1) Observed across city dispersion of average wages                 0.28     0.15     0.11

                                                                % Difference to observed dispersion:

            (2) Random sorting of workers within cities (corr=0)                 -5.24    -5.60    -4.75

            (3) Sorting of workers within cities as in median city (Steinfurt)   -4.62    -3.83    -3.98

            (4) 1985 sorting of workers within cities                            -5.26    -4.73    -2.44

            (5) No spatial sorting of workers across cities                      -55.27   -54.68   -54.56

            (6) No mobility of workers across cities                             -6.93    0.55     -3.89



Notes: Counterfactual exercises for inequality of average log wages across cities, measured by the 90-10 quantile
difference (column 1), the 75-25 quartile spread (column 2), and the standard deviation (column 3).
Row 1 reports the inequality measures of city level average log wages, defined as the average fitted values from an
individual level AKM estimation of the log wage on worker effects, plant effects, skill specific cubic age profiles,
and year dummies for the period 2008-14.
Counterfactual exercises: We change the means, variances, and covariances of the estimated worker and plant
effects, as described in the main text. We assume that the distribution of X 0 s remains unaffected. Also changing
the distribution of the X 0 s in accordance with the counterfactuals gives almost identical results.




                                                         41
                                  Table 9: Effects on Aggregate Earnings


                                                                              (1)             (2)        (3)

                                                                       Average daily wage   %-diff.   ∆ Billions
  (1) Observed                                                               117.30

  (2) Random sorting of workers within cities (corr=0)                       115.25          -1.75      -25.97

  (3) Perfect sorting of workers within cities (corr=1)                      123.97          5.68       84.37

  (4) Reverse sorting of workers within cities (corr=-1)                     107.16          -8.65     -128.39

  (5) Sorting of workers within cities as in median city (Steinfurt)         116.54          -0.65      -9.70

  (6) 1985 sorting of workers within cities                                  114.83          -2.11      -31.32

  (7) No spatial sorting of workers across cities                            116.78          -0.44      -6.59




Notes: Counterfactual exercises for national average wage levels. Row 1 reports the national average log wage,
defined as the average fitted value from an individual level AKM estimation of the log wage on worker effects,
plant effects, skill specific cubic age profiles, and year dummies for the period 2008-14.
Counterfactual exercises: We change the means, variances and covariances of the estimated person and plant
fixed-effects, as described in the main text. We assume that the distribution of X 0 s remains unaffected. Also
changing the distribution of the X 0 s in accordance with the counterfactuals gives almost identical results.
The last column reports the implied change of the aggregate wage bill of full-time employed men in West Ger-
many in billions of 2010 Euros.




                                                           42
                     Figure 1: City Size and Assortative Matching — 1985-2014.




                (a) Top Workers and Plants                         (b) Bottom Workers and Plants




                                 (c) Correlation of Worker and Plant Effects

Note: The vertical axes of this figure stem from an individual level AKM estimation of the log wage on worker
effects, plant effects, skill specific cubic age profiles, and year dummies for the period 2008-14. The figures
visualize the correlation between the share of workers in the upper (lower) tercile of the worker fixed effect
distribution employed in the plants in the upper (lower) tercile of the plant fixed effect distribution, relative to
all workers in a city, and the log population. The figures are binned scatter plots: All 204 cities are grouped into
20 percentiles according to their population. The dots represent the average values of the share of top/bottom
tercile workers in top/bottom tercile plants or the correlation of worker and plant fixed effects (y-axis) plotted
against the average log population (x-axis) in each percentile category. The solid line represents the regression
coefficient of a bivariate regression. The numbers in parentheses are robust standard errors.




                                                        43
Figure 2: Occupation-city Size and Strength of Assortative Matching in Individual Occupa-
tions — 1985-2014.




                (a) Chemical Engineers                                       (b) Architects




                  (c) Bank Specialists                                       (d) Economists

Note: This figure visualizes the bivariate correlation of assortative matching and log employment across 204 cities
for four selected occupations. Assortative matching is defined as the occupation-city level correlation coefficient
of worker and plant effects. These effects stem from individual level AKM estimations of the log wage on worker
effects, plant effects, skill specific cubic age profiles, and year dummies. The figure is a binned scatter plot:
For each occupation, all 204 occupation-city pairs are grouped into 10 deciles according to their employment.
The dots represent the average values of the correlation coefficient of worker and plant effects (y-axis) plotted
against the average log employment (x-axis) in each percentile category. The solid line represents the regression
coefficient of a bivariate regression. The numbers in parentheses are robust standard errors.




                                                        44
                          Figure 3: Spatial Wage Dispersion — 1985-2014.




Note: The figure shows the standard deviation of city-level average log daily wages by year. The black line
represents the standard deviation of the observed wages, while the others represent the standard deviations of
residuals from regressions controlling for age, nationality, education, plant size, and 2-digit industry.




                                                     45
                                                   Figure 4: Population and Average Wage by City, 2014




46
                                  (a) Population                                                     (b) Average Wage

     Note: the maps visualize the spatial distribution of the population size (left) and average wage (right).
              Figure 5: City Size and Average Conditional Wages — 2000-2014.




                              (a) Controlling for Worker Observables




                     (b) Controlling for Worker Observables and Fixed Effects

Note: Average wages are conditional on worker characteristics. The upper panel controls for
education, and education specific cubic age profiles, education specific time effects, and 2-
digit industry fixed effects. Slope: 0.037 (s.e. = 0.004). The lower panel controls for the same
variables and also individual fixed effects. Slope 0.017 (s.d. = 0.002).

                                                47
                     Figure 6: Percentages of The National Top Decile Workers and Firms in The Local Labor Market, 2008-2014




48
                                   (a) Population                                                     (b) Average Wage

     Note: The maps visualize the spatial distribution of the share of a city’s workers with a worker effect in the top decile of the national
     distribution (left) and the share of a city’s plants with an plant effect in the top decile of the national distribution (right). The worker and
     plant effects stem from an individual level AKM estimation of the log wage on worker effects, plant effects, skill specific cubic age profiles,
     and year dummies for the period 2008-14.
Figure 7: Correlation of Worker and Plant Fixed Effects and Population Across 204 Labor
Markets




             (a) Worker Effects, 1985-1991                            (b) Worker Effects, 2008-2014




              (c) Plant Effects, 1985-1991                             (d) Plant Effects, 2008-2014

Note: This figure visualizes the bivariate correlation of log population and average worker effects (top) or average
plant effects (bottom) across 204 cities. The worker and plant effects stem from individual level AKM estimations
of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies. The solid line
represents the regression coefficient of a bivariate regression. The numbers in parentheses are robust standard
errors.




                                                         49
                            Figure 8: Correlation of Worker FE and Plant FE




                                                   (a) 1985-1991




                                                  (b) 2008-2014

Note: This figure visualizes the bivariate correlation of average worker effects and average plant effects across
204 cities. These effects stem from individual level AKM estimations of the log wage on worker effects, plant
effects, skill specific cubic age profiles, and year dummies. The solid line represents the regression coefficient of
a bivariate regression. The numbers in parentheses are robust standard errors.


                                                         50
                 Figure 9: Degree of Assortative Matching by City, 2008-2014




Note: The map visualizes the spatial distribution of the city level correlation coefficients of
worker and plant effects. These effects stem from
                                                51 individual level AKM estimations of the log
wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies.
                      Figure 10: City Size and Strength of Assortative Matching




                                                  (a) 1985-1991




                                                  (b) 2008-2014

Note: This figure visualizes the bivariate correlation of assortative matching and log population across 204 cities.
Assortative matching is defined as the city level correlation coefficient of worker and plant effects. These effects
stem from individual level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic
age profiles, and year dummies. The solid line represents the regression coefficient of a bivariate regression. The
numbers in parentheses are robust standard errors.
                                                        52
Figure 11: Joint Density of Plant Effects and Worker Effects in The Biggest and Smallest City,
2008-2014




                                                   (a) Hamburg




                                                     (b) Daun

Note: This figure visualizes the joint distribution of worker and plant effects in West Germany’s largest and
smallest city, respectively. These effects stem from individual level AKM estimations of the log wage on worker
effects, plant effects, skill specific cubic age profiles, and year dummies. Each bar represents the share of workers
with an individual fixed effect at the decile depicted at53    the right axis who are employed at a plant with a plant
effect at the decile depicted at the horizontal axis.
       Figure 12: Occupation-city Size and Strength of Assortative Matching, 1985–2014.




Note: This figure visualizes the bivariate correlation of assortative matching and log employment across 10293
occupation-city pairs. Assortative matching is defined as the occupation-city level correlation coefficient of
worker and plant effects. These effects stem from individual level AKM estimations of the log wage on worker
effects, plant effects, skill specific cubic age profiles, and year dummies. The figure is a binned scatter plot: All
10293 occupation-city pairs are grouped into 20 percentiles (the ventiles) according to their employment. The dots
represent the average values of the correlation coefficient of worker and plant effects (y-axis) plotted against the
average log employment (x-axis) in each percentile category. The solid line represents the regression coefficient
of a bivariate regression. The numbers in parentheses are robust standard errors.




                                                         54
Appendix

                  Appendix Table A.1: Decomposition of the AKM Plant Effects


                            Period                1985-1991        2008-2014
                            Number of plants        648695          698979
                            R-squared               0.1456          0.1405
                            % Contribution of variable groups to R-squared
                            Plant size             2.37           5.28
                            Local labor market    10.83           6.56
                            Industry              86.79          88.16

Notes: Decomposition of the R-squared of a regression of pre-estimated plant effects on plant size, 204 local
labor market and 60 2-digit industry dummies. The plant effects stem from AKM estimations of the log wage on
worker effects, plant effects, skill specific cubic age profiles, and year dummies.




                                                     55
                           Appendix Table A.2: Worker and City Level Descriptives


                                     (1)         (2)      (3)          (4)    (5)       (6)       (7)       (8)        (9)
                                    mean         sd       min          p10    p25       p50       p75       p90        max
     Panel A: Worker Level
     Period 1985-1991
     Log wage                        4.532     0.349      2.346     4.167     4.326     4.495     4.718     5.004     6.312
     Wage                           98.921     37.569    10.440    64.515    75.646    89.579    111.968   148.952   551.174
     Age                            39.072     10.999       20       24        30         39       48         54        60
     Missing educ                    0.008     0.088         0        0         0         0         0         0          1
     No degree                       0.107     0.309        0         0         0         0         0         1         1
     Vocc                            0.737     0.440         0        0         0         1         1         1         1
     College                         0.048     0.214        0         0         0         0         0         0         1
     University                      0.100     0.300         0        0         0         0         0         0          1
     Worker FE                       0.000      0.295    -5.244    -0.317    -0.197    -0.048     0.160     0.432     2.899
     Plant FE                        0.000      0.153    -3.130    -0.164    -0.079     0.015     0.093     0.161     4.945
     Corr(worker, plant)            -0.037
     Workers                      10,405,925
     Plants                        673,359

     Period 2008-2014
     Log wage                        4.586     0.507      2.588     3.960     4.274     4.570     4.896     5.252     6.728
     Wage                          111.746     61.435    13.306    52.475    71.815    96.582    133.773   190.877   835.531
     Age                            40.945     10.155       20       26        33         42       49         55        60
     Missing educ                    0.006     0.079         0        0         0         0         0         0          1
     No degree                      0.044      0.204        0         0         0         0         0         0         1
     Vocc                            0.658     0.474         0        0         0         1         1         1         1
     College                        0.104      0.305        0         0         0         0         0         1         1
     University                      0.188     0.391         0        0         0         0         0         1          1
     Worker FE                       0.000      0.381    -5.087    -0.416    -0.265    -0.068     0.226     0.574     6.415
     Plant FE                        0.000      0.218    -5.499    -0.288    -0.110     0.025     0.159     0.240     5.900
     Corr(worker, plant)             0.293
     Workers                      12,105,712
     Plants                        880,656

     Panel B: City Level
     Period 1985-1991
     Log wage                        4.465      0.076     4.293     4.367      4.417     4.458     4.515     4.561     4.731
     Wage                           91.833      7.676    76.132    82.497    86.779     90.702   96.535    101.498    119.819
     Worker FE                       0.000      0.039    -0.084    -0.049     -0.024    -0.003     0.021     0.046     0.138
     Plant FE                        0.000      0.046    -0.094    -0.058     -0.032    -0.003     0.031     0.058     0.203
     Corr(worker FE , plant FE)     -0.111      0.066    -0.236    -0.180     -0.155    -0.123    -0.083    -0.023     0.187
     Population                    290,033     357,809   56,092    86,745    115,037   168,943   283,096   535,544   2,447,241
     Area (km)                       1,218       670       75        627        794      1,129     1,442     1,998     4,735
     Density (1000 / km)             0.292      0.394     0.054     0.083      0.111     0.167     0.260     0.618     2.627
     Obs                              204

     Period 2008-2014
     Log wage                       4.575       0.098     4.394     4.462      4.501     4.562    4.633     4.712      4.847
     Wage                          107.534      12.300   87.639    94.056     98.490   105.298   113.847   124.516    147.379
     Worker FE                      0.000        0.061   -0.105    -0.065     -0.044    -0.010    0.030     0.081      0.229
     Plant FE                       0.000        0.047   -0.096    -0.057     -0.035    -0.005    0.030     0.064      0.167
     Corr(worker FE , plant FE)     0.164        0.087   -0.133     0.064      0.108     0.152    0.228     0.289      0.444
     Population                    321281      397,449   62,201    94,828    130,873   189,795   317,148   627,464   2,803,463
     Area (km)                      1,218         670      75        627        794      1,129    1,442     1,998      4,735
     Density (1000 / km)            0.314        0.392    0.054     0.094      0.120     0.184    0.294     0.665      2.603
     Obs                             204


Notes: Panel A: Descriptive statistics at the level of individual workers. This data is used to carry out the AKM
estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies.
Worker and plant effects are re-centered around zero. Panel B: City level descriptive statistics for 204 local labor
markets. The worker and plant fixed effects stem from AKM estimations of the log wage on worker effects, plant
effects, skill specific cubic age profiles, and year dummies. Worker and plant effects are re-centered around zero.




                                                                  56
          Appendix Table A.3: Match Level Covariance: Between Versus Within Cities


                                                (1)        (2)        (3)        (4)           (5)
                                              1985-91    2008-14      %      ∆ 2014-1985       %
               100 x Cov(Worker, Plant)        -13.1      190.8     100.0        203.9       100.0
                Between city                   11.9       23.3      12.2          11.4        5.6
                Within city                    -25.0      167.5     87.8         192.5       94.4

Notes: The table shows the decomposition of the covariance of worker and plant effects (From individual level
AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year dum-
mies. The city average log wages are city-level averages of the fitted values.) at the individual level into the
between- and within-city covariance. According to the law of total covariance, the covariance of the worker
and plant effects can be decomposed into the between-city and with-city covariance, where r indicates the city
                                                                                                              
where worker i and plant J are currently located: Cov(µi,r , ΨJ(i,t),r ) = Cov E µi,r |cityr , E ΨJ(i,t),r |cityr +
                            
E Cov µi,r , ΨJ(i,t),r |cityr . In practice, this decomposition is done by running two bivariate regressions of the
respective worker and plant effects on city fixed effects. The covariance of the fitted values is the between-city
covariance, the covariance of the residuals is the within-city covariance.
Column 3 is the percentage contribution of each term in the last cross-section 2008-14. Column 5 is the percentage
contribution of each term to the change in the between-region variance between the firs and last time interval.




                                                        57
                 Appendix Table A.4: Differentials in Assortative Matching by City


                                                              (1)                  (2)
                        rank           City          assortative matching       population
                        1           Erlangen                  0.444               349,366
                        2           Munich                    0.356              2,531,068
                        3       Frankfurt/Main                0.347              2,124,514
                        4          Ingolstadt                 0.344               456,651
                        5         Mannheim                    0.332               574,807
                        102         Steinfurt                 0.152               444,399
                        200      Bad Kissingen                -0.018              105,770
                        201          Daun                     -0.030              62,201
                        202        Ahrweiler                  -0.040              128,509
                        203         Cochem                    -0.062              64,489
                        204         Freyung                   -0.133              80,044
                                       s.d.                   0.087               397,441
                                      75-25                   0.120               186,275
                                      90-10                   0.225               532,636
                                      99-01                   0.387              2,351,077

Notes: The table reports differentials of assortative matching across 204 cities in the period 2008-2014. Assortative
matching is defined as the city level correlation coefficient of worker and plant effects. These effects stem from
individual level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles,
and year dummies.




                                                         58
                                 Appendix Table A.5: Grouping plants


                                          1985-1991                                2008-2014
                                (1)          (2)           (3)            (4)         (5)           (6)
                                                       assortative                              assortative
   Dependent variable:      worker FE      plant FE     matching     worker FE      plant FE     matching
   Panel A: Benchmark
   Log population            0.0365***    0.0279***     0.0380***     0.0523***     0.0161***    0.0613***
                              (0.002)      (0.003)       (0.005)       (0.005)       (0.003)      (0.006)
   N                            204          204           204           204           204          204
   R2                          0.505        0.213         0.188         0.419         0.067        0.286

   Panel B: 10 groups defined by 20 wage quantiles         [1985-1991: 94.48%; 2008-2014: 95.28%]
   Log population         0.0428*** 0.0219***    0.0485***     0.0500*** 0.0184***     0.0515***
                           (0.003)    (0.002)     (0.004)       (0.005)     (0.002)     (0.004)
   N                         204        204         204           204         204          204
   R2                       0.430      0.379       0.424         0.302       0.183        0.382
   Panel C: 15 groups defined by 20 wage quantiles        [1985-1991: 97.06%; 2008-2014: 96.88%]
   Log population         0.0401*** 0.0247***   0.0456***     0.0488*** 0.0194***     0.0476***
                           (0.003)    (0.002)    (0.004)       (0.005)     (0.003)     (0.004)
   N                         204        204         204          204         204          204
   R2                       0.449      0.368       0.410        0.313       0.178        0.396
   Panel D: 20 groups defined by 20 wage quantiles        [1985-1991: 97.98%; 2008-2014: 97.83%]
   Log population         0.0339*** 0.0173***   0.0317***     0.0487***    0.0028     0.0380***
                           (0.003)    (0.004)    (0.007)       (0.007)     (0.006)     (0.007)
   N                         102        102        102           102         102          102
   R2                       0.453      0.099      0.133         0.359       0.002        0.169

   Panel E: 10 groups defined by 40 wage quantiles         [1985-1991: 94.84%; 2008-2014: 95.35%]
   Log population         0.0440*** 0.0204***    0.0444***     0.0501*** 0.0181***     0.0501***
                           (0.003)    (0.002)     (0.004)       (0.005)     (0.002)     (0.004)
   N                         204        204         204           204         204          204
   R2                       0.451      0.339       0.363         0.303       0.182        0.395
   Panel F: 15 groups defined by 40 wage quantiles         [1985-1991: 97.05%; 2008-2014: 96.72%]
   Log population         0.0401*** 0.0246***    0.0459***     0.0497*** 0.0186***     0.0483***
                           (0.003)    (0.002)     (0.004)       (0.005)     (0.002)     (0.004)
   N                         204        204         204           204         204          204
   R2                       0.445      0.372       0.408         0.312       0.175        0.405
   Panel G: 20 groups defined by 40 wage quantiles        [1985-1991: 97.52%; 2008-2014: 97.81%]
   Log population         0.0415*** 0.0231***   0.0479***     0.0489*** 0.0194***     0.0472***
                           (0.003)    (0.002)    (0.003)       (0.005)     (0.003)     (0.004)
   N                         204        204        204           204         204          204
   R2                       0.458      0.347      0.432         0.314       0.176        0.394

Notes: City level regressions. The dependent variables stem from individual level AKM estimations of the log
wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies. Assortative matching
in column 3 and 6 is defined as the city level correlation coefficient of worker and plant effects.
Following Bonhomme, Lamadon, and Manresa (2017a) and Bonhomme, Lamadon, and Manresa (2017b), plant
effects are specific to k = 10, 15, 20 groups of plants with similar wage structures measured by m = 20, 40 wage
percentiles. Since there is much more mobility of workers between these plant clusters than between individual
plants, this is expected to mitigate the limited mobility bias.
All regressions have a constant. Robust standard errors in parentheses. Levels of significance: *** 1%, ** 5%, *
                                                          59
10%. The numbers in brackets are the share of the between plant variance that is captured by the group dummies.
                    Appendix Table A.6: Dropping Largest and Smallest Cities


                                          1985-1991                                2008-2014
                                (1)          (2)           (3)            (4)         (5)           (6)
                                                       assortative                              assortative
   Dependent variable:      worker FE      plant FE     matching     worker FE      plant FE     matching
   Panel A: Benchmark
   Log population            0.0365***    0.0279***     0.0380***     0.0523***     0.0161***    0.0613***
                              (0.002)      (0.003)       (0.005)       (0.005)       (0.003)      (0.006)
   N                            204          204           204           204           204          204
   R2                          0.505        0.213         0.188         0.419         0.067        0.286

   Panel B: Drop smallest cities with 20% of total population
   Log population        0.0345*** 0.0245***       0.0425***  0.0589***             0.0128**     0.0595***
                           (0.004)     (0.005)      (0.008)    (0.009)               (0.005)      (0.009)
   N                         103         103          103        102                   102          102
   R2                       0.387       0.145        0.152      0.351                 0.039        0.221
   Panel C: Drop smallest cities with 33% of total population
   Log population        0.0329*** 0.0217***       0.0502***  0.0645***              0.0105      0.0645***
                           (0.005)     (0.008)      (0.011)    (0.011)               (0.008)      (0.011)
   N                          66          66          66         67                     67           67
   R2                       0.327       0.102        0.167      0.338                 0.025        0.239
   Panel D: Drop smallest cities with 50% of total population
   Log population        0.0336*** 0.0337***      0.0694***   0.0661***              0.0110      0.0490***
                          (0.008)      (0.009)     (0.017)     (0.018)               (0.011)      (0.016)
   N                         34           34         34          35                     35           35
   R2                      0.340        0.300       0.291       0.328                 0.033        0.176

   Panel E: Drop largest cities with 20% of total population
   Log population         0.0363*** 0.0269***      0.0310***          0.0452***     0.0148***    0.0605***
                            (0.003)    (0.004)      (0.006)            (0.005)       (0.004)      (0.008)
   N                          197        197          197                198           198          198
   R2                        0.423      0.150        0.101              0.295         0.043        0.222
   Panel F: Drop largest cities with 33% of total population
   Log population          0.0389*** 0.0295***     0.0316***          0.0478***     0.0187***    0.0621***
                            (0.003)     (0.005)     (0.008)            (0.006)       (0.005)      (0.010)
   N                          189         189         189                189           189          189
   R2                        0.400       0.140       0.082              0.264         0.050        0.183
   Panel G: Drop Largest Cities with 50% of Total Population
   Log population        0.0390*** 0.0349***     0.0319***   0.0433***              0.0187**     0.0601***
                          (0.005)     (0.007)     (0.010)     (0.008)                (0.007)      (0.014)
   N                        170         170         170         169                    169          169
   R2                      0.299       0.127       0.058       0.169                  0.033        0.122

Notes: City level regressions. The dependent variables stem from individual level AKM estimations of the log
wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies. Assortative matching
in column 3 and 6 is defined as the city level correlation coefficient of worker and plant effects.
All regressions have a constant. Robust standard errors in parentheses. Levels of significance: *** 1%, ** 5%, *
10%.




                                                      60
           Appendix Table A.7: Dropping Cities with Smallest and Highest Turnover


                                          1985-1991                                2008-2014
                                (1)          (2)           (3)            (4)         (5)           (6)
                                                       assortative                              assortative
   Dependent variable:      worker FE      plant FE     matching     worker FE      plant FE     matching
   Panel A: Benchmark
   Log population            0.0365***    0.0279***     0.0380***     0.0523***     0.0161***    0.0613***
                              (0.002)      (0.003)       (0.005)       (0.005)       (0.003)      (0.006)
   N                            204          204           204           204           204          204
   R2                          0.505        0.213         0.188         0.419         0.067        0.286

   Panel B: Drop 20% cities with smallest turnover
   Log population        0.0363*** 0.0226***     0.0344***            0.0509***     0.0105**     0.0493***
                           (0.003)    (0.003)      (0.006)             (0.005)       (0.004)      (0.006)
   N                         164        164          164                 164           164          164
   R2                       0.493      0.156        0.155               0.394         0.031        0.229
   Panel C: Drop 33% cities with smallest turnover
   Log population        0.0350*** 0.0194***     0.0322***            0.0492***      0.0061      0.0450***
                          (0.003)     (0.004)     (0.006)              (0.006)       (0.005)      (0.007)
   N                        137         137         137                  137           137          137
   R2                      0.466       0.122       0.135                0.363         0.011        0.208
   Panel D: Drop 50% cities with smallest turnover
   Log population        0.0339*** 0.0173***    0.0317***             0.0487***      0.0028      0.0380***
                          (0.003)     (0.004)     (0.007)              (0.007)       (0.006)      (0.007)
   N                        102         102         102                  102           102          102
   R2                      0.453       0.099       0.133                0.359         0.002        0.169

   Panel E: Drop 20% cities with highest turnover
   Log population         0.0370*** 0.0271***    0.0338***            0.0444***     0.0134***    0.0612***
                           (0.003)    (0.004)     (0.006)              (0.004)       (0.004)      (0.007)
   N                         164        164         164                  164           164          164
   R2                       0.516      0.209       0.154                0.360         0.047        0.276
   Panel F: Drop 33% cities with highest turnover
   Log population         0.0414*** 0.0276***     0.0328***           0.0478***     0.0158***    0.0645***
                           (0.003)    (0.005)      (0.008)             (0.006)       (0.005)      (0.010)
   N                         137        137          137                 137           137          137
   R2                       0.515      0.181        0.109               0.333         0.054        0.236
   Panel G: Drop 50% cities with highest turnover
   Log population        0.0366*** 0.0261***    0.0314***             0.0403***     0.0136**     0.0656***
                          (0.004)     (0.006)     (0.009)              (0.007)       (0.006)      (0.013)
   N                        102         102         102                  102           102          102
   R2                      0.412       0.156       0.096                0.259         0.037        0.205

Notes: City level regressions. The dependent variables stem from individual level AKM estimations of the log
wage on worker effects, plant effects, skill specific cubic age profiles, and year dummies. Assortative matching
in column 3 and 6 is defined as the city level correlation coefficient of worker and plant effects.
Turnover is defined as number of workers switches per plant. All regressions have a constant. Robust standard
errors in parentheses. Levels of significance: *** 1%, ** 5%, * 10%.




                                                      61
                                Appendix Table A.8: Robustness Checks


 City size elasticities                     1985-1991                                   2008-2014
                                  (1)          (2)                (3)          (4)         (5)           (6)
                                                              assortative                            assortative
 Dependent variable:          worker FE      plant FE          matching     worker FE   plant FE      matching

 Panel A: Real wages, deflated by 2009 regional CPI
 Log population                0.0381***      -0.0034         0.0406***     0.0521***   -0.0167***    0.0612***
                                (0.002)       (0.004)          (0.005)       (0.005)      (0.004)      (0.006)
 R2                              0.513         0.004            0.208         0.424        0.076        0.290
 Panel B: City Size Measured by Population Density
 Log population density        0.0333***     0.0350***        0.0393***     0.0489***   0.0235***     0.0566***
                                (0.003)       (0.003)          (0.006)       (0.006)     (0.003)       (0.007)
 R2                              0.461         0.365            0.221         0.383       0.150         0.255
 Panel C: East Germany
 Log population                                                             0.0436***   0.0238***     0.0605***
                                                                             (0.007)     (0.005)       (0.009)
 R2                                                                           0.488       0.278         0.366

Notes: City level regressions. Number of observations: 204 (Panels A and B) and 54 (Panel C). The dependent
variables stem from individual level AKM estimations of the log wage on worker effects, plant effects, skill
specific cubic age profiles, and year dummies. Assortative matching in column 3 and 6 is defined as the city level
correlation coefficient of worker and plant effects. All regressions have a constant. Robust standard errors in
parentheses. Levels of significance: *** 1%, ** 5%, * 10%.




                                                         62
Appendix Table A.9: Correlation Between City-Occupation Cell Size and Strength of Assorta-
tive Matching from Grouped Plants


                                    (1)       (2)                  (3)          (4)         (5)         (6)         (7)
 Dependent Variable: Correlation of Worker and Plant FE


 1985-1991
 Employment in city                  0.0254***                  0.0212***
                                      (0.002)                    (0.002)
 Employment in city-occupation                   0.0151***      0.0067***    0.0068***   0.0214***   0.0118***    0.0170***
                                                  (0.001)        (0.002)      (0.002)     (0.001)     (0.002)      (0.002)
      × % college degree                                                                                         -0.0004***
                                                                                                                   (0.000)
 % college degree                                                                                                 0.0041***
                                                                                                                   (0.000)
 City FE                                 –           –              –          yes          –          yes           yes
 Occupation FE                           –           –              –           –          yes         yes            –
 N                                    10342        10342          10342       10342       10342       10341        10342
 R2                                   0.021        0.012          0.023       0.062       0.387       0.425        0.114


 2008-2014
 Employment in city                  0.0313***                  -0.0102***
                                      (0.002)                     (0.003)
 Employment in city-occupation                   0.0645***      0.0681***    0.0682***   0.0388***   0.0305***    0.0794***
                                                  (0.002)         (0.002)     (0.002)     (0.002)     (0.003)      (0.002)
      × % college degree                                                                                         -0.0006***
                                                                                                                   (0.000)
 % college degree                                                                                                 0.0041***
                                                                                                                   (0.000)
 City FE                                 –           –              –          yes          –          yes           yes
 Occupation FE                           –           –              –           –          yes         yes            –
 N                                    10293        10293          10293       10293       10293       10293        10293
 R2                                   0.016        0.116          0.117       0.160       0.410       0.452        0.173

Notes: Regressions at the level of occupation specific local labor markets, defined as all combinations of 204 cities
and 89 2-digit occupations with at least 5 plants and 50 workers. The dependent variables stem from individual
level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year
dummies. Employment is measured as log number of employees. Unlike the original AKM model, plants were
grouped into 20 groups with similar wage structures in order to avoid limited mobility bias.
Employment is measured as log number of employees. Robust standard errors in parentheses. Levels of signifi-
cance: *** 1%, ** 5%, * 10%.




                                                           63
Appendix Table A.10: Correlation Between City-Industry Cell Size and Strength of Assortative
Matching


                                 (1)        (2)        (3)                (4)         (5)         (6)         (7)
 Dependent Variable: Correlation of Worker and Plant FE


 1985-1991
 Employment in city               0.0317***                0.0216***
                                   (0.002)                  (0.003)
 Employment in city-industry                  0.0224***    0.0151***   0.0147***   0.0311***   0.0314***   0.0127***
                                               (0.002)      (0.002)     (0.002)     (0.002)     (0.003)     (0.003)
      × % college degree                                                                                     0.0002
                                                                                                            (0.000)
 % college degree                                                                                           -0.0011
                                                                                                            (0.001)
 City FE                              –           –             –        yes          –           yes          yes
 Industry FE                          –           –             –         –          yes          yes           –
 N                                  6780        6780           6780     6780         6780        6780        6780
 R2                                 0.028       0.027          0.037    0.072        0.235       0.269       0.073


 2008-2014
 Employment in city               0.0390***                0.0167***
                                   (0.003)                  (0.003)
 Employment in city-industry                  0.0377***    0.0325***   0.0332***   0.0433***   0.0406***    0.0234***
                                               (0.002)      (0.002)     (0.002)     (0.002)     (0.003)      (0.003)
      × % college degree                                                                                    0.0006***
                                                                                                             (0.000)
 % college degree                                                                                          -0.0028***
                                                                                                             (0.001)
 City FE                              –           –             –        yes          –           yes          yes
 Industry FE                          –           –             –         –          yes          yes           –
 N                                  7130        7130           7130     7130         7130        7130        7130
 R2                                 0.027       0.055          0.059    0.094        0.325       0.358       0.099

Notes: Regressions at the level of occupation specific local labor markets, defined as all combinations of 204 cities
and 60 2-digit industries with at least 5 plants and 50 workers. The dependent variables stem from individual
level AKM estimations of the log wage on worker effects, plant effects, skill specific cubic age profiles, and year
dummies.
Employment is measured as log number of employees. Robust standard errors in parentheses. Levels of signifi-
cance: *** 1%, ** 5%, * 10%.




                                                          64
                                                  Unconditional Wage


                              Appendix Figure A.1: Spatial Wage Inequality




                   (a) West Germany                 Conditional Wage (b) West+East Germany




                                                        (c) USA
             Note: The graphs show the distribution of de-meaned log wages across MSAs weighted
             by MSA
Note: The graphs      employment
                   show               in the
                         the distribution  of relevant year.
                                              log wages,      Conditional
                                                         de-meaned          wage
                                                                      for each      controls
                                                                               period,  acrossfor three
                                                                                               cities     levels Germany
                                                                                                      in (West)   of
and the US.educational     attainment
              For the US the  unit is 220(high
                                          MSAs, school  drop-out,
                                                  for West  Germanyhigh204school,  college);
                                                                           commuting         race;
                                                                                         zones, andgender;
                                                                                                      for all ofage;
                                                                                                                 Germany
258 commutingand union
                  zones. status
                          Wagein   each
                                 are      metropolitan
                                      conditional,       area. The
                                                    controlling for sample   includes
                                                                    educational         220 metropolitan
                                                                                  attainment   (3 levels in areas
                                                                                                              the US, 4 in
             observed  in  both 1964   and  2009.
Germany); race in the US and nationality in Germany; gender; cubic terms in age; (and for the US, union status
in each metropolitan area).
Panel C is from Hsieh and Moretti (2017)




                                                           65
