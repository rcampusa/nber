                                 NBER WORKING PAPER SERIES




                         NETWORKS, SHOCKS, AND SYSTEMIC RISK

                                           Daron Acemoglu
                                          Asuman Ozdaglar
                                         Alireza Tahbaz-Salehi

                                         Working Paper 20931
                                 http://www.nber.org/papers/w20931


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                      February 2015




Prepared for The Oxford Handbook on the Economics of Networks, Yann Bramoullé, Andrea Galeotti,
and Brian Rogers (Eds), Oxford University Press. Acemoglu and Ozdaglar gratefully acknowledge
financial support from the Army Research Office, Grant MURI W911NF-12-1- 0509. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2015 by Daron Acemoglu, Asuman Ozdaglar, and Alireza Tahbaz-Salehi. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.
Networks, Shocks, and Systemic Risk
Daron Acemoglu, Asuman Ozdaglar, and Alireza Tahbaz-Salehi
NBER Working Paper No. 20931
February 2015
JEL No. D85,G01

                                               ABSTRACT

This chapter develops a unified framework for the study of how network interactions can function
as a mechanism for propagation and amplification of microeconomic shocks. The framework nests
various classes of games over networks, models of macroeconomic risk originating from microeconomic
shocks, and models of financial interactions. Under the assumption that shocks are small, we provide
a fairly complete characterization of the structure of equilibrium, clarifying the role of network interactions
in translating microeconomic shocks into macroeconomic outcomes. This characterization enables
us to rank different networks in terms of their aggregate performance. It also sheds light on several
seemingly contradictory results in the prior literature on the role of network linkages in fostering systemic
risk.


Daron Acemoglu                                         Alireza Tahbaz-Salehi
Department of Economics, E18-269D                      Columbia Business School
MIT                                                    3022 Broadway, 418 Uris Hall
77 Massachusetts Avenue                                New York, NY 10027
Cambridge, MA 02139                                    alirezat@columbia.edu
and CIFAR
and also NBER
daron@mit.edu

Asuman Ozdaglar
Dept of Electrical Engineering
and Computer Science
Massachusetts Institute of Technology
77 Massachusetts Ave, E40-130
Cambridge, MA 02139
asuman@mit.edu
1        Introduction

The recent financial crisis, often attributed in part to contagion emanating from pervasive entangle-
ments among financial institutions, has rekindled interest in the role of complex economic, finan-
cial or social interlinkages as channels for propagation and amplification of shocks. In the words of
Charles Plosser, the president of the Federal Reserve Bank of Philadelphia:

          “due to the complexity and interconnectivity of today’s financial markets the failure of
          a major counterparty has the potential to severely disrupt many other financial institu-
          tions, their customers, and other markets” (Plosser, 2009).

        Similar ideas on the role of interconnections and the possibility of cascades have also surfaced
in a variety of other contexts. For instance, Acemoglu et al. (2012, 2014b) and Jones (2013) have ar-
gued that idiosyncratic shocks at the firm or sectoral level can propagate over input-output linkages
within the economy, with potentially significant implications for macroeconomic volatility and eco-
nomic growth, while Caplin and Leahy (1993) and Chamley and Gale (1994) have emphasized the
spread of economic shocks across firms due to learning and imitation.
        Though the domains studied by these and other related papers are often different, their under-
lying approaches share important economic and mathematical parallels. Most importantly, in each
case, the problem is one of a set of interacting agents who influence each other, thus opening the
way for shocks to one agent to propagate to the rest of the economy. Furthermore, on the method-
ological side, almost all these papers rely on a network model to capture the pattern and extent of
interactions between agents. Despite these parallels, there is a bewildering array of different (and
sometimes even contradictory) results, often presented and developed with little linkage to other
findings in the literature.
        The disparity in the predictions and results of different studies in the literature can be best il-
lustrated by focusing on a concrete setting, namely, that of financial interactions. The models of
financial interactions studied in a variety of papers (such as Allen and Gale (2000), Giesecke and We-
ber (2006), Blume et al. (2011), Battiston et al. (2012), Elliott, Golub, and Jackson (2014), Cabrales,
Gottardi, and Vega-Redondo (2014) and Acemoglu, Ozdaglar, and Tahbaz-Salehi (2015b)) are, at
least on the surface, very similar. In each case, a financial institution’s “state”, which for example
captures its health or ability to meet its obligations, depends on the state of other financial institu-
tions to which it is connected.1 Consequently, shocks to a given institution can propagate to other
institutions within the economy, potentially snowballing into a systemic crisis. Despite such com-
monalities, the predictions of many of the papers in this literature are quite different or sometimes
even contradictory. For example, in the models of Allen and Gale (2000) and Freixas, Parigi, and
Rochet (2000), denser interconnections mitigate systemic risk, whereas several other papers, such
    1
    For instance, in the context of counterparty relationships considered by Acemoglu et al. (2015b), the connections
capture the extent of prior interbank lending and borrowing and each bank’s state captures its ability to meet those obli-
gations. As highlighted in Cabrales, Gale, and Gottardi (2015), other forms of interlinkages operate in a similar fashion.




                                                            1
as Vivier-Lirimont (2006) and Blume et al. (2011), have suggested that such dense interconnections
can act as a destabilizing force.
   Our aim in this chapter is to unify and improve the understanding of the key economic and
mathematical mechanisms in much of the literature on the effects of network interactions on the
economy’s aggregate performance. We start with a general reduced-form model in which n agents
interact with one another. Each agent is assigned a real-valued variable, known as its state which,
depending on the context, may capture her choice of actions (e.g., output or investment) or some
other economic variable of interest. Our reduced-form model consists of three key ingredients:
(i) a fairly general interaction function that links each agent’s state to a summary measure of the
states of other agents; (ii) an (interaction) network that specifies how these summary measures are
determined as a function of other agents’ states; and (iii) an aggregation function that describes
how agent-level states collectively shape the macroeconomic variable of interest.
   We first show that our general framework nests a wide variety of problems studied in the liter-
ature, including those mentioned above. We also show that under fairly general conditions on the
interaction function, an equilibrium — defined as a mutually consistent set of states for all agents in
the network — always exists and is generically unique. We then use our framework to study how the
nature of inter-agent interactions shape various measures of aggregate performance. Our analysis
not only nests the main results obtained in several papers in the literature, but also clarifies where
the sources of differences lie.
   In order to obtain sharp and analytical predictions for the role of network interactions in shaping
economic outcomes, we focus on an economy in which agent-level shocks are small. This assump-
tion enables us to approximate the equilibrium state of each agent and the economy’s macroeco-
nomic state by the first few terms of their Taylor expansions. Our results show that the impact of
network structure depends on the properties of the economy’s Leontief matrix corresponding to the
underlying interaction network. This matrix, which is defined in a manner analogous to the same
concept used in the literature on input-output economies, accounts for all possible direct and in-
direct effects of interactions between any pair of agents. Using this characterization, we show that
the curvatures of the interaction and aggregation functions play a central role in how the economy’s
underlying network translates microeconomic shocks into macroeconomic outcomes.
   As our first characterization result, we show that as long as the interaction and aggregation func-
tions are linear, the economy exhibits a “certainty equivalence” property from an ex ante perspec-
tive, in the sense that the expected value of the economy’s macro state is equal to its unperturbed
value when no shocks are present. This observation means that, in a linear world, the economy’s
aggregate performance, in expectation, does not depend on the intricate details of its underlying
interaction network.
   Our next set of results illustrates that this certainty equivalence property may no longer hold
if either the aggregation or interaction function is non-linear. Rather, in the presence of a non-
linear interaction or aggregation function, the exact nature of these non-linearities are central to
determining how the economy’s underlying interaction network affects its ex ante performance.


                                                  2
   We show that with a non-linear aggregation function, the economy’s ex ante performance de-
pends on the heterogeneity in the extent to which agents interact with one another. In particular,
if the aggregation function is concave — for example, to capture the idea that volatility is detri-
mental to the economy’s aggregate performance — a more uniform distribution of inter-agent in-
teractions increases macroeconomic performance in expectation. An important corollary to this
result establishes that with a concave aggregation function, regular economies (in which the over-
all influence of each agent on the rest of the agents is identical across the network) outperform all
other economies. These results are consistent with, and in some ways generalize, those of Ace-
moglu et al. (2012), who, in the context of input-output economies, show that the volatility of the
economy’s aggregate output increases in the extent of heterogeneity in the role of different firms
as input-suppliers. Our results thus clarify that it is the concavity of economy’s aggregation func-
tion — resulting from the focus on volatility — that lies at the heart of the results in Acemoglu et al.
(2012).
   We then focus on understanding how non-linearities in the interaction function shape the econ-
omy’s ex ante performance. Our results illustrate that when the interaction function is concave,
economies with denser interconnections outperform those whose interaction networks are more
sparse. In particular, the complete network, in which interlinkages are maximally dense, outper-
forms all other (symmetric) economies. Furthermore, we show that with a convex interaction func-
tion, this performance ordering flips entirely, making the complete network the worst performing
economy. This flip in the comparative statics of aggregate performance with respect to the network
structure parallels the findings in Acemoglu, Ozdaglar, and Tahbaz-Salehi (2015b), who show that,
in the context of financial interactions, whether the complete network fosters stability or instability
depends on the size and number of shocks: with a few small shocks, the complete network is the
most stable of all economies, whereas when shocks are numerous or large, there is a phase transi-
tion, making the complete network the least stable financial arrangement. Our results here clarify
that the findings of Acemoglu et al. (2015b) are essentially due to the fact that increasing the size or
the number of shocks corresponds to a shift from a concave to a convex region of the interaction
function, thus reversing the role of interbank connections in curtailing or causing systemic risk.
They also highlight that similar phase transitions transforming the role of network interconnec-
tions in shaping aggregate performance can emerge in other settings with non-linear interactions.
   Overall, our results highlight that the relationship between the economy’s aggregate perfor-
mance and its underlying network structure depends on two important economic variables: (i) the
nature of economic interactions, as captured by our interaction function; and (ii) the properties of
the aggregate performance metric, as captured by the notion of aggregation function in our model.
   We also use our framework to provide a characterization of how the nature of interactions de-
termine the agents’ relative importance in shaping aggregate outcomes. As long as agent-level in-
teractions are linear, the well-known notion of Bonacich centrality serves as a sufficient statistic for
agents’ “systemic importance”: negative shocks to an agent with a higher Bonacich centrality leads
to a larger drop in the economy’s macro state. We also demonstrate that, in the presence of small


                                                   3
enough shocks, this result generalizes to economies with non-linear interactions, but with one im-
portant caveat: even though a strictly larger Bonacich centrality means that the agent has a more
pronounced impact on the economy’s macro state, two agents with identical Bonacich centralities
are not necessarily equally important. This is due to the fact that Bonacich centrality only provides
a first-order approximation to the agents’ impact on aggregate variables. Therefore, a meaning-
ful comparison of systemic importance of two agents with identical Bonacich centralities (as in a
regular network) requires that we also take their higher-order effects into account. As our final re-
sult, we provide such a characterization of agents’ systemic importance in regular economies. We
show that the second-order impact of an agent on the economy’s macro state is summarized via a
novel notion of centrality, called concentration centrality, which captures the concentration of an
agent’s influence on the rest of the agents (as opposed to its overall influence captured via Bonacich
centrality).
      These characterization results thus highlight that relying on standard and off-the-shelf notions
of network centrality (such as Bonacich, eigenvector, or betweenness centralities) for the purpose of
identifying systemically important agents may be misleading. Rather, the proper network statistic
has to be informed by the nature of microeconomic interactions between different agents.


Related Literature         As already indicated, this chapter relates to several strands of literature on so-
cial and economic networks, such as the literature on network games, various models of systemic
risk, and the literature that studies microeconomic foundations of macroeconomic fluctuations.
Many of the papers related to our setup are discussed in the next section when we describe how
different models are nested within our general framework. Here, we provide a brief overview of the
literature and some of the key references.
      The critical building block of our general framework is an interaction network, whereby each
player’s “state” is a function of the state of its neighbors in a directed, weighted network. These in-
terlinked states could be thought of as best responses of each player to the actions of her neighbors.
As such, our setup builds on various different contributions on the network games literature, such
as Calvó-Armengol and Zenou (2004), Ballester, Calvó-Armengol, and Zenou (2006), Candogan,
Bimpikis, and Ozdaglar (2012), Allouch (2012), Badev (2013), Bramoullé, Kranton, and D’Amours
(2014) and Elliott and Golub (2014), several of which can be cast as special cases of our general
framework.2 Several papers consider applications of network games to various specific domains.
For example, Calvó-Armengol, Patacchini, and Zenou (2009) study peer effect and education de-
cisions in social networks; Calvó-Armengol and Jackson (2004) study the role of referral networks
in the labor market; and Galeotti and Rogers (2013), Acemoglu, Malekian, and Ozdaglar (2013) and
Dziubiński and Goyal (2014) consider a network of interlinked players making endogenous secu-
rity investments against an infection or an attack. Jackson and Zenou (2015) and Bramoullé and
Kranton (2015) provide thorough surveys of the network games literature.
      Even though the literature on network games does not generally consider the propagation of id-
  2
      Network games of incomplete information are studied in Galeotti et al. (2010).


                                                             4
iosyncratic shocks, our results highlight that, depending on the specific economic question at hand,
the interaction models at the heart of this literature could be used for the study of such propagation.
    A related literature has directly originated from the study of cascades. Various models have
been developed in the computer science and network science literatures, including the widely-used
threshold models (Granovetter, 1978) and percolation models (Watts, 2002). A few works have ap-
plied these ideas to various economic settings, including Durlauf (1993) and Bak et al. (1993) in
the context of economic fluctuations; Morris (2000) in the context of contagion of different types of
strategies in coordination games; and more recently, Gai and Kapadia (2010) and Blume et al. (2011)
in the context of spread of an epidemic-like financial contagion.
    The framework developed in this chapter is also closely linked to a small literature in macroeco-
nomics that studies the propagation of microeconomic shocks over input-output linkages. This lit-
erature, which builds on the seminal paper by Long and Plosser (1983), has witnessed a recent theo-
retical and empirical revival. On the theoretical side, Acemoglu et al. (2012, 2014b) and Jones (2013)
argue that the propagation of idiosyncratic shocks and distortions over input-output linkages can
have potentially significant implications for macroeconomic volatility and economic growth.3 On
the empirical side, Foerster, Sarte, and Watson (2011), Carvalho (2014), di Giovanni, Levchenko,
and Méjean (2014), Acemoglu, Autor, Dorn, Hanson, and Price (2015a) and Carvalho, Nirei, Saito,
and Tahbaz-Salehi (2015) provide evidence for the relevance of such propagation mechanisms in
different countries.
    As mentioned earlier, this chapter is also closely related to the growing literature on the spread
of financial shocks over a network of interconnected financial institutions. The seminal papers
of Allen and Gale (2000) and Freixas, Parigi, and Rochet (2000) developed some of the first formal
models of contagion over financial networks. The recent financial crisis resulted in further attention
to this line of work. Some of the more recent examples include Gai, Haldane, and Kapadia (2011),
Battiston et al. (2012), Alvarez and Barlevy (2014) and Glasserman and Young (2015).
    Within this literature, four recent papers deserve further discussion. The first, which is our own
work (Acemoglu, Ozdaglar, and Tahbaz-Salehi, 2015b), considers a network of banks linked through
unsecured debt obligations and studies the emergence of financial cascades resulting from coun-
terparty risk. This paper, which in turn builds on and extends Eisenberg and Noe (2001)’s seminal
framework of financial interlinkages, is explicitly treated as a special case of our general framework
here. The second is the related paper by Elliott, Golub, and Jackson (2014), which also considers
financial contagion in a network, though based on microfoundations linked to cross-shareholdings
across institutions rather than the counterparty risk as in our own previous work. The third is
Cabrales, Gottardi, and Vega-Redondo (2014), which is closely connected to Elliott et al. (2014) and
in addition considers the endogenous formation of the financial network.4 Finally, Cabrales, Gale,
and Gottardi (2015) provide a unified treatment of the previous three papers, highlighting various
   3
     Relatedly, Gabaix (2011) argues that microeconomic shocks can lead to aggregate fluctuations if the firm-size distri-
bution within the economy exhibits a heavy enough tail, even in the absence of input-output linkages.
   4
     Other papers that study network formation in related contexts include Bala and Goyal (2000), Babus (2014), Zawad-
owski (2013), Acemoglu, Ozdaglar, and Tahbaz-Salehi (2014c), Farboodi (2014), and Erol and Vohra (2014).



                                                            5
commonalities as well as some important differences between them. The key distinction between
their unified treatment and ours is that they start with the fixed point equation resulting from the
interactions in the various financial network models, whereas we develop a more general frame-
work starting from the best response equations or the equations linking each agent’s state to her
neighbors’. This formulation enables us to nest not only existing models of financial networks but a
wider array of network interactions, use first and second-order approximations to provide a sharper
characterization of the structure of equilibrium, and clarify the role of interaction and aggregation
functions in transforming small, agent-level shocks into differences in aggregate performance or
volatility.


Outline       The rest of this chapter is organized as follows. In Section 2, we provide our general frame-
work for the study of network interactions and present a few examples of how our setup maps to
different applications. In Section 3, we provide a second-order approximation to the macro state
of the economy in terms of the economy’s underlying interaction network. Section 4 uses these
results to characterize how the nature of interactions between different agents impacts the macro
state of the economy from an ex ante perspective, whereas Section 5 provides a characterization of
the systemic importance of different agents. Section 6 concludes.


2    General Framework

Consider an economy consisting of n agents indexed by N = {1, . . . , n}. Of key interest to our
analysis is each agent i’s state, xi ∈ R, which captures the agent’s choice of action (e.g., output or
investment) or some other economic variable of interest (such as the solvency of a financial institu-
tion). In the next three subsections we will provide concrete examples clarifying the interpretation
of these states. For the time being, however, we find it convenient to work with a general, reduced-
form setup without taking a specific position on how to interpret the agents or their states.
    The key feature of the environment is that the states of different agents are interlinked. Such
interdependencies may arise due to strategic considerations, contractual agreements, or some ex-
ogenous (e.g., technological) constraints on the agents. Formally, the state of any given agent i
depends on the states of other agents via the relationship
                                                              
                                               Xn
                                     xi = f       wij xj + i  ,                                      (1)
                                                   j=1

where f is a continuous and increasing function, which we refer to as the economy’s interaction
function. As the name suggests, this function represents the nature of interactions between the
agents in the economy. The variable i is an “agent-level” shock, which captures stochastic distur-
bances to i’s state. We assume that these shocks are independently and identically distributed (so
that they correspond to “idiosyncratic” shocks) and have mean zero and variance σ 2 .
    The constant wij ≥ 0 in (1) captures the extent of interaction between agents i and j . In partic-
ular, a higher wij means that the state of agent i is more sensitive to the state of agent j , whereas

                                                         6
wij = 0 implies that agent j does not have a direct impact on i’s state. Without much loss of gen-
erality, we assume that nj=1 wij = 1, which guarantees that the extent to which the state of each
                        P

agent depends on the rest of the agents is constant. We say the economy is symmetric if wij = wji
for all pairs of agents i and j .
      For a given f , the interactions between agents can be also represented by a weighted, directed
graph on n vertices, which we refer to as the economy’s interaction network. Each vertex in this
network corresponds to an agent and a directed edge from vertex j to vertex i is present if wij > 0,
that is, if the state of agent i is directly affected by the state of agent j .
      Finally, we define the macro state of the economy as

                                         y = g (h(x1 ) + · · · + h(xn )) ,                              (2)

where g, h : R → R. As we will clarify in what follows, y represents some macroeconomic outcome
of interest that is obtained by aggregating the individual states of all agents. Throughout the paper,
we refer to g as the economy’s aggregation function.
      An equilibrium in this economy is defined in the usual fashion by requiring each agent’s state to
be consistent with those of others. Formally:

Definition 1. Given the realization of the shocks (1 , . . . , n ), an equilibrium of the economy is a
collection of states (x1 , . . . , xn ) such that equation (1) holds for all agents i simultaneously.

      As the above definition clarifies, our solution concept is an ex post equilibrium notion, in the
sense that agents’ states are determined after the shocks are realized. This notion enables us to
study how the equilibrium varies as a function of the shock realizations.
      Throughout the paper, we assume that f (0) = g(0) = h(0) = 0. This normalization guarantees
that, in the absence of shocks, the equilibrium state of all agents and the economy’s macro state are
equal to zero.
      We next show how a wide variety of different applications can be cast as special cases of the
general framework developed above.

2.1     Example: Network Games

Our framework nests a general class of network games as a special case. Consider, for example, an
n-player, complete information game, in which the utility function of agent i is given by
                                                                            
                                                               n
                                                  1 2         X
                         ui (x1 , . . . , xn ) = − xi + xi f    wij xj + i  ,
                                                  2
                                                                  j=1


where xi denotes the action of player i and i is realization of some shock to her payoffs. That is,
the payoff of player i depends not only on her own action, but also on those of her neighbors via
the interaction function f . In this context, the underlying network, encoded in terms of coefficients
wij , captures the pattern and strength of strategic interactions between various players in the game.


                                                        7
       It is immediate to verify that as long as the interaction function f satisfies certain regularity
conditions — essentially to ensure that one can use the first-order conditions — and that wii = 0
for all i, the best-response of player i as a function of the actions of other players is given by equation
(1). Consequently, the collection (x1 , . . . , xn ) that solves the system of equations (1) corresponds to
the Nash equilibrium of the game.
       The game described above nests a wide variety of models studied in the literature. Note that
since f is increasing, the players face a game of strategic complements over the network: the benefit
of taking a higher action to player i increases the higher the actions of her neighbors are. Examples
of such network games include research collaboration among firms (Goyal and Moraga-González,
2001), crime networks (Ballester, Calvó-Armengol, and Zenou, 2006), peer effect and education de-
cisions in social networks (Calvó-Armengol, Patacchini, and Zenou, 2009), and local consumption
externalities (Candogan, Bimpikis, and Ozdaglar, 2012). On the other hand, had we assumed that
the interaction function f is decreasing, the players would have faced a network game of strategic
substitutes, as in Bramoullé and Kranton (2007) who study information sharing and the provision
of local public goods.5
       An important subclass of network games is the case in which players’ payoff functions are quadratic,
                                                                     n
                                                         1        X
                                ui (x1 , . . . , xn ) = − x2i + α   wij xi xj + αxi i ,                            (3)
                                                         2
                                                                   j=1

where α ∈ (0, 1) is some constant.6 Under such a specification, the corresponding interaction func-
tion is given by f (z) = αz , hence, implying that the equilibrium of the game can be characterized
as a solution to a system of linear equations.
       We end our discussion by pointing out two natural candidates for the economy’s macro state in
this context. The first is the sum (or the average) of the agents’ equilibrium actions,

                                               yagg = x1 + · · · + xn ,

representing the aggregate level of activity in the economy. In our general framework, this corre-
sponds to the assumption that g(z) = h(z) = z . The second is the total or average utility (or equiva-
lently total social surplus) in the equilibrium, given by ysw = ni=1 ui . Although summing both sides
                                                               P

of equation (3) over all players i shows that social surplus depends not only on the agents’ states,
but also on weights wij and the realizations of the shocks i , using the fact that equilibrium actions
satisfy (1) enables us to write ysw in the form of equation (2) as
                                                               n
                                                           1X 2
                                                   ysw =     xi ,
                                                           2
                                                               i=1

which corresponds to g(z) = z and h(z) = z 2 /2 in our general framework.
   5
     Allowing both for strategic complementarities and substitutabilities, Acemoglu, Garcia-Jimeno, and Robinson (2014a)
develop an application of these models in the context of local municipalities’ state capacity choices, and estimate the
model’s parameters using Colombian data.
   6
     See Zenou (2015) for a discussion and a variety of extensions of the baseline network game with quadratic payoffs.


                                                           8
2.2      Example: Production Networks

Our general setup also nests a class of models that focus on the propagation of shocks in the real
economy. In this subsection, we provide an example of one such model along the lines of Long and
Plosser (1983) and Acemoglu, Carvalho, Ozdaglar, and Tahbaz-Salehi (2012), and show that it can
be cast as a special case of our general framework.
      Consider an economy consisting of n competitive firms (or sectors) denoted by {1, 2, . . . , n},
each of which producing a distinct product.7 Each product can be either consumed by a mass of
consumers or used as an input for production of other goods. All firms employ Cobb-Douglas pro-
duction technologies with constant returns to scale that transform labor and intermediate goods to
final products. Production is subject to some idiosyncratic technology shock. More specifically, the
output of firm i, which we denote by Xi , is equal to
                                                                                   α
                                                                   n
                                                                               w
                                                                   Y
                                           Xi = bi Aαi li1−α             Xij ij  ,                                   (4)
                                                                   j=1

where Ai is the corresponding productivity shock; li is the amount of labor hired by firm i; Xij is
the amount of good j used for production of good i; bi is a constant; and α ∈ (0, 1) is the share of
intermediate goods in production. The exponent wij ≥ 0 in (4) captures the share of good j in the
production technology of good i: a higher wij means that good j is more important in producing
i, whereas wij = 0 implies that good j is not a required input for i’s production technology. The
assumption that firms employ constant returns to scale technologies implies that nj=1 wij = 1 for
                                                                                  P

all i.
      The economy also contains a unit mass of identical consumers. Each consumer is endowed with
one unit of labor which can be hired by the firms for the purpose of production. We assume that
the representative consumer has symmetric Cobb-Douglas preferences over the n goods produced
in the economy. In particular,
                                                                         n
                                                                                1/n
                                                                         Y
                                              u(c1 , . . . , cn ) = b̃         ci     ,
                                                                         i=1

where ci is the amount of good i consumed and b̃ is some positive constant.
      One can naturally recast the interactions between different firms in such an economy in terms of
a network, with each vertex corresponding to a firm and the factor shares wij capturing the intensity
of interactions between them. Furthermore, given the log-linear nature of Cobb-Douglas produc-
tion technologies, the equilibrium (log) output of each firm can be written in the form of equation
(1), linking it to the outputs of its input suppliers and the productivity shocks in the economy.
      To see this, consider the first-order conditions corresponding to firm i’s problem:

                                                Xij = αwij pi Xi /pj                                                   (5)
                                                   li = (1 − α)pi Xi /ω,                                               (6)
   7
     Since each one of these firms is supposed to act competitively, they can also be interpreted as “representative firms”
standing in for a set of competitive firms within each of the n sectors.


                                                               9
where ω denotes the market wage and pi is the price of good i. The market clearing condition for
good i, given by Xi = ci + nj=1 Xji , implies that
                          P

                                                                   n
                                                                   X
                                                si = ω/n + α             wji sj ,
                                                                   j=1

where si = pi Xi is the equilibrium sales of firm i. Note that in deriving the above expression, we
are using the fact that the first-order condition of the consumer’s problem requires that ci = ω/npi .
Given that the above equality defines a linear system of equations in terms of the equilibrium sales
of different firms, it is straightforward to show that si = pi Xi = ζi ω for some constant ζi .8 Therefore,
replacing for equilibrium price pi in equations (5) and (6) in terms of the output of firm i yields
Xij = αwij ζi Xj /ζj and li = (1 − α)ζi . Plugging these quantities back into the production function
of firm i leads to
                                                                  n
                                                                  Y
                                                      1−α
                                     Xi = bi ζi (1 − α)     Aαi         (αwij Xi /ζj )αwij .
                                                                  j=1

Now it is immediate that with the proper choice of constants bi , the log output of firm i, denoted by
xi = log(Xi ), satisfies
                                                          n
                                                          X
                                                xi = α          wij xj + αi ,                                         (7)
                                                          j=1

where i = log(Ai ) is the log productivity shock to firm i. In other words, the interactions between
different firms can be cast as a special case of our general framework in equation (1) with linear
interaction function f (z) = αz .
    We end our discussion by remarking that the logarithm of real value added in the economy,
which is the natural candidate for the economy’s macro state y , can also be expressed in terms of our
general formulation in (2). Because of the constant returns to scale assumption, firms make zero
profits in equilibrium, all the surplus in the economy goes to the consumers, and as a consequence,
value added is simply equal to the market wage ω . Choosing the ideal price index as the numeraire,
           n
that is,     (p . . . pn )1/n
           b̃ 1
                                = 1, and using the fact that pi = ζi ω/Xi , we obtain that the log real value
added in the economy is equal to
                                               n                     n
                                           1X            1X
                                  log(ω) =    log(Xi ) −    log(ζi ) + log(b̃/n).
                                           n             n
                                              i=1                   i=1

Therefore, with the appropriate choice of b̃, we can rewrite log(GDP) as
                                                                           n
                                                                      1X
                                              y = log(GDP) =             xi ,                                          (8)
                                                                      n
                                                                          i=1

as in (2) in our general framework with g(z) = z/n.
  8
    To be more precise, ζi = vi /n, where vi is the i-th column sum of matrix (I − αW )−1 . In Section 3, we show that this
quantity coincides with the notion of Bonacich centrality of firm i in the economy.



                                                            10
2.3     Example: Financial Contagion

As a final example, we show that our general framework also nests models of financial contagion
over networks. As a concrete example, we focus on a variant of a model along the lines of Eisenberg
and Noe (2001) and Acemoglu, Ozdaglar, and Tahbaz-Salehi (2015b), who study how the patterns
of interbank liabilities determine the extent of financial contagion.
      Consider an economy consisting of n financial institutions (or banks), which are linked to one
another via unsecured debt contracts of equal seniority. Each bank i has a claim of size ξij = wij ξ
on bank j , where we assume that nj=1 wij = nj=1 wji = 1, thus guaranteeing that all banks have
                                P            P

identical total claims (of size ξ ) on the rest of the banking system. In addition to its interbank claims
and liabilities, bank i has an outside asset of net value a and is subject to some liquidity shock i .
      Following the realizations of these liquidity shocks, banks need to repay their creditors. If a
bank cannot meet its liabilities in full, it defaults and repays its creditors on a pro rata basis. Let
zim denote the repayment of bank m on its debt to bank i. The cash flow of bank i is thus equal to
ci = a+i + nm=1 zim . Therefore, as long as ci ≥ ξ , bank i can meet its liabilities in full, guaranteeing
           P

that zji = wji ξ for all banks j . If, on the other hand, ci ∈ (0, ξ), the bank defaults and its creditors
are repaid in proportion to the face value of their contracts, i.e., zji = wji ci . Finally, if ci ≤ 0, bank i’s
creditors receive nothing, that is, zji = 0. Putting the above together implies that the repayment of
bank i on its debt to a given bank j is equal to
                                                               n
                                  (      (                                 !             )    )
                                                               X
                          zji = max min wji         a + i +         zim       , wji ξ       ,0 .
                                                               m=1
                                                                                                    Pn
Summing both sides of the above equation over the set of banks j and letting xi =                    j=1 zji   denote
the total out-payment of bank i to its creditors imply
                                     (     ( n                       ) )
                                              X
                          xi = max min            wim xm + a + i , ξ , 0 ,                                       (9)
                                                 m=1

where we are using the fact that zim = wim xm .
      It is then straightforward to see that the interactions between different banks can be represented
as a network, with each vertex corresponding to a bank and the size of bank i’s obligation to bank j
representing the intensity of interactions between the two. Furthermore, the specific nature of in-
terbank repayments can be cast as a special case of our general model (1) with interaction function
f (z) = max{min{z + a, ξ}, 0}.
      Note that unlike the examples presented in Subsections 2.1 and 2.2, this interaction function
does not satisfy the normalization assumption f (0) = 0 if a > 0. Nevertheless, this is not of ma-
jor consequence, as a simple change of variables would restore the original normalization: re-
defining the state of agent i as x̂i = xi − ξ leads to the modified interaction function fˆ(z) =
max{min{z + a, 0}, −ξ}, which satisfies fˆ(0) = 0 whenever a > 0. Given that all our results and
their corresponding economic insights are robust to the choice of normalization, we find it easier
to work with the original model.

                                                       11
      Finally, assuming that each default results in a deadweight loss of size A (for example, because
of the cost of early liquidation of long-term projects as in our previous work), the social surplus in
the economy is equal to
                                                 n
                                                 X
                                           y=A          1{xi ≥ ξ},
                                                  i=1

corresponding to g(z) = z and h(z) = A1{z ≥ ξ} in our general framework.

2.4     Existence and Uniqueness of Equilibrium

We now return to the general framework introduced above and establish the existence and (generic)
uniqueness of equilibrium. In general, the set of equilibria not only depends on the economy’s
interaction network, but also on the properties of the interaction function. We impose the following
regularity assumption on f :

Assumption 1. There exists β ≤ 1 such that |f (z) − f (z̃)| ≤ β|z − z̃| for all z, z̃ ∈ R. Furthermore, if
β = 1, then there exists δ > 0 such that |f (z)| < δ for all z ∈ R.

      This assumption, which is satisfied in each of the economies discussed in Subsections 2.1–2.3
as well as in most other natural applications of this framework, guarantees that the economy’s in-
teraction function is either (i) a contraction with Lipschitz constant β < 1; or alternatively, (ii) a
bounded non-expansive mapping. Either way, it is easy to establish that an equilibrium always ex-
ists. In particular, when β < 1, the contraction mapping theorem implies that (1) always has a fixed
point, whereas if f is bounded, the existence of equilibrium is guaranteed by the Brouwer fixed
point theorem.
      Our first formal result shows that beyond existence, Assumption 1 is also sufficient to guarantee
that the equilibrium is uniquely determined over a generic set of shock realizations.

Theorem 1. Suppose that Assumption 1 is satisfied. Then, an equilibrium always exists and is gener-
ically unique.

      A formal proof of the above result is provided in the Appendix. Intuitively, when β < 1, the con-
traction mapping theorem ensures that the economy has a unique equilibrium. The economy may
have multiple equilibria, however, when β = 1 (for example, as in the financial contagion example
in Subsection 2.3). Nevertheless, Theorem 1 guarantees that the equilibrium is generically unique,
in the sense that the economy has multiple equilibria only for a measure zero set of realizations of
agents-level shocks.


3      Smooth Economies

In the remainder of this chapter, we study how the economy’s underlying network structure as well
as different properties of the aggregation and interaction functions, shape economic outcomes. In



                                                    12
particular, we are interested in characterizing how these features determine the extent of propaga-
tion and amplification of shocks within the economy.
      To achieve this objective, we impose two further assumptions on our model. First, we assume
that the underlying economy is smooth, in the sense that functions f , g and h are continuous and
at least twice differentiable. The class of smooth economies nests many of the standard models
studied in the literature, such as variants of the network games and the production economy pre-
sented in Subsections 2.1 and 2.2. On the other hand, the model of financial interactions presented
in Subsection 2.3 is not nested within this class, as the corresponding interaction function is not
differentiable everywhere. Nevertheless, this non-smoothness is not of major consequence, as the
interaction function f can be arbitrarily closely approximated by a smooth function f˜ in such a way
that economic implications of the model under this smooth approximation are identical to those of
the original model.9
      As our second assumption, we focus on the case where agent-level shocks are small. This as-
sumption enables us to approximate the equilibrium state of each agent and the economy’s macro
state by the first few terms of their Taylor expansions. Even though it may appear restrictive, our
following results highlight that such a “small-shock analysis” can lead to fairly general and robust
insights on how different network interactions shape economic outcomes.

3.1      First-Order Approximation

We start our analysis by providing a first-order (that is, linear) approximation to the agents’ equi-
librium states around the point where i = 0 for all i. If the size of the agent-level shocks are small,
such an approximation captures the dominant effects of how shocks shape the economy’s macro
state.
      Let us first use the implicit function theorem to differentiate both sides of the interaction equa-
tion (1) with respect to the shock to agent r:
                                            n                         n
                                                                !                             !
                              ∂xi           X                         X         ∂xm
                                  = f0            wim xm + i               wim     + 1{r = i} .                             (10)
                              ∂r                                               ∂r
                                           m=1                        m=1

Evaluating the above equation at the point  = (1 , . . . , n ) = 0 yields
                                                           n
                                                                                              !
                                   ∂xi             0
                                                           X          ∂xr
                                               = f (0)          wim                + 1{r = i} ,
                                   ∂r   =0                          ∂i    =0
                                                          m=1

where we are using the fact that in the absence of shocks xm = 0 for all m. This equation can be
rewritten in matrix form as ∂x/∂r |=0 = f 0 (0)W ∂x/∂r |=0 + f 0 (0)er , where x = (x1 , . . . , xn )0 is the
vector of agents’ states and er represents the r-th unit vector. It is therefore immediate that the
derivative of the agents’ states with respect to the shock to agent r is given by

                                            ∂x                                 −1
                                                        = f 0 (0) I − f 0 (0)W
                                                                 
                                                                                   er .                                      (11)
                                            ∂r   =0
  9
      More specifically, it is sufficient for f˜ to satisfy Assumption 1 and, as f , be initially concave and then convex.


                                                                 13
Note that, as long as f 0 (0) < 1, the matrix I − f 0 (0)W is invertible, implying that the right-hand side
of (11) is well-defined. We find it useful to define the following concept:

Definition 2. The Leontief matrix of the economy with parameter α ∈ [0, 1) is L = (I − αW )−1 ,
where W = [wij ] is the economy’s interaction matrix.

   In view of the above definition, we can rewrite equation (11) as

                                               ∂xi
                                                           = α`ir ,                                   (12)
                                               ∂r   =0

where α = f 0 (0) and `ir is the (i, r) element of the economy’s Leontief matrix with parameter α. The
equilibrium state of agent i around the point  = 0 can then be linearly approximated as
                                                        n
                                                        X
                                               xi = α         `ir r .                                (13)
                                                        r=1

In other words, when the agent-level shocks are small (so that we can rely on a linear approxima-
tion), the economy’s Leontief matrix serves as a sufficient statistic for the network’s role in deter-
mining the state of agent i. More specifically, the impact of a shock to agent r on the equilibrium
state of agent i is simply captured by `ir .
   Before continuing with our derivations, a few remarks are in order. First, note that Definition
2 generalizes the well-known concept of the Leontief input-output matrix to an economy with a
general form of interaction among agents. In particular, the (i, r) element of the matrix, not only
captures the direct interaction between agents i and r, but also accounts for all possible indirect
interactions between the two. To see this, note that `ir can be rewritten as
                                                             n
                                                             X
                                  `ir = 1 + αwir + α2              wik wkr + . . . ,                  (14)
                                                             k=1

where the higher-order terms account for the possibility of indirect interactions between i and r.
Thus, essentially, equation (14) shows that a shock to agent r impacts agent i not only through their
direct interaction term wir , but also via indirect interactions with the rest of the agents: such a shock
may impact the state of some agent k and then indirectly propagate to agent i. However, note that
the impact of a shock to agent r on i’s state is deflated by a factor α < 1 whenever the length of the
indirect interaction chain between the two agents is increased by one.
   In view of the interpretation that `mi captures the equilibrium impact of agent i on the state of
agent m, it is natural to interpret nm=1 `mi as the extent of agent i’s overall influence on the rest of
                                   P

the agents in the economy. We define the following concept, which is well-known in the study of
social and economic networks:
                                                                                               Pn
Definition 3. For a given parameter α ∈ [0, 1), the Bonacich centrality of agent i is vi =        m=1 `mi ,
where L = [`ij ] is the corresponding Leontief matrix of the economy.



                                                        14
                                                             n

                                       2
                                             1

                                                       1


                                       3



                                  Figure 1. The star interaction network.


   To see how the above concept captures an intuitive notion of network centrality as well as the
overall extent of agents’ influence on one another, consider the star interaction network depicted
in Figure 1. As the figure suggests, a shock to agent 1, which takes a more central position in the
network, should have a larger impact on other agents’ states compared to a shock to agent i 6= 1.
Indeed, it is easy to verify that the Bonacich centrality of agent 1 is equal to v1 = 1 + αn/(1 − α),
whereas vi = 1 for i 6= 1.
   More generally, in any given interaction network, agent i’s Bonacich centrality can be written
recursively in terms of the centralities of the rest of the agents in the economy:
                                                           n
                                                           X
                                            vi = 1 + α           vj wji .                       (15)
                                                           j=1

This expression shows that i has a higher centrality (and hence a more pronounced impact on the
rest of the agents) if it interacts strongly with agents that are themselves central.
   Returning to our derivations, we next provide a linear approximation to the economy’s macro
state y in the presence of small shocks. Differentiating (2) with respect to r yields
                                                                      n
                             ∂y                                  X          ∂xm
                                 = g 0 (h(x1 ) + · · · + h(xn ))   h0 (xm )     .               (16)
                             ∂r                                            ∂r
                                                                     m=1

Evaluating this expression at  = 0 and replacing for the derivative of agent i’s state from (12), we
obtain
                                                                     n
                                      ∂y                             X
                                                  = αg 0 (0)h0 (0)          `mr ,               (17)
                                      ∂r   =0                      m=1

where we have again used that fact that, in the absence of shocks, xm = 0 for all m and that h(0) =
0. Putting Definition 3 and equation (17) together leads to the following linear approximation to
the economy’s macro state as a function of its underlying interaction network, the interaction and
aggregation functions, and the agent-level shocks:



                                                        15
Theorem 2. Suppose that f 0 (0) < 1. Then, the first-order approximation to the macro state of the
economy is
                                                                           n
                                                                           X
                                         1st      0    0         0
                                     y         = f (0)g (0)h (0)                 vi i ,            (18)
                                                                           i=1

where vi is the Bonacich centrality of agent i with parameter f 0 (0).

      The above result highlights that, as long as one is concerned with the first-order effects, the
agents’ Bonacich centralities serve as sufficient statistics for how shocks impact the economy’s
macro state. In particular, shocks to agents who take more central roles in the economy’s inter-
action network have a more pronounced influence on economy’s macro state. The intuition under-
lying this result can be understood in terms of the recursive definition of agents’ centralities in (15):
a shock to an agent with a higher Bonacich centrality impacts the states of other relatively central
agents, which in turn propagate the shock further to other agents, and so on, eventually leading to
a larger aggregate impact.
      We end our discussion by remarking that when the interaction and aggregation functions are
linear, Theorem 2 provides an exact characterization of — as opposed to a linear approximation
to — the macro state of the economy in terms of the agent-level shocks. For example, recall the
special case of network games with quadratic utilities studied in Subsection 2.1. By Theorem 2, the
aggregate level of activity in such an economy is proportional to a convex combination of agent–
level shocks, with weights given by each agent’s Bonacich centrality in the network:
                                                            n
                                                            X
                                                yagg = α             v j j .
                                                            j=1

This result coincides with those of Ballester et al. (2006) and Calvó-Armengol et al. (2009), to cite
two examples. Similarly, in the context of production economies with Cobb-Douglas production
functions studied in Subsection 2.2, recall from (7) that the log output of any firm i is a linear func-
tion of the log-output of its suppliers. Using the log-value added, defined in (8), as the macro state
of the economy, Theorem 2 implies that
                                                                      n
                                                                αX
                                           log(GDP) =              v j j ,
                                                                n
                                                                     j=1

where j is the log productivity shock to firm j , confirming a representation used in Acemoglu et al.
(2012).

3.2     Second-Order Approximation

The linear approximation provided in the previous subsection characterizes how, in the presence of
small shocks, the nature and strength of interactions between agents shape the economy’s macro
state. An important limitation of such an approximation is that the solution exhibits a certainty
equivalence property, in the sense that the expected value of the economy’s macro state is equal

                                                           16
to its unperturbed value when no shocks are present. More specifically, as Corollary 1 below will
show, E[y 1st ] = 0 regardless of the economy’s interaction network or the shape of the interaction and
aggregation functions.10 Consequently, even though potentially useful from an ex post perspective,
the first-order approximation provided in Theorem 2 is not particularly informative about how the
economy’s interaction network shapes aggregate outcomes from an ex ante point of view. In order
to go beyond this certainty equivalence property, we next provide a second-order approximation
to the economy’s macro state. As our results in the following sections will show, taking the second-
order effects into account provides a more refined characterization of how agent-level shocks shape
economic outcomes.
    We start by differentiating both sides of equation (10) with respect to the shock to agent j :
                       n                  n                            n
                                      !                             !                         !
        ∂ 2 xi        X                  X        ∂x  m
                                                                      X       ∂x m
               = f 00     wim xm + i         wim        + 1{i = r}       wim      + 1{i = j}
       ∂r j                                      ∂r                        ∂j
                      m=1                m=1                          m=1
                      n                  n
                                     !                   !
                  0
                      X                 X         ∂ 2 xm
               +f        wim xm + i        wim             .
                                                 ∂r ∂j
                        m=1                        m=1

Evaluating this expression at  = 0 implies
                            n                                           n                                       n
                                                           !                                           !
 ∂ 2 xi           00
                            X                                           X                                       X           ∂ 2 xm
                = f (0) α         wim `mr + 1{i = r}                α         wim `mj + 1{r = j}           +α         wim                   ,
 ∂r j   =0                                                                                                               ∂r ∂j   =0
                            m=1                                         m=1                                     m=1

where, once again, we are using the fact that xm = 0 for all m and that the first derivative of the
agents’ states with respect to the shocks can be written in terms of the economy’s Leontief matrix,
as given by (12). On the other hand, one can show that α nm=1 wim `mr = `ir −1{i = r}.11 Therefore,
                                                         P

the previous expression can be simplified to
                                                                          n
                                  ∂ 2 xi             00
                                                                          X            ∂ 2 xm
                                                 = f (0)`ir `ij + α              wim                   ,
                                  ∂r j   =0                                         ∂r ∂j   =0
                                                                          m=1

leading to
                                                                         n
                                            ∂ 2 xi             00
                                                                         X
                                                           = f (0)             `im `mr `mj ,                                          (19)
                                            ∂r j   =0                 m=1

where we are using the definition of the Leontief matrix. The above equation thus provides the
second-order derivates of agents’ equilibrium states as a function of the interaction function and
the Leontief matrix of the economy.
    To obtain a second-order approximation to the macro state of the economy, we need to also
differentiate (16) with respect to j :
                                                          n X n
                    ∂2y
                                                                                           
                               00
                                                         X
                                                                  0       0        ∂xm    ∂xi
                           = g (h(x1 ) + · · · + h(xn ))         h (xm )h (xi )
                   ∂r ∂j                                                         ∂r    ∂j
                                                         m=1 i=1
                                                         n
                                                                     ∂ 2 xm
                                                                                               
                              0
                                                         X
                                                               0                00     ∂xm ∂xm
                           + g (h(x1 ) + · · · + h(xn ))     h (xm )        + h (xm )             .
                                                                     ∂r j            ∂r ∂j
                                                               m=1
  10
     See Schmitt-Grohé and Uribe (2004) for a similar argument in the context of a general class of discrete-time rational
expectations models.
  11
     To see this, recall that the Leontief matrix can be rewritten as L = ∞    k  k
                                                                         P
                                                                          k=0 α W , which implies that αW L = L − I.



                                                                    17
Replacing for the first-order and second-order derivates of agents’ equilibrium states from (13) and
(19), respectively, leads to
                                         n X
                                           n                   n                 n
                                                                 "                                                #
  ∂2y                                  2
                                         X                     X                 X
                 = α2 g 00 (0) h0 (0)        `mr `ij + g 0 (0)    h0 (0)f 00 (0)   `mk `kr `kj + α2 h00 (0)`mr `mj ,
                                    
 ∂r ∂j   =0                              m=1 i=1                          m=1              k=1

which can be further simplified to
                                              n                                                             n
      ∂2y                 0       0    00
                                              X
                                                                          2 00
                                                                                 0 2          2 0    00
                                                                                                            X
                       = g (0)h (0)f (0)             vm `mr `mj        + α g (0) h (0) vr vj + α g (0)h (0)   `mi `mj ,
     ∂r ∂j     =0                          m=1                                                                 m=1

where vm is the Bonacich centrality of agent m with parameter α. Combining the above with (17)
leads to the following result:

Theorem 3. Suppose that f 0 (0) < 1. Then, the second-order approximation to the macro state of the
economy is given by
                                             n
                                             X
             y 2nd = f 0 (0)g 0 (0)h0 (0)          v i i
                                             i=1
                                               n X
                                                 n
                     1                      2 X
                    + g 00 (0) f 0 (0)h0 (0)
                              
                                                   v i v j i j                                                                (20)
                     2
                                                      i=1 j=1
                                  n X
                                    n                            n                                    n
                                                                                                                  !
                     1            X                              X                           2       X
                    + g 0 (0)                  0            00
                                                                                    + f 0 (0) h00 (0)
                                                                                     
                                              h (0)f (0)               vm `mi `mj                       `mi `mj       i j ,
                     2
                                  i=1 j=1                        m=1                                m=1

where L = [`ij ] is the economy’s Leontief matrix with parameter α = f 0 (0) and vi is the corresponding
Bonacich centrality of agent i.

   This result thus refines Theorem 2 by providing a second-order approximation to the role of
agent-level shocks in shaping the economy’s macro state. Note that the first line of (20) is simply
the first-order approximation, y 1st , characterized in (18). The rest of the terms, which depend on the
curvatures of the interaction and aggregation functions, capture the second-order aggregate effects.
The second line, in particular, corresponds to additional terms resulting from the non-linearity of
the aggregation function, g . Note that these terms depend simply on Bonacich centralities, the vi
terms. This is due to the fact that as long as the interaction function f is linear, the total influence
of agent i on the rest of the agents in the economy is given by the Bonacich centrality of agent i,
     Pn
vi =   m=1 `mi . The third line, on the other hand, shows that if either the interaction function f
or the h function is non-linear, the centrality measures are no longer sufficient statistics for the
shocks’ second-order effects. Rather, other network statistics — in particular, nm=1 `mi `mj and
                                                                                P
Pn
  m=1 vm `mi `mj — also play a key role in how shocks propagate throughout the economy.
   It is also worth noting that as long as shocks are small enough and the linear approximation
is non-trivial, the second-order terms in (20) are dominated by the effect of the first-order terms.
However, as our following results will show, in many applications the linear terms are equal to
zero (reflecting the above-mentioned certainty equivalence property), and hence are uninformative
about the nature of the economy’s macro state, making the second-order approximation essential
for a meaningful characterization of the aggregate impact of microeconomic shocks.

                                                                        18
4      Ex Ante Aggregate Performance

In the remainder of this chapter, we use Theorems 2 and 3 to characterize how network interactions
translate small, agent-level shocks into aggregate effects measured by the economy’s macro state.
      This section provides a comparative study of the role of the economy’s underlying network
structure — as well as its interaction and aggregation functions — in shaping y from an ex ante
perspective, by interpreting the expectation of the macro state y as the economy’s “performance
metric”. Formally:

Definition 4. An economy outperforms another if E[y] is larger in the former than the latter.

      A natural first step to obtain a comparison between the performance of different economies in
the presence of small shocks is to compare their first-order approximations. Recall from Theorem 2
that the first-order approximation of an economy’s macro state is equal to a linear combination of
agent-level shocks with the corresponding weights given by the agents’ Bonacich centralities, i.e.,
y 1st = f 0 (0)g 0 (0)h0 (0) ni=1 vi i , leading to the following immediate corollary:
                            P

Corollary 1. E[y 1st ] = 0.

      This simple corollary shows that the economy exhibits a certainty equivalence property from an
ex ante perspective up to a first-order approximation: the expected value of the economy’s macro
state is equal to its unperturbed value when no shocks are present, regardless of the nature of pair-
wise interactions or the shape of the interaction and aggregation functions. The more important
implication, however, is that the linear approximation provided in Theorem 2 is not informative
about the comparative performance of different economies, even in the presence of small shocks.
Rather, a meaningful comparison between the ex ante performance of two economies requires that
we also take the higher-order terms into account.
      Thus, a natural next step is to use the second-order approximation provided in Theorem 3.
Equation (20) shows that once second-order terms are taken into account, the ex ante performance
of the economy, E[y 2nd ], depends on the curvatures of the interaction and aggregation functions. In
order to tease out these effects in a transparent manner, in the remainder of this section, we focus
on how non-linearities in each of these functions shape the economy’s macro state, while assuming
that the rest of the functions are linear.

4.1     Non-Linear Aggregation: Volatility

We first consider an economy with a general, potentially non-linear aggregation function g , while
assuming that f and h are increasing, linear functions. In this case, the ex ante performance of the
economy is given by
                                        E[y] = Eg(x1 + · · · + xn ).
This observation highlights that the curvature of g essentially captures the extent to which society
cares about volatility, for instance because of risk-aversion at the aggregate level. To see this, sup-
pose that g is concave. In this case, the economy’s performance is reduced the more correlated

                                                    19
agents’ states are with one another. In fact, if g(z) = −z 2 , the economy’s ex ante performance sim-
ply captures the volatility of x1 + · · · + xn . On the other hand, a convex g corresponds to the scenario
in which performance increases with volatility.
       In either case, Theorem 3 implies that the expected value of the economy’s macro state, up to a
second-order approximation, is given by
                                                                          n
                                           2nd      1 2 00  0     0
                                                                       2 X
                                     E[y         ] = σ g (0) f (0)h (0)     vi2 ,                                    (21)
                                                    2
                                                                                   i=1

where we are using the assumption that all shocks are independent with mean zero and variance
σ 2 and the assumption that functions f and h are linear. Equation (21) shows that, in contrast to
Corollary 1, not all economies have identical performances once second-order terms are taken into
account. Rather, the economy’s ex ante performance depends on ni=1 vi2 , which in turn, can be
                                                                   P

rewritten as
                                     n
                                     X                                             n
                                            vi2 = n · var(v1 , . . . , vn ) +            ,
                                                                                (1 − α)2
                                      i=1

where α = f 0 (0), thus leading to the following result:

Proposition 4. Suppose that the aggregation function g is concave (convex). An economy’s ex ante
performance decreases (increases) in var(v1 , . . . , vn ).

       This proposition implies that, if g is concave, networks in which agents exhibit a less heteroge-
nous distribution of Bonacich centralities outperform those with a more unequal distribution. This
is due to the fact that a more equal distribution of Bonacich centralities means that shocks to dif-
ferent agents have a more homogenous impact on the economy’s macro state, and thus wash each
other out more effectively at the aggregate level. On the other hand, a more unequal distribution of
centralities implies that shocks to some agents play a disproportionally larger role in shaping y and
as a result, are not canceled out by the rest of the agent-level shocks, increasing the overall volatility
and reducing the value of E[y] whenever g is concave.
       To see the implications of Proposition 4, consider an economy with the underlying star inter-
action network depicted in Figure 1. As already mentioned, the Bonacich centralities of agents in
such an economy are highly unequal as agent 1 has a disproportionally large impact on the states
of the rest of the agents. In fact, it is easy to show that ni=1 vi2 is maximized for the star interaction
                                                           P

network. This implies that when g is concave, the star network has the least ex ante performance
(and hence, the highest level of volatility) among all economies.12
       At the other end of the spectrum are regular economies in which the extent of interaction of
each agent with the rest of the agents is constant. More formally,
                                                   Pn
Definition 5. An economy is regular if               j=1 wji   = 1 for all agents i.
  12
    Note that by Hölder’s inequality, i vi2 ≤ (maxi vi )( i vi ) = n maxi vi /(1−α) ≤ n(1 − α + αn)/(1 − α)2 , regardless
                                      P                   P
                                                                 0
of the
     Peconomy’s interaction network, where recall that α = f (0). This inequality is tight for the star network, implying
that i vi2 obtains its maximal value.



                                                               20
                         1
                                        n

            2




            3




                (a) The ring financial network                      (b) The complete financial network

                                        Figure 2. Two regular economies


   Figures 2(a) and 2(b) depict two regular networks, known as the ring and complete interaction
networks, respectively. Because they are symmetric, all agents in both economies should have iden-
tical Bonacich centralities. In fact, summing both sides of (14) over i in an arbitrary regular economy
implies that
                                       vr = 1 + α + α2 + · · · = 1/(1 − α)

for all r, where recall that α = f 0 (0). This implies the following result:

Lemma 1. In any regular economy, all agents have identical Bonacich centralities.

   Therefore, var(v1 , . . . , vn ) is minimized for all regular economies, implying that with a concave g ,
they outperform all other economies from an ex ante perspective: all agent-level shocks in such an
economy take symmetric roles in determining the macro state, and minimize the overall volatility
of x1 + · · · + xn and thus increase E[y]. This implies the following corollary to Proposition 4:

Corollary 2. Suppose that aggregation function g is concave (convex). Any regular economy outper-
forms (underperforms) all other economies, whereas the economy with the star interaction network
underperforms (outperforms) all others.

   This corollary and Proposition 4 are closely connected to the results in Acemoglu et al. (2012),
who show that in the context of the production economies presented in Subsection 2.2, aggregate
output volatility is increasing in the extent of heterogeneity in the firms’ centralities and is maxi-
mized (minimized) for the star (regular) network. This parallel can be better appreciated by not-
ing that the logarithm of output of a given firm i satisfies linear equation (7) and that log(GDP) =
(1/n) ni=1 xi . Therefore, the volatility of log value added is simply
      P

                                                        1
                                     var (log(GDP)) =      E(x1 + · · · + xn )2 .
                                                        n2
Setting g(z) = −(z/n)2 implies that economies that have a higher ex ante performance in the sense
of Definition 4 are less volatile at the aggregate level. Hence, Proposition 4 and Corollary 2 guar-

                                                        21
antee that any economy in which firms exhibit more heterogeneity in terms of their roles as input-
suppliers exhibits higher levels of aggregate (log) output volatility due to idiosyncratic firm-level
shocks. Our results thus show that it is the concavity of economy’s aggregation function that lies at
the heart of the findings of Acemoglu et al. (2012).

4.2      Non-Linear Interactions

We now focus on the role of non-linear interactions in shaping the economy’s ex ante performance.
To illustrate this role in a transparent manner, we consider an economy with a general, non-linear
interaction function f , while assuming that g and h are increasing, linear functions.13 The ex ante
performance of such an economy is given by
                                                                                       
                                              n
                                              X                n
                                                               X         Xn
                                     E[y] =         E[xi ] =         Ef    wij xj + i  .
                                              i=1              i=1        j=1


The above equation highlights that the curvature of the interaction function f captures the extent
of “risk-aversion” at the micro-level.
      To understand the role of interlinkages in affecting economic performance, we focus on the set
of symmetric, regular economies.14 Recall from Theorem 3 that, in the presence of small shocks,
the expected value of the economy’s macro state can be approximated by
                                                                              n    n
                                                1                          XX
                                     E[y 2nd ] = σ 2 g 0 (0)h0 (0)f 00 (0)    vm `2mi .                (22)
                                                2
                                                                             i=1 m=1

Note that as before, we need to rely on a second-order approximation, as the first-order terms are
not informative about the comparative performance of different economies; that is E[y 1st ] = 0 re-
gardless of the shape of f or the economy’s interaction network. Given that all agents in a regular
network have identical Bonacich centralities, Equation (22) shows that the economy’s performance
depends on the value of i,m `2mi . On the other hand, it is easy to verify that
                        P

                                            n
                                            X
                                                  `2mi = v 2 /n + var(`1i , . . . , `ni ),             (23)
                                            m=1
               Pn
where v = m=1 `mi = 1/(1 − α) is the agents’ (common) Bonacich centrality, thus suggesting that
the term ni=1 nm=1 `2mi decreases if inter-agent influences `mi are more evenly distributed. The
         P P

following result, which is proved in the Appendix, captures this idea formally:

Corollary 3. Suppose that there are no self-interaction terms, that is, wii = 0. If the interaction
function f is concave (convex), then the complete network outperforms (underperforms) all other
symmetric economies.
 13
      The results, and in fact the expressions, are essentially identical when h is also non-linear.
 14
      Recall that an economy is said to be symmetric if wij = wji for all i 6= j.




                                                                 22
                   f (z)                                                       f (z)




          −a          ξ−a                           z                              −a           ξ−a            z
                           (a)                                                         (b)

Figure 3. The interaction function f (z) = max{min{z + a, ξ}, 0} corresponding to the model of financial in-
teractions in Subsection 2.3. Panels (a) and (b) plot the function for the case that a > ξ and a < 0, respectively.
The thin red line in each panel depicts a smooth approximation to the interaction function.


       This corollary is related to the findings of Acemoglu, Ozdaglar, and Tahbaz-Salehi (2015b), who,
in the context of the model of financial interactions presented in Subsection 2.3, show that the com-
plete financial network exhibits a “phase transition”: when the total net asset value of the financial
system is large enough, the complete network is the financial network with the least number of de-
faults. However, as the net asset value of the financial system is reduced, beyond a certain point,
the complete network flips to be the economy with the maximal number of bank failures.15
       To see the connection between their results and Corollary 3, recall that the corresponding inter-
action function in such an economy is given by f (z) = max{min{z + a, ξ}, 0}. As depicted in Figure
3(a), for large enough values of a (in particular, when a > ξ ), this interaction function is concave in
the neighborhood of 0. Therefore, Corollary 3 implies that the complete network outperforms all
other economies.16 In contrast, once the banks’ net asset value a become small enough, the inter-
action function is locally convex around 0, as depicted in Figure 3(b). In stark contrast to the former
case, Corollary 3 now implies that all other economies would outperform the complete network.
Thus, our characterization results clarify that the findings of Acemoglu et al. (2015b) are due to the
fact that reducing the banks’ net asset values (for example, due to some exogenous shocks) essen-
tially corresponds to a shift from the concave to the convex region of the interaction function, thus
reversing the role of interbank connections.
       In addition to providing a different perspective on the results of Acemoglu et al. (2015b), Corol-
lary 3 presents a partial answer to the question posed in the Introduction, related to the sometimes
contradictory claims on the role of dense network interconnections in creating systemic risk and
instability. It shows that when economic (financial) interactions correspond to a concave f , denser
interconnections are stabilizing (as in Allen and Gale (2000)), whereas they play the role of generat-
  15
     To be more precise, Acemoglu et al. (2015b) state their results in terms of whether exogenous shocks that hit financial
institutions are small or large. Nevertheless, given that such shocks simply impact the net asset value of the banks, their
results can be equivalently stated in terms of the size of the net asset value of the banks, a.
  16
     As already noted, even though the corresponding interaction function is not smooth, it can be arbitrarily closely
approximated by a smooth function in such a way that the economic implications of the model under this smooth ap-
proximation are identical to those of the original model. Figure 3 depicts one such smooth approximation.



                                                            23
ing systemic risk when these interactions correspond to a convex f function. Finally, our result that
more densely interconnected networks are more unstable in the presence of convex interactions is
akin to similar results in the epidemic-like cascade models (such as Blume et al. (2011)), in which a
bank fails once the number of its defaulting counterparties passes a certain threshold.


5      Systemically Important Agents

A central concern in many analyses of economic and social networks is the identification of “key
players” or “systemically important agents”(e.g., Ballester et al. (2006) and Zenou (2015)). Loosely
speaking, these are entities that have a disproportionally high impact on some aggregate statistic
of interest. For example, Banerjee, Chandrasekhar, Duflo, and Jackson (2013, 2014) study how the
social network position of the first individual to receive information about a new product within
a village can increase the extent of information diffusion within that community. Similarly, in the
context of multi-agent contracting in the presence of externalities, Bernstein and Winter (2012)
are interested in obtaining an ordering of agents who when subsidized induce the maximal level
of participation by other agents. Relatedly, in the context of the example presented in Subsection
2.3, Acemoglu et al. (2015b) characterize the set of systemically important institutions in a financial
network, a shock to whom would lead to a large cascade of defaults.
      In this section, we utilize Theorems 2 and 3 to study how different features of the environment
determine the impact of each agent on the macro state of the economy and provide a characteriza-
tion of the set of agents that are more important from a systemic perspective. We start by defining
this concept formally:

Definition 6. Agent i is said to be systemically more important than agent j if y(i) < y(j) , where y(i)
denotes the macro state of the economy when agent i is hit with a negative shock.

      In other words, agent i is systemically more important than agent j if a shock to i leads to a
larger drop in the economy’s macro state. Note that in general, the relative systemic importance
of an agent may depend on the size of the negative shock. Nevertheless, we can use our results
in Section 3 to provide a characterization of the systemic importance of different agents for small
enough shocks.
      We should also remark that our notion of a systemically important agents is related to, but dis-
tinct from the notion of “key players” studied by Ballester et al. (2006) and Zenou (2015). Whereas
our focus is on how a shock to a given agent impacts some macroeconomic variable of interest,
these papers study the impact of the removal of an agent from the network.

5.1     Linear Interactions

We start by focusing on economies where the interaction and aggregation functions are linear. This
enables us to highlight, in a transparent manner, how the presence of non-linearities can shape
equilibrium outcomes.


                                                   24
   Recall that when the interaction and aggregation functions are linear, Theorem 2 provides an
exact characterization of the economy’s macro state in equilibrium. More specifically, it shows that
y is a linear combination of the idiosyncratic, agent-level shocks, with the weights proportional to
the Bonacich centralities of the corresponding agents, leading to the following result:

Proposition 5. Suppose that the economy’s interaction function is linear. Then agent i is more sys-
temically important than agent j if vi > vj , where vi is the Bonacich centrality of agent i.

   In other words, in an economy with linear interactions, a negative shock to the agent with the
highest Bonacich centrality leads to the largest drop in the economy’s macro state. The intuition
underlying this result is simple and well-known in the literature: shocks to more central agents
propagate more extensively over the network and as a result have larger impacts on the economy’s
macro state.
   To see the implications of the above result, consider the economies depicted in Figures 1 and 2.
Given that the ring and complete networks depicted in Figure 2 are regular, Proposition 5 suggests
that in the presence of linear interactions, all agents in such economies are equally systemically
important. In contrast, in the economy depicted in Figure 1, agent 1 takes a more central position
with respect to the rest of the agents, leading to the intuitive result that it is the most systemically
important agent within the economy.
   Proposition 5 also has sharp predictions for the set of systemically important agents in the class
of network games with quadratic payoffs discussed in Subsection 2.1. Recall that the first-order
conditions in such games can be represented in the form of a linear interaction function. Thus, by
Proposition 5, the player with the highest Bonacich centrality would be the most influential player
in the game. This is indeed in line with the observations of Candogan, Bimpikis, and Ozdaglar
(2012), who argue that subsidizing players with the highest centrality would induce the largest in-
crease in the level of aggregate activity in the economy.
   Similarly, in the context of production economies with Cobb-Douglas (and hence, log-linear)
production technologies discussed in Subsection 2.2, Acemoglu et al. (2012) show that productivity
shocks to firms with higher centralities have a larger impact on the economy’s aggregate output,
an observation consistent with the predictions of Proposition 5. More specifically in line with the
examples we discussed above, they also argue that, compared to a shock of equal size to one of the
more peripheral firms, a shock to firm 1 in the star network depicted in Figure 1 would have a much
larger impact on the log value added of the economy.
   Finally, Proposition 5 also echoes some of the results in the literature on social learning that
studies the long-run implications of different learning rules. In particular, Golub and Jackson (2010)
show that if agents update their beliefs as a linear combination of their neighbors’ opinions (what
is commonly known as DeGroot-style learning), the information available to those with higher cen-
tralities plays a more prominent role in the eventual beliefs in the society. Relatedly, Jadbabaie et al.
(2012, 2013) show that the rate of information aggregation in a social network is more sensitive to



                                                   25
the quality of the signals observed by the more central agents.17

5.2     Non-Linear Interactions

Our previous results show that if the economy’s interaction function is linear, Bonacich centrality
provides a comprehensive measure for agents’ systemic importance. This observation also means
that, as long as agent-level shocks are small enough, more central agents would play a more promi-
nent role in shaping the economy’s macro state, even if the interactions are non-linear. This is due
to the fact that by Theorem 2, the economy’s macro state can be linearly approximated by

                                                 1st
                                                y(i) = f 0 (0)g 0 (0)h0 (0)vi i ,

leading to the following result:

Corollary 4. If vi > vj , then agent i is systemically more important than agent j for all interaction
functions f .

      This conclusion is subject to an important caveat: even though vi > vj implies that i is more
systemically important than j in the presence of small shocks, vi = vj does not guarantee that the
two agents are equally systemically important. Rather, in such a scenario, a meaningful comparison
of the agents’ systemic importance requires that we also take their higher-order effects into account.
Thus, Corollary 4 is simply not applicable to regular economies, in which all agents have identical
Bonacich centralities.
      In order to obtain a meaningful measure for agents’ systemic importance in a regular economy,
a natural step would be to utilize Theorem 3 to compare the second-order effects of agent-level
shocks on the economy’s macro state. From (20), we have that, in any regular economy,
                                                                                                                    n
                                                                                                                                 !
           0    0     0      g 00 (0) 0          2       1                                2                     X
 2nd
                                      f (0)h0 (0) v 2 2 + g 0 (0) vh0 (0)f 00 (0) + f 0 (0) h00 (0)                      `2mi       2 ,
                                                                                    
y(i)   = f (0)g (0)h (0)v +
                                 2                        2
                                                                                                                    m=1

where v = 1/(1 − α) is the agents’ (common) Bonacich centrality, thus implying that agent i’s sys-
temic importance is determined by the value of nm=1 `2mi . On the other hand, recall from (23) that
                                                 P
Pn     2
  m=1 `mi essentially measures the variation in the extent to which agent i influences other agents
in the economy. We define the following concept:

Definition 7. The concentration centrality of agent i is di = stdev(`1i , . . . , `ni ), where L = [`ij ] is the
economy’s Leontief matrix.

      Thus, a smaller di means that agent i’s influence is more evenly distributed throughout the
economy. In other words, whereas an agent’s Bonacich centrality captures its overall influence,
concentration centrality measures how evenly the agent’s influence is distributed across the rest
  17
     The main results in this literature are in terms of agents’ eigenvector centralities, defined as a limiting case of Bonacich
centrality. In particular, the eigenvector centrality of agent i satisfies v̂i = limα→1 (1 − α)vi . See Jackson (2008) for a
discussion on other notions of centrality and their relationships to one another.


                                                               26
                                                   n
                                     (n − 1)/n

                                                  1
                                       2         n−1



                                                       1

                                       3


                                                   4

Figure 4. A regular economy where agents’ have identical centralities, but differ in their concentration cen-
tralities.


of the agents. As an example, consider the economy depicted in Figure 4. It is easy to verify that
the depicted network corresponds to a regular economy, implying that all agents have identical
Bonacich centralities. However, the extent of dispersion is not identical across agents. Rather, for
large enough values of n, d1 < di for all i 6= 1, as agent 1’s interactions are more evenly distributed
throughout the economy, whereas all other agents interact with only a handful of others.
    This discussion is summarized in the next proposition.

Proposition 6. Suppose that the economy’s interaction network is regular.

(a) If f is concave, then i is systemically more important than j if and only if di > dj .

(b) If f is convex, then i is systemically more important than j if and only if di < dj .

    Taken together, Proposition 6 and Corollary 4 suggest that while Bonacich centralities summa-
rize the first-order effects of agent-level shocks on aggregate outcomes, the second-order effects
are captured by the agents’ concentration centralities. These second-order effects become criti-
cal in a regular network, where first-order terms are simply uninformative about agents’ systemic
importance.
    Proposition 6 also reenforces an observation made by Acemoglu et al. (2015b) that relying on
standard and off-the-shelf notions of network centrality (such eigenvector or betweenness central-
ities) for the purpose of identifying systemically important agents may be misleading. As Proposi-
tion 6 suggests, the proper notion of network centrality has to be informed by the nature of microe-
conomic interactions between different agents.


6     Conclusion

This chapter presented a unified framework nesting a wide variety of network interaction models,
such as various classes of network games, models of macroeconomic risk built up from microeco-
nomic shocks, and models of financial interactions. Under the assumption that shocks are small

                                                       27
(and the relevant interactions are smooth), our main results provide a fairly complete characteriza-
tion of the equilibrium, highlighting the role of different types of network interactions in affecting
the macroeconomic performance of the economy. Our characterization delineates how microe-
conomic interactions function as a channel for the propagation of shocks and enables us to pro-
vide a comparative study of the role of the economy’s underlying network structure — as well as
its interaction and aggregation functions — in shaping macroeconomic outcomes. In addition to
clarifying the relationship between disparate models (for example, those focusing on input-output
linkages, financial contagion and general cascades), our framework also highlights some of the rea-
sons behind the apparently contradictory conclusions in the literature on to the role of network
interactions in the emergence of systemic risk.
   Our hope is that the framework provided here will be useful in future work on understanding
network interactions in general and the study of network games, macroeconomic risk and financial
contagion in particular. We believe that several important issues remain open to future research.
First, our framework focuses on an environment in which shock realizations are common knowl-
edge. Generalizing this setup to environments with incomplete and private information would en-
able us to understand the interplay between network interactions and information asymmetries. A
second direction for future research would be to apply similar analyses to economies that exhibit
richer strategic interactions (such, general imperfect competition rather than competitive or mo-
nopolistically competitive economies). Finally, a systematic investigation of endogenous network
formation in the presence of rich propagation and cascade dynamics remains an important area
for future research.




                                                  28
A    Technical Appendix

Lemma 2. Suppose that |f (z̃)−f (z)| = |z̃−z| for a pair of points z̃ > z . Then, the interaction function
f is linear in the interval [z, z̃] with a unit slope.
Proof. Pick an arbitrary point ẑ ∈ [z, z̃]. Given Assumption 1 and the monotonicity of the interaction
function, it must be the case that

                                                 f (z̃) − f (ẑ) ≤ z̃ − ẑ
                                                 f (ẑ) − f (z) ≤ ẑ − z.

Summing the above inequalities immediately implies that both inequalities have to be tight simul-
taneously. Therefore, for any ẑ in the interval [z, z̃], it must be the case that f (ẑ) = ẑ + f (z) − z .

Lemma 3. The interaction function f has at most countably many discontinuity points.
Proof. Let D denote the set of points where f is discontinuous. For any z ∈ D, define

                                                    f (z − ) = lim f (t)
                                                                 t↑z

                                                    f (z + ) = lim f (t).
                                                                 t↓z

Given the fact that f is nondecreasing, it must be the case that f (z − ) < f (z + ). Therefore, there
exists a rational number F (z) ∈ Q such that

                                               f (z − ) < F (z) < f (z + ).

Furthermore, for any pair of points z, z̃ ∈ D satisfying z < z̃ , it is immediate that F (z) < F (z̃).
Consequently, F : D → Q has to be an injection, proving that D is at most countable.

Proof of Theorem 1

We prove this result for two separate cases depending on whether (i) β < 1 or (ii) β = 1. Throughout,
we assume that the economy’s interaction network is strongly connected in the sense that there
exists a directed path from each agent to any other agent in the economy. In case of a disconnected
interaction network, the proof would apply to any connected component separately.


Case (i)   First, suppose that β < 1. Define the mapping Φ : Rn → Rn as
                                                                          
                                                            Xn
                                 Φi (x1 , . . . , xn ) = f    wij xj + i  .                                 (24)
                                                                   j=1

For any x, x̃ ∈ Rn , we have
                                                                                n
                                                                                X
                          |Φi (x1 , . . . , xn ) − Φi (x1 , . . . , xn )| ≤ β         wij (xj − x̃j )
                                                                                j=1
                                                                                n
                                                                                X
                                                                         ≤β           wij |xj − x˜j | ,
                                                                                j=1



                                                              29
where the first inequality is a consequence of Assumption 1 and the second inequality follows from
a simple application of the triangle inequality. The fact that nj=1 wij = 1 implies that
                                                              P

                               |Φi (x1 , . . . , xn ) − Φi (x1 , . . . , xn )| ≤ β max |xj − x̃j |,
                                                                                        j

and as a consequence,

                            max |Φi (x1 , . . . , xn ) − Φi (x1 , . . . , xn )| ≤ β max |xj − x̃j |.
                              i                                                             j

In other words,

                                           kΦ(x) − Φ(x̃)k∞ ≤ β kx − x̃k∞ .

Therefore, the mapping Φ is a contraction with respect to the infinity norm with a Lipschitz constant
β < 1. The contraction mapping theorem then immediately implies that the mapping has a unique
fixed point x∗ = Φ(x∗ ), for all shock realizations (1 , . . . , n ) ∈ Rn .


Case (ii)      Next, suppose that β = 1. In this case, Assumption 1 guarantees that there exists δ > 0
such that |f (z)| < δ for all z .
       Recall mapping Φ from (24). By assumption, it is continuous and maps the compact and convex
set [−δ, δ]n to itself. Therefore, by the Brouwer fixed point theorem, there exists x∗ ∈ [−δ, δ]n such
that Φ(x∗ ) = x∗ , thus proving the existence of an equilibrium.
       Next, we prove that this equilibrium is generically unique. Suppose that the economy has two
distinct equilibria, denoted by x and x̃. Let e = |x − x̃| ∈ Rn be the element-wise difference between
the two equilibria, which by assumption, is a non-zero vector. By definition, for any given agent i,
we have
                                             n
                                            X                       n
                                                                     X              
                                  ei = f             wij xj + i − f    wij x̃j + i
                                               j=1                          j=1
                                          n
                                          X
                                     ≤          wij (xj − x̃j )                                               (25)
                                         j=1
                                         n
                                         X
                                     ≤         wij ej ,                                                       (26)
                                         j=1

where the first inequality is a consequence of Assumption 1. We now show that both inequalities
above are tight for all agents i.
                                                                                                       Pn
       Suppose that either inequality holds strictly for some agent i, implying that ei <               j=1 wij ej .
Let q ∈     Rn   denote the left eigenvector corresponding to the top eigenvalue of matrix W . By the
Perron-Frobenius theorem, vector q is element-wise strictly positive.18 Multiplying both sides by qi
and summing over all agents i implies that
                                         n
                                         X                n X
                                                          X n                     n
                                                                                  X
                                               qi e i <             qi wij ej =         qj e j ,
                                         i=1              j=1 i=1                 j=1
  18
       For more on the Perron-Frobenius theorem, see Chapter 2 of Berman and Plemmons (1979).


                                                                30
leading to a contradiction. Therefore, it is immediate that (25) and (26) hold as equalities, thus
implying that ei = nj=1 wij ej for all agents i, or in matrix notation, W e = e.
                  P

   Consequently, by the Perron-Frobenius theorem, e has to be proportional to the Perron vector
of matrix W which is the vector of all ones. In other words, ei = c for all i and some strictly positive
constant c. Furthermore, the fact that (26) holds as an equality implies that xi − x0i has the same sign
for all i. Assuming that xi < x̃i , it must be the case that x̃i = xi + c for all agents i.
   Summarizing the above implies that for all agent i,
                                                            
                                             X n
                                   xi = f       wij xj + i 
                                                          j=1

and
                                                                    
                                                   Xn
                                       xi + c = f    wij xj + i + c .
                                                       j=1
                Pn
Letting zi =     j=1 wij xj   + i and subtracting both sides of the above equalities lead to

                                             |f (zi + c) − f (zi )| = c.

Thus, by Lemma 2, the interaction function f has to be linear with a unit slope within the interval
[zi , zi + c]. Consequently, there exists some constant bi such that f (z) = z + bi for all z ∈ [zi , zi + c].
Therefore,
                                                    n
                                                    X
                                            xi =          wij xj + i + bi
                                                    j=1

for all i. Multiplying both sides of the above equality by qi and summing over all agents i lead to
                                              n
                                              X                  n
                                                                 X
                                                    q i i = −         qi bi ,                               (27)
                                              i=1                i=1
                                                     Pn
where once again we are using the fact that               i=1 qi wij   = qj . Therefore, the economy has two dis-
tinct equilibria if and only if the agent-level shocks satisfy (27). Now, Lemma 3 guarantees that
there are at most countably many of such values bi , as otherwise the interaction function f would
have uncountably many points of discontinuity. In other words, for the economy to have multiple
equilibria, the term ni=1 qi i has to belong to a countable set B . This coupled with the observa-
                    P

tion that qi > 0 guarantees that the economy has a unique equilibrium for a generic set of shock
realizations.

Proof of Corollary 3

Suppose that f is concave. The proof for the case in which f is convex is identical. Recall from
Equation (22) that the ex ante performance the economy is decreasing in ni=1 nm=1 `2mi , which
                                                                         P P

can be rewritten as
                                            n X
                                            X n
                                                      `2mi = trace(L2 ).
                                            i=1 m=1


                                                           31
Denoting the k -th largest eigenvalue of a generic matrix X with λk (X), we have:
                                           n                   n
                                                                     (1 − αλk (W ))−2 ,
                                           X                   X
                                       2
                            trace(L ) =          λ2k (L)   =
                                           k=1                 k=1

where the second inequality is a consequence of the fact that L = (I − αW )−1 .
                                                                             Pn
   On the other hand, the assumption that wii = 0 implies that trace(W ) =      k=1 λk (W ) = 0,
        Pn
whereas j=1 wij = 1 guarantees that λ1 (W ) = 1. Putting these two observation together implies
that nk=2 λk (W ) = −1. Therefore,
    P

                                                           n
                                           1
                                                      (1 − αλk (W ))−2
                                                  X
                                   2
                           trace(L ) =          +                                                  (28)
                                       (1 − α)2
                                                  k=2
                                                                    −2
                                           1                     α
                                     ≥          + (n − 1) 1 +            ,                         (29)
                                       (1 − α)2                 n−1

where the second equality is due to the fact that function Q(z) = (1 − αz)−2 is convex. On the other
hand, it easy to show that for the complete network, λk (W ) = −1/(n − 1) for all k 6= 1. Therefore, the
complete network obtains the lower bound in (29), and hence, has maximal ex ante performance
when the interaction function is concave.




                                                       32
References
Acemoglu, Daron, David Autor, David Dorn, Gordon H. Hanson, and Brendan Price (2015a), “Import
  competition and the Great U.S. Employment Sag of the 2000s.” Journal of Labor Economics.

Acemoglu, Daron, Vasco M. Carvalho, Asuman Ozdaglar, and Alireza Tahbaz-Salehi (2012), “The
  network origins of aggregate fluctuations.” Econometrica, 80, 1977–2016.

Acemoglu, Daron, Camilo Garcia-Jimeno, and James A. Robinson (2014a), “State capacity and eco-
  nomic development: A network approach.” NBER Working Paper No. 19813.

Acemoglu, Daron, Azarakhsh Malekian, and Asuman Ozdaglar (2013), “Network security and con-
  tagion.” NBER Working Paper No. 19174.

Acemoglu, Daron, Asuman Ozdaglar, and Alireza Tahbaz-Salehi (2014b), “Microeconomic origins of
  macroeconomic tail risks.” NBER Working paper No. 20865.

Acemoglu, Daron, Asuman Ozdaglar, and Alireza Tahbaz-Salehi (2014c), “Systemic risk in endoge-
  nous financial networks.” Columbia Business School Working Paper.

Acemoglu, Daron, Asuman Ozdaglar, and Alireza Tahbaz-Salehi (2015b), “Systemic risk and stability
  in financial networks.” American Economic Review, 105.

Allen, Franklin and Douglas Gale (2000), “Financial contagion.” Journal of Political Economy, 108,
  1–33.

Allouch, Nizar (2012), “On the private provision of public goods on networks.” Fondazione Eni En-
  rico Mattei: Nota di lavoro 40.2012.

Alvarez, Fernando and Gadi Barlevy (2014), “Mandatory disclosure and financial contagion.” Federal
  Reserve Bank of Chicago Working Paper No. 2014-04.

Babus, Ana (2014), “The formation of financial networks.” Discussion Paper 06-093, Tinbergen In-
  stitute.

Badev, Anton (2013), “Discrete games in endogenous networks: Theory and policy.” Population
  Studies Center Working Paper 13-05, University of Pennsylvania.

Bak, Per, Kan Chen, José Scheinkman, and Michael Woodford (1993), “Aggregate fluctuations from
  independent sectoral shocks: self-organized criticality in a model of production and inventory
  dynamics.” Ricerche Economiche, 47, 3–30.

Bala, Venkatesh and Sanjeev Goyal (2000), “A noncooperative model of network formation.” Econo-
  metrica, 68, 1181–1229.

Ballester, Coralio, Antoni Calvó-Armengol, and Yves Zenou (2006), “Who’s who in networks. Wanted:
  The key player.” Econometrica, 74, 1403–1417.

Banerjee, Abhijit, Arun G. Chandrasekhar, Esther Duflo, and Matthew O. Jackson (2013), “The diffu-
  sion of microfinance.” Science, 341.

Banerjee, Abhijit, Arun G. Chandrasekhar, Esther Duflo, and Matthew O. Jackson (2014), “Gossip:
  Identifying central individuals in a social network.” Working paper.




                                               33
Battiston, Stefano, Domenico Delli Gatti, Mauro Gallegati, Bruce Greenwald, and Joseph E. Stiglitz
  (2012), “Liaisons dangereuses: Increasing connectivity, risk sharing, and systemic risk.” Journal of
  Economic Dynamics and Control, 36, 1121–1141.

Berman, Abraham and Robert J. Plemmons (1979), Nonnegative Matrices in the Mathematical Sci-
  ences. Academic Press, New York.

Bernstein, Shai and Eyal Winter (2012), “Contracting with heterogeneous externalities.” American
  Economic Journal: Microeconomics, 4, 50–76.

Blume, Lawrence, David Easley, Jon Kleinberg, Robert Kleinberg, and Éva Tardos (2011), “Which
  networks are least susceptible to cascading failures?” In 52nd IEEE Annual Symposium on Foun-
  dations of Computer Science (FOCS), 393–402.

Bramoullé, Yann and Rachel Kranton (2007), “Public goods in networks.” Journal of Economic The-
  ory, 135, 478–494.

Bramoullé, Yann and Rachel Kranton (2015), “Network games.” In Oxford Handbook on the Eco-
  nomics of Networks (Yann Bramoullé, Brian W. Rogers, and Andrea Galeotti, eds.), Oxford Univer-
  sity Press, Oxford.

Bramoullé, Yann, Rachel Kranton, and Martin D’Amours (2014), “Strategic interaction and net-
  works.” American Economic Review, 104, 898–930.

Cabrales, Antonio, Douglas Gale, and Piero Gottardi (2015), “Financial contagion in networks.” In
  The Oxford Handbook on the Economics of Networks (Yann Bramoullé, Andrea Galeotti, and Brian
  Rogers, eds.), Oxford University Press.

Cabrales, Antonio, Piero Gottardi, and Fernando Vega-Redondo (2014), “Risk-sharing and contagion
  in networks.” CESifo Working Paper No. 4715.

Calvó-Armengol, Antoni and Matthew O Jackson (2004), “The effects of social networks on employ-
  ment and inequality.” American Economic Review, 426–454.

Calvó-Armengol, Antoni, Eleonora Patacchini, and Yves Zenou (2009), “Peer effects and social net-
  works in education.” Review of Economic Studies, 76, 1239–1267.

Calvó-Armengol, Antoni and Yves Zenou (2004), “Social networks and crime decisions: The role of
  social structure in facilitating delinquent behavior.” International Economic Review, 45, 939–958.

Candogan, Ozan, Kostas Bimpikis, and Asuman Ozdaglar (2012), “Optimal pricing in networks with
  externalities.” Operations Research, 60, 883–905.

Caplin, Andrew and John Leahy (1993), “Sectoral shocks, learning, and aggregate fluctuations.” Re-
  view of Economic Studies, 60, 777–794.

Carvalho, Vasco M. (2014), “From micro to macro via production networks.” Journal of Economic
  Perspectives, 28, 23–48.

Carvalho, Vasco M., Makoto Nirei, Yukiko Saito, and Alireza Tahbaz-Salehi (2015), “Supply chain
  disruptions: Evidence from the Great East Japan Earthquake.” Working paper.

Chamley, Christophe and Douglas Gale (1994), “Information revelation and strategic delay in a
  model of investment.” Econometrica, 62, 1065–1085.


                                                 34
di Giovanni, Julian, Andrei A. Levchenko, and Isabelle Méjean (2014), “Firms, destinations, and ag-
  gregate fluctuations.” Econometrica, 82, 1303–1340.

Durlauf, Steven N. (1993), “Nonergodic economic growth.” Review of Economic Studies, 60, 349–366.

Dziubiński, Marcin and Sanjeev Goyal (2014), “How to defend a network?” Cambridge-INET Insti-
 tute working Paper No: 2014/01.

Eisenberg, Larry and Thomas H. Noe (2001), “Systemic risk in financial systems.” Management Sci-
  ence, 47, 236–249.

Elliott, Matthew and Benjamin Golub (2014), “A network approach to public goods.” Working paper.

Elliott, Matthew, Benjamin Golub, and Matthew O. Jackson (2014), “Financial networks and conta-
  gion.” American Economic Review, 104, 3115–3153.

Erol, Selman and Rakesh Vohra (2014), “Network formation and systemic risk.” PIER Working Paper
  No. 14-029.

Farboodi, Maryam (2014), “Intermediation and voluntary exposure to counterparty risk.” Working
  Paper.

Foerster, Andrew T., Pierre-Daniel G. Sarte, and Mark W. Watson (2011), “Sectoral versus aggregate
  shocks: A structural factor analysis of industrial production.” Journal of Political Economy, 119,
  1–38.

Freixas, Xavier, Bruno M. Parigi, and Jean-Charles Rochet (2000), “Systemic risk, interbank relations,
  and liquidity provision by the central bank.” Journal of Money, Credit and Banking, 32, 611–638.

Gabaix, Xavier (2011), “The granular origins of aggregate fluctuations.” Econometrica, 79, 733–772.

Gai, Prasanna, Andrew Haldane, and Sujit Kapadia (2011), “Complexity, concentration and conta-
  gion.” Journal of Monetary Economics, 58, 453–470.

Gai, Prasanna and Sujit Kapadia (2010), “Contagion in financial networks.” Proceedings of the Royal
  Society A: Mathematical, Physical and Engineering Science, 466, 2401–2423.

Galeotti, Andrea, Sanjeev Goyal, Matthew O. Jackson, Fernando Vega-Redondo, and Leeat Yariv
  (2010), “Network games.” Review of Economic Studies, 77, 218–244.

Galeotti, Andrea and Brian W. Rogers (2013), “Strategic immunization and group structure.” Ameri-
  can Economic Journal: Microeconomics, 5, 1–32.

Giesecke, Kay and Stefan Weber (2006), “Credit contagion and aggregate losses.” Journal of Eco-
  nomic Dynamics and Control, 30, 741–767.

Glasserman, Paul and H. Peyton Young (2015), “How likely is contagion in financial networks?” Jour-
  nal of Banking & Finance, 50, 383–399.

Golub, Benjamin and Matthew O. Jackson (2010), “Naı̈ve learning in social networks and the wisdom
 of crowds.” American Economic Journal: Microeconomics, 2, 112–149.

Goyal, Sanjeev and José Luis Moraga-González (2001), “R&D networks.” The RAND Journal of Eco-
 nomics, 32, 686–707.



                                                 35
Granovetter, Mark (1978), “Threshold models of collective behavior.” American Journal of Sociology,
  83, 1420–1443.

Jackson, Matthew O. (2008), Social and Economic Networks. Princeton University Press, Princeton,
  NJ.

Jackson, Matthew O. and Yves Zenou (2015), “Games on networks.” In Handbook of Game Theory
  with Economic Applications (H. Peyton Young and Shmuel Zamir, eds.), volume 4, 91–157, Else-
  vier, Amsterdam.

Jadbabaie, Ali, Pooya Molavi, Alvaro Sandroni, and Alireza Tahbaz-Salehi (2012), “Non-Bayesian so-
  cial learning.” Games and Economic Behavior, 76, 210–225.

Jadbabaie, Ali, Pooya Molavi, and Alireza Tahbaz-Salehi (2013), “Information heterogeneity and the
  speed of learning in social networks.” Columbia Business School Working Paper No. 13-28.

Jones, Charles I. (2013), “Misallocation, economic growth, and input-output economics.” In Pro-
  ceedings of Econometric Society World Congress (Daron Acemoglu, Manuel Arellano, and Eddie
  Dekel, eds.), Cambridge University Press.

Long, John B. and Charles I. Plosser (1983), “Real business cycles.” Journal of Political Economy, 91,
  39–69.

Morris, Stephen (2000), “Contagion.” Review of Economic Studies, 67, 57–78.

Plosser, Charles I. (2009), “Redesigning financial system regulation.” Speech at the New York Uni-
  versity Conference “Restoring Financial Stability: How to Repair a Failed System”.
  http://www.phil.frb.org/publications/speeches/plosser/2009/03-06-09 nyu-restoring-
  financial-stability.pdf.

Schmitt-Grohé, Stephanie and Martı́n Uribe (2004), “Solving dynamic general equilibrium models
  using a second-order approximation to the policy function.” Journal of Economic Dynamics and
  Control, 28, 755–775.

Vivier-Lirimont, Sébastian (2006), “Contagion in interbank debt networks.” Working Paper.

Watts, Duncan J. (2002), “A simple model of global cascades on random networks.” Proceedings of
 the National Academy of Sciences of the United States of America, 99, 5766–5771.

Zawadowski, Adam (2013), “Entangled financial systems.” Review of Financial Studies, 26, 1291–
  1323.

Zenou, Yves (2015), “Key players.” In The Oxford Handbook on the Economics of Networks (Yann
  Bramoullé, Andrea Galeotti, and Brian Rogers, eds.), Oxford University Press.




                                                 36
