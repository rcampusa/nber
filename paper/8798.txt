                                 NBER WORKING PAPER SERIES




    UNOBSERVED PRODUCT DIFFERENTIATION IN DISCRETE CHOICE MODELS:
          ESTIMATING PRICE ELASTICITIES AND WELFARE EFFECTS


                                          Daniel A. Ackerberg
                                            Marc Rysman


                                          Working Paper 8798
                                  http://www.nber.org/papers/w8798


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                      February 2002




The views expressed herein are those of the authors and not necessarily those of the National Bureau of
Economic Research.


© 2002 by Daniel A. Ackerberg and Marc Rysman. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including © notice, is
given to the source.
Unobserved Product Differentiation in Discrete Choice Models:
Estimating Price Elasticities and Welfare Effects
Daniel A. Ackerberg and Marc Rysman
NBER Working Paper No. 8798
February 2002
JEL No. L10, C25



                                              ABSTRACT

        Standard discrete choice models such as logit, nested logit, and random coefficients models place
very strong restrictions on how unobservable product space increases with the number of products. We
argue (and show with Monte Carlo experiments) that these restrictions can lead to biased conclusions
regarding price elasticities and welfare consequences from additional products. In addition, these
restrictions can identify parameters which are not intuitively identified given the data at hand. We suggest
two alternative models that relax these restrictions, both motivated by structural interpretations.
Monte-Carlo experiments and an application to data show that these alternative models perform well in
practice.




Daniel A. Ackerberg                                               Marc Rysman
Department of Economics                                           Boston University
UCLA                                                              Boston, MA 02215
8283 Bunche Hall
Los Angeles, CA 90095
and NBER
ackerber@econ.ucla.edu
1 Introduction

The recent literature in applied economics, and empirical Industrial Organization in particular, has often

turned to discrete choice models to estimate demand for differentiated products or different alternatives. In

these models, consumer utility functions, market shares, and substitution patterns depend on differentiated

characteristics that are observed by the econometrician. In addition, these models also typically allow for

unobserved product characteristics through the inclusion some form of “symmetric unobserved product

differentiation” (SUPD)1

    The most common example of SUPD are logit errors in consumers’ utility functions (see McFadden,

1974). These logit errors represent unobserved (to the econometrician) product differentiation that is sym-

metric across products. The economic justi¿cation for including unobservable product differentiation is that

an econometrician typically does not observe all of the product characteristics that are relevant to consumers’

choices. From an econometric standpoint, allowing for unobservable product differentiation often prevents

these models from predicting zero market shares, an obviously desirable feature. Its inclusion can also ease

estimation.

    This paper argues that while SUPD in itself may be helpful, standard models (e.g. logit models, probit

models, nested logit models, and random coef¿cient models) implement it in an undesirable way. These

models assume that the number of products or alternatives available in a market and the dimensionality of

SUPD are linked in an extremely particular way. Speci¿cally, each product added to the market adds one

additional dimension to SUPD space. This results in very little “congestion” in unobserved characteristic

space and can be problematic in situations where different consumers face different numbers of products,

either because consumers are drawn from different geographies or from different time periods.2 Researchers

may intuitively think that in markets with more products, characteristic space should “¿ll up” in some

sense. These standard models place strong restrictions on how this occurs with regards to unobservable
   1 Notable exceptions are Bresnahan (1987) and Feenstra and Levinsohn (1994).
   2 There are many examples in the literature. Berry and Waldfogel (1999) and Rysman (2002) face cross-sectional variation in the

number of available products. Berry, Levinsohn and Pakes (1995), Bresnahan, Stern and Trajtenberg (1997) and Petrin (1999) face

temporal variation. Nevo (2002) and Shum (1998) face both. Arcidiacono (2000) studies high school students choosing colleges

after acceptance letters have been received, so his “consumers” face different number of “products” because of an institutional

process. This list is very far from exhaustive.




                                                                2
characteristics.

    We show that these restrictions play a major role in econometric identi¿cation of two of the major

quantities of interest in differentiated product markets. First are the welfare effects of new products. This

problem is one that has been recognized, e.g. in Trajtenberg (1990) Petrin (1999) and Berry and Pakes

(1999). Because of the lack of crowding in the standard treatment of SUPD, welfare calculations in these

models tend to overpredict gains from the introduction of new products. This problem has potentially serious

implications for policy issues such as the construction of price indices.

    Second and less recognized are the implications of SUPD on estimated substitution patterns. We ar-

gue that using the standard versions of SUPD can lead to misleading econometric conclusions regarding

price elasticities, both in terms of magnitudes and statistical signi¿cance. The basic idea here is that the

restrictions of standard SUPD force variation in the number of products in the choice set to identify (or

help identify) price elasticites. Interestingly, we show that with these restrictions, one can “identify” price

elasticites without ever observing any variation in prices. We feel that this source of identi¿cation is ad-hoc

since it relies completely on the precise assumption that there is very little congestion in unobserved product

characteristic space. This source of identi¿cation is even more unreliable if, as is often the case, “de¿ning”

different products has some arbitrariness to it.3

    There are two previous approaches in the literature that address these issues. The ¿rst set of work (e.g.

Berry, Levinsohn and Pakes (1995) - henceforth BLP, and Petrin) tries to reduce the importance of SUPD

by linking substitution patterns to observable continuous characteristics (e.g. BLP) or observed groupings

(e.g. the nested logit). The basic idea is to keep SUPD (e.g.. logit errors) in the model but, by allowing

signi¿cant amounts of heterogeneity in tastes around observed product characteristics, attempt to reduce

SUPD’s importance. These methodologies have worked to varied extents in reducing the inÀuence of SUPD

– success is proportional to the econometrician’s ability to observe the relevant differentiated characteristics.

However, as inÀexible SUPD still exists in these models, its effects still exist.

    A second and more recent approach, advocated by Berry and Pakes (1999) and Bajari and Benkard

(2001), eliminates SUPD altogether from the model. In their “pure hedonic” models, products are un-
  3 For example, with cars and computers, the empirical de¿nition of what constitutes a “choice” clearly has some arbitrariness to

it (e.g. BMW 3 Series vs (BMW 330, BMW 325) vs. (BMW 330i, BMW 330Ci, BMW 330 Ci Convertible).




                                                               3
observably differentiated only with respect to a single dimensional unobserved characteristic.4                    As new

products enter, this unobserved product space ¿lls up. We envision a couple of potential limitations of this

type of model. First, this approach might be unreasonably restrictive in the opposite direction from the

standard models. While there is a sense that unobserved product space expands too much with logit errors,

there is a sense that it expands too little with the pure hedonic models. It may be restrictive to disallow new

products from expanding unobserved characteristic space (e.g. differentiate in new dimensions). Again we

expect this restriction to be less signi¿cant as the econometrician is able to observe more of the relevant

characteristics - this will depend on the empirical application. These models can also be more complex to

estimate than models including a logit error.

     This paper suggests a third approach, which we interpret as somewhat of a compromise between the

above two.     We argue that it is only the unnecessary inÀexibility of standard SUPD that can adversely

affect parameters of interest such as substitution patterns and welfare effects. As such, we keep SUPD in

our model, but allow the SUPD to be considerably more Àexible than is currently used. This Àexibility

allows an econometrician to estimate how fast unobserved product space expands with the addition of new

products, not assume it, as prior work does.

     In essence, our approach allows functions of the number of products in a market (and/or the number of

products in a group or nest) to enter the discrete choice estimating equation. While this might initially seem

ad hoc, we show that each of these models have an intuitive and realistic structural interpretation.

     The ¿rst structural model is one of retail product congestion. Products in this model are sold through

a retail market with a limited number of stores. As new products enter the market, they can “crowd out”

existing products from retail stores. This model generates an additive adjustment to the estimating equation

which is a function of the number of products. The second model allows the variance of the logit error to be

smaller in markets with more products. We show how this feature can arise from a model in which products

in crowded markets differentiate into dimensions that consumers care less about. This model generates a

multiplicative adjustment of the estimating equation, also a function of the number of products.

     We proceed as follows. In Section 2 we argue that 1) traditional discrete choice models place unnec-

essary restrictions on SUPD, 2) that these restrictions can “identify” parameters that intuitively should not
   4 Feenstra and Levinsohn (1995) also estimate a multidimensional pure hedonic model, albeit without any unobserved charac-

teristics.



                                                             4
be identi¿ed, and 3) that these restrictions can bias parameters of interest. Section 3 introduces our two

models of product congestion and discusses their estimation. In Section 4, we present Monte-Carlo results

which show that in the presence of product congestion, standard estimation procedures can give biased re-

sults (sometimes very large) and that these biases tend to be in particular directions. Section 5 applies our

techniques to a data set previously used in Rysman (2002).

     Lastly, note that much of our applications are focused on the context of estimating aggregated discrete

choice models. The reason that we focus on aggregated discrete choice models is that these tend to be

estimated on data across markets (in space or time) where one often observes changes in the size of the

choice set. As our technique is expressly for dealing with such changes, this is where it is most applicable

and probably most relevant. However, our comments and techniques are equally applicable for discrete

choice models estimated on individual level data (e.g. product, employment, or transportation choice) when

there are changes in the choice set over individuals or time.



2      Unobserved Differentiation in Common Discrete Choice Models

This section ¿rst argues that error structures used in traditional discrete choice models are unnecessarily

restrictive, which leads to undesirable identi¿cation results. Second, the section shows that these restrictions

have adverse affects on parameters of interest such as price elasticities and welfare calculations. We also

brieÀy suggest our solutions to the problem, though this is formalized and further motivated in Section 3.

Throughout, we use the nested logit model to illustrate our points. However, our arguments extend to other

discrete choice models as well.5


2.1 Identi¿cation

We use derivative-based identi¿cation arguments to show how the nested logit model handles economically

interesting variation in a restrictive way. For exposition, assume there are J products and an outside option,

labelled product 0. The J products are in one nest g and the outside option is in a nest by itself. In the nested
    5 In particular, it applies to random coef¿cients models. Note that the nested logit model is a special case of a random coef¿cients

model where random coef¿cients are only on group dummy variables.




                                                                   5
logit model, the utility obtained by consumer i from product j ( j                      0) is:


                                               u i j  ; 0  X j ; 1  ? ig  > i j


where > i j is distributed Extreme Value with variance HE2 2 3, ? ig is constant for each individual across the

product nest and ? ig is distributed such that ? ig  i j is distributed Extreme Value with variance HE1 2 3.

As is standard, we assume u i0  ? i0  > i0 , normalizing the mean utility of the outside option to 0. The

variance scale parameters E1 and E2 are not separately identi¿ed but the ratio E2 E1 is, so it is useful to

de¿ne the parameter J  E2 E1 , and normalize E2  1 In what follows, we interpret X j as the price of

product j , but our arguments trivially apply to elasticities with respect to general product characteristics.6

    This model implies that the within-group market share for j is:
                                                     b            c
                                                exp ; 0  X j ; 1
                                      s j g  3J       b              c
                                               k 1 exp ; 0  X k ; 1
                3J
Letting D         k 1 exp; 0    X k ; 1 , the group and total market shares are:

                                                        DJ
                                               sg                     s j  s j g sg
                                                      1  DJ

Researchers observe 3 forms of variation under the nested logit model. The ¿rst type is variation in within-

group market shares due to changes in observable product characteristics. Looking at this derivative tells us

what parameters are identi¿ed by this type of variation. That comparative static is:

                                                   "s j g
                                                           ; 1 s j g 1  s j g 
                                                   "Xj

Therefore, this type of variation identi¿es ; 1 . The second type of variation is variation in group market

shares due to changes in observable product characteristics. The third type of variation is variation in group

shares due to changes in the number of products. In order to focus on group-level changes, assume X j  X

1 j . In that case, the derivatives of group share sg with respect to X and J are:

                                     "sg                               "sg    sg 1  sg 
                                          J ; 1 sg 1  sg               J
                                     "X                                "J           J
   6 We ignore endogeneity issues regarding. price, which has been a focus of the prior literature. These issues are completely

independent of the point we are making, which is valid whether price movements are purely exogenous or whether they are endoge-

nous and one must ¿nd some exogenous source of price variation. We also follow the existing literature by assuming that product

characteristics (other than price) and the number of products in the market is exogenous.


                                                                 6
Therefore, there are two sources of identi¿cation for J : cross-group switching from changes in the number

of products and cross-group switching from changes in observed characteristics. There are also two sources

of identi¿cation for ; 1 : within-group switching from changes in observed characteristics and cross-group
                                                                                                        "s   " sg           "s j
switching from changes in observed characteristics. Three comparative statics ( " Xg                        "J
                                                                                                                     and   "X j
                                                                                                                                    are cap-

tured by only two parameters (; 1 and J ), so the model implies a restrictive relationship between the effects.7

The easiest way to see this restriction is to note that the nested logit model assumes that the ratio between
" sg          " sg                                              "s j g
"X
        and   "J
                     is ; 1 J , but ; 1 could be identi¿ed by   "Xj
                                                                         .

        These features have perverse implications for identi¿cation. Observing markets where product charac-

teristics (or price) differ across markets but the number of products is the same in all markets can identify

both J and ; 1 . Therefore, a researcher can identify the effect of adding a product to the choice set without

ever observing variation in the number of products. Even more unintuitively, one can identify cross-price

elasticities of products within the group without ever observing changes in relative prices of the products (for

an example of this, see the start of Section 3.1). In our Monte Carlo results, we show that even when there

are “good” sources of identi¿cation, e.g. relative price variation to identify price elasticities, potentially

spurious identi¿cation from changes in the number of products in the choice set can bias these elasticities.

Lastly, note that one way to summarize the basic intuition here is that all of the parameters in standard

discrete choice models can be identi¿ed by estimating only in markets with the same number of products.

Therefore, any variation due to the fact that markets have different numbers of products is necessarily han-

dled in a restrictive way.


2.2 Implications for Estimating Elasticities and Welfare

Why do standard discrete choice models identify effects that intuitively should not be identi¿ed? Because

they make very restrictive assumptions about the relationship between unobservable characteristic space

and the number of products. Speci¿cally, standard discrete choice models assume that markets with a high

number of products are no more crowded (in unobserved characteristic space) than markets with a small

number of products. For instance, we can write utility in the nested logit model in terms of dummy variables

for products (d j :
       7 Note that the constant term ; is identi¿ed by the level of market shares relative to the outside good.
                                      0




                                                                         7
                                u i j  ; 0  X j ; 1  ? ig  d1 > i1    d J > i J j     0

One might expect a new product to crowd out the initial unobserved product space. But the J th product

differentiates in an entirely new dimension (that of d J ) which is associated with an entire new set of logit

errors, so the dimensionality of unobserved product space expands with the addition of the new product.

    An implication of this restriction is that all products are “equi-distant” from each other in unobserved

characteristic space and this distance remains constant as the number of products in the market changes.

Precisely, if one randomly chooses two products in each of two markets, the expected difference between

u i1 and u i2 is the same regardless of the number of products in the markets (for ease, suppose that X j  X

1 j ). This is counterintuitive in the following way. With classical product differentiation models such as the

Hotelling model or the Salop circular model in mind, one would naturally expect products in markets with

more products to be “closer” in characteristic space.8 This restriction of logit based models ends up playing

a strong role in identifying price elasticities, as exhibited in the previous section.

    There are a couple of additional perverse implications resulting from the lack of crowding. First, we

expect these models to relatively under-predict elasticities in markets with more products (as they assume

away congestion in large markets). We examine this issue in Monte-Carlo experiments. There is also a

problem valuing new products. Because there is no crowding, we expect valuations of new products to be

overestimated. This point regarding welfare has been made in previous work (Petrin (1999), Trajtenburg

(1990)) and is also exempli¿ed in our Monte-Carlo experiments.9


2.3 Proposed Solutions

We now brieÀy suggest two adjustments to these logit based models. These adjustments allow the models to

deal with product crowding in a much more Àexible way, alleviating the overidenti¿cation discussed above.
   8 For example, consider a Hotelling model where products space themselves out as much as possible. With two products in the

market, the expected distance between two randomly chosen products (without replacement) is trivially 1, with 3 products in the

market, the expected difference is 1/3*1 + 2/3*1/2 = 2/3, with 4 products it is 3/6*1/3 + 2/6*2/3 + 1/6*1 = 5/9, with 5 products it

is 4/10*1/4 + 3/10*2/4 + 2/10*3/4 + 1/10*1 = 1/2.
   9 The CES demand system also does not display crowding, and is in fact subject to many of the criticisms about elasticities and

welfare effects that we make of the logit. Extensions of the additive and multiplicative adjustment to the CES model are available

from the authors.


                                                                8
At the same time, our approach allows for the estimation of the rate at which the dimensionality of product

space increases. For sake of clarity, we present both models in terms of the nested logit model, but either

adjustment is applicable to other models, such as the logit and the random coef¿cients model.

    In the additive model, we add a function f J  <  with parameter < to the term ; 0  X j ; 1  We show

in the next section how an additive model with f J  <  declining in J can arise from a model of retail

crowding. In the additive case, the within-group share function is:



                                                exp; 0  X j ; 1  f J  < 
                                      s j g  3J
                                               k 1 exp; 0  X j ; 1  f J  < 

Now, the three comparative statics discussed above are:
                                                                                                  t                 u
        "s j g                          "sg                                "sg                        1    )
                ; 1 s j g 1  s j g       J ; 1 sg 1  sg                 J sg 1  sg           f J  < 
        "Xj                             "X                                 "J                         J
The ¿rst 2 comparative statics are the same as before, but the third now depends on parameters in the new

function. This feature gives the nested logit model the ability to match all of the observed variation. Now the

parameter J can be clearly interpreted as capturing cross-group variation due to variation in characteristics

(such as price) while the parameters in the new function capture cross-group variation due to changes in the

number of products.

    In the multiplicative model, we allow the variance of the unobservable portion of utility to depend on

the number of products. In the nested logit model, this means de¿ning E2  E2 J  K .10 If E2) J  K   0,

products in crowded markets are in a sense closer together. Equivalently, additional products are differen-

tiated into dimensions that consumers care less about. We formalize this point in the next section. In the

multiplicative model, the within-group market share function is:

                                                                  r         s
                                                            exp
                                                                X j ;1
                                                                      ;0
                                                               E2  J  K 
                                              sj g   3         r                s
                                                        J          ;0Xk ;1
                                                       k 1 exp     E2  J  K 


As with the additive model, parameters in E2 J  K  give the model the extra lever required to match the

three comparative statics.

    Now consider the effects of the additive and multiplicative adjustments on welfare and elasticity calcu-

lations. Clearly, estimating f ) J  <   0 would allow the additive model to ¿nd smaller welfare bene¿ts
 10 If E depends on J then E (and J ) does also We address this issue in Section 3.4
        2                    1


                                                                9
as the number of products increases. Similarly, the multiplicative adjustment allows for attenuated welfare

bene¿ts from high numbers of products. Also, these adjustments affect elasticities. In particular, allowing

crowding (either f ) J  <   0 or E2) J  K   0) results in greater increases in elasticities as markets become

crowded then those implied by standard models.



3 A Structural Interpretation

In this section, we exhibit structural models that generate the adjustments suggested in the previous sec-

tion. Doing so provides a structural interpretation of the new parameters, which can aid in understanding

and adding further to the model (for instance, writing a ¿rst-order condition for the producers). First, we

show how the additive adjustment can arise from a model of retail congestion. Second, we show how the

multiplicative adjustment can arise from a model in which products in crowded markets differentiate into

dimensions that consumers care less about.


3.1 A Model of Product Congestion

We begin with a story. Suppose one is interested in estimating a nested logit model of competition between

fast food ¿rms (one nest is the fast food restaurants and one nest is a composite “outside” good). Data is

obtained on prices and market shares for two time periods of data. In the ¿rst time period, there is only one

¿rm, M D, and in the second period, there is entry and thus two ¿rms, M D and B K . Suppose that prices

are identical for all ¿rms in all periods, that in the ¿rst period, M D has a 50% market share, and that in the

second period, both M D and B K have 25% market shares.

    Since the entry of B K “steals” market share only from M D (and not the outside alternative), a nested

logit model will necessarily estimate J  0, i.e. that the within-group variance is zero. This J  0

implies 1) that MD and BK are identical in all respects to all consumers, and 2) that the cross price-elasticity

between MD and BK is in¿nite Note that identi¿cation here has come solely from changes in the number

of products, as there is no variation in prices.

    Now consider an alternative story of what is going on in this data. Suppose these ¿rms operate through

outlets (franchises), and there is important geographical differentiation (i.e. all else equal, consumers tend

to go to the nearest outlet location). Other than geographic differentiation through their outlets locations,


                                                         10
the food served by B K and M D is identical. In the ¿rst period, there are two outlets, both franchised to

M D. In the second period there are also two outlets, but one of the M D outlets has been taken over by

B K . Since prices remain constant and M D and B K serve identical food, this story is perfectly consistent

with the market share data above. But is the nested logit prediction of in¿nite price elasticities correct in

this example? We would expect not. Due to the strong geographic differentiation, we would expect a price

cut by B K to only partially cut into M D’s market share. The nested logit model estimate of J  0 is

highly misleading here - unintuitive restrictions of the model (rather than valid price variation) is incorrectly

identifying price elasticities to be in¿nite.

    The intuition behind this story can motivate a structural model in which J enters the discrete choice

estimating equation. In the example, unobserved product space (in this case franchise locations) is subject

to congestion - the entry by B K reduces the number of outlets M D has. This “crowding” at the outlet level

confounds the observation that a new product has entered. Standard logit based models simply do not deal

with such congestion well - hence the incorrectly predicted price elasticities. We now present a formal model

of such retail crowding or product congestion that deals with this issue. If we were to take this model (or the

multiplicative model introduced below) to the fast food data described above - price elasticities would not

be identi¿ed - an intuitive outcome given the lack of any variation in prices.

    Suppose that the products of interest are sold through a retail market consisting of R retail outlets. As

in the above example, we consider the standard case where market shares are observed at the product level

- data at the retail outlet level is not observed. Modelling unobserved retail outlets is simply a way of

motivating our more general logit errors. Assume that each retail outlet sells only one of the wholesale
                                                                3
products, and that product j is sold in R j retail outlets where j R j  R. The twist of our congestion

model is that logit errors represent idiosyncratic, unobserved consumer preferences over retail outlets rather

than over products (In the next section we expand the model to one in which consumers have logit errors

based around both retail outlets and products). Precisely, the logit utility function for consumer i purchasing

from retail outlet r takes the following form:




                                                 Ui jr  u j  > ir


where u j measures mean product quality. A typical speci¿cation for u j is u j  X j ;  : p j  G j , where


                                                        11
X j  G j  are product j’s characteristics (observed and unobserved respectively) and p j is its price. The

important distinction between this and a standard logit model is that it contains > ir , not > i j . Intuitively, > ir

might capture the fact that consumers live different distances from the R retail outlets.

    Note how this model captures congestion as new products enter the market. In the standard logit model,

when new products enter the market, new > i j are drawn for the new products. In the extreme version of our

congestion model, where the number of retail stores R does not change as new products enter, there are no

new unobservable terms drawn. The dimensionality of the unobserved product space remains the same as

the new products simply crowd out the old products from retail stores.

    To aggregate the model to the level of observation (the product level), we need to aggregate over retail

outlets. The share of product j is the sum of the shares of all the retail outlets that carry product j. As the

probability that i buys from r is the same across outlets that carry j, the market share for product j is:

                                                          R j eu j
                                            sj           3                                                        (1)
                                                       1  k Rk e u k
                                                          eu j ln R j 
                                                         3                                                        (2)
                                                       1  k eu k ln Rk 

3.2 Estimating the Additive Model

For individual level data, 1 could be estimated by maximum likelihood. For aggregate data, this model can

be estimated using the Berry (1994) inversion:

                                                       sj
                                                 ln        u j  lnR j 
                                                       s0



    In practice, one needs to parametrically specify R j . In the simplest case, where each product is sold in

an equal number of stores, we have R j          R
                                                 J
                                                     and we only need to specify R. One example is:


                                                       R  <0  <1J


where J is the number of products. As scaling up R is unidenti¿able from the constant term in the utility

function, a normalization is necessary, an obvious one being:


                                                     R  <  1  < J



                                                              12
This is attractive in that it nests the pure logit model (<  0) as well as the pure congestion model (<  1).

With <  0, the number of retail outlets (and correspondingly the dimension of SUPD) increases propor-

tionally to the number of products, with <  1 it does not change in the number of products. Intermediate

cases are captured by 0  <  1.

    Another suggestion for parameterizing the additive term is to let lnR j   < lnJ . In this case, <  0 is

still the standard Logit model and <  1 is still a full crowding model (in the sense that expected welfare

depends on observable product characteristics but not the number of products). Also, this speci¿cation could

be estimated in the aggregate case by linear techniques. A drawback is that this speci¿cation lacks a clear

structural interpretation of the parameter.

    Lastly, one might estimate RJ  non-parametrically. Given that J is discrete, this is extremely simple -

one just includes indicator functions for different market size (with a normalization for one J ).

    The assumption that all products are sold by an equal number of retail stores might not seem reasonable.

However, given no data on retailers, it is hard to imagine how one could intuitively separate out effects of

product characteristics and price on utilities versus their effects on the number of retail stores carrying the

product. To formalize this, suppose that


                                           R j  f J e X j K 1 K 2 p j K 3 G j


so that product characteristics do affect R j . In this case, for example, K 1 is not separately identi¿ed from

;. With other speci¿cations of R j , the different effects might be identi¿ed computationally, but this identi-

¿cation would be completely dependent on non-linearities. As such, we suggest the speci¿cation where all

products are sold by an equal number of stores.

    The assumption that logit errors are not correlated for the same product sold across different outlets may

also seem unreasonable. However, we can obtain a very similar estimating equation in a model that relaxes

this assumption. Suppose consumers have unobserved tastes over both products and retail stores, i.e.


                                              Ui jr  u j  > i1j  I> i2jr


> i1j is consumer i’s product speci¿c taste, > 2i jr is consumer i’s product-retail outlet speci¿c taste, and I is

a weighting parameter that measures the relative importance of the two unobservables. This formulation is

very similar to the standard nested logit model. With the standard nested logit distributional assumptions (


                                                            13
> i2jr distributed Type I Extreme Value, > 1i j distributed such that > 1i j I> 2i jr distributed Type I Extreme Value),

we get the following product level market shares:
                                 K              LI
                                           u
                                   R j exp Ij            expu j  I lnR j 
                       sj       3 K               LI     3
                            1  k Rk exp uIk          1  k expu k  I lnRk 

where R j is the number of retail stores that product j is sold at. Again assuming all product are sold at an

equal number of stores and that


                                                    R  <  1  < J


we get



                                                 expu j  I ln< J  1  < 
                                   sj           3
                                          1       k expu k  I ln< J  1  < 

which leads to the estimating equation:

                                                sj
                                          ln        u j  I ln< J  1  < 
                                                s0

Note that I and < are formally separately identi¿ed in this model, but this separate identi¿cation is due to

non-linearities in the J term and might be unreliable in practice. For instance, consider the speci¿cation

lnR j   < lnJ  Then the estimating equation is:



                                                       sj
                                                 ln        u j  I< lnJ 
                                                       s0

where only the product I< is identi¿ed. Clearly, with a non-parametric speci¿cation of RJ , I is also

unidenti¿ed. Note that this lack of identi¿cation is not a bad thing. It simply means that our model is robust

to unobserved tastes at both the product and retail store level. Separating the parameters (e.g. I vs. < ) is

irrelevant for empirical or welfare implications.

    This congestion model is easily generalizable to more realistic models such as nested logit and random

coef¿cients models. For example, consider the nested logit utility function:


                                                   Ui jr  u j  ? ig  > ir


                                                               14
where ? ig is consumer i’s idiosyncratic tastes for products in group g. Note that this nested error term is

de¿ned over product groupings and not retail store groupings (since retail stores are not observable, one

cannot group them). Product shares in this model are given by:
                                                                r3                 s
                                                                                 uk J
                                                   uj
                                              Rje   J              k + g j
                                                                           R k e J
                         s j  s j g sg  3              uk     3   r3                  s
                                                                                      uk J
                                            k +g j R k e J
                                                            1    g        k +g kR  e J


and estimation can proceed using the Berry inversion:

                                             sj
                                       ln        u j  J lnR j   1  J  ln s j g
                                             s0
    One issue in the nested logit model is how to specify R j . The number of retail outlets per product could

be a function of the number of products in the nest, the total number of products in the market or some

weighted average of the two. Our model is similarly adaptable to multiple level nested logit models, other

GEV models (e.g. the model of Bresnahan, Stern and Trajtenberg) and random coef¿cients models.11


3.3 Variance in Discrete Choice Models

This subsection presents a structural justi¿cation of the multiplicative model. For motivation, consider the

evolution of the market for ready-to-eat breakfast cereals. Initally, the market contained only a few products,

and differentiation was across fundamental and likely very important features such as healthiness and taste.

Recently, with so many many new products, it is likely that some products are distinguishable only by the

colors on their box. The basic idea here is that as more products enter the market, they differentiate into

dimensions (e.g. color of box) that are less important to consumers. This section shows that if we allow for

this type of effect in unobserved characteristic space, we end up with our multiplicative model.

    Standard discrete choice models imply that each product differentiates into a separate dimension, and

that each dimension is equally important. Our innovation is to adjust the model so that products in crowded

markets differentiate into dimensions that matter less to consumers. As a result, consumers are more re-

sponsive to changes in observable (to the econometrician) characteristics such as price in a crowded market,

and the welfare from the last product is much lower in a crowded market.
  11 For random coef¿cients models, one could either 1) simply include the total number of products in the estimating equation

(in essence assuming congestion occurs equally across products), or 2) extend the intution from the nested logit model described

above. Instead of counting the number of products in the same nest, one could count the number of products weighted by how close

they are in characteristic space.


                                                               15
    An impediment to developing this model is that important concepts for analyzing product differentiation,

such as the distance between products and travel costs for consumers, are not explicit in models such as

the logit and probit. In contrast, these concepts are explicitly speci¿ed in an address (Hotelling) model.

Therefore, our strategy is to specify a generalized empirical model and then an address model, and then

present conditions such that the two models have the same implications for market shares. We then impose

the features we want on the address model and show how those features lead to a tractable adjustment in the

empirical model.

    Anderson, De Palma and Thisse (1992), ADT, present an algorithm for linking an address model to a

logit model.12 By link, we mean that the models match each other in terms of market shares and elasticities

to the mean utilities. Here, we extend their model for our purposes. We de¿ne the logit model as follows:

A unit mass of agents choose 1 of J  1 products (which can be thought of as J products and an outside

option). Each product is de¿ned by quality level u j . Each agent i receives utility level u i j from a given

product de¿ned by u i j  u j  > i j , where > i0    > i J is a random variable drawn from an extreme value

distribution with variance scale parameter E. Each agent chooses the product that confers the highest utility,

so the market share for product j is:



                                                                  expu j E
                                                    sj 
                                                                k 0 exp[u k E]
                                                                 J


    Now we turn to specifying the address model corresponding to this logit model. There are J  1 distinct

products, each characterized by a vertical utility u j and a vector of characteristics z j + U L over which

consumers have idiosyncratic tastes. Each consumer i is characterized by a vector ci + U L that describes

the consumer’s ideal product. Let the function K l represent the consumer cost of travel in dimension l. We

assume l )     l )) " K l )  n K l )) , so location in higher dimension is less important. A consumer located at ci

who consumes product j receives utility level:

                                                         ;
                                                         L
                                   E
                                   u i j ci   u j           K lcil  zlj 2 j  0     J
                                                         l 1

ADT assume that travel costs are constant across dimensions and previous empirical work does so as well
  12 In fact, ADT present a general algorithm for linking an address model to any linear random utility model of discrete choice.

Our adjustments are extendable to more other models, but all inuition is clear from the logit case.



                                                                    16
(at least implicitly). Allowing travel cost to depend on the dimension is the structural change that we use to

generate a more Àexible discrete choice model suitable for estimation.

    Consumers are distributed in U L according to the probability density gci . Consumers choose the

option that confers the most utility. Therefore, the market share of product j is:


                                                    =
                                      E
                                      sj                     gci dci  j  0     J
                                                         Ej
                                                         M
                                     Ej
                               where M                ci + U L E
                                                                u i j ci   max E
                                                                                   u ik ci 
                                                                                k 0 J

            3J
Note that    j 0 E
                  sj    1. We seek assumptions such that:

                                       "s j        E
                                                  "s j
Condition 1 (Match) s j  E
                          s j and      " uk
                                                 " uk
                                                          j k  0     J


    Satisfying Condition 1 requires specifying how the extreme value distribution pins down consumer and

product locations in the address model. As Section 2.2 points out, the idiosyncratic portion of utility in the

logit model can be thought of as a vector of product-speci¿c dummy variables interacted with the consumer’s

vector > i . In the address model, we use the vector of dummy variables to create product locations, and the

vector > i to create consumer locations. To begin, we assume that the number of product characteristics in

the address model is equal to the number of products, i.e. L  J Then, product locations are speci¿ed as

follows:
                           
                           !
                            b      if l  j,            j l  1    J
                  zlj 
Assumption 1               !
                            b otherwise

                  zl0  b l  1     J

    Products are located at positions such as b b     b     b b + U J . The parameter b mea-

sures the proximity of products. The speci¿cation mimics the vector d j but with the advantage (over some-

thing like 0 0     b     0 0 ) that consumers who are indifferent between products are located on the

axis. This simpli¿es notation in specifying consumer locations.

    Given product locations and the consumer utility function, specifying the distribution of consumers

de¿nes the address model. First, consider the case of K l  K 1l. ADT show that for this case, Condition 1




                                                                  17
             Figure 1: Consumer Distribution in the Address Model that Matches a Logit Model



is satis¿ed if:
                                    t         uJ
                                        4bK                  Jj1 exp[4bK cij  ci0 E]
                         gci                    J ! r                                  sJ               (3)
                                         E
                                                          1   Jj1 exp[4bK cij  ci0 E]



                      where cu : U J 1  U J is such that c j u  u j  u 0 4bK  j

A few features of the model bear comment. Travel costs (K  and product distances (b) enter in the same way.

Not surprisingly, a given distribution of consumers could generate the same market shares either because

products are distant from each other or because travel costs are high. Also, E has the inverse role of K and

b. That is, for a given set of market shares and elasticities, high variance of  in the logit model is accounted

for by high travel costs or distant products in the address model. Finally, the lack of crowding is made

explicit in Assumption 1. Each product is equidistant from the outside option and equidistant from each

other, regardless of how many products there are.

    For further insight into the model, consider the J  3 m  2 case. Figure 1 draws a contour map

of gc for b  1 K  1 and E  2. Contour lines form an approximation of an equilateral triangle in

between each product. The graph makes it clear how little is pinned down by linking the address model

to the empirical model. For instance, for a different set of parameters b, K , and E we simply compute a

                                                             18
different distribution of consumers and the implications for market shares are unchanged. This gives some

leeway in modelling how the environment changes as J increases.

    Now consider our adjustment, that K l decreases in l. Given Assumption 1, each product is differen-

tiated into a distinct dimension so each product j can be associated with a separate travel cost K  j. The

assumption that K  j decreases in j means that products with high j are differentiated into a dimension that

consumers do not value highly. These products add very little to total welfare and have very high elasticities

with respect to observable features (u j ) – exactly what we might expect in crowded markets.

    The next question is, how can decreasing travel costs be represented in the logit model? In Equation 3,

we would like to replace K with K  j  but have b and g remain the same. From inspection, it is clear that

Condition 1 can be satis¿ed if we allow E to also depend on j So the fact that some product’s unobservable

differentiation is in less important dimensions is captured in the logit model by having those products have

lower variance in their unobservable utility. We replace K with K  j and E with H
                                                                                  E j and rewrite Equation

3 as:
                                            t          u
                                     4
                                     J          K  j                  Jj1 exp[4bK  jcij  ci0 H
                                                                                                       E j]
                 gci   4b   J
                                                         J ! r                                            s J 1
                                     j 1       H
                                                E j                                        j
                                                                   1   Jj1 exp[4bK  jci  ci0 H
                                                                                                      E j]

For the appropriately chosen H
                             E j the distribution gci  is unchanged. Using this equation as the link

between the address model and the empirical model implies that the new logit share function is:

                                                             expu j H
                                                                      E j
                                                   sj       3J
                                                          1  k 1 expu k H
                                                                            Ek

where u 0  0

    A major concern for estimating this share function is that it requires researchers to assign products to

speci¿c dimensions. Researchers are unlikely to want to make assumptions about something so abstract.

A solution is to integrate over all possibilities (with equal weights). There are J ! possible sequences of J

products in dimension space. De¿ne I : [1 J !]  [1 J ]  [1 J ] such that I m j give the location of

choice j in sequence m Then s j can be written as:



                                                 ;
                                                 J!
                                                          exp[u j H
                                                                   EI m j]        1
                                       sj                3J
                                                 m 1 1    k 1 exp[u k H
                                                                          EI m k] J !



                                                                      19
This share function looks computationally burdensome. A further simpli¿cation is available by noting that

this share function treats each product symmetrically. So there exists a function EJ  such that:

                                                         expu j EJ 
                                              sj        3J                                                        (4)
                                                      1  k 1 expu k EJ 

3.4 Estimating the Multiplicative Model

As with the additive model, the multiplicative model can be estimated by maximum likelihood (typically for

individual level data) or the Berry (1994) inversion:

                                                                                    uj
                                                   lns j   lns0  
                                                                                   EJ 

where J is the total number of products in j ’s market. Note that one needs to normalize EJ  for some

value of J and then parameterize E. One caveat is that a non-linear estimation technique is required to

estimate this equation, but it is otherwise straightforward.

    Interesting issues arise if the researcher would like to use this approach in a nested logit framework.

Consider the model in Section 2.1. Writing out the market share accounting for E1 and E2 results in:
                                                                         r3                    sE2 E1
                                                                            J        u k E2
                                               e    u j E2                   k 1 e
                                        s j  3J                              r3                  sE2 E1
                                                           u k E2
                                                  k 1 e
                                                                                 J
                                                                     1          k 1 e
                                                                                        u k E2


In the multiplicative approach advocated in this paper, E2 depends on J That suggests that E1 should depend

on J as well. We derive an expression for E1 as a function of E2 by assuming that the variance of ? ig stays

constant in J and using the fact that ? ig and > i j are distributed independently:
                t        u2
                    E2              )ar> i j              )ar> i j                 E2 H2 3
                                                                              
                    E1            )ar? ig  > i j    )ar? ig   )ar> i j    )ar? ig   E2 H2 3


                                                                     U
                                                                         3)ar? ig 
                                               >" E1                                 E22                         (5)
                                                                            H2
                                              S
A natural approach is to specify E1              a  E2 J 2 and estimate a The resulting Berry (1994) inversion of

the share function (keeping track of E1 ) is:

                                                                     uj  E  E2
                                        lns j   lns0               1     lns j g 
                                                                     E1     E1


                                                                         20
which again would be straightforward to estimate with non-linear techniques. Note that in this formulation,

J varies with J . This J J  is not directly estimated, but can be computed with:

                                                  E2 J      E J 
                                       J J             S 2
                                                  E1 J    a  E2 J 2


4 Monte Carlo Results

We now turn to Monte Carlo simulations of our additive and multiplicative models. Our ¿rst goal is to

see how standard logit based models perform when the data is actually generated according to one of our

product congestion models. In particular, we examine how the standard models do at estimating cross-price

elasticities and the welfare effects of new product introductions.

    The rows of Table 1 and Table 2 contain various speci¿cations of our additive and multiplicative nested

logit models. In all speci¿cations, we simulate data from a very large number of markets (N=1000). Because

of this large amount of data, there is very little estimation error in our estimates (and resulting elasticities),

so these estimates can essentially be interpreted as asymptotic results. In each market, there are between

2 and 10 products, distributed uniformly across this range. There are two nests in each market, the ¿rst

contains all the inside products, the second contains only the outside alternative. To simplify things, price

is exogenously drawn from a log-normal distribution. In all models, consumers’ utility functions have a

coef¿cient on price set at -1 and a constant of -0.5. As is standard, the utility from the outside alternative is

normalized to zero.

    The various speci¿cations in the two tables differ in three dimensions.          First is the type of model

used to generate the data, additive (speci¿cations (A1)-(A6), or multiplicative, (M1)-(M6)). Second is the

parameter measuring product congestion in the particular model, < or K  We also vary J , measuring the

strength of nesting. Because of the large amount of data, the “Truth” subrows in the tables are not only the

true values of these quantities, but also the estimation results from our congestion models. The “Nested

Logit” subrow contains the results of naive nested logit estimation on these data.

    The ¿rst row of Table 1 contains results for the pure congestion version of the additive model. In this

model <  1, i.e. the number of retail outlets does not change as the number of products increases. Naive

nested logit estimation of this model gives extremely poor results. The nested logit estimates the average



                                                       21
                                     Table 1: Monte Carlo Results for Additive Model
                                                    Own-Price Cross-Price Outside good     Welfare     Welfare    Percent
                       Model                        Elasticity   Elasticity   P Elasticity 2 Products 10 Products Increase
                A1-Pure Congestion True Estimate       -1.19          0.07          0.03       0.20        0.20   0.0%
                      =1, =0.8      NL Estimate       -32.06          5.79          0.01       1.26        1.26   0.6%
                        A2          True Estimate      -1.18          0.07          0.03       0.21        0.26 26.0%
                    =0.95, =0.8     NL Estimate        -1.62          0.24          0.01       0.56        0.74 32.4%
                        A3          True Estimate      -1.17          0.08          0.04       0.23        0.41 79.0%
                     =0.8, =0.8     NL Estimate        -1.25          0.14          0.03       0.32        0.62 94.4%
                        A4          True Estimate      -1.16          0.10          0.06       0.27        0.63 133.6%
                     =0.5, =0.8     NL Estimate        -1.18          0.11          0.05       0.29        0.72 144.9%
                        A5          True Estimate      -1.82          0.18          0.03       0.21        0.24 15.5%
                    =0.95, =0.5     NL Estimate        -2.53          0.40          0.01       0.54        0.65 19.7%
                        A6          True Estimate      -4.38          0.62          0.03       0.20        0.22   5.9%
                      =1, =0.2      NL Estimate        -6.03          0.99          0.01       0.53        0.57   8.3%



own-price elasticity13 to be -32.06, while the actual own-price elasticity is -1.19. Within-group cross price

elasticities are also off by two orders of magnitude, and estimates of across-group (to the outside alternative)

price elasticities are about 18% of their true value. The last three columns of the table show the estimated

welfare effects of going from 2 to 10 products. While in actuality, there is no welfare gain to this experiment

(since in a pure congestion model new products “completely” crowd out the old ones), the nested logit

estimates suggest minor gains. Interestingly, in this case the nested logit model does a reasonable job at

matching welfare gains, but a terrible job at price elasticities.14

    There is a clear intuition why in the presence of congestion, standard estimation methods are prone to

overestimate within-group cross-price elasticities, and underestimate across-group cross-price elasticities.

The standard nested logit speci¿cation underestimates the nesting parameter J (e.g. in (A1), the nested logit

model estimates J  0005 while in truth, J  8. The reason for this can be seen by comparing the

estimating equation for the standard nested logit model:



                                             sj
                                       ln        X j ;  : p j  1  J  lns j g   G j                                         (6)
                                             s0
  13 The elasticities reported in the tables are averages across the entire dataset. For example, average own-price elasticity is the

average of the estimated price elasticities over all the products in the dataset. The average cross price elasticity is the average of all

the cross price elasticities in the data (i.e. the average of the cross price elasticities between each product and every other product).
  14 This does match the fast food franchise story in the previous section, where the nested logit model predicts J  0, thus

correctly measuring the welfare gains due to the entry of B K to be 0.




                                                                     22
                                      Table 2: Monte Carlo Results for Multiplicative Model
                                                        Own-Price Cross-Price Outside good     Welfare     Welfare    Percent
                       Model                            Elasticity   Elasticity   P Elasticity 2 Products 10 Products Increase
                           M1           True Estimate      -1.55          0.22          0.05      0.32         0.76 135.1%
                  =-0.1,    J   =0.8 NL Estimate           -2.01          0.35          0.14      0.36         0.89 145.0%
                           M2           True Estimate      -1.72          0.23          0.05      0.30         0.58 93.5%
                  =-0.2,    J   =0.8 NL Estimate           -2.40          0.51          0.14      0.41         0.86 109.7%
                           M3           True Estimate      -1.88          0.25          0.05      0.28         0.44 55.9%
                  =-0.3,    J   =0.8 NL Estimate           -2.96          0.75          0.14      0.49         0.88 78.5%
                           M4           True Estimate      -2.14          0.27          0.04      0.26         0.32 23.6%
                  =-0.4,    J   =0.8 NL Estimate           -3.98          1.16          0.14      0.60         0.92 53.8%
                           M5           True Estimate      -1.92          0.44          0.03      0.72         0.90 24.5%
                  =-0.4,    J   =0.5 NL Estimate           -6.53          2.28          0.18      1.51         1.91 26.2%
                           M6           True Estimate      -1.85          0.56          0.01      2.73         3.01 10.4%
                  =-0.4,    J   =0.2 NL Estimate          -16.92          6.63          0.22      5.10         5.55   8.8%



to the estimating equation in the additive model:

                                      sj
                                ln        X j ;  : p j  1  J  lns j g   J lnR j J   G j                          (7)
                                      s0

Comparing the two equations, note that the estimating equation (6) has a missing variable, J lnR j J .

Recall that R j J  will decline in J if there is any congestion, i.e. if the number of retail stores in which

product j is sold declines in J . Typically the within group share, lns j g , will also decline in J , so the

omitted variable will be positively correlated with lns j g  (or the typical instrument for lns j g , i.e. J ).

This will tend to bias the estimate of J downwards in the standard nested logit model. The underestimate of

J suggests too much insulation between groups. As such, across-group substitution is estimated to be too

weak, and within-group substitution too strong.15

    Models (A2) through (A6) perturb the parameters of the model. In (A2) through (A4), the congestion

parameter < is varied. As would be expected, the nested logit estimates are closer to the truth as < decreases

(recall that <  0 implies no congestion, i.e. the standard nested logit model is the truth). However, even at

<  05, there are still signi¿cant biases in the nested logit results. Models (A5) and (A6) change the nesting

parameter J . While changing J affects the absolute levels of the results, it does not appear to signi¿cantly

change the percentage level of bias.
  15 For the multiplicative model, we also ¿nd that the standard nested logit model seriously underestimates the ratio E E and
                                                                                                                        2 1

overestimates within group substitution. On the other hand, with the multiplicative speci¿cation, the nested logit also overestimates

across-group substitution. This may be due to the fact that in the multiplicative speci¿cation, own-price elasticities are typically

overestimated by more than with the additive speci¿cation.



                                                                         23
    Results for the multiplicative model, presented in Table 2 are similar. We parameterize E2 , the scale

parameter for variance within the product nest, as:



                                                            JK
                                                 E2  2
                                                          1  JK
                                           S
Following Equation 5, we specify E1           a  E2 J 2  Under this speci¿cation, E2 is normalized to 1 for

single product markets and K  0 implies a standard nested logit model. We generate data for the cases of

a  0525, a  3, and a  24 which correspond to E2 E1  08 05 and 02 for a single product market.

As K decreases from 0, E2 and the ratio E2 E1 ( J  decrease and the market becomes more and more

congested. Each row compares true and estimated results for models with successively lower values of K .

    Similar to the previous case, the standard nested logit model overestimates own- and cross- price elas-

ticities. The difference between the two cases becomes greater as K decreases. The estimated own-price

elasticity is 30% away from the truth for M1, and 86% greater for M4. Just as striking are the welfare

results. For M1, both models ¿nd large gains from going from 2 product to 10 products. However, for M4,

the true model shows a 23.6% gain in welfare from adding 8 products to the market. The standard model

predicts a 53.8% gain. Speci¿cations M5 and M6 show that as J decreases, the nested logit model does a

better job of estimating welfare changes but a worse job of estimating elasticities.

    For model (A2), Table 3 compares estimates of elasticities and welfare across markets with different

numbers of products. Most important to note is that the standard model overestimates within-group cross-

price elasticities and underestimates outside alternative price elasticities for all market sizes. This is likely

a result of the downward bias imparted on J described above. While the true sigma is equal to 0.8, the

estimated sigma is just 0.196.

    For the multiplicative model, Table 4 breaks out the K  04 case by number of products. The standard

model over-predicts price elasticities and, in percentage terms, predicts a much smaller change in own-price

elasticity as the number of products increases. From the welfare changes, we see that the K  04 case

is close to a full-crowding model. There is almost no welfare gain after the 4th product. Intuitively, the

standard model tries to capture this by estimating little differentiation between products (which is a very low

J ) but doing so causes the model to drastically overpredict price elasticities.

    In summary, these Monte-Carlo results show that if there is in fact product congestion, estimation by


                                                        24
                                Table 3: Monte Carlo Results for Additive Model (A1)
              Num of                             Own-Price             Cross-Price          Outside Option            Welfare
             Products                             Elasticity             Elasticity         Price Elasticity
                        Truth     Estimate     Truth    Estimate      Truth    Estimate     Truth     Estimate     Truth   Estimate
                    2     0.50          0.31   -1.646     -1.703       0.055      0.085       0.740       0.554    0.195        0.300
                    3     0.50          0.31   -1.918     -1.901       0.038      0.058       0.448       0.339    0.209        0.336
                    4     0.50          0.31   -2.034     -1.986       0.030      0.046       0.330       0.251    0.222        0.364
                    5     0.50          0.31   -2.123     -2.058       0.025      0.038       0.279       0.213    0.234        0.387
                    6     0.50          0.31   -2.191     -2.112       0.022      0.033       0.215       0.165    0.245        0.406
                    7     0.50          0.31   -2.198     -2.112       0.019      0.029       0.173       0.134    0.255        0.424
                    8     0.50          0.31   -2.221     -2.130       0.017      0.026       0.161       0.125    0.265        0.439
                    9     0.50          0.31   -2.232     -2.137       0.016      0.024       0.146       0.113    0.275        0.453
                   10     0.50          0.31   -2.275     -2.175       0.014      0.022       0.130       0.102    0.284        0.467




                         Table 4: Monte Carlo Results for Multiplicative Model (M4)
              Num of            Ratio             Own-Price             Cross-Price         Outside Option            Welfare
             Products                              Elasticity             Elasticity         Price Elasticity
                        Truth   Estimate       Truth     Estimate     Truth     Estimate    Truth     Estimate     Truth   Estimate
                    2      0.80      0.32        -1.53        -3.17      0.40        1.96      0.16         0.23      0.26      0.60
                    3      0.75      0.32        -1.81        -3.81      0.32        1.32      0.12         0.17      0.29      0.67
                    4      0.72      0.32        -2.01        -4.14      0.27        1.00      0.10         0.13      0.30      0.72
                    5      0.70      0.32        -2.18        -4.33      0.24        0.81      0.08         0.11      0.31      0.77
                    6      0.68      0.32        -2.32        -4.46      0.22        0.68      0.07         0.10      0.31      0.81
                    7      0.66      0.32        -2.45        -4.56      0.20        0.58      0.06         0.09      0.32      0.84
                    8      0.64      0.32        -2.56        -4.63      0.18        0.51      0.06         0.08      0.32      0.87
                    9      0.63      0.32        -2.67        -4.68      0.17        0.46      0.05         0.07      0.32      0.90
                   10      0.62      0.32        -2.76        -4.73      0.16        0.41      0.05         0.06      0.32      0.92




standard methods can give biased and very misleading estimates. These biases can be up to an order of

magnitude.


4.1 Other Types of Congestion

A caveat of the above monte-carlo results is that the simulated data comes from exactly the congestion

process we specify. Here we brieÀy examine how our models perform when congestion comes from some

alternative model. Since our models are misspeci¿ed in this case, we don’t expect to recover parameters of

interest exactly, but we do expect to perform better than models with standard logit errors. The data used for

estimation in Table ?? are generated by a random coef¿cients (on observable characteristics) model. There

are random coef¿cients on both the constant term and on a single observed characteristic that is distributed

uniformly across ¿rms. Congestion in unobserved characteristic space is generated by a one dimensional

locational (with transport costs) model. Speci¿cally, products differ in their location in a Hotelling linear

city model. Products spread equally across the linear city. Thus, markets with more products have more




                                                                      25
                              Table 5: Monte Carlo Results for Locational Congestion
                     Low Transport Costs Medium Transport Costs High Transport Costs
          Num. of     True      RCM RCM +    True      RCM RCM +    True      RCM RCM +
          Products Elasticities      Mult Elasticities      Mult Elasticities      Mult
             2        2.73      2.87 2.85    1.28      2.47 1.55    0.42      1.77 0.61
             3        4.16      4.28 4.22    2.75      3.57 2.51    1.00      2.41 1.03
             4        5.05      5.13 5.02    3.74      4.21 3.67    1.83      2.77 1.97
             5        5.65      5.71 5.62    4.46      4.63 4.20    2.63      2.99 2.39
             6        6.09      6.12 6.07    5.00      4.92 4.69    3.28      3.14 2.92
             7        6.42      6.43 6.38    5.42      5.13 5.01    3.80      3.26 3.24
             8        6.68      6.67 6.63    5.76      5.30 5.30    4.24      3.34 3.58
             9        6.89      6.86 6.87    6.04      5.43 5.54    4.60      3.41 3.81
             10       7.06      7.01 7.09    6.27      5.53 5.77    4.91      3.46 4.06


congestion in unobserved characteristic space.16

    Table ?? shows estimates of own-price elasticities for three different data sets. The data sets differ in

the magnitude of transportation costs in the linear city. As transport costs increase, the importance of these

unobserved product characteristics increases relative to the importance of the observed product character-

istics. As a result, one can interpret the different data sets as capturing differing levels of success of the

econometrician in measuring relevant product characteristics in the market of interest.

    For each data set, three sets of elasticities are reported. In the ¿rst column are the true elasticities

generated by the model. The second column are elasticities derived from estimating a standard random

coef¿cients model (plus logit errors). The third column are estimates from a standard random coef¿cients

model plus our multiplicative adjustment.17 With the lowest transportation costs, the misspeci¿cation of

unobserved product differentiation does not cause signi¿cant bias in the price elasticities. Both the standard

RCM model and the congestion model do a reasonable job. With medium transport costs, the accuracy of

the RCM results decreases - while the true elasticities range from 1.28 (in a market with two products) to
  16 The outside good is assumed to incur no transport costs. We also include very low variance logit errors in the data generating

process to prevent zero market shares (to generate a small variance (relative to other consumer heterogeneity) logit error, we

inÀated the means and variances of the random coef¿cients - these were ; 0i ˜N 0 5, ; 1i ˜N 5 5).   As a result, unobserved

product characteristic space includes both the congestable linear dimension and a small, non-congestable logit error dimension.
  17 The multiplicative model worked a bit better than the additive one on this Hotelling style unobserved product differentiation.

Note also that while welfare calculations were more accurate with our multiplicative and additive models than the standard random

coef¿cient model, neither model obtains particularly realistic welfare numbers. This is to be expected, as the top of the demand

curve is going to be highly dependent on the form of unobserved product differentiation.



                                                               26
6.27 (in a market with 10 products), the RCM estimates range from 2.47 to 5.53. Note that the upward bias

in elasticities in small markets and the downward bias in large markets corresponds to some of the intuition

developed in the introduction. Standard logit errors are unable to fully capture the fact that through conges-

tion, elasticities increase in crowded markets. In contrast, our congestion model performs signi¿cantly better

- elasticities range from 1.55 to 5.77. In the last group of results, the biases in the standard RCM model are

even larger, while our congestion model still performs well. For small markets, for example, where the true

elasticity is 0.42, the RCM model estimates an elasticity of 1.77. Our congestion model estimates it to be

0.61. In summary, while it is hard to address potential misspeci¿cation issues (as there is a continuum of

potential misspeci¿cations), these results support our intuition, suggesting that our congestion models can

do signi¿cantly better than standard logit based models at addressing arbitrary congestion in unobserved

product characteristic space.



5 Example

Rysman (2002) studies a data set on the Yellow Pages industry, measuring the positive feedback loop be-

tween consumers’ choice of directory to use (which is driven by the amount of advertising in the directory)

and retailer’s placement of advertisements in directories (which is driven by consumer usage patterns). Rys-

man models the consumer’s decision as a discrete choice between available directories and an unspeci¿ed

outside option. He observes a cross-section of directories and usage behavior where consumers in different

geographic markets have access to different numbers of directories. Figure 2 shows the percentage of con-

sumers served by different numbers of directories. The variance in this number of directories makes this is

a natural place to apply the techniques presented in this paper. Correctly estimating the elasticity of usage

to the quantity of advertising in a directory is important for measuring the importance of the feedback loop.

In addition, correctly measuring the welfare bene¿ts of competing directories is important for the policy

question studied in the paper.18 Rysman also estimates retailer demand for advertising and a publisher’s

¿rst-order condition for setting the quantity of advertising. Here, we focus only on the consumer’s decision.

    The data set consists of observations on the number of uses, per household, per month, in the distribution
  18 The policy question is whether or not welfare improves as competition increases. Multiple directories reduce market power but

dissipate network effects.




                                                               27
                                               Number of Directories per Person

                                     50
                                          39.1 38.1
                                     40
                       % of People
                                     30
                                     20                    16.1

                                     10                              5.1
                                                                               1.2      0.2       0.1       0.1
                                     0
                                           1       2         3         4        5         6         7         8
                                                                      Number




                       Figure 2: Percentage of People Served by Each Number of Directories


areas of 428 directories in 1996.19 We assume a representative consumer needs information of the kind they

could ¿nd in the Yellow Pages M times per month . The exogenous parameter M is constant across markets.

Each time a consumer needs information, the consumer can use one of the Yellow Pages in the area or turn

to the outside option. The utility to consumer i from using directory j is:


                                                u i j  ; 1 lnA j   X j ; 2  G j  i j


The variable A j is the quantity of advertising at directory j and the matrix X j represents demographic

variables that may affect usage.20 The variable G j represents directory-speci¿c factors that are unobservable

to the econometrician, such as the quality of the book or regional usage habits.

    We estimate this basic model in 3 different ways: with standard logit errors, with the additive adjustment,
  19 The data was collected by National Yellow Pages Monitor for use by Yellow Pages publishers and advertising agencies. NYPM

survey respondents maintain diaries of their Yellow Pages usage for 1 week. NYPM normally surveys between 1,000 and 3,000

people per MSA, although NYPM used 11,200 respondents in the Los Angeles area. This usually results in at least a few hundred

respondents even for very small directories.
  20 As a measure of advertising, Rysman uses the number of pages in a book times the number of columns in a directory. The is

number is multiplied by 0.8 for directories that are observably smaller than a standard directory. For X j , each directory is associated

with a central county, and X j comes from county level census data.


                                                                    28
and with the multiplicative adjustment. To see clearest what the data tells us about congestion, we use non-

parametric speci¿cations of the additive and multiplicative terms. That is, we allow the number of retailers

or the variance scale parameter to take on different values for each number of products in the market.

A complicating factor is that Yellow Pages distribution areas overlap with each other. A directory may

face no competitors for some of its consumers and 1 or more competitors for another group of consumers.

Furthermore, we observe distribution areas but we cannot distinguish how much usage comes from different

portions of a directory’s distribution area.

    Implementing the simple logit model is straightforward. We observe s j (the market share for directory

j) and s0 (the market share for the outside option21 ) in directory j ) s total market, and sub-markets (areas of

a directory’s market that are served by a uniform set of directories) are distinguished only by the presence

of an “irrelevant alternative”. Under the logit model, the ratio s j s0 is independent of the presence of these

alternatives so s j s0 is the same in each sub-market. Therefore, we can use the standard logit equation. For

the simple logit model, we estimate:

                                           lns j   lns0   : lnA j   X j ;  G j

To implement the additive model, we simply take the additive term to be the population weighted average

of R j across submarkets. In that case, we estimate:

                                    lns j   lns0   : lnA j   X j ;  R j  G j
                                                          ;
                                           where R j          O jk R J k 
                                                              k+K  j 

Here, K  j  is the set of sub-markets in j ’s market area, O jk is the percentage of j’s population that lives in

sub-market k The parameter R J is to be estimated, separately for each J and J k is the number of products

in sub-market k

    To implement the multiplicative model, we push the model to its logical extreme and assume that the

scale parameter E differs for directories across sub-markets. That is, the variance of i j differs for the same

product based on the number of competitors for consumer i Therefore, the market share for product j is:
                                                                b          c
                                       ;                 exp u j E J k 
                                 sj            O jk 3              b              c
                                      k+K  j        i + D k  exp u i E J k 

  21 We assume that M  26. The highest number of uses per household in our data set is 23.6 with an average of 11.4. The

average for s0 in our data set is 47.7%.


                                                                 29
where Dk is the set of directories in sub-market k and E J is to be estimated separately for each J . The

variable u j is the mean utility for product j . For a given set of parameters E, we can infer (via a ¿xed

point algorithm) the vector of mean utilities u that implies sub-market shares that aggregate up to the market

shares we observe. Then we can estimate the remaining parameters via the equation:


                                         u j  : lnA j   X j ;  G j


We estimate all 3 speci¿cations by the Generalized Method of Moments (Hansen (1982)) using the same set

of instruments as in Rysman (2002).

    We observe very few markets with more then 5 directories so, in practice, we restrict markets with 6, 7

or 8 directories to have the same adjustment parameter. Results appear in Table 6. Parameter estimates show

that the additive speci¿cation and the multiplicative speci¿cation produce very similar results. Crowding

appears to be important in both models. The parameters for the additive adjustment are close to being

monotonic in J and decrease at a decreasing rate. The parameters for the multiplicative model show that the

variance for markets with multiple directories are much smaller then for those with only one directory. The

parameters do not vary much in markets with more than one directory, suggesting that this model could be

estimated with a single E for all oligopoly markets. The biggest change in the explanatory variables across

the 3 models is that the coef¿cient on advertising is lower in the multiplicative model. The low coef¿cient

compensates for the reduced variance in crowded markets.

    Table 7 presents summary statistics. The ¿rst column presents the elasticity of usage from advertising.

As in our monte-carlo results, the standard logit model overestimates (advertising) elasticities. In single

product markets the standard logit overestimates the advertising elasticity by 29% relative to the additive

model and 76% relative to the multiplicative model. Another feature to notice is how the crowding models

generate larger increases in elasticity as the number of products increase. When the number of products goes

from 1 to 8, the standard logit model shows that elasticity increases by 18% whereas the additive model ¿nds

that elasticity increases by 30% and the multiplicative model ¿nds 79%. This coincides with our intuition

about how standard logit based models restrict the extent to which crowding can occur as the number of

products increases.

    Equally as striking are the welfare calculations. The logit model predicts that even the 7th and 8th Yellow

Pages directories imply non-trivial welfare increases, over a third of what the ¿rst directory generates. On the


                                                      30
                             Table 6: Estimation Results for Yellow Pages Data
                                   Standard                     Additive           Multiplicative
     Variable                Coef      Std Err            Coef      Std Err        Coef       Std Err
     advertising                  0.75     (0.08)              0.64      (0.07)         0.22      (0.04)
     constant                    -6.55     (1.21)             -5.11      (1.01)        -2.08      (0.43)
     % urban population          -0.01     (0.01)             -0.01      (0.00)         0.00      (0.00)
     % lived in diff county       0.08     (0.02)              0.07      (0.01)         0.02      (0.01)
     % lived in diff state        0.05     (0.03)              0.03      (0.02)         0.01      (0.01)
     % own house                 -0.01     (0.01)             -0.02      (0.01)        -0.01      (0.00)
     % grad hi school            -0.05     (0.02)             -0.04      (0.01)        -0.01      (0.00)
     % grad college              -0.02     (0.02)              0.00      (0.02)        -0.01      (0.01)
     per cap income               0.03     (0.03)              0.01      (0.02)         0.01      (0.01)
     telco book                   1.09     (0.13)              1.05      (0.10)         0.38      (0.05)
     county pop. growth rate      0.01     (0.02)              0.01      (0.01)         0.01      (0.01)
     % take public trans.        -0.05     (0.04)             -0.05      (0.03)        -0.01      (0.01)
     % have not moved             0.07     (0.02)              0.06      (0.02)         0.02      (0.01)
     pop. density            -1.3E-04 (6.1E-05)           -6.9E-05 (3.5E-05)       -3.0E-05 (1.3E-05)
     Adjustment J=1                                            0.00       Fixed         1.00       Fixed
              J=2                                             -0.35      (1.00)         0.35      (0.03)
              J=3                                             -0.28      (0.99)         0.36      (0.04)
              J=4                                             -0.71      (0.98)         0.30      (0.03)
              J=5                                             -0.80      (1.00)         0.32      (0.04)
              J=6, 7, 8                                       -0.91      (0.99)         0.34      (0.05)


other hand, the additive and multiplicative speci¿cations imply much lower bene¿ts from new directories.

When going from 1 to 8 directories, the standard model ¿nds that welfare increases by over 400%. Under the

additive model, welfare increases by 145% and under the multiplicative model, welfare increases by 109%.

Note that the additive and multiplicative models actually ¿nd that welfare decreases for some increases in

the choice set. This result would likely disappear if we put more structure on our additive and multiplicative

J functions.



6 Conclusion

This paper highlights problems that arise as a result of the way that standard discrete choice models handle

symmetric unobserved product differentiation. We show that restrictive assumptions about the relationship

between the number of products in a market and the dimensionality of unobserved product space can lead

to signi¿cantly biased estimates of elasticities and welfare changes. We suggest two solutions, an additive

and a multiplicative adjustment to the standard estimating equations. We present structural interpretations of


                                                     31
                                      Table 7: Summary Variables for Yellow Pages Data
                                              Elasticities                        Welfare
                                  Standard       Add         Mult     Standard     Add       Mult
                              1        0.58          0.45      0.33        0.20       0.27     0.25
                Directories   2        0.61          0.52      0.53        0.36       0.36     0.20
                              3        0.63          0.54      0.53        0.51       0.50     0.28
                              4        0.65          0.57      0.65        0.63       0.46     0.22
                              5        0.66          0.58      0.61        0.74       0.50     0.33
                              6        0.67          0.58      0.58        0.84       0.53     0.43
                              7        0.68          0.59      0.58        0.93       0.60     0.48
                              8        0.68          0.59      0.59        1.02       0.66     0.53


our solutions, showing how they could arise from the appropriate agent maximization problem. We present

Monte Carlo evidence that shows the ef¿cacy of our adjustments, and we examine how our adjustments

perform in a real data set.

    An interesting question is what circumstances are appropriate for which adjustment. The additive ad-

justment is typically easier to implement then the multiplicative adjustment. It can speci¿ed in a linear

manner, and can easily be extended to multi-nested models or random coef¿cient frameworks. While the

multiplicative model can be applied in those circumstances, one must maintain that each choice has the same

variance or abandon the random utility interpretation of the model. Conversely, the multiplicative model can

be applied even in the simple logit case where the researcher is not willing to specify an “outside option”.

While the two models seem to obtain similar results, they are not identical, so the choice of model might

be important for speci¿c applications. In this case, it might be fruitful to do formal non-nested testing of

the models. Lastly, note that it is also possible to combine the two models - i.e. include both additive and

multiplicative adjustments in the estimating equation.


References
 [1] Anderson, S., A. de Palma and J-F Thisse. (1992), Discrete Choice Theory of Product Differentiation,
     Cambridge: The MIT Press.

 [2] Arcidiacono, P. (1999) “Option Values, College Quality, and Earnings: A Dynamic Model College and
     Major Choice” mimeo, Duke University.

 [3] Benkard, C.L. and Bajari, P. (2001) “Demand Estimation with Heterogeneous Consumers and Unob-
     served Product Characteristics: A Hedonic Approach”, mimeo, Stanford University

 [4] Berry, S.T. (1994) “Estimating Discrete Choice Models of Product Differentiation.” Rand Journal of
     Economics: 25, pp 242-262.

                                                                32
 [5] Berry, S.T. and A. Pakes. (1999) “Estimating the Pure Hedonic Discrete Choice Model.” mimeo, Yale
     University.

 [6] Berry, S.T. J. A. Levinsohn and A Pakes. (1995) “Automobile Prices in Market Equilibrium.” Econo-
     metrica: 63(4), pp. 841-890.

 [7] Berry, S.T. and J. Waldfogel. (1999) “Free Entry and Social Inef¿ciency in Radio Broadcasting,” RAND
     Journal of Economics: 30(3), pp 397-420.

 [8] Bresnahan, T.F. (1987) “Competition and Collusion in the American Auto Industry: The 1955 Price
     War.” Journal of Industrial Economics: 35, pp. 457-482.

 [9] Bresnahan, T.F. S. Stern and M. Trajtenberg. (1997) “Market Segmentation and the Sources of Rents
     from Innovation: Personal Computers in the Late 1980s.” Rand Journal of Economics: 28(0), pp S17-
     S44.

[10] Cardell, N. S. (1997) “Variance Components Structures for the Extreme Value of Logistic Distributions
     with Application to Models of Heterogeneity.” Econometric Theory: 113(2), pp. 185-213.

[11] Feenstra R.C. and J.A. Levinsohn (1995) “Estimating Markups and Market Conduct with Multidimen-
     sional Product Attributes.” Review of Economic Studies: 62(1), pp. 19-52.

[12] McFadden, D. (1974) “Conditional Logit Analysis of Qualitative Choice Behavior,” in P. Zarembka
     (ed.), Frontiers in Econometrics, 105-142, Academic Press: New York.

[13] Nevo, A. (2001) “Measuring Market Power in the Ready-to-Eat Cereal Industry.” Econometrica: 69(2),
     307-342.

[14] Petrin, A. (1999) “Quantifying the Effects of New Products: The Case of the Minivan.” forthcoming
     Journal of Political Economy.

[15] Rysman, M. (2002) “Competition Between Networks: A Study of the Market for Yellow Pages.”
     mimeo, Boston University.

[16] Shum, M. (1999) “The Effects of Advertising in Markets with Brand Loyalty: the Case of Breakfast
     Cereals.” mimeo, University of Toronto.

[17] Trajtenberg, M. (1990) Economic Analysis of Product Innovation, Cambridge: Harvard University
     Press.




                                                   33
