                                NBER WORKING PAPER SERIES




                              INEFFICIENT INVESTMENT WAVES

                                             Zhiguo He
                                            Péter Kondor

                                        Working Paper 18217
                                http://www.nber.org/papers/w18217


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                      July 2012




We are grateful to Ulf Axelson, Arvind Krishnamurthy, Guido Lorenzoni, Semyon Malamud, John
Moore, Martin Oehmke, Alp Simsek, Balazs Szentes, Jaume Ventura, Rob Vishny, and numerous
seminar participants. Péter Kondor acknowledges the financial support of the Paul Woolley Centre
at the LSE. The views expressed herein are those of the authors and do not necessarily reflect the views
of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2012 by Zhiguo He and Péter Kondor. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including © notice,
is given to the source.
Inefficient Investment Waves
Zhiguo He and Péter Kondor
NBER Working Paper No. 18217
July 2012
JEL No. E22,E32,E61

                                            ABSTRACT

We develop a dynamic model of trading and investment with limited aggregate resources to study
investment cycles. Unverifiable idiosyncratic investment opportunities imply market prices to play
a role of rent distribution, distorting private investment incentives from a social point of view. This
distortion is price-dependent, leading to two-sided inefficient investment cycles—too much investment
in booms with high prices and too little in recessions with low prices. Interventions targeting only
the underinvestment in recessions might make all agents worse off. We connect our results to both
industry specific and aggregate boom-and-bust patterns.


Zhiguo He
University of Chicago
Booth School of Business
5807 S. Woodlawn Avenue
Chicago, IL 60637
and NBER
zhiguo.he@chicagobooth.edu

Péter Kondor
Central European University
Department of Economics
Nador u. 9.
Budapest, H-1051
Hungary
kondorp@ceu.hu
1     Introduction
The history of modern economies is rich in boom-and-bust patterns. Boom periods with vast
resources invested in new projects and low expected returns are followed by downturns when long-
run projects are liquidated early, liquid resources are hoarded in safe short-term assets and there
is little investment in new projects even if expected returns are high. While some of these patterns
affect only certain industries,1 others affect the aggregate economy–e.g., the emerging market
boom and bust at the end of 90s, or the recent housing boom around the mid 2000s and the crisis
afterwards. These investment cycles are in the forefront of the academic and policy debate. Can
these investment cycles be caused by financing frictions only? Are they inefficient, i.e., is there
overinvestment in booms and/or underinvestment in downturns? Relatedly, should the policy
maker intervene in booms, in downturns or both?
    In this paper, we contribute to this debate as follows. Constrained efficient investment cycles
arise naturally in our dynamic economy with limited aggregate resources to fund risky projects.
However, introducing unverifiable idiosyncratic investment opportunities leads to inefficient invest-
ment behaviors in the market equilibrium. As the main novelty of our paper, we show that this
friction may induce a two-sided inefficiency, i.e., overinvestment in booms with high asset prices
and underinvestment in downturns with low asset prices. As a mirror image, firms store too little
liquid resources in booms and hoard too much of them in downturns. We show that intervention
targeted at raising prices in downturns to avoid underinvestment typically make overinvestment in
booms worse. What is more, this adverse effect might be so strong that the intervention becomes
Pareto inferior compared to the case of no intervention at all.
    We present an analytically tractable, stochastic dynamic model of trading and investment.
There are two goods; a capital good and cash. Capital stands for risky long-term projects that
generate stochastic cash flows according to a linear technology. In contrast, cash stands for riskless
short-term asset which serves as both the consumption good and the input for investment in capital.
Firms who operate the capital can invest and disinvest, that is, they can create new capital at a
constant unit cost or dismantle the capital for a relatively smaller constant benefit, both in terms
of cash. Firms can also trade capital among each other at an equilibrium price. Capital generates
risky interim cash flows, and these represent aggregate shocks in our economy. Negative cash flows
imply that capital requires costly maintenance in terms of cash; when there is shortage of aggregate
cash, firms might need to dismantle the capital. As a result, firms will store cash in order to avoid
inefficient liquidation of the project.
    The crucial feature of our economy is that ex ante identical firms are subject to idiosyncratic
shocks in their investment opportunities. Namely, at a given time some firms experience a high
productivity shock on their capital, while others receive an investment opportunity into another new
technology. The latter group of firms sells their capital to the former group in a Walrasian market,
   1
     For example, Hoberg and Phillips (2010) statistically identifies a large number of examples of industry specific
boom-and-bust patterns beyond the well known examples such as the boom and bust of the semi-conductor industry
in the nineties.
and after trading the latter group invests all their cash into the new opportunity while the former
operates their capital holdings. We consider both the complete market case when the idiosyncratic
shock is contractible, and the incomplete market case when the market for such contracts is missing.
    The aggregate capital stock and cash are two state variables of our economy. Thanks to scale
invariance, we solve our model by keeping track of the aggregate cash-to-capital ratio as our uni-
dimensional state variable. It is also our proxy for the level of aggregate liquidity in our economy.
When interim cash flow shocks are negative, the cash-to-capital ratio falls, and so does the equi-
librium price of capital, boosting the expected return on buying capital. When the price drops
to the level of the liquidation benefit, capital are dismantled back to cash keeping the aggregate
cash-to-capital ratio above an endogenous lower threshold. We think of low liquidity states as a
downturn. The low price level of capital in downturn represents a liquidity premium, because firms
have to be compensated for the increasing probability of forced inefficient liquidation when no cash
is available for potential maintenance. As the cash-to-capital ratio rises, this risk is reduced, the
capital price increases and the premium decreases. When the price reaches the cost of creating new
capital, firms build new capital keeping the aggregate cash-to-capital ratio below an endogenous
upper threshold. We think of the high aggregate liquidity state when new projects are created as
a boom period.
    With the aid of analytical solutions, we study whether the investment threshold at the boom
period and disinvestment threshold at the downturn are at their efficient levels. In the complete
market benchmark, the market solution and the social planner’s choice coincide: Firms dismantle
their productive capital only when the cash-to-capital ratio hits zero, and firms invest when the
cash-to-capital ratio hits a positive threshold in booms. This upper threshold is determined by
a trade-off. On one hand, building capital is a positive net present value project. On the other
hand, storing some cash to avoid costly liquidation is valuable for buffering purposes. Hence in the
complete market benchmark, although expected returns and economic activities fluctuate with the
cash-to-capital ratio, the resulting investment cycle is not a sign of inefficiencies per se.
    However, in the incomplete market where the market for idiosyncratic shocks is missing, the
investment and disinvestment thresholds are distorted. In particular, firms always dismantle capital
at a positive cash-to-capital ratio. Also, under some conditions, they build capital at a lower
investment threshold than the social planner would. That is, they invest too little (dismantle too
much) in downturns, and overinvest in booms. As a mirror image, they hoard too much cash in a
downturn, and hold too little cash in a boom.
    The intuition behind our mechanism is as follows. The price of existing capital plays a double
role in our economy. First, it determines the investment decision, i.e., firms build new capital
(dismantle existing capital) when the price of existing capital is sufficiently high (low). Second,
it also determines the terms of exchange when firms are subject to different idiosyncratic shocks.
Although the exchange moves all cash and capital to the most efficient hands, the term of this
exchange affects the rent distribution across firms with different idiosyncratic shocks. For example,
the equilibrium price of capital is high when the cash-to-capital ratio is high, and firms who receive


                                                  3
the idiosyncratic new investment opportunity are able to exchange their capital holdings for a large
amount of cash, acquiring large rents on their capital. Importantly, though not affecting the total
welfare, the ex post distribution of this rent affects firm’s ex ante incentives to hold cash versus
capital. In other words, capital prices, through its second role of determining the distribution of
rent, cause a wedge between the private marginal rate of substitution between capital and cash and
that of the social planner. This wedge distorts the price of capital away from its social value, and
in turn–because of its first role–distorts the investment and disinvestment decisions.
    Novel to the existing literature on pecuniary externalities, we show that the direction of price
distortion in our model depends on the state of the economy. The high rent on capital versus
cash in a boom implies that the private value of capital is higher than the social value of capital
in these states. This is a pecuniary externality inducing even higher price and overinvestment in
capital in booms. As a symmetric argument, in downturns the price of the capital is low, inducing
a negative wedge between the private and the social value of capital. This implies even lower price
and underinvestment in capital in downturns.
    We suggest a number of applications for our model. First, we highlight the dynamic conse-
quences of one-sided (in downturn only) interventions, which relates our paper to the debate on
asymmetric interest rate policy often referred to as the Greenspan’s put. The dynamic structure
of our model emphasizes a two-way interaction between decisions in booms and downturns. When
a firm decides to build capital, she worries that this capital will have to be dismantled if the state
of the economy deteriorates significantly. When she dismantles capital in downturns, she similarly
takes into account that the economy might revert to a boom. As a result, if the policy maker
taxes cash-holdings in downturns to increase the capital price and avoid inefficient liquidation,
this one-sided intervention will typically make the overinvestment problem worse in the boom.
This unintended effect of the downturn-intervention in booms may make firms worse off even in
downturns.
    Second, our model can also be interpreted in a narrower, sectoral level. In particular, a series of
papers2 document that there are relative boom/bust patterns across industries. That is, from time-
to-time different industries go through patterns where high returns induce an overinvestment phase
relative to other industries which is followed by abnormally low returns inducing an underinvestment
phase. Interestingly, Hoberg and Phillips (2010) show that these inefficient investment waves are
more pronounced in more competitive industries, where firms do not internalize their own impact
on the market price. This evidence is consistent with our mechanism that inefficient investment
waves are driven by pecuniary externalities (which requires economic agents to be price takers).
    Third, as an application with both aggregate and sectoral elements, we also connect our results
to the boom and bust pattern in construction and housing prices. Our mechanism suggests that the
volume of real estate development in a boom is inefficiently high,3 because investors build houses
   2
     See Rhodes-Kropf, Robinson and Viswanathan (2005) and Hoberg and Phillips (2010).
   3
     One suggestive sign of the inefficiently high level of real estate development is the frequently observed phenomenon
of “overbuilding” (e.g. Wheaton and Torto, 1990; Grenadier, 1996), that is, periods of construction booms in the face
of rising vacancies and plummeting demand.



                                                           4
(instead of holding liquid financial assets) as a store of value expecting to be able to sell the real
estate for a high price in case they want to invest into a new investment opportunity. In downturns,
the resale price of real estate is low, so investors prefer to hold inefficiently high level of liquid assets
in case they want to invest into a new investment opportunity. That is, the relative liquidity of
real estate compared to short-term assets varies over the business cycle, resulting in a two-sided
inefficiency.
    Finally, we relate our results to the literature on financial development and growth. For this,
we consider our assumption of the missing market for idiosyncratic investment opportunities as
a proxy for the lack of financial development. Under this interpretation, our model provides a
potential justification for the stylized facts that in less financially developed countries investment
in productive technologies is more volatile and exhibits stronger procyclicality.4 As we show,
this excess volatility implies slower capital accumulation and lower consumption in less financially
developed countries.
     As a methodological contribution, we develop a novel dynamic model to analyze the effect of
aggregate liquidity fluctuations on asset prices and real activity, with analytical tractability for the
full joint distribution of states and equilibrium objects.
     Literature. To our knowledge, our paper is the first to show that the simple friction of unverifi-
able idiosyncratic investment opportunities results in investment cycles with two-sided inefficiency,
i.e., overinvestment in booms and underinvestment in recessions.
     Our work belongs to a growing literature analyzing pecuniary externalities in incomplete mar-
kets. All this literature, including our paper, builds on the result in Geanakoplos and Polemarchakis
(1985) that when markets are incomplete, the competitive equilibrium may be constrained inef-
ficient. In this setting pecuniary externalities can have a first order effect, because prices fail to
equate the marginal rate of substitution of each firm across all goods (or states). A large stream
in this literature emphasizes a fire-sale feed-back loop induced, typically, by a collateral constraint
(e.g. Kiyotaki and Moore, 1997; Gromb and Vayanos, 2002; Krishnamurthy, 2003; Lorenzoni, 2008;
Jeanne and Korinek, 2010; Bianchi, 2010; Bianchi and Mendoza, 2011; Stein, 2011; He and Krish-
namurthy, 2012a). In these papers, firms do not take into account that the more they invest ex
ante, the more they have to dismantle once they hit their constraint, which reduces fire-sale prices
tightening the constraint and amplifying the effect. Such an amplification mechanism is absent
in our paper. Instead, we follow Shleifer and Vishny (1992), Allen and Gale (1994, 2004, 2005),
Caballero and Krishnamurthy (2001, 2003), Farhi, Golosov and Tsyvinski (2009) and Gale and
Yorulmazer (2011) where an uninsurable shock creates the dispersion in marginal rate of substitu-
tion of ex-ante identical firms.5 Our main point of departure is that in our paper the sign of the
distortion turns out to switch with the state of the economy. Our main innovation leading to this
   4
     See Aghion et al. (2010).
   5
     For fire-sale externalities explored in the literature see Davila (2011) for a comparative analysis. For uninsurable
idiosyncratic liquidity shocks, see Holmstrom and Tirole (2011, chap.7.) for simplified versions and excellent discussion
of Shleifer and Vishny (1992) and Caballero and Krishnamurthy (2003). Finally, a recent paper by Hart and Zingales
(2011) studies the excessive supply of private money based on the idea of special pledgeability of certain assets. This
friction always results in overinvestment in such assets, in contrast to our model.


                                                           5
result is that the Geanakoplos and Polemarchakis (1985) mechanism is interacted with a theory of
countercyclical liquidity premium.
    A group of recent papers investigating the moral hazard problem of incentivizing banks in a
macroeconomic context derive related implications to our work. Similar to our work, in Gersbach
and Rochet (2012) banks extend too much credit in booms and too little in recessions. Their
mechanism relies on the difference between the private and social solution of bank’s moral hazard
problem.6 Furthermore, our result that one-sided interventions can be inferior to no interventions
is related to the debate on the pros and cons of asymmetric interest rate policy often referred to
as the Greenspan’s put (e.g. Diamond and Rajan, 2011; Farhi and Tirole, 2012).7 In these papers,
agency frictions and related incentive problems for financial intermediaries are crucial. In contrast,
our mechanism is based on the novel observation that a missing market for idiosyncratic investment
opportunities can lead to a market price which is biased in the opposite direction in booms and
downturns. Thus, whatever policy helps in a boom will typically make firms worse off in downturns
and vice-versa. Ex ante welfare in any state is the weighted average of these effects.
    From a methodological point of view, as a continuous-time model with investment and trade, the
closest papers to ours are Brunnermeier and Sannikov (2011) and He and Krishnamurthy (2012b).
As their focus is balance sheet amplification rather than pecuniary externality, their model is more
complex and less analytically tractable.
    The structure of our paper is as follows. Section 2 gives an simple static example to highlight
the main intuition. In Section 3 we present our model, and analyze the market equilibrium and
the constrained efficient allocations of the social planner. In Section 4 we expose the inefficiencies
of the market solution. Section 5 presents our applications and extensions. Finally, we conclude.


2       A simple example
Before we move on to set up our main model, we first illustrate the key insight of our paper by a
simple example with the following 2-date-2-good economy.
   Endowment and goods. At the beginning of date 0 there is a unit mass of risk-neutral firms.
Each firm i ∈ [0, 1] holds one unit of the capital good (also referred to as capital), and c units of
the consumption good (also referred to as cash). While this example is fully symmetric in these
two goods, this will not be the case in our main model in Section 3.
    Transformation technology. At date 0, each firm can invest or disinvest by using the
consumption good to create capital or the other way around. The technology is such that each firm
can convert two units of cash to a capital, or obtain a unit of cash by liquidating two capital. Thus,
                                                                                                    
given the endowment of one unit of capital and c cash, the individual holding of K i ≥ 0, C i ≥ 0
    6
      Namely, if private benefits of banks are increasing in the size of their loans, then it is cheaper to make them exert
effort by letting them to increase their loan size in booms compared to paying them sufficient rent to avoid this. This
private contract does not take into account the price effect of the resulting procyclicality in aggregate loan size.
    7
      In a nutshell, supporting distressed institutions by low interest rates is detrimental to ex ante incentives of
financial intermediaries (e.g., encouraging their excessive risk-taking ex ante). As a result, ex post intervention to
save distressed institutions will be needed more often.


                                                            6
at the end of date 0 must satisfy
                                         
                                             2K i + C i = 2 + c if K i > 1,
                                             1 i      i   1          i
                                                                                                              (1)
                                             2 K + C = 2 + c if K ≤ 1.


This budget constraint reflects a kinked transformation technology.8
    Idiosyncratic skill shocks and trading. At date 0, each firm is identical. However, at the
beginning of date 1, half of the firms are hit by a high productivity shock, so that they can produce
3 units of the consumption good out of each unit of the capital. The rest of the firms cannot use
the capital at all, but receive a new investment opportunity which turns each unit of cash into 3
units of consumption good.9 There are no aggregate shocks in this simple example, but we will
introduce them later in the main model.
    After these idiosyncratic skill shocks, firms can trade capital for cash with each other. Finally,
firms produce and invest in the new opportunity, and consume the proceeds at the end of date
1. Crucially, neither the returns from production nor the returns from the new opportunity are
pledgeable, and the realization of the skill-shock is unverifiable.
                                                  
    The market solution. Recall that K i , C i describe the holdings after the adjustment in date
                                                                                              
0 but before the trade in date 1. Denote the aggregate counterpart K = K i di and C = C i di.
After idiosyncratic skill shocks, firms who can produce (exploit the new opportunity) will exchange
all their cash (capital) for capital (cash). In the competitive market, there are C/2 amount of cash
to purchase K/2 amount of capital, and thus the equilibrium capital price in date 1, in terms of
cash, is
                                                      C
                                                 p= .                                             (2)
                                                      K
       For this given price, each firm solves
                                                                      
                                                       3          Ci     3 i      
                           max          J i K i, C i; p =      Ki +      +   K p + Ci ,                       (3)
                        K i ≥0,C i ≥0                     2         p      2

subject to the budget constraint in (1). For instance, with probability 1/2, the firm becomes
specialized at capital, and she can purchase C i /p units of capital from the market. Then in total
she will have K i + C i /p units of capital, each of them producing 3 units of final consumption good.
   8
     We show in Appendix C that our main results do not depend on the kinky technology frontier only on its
convexity.
   9
     We show in Appendix C that our main results do not depend on the extreme assumption that ex post each agent
prefers to produce with only one of the goods. In particular, we present an example where the two groups end up to
use a different convex combination of cash and capital.




                                                              7
   Given the simple linear structure, the individual demand function is
                     
                     
                               K i = 1 + 2c , C i = 0              if p > 2;
                     
                     
                        i       x     i
                      K = 1 + 2 , C = c − x for ∀x ∈ [0, c]
                                                                   if p = 2;
                                     i        i
                                   K = 1, C = c                  if 12 < p < 2;                    (4)
                     
                     
                     
                      K i = 1 − y, C i = c + y2 for ∀y ∈ [0, 1]    if p = 12 ;
                     
                     
                     
                                K i = 0, C i = c + 12               if p < 21 .

This is intuitive: individual firms hold the asset (capital or cash) whose relative price is higher
than the marginal rate of transformation, and inaction may be optimal because of the kink in the
transformation technology. When the relative price equals the marginal rate of transformation,
firms are indifferent between any interior solutions.
    We focus on symmetric equilibrium where K i = K and C i = C. We derive the unique symmetric
market equilibrium by combining individual demand functions (4) with the equilibrium condition
in (2). It is apparent that the equilibrium price p has to be in the interval 21 , 2 . We characterize
market equilibria based on the relative initial cash endowment c.

Case 1 Suppose c > 2 so that the initial cash endowment is relatively high. Then the market
equilibrium has p = 2, and individual firms invest in capital to reach the holdings of

                                             c−2                c−2
                               Ki = 1 +          > 1, C i = c −     < c.
                                              4                  2

Case 2 Suppose c < 21 so that the initial cash endowment is relatively low. Then the market
equilibrium has p = 12 , and individual firms disinvest to reach the holdings of
                                                                                  
                           i               1                    i  1          1
                         K =1−               −c       < 1, C = c +              −c       > c.
                                           2                       2          2

                                1
Case 3 Otherwise, when c ∈      2, 2   , the market equilibrium has p = c, and individual firms do not
invest so that
                                               K i = 1, C i = c.

   Social planner’s problem and inefficiency. The planner maximizes the sum of final con-
sumption of firms at the end of date 1. The only difference between the planner and the market is
that the market takes prices as given, while the social planner takes into account how individual
decisions determine prices. Thus, we can write the problem of the planner as
                                               
                           3      C      3    C
                    max       K+       +     K + C = max 3 (K + C)
                  K ≥0,C≥0 2     C/K     2    K     K≥0,C≥0


subject to the aggregate budget constraint similar to (1):

                                       2K + C = 2 + c               if K > C,
                                       1                1
                                                                                                   (5)
                                       2K    +C =       2   + c if K ≤ C.

                                                            8
The optimal solution is simply the endowment allocation:

                                             K = 1, C = c.                                           (6)

Intuitively, the marginal rate of substitution for social welfare between capital and cash is 1. Given
that this lies within the marginal rates of transformation of 12 and 2, it is socially wasteful to invest
or disinvest. However, as shown in the market solution, individual firms invest (disinvest) when
the initial endowment of cash is relatively high (low).
    Intuition and discussion. Let us highlight the main lessons from this example. Inefficiency
can potentially come from two potential sources: ex ante date 0 investment (transforming cash
to capital or the other way around), and ex post date 1 resource allocation among heterogeneous
firms. In our model, ex post resource allocations is always efficient, as the date 1 trading ensures
that capital (cash) go to the right hand–firms who can produce will get all the capital, and firms
who has a new opportunity will have all the cash to exploit this opportunity. In fact, under both
the planner’s solution and the market one, given the fixed aggregate resource pair of (K, C), the
representative firm obtains
                                                    
                           1   i  Ci      1 i     i
                                                     
                              K +      3+   K p + C 3 di = 3 (K + C)
                           2      p       2

in expectation. As a result, in our model the inefficiency arises only because of the divergent date
0 private investment incentives compared to the one of the social planner.
    To highlight the distortion investment incentives, we study the marginal rate of substitution
for both the social planner and individual firms. The social planner’s value, given the pair of
capital-cash holdings (K, C), is simply given by

                                       JP (K, C) = 3 (K + C) .

This implies that independent of market price p, the social planner’s marginal rate of substitution
(MRS S ) between cash and capital is always 1. In contrast, the private value of the pair of capital
                          
and cash holdings K i , C i given the price p is (3), and the marginal rate of substitution between
capital and cash for individual price-taking firms is the price p:
                                                             1
                                ∂J i K i , C i ; p /∂K i
                                i                              2   (3 + 3p)
                          MRS =                            =               = p.                    (7)
                                ∂J i (K i , C i ; p) /∂C i     1     3
                                                                       + 3
                                                               2     p


   Interestingly, there is a wedge between the social planner’s marginal rate of substitution of 1
and that of individual firms p. The economic force behind this wedge is as follows. Although the
ex post (date 1) trading guarantees the efficient resource allocation (which the social planner cares
about), it introduces the distribution of economic rents (which the social planner does not care
about) that in general distorts the individual firm’s ex ante (date 0) marginal rate of substitution.


                                                   9
To see this, consider the pair of trading firms so that one prefers to have the capital (a capital-firm),
while the other prefers to have the cash (a cash-firm). The capital in the cash-firm’s hand delivers
the firm a utility of 3p (by selling the capital for p cash and investing it to get 3p utility at the
end of date 1), while the cash in the capital-firm’s hand delivers 3/p (by buying 1/p capital which
yields 3/p utility at the end of date 1). Hence, when cash is abundant (scarce) relative to capital in
aggregate so that the ex post capital price p is higher (lower) than 1, most of the rent from holding
cash (capital) goes to the firms holding capital (cash). As a result, compared to the social planner,
holding capital (cash) becomes more attractive than holding cash (capital).10
   Finally, note that in resolving the inefficiency, the social planner does not need to identify (or
make firms to reveal) which firm is hit by which idiosyncratic shock. In fact, ex post trading will
implement the efficient allocation of cash and capital across heterogenous firms, and it is sufficient
for the social planner to control the ex-ante investment decisions.
    The above intuition that agents overinvest in the scarce good because of a pecuniary externality
carries the main driving force of our main results in this paper. Our full dynamic model completes
this intuition in two crucial dimensions. First, it connects the relative scarcity of assets with the
state of the economic cycle. While in this example there is little significance that we call one of the
goods a capital good (and the other as cash), this will not be the case in our main model. Indeed,
in our full model, the capital good generates a stochastic flow of cash, and firms deciding to save
or invest the produced cash drive the economic cycle. Second, our dynamic structure provides a
natural way to analyze how a government intervention in a downturn changes firms’ incentives in a
subsequent boom and how the fact that firms foresee this effect determines the welfare consequences
of this intervention.


3        The Model
3.1      Assets
We model an economy with trade and investment. There is a single capital good representing risky
and productive projects. The other asset in this economy is cash which both serve as a consumption
good and as an input for building capital. We assume that there is a safe storage technology and
capital does not depreciate; thus both capital and cash are perfectly storable.
    10
     In Appendix C we explore this inefficiency in more detail, and we show that our results are robust as long as
there are other informational or agency frictions. We highlight three potential routes to deal with this inefficiency:
(1) agents could exchange contracts in period 0 conditional on their date 1 individual skill-shocks; (2) agents could
be forced to pool their assets into a bank in period 0, to get back a unit of capital or cash in period 1 based on their
self-reported type; and (3) an agent who holds an asset useless to him can contract with another agent to exploit the
asset and return the proceeds.
   Solution (1) and solution (2) would eliminate the inefficiency if the skill-shock was verifiable. However, reminiscent
to Diamond and Dybvig (1983) and Jacklin (1987), under (1) agents have incentives to misreport their types, and
this problem applies to (2) as well if there exists some Walrasian market for the asset. Solution (3) heavily relies
on the assumption of pledgeable output. When output is partially pledgeable, we show that agents would prefer
trading their assets directly in the market (as in our model) to writing contracts in (3) if agents can abscond with a
sufficiently large fraction of the output.



                                                           10
   There is a final date arriving at a stopping time τ with Poisson intensity ξ, where ξ is a positive
constant. At the end of the final date, each unit of capital pays a single cash-dividend (to be
specified shortly). However, before the final date, each unit of capital generates random cash flows.
This shock is common across capital units and driven by σdZt, where σ is a positive constant and
Z ≡ {Zt, Ft ; 0 ≤ t < ∞} is a standard Brownian-motion on a complete probability space (Ω, F, P).
When σdZt > 0 the capital generates cash; when σdZt < 0, the owner of the capital has to invest
this amount (of cash) to the capital as maintenance; otherwise the capital turns unproductive.
    Denote by Kt the aggregate quantity of capital. Then given the aggregate cash shock σdZt for
each unit of capital, the evolution of aggregate cash, without investment or disinvestment (to be
introduced shortly), is
                                                   dCt = Kt σdZt.                                             (8)

3.2       Firms and frictions
The market is populated by a unit mass of risk neutral firms who operate the capital. At each time
instant firm may decide to build new capital, trade capital for cash at the equilibrium price pt , or
dismantle the capital. Building new capital costs h units of cash, while liquidating a unit capital
provides l units of cash where h > l. This scraping technology ensures the limited liability of the
asset owner despite the potentially unbounded losses in (8). Firms can also consume their cash
at any moment for a constant marginal utility of 1. Because of linear technologies, in general it is
optimal to have threshold strategies for (dis)investment. Thus, we can simply focus on thresholds
in comparing different (dis)investment strategies.
    The major friction in this economy is that firms are subject to non-verifiable idiosyncratic
shocks. While firms are ex ante identical, ex post they differ in their skills. Specifically, in the final
date, each firm with probability half experience a firm-specific productivity hike implying that in
their hands each capital can produce R unit of cash. Firms not experiencing this shock cannot
produce any cash from their capital. However, they are the only ones to receive an investment
opportunity which allows them to turn every unit of cash to u > 1 units of final consumption. This
situation is analogous to the capital-cash example studied in Section 2. Just as in that example,
we only need that ex post there is heterogeneity among firms in their valuations of the available
assets.
    We assume that both R from the capital and u from the new technology are not pledgeable;
this extreme assumption is a short-cut for agency and/or informational frictions.11 Throughout we
assume that
                                              R
                                                > u,                                           (9)
                                              h
which ensures that building capital is socially efficient when the economy has sufficient cash.
   Firms learn which group they belong to only at the beginning of the final date. We refer to the
group with the skill to invest in the new technology as firms hit by skill-shock. Importantly, after
  11
       Appendix C, in the context of our simple example, discusses the potential agency problems in detail.



                                                           11
                                                           Figure 1: Time line.

firms learn whether they are hit by the shock but before the final productions are taken place, all
firms have a last trading opportunity to trade capital for cash. We refer to the potentially infinitely
long time interval before the final date τ as ex ante, and refer to the final date τ (where final trading
occurs) as ex post. We denote the ex post price by pτ (recall that we denote by pt ex ante prices).
    Figure 1 summarizes the time-line of events in our model. While the dynamic structure of
our model might seem unusual, we argue that this structure unifies the advantages of two period
models and infinite period models. In particular, this structure renders tractability for analytically
showing pecuniary externalities, and moreover allows us to analyze the stationary distribution of
ex ante variables.12

3.3    Individual firm’s problem
Consider firm i who holds Kti units of capital and Cti amount of cash, with a wealth of (in terms of
cash) wti ≡ pt Kti + Cti . Then the firm i is solving the following problem:
                                           ∞                 τ                                            
                                                 −ξτ                         1       Cτi      1 i          
            max                 E               ξe                 dαit   +      i
                                                                                Kτ +       R+             i
                                                                                                Kτ pτ + Cτ u dτ   (10)
 {dαi ≥0,K i ≥0,C i ≥0,dK i }           0                  0                 2       pτ      2

where αit is the firm i’s cumulative consumption before the final date τ (so it is non-decreasing with
dαit ≥ 0; later we see that it is zero in equilibrium), and the term in the squared bracket is the
consumption at the final date. Kti is the amount of capital that she dismantles or builds. In the
squared bracket, we also used the fact that those hit by the skill-shock sell their capital for pτ to
those who are not hit. For instance, when the skill shock hits, the firm sells the capital to receive
Kτi pτ , and then invests them together with Cτi in the new technology with productivity u. Note
that the expression in the squared bracket is analogous to the objective function (3) in our simple
example.
  12
    It is worth emphasizing that our qualitative results are robust to a setting where investment opportunities arrive
in every instant to a given fraction of agents (and thus separate from the aggregate productivity hike event); see the
analysis in Section 5. We show that the main qualitative results still hold in that less tractable but, in some contexts,
more intuitive variant.



                                                                           12
    The problem in (10) is subject to the dynamics of individual wealth,

                                    dwti = −dαit − θdKti + Kti (dpt + σdZt ) ,

where θ is the cost of changing the amount of capital so that
                                                  
                                                      h if dKti ≥ 0
                                             θ=                     .
                                                      l if dKti < 0

Also, wealth cannot be negative at any point, i.e., wti ≥ 0 for all t.
                  
   Recall Kt = i Kti di is the aggregate capital. Combining the investment/disinvestment policy
dKt , (8) implies that the dynamics of aggregate cash level in the economy is13

                                              dCt = σKt dZt − θdKt .                                               (11)

The scale-invariance implied by the linear technology suggests that it is sufficient to keep track of
the dynamics of the cash-to-capital ratio:

                                                      ct ≡ Ct /Kt ,

which evolves according to

                                         dCt   Ct dKt                    dKt
                                 dct =       −        = σdZt − (θ + ct )     .                                     (12)
                                         Kt    Kt Kt                     Kt

3.4    Interpretation
At the firm level, Cti represents the financial slack of a firm, that is, its cash holdings and other
short-term investments, while Kti represents the total of its gross property, plants, equipment,
inventories and intangible assets. The process σKti dZt represents operating cash-flows.14 In our
abstract model firms do not raise funds from outside investors, financing their investment from
retained earnings only. This gives a clear motive to build up cash reserves as a buffer for future
operational losses. While it is a major simplification, a series of recent papers with strong empirical
focus show that this precautionary motive remains the key determinant of firms behavior even when
both internal and external finance are considered (e.g. Armenter and Hnatkovska (2011), Bolton,
Chen and Wang (2011), Covas and Haan (2011), Eisfeldt and Muir (2012)).15
  13
     To simplify notation we ignore the possibility that at any given point in time some agents create capital while
some agents liquidate capital. It will be easy to see that this never happens in equilibrium.
  14
     In contexts where firm-level data might not be available, we can think of the net of liquid asset holdings Ct as a
metaphor for quantities invested in short-run, low-return projects, while the net of capital holdings as total cumulative
investment in long-run, higher-return, riskier projects. For example, Aghion et al. (2010), in an international context,
use the share of structural investment compared to total investment as an empirical proxy for the share of investment
in long-run productive projects.
  15
     For example, Covas and Haan (2011) and Eisfeldt and Muir (2012) document that firms tend to safeguard their
investments in downturns by accumulating retained earnings and issuing more equities and debt in booms than their



                                                           13
    In a domestic, interindustry context, we should expect that the relevance of our main contracting
friction of unverifiable investment opportunities is more relevant in industries with a larger role of
non-tangible assets such as human capital. In an international context, this friction should be more
relevant in countries with less financial development, and lower degree of law enforcement.

3.5     Definition of Equilibrium
Definition 1 In the market equilibrium,

   1. each firm chooses dαit , Kti , Cti , and dKti to solve (10), and

   2. markets clear in every instant both ex ante and ex post.

    As we will see, in our framework, the equilibrium only pins down the aggregate variables: prices,
net trade, and net investment and disinvestment. Typically, any combination of individual actions
consistent with the aggregate variables is an equilibrium. Thus, often it is convenient to pick the
particular market equilibrium where all firms follow the same action. We refer to this case as the
symmetric equilibrium.

Definition 2 A symmetric equilibrium is a market equilibrium where

                           dαit = dαt , Kti = Kt , Cti = Ct , and dKti = dKt .

   In the rest of the paper we omit the time subscript t or τ whenever it does not cause any
confusion.

3.6     Market Equilibrium
We solve for the market equilibrium in this section. As we show, in this economy consumption
before Poisson event is strictly suboptimal, thus dαit = dαt = 0 always.

3.6.1    Ex post equilibrium prices

Consider the final date. All firms who are hit by the skill-shock sell their capital, because their
marginal valuation of capital drops to zero. And, as long as the capital price p is less than R, all
cash holders who are not hit by the shock are happy to exchange all their cash to capital. Appealing
to the law of large numbers, the market clearing condition at the final date implies that

                                           1    1
                                             C = K p ⇒ p = c.
                                           2    2

We still need to ensure that c ≤ R. Later we show that the full support of c is endogenous as firms
build (dismantle) capital whenever the aggregate cash is sufficiently high (low). For simplicity, we
restrict the parameter space to ensure that the condition c ≤ R holds always in equilibrium.
direct investment needs.


                                                     14
3.6.2   Ex ante equilibrium values, prices, and investment polices

In the ex-ante interval determining the equilibrium objects is more subtle. As we state in the next
lemma, our formalization has a number of useful properties. Namely, the only relevant aggregate
state variable is the cash-to-capital ratio, and the value function of any individual firm is linear in
their capital and cash holdings.
                              
Lemma 1 Let J K i , C i , K, C be the value function of firm i who holds capital K i and cash C i
in an economy with aggregate capital K and aggregate cash C. Then for aggregate cash-to-capital
ratio c = C/K, there are functions v (c) and q (c) that,
                                                 
                                 J C, K, K i , C i = K i v (c) + C i q (c) .

    That is, regardless of the firm’s portfolio, the value of every unit of capital is v (c) and the value
of every unit of cash is q (c) ; both functions only depend on the aggregate cash-to-capital ratio.
Because of linearity, the equilibrium price has to adjust in a way that firms are indifferent whether
to hold capital or cash. That is, the equilibrium (ex ante) price of capital p (c) must satisfy that

                                                              v (c)
                                                  p (c) =           .
                                                              q (c)

   Firms build capital whenever the capital price p reaches the cash cost h, and dismantle capital
whenever the price falls to the liquidation value l. Define c∗h (c∗l ) as the endogenous threshold of the
aggregate cash-to-capital ratio where firms start to build (dismantle) capital, then we must have

                                        v (c∗h )        v (c∗ )
                                           ∗  = h, and  ∗l  = l.                                   (13)
                                        q ch            q cl

Moreover, the linear technology implies that c∗h and c∗l are reflective boundaries of the process c.
Therefore, based on (12), the aggregate cash-to-capital ratio c must fluctuate in the interval [c∗l , c∗h ],
with a dynamics of
                                           dc = σdZt − dUt + dBt ,                                     (14)

where dUt ≡ (h + c∗h ) dK                 ∗                                ∗ dKt
                        Kt reflects c at ch from above while dBt ≡ (l + cl ) Kt reflects c at cl
                          t                                                                     ∗

from below. Moreover, the standard properties of reflective boundaries imply the following smooth
pasting conditions for our value functions:

                                 v ′ (c∗h ) = q ′ (c∗h ) = q ′ (c∗l ) = v′ (c∗l ) = 0.                 (15)

3.6.3   Characterizing the market equilibrium

Now we turn to characterizing the value functions v (c) and q (c) in the range c ∈ [c∗l , c∗h ] . We give
here a draft and show the details in the Appendix. Because of Lemma 1, firms are indifferent in
the composition of their portfolios, and we can consider the value function of a firm who holds only


                                                         15
capital and another firm with cash only. The cash-holding firm gives an ODE for q (c):
                                                                                     
                                    σ2 ′′ ξ             ξ                    R
                                 0=   q + (u − q (c)) +                        − q (c) ,               (16)
                                    2     2             2                    c

and the capital-holding firm, given q (c) , yields the ODE for v (c):

                                             σ 2 ′′    ξ              ξ
                         0 = q ′ (c) σ 2 +      v (c) + (uc − v (c)) + (R − v (c)) .                   (17)
                                             2         2              2

   These ODEs are Hamilton-Jacobi-Bellman (HJB) equations given the dynamics of the state
                                                                                                2
c. We first explain the terms without ξ in both ODEs. For the cash value q equation (16), σ2 q ′′
captures the impact of changing c; and a similar term shows up in the capital value v equation
(17). In addition, we have q ′ (c) σ2 in equation (17) because of the Ito’s correction term. To see
this intuitively, the capital itself generates random cash flows σdZt that are correlated with the
aggregate state ct+dt = ct + σdZt (see 14), and the expected value of these cash flows is
                                                                        
                         Et [q (c + σdZt ) σdZt ] = Et q′ (c) σ 2 (dZt )2 = q ′ (c) σ 2 dt.

    The terms multiplied by the intensity ξ describe the change in expected utility once the final
date arrives. The first of these terms in equation (16) shows that, once a firm holding a unit of
cash is hit by a skill shock, her value jumps to u from q (c) . Otherwise, the second term says that
she uses the unit of cash to buy 1/ p = 1/c unit of capital, so her utility jumps to R/c from q (c) .
The interpretation in equation (17) is analogous.
                              √
    Define the constant γ ≡ 2ξ/σ which is important for our analysis. We solve the ODE system
in (16)-(17) in closed-form, which admits the following general form:

                               u                        γ −ecγ Ei (−γc) + e−cγ Ei (cγ)
                     q (c) =     + e−cγ A1 + ecγ A2 + R                                ,               (18)
                               2                        2              2

and

                    uc                                           γ (eγc Ei (−γc) − e−cγ Ei (γc))
      v (c) = R +      + ecγ (A3 − cA2 ) − e−cγ (A4 + cA1 ) + cR                                 ,     (19)
                    2                                            2               2

where Ei (x) is the exponential integral function defined as
                                                                x
                                                                    et
                                                Ei (x) ≡               dt,
                                                            −∞      t

and the constants A1 -A4 are determined from boundary conditions in (15).
     Finally, we determine the endogenous investment/liquidation thresholds c∗l and c∗h using (13).
The functions v (c) , q (c) and the thresholds constitute an equilibrium if the resulting price p (c) =
v(c)                                         ∗ ∗
q(c) falls in the range of [l, h] when c ∈ [cl , ch ]. The following proposition gives sufficient conditions
for such a market equilibrium to exist and describe the basic properties of this equilibrium. We


                                                           16
summarize this result below and give formal proof in the Appendix.

Proposition 1 If the difference between the cost of liquidation, l and the cost of building a capital,
h is sufficiently small, then the market equilibrium with following properties exist:

   1. firms do not consume before the final date;

   2. each firm in each state c ∈ [c∗l , c∗h ] is indifferent in the composition of her portfolio;

   3. firms do not build or dismantle capital when c ∈ (c∗l , c∗h ) and, in aggregate, firms spend every
      positive cash shock to build capital iff c = c∗h and cover the negative cash shocks by liquidating
      a sufficient fraction of capital iff c = c∗l ;

   4. the value of holding a unit of cash and the value of holding a unit of capital are described by
      v (c) and q (c), and the ex ante price is p (c) = v (c) /q (c);

   5. ex post, a firm hit by the skill shock sells all her capital to firms who are not hit by the shock
      for the price p = c; and

   6. q (c) is monotonically decreasing, v (c) is monotonically increasing, and p (c) is monotonically
      increasing.

    Because all firms are ex ante indifferent how much cash or capital to hold at the equilibrium
prices, the properties of our market equilibrium leave individual portfolios undetermined. The
symmetric equilibrium picks the equilibrium where all individual portfolios are the same.16

3.6.4     Investment waves

The thick, solid lines on panels A-E of Figure 2 illustrate the properties of the market equilibrium.
While panels A-C show the functions p (c) , v (c) , q (c) describing the price of capital, the value of
cash and the value of capital in equilibrium, panels D-E depict the cash-to-capital ratio and the
investment/disinvestment activity along one particular sample path.
    We can think of the cash-to-capital ratio c as “aggregate liquidity,” and the time with high
(low) aggregate liquidity in which capital are built (dismantled) as a boom (downturn). In our
model investment takes a simple threshold strategy so that investment (disinvestment) occurs only
at c∗h (c∗l ). However, we believe the resulting clustered investment and disinvestment activities
depicted on panel E captures the essence of boom and bust patterns observed in reality. The
economy fluctuates across states because the aggregate cash-flow shocks drive the aggregate level
of liquidity. This is illustrated in panel D. This particular sample path starts with a series of
  16
     Note that there are parameter combinations for which the equilibrium described in Proposition 1 does not exist.
However, in those cases, typically we find another type of equilibrium to arise with very similar features. The main
difference is that in this alternative equilibrium firms do not dismantle capital at a single point when c = c∗l , but
do so gradually as long as the cash-to-capital ratio is within a range c ∈ [c∗l , cx ] . Within this range, the price is flat
at p (c) = l. Given that otherwise this alternative equilibrium differs little to the one described in Proposition 1, we
relegate its characterization to Appendix B.


                                                             17
positive shocks, which increases the marginal value of capital and decreases the marginal value of
cash. Thus, the price of capital increases along this path (not shown)17 and the expected return of
holding capital rises. This is so, because in these states the probability that the economy slips into
a downturn (so that capital has to be dismantled) is low. Thus, firms are willing to hold capital
even if its expected excess return over cash is relatively low. Around period 120 the price hike
reaches the cost of building capital, h, which triggers investment (as shown in Panel E) to keep the
cash-to-capital ratio at c∗h . For symmetric reasons, as a series of subsequent negative shocks decrease
aggregate liquidity, the marginal value of cash and expected returns rise, while the value of capital
falls, which depresses prices. Around period 700, these negative shocks trigger disinvestment in
capital, keeping the cash-to-capital ratio above c∗l .
                       √
    The constant γ = 2ξ/σ parametrizing functions v (c) , q (c) in (19) and (18) plays an important
role. Intuitively, γ drives the relative importance of the ex post payoffs for ex ante decisions. A
high switching intensity ξ or a low σ reduces the chance of large interim shocks, and hence ex post
payoffs are important determinants of ex ante decisions. The following results on the investment
and disinvestment thresholds are useful in understanding the intuition behind our results.

Proposition 2 In the market equilibrium,

   1. c∗h > h, c∗l < l; and

   2. as γ → ∞, c∗h → h and c∗l → l.

    Consider the last result. When γ grows without bound the firm’s ex ante decisions are almost
solely determined by ex post payoffs. That is, in that limit our dynamic set up is very close to our
simple static example in Section 2. Indeed, Case 1 and Case 3 in our simple example in Section 2
stated that agents build capital whenever the initial endowment of cash relative to capital is larger
than h = 2 (the cost of building a unit of capital) and dismantle capital whenever the endowment
of cash relative to capital is smaller than l = 12 (the benefit of liquidating a unit of capital). This
result directly corresponds to the second statement in this proposition. Away from this limit, when
building a unit of capital, the firm considers also the risk of reaching the low liquidity state when
this unit is dismantled inefficiently. Thus, she decides to build capital only at a higher threshold,
i.e., c∗h > h. The analogous argument implies that c∗l < l.
     Clearly, the levels of the endogenous investment and disinvestment thresholds, c∗h and c∗l , de-
termine the main characteristics of investment waves in our economy. The main question of this
paper is whether these thresholds at their welfare maximizing level in the market equilibrium. This
is what we study in the next section.
  17
    As a monotonically increasing function of c, the path of p (c) looks qualitatively similar to the path of c, except
that it fluctuates between h and l instead of c∗h and c∗l .




                                                          18
Figure 2: Panels A-C depict the price of capital, value of cash and the value of capital. The solid,
vertical line on the right of each graph is at the investment threshold in complete markets and in
social planners solution, cPh , while the two dashed vertical lines are the disinvestment and investment
thresholds in our baseline case, c∗l , c∗h . The horizontal lines on the Panel A are at the levels of l and
h. Panels D-F depict a simulated sample path. Vertical lines on panel E from top to bottom are
c∗ , ch and cl . Each panel shows objects both for the baseline model with incomplete markets (thick
solid curves) and the benchmark of complete markets (thin, dashed curves). Parameter values are
R = 4.1, σ 2 = 1, ξ = 0.1, u = 2, l = 1.8 and h =19    2.
4        Externalities
We study pecuniary externalities in this section. As a benchmark, we first solve for constrained
efficient allocation in this economy. We then show that our model features a two-sided inefficiency on
investment waves: Firms always underinvest (disinvest) in capital in downturns and often overinvest
in booms.

4.1      Constrained efficient benchmarks
We study the constrained efficient allocation where the planner takes into account the technological
constraint that the aggregate cash has to be kept non-negative by liquidating capital if necessary.18
We will consider two benchmark economies which both produces the same constrained efficient
outcome.
   First, we consider a social planner who can dictate investment policies but without knowing
the realization of skill shocks of market participants. Compared to the market equilibrium, the
only difference is that in the market equilibrium investment and disinvestment are driven by the
market price of capital. In contrast, the social planner ignores market prices and directly decides
when to build or dismantle capital. Second, we consider a decentralized economy where markets are
complete so that each individual firms have access to the same investment opportunities (potentially
through contracting), which allows us to characterize the asset prices without inefficiency.

4.1.1      Social planner’s problem

Denote by JP (K, C) the social planner’s value function. The planner can decide when to build and
dismantle capital. Thus, she optimally regulates the c process subject to the constraint that the
cash level C must stay non-negative.
    Ex post, cash (capital) always ends up in the firms with (without) skill shock at the market
clearing price p = c. Therefore, the total value ex post is19

                                                      KR + Cu.                                                  (20)

Thus, given the aggregate state pair (K, C), the social planner is solving
                                                     ∞                           
                                                           −ξτ
                       JP (K, C) = max E                  ξe        (Kτ R + Cτ u) dτ ≡ KjP (c)                  (21)
                                       dK         0

subject to the constraint C ≥ 0 and (11). In the second equality, we have invoked the scale-
invariance to define jP (c) to be the social planner’s value per unit of capital.
    18
     Without this technological constraint, condition (9) implies that the planner should convert any amount of cash
to capital.
  19
     Given (K, C), the representative firm hit by the skill-shock gets u (
                                                                          pK + C) = u (cK + C) = 2Cu, while if she is
not affected she gets RK + RC/ ( p) = RK + R  c
                                                 C = 2KR. Hence, in expectation the total welfare is RK + uC.




                                                               20
    Because of the linear technology of building and liquidating capital, regulation with reflective
barriers on c is optimal (Dixit (1993)). That is, there exists low and high thresholds cPl and cPh , so
                                                         
that it is optimal to stay inactive whenever c ∈ cPl , cPh , and dismantle (build) just enough capital
to keep c = cPl (c = cPh ) at the lower (upper) threshold.
    Consider the social value given the particular policy that c is regulated by an arbitrary reflecting
barriers cl < ch . Define the corresponding (scaled) social value20 as jP (c; cl , ch ) so that
                                                              ∞                                          
                                                                    −ξτ
                            KjP (c; cl , ch ) ≡ E                  ξe        (Kτ R + Cτ u) dτ | cl , ch .                      (22)
                                                           0

Using standard results in regulated Brownian motions, jP (c) must satisfy

                                         σ2 ′′
                                   0=      j + ξ (R + uc − jP ) , for c ∈ (cl , ch ) ,                                         (23)
                                         2 P
                                                                               ∂ 2 jP
where we suppressed the arguments of jP and jP′′ =                              ∂ 2c
                                                                                        ; and at the reflective barriers cl , ch the
smooth pasting conditions must hold:

       ∂ [KjP (cl ; cl , ch )]    ∂ [KjP (cl ; cl , ch )]       ∂ [KjP (ch ; cl , ch )]    ∂ [KjP (ch ; cl , ch )]
                               =l                         , and                         =h                         .           (24)
             ∂K                          ∂C                            ∂K                         ∂C
We emphasize that these conditions are not optimality conditions. They hold for any arbitrarily
chosen barriers cl < ch as a consequence of forming expectations on a regulated Brownian motion.21
The ODE (23) has a closed from solution

                                      jP (c; cl , ch ) = R + uc + D1 e−γc + D2 eγc .                                           (25)

For any fixed cl , ch , we solve for the constants D1 and D2 based on (24).
                        
   Denote by cPl , cPh the social planner’s optimal barrier pair. With a slight abuse of notation,
                                                                                   
we denote the optimal value achieved by the social planner, which is jP c; cPl , cPh , simply by jP (c):
                                                            
                                     jP (c) ≡ jP c; cPl , cPh = max jP (c; cl , ch ) .                                         (26)
                                                                              cl ,ch


Following Dumas (1991), we impose supercontact conditions to determine the optimal barrier pair.
For the upper barrier cPh , this is
                                                                                                     
                    ∂ 2 KjP C/K; cPl , cPh                            ∂ 2 KjP C/K; cPl , cPh             
                                                                                                         
                                                                   =h                                               ,        (27)
                           ∂K∂C                                                ∂2C                       
                                                    C=KcP
                                                        h                                                     C=KcP
                                                                                                                  h

  20
      In our model the total welfare is state dependent. Thus, we can make a distinction between policies which
improve total welfare at some states (e.g. in downturns only), and policies which improve welfare everywhere. This
is because for any current ct the total welfare function factors in the effect of the policy in each other state. For
instance, the probability of arriving in a given state depends on the current ct , i.e., in a downturn, a boom looks less
likely than a continuing downturn.
   21
      See Dixit (1993) for a detailed argument.



                                                                        21
which we can rewrite as
                                             
                           ∂ 2 jP c; cPl , cPh                       P         P
                                                                                    
                        0=                                = γ 2 D1 e−γch + D2 eγch .
                                   ∂c           
                                                    c=cP
                                                       h


For the lower barrier cPl , at the optimal choice the constraint C ≥ 0 might bind. Thus, the
supercontact condition is
                                                                         
          ∂ 2 KjP C/K; cPl , cPh                ∂ 2 KjP C/K; cPl , cPh       
                                                                             
                                             ≤l                                       , for cPl ≥ 0   (28)
                 ∂K∂C                                    ∂ 2C                
                                      C=KcP
                                          l                                    C=K cP
                                                                                    l


with complementarity. The next proposition shows that the optimal lower threshold is cPl = 0, and
the optimal upper threshold is the unique solution of a simple analytical equation.

Proposition 3 The social planner dismantles capital whenever c reaches 0 and builds capital when-
ever c reaches the endogenous investment threshold cPh > 0. The investment threshold cPh is given
by the unique solution of

                     R − hu  cP γ                      P
                                                                      
                             e h (1 + lγ) − (1 − lγ) e−ch γ − 2γ cPh + h = 0.                           (29)
                     R − lu

Under the optimal policy, the optimal social value jP (c) is concave over 0, cPh , and jP (c) ≤ R+uc.

4.1.2   Properties of constrained efficient solution

To understand the optimal choice by the social planner, it is useful to consider the following
comparative statics.

Proposition 4 The socially optimal investment threshold cPh

  1. is converging to 0 as γ → ∞, and decreasing in γ given that γ > γ̂ for a given γ̂,

  2. decreasing in l and R and increasing in h,

  3. approaching to ∞ as R → uh.

    An unboundedly large γ is due to either a large ξ (i.e., the final date arrives very fast) or a small
σ (i.e., the interim shocks are small). Both imply that the social planner puts almost zero weight
on the possibility that a sequence of negative cash flow shocks force her to dismantle capital at the
lower threshold. Thus, as suggested in the first statement in Proposition 4, the social planner does
not store any cash (i.e., convert any cash to capital immediately). This is in line with condition (9)
which ensures that creating capital socially dominates holding cash. When γ is not that large, the
social planner puts positive weight on the possibility of forced liquidation, thus stores some cash
for buffering purposes. The higher the l, i.e. the lower the cost of liquidating capital for cash, the


                                                           22
less the cash buffer that the social planner is building up. This reduces the upper bound cPh of the
cash buffer, as stated in the second result in Proposition 4. Finally, when R − uh is sufficiently
small, the cash is almost as valuable as capital. Thus, it is optimal to store cash always, so that cPh
increases without bound.
    As a preparation for our welfare analysis, we show that (scaled) social welfare, jP (c; cl , ch ) ,
is monotonic in thresholds in the following sense. Increasing the lower threshold or decreasing
the upper threshold, relative to those of the social planners’ solution respectively, unambiguously
decreases welfare everywhere.

Proposition 5 For any ch < cPh and cl > 0, we have

                       ∂jP (c; cl , ch )          ∂jP (c; cl , ch )
                                         < 0, and                   > 0 for all c ∈ [cl , ch ] .
                            ∂cl                        ∂ch

    As a result, Proposition 5 implies that, whenever c∗h < cPh and c∗l > 0, firms underinvest in
recessions and overinvest in booms in capital in our market equilibrium. Recall that in a symmetric
equilibrium, KjP (c; cl , ch ) is also the ex ante value of the representative firm. Hence, a welfare-
increasing policy constitutes an ex ante Pareto improvement with respect to the symmetric market
equilibrium.
    Finally, is useful to define a measure of the volatility of our investment waves. For this purpose,
we define the expected total adjustment of capital, parameterized by the thresholds cl , ch :
                                                                      τ            
                                                                           |dKt |
                                         T (c; cl , ch ) ≡ E                      dt .                            (30)
                                                                   0        Kt

Proposition 6 For any ch and cl , we have

                                   ∂T (c; cl , ch )          ∂T (c; cl , ch )
                                                    > 0, and                  < 0.
                                       ∂cl                       ∂ch

    This proposition states that the expected investment volatility increases if the disinvestment
threshold, cl , is lower, or the investment threshold, ch , is higher. Thus, if the market equilibrium
have c∗h < cPh and c∗l > 0, then the economy in the market solution exhibits more volatile investment
compared to that in the constrained efficient benchmark.

4.1.3    Solution with complete market

Consider the variant of our decentralized model where markets are complete so that constrained
efficient solution is achieved. There are many different ways to model complete markets. For
instance, if individual skill states are contractible, then allowing for trading Arrow-Debreu securities
will restore the investment incentives.22 In the context of our model with investment, we simply
assume that the ex post proceeds R and u are fully pledgeable so that individual firms can enjoy
  22
     However, if individual types are not contractible, misreporting will occur. For formal arguments in the two period
context, see Appendix C.


                                                          23
the investment opportunities of others. More specifically, individual firms with skill-shock can hire
firms without skill shock to realize the full marginal return of R from capital, and similarly firms
without new investment opportunity can lend their cash and receive the new investment benefit
u. Thus, ex post all firms can invest their cash-holdings to the new technology and none of them
loses their expertise in operating the capital, which effectively eliminates the ex post heterogeneity
among firms.
    We refer to this variant of economy as the complete market economy or the subscript cm. By
following the same derivation, the value of cash qcm (c) and the value of capital vcm (c) solve the
ODE system

                              σ 2 ′′
                          0 =    q (c) + ξ (u − qcm (c)) ,                                             (31)
                               2 cm
                               ′           σ 2 ′′
                          0 = qcm (c) σ 2 + vcm   (c) + ξ (R − vcm (c)) .                              (32)
                                           2
Relative to (16) and (17), the difference lies in the ξ term capturing the ex post event: for instance,
in the complete market, each unit of capital realizes a value of R in (32), while in (17) with half
probability the firm with new investment opportunities sells that unit of capital at a price of p = c
and obtain uc. The following statement characterizes the equilibrium in this variant of our model.

Proposition 7 In the symmetric complete market equilibrium,

  1. firms do not consume before the final date;

  2. each firm in each state c ∈ 0, cPh is indifferent in the composition of her portfolio;

  3. each firm use every positive cash shock to build capital iff c = cPh and dismantle the capital
     (to cover negative cash flow shocks) iff c = 0;

  4. we have

                           qcm (c) = u + e−cγ B1 + ecγ B2 ,                                            (33)
                           vcm (c) = R + ecγ (B3 − cB2 ) + e−cγ (B4 − cB1 ) ,                          (34)

      where B1 , B2 , B3 , B4 and cPh is given by boundary conditions
                         
                     vcm cPh       v (0)              P       P
                         P  = h, cm             ′
                                            = l, vcm        ′
                                                      ch = qcm        ′
                                                                ch = vcm (0) = 0,                      (35)
                     qcm ch        q cm (0)

      and the welfare of representative firm vcm (c) + cqcm (c) achieves jP (c) given in (26); and
                                                                             vcm (c)
  5. vcm (c) is increasing in c, qcm (c) is decreasing in c, and pcm (c) ≡   qcm (c)   is increasing in c.

   In this complete market economy, because individual firms have the same objective as the
social planner, the market implements the constrained efficient solution. We later also call this

                                                  24
complete market equilibrium the constrained-efficient equilibrium. The qualitative properties of
the constrained-efficient economy is similar to the market solution of our baseline economy in
Proposition 1. In particular, as illustrated by the thin, dashed curves on Figure 2, when the cash-
to-capital ratio decreases, the price falls and the capital trades with a significant liquidity premium.
Thus, the fluctuation across booms with high prices and high investment and downturns with cheap
capital and large liquidity premium is consistent with a constrained efficient economy.

4.2     Two-sided inefficiency
Now we show that there is a large subset of parameters where firms overinvest in productive
capital in booms and underinvest in downturns. We refer to this case as two-sided inefficiency.
Figures 2 illustrates such a case, where the dashed (solid) vertical lines show the thresholds of
the market equilibrium (constrained-efficient equilibrium). In particular, in the market equilibrium
firms dismantle capital when still some cash is around, c∗l > 0; and firms create new capital at a
lower liquidity level than the social planner would do, c∗h < cPh . Proposition 6 and 5 imply that in
this case the resulting investment waves are too volatile (illustrated by panels E and F of Figures 2)
and any policy that raises (decreases) the upper (lower) threshold would unambiguously increase
total welfare.

4.2.1    Existence of two-sided inefficiency and intuition

While the social planner would dismantle capital only when all cash in the economy is gone,
the market solution in Proposition 1 has c∗l > 0 always. That is, in the market equilibrium firms
dismantle capital when the social planner would still avoid it. In this sense there is underinvestment
in productive assets or, equivalently, over hoarding of liquidity in a recession. On the other side, in
booms firms in the market equilibrium could over or underinvest in capital, i.e., c∗h ≷ cPh , depending
on the parameter values.

Proposition 8 We have the following results.

  1. In market solution firms dismantle capital before the aggregate liquidity reaches zero, i.e.,
     c∗l > 0. Hence market solution implies underinvestment in capital and over hoarding of cash
     in downturns.

  2. Keeping u, l, h, R fixed, there is a threshold γ̂ that if γ > γ̂, we have c∗h > cPh . That is to say,
     the market solution implies underinvestment in capital and over hoarding of cash in booms as
     well.

  3. If the difference between the productivity of capital and that of the new investment opportunity,
     R/h−u, is sufficiently small, then we have c∗h < cPh . That is to say, the market solution implies
     overinvestment in capital in booms.



                                                   25
    The general intuition behind our mechanism is as follows. As we have already observed, the
planner’s choice of the investment and disinvestment thresholds is driven by a simple trade-off.
While capital is more productive than cash, a limited buffer of cash is useful to avoid the inefficient
liquidation of capital in the case of a series of adverse shocks requiring maintenance. In the market
solution, while the same trade-off is present, there is an additional force as highlighted in the
simple example in Section 2. The ex post market clearing price not only moves resources to the
most efficient hands but also allocates the rent among different firms, and this distorts the private
investment incentives ex-ante. Importantly, the direction of price distortion can change with the
state of the economy, leading to underinvestment in booms and overinvestment in recessions. To
see the intuition behind the conditions implying a two sided inefficiency, let us compare the private
and social value of capital in our economy. Because the representative firm sells the capital at the ex
post price p given a skill-shock, the private (ex post) value of a capital is 12 u
                                                                                   p + 12 R, while the social
(ex post) value of a capital is always R. Therefore, whether the representative firm overvalues the
capital compared to the planner depends on whether p > R/u, i.e., whether the private marginal
rate of substitution is above the social marginal rate, as shown in Section 2. Given that p = c
fluctuates in the interval [c∗l , c∗h ] we should expect overinvestment in booms and underinvestment
in recessions whenever
                                                uc∗l < R < uc∗h .                                       (36)

Consistent with Proposition 8, the first inequality in (36) is always satisfied because uc∗l < ul <
uh < R, whereas the second inequality might or might not hold.
    As emphasized earlier in Section 2, in our model trading moves the assets (cash) to the hands
with the highest profitability, leading to ex post efficient resource allocation even in the (incomplete)
market equilibrium. As a result, given the state (K, C) the social planner does not change the
welfare of the representative firm ex post. Instead, by changing the thresholds cl and ch , the social
planner influences the future distribution of c (or, equivalently, the joint distribution of (K, C)),
which improves the representative firm’s ex ante welfare according to Proposition 5.
    To illustrate the effect of the social planner through changing the distribution of c, on Figure 3
we depict equilibrium objects generated by a simulation of 100 sample paths for both the market
equilibrium (thick, solid curves) and the incomplete market benchmark (thin, dashed curves). In
each panel we take the average over the 100 sample paths in each period. For the cash-to-capital
ratio, ct , the level of capital, Kt , and cash, Ct , we depict the ex-ante path, that is, the realization
conditional on that the capital good has not matured before period t. For the consumption, RKτ +
uCτ , we depict the ex-post path, that is, the realization conditional on the event that the capital
good matures exactly at period t. In this way, we get an approximation of the expected path
conditional on any given realization of the Poisson shock determining the final date τ = t;23
the unconditional objects can be obtained by weighting the conditional objects by the probability
  23
    For example, suppose the final date is τ = 200. Then an approximation of the expected consumption at the final
date is the point corresponding to τ = 200 on Panel A , and an approximation of the expected ex ante path of length
200 of Kt , Ct , and ct are given by the points corresponding to t < 200 on Panels B-D.



                                                        26
distribution imposed by the Poisson structure. In panels A, C and D, we normalize by the realization
in time 0. Parameters are as at Figure 2, so the market equilibrium exhibits two-sided inefficiency.
    It should not be surprising that our ex-ante economy, while stationary when normalized by
the level of capital, is shrinking. It is a simple consequence of no drift in (11) and the costly
adjustment of capital.24 More importantly, in line with our two-sided inefficiency and Proposition
5 , we see that the level of capital, consumption and cash all has lower rate of growth (i.e., higher
rate of shrinking) in the market equilibrium. Note also, that the average realizations in the market
equilibrium are below their counterpart in the efficient benchmark case for any realization of the
Poisson event τ . Therefore, the unconditional expected consumption, level of capital and cash at
period zero must also be lower in the market equilibrium. The reason behind this pattern is stated
in Proposition 6: under two-sided inefficiency, agents adjust the level of capital too often, losing
two much in the process.
     At a deep level, our mechanism is in line with the welfare effects of pecuniary externalities
identified by Geanakoplos and Polemarchakis (1985). That seminal paper shows that when markets
are incomplete and, consequently, prices do not equate marginal rate of substitution of firms, then
pecuniary externalities might have first-order effects on welfare. Our mechanism works by the same
logic: Because of the missing market, price p does not serve its Walrasian function of signalling
the relative social value of different goods. This makes firms’ ex ante investment decisions socially
inefficient. Our main contribution relative to Geanakoplos and Polemarchakis (1985) and the
subsequent literature is to point out that the distortion implied by the pecuniary externality can
change sign with the state of the economy, because the distortion in the price can change sign.
     Proposition 8 translates the above intuition in terms of the deep parameters of the model.
Vaguely speaking, Proposition 8 suggests that there are two-sided inefficiencies if R/h − u is small,
i.e., the profitability of the existing capital technology is close to that of the new investment
opportunity. As pointing out the two-sided inefficiency is the major novelty in our paper, from now
on we focus mostly on this case.


5        Applications and extensions
We suggest a number of applications for our model. As a main policy application, in part 5.2
we analyze the dynamic effects of asymmetric interventions relating our results to the debate on
asymmetric monetary policy often referred to as the Greenspan’s put. Before that, in the next part
we suggest three further applications. First, we explore the connections of our findings to industry-
specific boom and bust patterns. Second, we relate our findings to the cross-country evidence on
growth, financial development and the composition of investment. Finally, we connect our results
to the housing cycle. As an extension, in part 5.3, we show that the two-sided inefficiency holds in
an alternative (and perhaps more realistic) specification where a random group of agents receive
the investment opportunity in each time instant.
    24
   One could introduce a positive growth rate in (11) easily, which still gives an analytical solution for the equilibrium.
However, this treatment would make some of the proofs cumbersome, without providing additional insights.


                                                            27
Figure 3: Each panel depicts the mean of 100 sample paths of the equilibrium objects for the baseline
model with incomplete markets (thick solid curves) and the benchmark of complete markets (thin,
dashed curves). Panel A depicts consumption RKτ + uCτ conditional on the final date τ , while
Panel B-D depicts , ct , Ct and Kt , respectively, conditional on t < τ . Parameter values are R = 4.1,
σ 2 = 1, ξ = 0.1, u = 2, l = 1.8 and h = 2.




                                                  28
5.1    Sectoral and aggregate investment waves
Industrial investment waves It is well known that certain industries go through boom and
bust patterns. Hoberg and Phillips (2010) argue that these patterns are widespread in the data,
well beyond the handful of well-known episodes like the tech-bubble in the nineties and the biotech
bubble in the eighties. They also show that only in competitive industries there is a negative
correlation between relative valuation or investment and subsequent profits or earnings. That is,
only in competitive industries boom patterns are not validated by high subsequent earnings. This
is consistent with our model as our inefficiency is driven by a pecuniary externality. If there are
only few firms present in an industry who take into account the price effects of their own actions,
our inefficiency would attenuate.25 An additional prediction of our model is that this negative
correlation should be stronger in those competitive industries where contracting frictions are likely
to be more severe.

Real estate and housing cycles We can also apply our results in the context of the boom
and bust pattern in real estate development and house prices.26 Our mechanism suggests that
the volume of construction in a boom is inefficiently high: banks/investors invest in real estate
developments instead of liquid financial assets expecting to be able to sell the real estate for a high
price in case they find a new investment opportunity.27 One suggestive sign of this inefficiency is
the frequently observed phenomenon of “overbuilding,” that is, periods of construction booms in
the face of rising vacancies and plummeting demand.28 On the other hand, in recessions, our model
suggests that banks/investors hold inefficiently high level of liquid assets, expecting to be able to
buy cheap real estate in case a group of distressed investors have to dismantle their holdings. This
precautionary behavior is consistent with findings of financial institutions cutting their lendings
  25
     We show this formally in Appendix C in the context of our two-period example.
  26
     Shiller (2007) illustrates this pattern by the cyclicality of the residential investment to GDP ratio. He points
out that cycles in this ratio correspond closely to the recessions after 1950, typically peaking few quarters before the
start of the recession. This pattern was not observed before the 2000-01 recession but was observed again before the
2007-2009 recession.
  27
     Related arguments were made in connection to the development of Japan.
           It took most Japanese banks years to whittle down the tens of billions of dollars in unrecoverable
       loans left on their books after the collapse of a real estate bubble in Japan’s overheated 1980’s. They
       finally succeeded in the last two or three years [...]But analysts criticize most banks for failing to find
       new, more profitable — and less risky — ways of doing business. Instead, analysts say many have gone
       back to lending heavily to real estate development companies and investment funds, as the rebounding
       economy has touched off a construction boom in Tokyo. ”If the economy stalled, Japanese banks would
       have a bad loan problem all over again,” said Naoko Nemoto, an analyst for Standard & Poor’s in
       Tokyo. Ms. Nemoto estimates that banks loaned 1.6 trillion yen ($14 billion) to real estate developers
       in the six months that ended last September — half of all new bank lending in that period." (The New
       York Times, January 17, 2006, pg.4)
  28
    See Wheaton and Torto (1990) and Grenadier (1996) for alternative explanations of overbuilding. Overbuilding
was also observed before the 2007-2009 recession in the sense that rental vacancies peaked in 2004, before the peak
of the construction boom. (See http://www.census.gov/hhes/www/housing/hvs/historic/index.html.)




                                                           29
and overbuilding their cash reserve in the recent financial crisis.29

Financial development and investment dynamics Finally, our model also suggests a novel
rationale for stylized facts on the connection of financial development and investment dynamics.
Aghion et al. (2010) is a useful starting point. They argue that the level of financial development
has a first order effect on the composition of investment and its variation over the business cycle.
In particular, they decompose aggregate investment to structural and other investment arguing
that structural investment is a proxy for investment in longer-term, more productive, but, in the
short-term, riskier projects. Then they show that in less financially developed countries structural
investment is much more sensitive to productivity shocks, implying a more volatile and more pro-
cyclical pattern. They suggest that this difference in the dynamics of the composition of investment
activity is an important channel how the lack of financial development hinders growth.




Figure 4: For each panels we used a simulation of 100 paths as illustrated in Figure 3. Here,
we formed the means of 100 subsequent observations of σBt (productivity shock, x-axis) and dKt
(investment in capital, y-axis) in each sample path. The panel show the corresponding scatter
plot and a regression line for the baseline case of incomplete market (left) and benchmark case of
complete market (right). Parameter values are R = 4.1, σ 2 = 1, ξ = 0.1, u = 2, l = 1.8 and h = 2.

    Our results are broadly consistent with the stylized facts in Aghion et al. (2010), if we take
the lack of contractibility on idiosyncratic investment opportunities as a proxy of low level of
financial development, and capital as a proxy for more productive and riskier projects. Our two-
sided externality implies more volatile investment in capital (Proposition 6), lower level of expected
  29
    See Heider, Hoerova and Holthausen (2009), Ashcraft, Mcandrews and Skeie (2011) and Acharya and Merrouche
(2012) for U.S. and international evidence.



                                                     30
consumption (Proposition 5) and lower growth rate of the level of capital and cash in the long term
(Figure 3) for financially less developed countries. Also, as a counterpart for the procyclicality of
structural investment, we form ’quarterly data’ from our simulated samples illustrated on Figure
3. That is, thinking of each period as a day, we generate quarterly observations by summing up
shocks, σdZt , and investment in capital, dKt, in each subsequent 100 days. We plot the resulting
data points on the two panels of Figure 4, and run a linear regression to assess the connection
between shocks and investment. As apparent, two-sided inefficiency implies a larger volatility (in
this example, app. 2.5 times larger) and a stronger connection between shocks (R2 = 0.38 vs.
R2cm = 0.10). Thus, our results are consistent with the empirical facts that in less financially
developed countries, structural investment is more volatile and more procyclical, causing slower
growth of consumption and of the size of the economy.

5.2   One-sided interventions
An important advantage of the dynamic structure of our model is that in any state firms’ decisions
are affected by their expectation of economic conditions in all other (future) states. Suppose that the
economy is in a downturn and a policy is introduced with the promise that it will be abandoned as
soon as the economy recovers. This policy will necessarily influence firms’ choices in the downturn.
However, it will also affect firms’ choices in the boom, as firms foresee downturns during the boom.
    Motivated by this idea, we now analyze a class of (suboptimal) policies that we call one-sided
interventions. At a state close to c∗l the policy maker who observe the price falling dangerously
close to the disinvestment threshold l may decide to intervene to boost prices. We do not allow
the policy maker to regulate prices directly. Instead, the tool we give to the policy maker is a
combination of ex ante taxes and subsidies to the cash holders and capital holders subject to a
balanced-budget condition. The policy maker can affect the equilibrium prices and the equilibrium
investment/disinvestment thresholds through these taxes and subsidies. Since raising prices is
unnecessary in a boom, the planner might make the policy conditional on being in a sufficiently
low c state.




                                                  31
Figure 5: The marginal value of cash, the marginal value of a capital, the price of capital and the
ratio of value functions for our baseline model with incomplete markets (thick solid curves) and a
particular one-sided intervention (thin, dashed curves). On Panels A, B and C, the solid, vertical
line is the thresholds for intervention, c0 ,while the two dashed vertical lines are the disinvestment
and investment thresholds in our baseline case, c∗l , c∗h . Parameter values are R = 4.1, σ 2 = 1,
ξ = 0.1, u = 2, l = 1.8 and h = 2 and c0 = c∗h − 0.5 and π = 0.015.


5.2.1   Tax-subsidy scheme

A one sided intervention lowers the disinvestment threshold by definition. We know from Proposi-
tion (5) that if the investment threshold, c∗h , remained constant, this policy would improve welfare.


                                                 32
However, not surprisingly, a one-sided intervention will reduce the investment threshold c∗h : know-
ing the distortionary subsidy in downturns, firms in the boom over invest more egregiously. This
implies a negative effect of welfare imposed by the one sided intervention. Interestingly, we show
that this negative effect can be so strong that the policy reduces welfare everywhere. That is,
even if the policy reduces inefficient liquidation in downturns, it might lower firms’ welfare even in
downturns, because the policy will make overinvestment in future booms much worse.
    We first define one-sided intervention and the corresponding intervention equilibrium. We
distinguish equilibrium objects under intervention, with the index π, from their counterpart without
intervention.

Definition 3 A one-sided intervention is a tax-subsidy scheme π (c) and an intervention-threshold
c0 such that

  1. Given c, firms pay π (c) for each unit of cash holding and receive cπ (c) for each unit of capital
     holding, so that the government budget is balanced;

  2. π (c) = 0 for any c > c0 ,

  3. the disinvestment threshold is reduced by the intervention, cπl < c∗l ;

  4. the equilibrium price is increased at the intervention threshold, pπ (c0 ) > p (c0 ).

   An intervention equilibrium is the market equilibrium under a one-sided intervention.

    We emphasize that we only require the one-sided intervention to raise the price at the intervention-
threshold c0 . We may think of one-sided interventions as policies which raise prices for every
c ∈ [c∗l , c0 ] by increasing the capital value vπ (c) and/or decreasing the cash value qπ (c) over the
range [c∗l , c0 ]. However, for our result we require less. In this sense, we do not restrict the sign of
π (c) and impose only weaker requirement in part 4 of Definition 3.
    In the next proposition, we show that a one-sided intervention typically decreases the investment
threshold (cπh < c∗h ), i.e., worsens overinvestment in the boom. After all, the value of the capital in
one state is naturally positively related to its value in every other state. Thus, when intervention
boosts the capital price in low states, the price tends to increase also in high states, triggering
earlier investment thus a lower threshold cπh . That is to say, an intervention focusing on improving
underinvestment in the downturn will typically make overinvestment worse in the boom.

Proposition 9 Any one-sided intervention (π (c) , c0 ) in which the value of cash decreases at c0 ,
i.e., qπ (c0 ) ≤ q (c0 ) , reduces the upper investment threshold, cπh < c∗h .

5.2.2   An example with a Pareto-dominated one-sided intervention

The intuitive result in Proposition 9 opens an interesting question. The price-boosting one-sided
intervention alleviates the underinvestment problem in downturns, but also leads to more severe

                                                  33
overinvestment in booms. Speaking about welfare, is it possible that the latter negative effect
dominates the earlier positive effect, even in downturns where the one-sided intervention is designed
for? We provide an affirmative answer to this question by constructing the following example.
    Consider a constant tax-subsidy up to c0 , i.e., π (c) = π for every c < c0 where π now is a
positive constant. We solve the intervention equilibrium in Appendix A.10, which gives investment
and disinvestment thresholds cπl , cπh . We plot one particular example in Figure 5, in which while the
policy lowers both the investment and disinvestment thresholds (i.e. cπl < c∗l and cπh < c∗h ), it also
reduces welfare everywhere. Thus, the depicted one-sided intervention is Pareto inferior compared
to the symmetric market equilibrium without intervention.
     It is instructive to connect this result to the current debate on “Greenspan’s put,” i.e., the
doctrine that it is sufficient if monetary policy intervenes in a recession but stays inactive when the
economy is recovered. We can interpret our taxes-and-subsidies schemes as vague representations
of an expansionary monetary policy. An interest rate cut decreases incentives to save cash and
increases incentives to invest in capital, just as our simple one-sided intervention does. Our result
shows that such interventions might be harmful even at the recession.
     Recently, several papers proposed arguments against the Greenspan’s put including Farhi and
Tirole (2012) and Diamond and Rajan (2011). However, their argument is different. In Diamond
and Rajan (2011), ex post inefficient bank-runs serve as a disciplining device for banks. Anticipated
interest rate cuts in bad times weakens the disciplining device, and banks take on too much leverage
ex ante and are subject to runs ex post too often.
     Farhi and Tirole (2012) show that there is strategic complementarity in choosing higher leverage
ex ante, and, consequently, needing a more frequent non-directed bail-out in the form of low interest
rates ex post. In both papers, incentive issues inherent in financial intermediation play the pivotal
role. In contrast, the pecuniary externality is central to our mechanism.
     Until now we have put little emphasis on the parameters that imply a one-sided inefficiency,
i.e., underinvestment in capital both in booms and downturns. It is useful to note, however, that
with one-sided inefficiency, the price increasing one-sided intervention (at least if it is sufficiently
small) improves welfare by pushing the economy closer to the second-best everywhere. Thus, an
alternative reading of our results is that the pros and cons of an asymmetric interest rate policy
depend on the nature of the externality. In our model, it depends on whether the technology
represented by capital is much more productive than the idiosyncratic investment opportunities.
Only in the latter case a one-sided intervention could be harmful.

5.3   An alternative specification with flow new opportunities
So far our analysis relies on the specific structure that the idiosyncratic shocks are realized just
at the period of capital productivity hike. This section aims to show that this particular timing
assumption is immaterial for our main qualitative results of two-sided inefficiency.




                                                  34
5.3.1    Setting and solutions

We consider two major changes. First, the aggregate Poisson event that the capital is subject to
a productivity hike (recall that the hike occurs with intensity ξ) and the idiosyncratic shock is
separated. In particular, we keep the productivity hike in capital in the baseline model, but in each
point of time φdt fraction of the firms are hit by the idiosyncratic skill shock. That is, they lose
the skill to tender the capital, but can invest in a new opportunity with a constant return of u > 1.
As a result, in each instant, a group of firms with measure φdt sell all their capital to the rest of
firms and exit the market (and consume the final consumption goods after investing in the new
opportunity). For simplicity, after the final date of productivity hike, the model ends and firms
consume their consumption goods.
    The second change is about timing of (dis)investment opportunities. Instead of letting the firms
to invest and disinvest at any point, we assume that they can do so only irregularly. In particular,
with intensity η, an aggregate Poisson event realizes, and at that instant all firms can build capital
at cost h or dismantle capital at cost l in any amount they wish. Because firms might not be able to
dismantle capital for cash at any time they wish, even in the constrained-efficient solution firms will
dismantle capital (if they can) once the aggregate cash-to-capital ratio drops to a sufficiently low but
positive threshold, as opposed to cPl = 0 in our main model shown in Proposition 3. This interior
solution structure guarantees exactly zero first-order conditions in setting the upper-investment and
lower-liquidation thresholds in the constrained-efficient benchmark. Thus, any (small) divergence
between the social marginal rate of substitution and that of private firms can deliver distorted
(dis)investment thresholds in the market equilibrium.30
    Different from the baseline model, in this variant there is no guarantee that the aggregate cash
level is kept away from zero by liquidation if necessary. Thus, we assume an infinite pool of outside
cash holders who can inject one unit of cash to this market for a total cost of λ > 1. That is, outside
investors can acquire the knowledge of firms, but it is costly. We think of λ to be sufficiently high.
    In the Appendix A.11 we write down the ODEs and boundary conditions for the value of capital
v (c) and the value of cash q (c) in the market solution, and solve them numerically. As before, we as-
sess whether a social planner could improve welfare by only changing the investment/disinvestment
thresholds ch and cl , as opposed to leaving their determination to the market. To this end, we
further characterize the ODE for the equilibrium value functions with intervention, and solve them
numerically. We then search for the optimal dis(investment) thresholds that maximizes the social
value.
  30
    If firms can (dis)invest at any time (as in the main model), our numerical solution suggests that although the
upper investment threshold is generally distorted, firms do not liquidate capital until the aggregate cash level c = 0
(which is the constrained efficient level). This is partly because in the constrained efficient solution, the cornered
(at zero) optimal liquidation threshold has a non-zero first-order condition (recall Eq. (28)). Lumpy investment
opportunities featuring an interior (strictly positive) disinvestment threshold resolves this technical problem.




                                                         35
5.3.2   Two-sided inefficiency

As an illustration, Figure 6 graphs the investment threshold (the left panel, solid line) and disin-
vestment threshold (the right panel, solid line) in the market solution, with corresponding optimal
ones (dashed lines) if the social planner can intervene.
    Two sided inefficiency prevails in this alternative setting. In the left panel, the disinvestment
threshold of the market solution is above that of the social planner’s solution, while in the right
panel the opposite holds. The intuition is the same as in our baseline model. Firms who suffer
idiosyncratic skill shocks will sell their capital at an equilibrium price; the higher the aggregate cash
level, the higher the equilibrium prices. These prices affect the firms’ private incentives whenever
they can adjust their capital/cash holdings. Take the example of low aggregate level of cash; firms
tend to dismantle their capital excessively, worrying that they might be hit by a skill shock and
therefore sell their capital (to others who have not hit by the skill shocks) at low prices. In contrast,
the social planner should completely ignore this issue of rent distribution. Similarly, when aggregate
cash is abundant, firms will invest more than the social planner would like to: firms factor in that
their capital can be sold at a high price (above the corresponding social value) once they exit the
market.




Figure 6: Disinvestment and investment thresholds in the alternative specification under the market
solution (solid) and under the planner (dashed) for different h values. We plot these polices as
functions of the productivity advantage of capital, R/h − u. Parameter values are R = 4.1, ξ = 0.1,
σ 2 = 0.5, u = 2, l = 0.11, λ = 5, η = 0.2.



   Figure 6 also gives a comparative static result for two-sided externalities. When we vary the
investment cost h, effectively we are varying the productivity advantage of capital R/h−u (and this
is the x-axis we are plotting against in Figure 6). Consistent with Proposition 8 which suggests that
two-sided inefficiencies are more likely to occur when the productivity advantage of capital R/h − u
is small, we observe that the difference between the market solution and that of the social planner
goes up for a smaller R/h − u. Intuitively, when the profitability of the existing capital technology

                                                   36
is close to that of the new investment opportunity, these two assets have similar productivities.
Agents in the market solution tend to move back and forth between these two assets too often
for rent extraction, while the social planner realize that most of these activities are wasted due to
deadweight loss of transaction costs.


6     Conclusion
We build an analytically tractable, dynamic stochastic model of investment and trade, in which
investment cycles, i.e., boom periods with abundant investment and low returns and bust periods
with low investment and high returns, arise naturally. In the presence of unverifiable idiosyncratic
investment opportunities, a two-sided inefficiency can arise: there are two much investment in
the technology and too low buffer in cash in booms, and there are too little investment and too
much cash holdings in downturns. We show that in this case a one-sided policy targeting only
the underinvestment in downturns might be ex ante Pareto inferior to no intervention in all states
(including downturns).
    Apart from analyzing two-sided inefficiencies, we also presented a novel way of modelling prob-
lems of investment and trade. This method provides analytical tractability in a dynamic stochastic
framework for the full joint distribution of states and equilibrium objects. To explore its potential,
we use this framework to analyze the role of sovereign wealth funds in financial crises by introducing
groups of firms with different level of skills in a parallel project.


References
Acharya, Viral V., and Ouarda Merrouche. 2012. “Precautionary Hoarding of Liquidity and
 Interbank Markets: Evidence from the Subprime Crisis.” Review of Finance, 16: 210—230.
Aghion, Philippe, George-Marios Angeletos, Abhijit Banerjee, and Kalina Manova.
 2010. “Volatility and growth: Credit constraints and the composition of investment.” Journal of
 Monetary Economics, 57(3): 246—265.
Allen, Franklin, and Douglas Gale. 1994. “Limited Market Participation and Volatility of
 Asset Prices.” American Economic Review, 84(4): 933—55.
Allen, Franklin, and Douglas Gale. 2004. “Financial Intermediaries and Markets.” Economet-
    rica, 72(4): 1023—1061.
Allen, Franklin, and Douglas Gale. 2005. “From Cash-in-the-Market Pricing to Financial
 Fragility.” Journal of the European Economic Association, 3(2-3): 535—546.
Armenter, Roc, and Viktoria Hnatkovska. 2011. “The macroeconomics of firms’ savings.”
 Federal Reserve Bank of Philadelphia Working Papers 12-1.
Ashcraft, Adam, James Mcandrews, and David Skeie. 2011. “Precautionary Reserves and
 the Interbank Market.” Journal of Money, Credit and Banking, 43: 311—348.



                                                 37
Bianchi, Javier. 2010. “Credit Externalities: Macroeconomic Effects and Policy Implications.”
  American Economic Review, 100(2): 398—402.
Bianchi, Javier, and Enrique G. Mendoza. 2011. “Overborrowing, Financial Crises and
  Macro-prudential Policy.” International Monetary Fund IMF Working Papers 11/24.
Bolton, Patrick, Hui Chen, and Neng Wang. 2011. “Market Timing, Investment, and Risk
  Management.” NBER NBER Working Papers 16808.
Brunnermeier, Markus K., and Yuliy Sannikov. 2011. “A macroeconomic model with a finan-
 cial sector.” http://scholar.princeton.edu/markus/publications/macroeconomic-model-financial-
 sector.
Caballero, Ricardo J., and Arvind Krishnamurthy. 2001. “International and domestic col-
  lateral constraints in a model of emerging market crises.” Journal of Monetary Economics,
  48(3): 513—548.
Caballero, Ricardo J., and Arvind Krishnamurthy. 2003. “Excessive Dollar Debt: Financial
 Development and Underinsurance.” Journal of Finance, 58(2): 867—894.
Covas, Francisco, and Wouter J. Den Haan. 2011. “The Cyclical Behavior of Debt and Equity
 Finance.” American Economic Review, 101(2): 877—99.
Davila,      Eduardo.         2011.       “Dissecting       Fire     Sales      Externalities.”
 http://www.people.fas.harvard.edu/ edavila.
Diamond, Douglas W, and Philip H Dybvig. 1983. “Bank Runs, Deposit Insurance, and
 Liquidity.” Journal of Political Economy, 91(3): 401—19.
Diamond, Douglas W., and Raghuram Rajan. 2011. “Illiquid Banks, Financial Stability, and
 Interest Rate Policy.” NBER Working Papers 16994.
Dixit, A.K. 1993. The art of smooth pasting. Vol. 2, Routledge.
Dumas, Bernard. 1991. “Super contact and related optimality conditions.” Journal of Economic
 Dynamics and Control, 15(4): 675—685.
Eisfeldt, Andrea, and Tyler Muir. 2012. “The Joint Dynamics of Internal and External Fi-
  nance.” https://sites.google.com/site/andrealeisfeldt/.
Farhi, Emmanuel, and Jean Tirole. 2012. “Collective Moral Hazard, Maturity Mismatch, and
  Systemic Bailouts.” American Economic Review, 102(1): 60—93.
Farhi, Emmanuel, Mikhail Golosov, and Aleh Tsyvinski. 2009. “A Theory of Liquidity and
  Regulation of Financial Intermediation.” Review of Economic Studies, 76(3): 973—992.
Gale, Douglas, and Tanju Yorulmazer. 2011. “Liquidity hoarding.” Federal Reserve Bank of
 New York Staff Reports 488.
Geanakoplos, John, and Heracles M. Polemarchakis. 1985. “Existence, Regularity, and
 Constrained Suboptimality of Competitive Allocations When the Asset Market Is Incomplete.”
 Cowles Foundation for Research in Economics Discussion Papers 764.
Gersbach, Hans, and Jean-Charles Rochet. 2012. “Aggregate Investment Externalities and
 Macroprudential Regulation.” C.E.P.R. Discussion Papers CEPR Discussion Papers 8764.


                                                38
Grenadier, Steven R. 1996. “The Strategic Exercise of Options: Development Cascades and
 Overbuilding in Real Estate Markets.” The Journal of Finance, 51(5): pp. 1653—1679.
Gromb, Denis, and Dimitri Vayanos. 2002. “Equilibrium and welfare in markets with finan-
 cially constrained arbitrageurs.” Journal of Financial Economics, 66(2-3): 361—407.
Hart, Oliver D., and Luigi Zingales. 2011. “Inefficient Provision of Liquidity.” NBER Working
  Papers 17299.
Heider, Florian, Marie Hoerova, and Cornelia Holthausen. 2009. “Liquidity Hoarding and
 Interbank Market Spreads: The Role of Counterparty Risk.” European Central Bank Working
 Paper Series 1126.
He, Zhiguo, and Arvind Krishnamurthy. 2012a. “Intermediary Asset Pricing.” American
  Economic Review, ,: forthcoming.
He, Zhiguo, and Arvind Krishnamurthy. 2012b. “A Macroeconomic Framework for Quanti-
 fying Systemic Risk.” http://faculty.chicagobooth.edu/zhiguo.he/research/systemicmacro.pdf.
Hoberg, Gerard, and Gordon Phillips. 2010. “Real and Financial Industry Booms and Busts.”
 Journal of Finance, 65(1): 45—86.
Holmstrom, Bengt, and Jean Tirole. 2011. Inside and Outside Liquidity. MIT Press.
Jacklin, Charles J. 1987. “Demand Deposits, Trading Restrictions, and Risk Sharing.” , ed.
  Edward C. Prescott and Neil Wallace, Chapter Contractual Arrangements for Intertemporal
  Trade, Vol. 1. University of Minnesota Press.
Jeanne, Olivier, and Anton Korinek. 2010. “Managing Credit Booms and Busts: A Pigouvian
  Taxation Approach.” Peterson Institute for International Economics WP10-12.
Kiyotaki, Nobuhiro, and John Moore. 1997. “Credit Cycles.” Journal of Political Economy,
 105(2): 211—48.
Krishnamurthy, Arvind. 2003. “Collateral constraints and the amplification mechanism.” Jour-
 nal of Economic Theory, 111(2): 277—292.
Lorenzoni, Guido. 2008. “Inefficient Credit Booms.” Review of Economic Studies, 75(3): 809—833.
Rhodes-Kropf, Matthew, David T. Robinson, and S. Viswanathan. 2005. “Valuation
 waves and merger activity: The empirical evidence.” Journal of Financial Economics, 77(3): 561—
 603.
Shiller, Robert J. 2007. “Understanding Recent Trends in House Prices and Home Ownership.”
  National Bureau of Economic Research, Inc NBER Working Papers 13553.
Shleifer, Andrei, and Robert W Vishny. 1992. “Liquidation Values and Debt Capacity: A
  Market Equilibrium Approach.” Journal of Finance, 47(4): 1343—66.
Stein, Jeremy C. 2011. “Monetary Policy as Financial-Stability Regulation.” NBER Working
  Papers 16883.
Wheaton, William C., and Raymond G. Torto. 1990. “An Investment Model of the Demand
 and Supply For Industrial Real Estate.” Real Estate Economics, 18(4): 530—547.




                                              39
A     Appendix: Proofs and Derivations
A.1     Proof of Lemma 1 and Proposition 1
We construct the proof in steps. In particular, we separate Proposition 1 into the following four
Lemmas. These four lemmas are sufficient to prove Proposition 1.

Lemma A.1 If the equation system (18)-(19), (13)-(15) has a solution where c∗h < R, and both
v (c) and q (c) are increasing in the range c ∈ [c∗l , c∗h ], then Proposition 1 holds.

Lemma A.2 The system (18)-(19), (13)-(15) always has at least one solution.

Lemma A.3 If h − l is sufficiently small, then c∗h < R.

Lemma A.4 q (c) is decreasing in c. If h − l is sufficiently small, then v (c) is increasing for
c ∈ [c∗l , c∗h ] .

A.1.1    Step 1: Proof of Lemma 1 and Lemma A.1

Denote the dollar share of capital in the firm’s portfolio by ψit , so that ψ it = Kti pt /wti . According
to our conjecture, the value function can be written as (recall the aggregate cash-to-capital ratio
c = C/K)                                                          
                                                       ψit                        
                              i    i    i       i
                 J Kt , Ct , Kt , Ct = wt 1 − ψ t q (ct ) + v (c) = J Kt , Ct , wti ,
                                                           pt
                                                        
is linear in wt . This is equivalent to J C, K, Kti , Cti = Kti v (c) + Cti q (c) stated in the Lemma.
Also, we have the wealth dynamics, expressed in terms of portfolio choice ψit , as

                                                              1
                             dwti = −dαit − θdKti + ψit wti      (dpt + σdZt) .
                                                              pt

And, q (c) ≥ 1 has to hold as firms can consume cash at the final date (and there is no discounting),
which implies dαit = 0, i.e., firms do not consume ex ante.
   As the firm is choosing portfolio share ψit , and the capital to build or dismantle dKti , the
Hamiltonian-Jacobi-Bellman (HJB) of problem (10) can be written as:

                                  1
      0 = max dαit + JC Et [dCt] + JCC Et dCt2 + Jw Et (dwt ) + JK
                                                                 ′
                                                                   dKti + Jw,C Et [dwt dCt ] .
            i    i
         dψ t ,dKt                2

The endogenous price dynamics (using Ito’s Lemma) is

                                 1
                            dpt = σ 2 p′′ (c) dt + σp′ (c) dZt + dBtp − dUtp ,
                                 2

where dBtp (dUtp) reflects p at p (c∗l ) = l (p (c∗h ) = h). This is because in any market equilibrium
firms will create (dismantle) capital if pt = h (pt = l), and keep doing it until the price adjusts. We
derived the boundary conditions in the main text. Also, by risk neutrality and ex ante homogeneity

                                                   40
of firms, before the final date the price of the capital has to make firms indifferent whether to hold
capital or cash. Otherwise markets could not clear. We also explained that p̂τ = cτ .
     Thus, inside the reflection boundary (c∗l , c∗h ) the above HJB is (we drop i from now on)

                                                            1 2 ′′                                     
                       σ2       ′′                            σ p (ct )   ′           σ        ′           
                        2  w t qc   (c t ) + q (c t ) ψ t wt
                                                             2
                                                                 pt  + q    (ct)ψt wt pt (σ + p (ct ) σ)
        0 = max                                                                                          .
               ψt                     1 ψt R
                           +ξwt 2 pt + (1 − ψt ) ct + 2 pt uct   R       1 ψt
                                                                                + (1 − ψ t) u − q (ct )     

Since the problem is linear in ψt , in equilibrium firms must be indifferent in their choice of ψt . Thus,
we can calculate the dynamics of the cash (capital) value by choosing ψt = 0 (ψ = 1). Setting
ψt = 0 directly implies (16). Choosing ψ t = 1 gives

                             1 2 ′′                                            
            σ 2 ′′           2 σ p (c)    ′      1   ′
                                                           1 ξ
         0=    q (c) + q (c)           + q (c)     σ+pσ σ +     (R + uc) − q (c) p .
            2                    p               p          p 2

Since v (c) = p (c) q (c), v′ = q′ p + p′ q, and v ′′ = q ′′ p + 2p′ q ′ + p′′ q, we can rewrite the above equation
as (17). Given that the ODEs for v (c) and q (c) were derived by substituting in ψt = 1 and ψt = 0,
it is easy to see that these functions can be interpreted as the value of a capital and that of a unit
of cash. This implies that
                                                               
                                 i
                                       i
                                             i
                                                      ψit i
                         J C, K, wt = wt 1 − ψt q (c) + wt v (c) = q (c) wt
                                                       pt
                                                                   
verifying both Lemma 1 and our conjecture on the form of J C, K, wti .

A.1.2     Step 2: Proof of Lemma A.2

First, note that for any arbitrary ch and cl from (15), we can express A1 -A4 in (18)-(19) as functions
of ch and cl only. Substituting back to (18)-(19) we get our functions parameterized by ch and cl
which we denote as v (c; cl , ch ) and q (c; cl , ch ) . Evaluating these functions at c = cl and c = ch , we
get the following expressions. Define

                                   e−γch (Ei[ch γ] − Ei[cl γ]) + eγch (Ei[−ch γ] − Ei[−cl γ])
               fl (cl , ch ) ≡                                                                  ,
                                                      eγ(ch −cl ) − e−γ(ch −cl )
                                   e−γch (Ei[ch γ] − Ei[cl γ]) + eγch (Ei [−γcl ] − Ei [−γch ])
               gl (cl , ch ) ≡                                                                    ,
                                                      eγ(ch −cl ) − e−γ(ch −cl )
                                   e−γcl (Ei[ch γ] − Ei[cl γ]) + eγcl (Ei [−γch ] − Ei [−γcl ])
              fh (cl , ch ) ≡                                                                   ,
                                                      eγ(ch −cl ) − e−γ(ch −cl )
                                   e−γcl (Ei[ch γ] − Ei[cl γ]) + eγcl (Ei [−γcl ] − Ei [−γch ])
              gh (cl , ch ) ≡                                                                   , and
                                                      eγ(ch −cl ) − e−γ(ch −cl )
                                   eγ(ch −cl ) − 1
              m (cl , ch ) ≡                       ∈ (0, 1) .
                                   1 + eγ(ch −cl )




                                                              41
Then the cash and capital values can be rewritten as

                              u   Rξ                                   u    Rξ
           q (cl ; cl , ch ) =  + 2 fl (cl , ch ) , q (ch ; cl , ch ) = + 2 fh (cl , ch ) ,
                              2 γσ                                     2 γσ
                                                                                                
                                  cu     u                    Rγ gl (cl , ch )
          v (cl ; cl , ch ) = R + l + m (cl , ch ) +                           − cl fl (cl , ch ) , and
                                   2    2γ                      2        γ
                                                                                                  
                                  ch u   u                     Rγ gh (cl , ch )
          v (ch ; cl , ch ) = R +      − m (cl , ch ) +                         − ch fh (cl , ch ) .
                                   2    2γ                       2        γ

For any ch , define the function H (ch ) implicitly as the corresponding lower threshold cl so that at
c = ch the market price is just h, i.e.,

                                                             v (ch ; cl = H (ch ) , ch )
                            p (ch ; cl = H (ch ) , ch ) =                                = h.
                                                             q (ch ; cl = H (ch ) , ch )

Similarly, define L (ch ) is defined implicitly by

                                                             v (cl ; cl = L (ch ) , ch )
                             p (cl ; cl = L (ch ) , ch ) ≡                               = l,
                                                             q (cl ; cl = L (ch ) , ch )

which makes the market price to be l at c = cl . Obviously, once we find such ch that H (ch ) = L (ch ),
then this particular ch and the corresponding cl = H (ch ) = L (ch ) is a solution of (13)-(15), (18)-
(19). To show that this solution exists, we first establish properties of L (ch ) then we proceed to
the properties of H (ch ).

Properties of L (ch ) It is useful to observe that
                                  2γc                                           1
                     ∂fl          e h + e2γcl                 1     ∂fl            ch − γfh
                            =                       γf  l −       ,     = 2
                     ∂cl         (e2γch − e2γcl )            cl     ∂ch     eγ(ch −cl ) − eγ(cl −ch )
                                        2γc           
                     ∂gl         1      e h + e2γcl            ∂gl               2γgh
                            =       + 2γc         2γc
                                                         γgl ,      = − γ(c −c )                ,
                     ∂cl         cl    (e   h −e )   l         ∂ch      e   h   l − eγ(cl −ch )
                                  1
                 lim fl =            , lim gl = 0, lim m = 0.
                cl →ch           γch cl →ch              cl →ch


   1. We show that fl (ch , cl ) is monotonically decreasing in cl . Its slope in cl is
                                           2γc                            
                                     ∂fl   e h + e2γcl                    1
                                         = 2γc           γfl (ch , cl ) −      ,                          (A.1)
                                     ∂cl  (e h − e2γcl )                  cl




                                                             42
   and the second derivative is

     ∂ 2 fl
            =
     ∂ 2 cl
                                                                                         
                                       2γc    2γc
                                                     2                        − 12 e2γch + e2γcl 
                        e2γcl           e   h +e   l
                                                             1                         cl
   = − 4γe2γch                     2 −                2 γ       − γfl (ch , cl ) −                       =
                   (e2γch      2γc
                            − e l)       2γc    2γc
                                       (e h − e l )         cl                          (e2γch − e2γcl )
                                                                                 2γch           
                                                             1                        e     + e2γcl 1
                                                        =γ      − γfl (ch , cl ) + 2γc
                                                             cl                      (e h − e2γcl ) c2l

   Note that if the first derivative is zero, then the second derivative is positive implying that
   fl (ch , cl ) can have only local minima, but no local maxima in cl . At the limit one can check
   that
                                                                                        
                      ∂fl          1 e2γch + e2γcl                               1       1
                lim       = lim                        (γcl fl (ch , cl ) − 1) =      −        < 0.
               cl →ch ∂cl  cl →ch  cl (e2γch − e2γcl )                           ch     2γch

   Thus, fl (ch , cl ) is decreasing at ch = cl . Suppose that it is not monotonic over the range of cl <
   ch in cl . Then the largest ĉl where the first derivative is 0, would be a local maximum. But we
   have just ruled out the existence of a local maximum. Thus fl (ch , cl ) monotonically decreasing
   over the whole range of cl < ch in cl . This statement is equivalent to γfl (ch , cl ) − c1l < 0 for
   cl < ch , for any fixed ch .
                                             1
2. We show that X (cl ) ≡ fl (ch , cl ) −   γcl   is increasing in cl . We would like to show that
                                              2γc            
                                              e    h + e2γc l
                                                                          1
                                X ′ (cl ) = γ 2γc       2γc
                                                                X (cl ) + 2 > 0.                     (A.2)
                                             (e    h −e )   l            γcl

   Clearly, we have

                                                                           1      1
                    X (cl = ch ) = 0, X ′ (cl = ch ) = fl′ (ch , ch ) +      2 =       > 0.
                                                                          γch    2γc2h

   We know that when cl → 0, f (ch , cl ) has the order of Ei (γcl ) which is O (ln cl ); this implies
   that X (cl ) → −∞ when cl → 0. Then, if X (cl ) is not monotone, we must have two points
   x1 < x2 closest to (but below) ch so that

                                0 > X (x1 ) > X (x2 ) , X ′ (x1 ) = X ′ (x2 ) = 0.

   Setting (A.2) to be zero, we have (because 0 < x1 < x2 )
                               2γc                  2γc        
                               e h − e2γx1            e h − e2γx2
                 X (x1 ) = − 2 2 2γc            < − 2 2 2γc            = X (x2 ) ,
                            γ x1 (e h + e2γx1 )    γ x2 (e h + e2γx2 )

   in contradiction with X (x1 ) > X (x2 ). Thus (A.2) holds always.


                                                     43
3. We show that the function gl (cγh ,cl ) − cl fl (ch , cl ) is monotonically increasing in cl . Its first
   derivative is (all the derivatives in this part are with respect to cl )
                   ′                  2γc                                                                                
       gl                         1     e h + e2γcl                     e2γch + e2γcl
          − cl fl          =         + 2γc            gl (cl , ch ) −                   (cl γfl (cl , ch ) − 1) + fl (cl , ch )
       γ                         γcl   (e h − e2γcl )                  (e2γch − e2γcl )
                                         2γc                         2γch           
                                  1      e h + e2γcl       gl              e     + e2γcl
                           =         + γ 2γc                   − cl fl + 2γc                − fl
                                 γcl    (e h − e2γcl ) γ                  (e h − e2γcl )

   Whenever the first derivative is zero, at that point we have

                                                       gl              fl − γc1 l       1
                                                          − cl fl =                    − .                                                                (A.3)
                                                       γ             (e +e )
                                                                       2γc h   2γc l    γ
                                                                    γ e2γch −e2γcl
                                                                     (               )

   We also know that
                                                      ′                                                 ′′
                                          gl                                                gl                         1
                               lim           − cl fl         = 0, and lim                      − cl fl           =−         < 0;
                             cl →ch       γ                                    cl →ch       γ                         3γc2h
                                                                                                                         gl
   so for any fixed ch , cl = ch is a local maximum. Thus to show that                                                   γ    − cl fl is monotone,
                                                                                                                                       ′
                                                                                                                              gl
   it suffices to rule out the case of a local minimum ĉl < ch so that                                                       γ  − c f
                                                                                                                                    l l    = 0 and
                ′′
     gl
     γ  − c l fl     > 0. In general

                   ′′            2γc                   ′                                          
       gl                     1    e h + e2γcl    gl           ′     4e2γch e2γcl      2    gl           1
          − cl fl         = − 2 +γ 2γc               − cl fl −fl +                   γ         − cl fl +     .
       γ                     γcl  (e h − e2γcl ) γ                 (e2γch − e2γcl )2        γ            γ
                                                                     ′                                                                                 ′′
                                                       gl                                                                                  gl
   Thus, if there were a ĉl that                      γ    − cl fl        = 0, using (A.1) and (A.3) we have                              γ    − cl fl         to
   be equal to
                                                                                            
                                                                 1         2γc                     
     1   ′                        fl −
                         4γ 2 e2γch e2γĉl             1 1     γĉl1      e h − e2γĉl           1
   − 2 −fl +                   2  (e2γch +e2γ ĉl ) − γ + γ  = − γĉ2 −γ e2γch + e2γĉl   fl −        .
    γĉl     (e2γch − e2γĉl )                                                                   γĉl
                                  γ e2γch −e2γ ĉl                    l
                                   (               )

   But from (A.2) we know the above term is strictly negative, which proves the contradiction.
                                                                                                  ′
4. We show that q (cl ; cl , ch ) is also decreasing in cl for any cl < ch . Given that gγl − cl fl > 0
                                           
                           u e−γ (ch −cl ) +eγ (ch −cl ) −2
              cl u                                                                       e−2γch +2γcl +1
   and ∂       2     +                                               /∂cl = 12 u                      2        > 0, v (cl ; cl , ch ) is increasing
                            2γ eγ (ch −cl ) −e−γ (ch −cl )                              (e−γch +γcl +1)
   in cl . Thus, p (cl ; cl , ch ) is increasing in cl for any cl < ch . Also one can show that limcl ↓0 =
   p (cl ; cl , ch ) = − tanh(γc
                             γ
                                h)
                                    < 0, and
                                                                                                      
                                                                                   Rγ
                                                              R + ch u2 +           2       −ch γc1h             R + ch u2 −   R
                                                                                                                               2
                               lim p (cl ; cl , ch ) =                     u       Rξ 1
                                                                                                           =       u      1        ,
                                                                                                                   2 + 2ch
                             cl →ch                                            +
                                                                           2       γσ2 γch


                                                                           44
     which is larger than l as long as ch > l. Thus, as long as ch > l, limcl →ch p (cl ; cl , ch ) ≥ l and
     there is a unique solution cl for any ch of p (cl ; cl , ch ) = l. Therefore L (ch ) exist. From the
     monotonicity in cl , and continuity of p (cl ; cl , ch ) we also know that L (ch ) is continuous.

Properties of H (ch ) First, we show that for any ch ∈ [l, R] , H (ch ) is a continuous function and
H (ch ) ∈ [0, ch ] . Again, the notation ′ means we are taking the derivative with respect to cl . We
use the following facts:
                                                                     
                                                                 1
           ∂fh                   2 γfl (ch , cl ) −          ∂g  cl         2γgl (ch , cl )
                      =                                   , h =                               
           ∂cl                  e γ(ch −cl ) −e−γ(ch −cl )   ∂cl      eγ(ch −cl ) − e−γ(ch −cl )
                                2γc                                                      2γc        
           ∂fh                  e h + e2γcl         1                      ∂gh      1        e h + e2γcl
                      =                               − γfh (ch , cl ) ,         =     − 2γc               γgh (cl , ch )
           ∂ch                 (e2γch − e2γcl ) ch                         ∂ch      ch      (e h − e2γcl )
                                 1
      lim fh =                      , lim gh = 0.
     cl →ch                    γch cl →ch
                                                                   
                               ∂fh              2 γfl (ch ,cl )− c1
  1. The result of             ∂cl   =                                   l          < 0 follows from the step 1 in the previous subsection.
                                              eγ (ch −cl ) −e−γ (ch −cl )

                                          ′                                                                              ′             gl −ch γfl +ch c1
                          gh                                                                           gh
  2. We show              γ    − fh ch           > 0 for cl < ch . We have                             γ      − f h ch           =2                         l
                                                                                                                                                                     and
                                                                                                                                       eγ (ch −cl ) −e−γ (ch −cl )
                              
      ∂2       gh
                    − fh ch               2gl′ − ch 2γfh′ − 2 cch2                                                                                               
               γ                                                              l          −γ(ch −cl )         e2(−γ(ch −cl )) + 1                              2ch
                                     =                                                +γe                    −2γ(c −c )       2             2gl − ch 2γfl +       .
                ∂ 2 cl                   eγ(ch −cl ) − e−γ(ch −cl )                                          e     h   l −1                                    cl

     If the first derivative is zero at a point ch > cl , then the second derivative is
                                                                                                         
                      (e2γch +e2γcl )                                                                ch
      2 c1l + 2γ                        g (c , c ) − ch γfl (ch , cl ) +                                      − ch 2 c12                        −2 chc−cl
                      (e2γch −e2γcl ) l l h                                                          cl                     l
                                                                                                                                                      2
                                                                                                                               =  γ(c −c ) l
                                                                                                                                                          < 0.
                                      eγ(ch −cl ) − e−γ(ch −cl )                                                                    e h l − e−γ(ch −cl )

     for any ch > cl , which implies that it can have no minimum in that range. Also
                                                                                                                               
                                                          gh                                                    gh
                                                  ∂       γ    − fh ch                               ∂2          γ   − fh ch                  1
                                         lim                                      = 0,       lim                                       =−
                                     cl →ch                    ∂cl                          cl →ch               ∂2 c   l                    3γc2h

     so cl = ch must be the unique maximum in the range ch ≥ cl , and the result follows.

  3. Consequently, q (ch ; ch , cl ) is monotonically decreasing and v (ch ; ch , cl ) is monotonically in-
     creasing in cl . Thus, p (ch ; ch , cl ) is monotonically increasing in cl .

  4. Observe that the following hold

                                                   v (ch ; cl , ch )   Rch + c2h u2 −                                           R
                                                                                                                                2 ch       c2h u + Rch
                     lim p (ch ; cl , ch ) = lim                     =     u        R
                                                                                                                                       =               = ch .
                                            cl →ch q (ch ; cl , ch )                                                                         uch + R
                                                                           2 ch + 2
                    cl →ch




                                                                                        45
     Because limcl →0 = p (ch ; cl , ch ) = −ch , hence we know that for any ch > h there is a unique
     cl ∈ [0, ch ] which solves p (ch ; cl , ch ) = h. From the monotonicity of p (ch ; ch , cl ) in cl and the
     continuity in ch , the resulting function H (ch ) is continuous in ch .

Intercept of H (ch ) and L (ch )

  1. Here we show that H (h) > L (h) . We know that H (h) = h because
                                                                                                                                             
                                                                              Rξ
                             v (ch ; cl , ch )            R + h u2 +          γσ 2
                                                                                       1
                                                                                   −h γh                 R + h u2 +         R       1
                                                                                                                            2 γ −h γh
                lim =                          =                     u         Rξ 1
                                                                                                     =          u           R 1
                                                                                                                                                    = h.
                cl →h        q (ch ; cl , ch )                           +                                      2    +      2 γ γh
                                                                     2        γσ2 γh

     However, note that
                                                                                                            
                                                                                                  Rγ
                                                 v (cl ; cl , ch )               R + h u2 +        2
                                                                                                           1
                                                                                                       −h γh
                                           lim                     =                           u     R
                                                                                                                      = h,
                                           cl →h q (cl ; cl , ch )
                                                                                               2 + 2h


     and v(c l ;c l ,ch )                                                                             v(cl ;L(h),h)
         q(cl ;cl ,ch ) is increasing in cl . Since L (h) is defined by                               q(cl ;L(h),h)     = l < h, L (h) < h = H (h)
     must hold.

  2. Now we show that limch →∞ H (ch ) = 0 < limch →∞ L (ch ) . It is easy to check that

                                          − Ei[−cl γ]           Ei [−γc ]
                        lim fl =                      , lim gl = γ(−c )l , lim fh = 0, lim gh = 0
                    ch →∞                   eγ(−cl ) ch →∞       e    l   ch →∞       ch →∞

                          v(cl ;cl ,ch )
     Thus, limch →∞       q(cl ;cl ,ch )    takes the value of
                                                                                                                                                                                 
                                                                                                                                              Ei[−γcl ]
             R+   cl u
                         +   um(cl ,ch )
                                               +Rγ gl (cl ,ch )
                                                                         − cl fl (cl , ch )              R+   cl u
                                                                                                               2      +     u
                                                                                                                            2γ   +    Rγ
                                                                                                                                       2                      − cl − Ei[−c l γ]
                   2           2γ                2         γ                                                                                    γeγ (−cl )          eγ (−cl )
      lim                              u       Rγ
                                                                                                     =                                        Ei[−cl γ]
                                                                                                                                                                                      .
     ch →∞                                 +                                                                                          u
                                       2        2 fl (cl , ch )                                                                       2   −
                                                                                                                                              eγ (−cl )

     Thus, limch →∞ L (ch ) is the finite positive solution of
                                                                                                                   
                                                                                   Ei[−γcl ]
                                          R+       cl u
                                                    2     +   u
                                                              2γ    +    Rγ
                                                                          2                     − cl − Ei[−c l γ]
                                                                                   γeγ (−cl )         eγ (−cl )

                                                                                   Ei[−cl γ]
                                                                                                                        = l.
                                                                         u
                                                                         2   −
                                                                                   eγ (−cl )

                                       v(ch ;cl ,ch )
     In contrast, limch →∞             q(ch ;cl ,ch )     takes the value of
                                                                                                                  
                                   ch u        u                  Rγ gh (cl ,ch )
                         R+         2      −   2γ m (cl , ch ) + 2        γ                      − ch fh (cl , ch )
                 lim                                    u      Rγ
                ch →∞
                                                        2 + 2 fh (cl , ch )
                                                                                                                                                       
                         R         u          u           Rγ        gh (cl ,ch )                                        u        Rγ        gh (cl ,ch )
                         ch    +   2   −    ch 2γ   +      2           ch γ        − fh (cl , ch )                      2   +     2           ch γ
            =    lim                                           Rγ fh (cl ,ch )
                                                                                                         = lim                   Rγ fh (cl ,ch )
                                                                                                                                                              = ∞,
                ch →∞                               u                                                       ch →∞
                                                   2ch    +     2     ch                                                          2     ch



                                                                                 46
               v(ch ;cl ,ch )                                                 v(ch ;cl ,ch )
      Hence,   q(ch ;cl ,ch )   grows without bound for any fixed cl , and    q(ch ;cl ,ch ) is monotonically increas-
      ing in cl . As a result, in order to have a solution of            limch →∞ v(c    h ;cl ,c h )
                                                                                     q(ch ;cl ,ch ) = l, cl has to go to
      zero, implying limch →∞ H (ch ) = 0.

    The two results imply that there is always an intercept ch ∈ (h, ∞) that H (ch ) = L (ch ) . This
concludes the step proving that (13)-(15), (18)-(19) has a solution

A.1.3    Step 3: Proof of Lemma A.3

We have shown that H (h) = h. Note also that if ch = cl then vqhh = qvll . This, and the continuity
of H (·) and L (·) in l, implies that at the limit l → h, there is a solution of the system (13)-(15),
(18)-(19) that c∗l − c∗h → 0 and c∗h , c∗l → h. Then, the statement comes from h < hu < R.

A.1.4    Step 4: Proof of Lemma A.4

First we show that q (c) is always deceasing, and there exists a critical value        c ∈ (cl , ch ) so that
 ′′                              ′′
q (c) < 0 for c ∈ (cl , c) and q (c) > 0 for c ∈ (                                c) where q ′′ (c) < 0, we
                                                   c, ch ). Moreover, for c ∈ (cl , 
have that q ′′′ (c) > 0.

                                                                      σ 2 ′′       ξ        R
                                                                                                 
   1. To show that q ′ < 0, we differentiate the ODE 0 =               2 q     +   2    u+   c       − ξq again to reach

                                                       σ2 ′′′ ξ R
                                                  0=     q − 2 − ξq ′ .                                               (A.4)
                                                       2      2c

      Due to boundary conditions, we have at both ends c∗l and c∗h , the function q ′ (c) equals zero
                                      2
      and its second derivative σ2 q ′′′ = 2ξ cR2 > 0. Suppose to the contrary that q ′ (#     c) > 0 for some
                                                              ′              ′′′
      point #c ∈ (cl , ch ); then we can pick #  c so that q (# c) > 0 and q (#  c) = 0 (otherwise the function
       ′
      q (·) is zero at one end, is convex globally, and thus never comes back to zero at the other
                                2
      end). But because σ2 q ′′′ (# c) = ξ2 cR2 + ξq ′ (#
                                                         c) > 0, contradiction. This proves that q ′ < 0.

   2. We know that q ′′ (cl ) < 0 and q ′′ (ch ) > 0, and therefore there exists 
                                                                                 c so that q ′′ (
                                                                                                 c) = 0. We
                                                   σ2 ′′
                                                                                      σ 2 ′′′
      show this point is unique. Because 0 = 2 q + 2 u + c − ξq, we have 0 = 2 q − ξ2 cR2 − ξq ′ ,
                                                          ξ      R

      and
                                                  σ2 ′′′′ ξR
                                             0=      q + 3 − ξq ′′ .                                  (A.5)
                                                   2        c
      Suppose we have multiple solutions for q ′′ (
                                                   c) = 0. Clearly, it is impossible to have q ′′ (
                                                                                                   c) = 0
      but q ′′ (  c−) > 0 and q ′′ (c+) > 0; otherwise q ′′′′ ( c) > 0 which contradicts with (A.5). Then
      there must exist two points c1 >            c and c2 > c1 >      c that q ′′ (c1 ) = 0, q ′′ (c2 ) < 0 and
                                                                                 2
      q ′′′′ (c2 ) > 0, but q ′′ (c) < 0 for c ∈ (c1 , c2 ). This implies that σ2 q ′′′′ (c1 ) = − ξR
                                                                                                   c31
                                                                                                       + ξq ′′ (c1 ) < 0.
      As a result, there exists another point c3 ∈ (c1 , c2 ) so that q ′′′′ (c3 ) = 0 with q′′ (c3 ) < 0. But
      this contradicts with (A.5).

   3. Now we show that for c ∈ (cl ,   c) with q ′′ (c) < 0, we have q ′′′ (c) > 0, i.e., q ′′ (c) is increasing.
      Suppose not. Since q ′′′ (cl ) > 0 so that q ′′ (c) is increasing at the beginning, there must exist

                                                          47
   some reflecting point c4 for the function q ′′ so that q ′′′′ (c4 ) = 0. But because q′′ (c4 ) < 0, it
   contradicts with (A.5).

Second, we show that v (c) is increasing if h − l is sufficiently small.

1. We show that if v′′ (cl ) > 0, then v (c) is increasing in c. Let F (c) ≡ v ′ (c), so that

                                                                                  σ2 ′′ ξ
                                                             0 = q ′′ σ 2 +         F + u − ξF
                                                                                  2     2

   with boundary conditions that F (cl ) = F (ch ) = 0. The assumption v ′′ (cl ) > 0 implies that
   F ′ (cl ) > 0. Thus, if there are some points with F (c) < 0 in the range of (cl , ch ) then we
   can find two points c1 and c2 (a maximum and a minimum) so that c1 < c2 but F ′′ (c1 ) < 0
   F ′′ (c2 ) > 0, F ′ (c1 ) = F ′ (c2 ) = 0 and F (c1 ) > 0 > F (c2 ). We can apply the ODE to these
   two points:

                                                               σ 2 ′′                                  ξ
                                             0 = q′′ (c1 ) σ2 +   F (c1 ) +                              u − ξF (c1 ) ,
                                                               2                                       2
                                                               σ2                                      ξ
                                             0 = q′′ (c2 ) σ2 + F ′′ (c2 ) +                             u − ξF (c2 ) .
                                                               2                                       2

   The second equation implies that q ′′ (c2 ) < 0, which implies that c1 < c2 < 
                                                                                 c. However, the
   above two equations also imply that

                                                                               ξ
                                                                 q′′ (c1 ) σ2 > u > q ′′ (c2 ) σ2
                                                                               2

   contradiction with the previous lemma which shows that q ′′ is increasing over [cl , 
                                                                                        c] .

2. Now we show that if h − l is sufficiently small, then v′′ (cl ) > 0; with the first result we obtain
   our claim. From our ODE,
                                                                                                               
                   ξ          (ucl + R)             ξ     R   u                Rξ gl (cl , ch )
   v′′ (cl ) = −      2                 − v (cl ) = 2 2     +    h (cl , ch ) + 2               − cl fl (cl , ch )    .
                   σ2              2               σ      2   2γ               γσ      γ

   We know that as h − l →     0, ch − cl → 0. We will
                                                        prove the statement
                                                                               by showing that (1)
             (ucl +R)                                   (ucl +R)
   limcl →ch     2    − v (cl ) = 0, because limcl →ch      2    − v (cl ) equals
                                                                                                                                                    
                  R   u              Rγ                              gl (cl , ch )                                  R   Rξ                             1
       lim          + h (cl , ch ) +                                               − cl fl (cl , ch )              = +0+ 2                          0−     =0
     cl →ch       2  2γ               2                                   γ                                         2   γσ                             γ
                                                                                                                                               
                                      (ucl +R)                                                                     gl (cl ,ch )
                              ∂          2
                                                   −v(cl )                         ∂       u
                                                                                           2γ
                                                                                              h(cl ,ch )+ Rγ
                                                                                                           2            γ
                                                                                                                                −cl fl (cl ,ch )
   and (2) limcl →ch                         ∂cl                 = limcl →ch                                       ∂cl                                  < 0, because




                                                                                48
          it equals
                                                                2γc              2γc                   
                                        ueγ(ch −cl )
                                                   Rγ     1       e h + e2γcl        e h + e2γcl
                  lim −                     2 +             + 2γc             g −                (c γf − 1)
                 cl →ch      eγ(ch −cl ) + 1        2    γcl     (e h − e2γcl ) l (e2γch − e2γcl ) l l
                                                                
                        1         Rγ       1        1        1         u
               = −u          2
                               +               −        −          = − < 0.
                     (1 + 1)        2     γc h    2γc h   2γc  h       4

          These two statements imply that when ch −cl is sufficiently small then v ′′ (cl ) > limcl →ch v ′′ (cl ) =
          0.

A.2            Proof of Proposition 2
The result c∗h > h is a consequence of the fact that we defined H (ch ) as the unique cl solving
vh (cl ,ch )
           = h when ch > h. (see part 4 in section A.1.2.)
qh (cl ,ch )
     For the result c∗l ≤ l, consider the possibility that c∗l > l. The following lemma states that in
this case p′′ (c∗l ) < 0. This implies that this is not an equilibrium. To see this, we have p′ (c∗l ) = 0
by the boundary conditions v ′ (c∗l ) = q ′ (c∗l ) = 0. Thus p′′ (c∗l ) < 0, combined with p (c∗l ) = l and
p′ (c∗l ) = 0, would imply that p (c) < l for c sufficiently close to c∗l .

Lemma A.5 The sign of p′′ (c∗l ) is the same as that of l − c∗l .

       Proof. Simple algebra implies that
                                       ′
 ′′                     v′ q − q′ v                (v′′ q + v ′ q ′ − (q ′′ v + v ′ q ′ ))                      
p     (c∗l )    =                               =                                          − 2q −3 v ′ q − q ′ v
                             q2                                     q 2
                                                                                                                   
                    v′′ q − q ′′ v                − ξ2 (uc∗l + R) + ξlq (c∗l ) σ22 q − − 2ξ (uc∗l + R) + ξc∗l q (c∗l ) σ22c∗ v
                                                                                                                  l
                =                  =
                          q2                                                 q2
                                                                                                                      
                     − 2ξ (uc∗l + R) + ξlq (c∗l ) + ξc∗l q (c∗l ) − ξc∗l q (c∗l ) σ22 q − − 2ξ (uc∗l + R) + ξc∗l q (c∗l ) σ22c∗ v
                                                                                                                                 l
                =
                                                                                               q2
                                                                                    
                     − 2ξ (uc∗l + R) + ξc∗l q (c∗l ) σ22 q −                      v
                                                                                 c∗l       + (l − c∗l ) ξq (c∗l ) σ22 q
                =
                                                                   q2
                                                                            
                                   1        ξ                                     2
                                  c∗l       2   (uc∗l + R) − ξc∗l q (c∗l )       σ2
                                                                                       + ξq (c∗l ) σ22
                = (l    − c∗l )
                                                                  q

which gives the Lemma by noticing that q is decreasing in c and the boundary q ′ (c∗l ) = 0 implies
that
                             ξ
                           − (uc∗l + R) + ξc∗l q (c∗l ) ∝ q′′ (c∗l ) < 0.
                             2


       The third statement is a consequence of the following Lemma.




                                                                             49
Lemma A.6 We have the following limiting results:

                                      1               1
                       lim γfl =        , lim γfh = , lim gh = 0, lim gl = 0;
                      γ→∞             cl γ→∞          ch γ→∞     γ→∞
                  and lim c∗h       = h, lim c∗l = l.
                       γ→∞                      γ→∞




   Proof. The first four results are based on L’Hopital rule. Take the first result for illustration:

                                        γ (Ei[−ch γ] − Ei[−cl γ])       Ei[−ch γ] − Ei[−cl γ]
              lim γfl =       lim                 γ(−c  )
                                                                  = lim       1 γ(−cl )
              γ→∞             γ→∞               e     l            γ→∞
                                                                              γe
                                                e−ch γ        e−cl γ
                                                  γ      −      γ                            −e−cl γ /γ              1
                        =     lim                            (−cl ) γ(−cl )
                                                                                = lim                            =      .
                              γ→∞       − γ12 eγ(−cl )   +                           γ→∞ (−cl ) eγ(−cl )             cl
                                                               γ e                         γ


These four results imply that
                                                                                                        
                            ch u        u                   γ gh (cl ,ch )
          vh          R+     2      −   2γ m (cl , ch ) + R 2      γ                − ch fh (cl , ch )           R+          ch u
                                                                                                                                    − R 12
                                                                                                                              2
      lim    = lim                               u       γ                                                   =           u
      γ→∞ qh  γ→∞
                                                 2 + R 2 fh (cl , ch )                                                   2   + R 2c1h

                                         vh
Thus, in the limit the solution of       qh   = h is the solution for the equation of

                                                         ch u
                                                 R+       2     − R 12
                                                    u                        = h,
                                                    2    + R 2c1h

which gives limγ→∞ c∗h = h. Similarly, the following calculation implies that limγ→∞ c∗l = l:
                                                                                                     
                             cl u        u                  γ gl (cl ,ch )
           vl          R+     2     +   2γ m (cl , ch ) + R 2       γ               − cl fl (cl , ch )        R+         cl u
                                                                                                                            + R 12
                                                                                                                          2
       lim    = lim                              u       γ                                                =          u
                                                                                                                                   .
       γ→∞ ql  γ→∞
                                                 2 + R 2 fl (cl , ch )                                               2   + R 2c1 l




A.3    Proof of Proposition 3
The solution for D1 -D2 is obvious. To verify that cPl = 0, we have to show that
                                                                                      P
                                                                                e2γch − 1
                  jP′′ (0) = D1 + D2 = − (R − lu)                        P
                                                                                      P
                                                                                               < 0.
                                                                 e2γch       + lγ e2γch − 1 + 1

Now we show that the solution exists and unique. Define a function G (c):

                              R − hu  cγ                       
                    G (c) ≡           e (1 + lγ) − (1 − lγ) e−cγ − 2γ (c + h) ,                                                              (A.6)
                              R − lu



                                                                50
                     l−h
with G (0) = 2Rγ R−lu     < 0 (recall R − hu > R − lu > 0) and G (∞) = ∞. We have G′ (c) =
                                              
γ (R−hu)
    (R−lu) ((lγ + 1) ecγ
                         + e −cγ
                                 (1 − lγ)) − 2                  l−h
                                                , G′ (0) = 2uγ R−lu < 0, and G′ (c) changes sign only
once. Consequently, there is a unique ĉ that G′ (ĉ) = 0, implying that G (c) is decreasing for c < ĉ
                                                                                             
and increasing for c > ĉ. As G (0) < 0 and G (∞) = ∞, there must be a unique cPh that G cPh = 0,
verifying the equation (29).
    The social planner’s value function jP (c) satisfies

                                        σ 2 ′′
                                    0=     j (c) + ξ (R + uc − jP (c))                        (A.7)
                                        2 P
                                                                               
with boundary conditions jP (0) = ljP′ (0) , jP cPh = h + cPh jP′ cPh , and jP′′ cPh = 0. Note that
                                            
the boundary conditions imply that jP cPh = R + ucPh . For later reference, we show that jP (c) is
concave and increasing over [0, c∗ ] , and jP (c) < R + uc. First, from smooth pasting condition at
cPh we have                                     
                        ′
                           P             jP cPh         R + ucPh    uh − R
                   u − jP c h = u −              P
                                                    = u −      P
                                                                   =           < 0.
                                           h + ch         h + ch       h + cPh
Then, taking derivative again on (A.7) and evaluate at the optimal policy point cPh , we have

                                      2ξ          2ξ R − uh
                           jP′′′ cPh = − 2 u − jP′ cPh = 2        > 0,
                                        σ               σ h + cPh
                            
and as a result jP′′ cPh − < 0. Suppose that jP fails to be globally concave over 0, cPh . Then
there exists some point jP′′ > 0, and pick the largest one   c so that jP′′ is concave over [
                                                                                              c, c∗ ] with
                                                                                        
jP′′ (
      c) = 0 and jP′′′ (                                      c, cPh , jP′ (
                        c) < 0. But since jP′′ is concave over              c) > jP′ cPh > u, therefore
   2
σ ′′′
         P
                            
 2 jP ch      = ξ jP′ cPh − u > 0, contradiction. Therefore jP is globally concave over 0, cPh ,
which also implies that jP (c) < R + uc due to (A.7).
      We may also need to evaluate the social value jP (c) for c > cPh . Because the optimal policy is
                                                                                            c−cP
investing, if C > KcPh so that c > cPh , then immediately the economy should build K h+chP capital
                                                                                                          h
to keep the cash-to-capital ratio at cPh . This implies a social value of
                                                                             
                          1              c − cPh                     h+c            
               jP (c) =           K +K                 jP cPh =                     j cPh for c > cPh .
                          K              h + cPh                      h + cPh

A.4    Proof of Proposition 4
                                                   R−hu
                                                   R−lu   (ecγ (1+lγ)−(1−lγ)e−cγ )          P
Recall G (c) defined in (A.6). Since limγ→∞         γc               = ∞, to ensure that G  ch =
                         P
0 as γ → ∞ we must have ch → 0. This is the first part of the first statement. In addition,

            ∂G (c)   R − hu  cγ                                         
                   =         ce (1 + lγ) + lecγ − c (lγ − 1) e−cγ + le−cγ − 2 (c + h) ,
             ∂γ      R − lu

which is positive for sufficiently large γ. Finally, from the proof of Proposition 3 we know that
                                                       ∂c
                                                           p
                                                                ∂G(cp )/∂γ
G′ cPh > 0. Hence, for sufficiently large γ, we have ∂γh = − G′ hcp        < 0 which concludes the
                                                                    ( h)


                                                          51
                                                    R−hu
first part. The second part follows because         R−lu   is increasing in R, and

                      ∂G (c)        −u  cγ                         
                                =         e (1 + lγ) − (1 − lγ) e−cγ − 2γ < 0,
                       ∂h         R − lu
                                                     
                      ∂G (c)               u 1 − e−2cγ + Rγ + Rγe2(−cγ)
                                = (R − hu)                                > 0.
                       ∂l                          e−cγ (R − lu)2

Finally, fixing any c we have limR→hu G (c) = −2γ (c + h) < 0 always. This implies that for
                                                                 R−hu
                                                                        (ecγ (1+lγ)−(1−lγ)e−cγ )
limR→hu G cPh = 0 to hold, it must be that cph → ∞ so that limR→hu R−lu          c               →
2γ. This concludes the proposition.

A.5     Proof of Proposition 5
Suppose that we are given the policy pair (cl , ch ) with 0 < cl < ch < cPh where cPh satisfies the
                                         
super-contact condition jP′′ cPh ; 0, cPh = 0. To avoid cumbersome notation we denote the social
value jP (c; cl , ch ) given the policy pair (cl , ch ) by j (c; cl , ch ), and denote the social value under the
                              
optimal policy jP c; 0, cPh by jP (c). We need to show that

                                    ∂j (c; cl , ch )         ∂j (c; cl , ch )
                                                     < 0 and                  > 0.
                                        ∂cl                      ∂ch
                                                                                                           
This result further implies that for 0 < c2l < c1l < c1h < c2h < cPh , we have j c; c1l , c1h < j c; c2l , c2h .
    As preparation, we first show that j ′′ (ch ; cl , ch ) < 0 and j ′′ (cl ; cl , ch ) < 0. Because (cl , ch )
is suboptimal, we must have j (c; cl , ch ) < jP (c) ≤ R + uc (recall Proposition 3). Then 0 =
σ2 ′′
 2 j (c) + ξ (R + uc − j (c)) implies that j (c) is strictly concave at both ends. Second, for any
policy pair (cl , ch ) (including the market solution or the social planner’s solution), the smooth
pasting condition (not optimality condition!) at the regulated ends implies that

                                j (ch ; cl , ch ) − (ch + h) j ′ (ch ; cl , ch ) = 0,                                   (A.8)
                                                              ′
                                  j (cl ; cl , ch ) − (cl + l) j (cl ; cl , ch ) = 0.                                   (A.9)

   Now we start proving the properties for the top policy ch . Define Fh (c; cl , ch ) ≡ ∂c∂h j (c; cl , ch ),
which is the marginal impact of changing the top investment policy on the social value. Differen-
                                                           σ 2 ∂ ′′
tiating the basic ODE by the policy ch , we have            2 ∂ch j (c; cl , ch ) −   ξ ∂c∂h j (c; cl , ch ) = 0, or

                                     σ2 ′′
                                       F (c; cl , ch ) − ξFh (c; cl , ch ) = 0.                                        (A.10)
                                     2 h

Moreover, take the total derivative with respect to ch on the equality (A.8), i.e., take derivative




                                                         52
that affects both the policy ch and the state c = ch , we have
                                                                                                                              
      ∂                       ′                    ′                                ∂ ′                       ′′
         j (ch ; cl , ch ) + j (ch ; cl , ch ) = j (ch ; cl , ch ) + (ch + h)            j (ch ; cl , ch ) + j (ch ; cl , ch )
     ∂ch                                                                           ∂ch
      ∂                                    ∂ ′
   ⇒     j (ch ; cl , ch ) − (ch + h)          j (ch ; cl , ch ) = (ch + h) j ′′ (ch ; cl , ch ) < 0
     ∂ch                                  ∂ch
   ⇒ Fh (ch ; cl , ch ) − (ch + h) Fh′ (ch ; cl , ch ) < 0.                                                              (A.11)

which gives the boundary condition of Fh (·) at ch . At cl we can take total derivative with respect
to ch on the equality (A.9), we have the boundary condition of Fh (·) at cl :

       ∂                                ∂ ′
          j (cl ; cl , ch ) = (cl + l)     j (cl ; cl , ch ) ⇒ Fh (cl ; cl , ch ) − (cl + l) Fh′ (cl ; cl , ch ) = 0.   (A.12)
      ∂ch                              ∂ch

With the aid of these two boundary conditions, the next lemma shows that Fh (·) has to be positive
always. Because of the definition of Fh (c; cl , ch ) ≡ ∂c∂h j (c; cl , ch ), it implies that raising ch given
any state c and any lower policy cl improves the social value. The argument for the effect of cl is
similar and thus omitted.

Lemma A.7 We have Fh (c) > 0 for c ∈ [cl , ch ].
    Proof. We show this result in three steps.

   1. Fh (c) cannot change sign over [cl , ch ]. Suppose that Fh (cl ) > 0; then from (A.12) we know
      that Fh′ (cl ) > 0. Then simple argument based on ODE (A.10) implies that Fh (·) is convex
      and always positive. Now suppose that Fh (cl ) < 0; then the similar argument implies that Fh
      is concave and negative always. Finally, suppose that Fh (cl ) = 0 but Fh changes sign at some
      point. Without loss of generality, there must exist some point   c so that Fh′ (
                                                                                       c) = 0, Fh (
                                                                                                   c) > 0
             ′′
      and Fh ( c) < 0. But this contradicts with the ODE (A.10).

   2. Define Wh (c) ≡ Fh (c) − (l + c) Fh′ (c) so that Wh′ (c) = − (l + c) Fh′′ (c) = − 2ξ(l+c)
                                                                                          σ2
                                                                                                Fh (c). As
                   ′
      a result, Wh (c) cannot change sign. Because we have Wh (cl ) = 0, Wh (c) = 0 cannot change
      sign either.

   3. Now suppose counterfactually that Fh (c) < 0 so that Wh′ (c) > 0. Step 2 implies that Wh (c) >
      0, and Fh′ (ch ) = h−l
                         l+c (Fh − Wh ) < 0. But we then have


               Wh (ch ) = Fh (ch ) − (l + c) Fh′ (ch ) = Fh (ch ) − (h + c) Fh′ (ch ) + (h − l) Fh′ (ch ) < 0,

       where we have used (A.11), contradiction. Thus we have shown that Fh (c) > 0.



A.6      Proof of Proposition 6
                                                                       σ 2 ′′
The expected total investment activity T (c) solves                     2 T (c)    = ξT (c) with boundary conditions
               1                        1
T ′ (cl ) =   l+cl   and T ′ (ch ) =   h+ch .   For example, at c = ch , a positive shock hits with c = ch + ǫ.

                                                                53
                                                                                                                    K
To get back to the upper cash-to-capital ratio ch , the economy builds new capital of dK =                         h+ch ǫ;
thus, we have

                                  dK               ǫ                              1
                   T (ch + ǫ) =      + T (ch ) =        + T (ch ) ⇔ T ′ (ch ) =        .
                                  K              h + ch                         h + ch

    Now we study the impact of policies ch and cl on T (·; cl , ch ). For illustration we analyze cl only;
a similar argument applies to ch . Define F (c) ≡ ∂c∂ l T (c; cl , ch ); we have

                          σ 2 ′′                        σ2 ′′
                             T (c; cl ) = ξT (c; cl ) ⇒   F (c; cl ) = ξF (c; cl ) .                               (A.13)
                          2                             2
                                                                              1
To determine boundaries for F , at ch we have T ′ (c = ch ; cl ) =           h+ch   which implies that

                                                        ∂ ′
                                   F ′ (c = ch ) =         T (c = ch ; cl ) = 0.
                                                       ∂cl
                                          1
On the other end, T ′ (c = cl ; cl ) =   l+cl   implies that F ′ (c = cl ) + T ′′ (c = cl ; cl ) = − (l+c1 )2 or
                                                                                                         l


                                                       1
                              F ′ (c = cl ) = −               − T ′′ (c = cl ; cl ) < 0;
                                                   (l + cl )2

Here we used the fact that T ′′ (c = cl ; cl ) > 0 due to (A.13) and T > 0 by definition.
    Now we show that F (c) > 0 so that the total investment activity goes up for a higher cl . To
see this, first note that F (c) never changes sign. Otherwise, suppose that there exists some c1 so
that F (c1 ) = 0. If F ′ (c1 ) > 0 then it must be that F is convex and positive for c > c1 , which
contradicts with F ′ (ch ) = 0. Similarly we rule out F ′ (c1 ) < 0. If F ′ (c1 ) = 0, then combining with
F (c1 ) we can solve for F (c) = 0 for all c, contradicting with F ′ (cl ) < 0. Now since F (c) never
changes sign, it suffices to rule out F (c) < 0 always. If it were true, then F is concave always due
to (A.13). This contradicts with F ′ (cl ) < 0 = F ′ (ch ). As a result, F (c) > 0.

A.7     Proof of Proposition 7
It is easy to check that the general forms (33)-(34) are indeed solutions of (31)-(32). Now we
show that equations (35) have a solution B1 , B2 , B3 , B4 , ccm       cm   P
                                                              h where ch = ch , and that jP (c) =
vcm (c) + cqcm (c) . Observe first that

                             vcm (c) + cqcm (c) = R + uc + e−cγ B3 + ecγ B4 .                                      (A.14)




                                                          54
Also, (35) can be written as

                                                                               R + B3 + B4
                                                                               u             = l,   (A.15)
                                                                               2 + B1 + B2
                                                                u
                                                                  + γB3 − B2 − γB4 − B1 = 0,        (A.16)
                                                                2
                                                                       cm          cm
                                                                  −γe−ch γ B1 + γech γ B2 = 0,
                                                                                         (A.17)
      u      cm                       cm        cm                         cm
        + γech γ (B3 − ccm
                        h B2 ) − B2 e
                                     ch γ
                                          − γe−ch γ (B4 − ccm
                                                           h B1 ) − B1 e
                                                                         −ch γ
                                                                               = 0,      (A.18)
      2
                                             R + uccm     ccm           cm
                                                           h γ B3 + e−c h γ B4
                                                    h +e
                                                 u    −ccm         cm          = h + ccm
                                                                                      h .(A.19)
                                                   + e  h γ B1 + ech γ B2
                                                 2

Adding ccm
        h times (A.17) to (A.18) gives

                              u     cm                   cm
                                + ech γ (γB3 − B2 ) − e−ch γ (γB4 + B1 ) = 0.                       (A.20)
                              2

Together with (A.16) this implies

                                      γB3 = B2 , and − B1 = γB4 .                                   (A.21)

Substituting this into (A.17) gives

                                              cm γ            cm γ
                                          e−ch       B4 + ech        B3 = 0.                        (A.22)

Also, expressing (B1 + B2 ) from (A.16) and plugging into (A.15) gives

                                    R + B3 + B4 = l (u + γB3 − γB4 )                                (A.23)

and by (A.21), (A.19) is equivalent to

                       cm γ           cm γ                          −ccm          cm 
        R + uccm
              h +e
                  ch
                              B3 + e−ch      B4 = (h + ccm
                                                        h ) u − γB4 e
                                                                       h γ + γB ec h γ .
                                                                               3                    (A.24)

Observe that the system (A.22)-(A.24) is equivalent to the system of boundary conditions (24),
thus B3 = D2 , B4 = D1 and ccm       P
                                h = ch . Given (A.14) and the fact that (A.21), we proved the
statement.
              ′ (c) > 0 because
    Finally, vcm

   ′           u
  vcm (c) =      + γecγ (B3 − cB2 ) − B2 ecγ − γe−cγ (B4 − cB1 ) − B1 e−cγ
               2
                                                                          e2γ (ch −c) − 1
                                                                                P
               u     2    cγ    2     −cγ     u     2           cγ
           =     − cγ D2 e − cγ D1 e       = + cγ (R − lu) e                              > 0;
               2                              2                        P             P
                                                                   e2γch + lγ e2γch − 1 + 1




                                                         55
     ′ (c) < 0 because
and qcm

          ′
         qcm (c) = −γe−cγ B1 + γecγ B2 = γe−cγ γB4 + γecγ γB3
                                                                                   1 − e2γ (ch −c)
                                                                                          P
                           −cγ            cγ           2            cγ                            
                   = γe          γD1 + γe γD2 = γ (R − lu) e                  P              P
                                                                                                     < 0.
                                                                          e2γch   + lγ e2γch − 1 + 1

These two results imply that the price is monotonically increasing.

A.8     Proof of Proposition 8
The first statement comes from the construction of the Proof of Proposition 1. In particular,
from the fact that c∗h and c∗l are constructed as the intercept of continuous functions H (ch ) and
L (ch ), with both mapping [h, ∞) → R++ , H (h) = h > L (h) > 0, and 0 < limch →∞ L (ch )
limch →∞ H (ch ) = 0 < limch →∞ L (ch ) < ∞. Thus, both c∗h ∈ (h, ∞) and c∗l ∈ (0, c∗h ) .
    The second statement is the consequence of Lemma A.6 and the first result in Proposition 4.
    For the last statement, note that the proof of Proposition 1 goes through without any modifica-
tion for the case when R = uh. That is, even in the limit R → uh, c∗h is finite. However, Proposition
4 states that for any parameters, in the limit R → uh, cPh → ∞. This gives the result.

A.9     Proof of Proposition 9
Consider the functions q̃ (c; q0 , v0 , ch ) and ṽ (c; q0 , v0 , ch ) of c parameterized by q0 , v0 , and ch :
                                                                        
                           σ 2 ′′        ξ               ξ R
                       0 =       q̃ (c) + (u − q̃ (c)) +        − q̃ (c)                                     (A.25)
                             2           2               2 c
                                         σ2          ξ                 ξ
                       0 = q̃ ′ (c) σ 2 + ṽ ′′ (c) + (uc − ṽ (c)) + (R − ṽ (c)) .                         (A.26)
                                         2           2                 2

and the boundary conditions

                                           ṽ ′ (ch ) = q̃ ′ (ch ) = 0,                                      (A.27)
                                            q̃ (c0 ) = q0 , ṽ (c0 ) = v0 .                                  (A.28)

The general solution is

               u                      Rγ −ecγ Ei (−γc) + e−cγ Ei (cγ)
      q# (c) =   + e−cγ A1 + ecγ A2 +                                                      (A.29)
               2                       2              2
                   cu                                        cRγ eγc Ei (−γc) − e−cγ Ei (γc)
      v# (c) = R +    + ecγ (A3 − cA2 ) − e−cγ (A4 + cA1 ) +                               (A.30)
                    2                                         2               2
             = R + uc + ecγ A3 − e−cγ A4 − c#
                                            q (c) .                                        (A.31)




                                                           56
where A1 -A4 (may differ from those in (18) and (19)) are pinned down by (A.27)-(A.28). We have

                                       Rγ 2 (e−cγ Ei[cγ] + ecγ Ei[−cγ])
         q#′ (c) = −γe−cγ A1 + γecγ A2 −                                ,
                                                       2
                   u Rγ (−e−cγ Ei[cγ] + ecγ Ei[−cγ]) Rcγ 2 (e−cγ Ei[cγ] + ecγ Ei[−cγ])
         v#′ (c) =   +                                +
                   2                2                                     2
                     cγ                        −cγ
                   +e ((−γc − 1) A2 + γA3 ) + e    ((γc − 1) A1 + γA4 ) .

    Define the function ch (q0 , v0 ) implicitly by ṽ (ch ; q0 , v0 , ch ) = hq̃ (ch ; q0 , v0 , ch ), and we are in-
terested in the derivatives

                                       ∂ch    ṽq′ − hq̃q′ 0 ∂ch     ṽv′ 0 − hq̃v′ 0
                                           = − ′0           ,    = −                  .
                                       ∂q0    ṽch − hq̃c′ h ∂v0     ṽc′ h − hq̃c′ h

For this, consider the following Lemmas.

Lemma A.8 We have

                ∂ q̃ (ch ; q0 , v0 , ch )                    2
                                            =                              > 0,                                  (A.32)
                          ∂q0                   ech γ e−c0 γ+ e−ch γ eγc0
                ∂ṽ (ch ; q0 , v0 , ch )                    2                   ∂ q̃ (ch ; q0 , v0 , ch )
                                            =                              > 0,                           = 0.   (A.33)
                          ∂v0                   e−γ(ch −c0 ) + eγ(ch −c0 )                ∂v0

    Proof. We show (A.32) first. We know that q̃ (c0 ) = q0 , which based on (A.29) can be written
as e−c0 γ A1 + eγc0 A2 + lq = q0 (where lq is independent of q0 ) which implies

                                                        −lq − eγc0 A2 + q0
                                                A1 =                       .                                     (A.34)
                                                              e−c0 γ
and q̃ ′ (ch ) = 0 which can be rewritten as −e−ch γ γA1 + ech γ γA2 + sq = 0 (where sq is independent
of q0 ) which implies
                                                     γc0
           e−ch γ γA1 − sq   e−ch γ γ −lq −ee−c0A
                                                γ
                                                  2 +q0
                                                        − sq          e−ch γ γ −l q +q0
                                                                               e−c0 γ
                                                                                        − sq
      A2 =        c γ
                           =               c  γ
                                                             ⇒ A2 =                          .                   (A.35)
                eh γ                      eh γ                      (1 + e h e 0 ) ech γ γ
                                                                          −2c   γ   γ2c


Thus, (A.35) and (A.34) imply that

                ∂A2                       e−ch γ
                         =                                  ,                                                    (A.36)
                ∂q0             ech γ e−c0 γ + e−ch γ eγc0
                ∂A1               1         γ2c0           e−ch γ                         ech γ
                         =              −  e                                =                            .       (A.37)
                ∂q0             e−c0 γ           ech γ e−c0 γ + e−ch γ eγc0   ech γ e−c0 γ + e−ch γ eγc0

Using (A.29) we obtain our result.
    The first result in (A.33) follows similarly. The second result ∂ q̃(ch ;q0 ,v0 ,ch )
                                                                            ∂v0           = 0 comes from the
                                                  ′
fact that (A.25) and the boundary conditions q̃ (ch ) = 0 and q̃ (c0 ) = q0 are independent of v0 .




                                                               57
Lemma A.9 We have
                                                                                                                                       
                                  ∂ṽ (ch ; q0 , v0 , ch )         eγ(ch −c0 ) − e−γ(ch −c0 ) − γ (ch − c0 ) e−γ(ch −c0 ) + eγ(ch −c0 )
                                                             = 2                                                                     < 0,
                                           ∂q0                                      γ (eγc0 e−γch + e−γc0 eγch )2
                                                                                                                                         
∂ṽ (ch ; q0 , v0 , ch )    ∂#
                             q (ch ; q0 , v0 , ch )              eγ(ch −c0 ) − e−γ(ch −c0 ) − γ (ch + h − c0 ) e−γ(ch −c0 ) + eγ(ch −c0 )
                         −h                                  = 2                                                                            <0
         ∂q0                        ∂q0                                                γ (eγc0 e−γch + e−γc0 eγch )2

   Proof. We show the first result. We rewrite #           v ′ (ch ) as (as before here lvq and svq are
                                               v (c0 ) and #
independent of q0 )

                    v# (c0 ) = ec0 γ (A3 − c0 A2 ) − e−c0 γ (A4 + c0 A1 ) + lvq ,
                    v#′ (ch ) = svq + ech γ ((−γch − 1) A2 + γA3 ) + e−ch γ ((γch − 1) A1 + γA4 )

                              v (c0 ) = v0 and v#′ (ch ) = 0 imply that
Thus, the boundary conditions #

                  A3 = c0 A2 + e−c0 γ v0 − e−c0 γ lvq + e−2c0 γ (A4 + c0 A1 ) ,
                                                                                        
                           (−eγch (γch − γc0 + 1)) A2 + e−γch (γch − 1) + γc0 e−2γc0 eγch A1
                                         + (γe−γc0 eγch ) v0 + (sqv − γe−γc0 eγch lqv )
                  A4 = −
                                                     γe−γch + γe−2γc0 eγch

Thus, using the result in (A.36) and (A.37) one can derive that

                                     ∂A4        2eγc0 e−γch − γc0 (eγc0 e−γch + e−γc0 eγch )
                                         = eγch                                              .
                                     ∂q0                γ (eγc0 e−γch + e−γc0 eγch )2

Similarly it implies that
                                                                                          
              ∂A3   ∂A1 −2c0 γ      ∂A2      ∂A4 −2c0 γ   2e−γc0 + γc0 eγc0 e−2γch + e−γc0
                  =     e      c0 +     c0 +     e      =
               q0    q0              q0       q0             γ (eγc0 e−γch + e−γc0 eγch )2

Consequently, using (A.31), we have (where we have used (A.32))

                  ∂#
                   v (ch )                 ∂A3            ∂A4        ∂#
                                                                      q (ch )
                              = ech γ            − e−ch γ       − ch
                   ∂q0                       q0            q0         ∂q0
                                         γ(c  −c )   −γ(c   −c
                                                                                                         
                                        e h 0 −e          h    0 − γ (c − c ) e−γ(c h −c0 ) + eγ(ch −c0 )
                                                                )
                                                                       h      0
                              = 2                                                                                 < 0.
                                                               γ (eγc0 e−γch + e−γc0 eγch )2

The last inequality comes from the fact that the function ex − e−x − x (e−x + ex ) is negative and
monotonically decreasing for all x > 0. The second statement comes directly from the expression
      ∂ q(ch )
for      ∂q0 .

                             v0
Lemma A.10 If                q0   < h, then ṽc′ h − hq̃c′ h > 0.

      Proof. We parameterize ch by y. The idea is that if the function ṽ (y; q0 , v0 , y) − hq̃ (y; q0 , v0 , y)
is negative at y = c0 and positive as y → ∞, then there is a y = ch so that this function is zero

                                                                       58
(satisfying the definition of ch ) and where the slope of this function is positive, which is the claim
of our lemma.
    The function ṽ (y; q0 , v0 , y) − hq̃ (y; q0 , v0 , y) can be solved by imposing the boundary conditions

                                         ṽ′ (y) = q̃ ′ (y) = 0, q̃ (c0 ) = q0 , ṽ (c0 ) = v0 .                              (A.38)

for all y ≥ c0 . Thus, by setting y = c0 , we must have

                                    ṽ (c0 ; q0 , v0 , c0 ) − hq̃ (c0 ; q0 , v0 , c0 ) = v0 − hq0 < 0,

by the condition of the proposition.
   Now we show that ṽ (y; q0 , v0 , y) − hq̃ (y; q0 , v0 , y) → ∞ as y → ∞. We first show calculate
limy→∞ q̃ (y; q0 , v0 , y) in (A.29). For this, we solve for e−yγ A1 and eyγ A2 from (A.29)-(A.30) and
(A.38):
                                               ′                                                            ′
      −yγ          q0 −   u
                          2   + e(c0 −y)γ RM2 (y) − Rγ 2 M (c0 ) yγ      q0 −           u
                                                                                        2   − e(y−c0 )γ RγM2 (y) − Rγ2 M (c0 )
      e     A1 =                 (y−c   )γ   γ(c   −y)
                                                                , e A2 =                       (y−c  )γ     γ(c  −y)
                                                                                                                               .
                               e      0    +e    0                                            e    0    +e     0



where M (y) ≡ −eγy Ei [−γy] + e−γy Ei [yγ]. Using limy→∞ M ′ (y) = 0, it is easy to show that
limy→∞ eyγ A2 = limy→∞ e−yγ A1 = 0, which implies that limy→∞ q̃ (y; q0 , v0 , y) = u2 in (A.29). A
similar argument implies that limc→∞ ṽ (c; q0 , v0 , c) = ∞. Thus, ṽ (c; q0 , v0 , c)− hq̃ (c; q0 , v0 , c) = ∞.
This completes our proof.
   Putting together the above three lemmas, we have

                                 ∂ch    ṽq′ − hq̃q′ 0          ∂ch     ṽv′ 0 − hq̃v′ 0
                                     = − ′0            > 0, and     = −                  <0
                                 ∂q0    ṽch − hq̃c′ h          ∂v0     ṽc′ h − hq̃c′ h

This implies that cπh < c∗h whenever qπ (c0 ) ≤ q (c0 ) and vπ (c0 ) ≥ v (c0 ) (which automatically
implies that pπ (c0 ) ≥ p (c0 )).
   The claim in the proposition is stronger which says that cπh < c∗h holds even if qπ (c0 ) ≤ q (c0 )
                                                     vπ (c0 )                                                   ṽ ′ −hq̃ ′
and vπ (c0 ) < v (c0 ), but pπ (c0 ) =        ≥ p (c0 ) = v(c
                                                     qπ (c0 )
                                                              0)
                                                           q(c0 )
                                                                  . Because ∂c          v0   v0
                                                                            ∂v0 = − ṽc′ −hq̃c′
                                                                              h
                                                                                                  < 0, it
                                                                                         h      h
suffices to show that this result holds for the worst v0 drop to maintain p0 , i.e., v0 and q0 decrease
proportionally so v0 /q0 remains at constant.
      To this end, we consider increasing q0 to q̄0 = q0 + ε where ε is very small. To make sure that
v̄0
q̄0   = vq00 , we need that v̄0 = v0 + aε where a = vq00 . Let us refer to all the objects after the change
with the bar. Our goal is to show that v̄ (ch ) /q̄ (ch ) would decrease; then ṽc′ h − hq̃c′ h > 0 implies
that cπh increases. Using the first two Lemmas above, we have (denoting x ≡ (ch − c0 ) γ)

                                                          2
                              q̄ (ch ) = q̃ (ch ) + ε
                                                        ex
                                                        + e−x
                                                       e − e−x − x (e−x + ex ) v0
                                                        x
                                                                                      2ε
                              v̄ (ch ) = ṽ (ch ) + ε2                    2
                                                                              +
                                                            γ (ex + e−x )           x
                                                                                q0 e + e−x



                                                                   59
Hence for sufficiently small ε we have (up to the first order)
                                                                                           
     v̄ (ch )      ṽ (ch )    2ε    ex − e−x − x (e−x + ex ) v0      1                              ṽ (ch )     2ε
                 =          +                             2
                                                             +     x + e−x
                                                                                                −
     q̄ (ch )      q̃ (ch ) q̃ (ch )           x
                                          γ (e + e )   −x      q0 e                                 q̃ 2 (ch ) ex + e−x
                                                  
                                       v0  ṽ(ch )
                   ṽ (ch )     ε 2 q0 − q̃(ch )
                 <          +                        .                                                                (A.39)
                   q̃ (ch ) q̃ (ch ) ex + e−x

Here, the third inequality in (A.39) is because the term ex − e−x − x (e−x + ex ) < 0 for all x > 0.
Note that the last term in (A.39) is strictly negative because vq00 < ṽ(ch)
                                                                      q̃(c )
                                                                             = h; hence the first order
                                                                                       h
impact of ε is always negative. Because the above argument holds for any v0 and q0 , tracing out
the first-order effect implies that any intervention which lowers cash value but keeps capital price
                          v̄(ch )
unchanged will lower      q̄(ch ) .   This concludes our proof.

A.10     ODEs for one sided intervention
Following our derivation of the market equilibrium, value functions in the intervention equilibrium
are defined by the ODEs
                                                                             
                                          σ 2 ′′                 u + R/c
                             0 =              qπ − 1c<c0 π + ξ           − qπ                                         (A.40)
                                          2                         2
                                            2                                       
                                          σ ′′      ′ 2                  uc + R
                             0 =              v + qπ σ + 1c<c0 πc + ξ           − vπ                                  (A.41)
                                          2 π                               2

where 1 is the indicator function, subject to the boundary conditions

                                      vπ (cπh )       v (cπ )
                                           π  = h, π  πl  = l,                                                    (A.42)
                                      qπ ch           qπ cl
                                      vπ (ch ) = qπ (cπh ) = qπ′ (cπl ) = vπ′ (cπl ) = 0.
                                        ′   π      ′
                                                                                                                      (A.43)

Besides, each function has continuous first order derivative at c0 . It is simple to check that the
following general solution satisfies the system

                 π1c<c0 u                          Rγ e−cγ Ei (cγ) − ecγ Ei (−γc)
qπ (c) = −              + + e−cγ M1,5 + ecγ M2,4 +                                ,
                     ξ   2                           2             2
                πc1c<c0     uc                                                cRγ (eγc Ei (−γc) − e−cγ Ei (γc))
vπ (c) =                +R+    + ecγ (M3,7 − cM1,5 ) − e−cγ (M4,8 + cM2,6 ) +                                   ,
                   ξ        2                                                  2                2

where Mi,j ≡ 1c>c0 Mi + 1c<c0 Mj . The constants M1 , ..., M8 are determined by (A.42)-(A.43) and
the smooth-pasting conditions at c0 for v (c) and q (c) .




                                                              60
A.11     ODEs for the alternative specification
In the alternative setting, the value of capital v (c) and the value of cash q (c) satisfy the following
ODEs:

                                                    σ2 ′′
         0 = −v ′ (c) (c + p (c)) φ + q ′ (c) σ2 +     v (c) + φ (pu − v (c)) + ξ (R − v (c)) +
                                                     2
             η [(1c>ch v (ch ) + 1c<cl v (cl ) + 1ch >c>cl v (c)) − v (c)] ,                      (A.44)
                                       σ2
         0 = −q ′ (c) (c + p (c)) φ + q ′′ (c) + φ (u − q (c)) + ξ (1 − q (c))
                                       2
             +η [(1c>ch q (ch ) + 1c<cl q (cl ) + 1ch >c>cl q (c)) − q (c)] .                     (A.45)

where 1 is the indicator function and p (c) = v (c) /q (c) . There are two main changes compared to
our baseline model. First, the first term in each equation is due to the additional drift term in the
dynamics of the aggregate cash-to-capital ratio c (when firms cannot invest/disinvest):

                                     dct = −φ (ct + pt ) dt + σdZt .

   It is because there are φdt fraction of firms exiting the market with cash ct + pt , i.e., they sell
their capital holdings at a price of pt and leave the market with these proceeds plus their cash
holdings ct . Second, the last bracketed term in each equation captures the event in which firms
can invest or disinvest (which occurs with intensity η). For instance, if pt > h (i.e. ct > ch ) firms
build new capital until the point where the aggregate liquidity falls to ch where p (ch ) = h, and
accordingly their capital value v (c) and the cash value q (c) jump to v (ch ) and q (ch ).
   We have the following six boundary conditions:

                              v′ (0) = 0 and q (0) = λ,                                           (A.46)
                                        v (cl )                   v (ch )
                              p (cl ) =         = l and p (ch ) =         = h,                    (A.47)
                                        q (cl )                   q (ch )
                          lim v′ (c) = 0, and lim q ′ (c) = 0.                                    (A.48)
                         c→∞                         c→∞

Conditions (A.46) holds because c = 0 is a reflective barrier where outside cash is injected whenever
the value of cash is larger than λ. Conditions (A.47) are determined by the adjustment of capital
explained above. The last two conditions in (A.48) are standard. These six boundary conditions
allow us to solve for v (c) and q (c) and two endogenous thresholds ch and cl numerically.
    Now we consider the equilibrium with intervention. The specific intervention rule, i.e., taxation
policies that finance building/dismantling capital, affects the market price p. In contrast to the
baseline model where the ex ante price plays no role, in this alternative setting it affects the amount
of cash that goes to the firms hit by new investment opportunities, which in turn affects welfare.
We hence consider the following taxation policy which balances the government budget any time.
Suppose that the government builds capital through taxing cash only, and distribute the newly
built capital back to firms immediately. For c > cgh , to achieve the desired upper cash-to-capital


                                                     61
                                                     g                                                   g
                                               c−c                                                 c−c
ratio cgh , the government needs to build K t+cgh units of capital, and thus requires K h+chg h units of
                                                 h                                                       h
                                                                              c−cgh h
cash. Given existing cash C = Kc, the government needs to tax                 h+cgh c
                                                                                        per unit of existing cash.
                                                                   c−cg
In the meantime, each firm receives newly built capital K h+chg which can be sold in the market at
                                                           h
a price of p cgh = v cgh /q cgh . Combining both pieces, the net taxation (outflows) per unit of
cash is
                                                             
         c − cgh h c − cgh v (ch )      c − cgh       v (ch )       c − cgh
                  −                  =            h −           =            (h − p (ch )) . (A.49)
         h + cgh c h + cgh q (ch ) c   ch + ccgh      q (ch )      ch + ccgh
                                                                    g                                g
                                                                    c −c                            c −c
Similarly, when c < cgl is low, the government dismantles K l+c
                                                             l
                                                               g units of capital for K
                                                                                         l
                                                                                        l+cg
                                                                                             l units of
                                                                          l                                  l
                                                          cgl −c                                                 cg −c
cash. So per unit of capital, the government taxes      units of capital, and redistributes back l+c
                                                          l+cgl
                                                                                                    l
                                                                                                      g l
                                                                                                      l
                                                                                g
                                                                               cl −c             
amount of cash. Converting to utilities, effectively each capital is taxed at l+c  g  v cgl − lq cgl .
                                                                                   l
    The next proposition gives the system of ODEs determining the social welfare for an arbitrarily
given ch and cl in our alternative setting.

Proposition 10 The total welfare in the alternative specification for arbitrarily given thresholds
cl < ch is KjP (c; cl , ch ) = K (vP (c) + qP (c) c) where vP and qP is given by the system

                           σ2
0 = −qP′ (c + pP ) φ + qP′′ + φ (u − qP ) + ξ (1 − qP )
                          2                                                                            
                         c − ch
    +η 1c>ch −                   (hqP (ch ) − vP (ch )) + qP (ch ) − qP (c) + 1c<cl (qP (cl ) − qP (c)) ,
                        ch + cch
                                      σ2
0 = qP′ (ct ) σ 2 − vP′ (c + pP ) φ + v ′′ + φ (pP u − vP ) + ξ (R − v)
                                     2                                                             
                                                   c −c
    +η 1c>ch (vP (ch ) − vP (c)) + 1c<cl − l              (vP (cl ) − lqP (cl )) + vP (cl ) − vP (c)    .
                                                   l + cl

with the boundary conditions (A.46) and (A.48).

    Proof. The expression of total welfare is obvious. With given intervention policy, for q equation,
                                                                    
for c > cgh we have (we need to multiply the taxation (A.49) by q cgh to get back to utilities)
                                                                                                 
                        σ2 ′′                             c − cgh     g     g    g
0=   −qP′   (c + pP ) φ+ qP +φ (u − qP )+ξ (1 − qP )+η −           hqP ch − vP ch + qP ch − qP (c)
                        2                                ch + ccgh
                g
When c < cl the cash is free of taxation, and thus the adjustment in the η event is simply
    
qP cgl − qP (c). For capital, taxation occurs when c < cgl . In this situation, since each capital is
                                   cgl −c            
taxed with a utility equivalent of l+c  g  vP cgl − lqP cgl , we have
                                          l



                                       σ 2 ′′
  0 = qP′ (c) σ2 − vP′ (c + pP ) φ +      v + φ (pP u − v) + ξ (R − vP ) +
                                       2 P         g                                        
                                                      cl − c   g         g   g
                                              +η −            vP cl − lqP cl + vP cl − vP (c) .
                                                      l + cgl


                                                         62
B      Appendix: An alternative equilibrium
In the main text, we showed that an equilibrium exist when h − l is sufficiently small. While our
condition is only sufficient, and not necessary, it is possible that the type of equilibrium presented in
the main text does not exist. In this Appendix, we provide some insights on the type of equilibrium
that arises instead. We argue that the main properties of this alternative equilibrium are very
similar to the one presented.
    While the equation system (18)-(19), (13)-(15) always have a solution, for some parameters
this solution implies that for a c sufficiently close to c∗l , the price is below the threshold l. This
obviously cannot be an equilibrium–because firms would dismantle the first instant when the price
drops below the liquidation value l. For that set of parameters we can construct the equilibrium as
follows. There is a cx ∈ (c∗l , c∗h ) that for every c ∈ [c∗l , cx ]

                                                         v (c)
                                               p (c) =         =l
                                                         q (c)

and an endogenous fraction of capital are dismantled at every instant. That is, in this range the
price is constant in c and firms dismantle an increasing fraction of their capital as c drops further
from cx . The following Proposition describes this equilibrium.

Proposition B.1 Suppose that there is a c∗h < R, cx ∈ (l, c∗h ) , q0 , A1 , A2 , A3 , A4 solving (18)-(19),
(13)
                                                       
                                            ξ        R
                                                  u+       (l − cx ) = q ′ (cx )
                                          2σ2        cx
                                                        
                                             ξ        R
                                          l 2 u+            (l − cx ) = v ′ (cx )
                                           2σ         cx
                              v (cx )        v (c∗ )
                                        = l,  ∗h = h, v ′ (c∗h ) = q ′ (c∗h ) = 0.
                              q (cx )        q ch

Then there is a market equilibrium with partial liquidation where

    1. firms do not consume before the final date,

    2. each firm in each state c ∈ [l, c∗h ] is indifferent in the composition of her portfolio

    3. firms do not build or dismantle capital when c ∈ (cx , c∗h ) and, in aggregate, firms spend every
       positive cash shock to build capital iff c = c∗h and cover the negative cash shocks by liquidating
       a fraction of capital iff c ∈ [l, cx ] . When c = l, firms finance every negative cash shock by
       liquidating capital.




                                                         63
  4. the value of holding a unit of cash and the value of holding a unit of capital are described by
     q (c) and v (c) and the ex ante price is p = v(c)                 ∗
                                                  q(c) when c ∈ [cx , ch ], and by

                                  ξ                    u 2     2
                                                                                       
                   q (c) = q0 +      (ul − R) (c − l) −   c  − l     + lR (ln c − ln l)
                                2σ 2                    2
                   v (c) = lqm (c)

      and the ex ante price is p = l when c ∈ [l, cx ].

  5. Ex post, each firms hit by the shock sells all her capital to the firms who are not hit by the
     shock for the price p̂τ = c.

     Proof. Under the conditions of the Proposition, firms start to disinvest whenever p (c) = l.
Given the liquidation rate y (c) dt = −dK/K, then its impact on the aggregate cash-to-capital ratio
c is
                               dC     C dK     ldK     C dK
                    x (c) dt ≡      −      =−       −         = (l + c) y (c) dt,
                                K     K K       K      K K
so the c evolves as dc = x (c) dt + σdZt . We must have v (c) = lq (c) as firms are always indifferent
in liquidating the capital, and v and q satisfies:
                                                              
                                   ′   σ 2 ′′      ξ         R
                    0 = x (c) q (c) + q (c) +           u+       − ξq (c)
                                        2          2         c
                                                   σ2          ξ
                    0 = x (c) v′ (c) + q ′ (c) σ2 + v ′′ (c) + (uc + R) − ξv (c)
                                                   2           2

Using v (c) = lq (c), we obtain
                                                                 
                                   ′    σ2 ′′        ξl        R
                   0 = x (c) lq (c) + lq (c) +            u+        − ξlq (c)
                                         2           2          c
                                                    σ2            ξ
                   0 = x (c) lq ′ (c) + q ′ (c) σ2 + lq ′′ (c) + (uc + R) − ξlq (c)
                                                    2             2

Eliminating identical terms, we get
                                                                  
                                                ξ              R
                                   q ′ (c) =              u+           (l − c) = 0.
                                               2σ 2            c

As q ′ (cl ) = 0 has to hold, cl = l. The closed-form solution is

                                 ξ                       u 2     2
                                                                                         
                  q (c) = q0 +        (ul −  R) (c − l) −   c  − l     + lR (ln c − ln l)
                                2σ 2                      2
                                       
And, we have q′′ (c) = − 2σξ 2 u + lRc2
                                          < 0. We know that for c ∈ [l, cx ] we have v (c) = lq (c) which
allows us to back out the endogenous drift of c:
                                               2               ξ            
                                           − σ2 q ′′ (c) −     2  u+     R
                                                                         c       + ξq (c)
                                 x (c) =                        ′
                                                                                            ,
                                                               q (c)

                                                          64
and thus the endogenous liquidation rate y (c) = x(c) l+c . For c > cx we have the ODE as usual. We
then search for the cx , ch pair that satisfies the conditions of the proposition.
    Plotting v, q and p give very similar graphs to Figure 2 with the main difference that at the
range c ∈ [l, cx ] the price is flat at the level l. In the same range q (c) is decreasing implying that
v (c) = lq (c) is also decreasing.


C      Appendix: Extensions of the two-period example
In this appendix, we extend our two period example into several directions to shed more light on
some of the complexities we touched upon in the main text. In particular, we focus on three main
topics.
    First, we highlight the exact nature of frictions we implicitly or explicitly assume in the main
text. As a main issue, we discuss under what conditions the efficiency can be restored in our two
period example. In particular, we consider the following three routes.

    1. If the realization of the skill shock is verifiable, so there are contracts contingent on these
       shocks, then the planner’s solution is attainable. However, we argue that if firms can misreport
       their shocks, then they indeed will misreport, and these contracts will not help.

    2. If the output of harvesting the capital and investing in new technology is fully pledgeable, then
       the planner’s solution is attainable. However, if firms can steal a sufficiently large fraction of
       these outputs, then the inefficiency we present in the main text reemerges.

    3. As a third alternative, in the spirit of Diamond and Dybvig (1983), we argue that there might
       be a banking solution to the inefficiency. That is, if all firms are forced to keep their assets
       at a bank which can produce, invest the cash into the new technology, and distribute the
       proceeds equally among the participants, then the first best is attainable. However, we also
       argue that each firm will have a strong motivation to not to participate in the bank, but
       invest on her own and trade on the ex post market at the equilibrium price instead. In this
       sense, the banking solution is fragile. This argument is closely related to the Jacklin (1987)
       critique to the Diamond and Dybvig (1983) model.

    As a second topic, we generalize the preferences and the technology of our two-period example
to show that neither the assumed risk-neutrality nor the kinky technological frontier is critical for
our intuition.

    Finally, if there were only two firms in our economy with perfectly negatively correlated skill-
shocks, so they would bargain with each other ex post instead of trading on a Walrasian market,
then our inefficiency would not arise. This is an argument which connects our result to the finding
of Hoberg and Phillips (2010), who find that competitive industries are much more subject to
inefficient investment waves than non-competitive industries.


                                                   65
C.1     Frictions
In this part, we use a slightly more general version of the two-period model than the one in the
main text, which is closer to our full model in the main text. In particular, just as in the full model,
we assume that harvesting the capital gives R, investing in the new technology gives u, building a
capital costs h cash, and an additional cash needs 1/l capital to be destroyed. We assume that the
initial endowment is Ki0 of capital and Ci0 of cash. (In the example of the main-text, R = u = 3,
Ki0 = 1 and Ci0 = c, h = 2, l = 12 .) In the spirit of the example in the main-text we restrict
l < Ru < h implying that the social planner always prefers firms not to change their allocation.
That is, Ki = Ki0 , Ci = Ci0 is the planner’s solution.

C.1.1    Contractibility

Fully verifiable skill-shock Consider the following problem
                                                           
                                    R              Ci + xKC    u
                   max                  Ki + xKK +            + (p1 (Ki + xCK ) + Ci + xCC )
         xKK ,xKC ,xCK ,xCC ,Ki ,Ci 2                 p1       2
         s.t. πKK xK K + π KC xK C + πCK xCK + π CC xCC + p0 Ki + Ci = p0 Ki0 + Ci0
                
                     hKi + Ci = hKi0 + Ci0 if Ki > Ki0 ,
                                                                                             (C.1)
                     lKi + Ci = lKi0 + Ci0 if Ki < Ki0 .

Here, xs1 s2 is the amount purchased or sold from the Arrow-Debrue security paying 1 unit of s2
good when the firm has the skill to use the s1 good, and π s1 s2 is the price of the Arrow-Debrue
security, where s1 , s2 = K, C. The prices p0 , p1 are the prices for a unit of capital in terms of cash
in period 0 and 1 respectively.
    The first order conditions are

                                     R u
                                       + p1 − µp0      = 0
                                     2   2
                                        R   u
                                           + −µ        = 0
                                       2p1  2
                                               R
                                                       = πKC µ
                                              2p1
                                                R
                                                       = πKK µ
                                                2
                                              u
                                                p1     = µπ CK
                                              2
                                                u
                                                       = µπ CC
                                                 2




                                                  66
subject to the technology constraint, implying that

                                      πKC + π CC        = 1
                                     π KK + πCK = p0
                                           π KK    R
                                                 =
                                            πCC    u
                                            πCK         π KK
                                                 = p1 ,      = p1 .
                                            π CC        π KC

    Given our assumption on the ex post price formation and that exactly the same mass of firms
receives both shocks, the market clearing conditions are

                                        xCC   = −xKC , xKK = −xCK ,
                                                Ci + xKC
                                    and p1    =
                                                Ki + xCK

and p0 ≤ h implies that Ki ≤ Ki0 and p10 ≤ l implies that Ci ≤ Ci0 . Simple substitution shows that
the following Lemma holds, and the planner’s solution is achievable.

                                              R       Ci0 +xKC
Lemma B.1 Any xKC , xCK satisfying            u   =   Ki +xCK    constitutes an equilibrium with

                                                                          R                  1
               xCC   = −xKC , xKK = −xCK , πK K = π CK =                     , π CC = π KC =
                                                                          2u                 2
                                R
                 p0 = p1 =        , Ci = Ci0 , Ki = Ki0 .
                                u

Misreporting In this part, we show that given the planer’s solution achieved by the Arrow-
Debreu securities, some firms will always want to misreport their type. An firm who can produce
will misreport her type if
                               xCC                x
                                     R + xCK R > KC R + xKK R,
                                 p1                p1
implying 2 (xCC u + xCK R) > 0 by Lemma B.1. On the other hand, an firm who can invest in the
new opportunity will misreport her type if

                                    xKC u + xK K p1 u > xCC u + xCK p1 u

implying that 2 (xCC u + xCK R) < 0. Hence, the only possibility that no firms misreport is (xCC u + xCK R) =
0, or
                                         xCK R
                                                 = xKC .
                                            u
                                R       Ci0 +xKC
   In the planner’s solution,   u   =   Ki +xCK ,   which implies that

                            R   Ci0 + xKC   Ci0 + xCK
                                                    u
                                                      R
                                                          R  C0
                              =           =             ⇒   = i.
                            u   Ki + xCK    Ki + xCK      u  Ki


                                                         67
Hence, firms do not misreport only when the original endowment ratio is Ru . But this implies that
the market price R/u have to coincide with the marginal rate of substitution of social planner.


C.1.2   Pledgeability

If the final output for both technologies are fully pledgeable, then a firm with the new opportunity
would offer a labour contract to other firms who can produce. According to this contract, the firm
who can produce are hired by the other firm, and does so for zero wage. (Given that each firm
can harvest any number of capital, given that she has the skill to harvest the first, in equilibrium
zero wage emerges.) So each firm can get R for each capital, and, by the symmetric argument,
each firm can get u for each cash, regardless of their skill-shock. In this case, each firm maximizes
1 i      1 i
2 K R + 2 C u, and the decentralized solution coincides with the planner’s solution.
   Suppose now that the worker can abscond with λ fraction of the goods she produces. Then the
optimal contract will be to give her λR of the output of the capital and λu of the output of the
cash. It is easy to see that as long as firms

                                                    R    l
                                      (1 − λ) h <     <     ,
                                                    u   1−λ

firms will prefer to use the market as opposed to contracting (as p1 is always in between l and
h). Thus, as long as the worker can steal a sufficiently large part of the output, our inefficiency
reemerges.

C.1.3   Banking solution

Suppose that there is a bank which holds the assets of all firms. In period one, firms report their
type and receive yK capital, if they report that they can produce and yC cash, if they report that
they can invest the cash into the new technology. Then the banking solution is

                                         1       1
                                   max     yK R + yC u
                                  yK ,yC 2       2
                                  s.t. budget constraint of technology

which is identical to the social planner.
   Do we have a Diamond and Dybvig (1983) type run where firms want to misreport?

  1. Without market then clearly no one wants to misreport. It is because misreporting gives the
     firm the type of good which they cannot operate.

  2. As it was pointed out by Jacklin (1987), when there is a market, firms might misreport and
     sell their obtained good on the market.

   Just for this exercise, suppose that K firm can still consume the cash with a marginal utility of
1. This assumption would not change the previous analysis. Then the K firm determines the price

                                                 68
of one capital in terms of cash. It is because she can either get yK R by claiming K and get yC by
claiming C, so the price of capital would be

                                                p = yC / (yK R) .

Suppose that this price is high. Similar to Jacklin’s idea, it might be possible that an individual
firm may want to convert cash to capital, and sell the capital in the market if it turns out to be u
firm.

C.2     Generalizing technology
In this part, we argue that neither our extreme technology shocks nor the kinky ex ante technology
frontier is critical for our results.

C.2.1    Ex post technology shocks

In contrast to the main text model where the ex post technology is linear, we now will specify
a general ex post technology shock and show that the market failure still holds. To illustrate
this point, we first assume away the linear investment technology at date 0, and solve for the
equilibrium market price at date 0. If the equilibrium market price differs from social planner’s
marginal rate of substitution, then individual firms, once equipped with investment technology, will
invest inefficiently.
     The ex post idiosyncratic shock of date 1 is as follows. In each idiosyncratic state, s, agents
can produce by a general CES technology, but in one of the states the marginal product of capital
is larger (s = K) , while in the other one the marginal product of cash is larger (s = C) . That is,
if we denote (Kis , Cis ) their final position of capital and cash in state s, agent i knows that at date
1 she can produce Qi consumption good with the CES technology
                                                          1                  
                                   κ KiK r + (1 − κ) CiK r r           w.p.   1    
                                                                               2
                             Qi =                               1
                                   (1 − κ) K C ′r + κ C C ′r r     w.p.   1    
                                              i            i                   2

            1
where κ >   2   and 0 < r ≤ 1 are constants. Thus, if at the end of period 0, each of them is endowed
by K units of capital and C units of cash, then, after they learn their skill-shocks, they adjust their
position by solving the following problem.

                                  1   K r              r  r1 1           r   r  1r
                    max              κ Ki    + (1 − κ) CiK        +   (1 − κ) KiC + κ CiC
             KiK ,CiK ,KiC ,CiC   2                                 2
             s.t.    pKiK + CiK = pK + C                    Lagrange multiplier λ
                       pKiC + CiC = pK + C                  Lagrange multiplier λ′




                                                       69
The FOCs are
                                                       K r  1−r
                                       1                  Ci       r
                                         κ κ + (1 − κ)                   = pλ
                                       2                 KiK
                                            K r               1−r
                                 1             Ki                  r
                                   (1 − κ) κ          +  (1 − κ)         = λ
                                 2             CiK
                                                       C r  1−r
                                 1                        Ci       r
                                   (1 − κ) (1 − κ) + κ      C
                                                                         = pλ′
                                 2                        Ki
                                                   C r        1−r
                                       1             Ki            r
                                         κ (1 − κ)     C
                                                             +κ          = λ′
                                       2             Ci

and the market clearing condition is
                                                  CiC + CiK = 2C.

Together with the constraints, this is a system of 7 equations and 7 unknowns (4 decision variables,
2 Lagrange multipliers and the price).
   Instead, the social planner solves

                                1   K r              r  r1 1           r   r  1r
                  max              κ K     + (1 − κ) C K        +   (1 − κ) K C + κ C C
           K K ,C K ,K C ,C C   2                                 2
           s.t.            C C + C K = 2C                Lagrange multiplier λC
                                 C     K
                                K +K       = 2K              Lagrange multiplier λK

The FOCs are
                                                       K r  1−r
                                       1                  C         r
                                         κ κ + (1 − κ)                   = λC
                                       2                 KK
                                            K r                1−r
                                 1            K                     r
                                   (1 − κ) κ          +  (1 − κ)         = λK
                                 2             CK
                                                       C r  1−r
                                 1                        C         r
                                   (1 − κ) (1 − κ) + κ                   = λC
                                 2                        KC
                                                   C r         1−r
                                       1             K              r
                                         κ (1 − κ)     C
                                                             +κ          = λK
                                       2             C

   If the optimal choices in state C are described by C C (C, K) and K C (C, K) as functions of
the endowment C and K, then, by the envelope theorem the marginal rate of substitution for the
planner (with value V ) is
                                                            r−1
                              VK    (1 − κ) 2K − K C (C, K)
                                  =                               .
                               VC       κ (2C − C C (C, K))r−1
While the analytical analysis is cumbersome, we illustrate by a simple numerical exercise that our
main result, that agents have private incentives to overinvest in the scarce asset, still holds. In

                                                        70
particular, in Figure 7, we plot the ratio of marginal valuation of capital versus cash in the market
solution, p, and the social valuation VVKC
                                            as a function of r and the initial cash to capital ratio
C/K. The figure illustrates that agents privately overvalue the capital good exactly when cash is
abundant, that is, when C/K > 1.




Figure 7: Ratio of price of capital versus social value of capital to cash. Agents are subject to
                                          1
idiosyncratic CES parametrized by r = 1−s     where s is the elasticity of substitution. The fixed
                           2
parameters are k = 1, α = 3 .


C.2.2   General concave ex ante technology

In this exercise, we keep the ex post shocks as in the main text, but suppose that instead of (C.1),
the ex ante technology is given by a smooth concave function

                                          F (Ki , Ci ) ≡ 0.

Then, in the decentralized economy, an individual firm’s first order condition is given by
                                      FK
                                                    
                                1      FC    1     FK
                                  R 1−      + u p−      =0
                                2       p    2     FC




                                                 71
where FK , FC are the partial derivatives of the technology frontier at the optimum values. Similarly,
the social planner’s first order condition is
                              FK
                                                            
                        1      FC    1 dp    1     FK      dp
                          R 1−    −C 2      + u p−    + Ki      =0
                        2       p   p dK     2     FC      dK

as the social planner takes into account the effect of changing dK on price. Clearly, the difference
between the two conditions is                     
                                                 K 1 dp
                                      K u−R                =0
                                                 C 2 dK
with a sign which clearly depends on
                                                C  R
                                                  ≶ .
                                                K  u
That is, the difference between two FOCs depends on the relative scarcity of the two goods compared
to their relative social value. This is the intuition we describe in the main text.

C.3    A non-competitive industry
Instead of competitive market with a continuum of firms, we consider the following variation of
model with two firms. To eliminate aggregate uncertainty, one firm will be hit by R shock and the
other will be hit by u shock, with equal probabilities. The key difference we would like to capture
is that with two firms, individuals are no longer infinitesimal so that they are not price takers. We
show that the non-competitive nature can alleviate the pecuniary externalities that are prevailing
at the competitive market.
    Without Walrasian market at the second period after the skill shock, we need to specify a
bargaining protocol governing the transaction. We simply assume that it is equally likely to have
anyone to make a take-it-or-leave-it offer to the other firm. More specifically, suppose that at the
beginning of period 2 the endowment of firm i is (Ki , Ci ), where  i = 1, 2. If  the firm i gets the
                                                                       ′  ′   ′   ′
chance to make the offer, she can propose the new allocation Ki , Ci ; Kj , Cj to firm j, which
satisfies the budget constraints Ki′ + Kj′ = Ki + Kj and Ci′ + Cj′ = Ci + Cj . For instance, if the firm
i is hit by R shock, then the equilibrium offers that are proposed by firm i and will be accepted
(by firm j) can be written as

                                  (Ki + Kj , (1 − α) Ci ; 0, αCi + Cj )

where α ∈ [0, 1]. Obviously, α = 1 reaches the socially optimal allocation; we allow for any α for
the generality of our result. Thus the firm i’s utility is (Ki + Kj ) R while the firm j’s utility is
(αCi + Cj ) u.
   At period 1, the firm i is solving the following problem:
                                                                                  
                  1 1               1                1 1               1
         max          (Ki + Kj ) R + (Ki + αKj ) R +     (Ci + Cj ) u + (Ci + αCj ) u
         Ki ,Ci   2 2               2                2 2               2


                                                   72
subject to the technology constraint F (Ki , Ci ) = 0. The objective can be rewritten as
                                                                     
                                1        1+α           1       1+α
                                   Ki +         Kj R +    Ci +        Cj u
                                2          2           2         2
                                1                 1+α1
                            =     [Ki R + Ci u] +       [Kj R + Cj u]
                                2                   2 2

Since the firm i will take the firm j’s decision as given, she is maximizing 21 (Ki R + Ci u), which is
equivalent to the social planner’s objective. This result is independent of α, and to be consistent
with ex post efficiency in the main text we can set α = 1. Also, as the argument suggests, the
result goes through as long as the following holds: in the event that the other firm j is making
the offer, the firm j’s behavior of giving his worthless asset to firm i is not affected by the firm i’s
endowment.
    This extension illustrates that, in line with Hoberg and Phillips (2010), our inefficiency arises
only in competitive markets.




                                                  73
