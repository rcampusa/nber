                              NBER WORKING PAPER SERIES




                 COALITION-PROOF RISK SHARING UNDER FRICTIONS

                                        Harold L. Cole
                                        Dirk Krueger
                                       George J. Mailath
                                          Yena Park

                                      Working Paper 26667
                              http://www.nber.org/papers/w26667


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                   January 2020




Cole, Krueger, and Mailath thank the National Science Foundation for research support (grants
SES-112354, 1260753, 1326781, 1559369, 1757084, 1851449). The views expressed herein are
those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2020 by Harold L. Cole, Dirk Krueger, George J. Mailath, and Yena Park. All rights reserved.
Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Coalition-Proof Risk Sharing Under Frictions
Harold L. Cole, Dirk Krueger, George J. Mailath, and Yena Park
NBER Working Paper No. 26667
January 2020
JEL No. D15,D16,E20

                                         ABSTRACT

We analyze efficient risk-sharing arrangements when coalitions may deviate. Coalitions form to
insure against idiosyncratic income risk. Self-enforcing contracts for both the original coalition
and any deviating coalition rely on a belief in future cooperation, and we treat the contracting
conditions of original and deviating coalitions symmetrically. We show that better belief
coordination (higher social capital) tightens incentive constraints since it facilitates both the
formation of the original as well as a deviating coalition. As a consequence, the payoff of
successfully formed coalitions might be declining in the degree of belief coordination and
equilibrium allocations might feature resource burning or utility burning.


Harold L. Cole                                  George J. Mailath
Economics Department                            Department of Economics
University of Pennsylvania                      University of Pennsylvania
3718 Locust Walk                                133 South 36th Street
160 McNeil Building                             Philadelphia, PA 19104-6297
Philadelphia, PA 19104                          and Research School of Economics,
and NBER                                        Australian National University
colehl@sas.upenn.edu                            gmailath@econ.upenn.edu

Dirk Krueger
Economics Department                            Yena Park
University of Pennsylvania                      Department of Economics
The Ronald O. Perelman Center                   University of Rochester
for Political Science and Economics             Rochester, NY 14627
133 South 36th Street                           parkye82@gmail.com
Philadelphia, PA 19104
and NBER
dkrueger@econ.upenn.edu
Contents
1 Introduction                                                                              1

2 Model                                                                                      2
  2.1 The Environment: Endowments, Preferences and Technology . . . . . . . . .              2
  2.2 Social Contracting, Coalition Formation and Coalition Deviations . . . . . .           3
  2.3 Preliminary Analysis: The Coalitions . . . . . . . . . . . . . . . . . . . . . .       4

3 Equilibrium                                                                                5

4 Equilibrium as a Fixed Point                                                               9

5 Understanding Equilibrium Values                                                          11

6 Characterizing Equilibrium Allocations                                                    14
  6.1 The case of no utility burning,   ( F B ,  ¯] . . . . . . . . . . . . . . . . . . .   15
  6.2 Characterizing  ¯ . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   18
  6.3 The case of utility burning,  >  ¯ . . . . . . . . . . . . . . . . . . . . . . . .    21

7 Numerical Examples and Comparative Statics                                                23

8 Related Literature                                                                        26

9 Conclusion                                                                                29

References                                                                                  30

A Proofs for Section 5                                                                      33

B Proof of Proposition 5                                                                    39

C Proofs for Section 6.2                                                                    47

D Appendix for Section 7                                                                    55
  D.1 Stationary Ladder . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .   55
  D.2 Determination of the Outside Option F   ¯. . . . . . . . . . . . . . . . . . . . .    58
  D.3 Computation of the Transition . . . . . . . . . . . . . . . . . . . . . . . . . .     59
1    Introduction
All institutions must confront the challenge of deterring opportunistic behavior, and suc-
cessful institutions survive because they are essentially self-enforcing agreements. By their
nature, self-enforcing agreements are built on a shared belief in future cooperation. In the
absence of such shared beliefs, people will behave opportunistically with accompanying ef-
ficiency losses. And a shared belief in future cooperation can be tenuous and difficult to
achieve: While we do see many instances of successful Pareto-improving institutions, there
are also many missed opportunities--situations where opportunistic behavior is not deterred
because the required belief in future cooperation is absent.
    We investigate the role of fragile belief coordination on future cooperation for the en-
dogenous formation of self-enforcing risk-sharing institutions. It is common to model limited
commitment in insurance settings as an outside option whose value is autarky (i.e., exclusion
from the risk-sharing arrangement). But, in the absence of commitment, a major threat to
any risk-sharing arrangement is that a wealthy subset of the original participants may de-
fect from the arrangement and insure within the deviating coalition. Since insurance by the
deviating coalition typically is more attractive than autarky (i.e., the value of the outside
option is higher under insurance), such coalitional deviations will typically not be deterred
in a risk-sharing arrangement designed considering only the autarkic outside option.
    Just as the successful formation of a risk-sharing institution depends upon a shared belief
in future cooperation, so does the successful defection by a wealthy coalition intending to
internally insure. The possible inability of groups to share beliefs in future cooperation is a
key friction limiting both initial and any deviating risk-sharing arrangements. We refer to
the ability to coordinate beliefs on future cooperation as social capital, and parameterize it
by the probability   [0, 1] that a coalition can achieve such coordination of beliefs.
    We undertake our analysis within a classical insurance environment with only idiosyn-
cratic income risk and assume that the probability  determines the coordination likelihood
for both the original coalition and any deviating coalition. Hence, social capital impacts
both the ex-ante payoff directly and values of the outside option. In particular, while lower
social capital has the potential to decrease ex ante welfare (since ex ante belief coordination
on future cooperation is lower), it can also raise ex ante welfare if the defecting coalition's
value of insurance decreases sufficiently. This natural feedback provides an explanation for
why more developed societies do not always "solve" the risk-sharing puzzle. Greater social
capital increases the extent to which Pareto improving arrangements are formed, but also
tightens the constraints on such arrangements, lowering welfare conditional on formation.




                                              1
    We make both a methodological and substantive contribution. Methodologically, we
introduce (in Sections 2 and 3) an equilibrium model of coalition formation and stability.
Loosely, an equilibrium allocation is robust to the possibility that a subset of agents (typi-
cally, but not always, the wealthy agents) could defect, not contribute in the current period
and "reinitialize" risk-sharing using the same allocation. This notion captures the idea that
the allocation is a credible social norm or "self-enforcing" arrangement (i.e., belief in the
arrangement should not be self-defeating). A critical feature of the equilibrium notion is
that the value of the outside option is endogenous, depending upon the allocation. As a
consequence, the constraint set for the program determining the equilibrium allocation is
not convex, necessitating an indirect approach to characterizing efficient allocations.
    Section 4 describes the indirect approach: For some parameters, there is a fixed point
characterization of equilibrium. In that case, an equilibrium allocation satisfies a stronger
notion of robustness: it is robust to the possibility that a subset of agents could defect,
not contribute in the current period and "reinitialize" risk-sharing using any allocation
(Proposition 2).
    Substantively, we characterize the behavior of equilibrium risk sharing (and its value) as
a function of social capital. Section 5 describes some critical comparative statics of the fixed
point characterization. There is a critical value of social capital,     ¯  (0, 1), such that for
medium to low values of the social capital (        ¯ ), the fixed point characterization applies,
and the second-best allocation can be determined using standard techniques (Section 6.1).
For high values of social capital ( >   ¯ ), the value of the outside option is sufficiently high
that equilibrium cannot satisfy the stronger notion of robustness mentioned above and utility
must be "burnt" (Section 6.3). In all cases, however, ex ante welfare is nondecreasing in
social capital, though the amount of insurance provided may be strictly decreasing in social
capital  (due to its impact on outside options).
    The remainder of the paper then proceeds as follows: Section 7 presents results for an
illustrative set of examples to convey the qualitative properties of the equilibrium. Finally,
Section 8 describes the related literature, and Section 9 concludes.


2     Model
2.1    The Environment: Endowments, Preferences and Technology
Time t is discrete and extends from period t = 0 to infinity. A unit measure of infinitely-
lived agents are endowed with stochastic streams of the non-storable consumption good
(henceforth referred to interchangeably as endowment or income y ). Each agent in each


                                                2
period has low income y = > 0 and high income y = h > with equal probability; we
write Y := { , h}. Agent's income is independent across both agents and time. As usual, we
assume that in any positive measure (i.e., large ) collection of agents (and thus the economy
as a whole), there is no aggregate income risk. We denote by y the aggregate level of output
per capita (y = 12
                   ( + h)). We denote an individual's income history by y t . The probability
of income history y t is denoted by Pr(y t ).
    All individuals have identical preferences over consumption in periods t  1 given by

                                              
                                 (1 -  )E            t-1 u(ct ) ,
                                              t=1


where the utility function is strictly increasing, strictly concave and satisfies the Inada con-
ditions, and where we multiply period utility by (1 -  ) to express period utility and lifetime
utility in the same units. The autarky payoff, the payoff from consuming one's endowment,
is therefore given by

                   V A (y ) := (1 -  )u(y ) + Eu(y ) =: (1 -  )u(y ) + V A ,

so that the ex ante autarky utility is V A := Eu(y ). The first-best payoff is

                                         V F B := u(y ),

obtained from consuming the average income with certainty.


2.2    Social Contracting, Coalition Formation and Coalition Devi-
       ations
In the initial period t = 0, agents attempt to form a risk-sharing arrangement to obtain
insurance against idiosyncratic income risk. Any arrangement needs to be robust to the
possibility of deviations, either by single agents or by coalitions of agents. Agents decide on
deviations after learning their current income. The continual threat of deviations implies
that any coalitional arrangement must itself be self-enforcing (against the possibility that
some members may deviate after that coalition has been formed). Because future income risk
is more effectively shared in large coalitions, the possibility of forming a new large coalition
is most threatening to the original coalition.
    We do not model attempted coalition formation and the associated decision to deviate
as a noncooperative game. Rather, we take a cooperative game-theoretic approach and
impose incentive constraints that ensure that such deviations are not profitable. This also

                                               3
means that we do not need to specify the outcome for the remaining agents after a successful
deviation.
    We view the ability of a group to successfully form a coalition as a reflection of high
social efficiency or social capital, since a coalition only forms if its members are confident
that future cooperation is sustainable. This confidence requires significant social cohesion
since the incentive compatibility of future cooperation depends on intertemporal incentives
that themselves need to be incentive compatible. We model the degree of social cohesion
in an admittedly crude fashion by assuming that any attempt to form a coalition succeeds
with an exogenous probability  . When a new (or deviating) coalitions fails to form (which
happens with probability 1 -  ), agents receive their autarky payoff V A (and, in this sense,
permanently lose their social capital).1 We also assume that once the option to attempt
secession has been exercised, it cannot be undone.
    Finally, we assume that the allocation within any newly formed coalition is determined
by a social planning problem in which all members initially have equal weights and therefore
are treated ex ante symmetrically.


2.3     Preliminary Analysis: The Coalitions
We now argue that without loss of generality, we can restrict attention to large homogeneous
coalitions. The sufficiency of large coalitions follows from two observations. First, any finite
coalition's per capita outcome can be replicated by a large coalition with the same initial
output composition. Second, the large coalition improves on the original outcome since it
has no aggregate randomness.
    We can restrict attention to homogeneous (by income y ) deviating coalitions because
we assume the initial bargaining weight of each agent in a newly formed coalition is fixed
and equal, and each agent's decision to join a newly formed coalition is irrevocable: If
a coalition successfully forms, then consumptions will be equalized for all agents in the
deviating coalition in the first period, and consumptions thereafter will depend upon the
agent's realized history. This implies that an agent will prefer a coalition with high, rather
than low, first period per capita income. Agents with the high income realization will
therefore prefer to join a coalition composed only of other individuals with the high income
realization (and so leaving low income agents to form a coalition without them).
   The precise specification after a deviating coalition fails to form is not important (though it does have
   1

implications for our quantitative analysis); it is important that the failure of an attempt to deviate is costly.




                                                       4
3         Equilibrium
An allocation for a coalition is a consumption plan c specifying, for all periods t, an agent's
consumption c(y t ) in period t for every possible sequence y t  Y t of individual income shocks.
We assume, again without loss of generality, that individual consumption depends only on
that agent's income history, independent of identity.
   The initial coalition formed in period 0 faces an ex ante notion of feasibility since the
member income levels are not known at the time of coalition formation.

Definition 1 An allocation for a coalition c is resource feasible if

                                              c(y t ) Pr(y t )  y,   t  1.                              (1)
                                         yt


        The lifetime utility from an arbitrary consumption allocation c is given by
                                                     
                               0
                             W (c) := (1 -  )                  -1 Pr(y  )u(c(y  )).
                                                     =1 y 


    In period 0, all agents are identical, and they will agree to follow any resource-feasible
consumption plan c that maximizes W 0 (c), as long as they can be confident that the con-
sumption plan will be followed in the future. The danger is that some coalition may find
it optimal to leave the original arrangement and internally insure. A necessary condition
for a consumption plan to be a credible social norm is that if all the agents do believe in
it today, that it should not be the case that after some history, some large coalition finds
it optimal to deviate, and after the deviating period follow the same consumption plan.2
Phrased differently, suppose the grand coalition believes that the allocation c~ is credible, but
that a coalition after some history y t with current income yt receives strictly higher payoff
from seceding, and if successful in coordinating beliefs, implementing c ~ from the next period.
Such a history means that the grand coalition should not have believed in the credibility of
the original allocation c
                        ~, since it will not be implemented in its entirety. Accordingly, we are
interested in allocations that are not subject to such a criticism.
    For an arbitrary income history y t  Y t , the continuation lifetime utility under the
allocation is
                                                                 
                  W (y t , c) := (1 -  )u(c(y t )) + (1 -  )               Pr(y  )u(c(y t y  )),
                                                                 =1 y 

    Since the coalition is large, the (per capita) resource-feasibility constraint faced by the coalition is
    2

identical to the (per capita) resource-feasibility constraint.


                                                         5
where y t y  denotes the t +  -history that is the concatenation of t-period history y t and the
 -period history y  .

Definition 2 An allocation c is internally-incentive feasible if for all t  1 and for all
yt  Y t,

                      W (y t , c)   {(1 -  )u(yt ) + W 0 (c)} + (1 -  )V A (yt )
                                = (1 -  )u(yt ) +  [W 0 (c) + (1 -  )V A ]                                (2)

Let C denote the set of resource feasible and internally-incentive feasible allocations.

    This is a weak notion of credibility when coalitional deviations are possible. For example,
while the autarky allocation is trivially internally-incentive feasible, that allocation has lower
utility than allocations with some insurance. The stability notion is "internal" in the sense
that when evaluating the credibility of an allocation, agents only consider the possibility
that if accepted, that allocation will also determine the outside for any deviating coali-
tion.3 Agents do not consider the possibility that the payoffs for a deviating coalition may
determined by a different (possibly more attractive) allocation. As in the cooperative-game-
theory and renegotiation-proof repeated-games literatures,4 the stronger requirement (which
we discuss just after Proposition 2 in Section 4) can lead to nonexistence of equilibrium.
    The internal-incentive constraint (2) is the key friction that prevents full consumption
insurance within a coalition.

Definition 3 For given social capital , an allocation c is an equilibrium allocation if it
solves the program
                                      max W 0 (c).
                                                cC

Denote by W = maxcC W 0 (c) the resulting optimal lifetime utility and by F =  W +
(1 -  )V A the associated ex ante (and so deviation continuation) utility.

    An equilibrium allocation c is the best ex ante resource-feasible and internally-incentive-
feasible allocation. Note that an equilibrium allocation maximizes ex ante utility given  , as
well as the utility conditional on the agreement being reached. The value W is the maximum
per capita value the grand coalition can achieve, given the credible threat that any group
   3
      In this sense, the notion is similar to von Neumann and Morgenstern's (1944) internal stability notion;
see the discussion in Greenberg (1990, Section 2.3). It is also similar to Farrell and Maskin's (1989) notion
of weakly renegotiation proof in repeated games.
    4
      For the former, the stronger analogous notion is von Neumann and Morgenstern's (1944) external stabil-
ity ; again see the discussion in Greenberg (1990, Section 2.3). For the latter, the analogous stronger notion
is called strongly renegotiation proof ; see Farrell and Maskin (1989).


                                                      6
of agents will deviate (and implement the same agreement) if the initial arrangement is not
sufficiently generous to that group. Recall that if any group has an incentive to deviate,
then a homogeneous large group does.
     Since the autarkic allocation is trivially resource and internally-incentive feasible, the set
of resource and internally-incentive-feasible allocations is nonempty, and so the supremum
of W 0 (c) exists and is bounded above by u(y ), the utility of first-best insurance. We will
show that in fact the supremum is always attained and so equilibrium exists.
     Our first result (the proof is a straightforward calculation) is that first-best insurance
is consistent with equilibrium only when social capital is not too large (and agents are
sufficiently patient).

Proposition 1 The first-best allocation is an equilibrium allocation if and only if

                                            (1 -  )[u(h) - V F B ]
                             F B := 1 -                            < 1.                        (3)
                                                [V F B - V A ]

Moreover, if
                                                 u(h) - V F B
                                    <  F B :=                 ,
                                                  u(h) - V A
then  F B < 0 and full insurance is not an equilibrium for any level of social capital  .

    The requirement that social capital not be too large for full insurance should not be
surprising. Under the first-best allocation, the currently h-income agents sacrifice current
consumption to insure the currently -income agents. If  is close to one, seceeding and then
immediately insuring within the deviating coalition incurs almost no loss in insurance and
so secession is attractive.
    Of more interest is the possibility of partial insurance in equilibrium, as illustrated by the
next example. As in Krueger and Perri (2011), where the outside option is fixed, the lower
bound on  in Example 1 turns out to be necessary for insurance as well (see Proposition
3.1 in the next section).

Example 1 Suppose u ( ) > u (h), and consider the allocation
                                         
                                          h - , yt = h,
                                         
                              c (y t ) =   + 2, yt-1 = h, yt = ,
                                         
                                          ,
                                         
                                                otherwise.




                                                7
This allocation satisfies resource feasibility with equality in every period except the initial
period, when  resources are destroyed. We claim that for  > 0 small, c  C . Observe first
that W 0 (c ) > V A for  small, and so this allocation does provide partial insurance.
   A sufficient condition for c  C is

                              W (h, c )  (1 -  )u(h) + W 0 (c ).                                (4)

This is the condition for internal-incentive feasibility when  = 1, which is stricter than
internal-incentive feasibility for any  < 1 when W 0 (c ) > V A .
    By deviating, an agent in the h-coalition gives up one period of 2 insurance in the event
that she has income in the next period (which occurs with probability 1/2). So a sufficient
condition for (4) to hold for  small is that the marginal benefit of deviating be smaller than
the marginal expected delayed cost,

                                                     
                                (1 -  )u (h)  (1 -  ) u ( )2,
                                                     2

which reduces to the assumed bound on  .


    Two features of Example 1 deserve mention. The first is that the initial period resource
destruction plays a critical role in the internal-incentive feasibility of Example 1's allocation.
In particular, if the  resources sacrificed by the initial h-income agents is given to the
initial -income agents (providing additional ex ante insurance), the resulting allocation is
not internally-incentive feasible for high  (it is internally-incentive feasible for  close to
0); the proof of Lemma A.3 uses this property of the modified allocation.
    The second is the time-varying nature of the insurance provided. When first-best insur-
ance is not internally-incentive feasible, h-income agents optimally secede under the first-best
allocation. To reduce this secession incentive, a natural modification is to consider simple
allocations of the form                       
                                              h - , y = h,
                                       t                 t
                                   c (y ) :=                                                   (5)
                                               + , y = .
                                                          t

For  = 0, c is the autarkic allocation, while for  = h - y , c is the first-best allocation.
While such an allocation can be internally-incentive feasible, it is less efficient in its provision
of incentives. For example, for  = 0, c is only internally-incentive feasible for

                                           2u (h)       u (h)
                                                      >       .
                                        u ( ) + u (h)   u( )


                                                 8
The allocation in Example 1 achieves partial insurance without violating incentive feasibility
for lower  by rewarding h-income agents through insurance: in exchange for giving up
 today, the allocation promises 2 in insurance to any agent realizing tomorrow (while
providing no insurance to agents who had realized previously and continue to realize ).


4       Equilibrium as a Fixed Point
Solving for equilibrium allocations is complicated by the nature of the internal-incentive-
feasibility constraint. In particular, the set of internally-incentive-feasible allocations is not
convex. This lack of convexity arises from the endogeneity of the outside option, i.e., the
deviating coalition's payoff. Accordingly, we follow an indirect path that first solves for
equilibrium via a fixed point argument for a subset of values of  , and then solves for
equilibrium for the remaining values of  .
    Recall that internal-incentive feasibility requires

              W (y t , c)  (1 -  )u(yt ) +  [W 0 (c) + (1 -  )V A ]           y t   Y  .

We begin by considering resource-feasible allocations that satisfy an exogenous version of
this constraint, which we call the incentive-feasibility constraint,

                          W (y t , c)  (1 -  )u(yt ) + F          y t   Y  .                            (6)

For exogenous F  R+ , denote by C (F ) the set of resource-feasible allocations satisfying
(6). If F is too large, then C (F ) will be empty. But if c is internally-incentive feasible, then
c  C (W 0 (c) + (1 -  )V A ), and so the constraint set C (F ) =  is non-empty for outside
options F  W 0 (c) + (1 -  )V A .
    When C (F ) = , define
                                     V(F ) := max W 0 (c).                                      (7)
                                                   cC (F )

Social capital  does not appear in the maximization in (7). Instead, the exogenous value of
the outside option F determines the optimal allocation and value.5 But there is a connection.
Since a deviating coalition only successfully coordinates after deviation with probability  ,
if F is the implied continuation value of the outside option for a deviating coalition, then,
    We discuss the connection with the earlier literature on efficient insurance under limited commitment
    5

with an exogenous outside option in a remark at the end of Section 6.1 and in the Related Literature Section
8.




                                                     9
for all y  Y , the value of the outside option is determined by the mapping

                                T (F ;  ) :=  V(F ) + (1 -  )V A .

Proposition 2 Suppose F = W 0 (c ) + (1 -  )V A is a fixed point of T (·;  ) for some
allocation c  C (F ). Then W 0 (c ) = V(F ), c is an equilibrium allocation, and F is the ex
ante value of the equilibrium.

    Proof. It is immediate that W 0 (c ) = V(F ) and that F is the ex ante value of the
equilibrium if c is an equilibrium allocation. It remains to argue that c is an equilibrium
allocation.
    Since c  C (F ), c is internally-incentive compatible. If c is not an equilibrium, there
exists a resource and internally-incentive-compatible allocation c with

                                        W 0 (c ) > W 0 (c ).

Then, for all t  1 and y t  Y t ,

                     W (y t , c )  (1 -  )u(yt ) +  [W 0 (c ) + (1 -  )V A ]
                                > (1 -  )u(yt ) +  [W 0 (c ) + (1 -  )V A ]
                                = (1 -  )u(yt ) + F,

and so c  C (F ), implying W 0 (c ) could not be a fixed point of T (·;  ).

    Proposition 2 indicates that equilibria exists for those  consistent with outside options
that are fixed points of T ( · ;  ). But this is uninformative without a better understanding
of the fixed points of T ( · ;  ) (which we provide in the next section).
    The equilibrium nature of the fixed points of T ( · ;  ) deserves comment. The fixed points
(when they exist) satisfy a stronger notion of credibility than that captured by internal-
incentive feasibility. In particular, if F = W 0 (c ) + (1 -  )V A is a fixed point of T ( · ;  )
for some allocation c  C (F ), then it is robust to the threat of secession from any coalition
when any seceding coalition is free to reoptimize subject only to the constraint that there may
be further deviations by subcoalitions. As mentioned earlier, this is analogous to stronger
notions of stability and renegotiation-proofness in game theory that are known to have
nonexistence problems. Similarly, in our setting, there is no guaranteee that T ( · ;  ) will
have a fixed point.
    If a fixed point does exist, it is unique because V(F ) and thus T (F ;  ) is weakly decreasing
in F . The fixed point may fail to exist because the constraint set is not a "nice" function of

                                                10
the parameter F , or the constraint set is empty for F in a relevant region. While Proposition
4 below (proved in Appendix A) assures us that the former is not an issue (the constraint
set is a "nice" function of F ), the constraint set is empty for large F (which will correspond
to large  ) and so a fixed point does not exist in that case. Define

                                  ¯ := sup{F | C (F ) = }.
                                  F

    We can now state the main result of the paper (which summarizes the analysis to follow):

Proposition 3 Equilibrium exists for all   [0, 1].

    1. Suppose   u (h)/u ( ). There is no risk sharing in equilibrium (i.e., autarky is the
       unique equilibrium).

    2. Suppose  > u (h)/u ( ). Risk sharing does occur in equilibrium. There exists a value
       of  , ¯  (0, 1), such that

       (a) for   [0,  ¯ ], equilibrium is unique and its ex ante value is strictly increasing in
            , equaling F¯ > V A at   ¯ , and
       (b) for   (¯   , 1], equilibrium allocations are not unique, but all have the same ex
                    ¯.
           value of F

    Proof.

                                                                          ¯ , and is proved in
    1. This is an implication of the machinery we develop to characterize F
       Corollary 1 in Section 6.2.

    2. (a) This is an immediate implication of Propositions 2 and 4 (which is in the next
           section).
       (b) This is Lemmas 1 and 2 in Section 6.3.




5     Understanding Equilibrium Values
We begin by studying the program (7) and the fixed points of T ( · ;  ). The proof of the
following result is in Appendix A.



                                              11
                                  V
                               V FB
                                                                   V(F )
                                                                   T (F ; ¯)
                V F B + (1 -  )V A
                                                                   T (F,  )
                                                     V =F

                                                                   T (F,  F B )
                                 VA
                                                                   T (F, 0)


                                              F FB             ¯
                                                               F                  F

Figure 1: Determination of the fixed point of T (F ;  ) =  V(F ) + (1 -  )V A for different
values of  . Drawn assuming  >  F B , defined in Proposition 1 (Lemma A.2 verifies that
in this case F > F F B ); if  <  F B , then F F B < V A .


Proposition 4 Suppose  > u (h)/u ( ).

           ¯.
  1. V A < F

        ¯ ) = .
  2. C (F

            ¯ , the value of the problem (7), V(F ), is continuous in F .
  3. For F  F

                       ¯ ], F < V(F).
  4. For all F  [V A , F

  5. Defining
                                            F¯-VA
                                      ¯=     ¯ ) - V A  (0, 1),
                                           V(F
     for all   (0, ¯ ], T ( · ,  ) has a fixed point. The value of this fixed point is increasing
     in  and
                                             F¯ = T (F¯; ¯ ).

  6. For  > ¯ , T ( · ,  ) does not have a fixed point.

   Figure 1 presents the previous proposition graphically by plotting V(F ) and T (F ;  )
against the value of the outside option F for various degrees of social capital . At one
extreme,  = 0 and we have T (F ; 0) = V A and thus trivially F = V A is the unique fixed
point for the outside option. In this case, for    F B , Proposition 1 implies V(V A ) = V F B
and the allocation for the initial coalition would feature full insurance (but since  = 0, it

                                              12
never successfully forms). From Proposition 1, full insurance remains the outcome for the
successful coalition as long    F B < 1. The associated largest deviation lifetime utility
F F B for which the full-insurance allocation can be sustained inside the initial coalition is
given by
                              F F B :=  F B V F B + (1 -  F B )V A .

    For   ( F B ,    ¯ ], the value of the outside option F is determined as the fixed point of
T ( · ;  ). The fixed point is larger than F F B , and so the constraint (6) strictly binds at least
for households with currently high income, implying the initial coalition cannot sustain first-
best insurance (i.e., V(F ) < V F B ) and that the utility V(F ) it delivers is strictly decreasing
in F .
    Proposition 4.4 implies that      ¯ < 1. To see why F < V(F ), suppose that for some
F > V A , we have F = V(F ). But then that F is a fixed point of T ( · ; 1). In other words,
by seceding, a rich coalition can guarantee a payoff of (1 -  )u(h) +  V(F ), implying that
the optimal consumption allocation must promise these agents a current consumption of at
least h. But then there is no insurance, contradicting F > V A .
    For  >    ¯,
                                      V(F ¯ ) + (1 -  )V A > F¯.

                              ¯ , this implies that T (·;  ) does not have a fixed point. However,
Since C (F ) is empty for F > F
this does not imply that there is no equilibrium (recall that the fixed point characterizes a
stronger notion of incentive feasibility, and is only a sufficient condition for equilibrium in
our setting).
    Suppose c is an equilibrium allocation with value W 0 (c). Then it must satisfy

                                  c  C (W 0 (c) + (1 -  )V A ),

and so
                                   W 0 (c) + (1 -  )V A  F
                                                         ¯.                                     (8)

Since  > ¯ , we have W 0 (c) < V(F
                                 ¯ ), leading us to define:

Definition 4 An equilibrium allocation c burns utility if

                                         W 0 (c) < V(F
                                                     ¯ ).

   An equilibrium allocation maximizes ex ante utility (the left side of (8)). We show in
Section 6.3 that equilibrium allocations in fact satisfy (8) with equality.



                                                13
                                                                       ¯ ( )
                    1
                                               utility burning
                                           W 0 (c)   < V(F )
                                                                                    F B ( )


                                            partial insurance

                            no insurance




                                                                           ance
                                                               g
                                                             in


                                                                      insur
                                                       (F rn
                                                      V bu
                                                         )
                                                  ) = ty




                                                                    best
                                                (c tili
                                                    u
                                             no




                                                                   first
                                                 0
                                               W


                     0                                                            1 
                                 u (h)/u ( )                 F B

Figure 2: The insurance possibilities as a function of the discount factor and social capital.
Equation (3) shows that  F B ( F B ) = 0; see Lemma A.3 for the proof that    ¯ ( ) = 0 when
 = u (h)/u ( ).



    Our notation suppresses the dependence of        ¯ and  F B on  , but it is worthwhile to
clarify the relationship between  and  , which is illustrated in Figure 2. For    F B ( ), a
successfully formed coalition provides its members with full insurance and ex-ante utility is
strictly increasing in social capital. For all   ( F B ( ),   ¯ ( )], T ( · ,  ) has a fixed point and
its value (the value of ex ante utility) is strictly increasing in  . The associated allocation
features partial insurance that gets worse with  , as does lifetime utility conditional on
successfully forming the coalition. Finally, for  >    ¯ ( ), T ( · ;  ) does not have a fixed point,
the internal-feasibility constraint is binding in equilibrium, expected lifetime utility is fixed
at F¯ independent of  (since (8) holds with equality) and attained with an allocation that
features utility burning and partial risk sharing.


6     Characterizing Equilibrium Allocations
From Proposition 1, if    F B , the first-best allocation is consistent with equilibrium.




                                                        14
6.1    The case of no utility burning,   ( F B , ¯]
We now characterize the equilibrium allocations for intermediate values of  , that is, values
of  that are consistent with a fixed point of T ( · ;  ) exceeding F F B . We have already
seen that this is equivalent to characterizing the allocations that maximize W 0 (c) subject to
                          ¯ ]. This is a strictly concave problem, and so has a unique solution,
c  C (F ) for F  (F F B , F
that we denote by c.
   We first state some standard properties of the optimal allocation. The proofs (most of
which are standard, though tedious, variational arguments) are left to Appendix B.

                                                    ¯ ]. The optimal allocation c has the
Proposition 5 Suppose u ( ) > u (h) and F  (F F B , F
following properties:

  1. There exists t+1 < 1 such that if incentive feasibility does not bind at y t+1 , then

                                             u (c(y t ))
                                                          = t+1                                (9)
                                            u (c(y t+1 ))

      and so
                                             c(y t ) > c(y t+1 ).

  2. Incentive feasibility binds at all y t-1 h, and so for all y t-1 ,

                             W (y t-1 h, c) = (1 -  )u(h) + F =: W F (h),                     (10)

      and for all y t-1 and y
                            ^t-1 ,

                                     c(y t-1 h) = c(^
                                                    y t-1 h) =: ct (h).


  3. If incentive feasibility binds at some y t-1 , then it binds at y t-1 .

  4. If incentive feasibility binds at y t , then c(y t ) = c (F ), where c (F ) >   solves

                                u(c (F )) = u( ) +  (F - V A ) > u( ),

      and for all y t ,
                                             c(y t )  c (F ).                                 (11)

  5. Incentive feasibility does not bind in the initial period at , nor after any history of the
     form y t h .


                                                 15
  6. There is an L such that for 0  k < L and all histories y t-1-k , y
                                                                      ^t-1-k

                               c(y t-1-k h k ) = c(^
                                                   y t-1-k h k ) := ct (h k ),

      and for k  L, c(y t-1-k h k ) = c (F ).

    Proposition 5 implies that the optimal allocation is a sequence of consumption ladders:
the optimal consumption in any period is determined by the number of realizations after
the last h realization with consumption falling after each additional realization until the
consumption floor c (F ) is reached. Accordingly, with a slight abuse of notation, we write
ct+k (h k ) for the consumption in period t + k after any history y t-1-k h k .

Definition 5 A period-t consumption ladder is a finite sequence of consumptions, denoted
               L-1
   ct+k (h k ) k=0 , c (F ) , specifying for each k = 0, . . . , L, the consumption in period t + k
of an agent who had the income history y t-1 h k . A stationary consumption ladder is a finite
                                                 L
sequence of consumptions, denoted c (h k ) k=0 , specifying the consumption in any period t
of an agent who had the income history y t-k-1 h k .

     We extend any finite consumption ladder to an infinite ladder (sequence) by setting
ct+k (h k ) := c (F ) for k  L.
     A period-t consumption ladder specifies the current and future consumption of an agent
with current h-income and future -income realizations. If that agent again receives h in the
subsequent period t + k , her consumption from period t + k on is determined by a period
t + k consumption ladder. Consequently, the continuation lifetime utility of any agent with
current h-income is determined by the details of the current and future consumption ladders.
     The calculation of lifetime utility is simpler when the current and future ladders agree,
i.e., for a stationary ladder. The lifetime utility of an agent with currently high income from
a stationary ladder c is

                 W (h, c ) = (1 -  )u(c (h))
                                      
                                  +   2
                                          {(1 -  )u(c (h )) + W (h, c )}
                                                  2
                                           +     2
                                                       (1 -  )u(c (h 2 )) + W (h, c )
                                            .
                                            .
                                            .
                                          
                           = (1 -  )            (2
                                                   )k u(c (h k )) +    
                                                                      2-
                                                                         W (h, c ),
                                          k=0




                                                      16
and so, simplifying, we get
                                                     
                                                
                              W (h, c ) = 1 -   2
                                                          (2
                                                             )k u(c (h k )).                (12)
                                                    k=0


    The only income histories for which consumption is not specified by any consumption
ladder have the form k , and those consumptions are pinned down by resource feasibility,
since in every period there is only one such history.
    For F > F F B , the optimal allocation provides maximal risk sharing consistent with
incentive feasibility. Incentive feasibility always binds for h-income agents and sometimes
for -income agents.
    In order to deter an h-income agent from seceding, the optimal allocation does two
things: First, it reduces her transfer to low-income individuals below the first-best level.
And, second, the risk sharing offered is "front-loaded" so that -income agents who had
more recently received a h realization receive more insurance than those who last received a
h realization further in the past.
    This front-loading (reflected in the declining consumption ladder) implies that eventually
the consumption specified after a sufficiently long string of -realizations is determined by
incentive feasibility for the -realization. The resulting lower bound on consumption, c (F ) >
  reflects the following tradeoff: Seceding from c does mean that the agents give up some risk-
sharing today, but the benefit is that in a new coalition tomorrow, any agent who receives
another realization receives more generous risk sharing tomorrow (since incentive feasibility
does not bind in the first period after by Proposition 5.5, c (F ) < c( )).

Remark 1 When             ¯ and the equilibrium allocations are solutions to the fixed point of
T ( · ;  ), the consumption allocations within the coalition can be decentralized as in Kehoe
and Levine (1993). In the literature stimulated by Kehoe and Levine (1993), the outside
option is taken to be autarky, but the key is that the efficient allocation is generated by opti-
mizing against this option (see, for example, Chien and Lustig (2009), Alvarez and Jermann
(2000)). This decentralization is one within a successfully formed coalition. The individ-
ual's optimization problem in this decentralization is to choose her consumption allocation
so as to maximize her ex ante payoff subject to a single intertemporal budget constraint
and a sequence of incentive constraints for each history state y t . In the individual's present
value budget constraint the price of a unit of consumption in her history state y t is given
by t P r(y t ), where t is the resource multiplier from the coalition's social planning problem
given the outside options and hence corresponds to the individual-level present value con-
straint. In addition, the incentive compatibility constraints at the individual level are exactly


                                                17
the incentive feasibility constraints in (6). Thus,the individual's problem is isomorphic to
the Lagrangian problem for the coalition. Note that this is not the case when  >        ¯ since
the coalition must respect a coalition-level constraint on the overall level of ex ante welfare.




6.2    Characterizing ¯
We now characterize                         ¯ . It turns that F
                       ¯ , or equivalently, F                 ¯ has a simple characterization as
the maximum value of the outside option consistent with h-incentive feasibility. In particular,
a specific stationary ladder attains this maximal sustainable deviation payoff F  ¯ . Using this
property, we then argue that the associated equilibrium allocation also converges to this
stationary ladder.
    We are interested in the stationary ladder that maximizes ladder lifetime utility W (h, c ),
given in (12), subject to incentive feasibility for realizations and resource feasibility. Re-
calling (11), this is
                                   V (h; F ) := max W (h, c ),                              (13)
                                                cC (F )

where C (F ) is the set of infinite stationary ladders satisfying resource feasibility
                                      
                                           (1
                                            2
                                              )k+1 c (h k )  y                             (14)
                                     k=0


and incentive feasibility
                                 c (hy k )  c (F ) for all k  1.                           (15)

   In this problem, h-incentive feasibility does not appear as a constraint because we are
maximizing the payoff of the h agents. Note also that resource feasibility is being imposed
on the ladder, and so there is only one constraint. In contrast, resource feasibility was not
imposed on any ladder in C (F ), being imposed instead in each period.
   The next proposition (proved in Appendix C) makes precise the sense in which F     ¯ is the
maximum value of the outside option consistent with h-incentive feasibility.

Proposition 6 The set of resource and incentive feasible allocations C (F ) is nonempty if
and only if
                                 V (h; F )  W F (h),

where W F (h) is the deviation value of high-income individuals defined in (10). Moreover,

                                  ¯  V (h; F ) = W F (h).
                               F =F

                                                 18
Corollary 1 If u ( )  u (h), then
                                            ¯ = V A.
                                            F
               ¯ > V A . By Proposition 6, for all F  (V A , F
Proof. Suppose F                                             ¯ ],

                                V (h, F )  (1 -  )u(h) + F.                              (16)

   But u ( )  u (h) implies that the autarkic consumption provides an upper bound for
(13) and so

                                      (1 -  )          
            V (h, F )  (1 -  )u(h) +           u( ) +     [(1 -  )u(h) + F ]
                                        2-            2-
                                        
                      = (1 -  )u(h) +      [(1 -  )2V A + F ]
                                      2-
                      < (1 -  )u(h) + F,                                                 (17)

because

                                 (1 -  )2V A + F < (2 -  )F
                                        (1 -  )2V A < 2(1 -  )F.

                                          ¯ = V A.
Since (17) contradicts (16), we must have F

    This corollary shows that under the specified condition the highest outside option that
can be attained is autarky, and thus under this condition the only equilibrium is one without
any insurance.
    It remains to characterize the allocation that maximizes ex ante utility at F¯ (the proof
is in Appendix C) ).

Proposition 7 Suppose u ( ) > u (h) and F = F       ¯ . The equilibrium allocation c converges
to the unique solution to problem (13), c
                                        ¯ , that is (where L is from Proposition 5.6),

                            lim ct (h k ) = c
                                            ¯ (h k )   for any k < L
                           t


and
                                        ct ( L ) = c (F
                                                      ¯ ).




                                               19
   Suppose u is CRRA, i.e., for some   0,
                                            1-
                                           c    -1
                                                   ,  = 1,
                                           
                                    u(c) =   1-                                              (18)
                                           log(c),
                                           
                                                      = 1.

                                                                     ¯ =  1/ ) does not
Then convergence to the optimal stationary ladder (which is given by g
occur in finite time.

    We have not been able to prove an analogous result to Proposition 7 when F < F         ¯.
Indeed, in these cases it is not obvious what the appropriate limiting stationary ladder is.
Nonetheless, we can gain some insight by considering the following variant of our model:
Assume (as we do in our computational exercises) that utility is CRRA, and suppose only
coalitions with high income realizations can leave. In other words, ignore the -incentive
feasibility, but maintain resource and h-incentive feasibility. Now, agents with a current
realization never face a binding incentive constraint, and so in the optimal allocation, such
individuals have consumptions that decay at a common rate. Of course, there is no floor
on the consumption of such agents (beyond the feasibility floor of 0). This suggests that
a stationary ladder of the form c(h k ) = ch g k will be optimal, for some value of g . The
stationary resource constraint is then given by
                                             
                                        ch          g    j       ch 1
                                   y
                                   ¯=                        =          ,
                                        2    j =0
                                                    2            2 1- g
                                                                      2


and so, ch = (2 - g )¯
                     y.
    Consider the allocation in which the h agents are immediately put on the stationary
ladder (and so after the history y t-k-1 h k have consumption ch g k ). In period t, agents with
realizations t receive the residual consumption

                           t-1
                                                             1 - (g/2)t
                      ¯-
                      y          ch g k 2-k-1 = y
                                                ¯- 1 c
                                                   2 h
                                                                         ¯(g/2)t ,
                                                                        =y
                           k=0
                                                             1 - (g/2)

and since the mass of such agents is 2-t , their per capita consumption is y
                                                                           ¯g t . But this implies
that the per capita consumption of the "residual" agents is declining at the same rate as
agents with histories of the form h k , suggesting that the allocation in which the h agents are
immediately put on the stationary ladder is in fact ex ante when the -incentive constraints
are ignored.




                                                    20
    It remains to pin down g , which is determined from the binding h-incentive-feasibility
constraint for given F . So the ex ante value of the stationary ladder implied by that g is an
upper bound for W 0 (c). A natural lower bound is given by the ex ante utility from putting
the high income agents immediately on the stationary ladder with the consumption floor
c (F ) and a binding h-incentive-feasibility constraint. The calculations in Section 7 suggest
that these two bounds can be close.


6.3    The case of utility burning,  > ¯
For high values of social capital ( >   ¯ ), equilibrium requires utility burning. While equi-
librium must now impose additional inefficiencies, the precise nature of these inefficiencies
is not determined. Rather, these inefficiencies are chosen to exactly offset the increase in
social capital so that the ex ante value remains at F  ¯.
    We present two lemmas, illustrating two possible choices of inefficiencies due to either
postponing risk sharing or burning resources. Denote by c     ¯ the optimal consumption for
F =F  ¯ . The first lemma describes an equilibrium that postpones risk sharing.

Lemma 1 Suppose  >        ¯ . Denote the allocation specifying T periods of autarkic con-
sumption followed by c
                     ¯ in a history independent manner by c(T ) . There exists T ( ) and
( )  [0, 1] for which the convex combination

                         c(()) := ( )c(T ()-1) + (1 - ( ))c(T ()) .

                                                                  ¯.
is an equilibrium allocation, and the value of this allocation is F

    The allocation c(()) postpones risk sharing for T ( ) - 1 periods and then provides
intermediate risk sharing in future periods.
                                                ¯ ) and
    Proof. We first observe that if c(T -1)  C (F

                      ¯   [(1 -  T -1 )V A +  T -1 V  (F
                      F                                ¯ )] + (1 -  )V A ,

               ¯ ). This holds because
then c(T )  C (F

                                                                     ¯.
                      (1 -  )u(y ) + W 0 (c(T -1) )  (1 -  )u(y ) +  F




                                              21
   Denote by T ( ) the unique value of T satisfying

                          ¯ )] + (1 -  )V A < F
   [(1 -  T )V A +  T V  (F                   ¯
                                                                                  ¯ )] + (1 -  )V A .
                                                     [(1 -  T -1 )V A +  T -1 V  (F

                                     ¯ ) for all   [0, 1]. Moreover, W 0 (c() ) is continuous
   Since utility is concave, c()  C (F
function of , with

                                               ¯  W 0 (c(1) ) + (1 -  )V A .
                    W 0 (c(0) ) + (1 -  )V A < F

Thus, there exists ( ) such that

                                                             ¯,
                                 W 0 (c(()) ) + (1 -  )V A = F

and so c(()) is an optimal consumption allocation for  > ¯.


   The next lemma describes an equilibrium that burns resources.

Lemma 2 Define the consumption allocation c[] as follows:
                                         
                                         c¯(y t )                if y t = t ,
                          c[] (y t ) =
                                          c            ¯ ), if y t = t .
                                          ¯ + (1 - )c (F

                                                                             ¯.
There exists ( ) for which c[()] is an equilibrium allocation whose value is F

    Note that the consumption allocation c[] only differs from c        ¯ at histories t . Moreover,
since c           ¯ ) in finite time (Lemma B.9), c[] (y t ) = c
      ¯( t ) = c (F                                            ¯(y t ) for t  L.
    Proof. Since c¯( t )  c (F ¯ ) for all t, c[]  C (F
                                                      ¯ ).
    Since the payoff to any agent receiving the income h in the initial period is the same as
under c¯ and the h incentive feasibility constraint is always binding, the h payoff is given by

                                                          ¯.
                                           (1 -  )u(h) +  F

   The consumption c (F  ¯ ) is determined by the requirement that the incentive feasibility
constraint is binding, and so the payoff to any agent receiving the income in the initial
period under c[0] is
                                      (1 -  )u( ) +  F¯.



                                                    22
This implies
                                                          ¯,
                                            W 0 (c[0] ) < F

so that
                                                ¯ < W 0 (c[1] ) + (1 -  )V A .
                     W 0 (c[0] ) + (1 -  )V A < F

Thus, there exists ( ) such that

                                                               ¯,
                                   W 0 (c[()] ) + (1 -  )V A = F

and so c[()] is an optimal consumption allocation for  > ¯.




7     Numerical Examples and Comparative Statics
In this section we illustrate the computation of equilibrium allocations, and present results
for an illustrative set of examples to convey the qualitative properties of the equilibrium.
Throughout we assume the CRRA period utility function (18). This functional form implies
that equation (9) in Proposition 5 characterizing equilibrium allocations can be written as

                                                 c(y t )-
                            y , c(y ) > c (F ) =
                               t     t
                                                          = t+1 .
                                                 c(y t )-

for some t+1 < 1. Since t+1 < 1, and defining gt+1 := (t+1 )1/ < 1,

                           y t , c(y t ) > c (F ) = c(y t ) = gt+1 c(y t ).

Thus, equilibrium allocations have the form of a sequence of consumption ladders (as in
Definition 5), where the period t-ladder is determined by an initial consumption after the
high income y = h realization, ct (h), and then a decreasing sequence of lower consumptions
gt+1 ct (h), gt+1 gt+2 ct (h), . . . , until the lower bound c (F ) is reached (after L - 1 realizations
of ). Note that a stationary ladder has gt = gt+1 = g . When F = F              ¯ (equivalently,  =  ¯ ),
the equilibrium allocation converges to the unique stationary ladder satisfying h-incentive
feasibility, so that gt  g     ¯ :=  1/ (Proposition 7).
    With these observations based on our theoretical results in hand, the computation of
an equilibrium with associated outside option F  (V A , F             ¯ ] (and thus for social capital 
associated with that outside option) proceeds as follows. The algorithm first computes a
stationary consumption ladder and associated consumption decay rate g that satisfies the

                                                   23
h-incentive-feasibility constraint associated with F with equality (as well as the resource
constraint and the -incentive-feasibility constraint with equality for those at the very bot-
tom of the ladder).6 The algorithm then determines the dynamic equilibrium consumption
allocation under the assumption that it converges into the stationary ladder in finite (but
potentially long) time. The key distinction between an arbitrary outside option F and F  ¯ is
that at the latter we know

   1. the stationary decay rate g
                                ¯,

   2. the associated stationary ladder is unique, and

   3. the dynamic equilibrium consumption allocation converges to the stationary ladder
      asymptotically.

We therefore focus on the F ¯ case in what follows.7
    Figure 3 plots the dynamics of the equilibrium consumption allocation when the period
utility function is logarithmic, u(c) = log(c), incomes are ( , h) = (0.75, 1.25), and the
discount factor is  = .9. Social capital is  =      ¯ = 0.41 so that the value of the outside
                          ¯
option is given by F = F . Table 1 provides additional summary statistics for the allocation
in this parameterization, as well as for alternative values of (,  ) to display the comparative
statics of the model with respect to its preference parameters (the values of F  ¯ and ¯ changes
with (,  )).
    From Figure 3 we observe that as the transition unfolds, consumption spreads out over
time, and eventually converges to the stationary ladder, which for this parameterization has
five consumption steps. Consumption insurance worsens over time but remains positive: for
high income individuals the outside option is binding, but they consume substantially less
than their income h (indicated by the upper dashed line) and thus provide insurance to low-
income individuals. Initially low income individuals consume significantly more than their
income (lower dashed line), and also significantly more than implied by a binding outside
option, c (F ¯ ). Over time those with continuously low income see their consumption drift
down until the outside option becomes binding, and c = c (F       ¯ ). In the example this occurs
in period four of the transition.
    The equilibrium allocation can generate high initial consumption insurance because the
allocation does not inherit any implicit promises to past high income types. As time evolves,
the consumption level of c( t ) declines as the burden of efficient smoothing of consumption to
   6
     While there may be multiple stationary ladders satisfying the three constraints, each ladder is associated
with a distinct value of g . Moreover, it is inefficient to converge to a stationary ladder with g <  1/ = g  ¯
(Lemma D.1).
   7
     The details of the computational procedure are described in Appendix D


                                                      24
                                   Consumption Allocation along Transition: T=5
                             1.3

                             1.2

                             1.1
               Consumption




                              1

                             0.9

                             0.8

                             0.7
                                      2         4          6                 8        10
                                                       Time

Figure 3: The consumption allocation along the transition, with                   = 0.75, h = 1.25,  =
0.9,  = 1.

past high income types makes consumption scarcer. The allocation also becomes statically
inefficient since individuals with the same current income receive different consumption levels.
Finally, the figure shows that although we do not force convergence to the stationary ladder
until period 10 (the last period of the blending phase) in this example, effectively allocations
have converged to the stationary ladder by period four of the transition. Expanding the
length of the transition yields utility gains that are indistinguishable from zero. Thus,
although theoretically convergence to the stationary ladder is only asymptotic, our numerical
examples suggest that in practice convergence happens rapidly.
    Table 1 contains summary statistics of equilibrium allocations along the transition for
alternative parameterizations of the model. Focusing first on the benchmark case in the first
column, we observe that the consumption allocation a coalition can implement improves
significantly (worth 0.94% of consumption) on the outside option, by providing insurance to
initially poor individuals, but also needs to leave significant insurance opportunities unex-
ploited (worth 0.63% of consumption relative to full insurance). Insurance gets worse over
time as expected period utility falls and consumption dispersion rises over time.8 Comparing
across parameterizations, as households become more patient (higher  ) and more risk-averse
  8
      We only display the first two periods, relative to the stationary ladder.

                                                       25
                            Table 1: Summary Statistics of the Transition


                                                 =1                         =2
                    Statistic                = 0.9  = 0.95              = 0.9  = 0.95
                    V F B /V (F ¯ ) in %    0.63%   0.22%              0.45%   0.12%
                    V (F¯ )/F ¯ in %        0.94%   0.71%              1.24%   0.80%
                    ¯                         0.41    0.66               0.69    0.85
                    c (F¯)                   0.761   0.767              0.776   0.782
                    ch                       1.092   1.049              1.050   1.025
                    Steps                        5       8                  7      12
                     EU (c1 )
                    EU (c )
                              in %          0.28%   0.11%              0.25%   0.07%
                     EU (c2 )
                    EU (c )
                              in %          0.05%   0.05%              0.11%   0.03%
                    V ar(c )                  0.01   0.004              0.004   0.001
                    V ar(c1 )
                    V ar(c )
                                              0.62    0.55               0.55    0.52
                    V ar(c2 )
                    V ar(c )
                                              0.94    0.80               0.81    0.77

Notes: Ratios of (lifetime) utilities are converted into consumption equivalent variation and give the percent-
age increase in consumption (uniform across all states or histories) required to equalize period (or lifetime)
utility across the two alternatives. The first two lines measure the welfare loss from imperfect consumption
insurance relative to full insurance, and the welfare gain of coalition allocations relative to the outside option.
The second panel provides summary statistics of the stationary ladder, and the third and forth panels show
how expected utility and consumption insurance declines over time.


(higher  ), the equilibrium allocations get closer to full insurance, but the gains from coali-
tion risk sharing relative to the outside option become smaller. The stationary ladder has
more steps and the support of the consumption distribution tightens. We also observe that
increased patience (higher  ), elevates the gains of coalition risk sharing (compared to the
outside option) mostly through an improvement of the stationary ladder. An increase in risk
aversion (larger  ), in contrast, leads to better risk sharing both because of an improved
stationary ladder and longer initial insurance and thus slower convergence to the ladder.


8      Related Literature
There is a large literature using limited contract enforcement to rationalize incomplete insur-
ance arrangements and imperfect risk allocations. In financial markets, Kehoe and Levine
(1993) and Alvarez and Jermann (2000) characterize consumption allocations under limited
commitment within a general equilibrium framework. In labor economics, Harris and Holm-
str¨
   om (1982) and Thomas and Worrall (1988) study efficient long term-contracts between
employers and employees under limited commitment. Kocherlakota (1996) models two-party


                                                        26
risk-sharing arrangements as a repeated game and Krueger and Perri (2011) extends this lit-
erature to a risk sharing economy with as a continuum of households exactly of the form
studied in this paper. All these classic papers share our focus on self-enforcing arrangements,
but take the outside option as exogenously given, and equal to the autarkic allocation. Given
this outside option, the qualitative properties of the equilibrium allocation in this work and
our paper are similar: high-income individuals receive high consumption to avoid defection,
and consumption drifts down with low-income realizations until it hits a lower bound.
    Building on these classic papers, a literature emerged that endogenizes the outside option
by assuming that one side of the arrangement, typically a financial intermediary, has long
term commitment, as in Krueger and Uhlig (2006).9 A strand of the sovereign debt litera-
ture also considers self-enforcing simple debt contracts because sovereigns cannot commit to
repay, see for example Eaton and Gersovitz (1981) and Bulow and Rogoff (1989). There is
also a related literature which endogenizies the outside option by assuming that private non-
contingent intertemporal trades can be enforced and examines how this impacts on insurance
(see, for example, Allen, 1985) and government taxation (see Farhi et al. (2009)).10
    Most papers on risk-sharing consider only unilateral deviations of individuals from the risk
sharing arrangement, thereby explicitly or implicitly limiting the extent of insurance these
individuals can obtain after deviating. An exception to this is Genicot and Ray (2003), who
study the formation and stability to joint deviations of risk sharing coalitions in economies
with finite populations. Bold and Broer (2018) estimate their model on Indian village data
and find that stable risk sharing coalitions are typically small, and that the resulting con-
sumption allocations accord better with the data than those generated by the standard
limited commitment model with exogenous outside option, assumed again to be autarky.
    In the finite population world of Genicot and Ray (2003), coalitions must be stable against
deviations of smaller sub-coalitions of the original group, and the main purpose of the paper
is to determine endogenously the size of stable coalitions. Since larger coalitions are more
prone to successful deviation an optimal size of the original coalition emerges. This result
stems from the assumption that the deviating coalition can only make an arrangement with
the original coalition members, while in the formation of the original coalition, all members
of the population could be considered as potential members. We share with this paper and
with Bold and Broer (2018) the basic notion that risk-sharing coalitions must be immune to
    9
      Phelan (1995) also endogenizes the outside option, and makes assumptions on the timing of the model
that implies full commitment for one period. In his paper private information about income limits consump-
tion insurance in his model.
   10
      Within the context of a model with incomplete information, Cole and Kocherlakota (2001) endogenize
                                              ´
the outside option, assuming hidden storage. Abrah´ am and Lacz´ o (2017) also analyze a limited commitment
model with a private storage technology.



                                                    27
not only unilateral deviations by an individual, but to coalitional deviations. In contrast to
Genicot and Ray (2003), the insurance capabilities of deviating continuum coalitions are no
worse than in the original coalition, and so if any coalition is stable, the grand coalition is.
     Genicot and Ray (2003) is closely related to the more abstract game theoretic litera-
ture on coalition deviations pioneered by Bernheim et al. (1987) and Greenberg (1990) (and
extended/unified by Kahn and Mookherjee (1992, 1995) to infinite games and to adverse
selection insurance economies in which agents have private information). This abstract liter-
ature shares with Genicot and Ray (2003) the assumption that coalition formation is "easy."
Our view that coalition formation is "hard" and so the required nontrivial belief coordina-
tion on future behavior does not always arise is consistent with the recent work on strategic
uncertainty. The classical insurance environment is an example of a repeated game (indeed,
Mailath and Samuelson (2006) exposit Kocherlakota (1996) as an example of a repeated
game). Repeated games have many equilibria, with efficient equilibria sustained by delicate
intertemporal incentives that require belief coordination about continuation play. There is
little work on the robustness of equilibria to shocks to belief coordination. The literature on
private monitoring is motivated by a concern that agents may not have sufficient common
knowledge about past histories in order to coordinate continuation play. Surprisingly, this
literature has showed that efficiency is still consistent with equilibrium (see, for example,
H¨orner and Olszewski (2006)). Importantly, the constructions in this literature maintain the
assumption of belief coordination on future behavior.
     The large literature on global games (surveyed in Morris and Shin (2003)) and higher
order beliefs (Rubinstein (1989) and Weinstein and Yildiz (2007)) is directly concerned with
the difficulties in coordinating behavior. The global games literature has primarily focused
on simple (and often static) coordination games. This permits a direct modeling of the
source of difficulty in coordinating behavior. In order to focus on the implications of the
belief coordination frictions, we model the friction in a reduced form manner. The literature
on higher order beliefs in repeated games is thin (Weinstein and Yildiz (2013, 2016)), but
the few results there confirm our intuition that coordination is no easier in a repeated game
context than in a static one.
     The use of utility and money burning at the beginning of the allocation is reminiscent of
some efficiency wage (Shapiro and Stiglitz, 1984, MacLeod and Malcomson, 1989) and some
gift-exchange and related models (Carmichael and MacLeod, 1997, Kranton, 1996b,a, Ghosh
and Ray, 1996). In particular, the idea that if it is too easy to start a new relationship
(worker-firm, principal-agency, partnership, etc) after opportunistic behavior (shirking for
example), then it is impossible to deter opportunistic behavior. In order to deter deviations,
it is therefore necessary to impose some form of tax or friction (such as delays in joining a


                                              28
new firm, involuntary unemployment, or engaging in inefficient actions in the beginning of
the new relationship, exchange of inefficient gifts).


9    Conclusion
Pareto improving activities that require trust because they have an intertemporal exchange
aspect, are a major component of societies both primitive and modern. We have focused on
one of the most basic of these, insurance, and parameterized social capital or trust in a very
simple fashion through the ability to coordinate beliefs on the optimal outcome. Despite its
starkness, the model paints a surprisingly rich picture of potential societies.
    In societies with a low level of social capital many Pareto improving activities are not
undertaken. However, when they are undertaken, they tend to be extensively exploited and a
high level of insurance is achieved. This occurs because the low level of social capital implies
that the outside options of the participants are low, and hence these outside options do not
distort the allocations within the coalition. This implies that the insurance level is both
intertemporally and statically efficient. Ex ante welfare rises linearly with social capital.
    At medium levels of social capital, more Pareto improving activities are undertaken, but
as a result, the outside options of participants are higher. These higher outside options
bind increasingly on allocations attainable with higher social capital. As a result, efficient
allocations must reward higher income. This leads to allocations being statically inefficient,
but not intertemporally inefficient modulo the outside options. When this occurs, overall
utility is declining over time as accumulated past promises of rewards for higher income build
up. Consequently, the extent to which Pareto improving activities are exploited is declining,
and so too is the payoff from forming a coalition. Ex ante welfare is still increasing in social
capital, but now at a decreasing rate.
    At high levels of social capital, most if not all of the Pareto improving activities are
undertaken. However, the level of the outside options that can be attained has hit the
maximum (F    ¯ in our model). As a result, some form of waste must occur in the early
phases of these arrangements because too high an ex ante payoff would carry the seeds of
its own destruction and hence would not be internally incentive feasible. While the long-
run arrangement is independent of social capital, the extent of short run money- or utility-
burning is increasing in social capital, and the ex ante welfare is flat. Our arrangements
feature explicit waste but this waste is front-loaded. In the long-run they are intertemporally,
but not statically efficient, just as with medium levels of social capital.




                                              29
References
´
Abrah´    ´ ad and Sarolta Lacz´
     am, Arp´                   o (2017), "Efficient risk sharing with limited commitment
  and storage." Review of Economic Studies, 85, 1389­1424. 27

Allen, Franklin (1985), "Repeated principal-agent relationships with lending and borrowing."
  Economics Letters, 17, 27­31. 27

Alvarez, Fernando and Urban J. Jermann (2000), "Efficiency, equilibrium, and asset pricing
  with risk of default." Econometrica, 68, 775­797. 17, 26

Bernheim, B. Douglas, Bezalel Peleg, and Michael D. Whinston (1987), "Coalition proof
  Nash equilibria i: Concepts." Journal of Economic Theory, 42, 1­12. 28

Bold, Tessa and Tobias Broer (2018), "Risk-sharing in village economies revisited." Stock-
  holm University. 27

Bulow, Jeremy and Kenneth Rogoff (1989), "Sovereign debt: Is to forgive to forget?" Amer-
  ican Economic Review, 79, 43­50. 27

Carmichael, H. Lorne and W. Bentley MacLeod (1997), "Gift giving and the evolution of
  cooperation." International Economic Review, 38, 485­509. 28

Chien, YiLi and Hanno Lustig (2009), "The market price of aggregate risk and the wealth
 distribution." Review of Financial Studies, 23, 1596­1650. 17

Cole, Harold L. and Narayana R. Kocherlakota (2001), "Efficient allocations with hidden
  income and hidden storage." Review of Economic Studies, 68, 523­542. 27

Eaton, Jonathan and Mark Gersovitz (1981), "Debt with potential repudiation: Theoretical
  and empirical analysis." The Review of Economic Studies, 48, 289­309. 27

Farhi, Emmanuel, Mikhail Golosov, and Aleh Tsyvinski (2009), "A theory of liquidity and
  regulation of financial intermediation." Review of Economic Studies, 76, 973­992. 27

Farrell, Joseph and Eric Maskin (1989), "Renegotiation in repeated games." Games and
  Economic Behavior, 1, 327­360. 6

Genicot, Garance and Debraj Ray (2003), "Group formation in risk-sharing arrangements."
 Review of Economic Studies, 70, 87­113. 27, 28

Ghosh, Parikshit and Debraj Ray (1996), "Cooperation in community interaction without
 information flows." Review of Economic Studies, 63, 491­519. 28

                                            30
Greenberg, Joseph (1990), The Theory of Social Situations: An Alternative Game-Theoretic
  Approach. Cambridge University Press. 6, 28

Harris, Milton and Bengt Holmstr¨om (1982), "A Theory of Wage Dynamics." The Review
  of Economic Studies, 49, 315­333. 26

H¨
 orner, Johannes and Wojciech Olszewski (2006), "The folk theorem for games with private
  almost-perfect monitoring." Econometrica, 74, 1499­1544. 28

Kahn, Charles M and Dilip Mookherjee (1992), "The good, the bad, and the ugly: Coalition
 proof equilibrium in infinite games." Games and Economic Behavior, 4, 101­121. 28

Kahn, Charles M. and Dilip Mookherjee (1995), "Coalition proof equilibrium in an adverse
 selection insurance economy." Journal of Economic Theory, 66, 113­138. 28

Kehoe, Timothy J. and David K. Levine (1993), "Debt-constrained asset markets." Review
  of Economic Studies, 60, 865­888. 17, 26

Kocherlakota, Narayana R. (1996), "Implications of efficient risk sharing without commit-
 ment." Review of Economic Studies, 63, 595­609. 26, 28

Kranton, Rachel E. (1996a), "The formation of cooperative relationships." Journal of Law,
  Economics, and Organization, 12, 214­233. 28

Kranton, Rachel E. (1996b), "Reciprocal exchange: A self-sustaining system." American
  Economic Review, 86, 830­851. 28

Krueger, Dirk and Fabrizio Perri (2011), "Public versus private risk sharing." Journal of
  Economic Theory, 146, 920­956. 7, 27

Krueger, Dirk and Harald Uhlig (2006), "Competitive risk sharing contracts with one-sided
  commitment." Journal of Monetary Economics, 53, 1661­1691. 27

MacLeod, W. Bentley and James M. Malcomson (1989), "Implicit contracts, incentive com-
 patibility, and involuntary unemployment." Econometrica, 57, 447­480. 28

Mailath, George J. and Larry Samuelson (2006), Repeated Games and Reputations: Long-
 Run Relationships. Oxford University Press, New York, NY. 28

Morris, Stephen and Hyun Song Shin (2003), "Global games: Theory and applications." In
 Advances in Economics and Econometrics (Proceedings of the Eighth World Congress of
 the Econometric Society) (M. Dewatripont, L. Hansen, and S. Turnovsky, eds.), Cambridge
 University Press. 28

                                           31
Phelan, Christopher (1995), "Repeated Moral Hazard and One-Sided Commitment." Journal
  of Economic Theory, 66, 488­506. 27

Rubinstein, Ariel (1989), "The electronic mail game: Strategic behavior under almost com-
 mon knowledge." American Economic Review, 79, 385­391. 28

Shapiro, Carl and Joseph Stiglitz (1984), "Equilibrium unemployment as a worker discipline
  device." American Economic Review, 74, 433­444. 28

Thomas, Jonathan and Tim Worrall (1988), "Self-Enforcing Wage Contracts." The Review
 of Economic Studies, 55, 541­554. 26

von Neumann, John and Oskar Morgenstern (1944), Theory of games and economic behavior,
  1st edition. Princeton University Press. 2nd edn 1947, 3rd edn 1953. 6

Weinstein, Jonathan and Muhamet Yildiz (2007), "A structure theorem for rationalizability
 with application to robust predictions of refinements." Econometrica, 75, 365­400. 28

Weinstein, Jonathan and Muhamet Yildiz (2013), "Robust predictions in infinite-horizon
 games--an unrefinable folk theorem." Review of Economic Studies, 80, 365­394. 28

Weinstein, Jonathan and Muhamet Yildiz (2016), "Reputation without commitment in
 finitely repeated games." Theoretical Economics, 11, 157­185. 28




                                           32
Appendices

A      Proofs for Section 5
We begin with a preliminary result.

Lemma A.1

                                                            ¯.
  1. C (F )  C (F ) for F < F , and so C (F ) =  for all F  F

                                            ¯.
  2. C (F ) is closed and convex for all F  F

                                                ¯ (at F
  3. C is a continuous correspondence at all F  F     ¯ , the continuity is from the left).

    Proof.

  1. This is immediate.

  2. This is also immediate.

  3. Since C is a decreasing correspondence in F , we need only show upper hemicontinu-
     ity from the left and lower hemicontinuity from the right. Upper hemicontinuity is
     immediate, since all the constraints are closed. Turning to lower hemicontinuity, we
     need to show that if c  C (F ) and (Fk )k is a sequence with Fk   F , then there exists
                                     
     ck  C (Fk ) with ck  c. Fix c  C (F     ¯ ). We now verify that for all k , there exists
     k  [0, 1] such that k c + (1 - k )c  C (Fk ) and k  0.
                                     ¯ - Fk ) > 0. Then,
      Fix k , and let k = (Fk - F )/(F

                   W (y t , k c + (1 - k )c)  k W (y t , c ) + (1 - k )W (y t , c)
                                              (1 -  )u(yt ) + k  F  ¯ + (1 - k )F

                                             = (1 -  )u(yt ) + Fk ,

      and so incentive feasibility (6) is satisfied. Since (1) is trivially satisfied, we are done.



    Proof of Proposition 4

  1. Since, for  small, the allocation in Example 1 is internally-incentive feasible for  = 1
     and provides partial insurance, C (F ) =  for some F > V A , and so F     ¯ > V A . This
     also shows that V(V A ) > V A .

                                                33
 2. Suppose (Fk )       ¯ is a sequence satisfying C (Fk ) = . Since the space of consump-
                        F
    tion allocations is sequentially compact (being the countable product of sequentially-
    compact spaces), we can assume there is a convergent sequence (ck )k , with ck  C (Fk )
    and limit c . Since all the constraints defining C are closed (and continuous in F ), the
    limit also satisfies these constraints (including (6) at F = F¯ ), and so c  C (F¯ ), and
       ¯ ) = .
    C (F

 3. The continuity of V follows from the continuity of C (Lemma A.1) and the maximum
    theorem.

 4. We now verify that for all F  (V A , F  ¯ ], F < V(F ),11 Example 1 having already
    demonstrated that V A < V(V A ). Since V is continuous, it is enough to show that
    there is no F  (V A , F¯ ] for which F = V(F ). The proof is by contradiction, so
    suppose there is such an F . Then V(F ) is a fixed point of T (·; 1). Note first that
    F = V(F ) = V A is impossible (since if F = V A , we immediately have V(F ) > V A ),
    and so F = V(F ) > V A .
           ^t  Y t , denote by c|y
       For y                     ^t the consumption allocation


                                                
                                         c|y           y t y  ) y   Y  .
                                           ^t (y ) = c(^


       Then,
                                   W (y t , c) = (1 -  )u(c(yt )) + W 0 (c|yt ).

       Suppose c achieves V(F ). Since F = V(F ) = maxcC (F ) W 0 (c), and c|yt  C (F ), we
       have F  W 0 (c|yt h ) for all y t  Y t , and so (using (6) in the first line)

                              (1 -  )u(c(y t h)) + F  (1 -  )u(h) + F
                                        = u(c(y t h))  u(h) = c(y t h)  h.

       But then F  V A , a contradiction.

                            ¯ ]  [0, 
 5. The function p : [V A , F        ¯ ] defined by

                                                            F -VA
                                               p(F ) :=
                                                           V(F ) - V A

       is strictly increasing, continuous, and onto (since V(V A ) > V A ). It is straightforward
       to verify that for   (0,   ¯ ], the fixed point is given by V  (p-1 ( )) + (1 -  )V A . It is
11
     If  >  F B , the conclusion is immediate for F  F F B , since V(F ) = V F B for such F .


                                                      34
        also immediate that this is increasing in  and

                                             ¯ = T (F
                                             F      ¯; ¯ ).


  6. Finally, for  >                                               ¯ , implying that the con-
                       ¯ , the required F is strictly greater than F
     straint set is empty, and so there is no fixed point.




                            ¯ > F F B.
Lemma A.2 If  >  F B , then F

   Proof. Recall the allocation c defined in (5):
                                              
                                              h - , y = h,
                                                     t
                                   c (y t ) =
                                               + , y = .
                                                     t


We now argue that there exists  > 0 such that for all F  (F F B , F F B +  ], for

                                 =  F B - 2 (F - F F B )/u (¯
                                                            y ),                       (A.1)

                           ¯ > F F B.
we have c  C  (F ), and so F
   Because marginal changes in  from  F B result in only second losses to ex ante payoffs
(W 0 (c )), we have

                                     W (h, cF B )
                                                  = - (1 -  )u (¯ y ),
                                        
                                     W ( , cF B )
                            and                   =(1 -  )u (¯
                                                             y ).
                                        

   Since
                              W (h, cF B ) = (1 -  )u(h) + F F B ,

we have
                        W ( , cF B ) = W (h, cF B ) > (1 -  )u( ) + F F B .            (A.2)

Since
                                  W (h, cF B )
                                               = -(1 -  )u (¯
                                                            y ),
                                     




                                                35
we have

           W (h, c ) =W (h, cF B ) - u (¯
                                        y )( -  F B ) + o(( -  F B )2 )
                       =W (h, cF B ) + ( F B -  )[u (¯
                                                     y ) + o(( -  F B )2 )/( -  F B )].

For  F B -  <  , where  > 0 is a sufficiently small constant, the magnitude of the last
term is less than u (¯
                     y )/2, and so

                          W (h, c ) > W (h, cF B ) + ( F B -  )u (¯
                                                                  y )/2.

   For F = F F B + ( F B -  )u (¯
                                y )/(2 ) (this is just a rewriting of (A.1)), we then have

                                 W (h, c ) > (1 -  )u(h) + F.

   Moreover, there is  > 0, such that for  F B -  <  , the strict inequality on the
-incentive constraint (A.2) is preserved:

                                  W ( , c ) > (1 -  )u( ) + F.

Setting
                                    := min{ ,  }u (¯
                                                   y )/(2 )

completes the proof.


Lemma A.3
                                          lim          ¯ ( ) = 0.
                                         u (h)/u ( )

   Proof. Consider the allocation
                                           
                                            h - , yt = h,
                                           
                                            + 2, y = h, y = ,
                                           
                                                   t-1       t
                              c+
                                 ( y t
                                       ) =
                                             ,    yt-1 = yt = ,
                                           
                                            + , y = .
                                           
                                                   1




                                                 36
   Then,

                                                   
                      W (h, c+                               +            +
                              ) = (1 -  )u(h - ) + 2 (W (h, c ) + W (h , c )),
                                                    
                      W (h , c+                               +           +
                               ) = (1 -  )u( + 2) + 2 (W (h, c ) + W ( , c )),
                                                
                      W ( , c+                            +           +
                              ) = (1 -  )u( ) + 2 (W (h, c ) + W ( , c )),
                                                   
                and    W ( , c+                              +           +
                               ) = (1 -  )u( + ) + 2 (W (h, c ) + W ( , c )).


Hence,
                                     1
                       W ( , c+
                              ) =      {2(1 -  )u( ) + W (h, c+
                                                               )}
                                    2-
and so

                                               1
    W (h , c+
             ) = (1 -  )u( + 2) +        W (h, c+
                                                )+ {2(1 -  )u( ) + W (h, c+
                                                                           )}
                                     2       2-
                                                 
                = (1 -  ) u( + 2) +    u( ) +         W (h, c+
                                                              ).
                                    2-        (2 -  )

Thus,

                                                                               
W (h, c+
        ) = (1 -  )u(h - ) +       W (h, c+
                                           ) + (1 -  ) u( + 2) +  u( ) +            W (h, c+
                                                                                           )
                               2                             2-             (2 -  )
                                            2               
           = (1 -  ) u(h - ) + u( + 2) +          u( ) +         W (h, c+
                                                                         ),
                              2          2(2 -  )        (2 -  )

which implies

                                                                       2
         2(1 -  )W (h, c+
                         ) = (1 -  )(2 -  ) u(h - ) +     u( + 2) +          u( ) ,
                                                        2           2(2 -  )

that is,
                             (2 -  )             (2 -  )          2
                 W (h, c+
                        ) =          u(h - ) +           u( + 2) + u( ).              (A.3)
                                2                   4             4
                    +
   Note that W (h, c ) is a strictly concave function of .
   In order for c+
                  to be internally incentive feasible, we need


                                         
             W (h, c+
                     )  (1 -  )u(h) +      W (h, c+           +            A
                                                   ) + W ( , c ) + (1 -  )V .
                                         2




                                             37
For  = 0, the above inequality holds with equality. Differentiating both sides with respect
to  and evaluating at  = 0, yields the necessary condition

                                                
                        W (h, c+
                               )      W (h, c+
                                             )+  W ( , c+
                                                        ) ,
                                   2            

that is,
                                                       
                            (2 -  )    W (h, c+
                                               )         W ( , c+ ).
                                                      
It is easy to verify that W ( , c+
                                  )/ > (1 -  )u ( ), and so, differentiating (A.3), a necessary
condition is
                        (2 -  )(2 -  )(u ( ) - u (h))   (1 -  )u ( ).

   We now consider the implications of taking limits as  falls from above to u (h)/u ( ), so
that we always have u ( ) > u (h). For each  > u (h)/u ( ), set  > 0 so that

                                    u (h - ) = u ( + 2)                                   (A.4)

(this is the value of  that maximizes W (h, c+  )). Denote by c  ^( ) the allocation c+ with 
satisfying (A.4). Note that if for any  > u (h)/u ( ), the allocation c+
                                                                        is internally-incentive
feasible, then so is c
                     ^( ).
    Denote by   ^ ( ) the maximum value of  for which the allocation c       ^( ) is internally-
incentive feasible. We then have

                  (2 - ^ ( ) )(2 -  )(u ( ) - u (h))  ^ ( ) (1 -  )u ( ).

Hence, as u ( ) - u (h)   0, ^ ( )  0.
   Set (where  is included as an argument to make clear the dependence on  )

                       F ( ) := ^ ( )W 0 (^
                                          c( )) + (1 -            ¯ ( ).
                                                       ^ ( ))V A  F

Since c
      ^( ) is internally-incentive feasible,

                                      ^( )  C (F ( )) = ,
                                      c

and so
                                     V(F ( ))  W 0 (^
                                                    c( )),




                                               38
and finally
                                                  F ( ) - V A
                           ^ ( )   (F ( )) :=
                                                                ¯ ( ).
                                                 V(F ( )) - V A
Since ^ ( )  0, ¯ ( )  0, as           u (h)/u ( ).



B      Proof of Proposition 5
We assume throughout this section that F > F F B and u ( ) > u (h).

Lemma B.1 There exists t+1 < 1 such that if incentive feasibility does not bind at y t+1 ,
then
                                u (c(y t ))
                                             = t+1
                               u (c(y t+1 ))
and so
                                          c(y t ) > c(y t+1 ).

                                                                         ~t+1 , then for all y
    Proof. We first argue that if incentive feasibility does not bind at y                   ^t+1

                                      u (c(~
                                           y t ))    u (c(^
                                                          y t ))
                                                                  .                             (B.1)
                                     u (c(~
                                          y t+1 ))  u (c(^
                                                         y t+1 ))

Suppose not, so that (B.1) holds with a strict inequality in the reverse direction.
   Define a new allocation c by setting
                                        
                                         c(~
                                           y t ) + ,         y = y
                                                                 ~t
                                        
                                         c(^
                                        
                                           y t ) - ,         y = y
                                                                 ^t
                                        
                               c (y  ) = c(~
                                           y t+1 ) - ,       y = y
                                                                 ~t+1
                                        
                                         c(^
                                        
                                           y t+1 ) + ,       y = y
                                                                 ^t+1
                                        
                                        c(y  ),
                                        
                                                             otherwise.
                                        


         y t ) = Pr(~
Since Pr(^          y t ) and Pr(^            y t+1 ), the allocation c is resource feasible.
                                 y t+1 ) = Pr(~
   Choose  =  () so that

                                                                      
                 u(c(~
                     y t ) + ) +     u(c(~
                                         y t+1 ) -  ()) = u(c(~
                                                              y t )) + u(c(~
                                                                           y t+1 ))
                                   2                                  2

                                                                   ~t . For small  , it is also
ensures that incentive feasibility is satisfied along the sequence y
             ~t+1 .
satisfied at y


                                                  39
     Differentiating with respect to  and evaluating at  = 0, we get

                                                     2u (c(~
                                                           y t ))
                                          (0) =                    .
                                                     u (c(~
                                                          y t+1 ))

     At  = 0, the derivative of

                                                     
                                   u(c(^
                                       y t ) - ) +     u(c(^
                                                           y t+1 ) +  ())
                                                     2

is

                                                                                 2u (c(~
                                                                                       y t ))
         -u (c(^
               y t )) +     u (c(^
                                 y t+1 )) (0) = -u (c(^ y t )) + u (c(^y t+1 ))
                          2                                     2               u (c(~y t+1 ))
                                                                   u (c(^
                                                                        y t ))     u (c(~ y t ))
                                              = u (c(^
                                                     y t+1 )) -                 +
                                                                  u (c(^
                                                                       y t+1 )) u (c(~  y t+1 ))
                                              > 0.

    This implies that the values of the agents with histories y ^t and y ^t+1 have increased, and
so the ex ante value of c must exceed c, contradicting the optimality of c.
    Hence, (B.1) must hold as written. If incentive feasibility also does not bind at y ^t+1 , then
the weak inequality holds as an equality.
    We now argue that if incentive feasibility does not hold at y  ~t+1 , then

                                              u (c(~
                                                   y t ))
                                                           < 1.
                                             u (c(~
                                                  y t+1 ))

If not, then for all histories,
                                              u (c(y t ))
                                                            1.
                                             u (c(y t+1 ))
But this implies for all y t+1 ,
                                             c(y t )  c(y t+1 ).

This is only consistent with resource feasibility if c(y t ) = c(y t+1 ), which implies c is the first
best allocation. But F > F F B precludes the first best allocation as an equilibrium.



Lemma B.2 At the optimal allocation c, if the incentive constraint binds at y
                                                                            ~t and y
                                                                                   ^t with
y
~t = y
     ^t , then
                                   c(~
                                     y t ) = c(^
                                               y t ).



                                                      40
                                                                             ~t and y
    Proof. Suppose not. then the incentive constraint binds at two histories y      ^t with
y
~t = y
     ^t , and
                                      c(~
                                        y t ) = c(^
                                                  y t ).

Define a new consumption allocation c as follows:
                             
                              1 c(^        1
                                  ytty ) + 2 c(~
                                               y t t y  ),   t,t y  = y
                                                                      ~t , y
                                                                           ^t ,
                              2
                    c (y ) =
                             c(y  ),                       otherwise,

                                                                                                 
where t y  is the last  - t periods of the income history y t ( so that y  = t y t y  )). Since
              y t ), c satisfies (1).
   y t ) = Pr(^
Pr(~
   Moreover, the incentive constraints are satisfied at all histories:

  1. For  < t, since the incentive constraints bind at two histories y ~t and y
                                                                              ^t with y
                                                                                      ~t = y^t ,
        y , c) = W (^
     W (~t
                     y , c), and so W (y , c )  W (y , c) for all y (with equality holding for
                      t                 t           t              t

      t      t t
     y  {y ~ ,y^ }). Hence,

                                                                t- -1
               W (y , c ) = (1 -  )u(c(y )) + (1 -  )
                                             
                                                                        r        Pr(y r )u(c(y  y r ))
                                                                 r=1        yr

                                     +  t-           Pr(y t )W (y t , c )
                                                yt

                            W (y  , c).


  2. For   t, the concavity of u implies

                                            y t t y  , c), W (~
                       W (y t , c )  min{W (^                 y t t y  , c)}  W F (y ).


Finally, concavity implies W 0 (c ) > W 0 (c), which is impossible, since c is by assumption
optimal.


Lemma B.3 In the optimal allocation, incentive feasibility binds at all y t for which yt = h,
and so for all y t-1 ,
                       W (y t-1 h, c) = W F (h) := (1 -  )u(h) + F.

   Proof. Since F > F F B ,

                                          y ) + V F B < W F (h),
                                 (1 -  )u(¯



                                                     41
and so
                                         y ) +  V(F ) < W F (h).
                                (1 -  )u(¯

                               ^t-1 h requires c(^
Thus, incentive feasibility at y                 y t-1 h) > y
                                                            ¯. Suppose

                                        y t-1 h, c) > W F (h).
                                     W (^

Define                                
                                       c(^
                                         y t-1 h) - , y  = y
                                                           ^t-1 h,
                                      
                             c (y  ) = c(^
                                         y t-1 ) + , y  = y^t-1 ,
                                      
                                      c(y t ),
                                      
                                                      otherwise.
                                      

Since h and are equally likely, c satisfies resource feasibility. For sufficiently small  > 0,
c satisfies inetrnal-incentive feasibility, and so we have a contradiction (since c has higher
ex ante utility than c). Thus, the incentive constraint binds at all y^t for which y
                                                                                   ^t = h.


                  ~t-1 , y
Lemma B.4 For all y      ^t-1 ,

         c(~
           y t-1 )  c(^
                      y t-1 ) = c(~
                                  y t-1 y )  c(^                y t-1 , c)  W (^
                                               y t-1 y ) and W (~              y t-1 , c).

   Proof. Lemmas B.2 and B.3, imply

                              c(~
                                y t-1 h) = c(^
                                             y t-1 h)   ~t-1 , y
                                                        y      ^t-1 .

                                                                      ~t-1 and y
Suppose now, en route to a contradiction that there are two histories y        ^t-1 such that

                          c(~
                            y t-1 )  c(^
                                       y t-1 ) and c(~
                                                     y t-1 ) < c(^
                                                                 y t-1 ).

The idea is to construct a dominating consumption allocation by moving consumption from
the relatively high-consumption histories to the low-consumption histories. For any small
 > 0, define  () as the value  solving

               u(c(~
                   y t-1 ) -  ) + 2
                                        y t-1 ) + ) = u(c(~
                                    u(c(~                 y t-1 )) + 2
                                                                       u(c(~
                                                                           y t-1 )),




                                                 42
and define a new consumption allocation as
                                        
                                         c(y  ) -  (),          ~t-1 ,
                                                            y = y
                                        
                                         c(y  ) +  (),
                                        
                                                                ^t-1 ,
                                                            y = y
                                        
                               c (y  ) = c(y  ) + ,             ~t-1 ,
                                                            y = y
                                        
                                         c(y  ) - ,
                                        
                                                                ^t-1 ,
                                                            y = y
                                        
                                        c(y  ),
                                        
                                                            otherwise.
                                        


From the concavity of u, u (c(~
                              y t-1 ))  u (c(^
                                             y t-1 )) and

                                := u (c(~
                                        y t-1 )) - u (c(^
                                                        y t-1 )) > 0.

Moreover, the function  is C 1 with  (0) > 0. Then we have (where each function oj , for
j = 1, . . . , 4 satisfies oj ()/  0 as   0),


     2
     
       {u(c(^
            y t-1   )) - u(c(^
                             y t-1 ) - )} = 2
                                              {u (c(^
                                                    y t-1 )) + o1 ()}
                                           =2
                                              {u (c(~
                                                    y t-1 )) -  + o1 ()}
                                           =2
                                              {u(c(~
                                                   y t-1 ) + ) - u(c(~
                                                                     y t-1 )) - } + o2 ()
                                           = u(c(~
                                                 y t-1 )) - u(c(~
                                                                y t-1 ) -  ()) - 2
                                                                                    + o2 ()
                                           = u (c(~
                                                  y t-1 )) () - 2
                                                                   + o3 ()
                                            u (c(^
                                                 y t-1 )) () - 2
                                                                  + o3 ()
                                           = u(c(^
                                                 y t-1 ) +  ()) - u(c(^
                                                                      y t-1 )) - 2
                                                                                    + o4 ().

Rearranging,

                                                                     
     u(c(^
         y t-1 )) +     u(c(^
                            y t-1 )) + 2
                                           u ( c  y
                                                 (^ t-1
                                                        ) +  (  )) +   u(c(^
                                                                           y t-1 ) - ) + o4 (),
                      2                                              2

and so, if  > 0 is sufficiently small that

                                            |o4 ()| < 2
                                                        ,

we have
                                                              
             u(c(^        u(c(^
                 y t-1 )) +    y t-1 )) < u(c(^
                                              y t-1 ) +  ()) + u(c(^
                                                                   y t-1 ) - ).
                        2                                     2
Since c(y )  c (y ) for all y , with a strict inequality on one positive-measure history, c
                             

cannot have been optimal.


                                                  43
   The inequality on continuation values then immediately follows from the following cal-
culation: For any y t , denote by y t k the history formed by adding k periods of after y t (so
that y t 0 = y t ). Then,

                     W (y t , c) = (1 -  )u(c(y t )) + 2
                                                         {W F (h) + W (y t , c)}
                                           
                               = (1 -  )         (2
                                                    )k u(c(y t k )) +    
                                                                        2-
                                                                           W F (h).        (B.2)
                                           k=0




Lemma B.5 If incentive feasibility at y t is binding, then for all y
                                                                   ^t ,

                                         c(y t )  c(^
                                                    y t ).

   Proof. Suppose
                                         c(y t ) > c(^
                                                     y t ).

Then, from Lemma B.4,

          u(c(y t )) + 2
                         {W F (h) + W (y t , c)} > c(^
                                                     yt ) + 2
                                                                            y t , c)}
                                                              {W F (h) + W (^
                                                       W F ( ),

which is impossible if incentive feasibility binds at y t .


Lemma B.6 Suppose incentive feasibility binds at some y t-1 in an optimal allocation.
Then incentive feasibility binds at y t-1 .

   Proof. Suppose incentive feasibility binds at y t-1 but not at y t-1 2 . Then

                               u(c(y t-1 )) + 2
                                                {W F (h) + W (y t-1 2 , c)} = W F ( ),
             W (y t-1 2 , c) = u(c(y t-1 2 )) + 2
                                                  {W F (h) + W (y t-1 3 , c)} > W F ( ),

and (because the last incentive feasibility constraint is not binding)

                                      c(y t-1 ) > c(y t-1 2 ).

Since
                                   u(c(y t-1 )) > u(c(y t-1 2 )),


                                                    44
we therefore have (because incentive feasibility is binding at y t-1 )

                            W (y t-1 3 , c) > W (y t-1 2 , c) > W F ( ),                (B.3)

and incentive feasibility is also not binding at y t-1 3 . This implies

                                      c(y t-1 ) > c(y t-1 3 ),

and so
                            W (y t-1 4 , c) > W (y t-1 2 , c) > W F ( ).

Repeated applications of this argument shows that incentive feasibility is not binding for any
history y t-1 r , r  2, and so (c(y t-1 r ))r1 is a monotonically declining sequence. Hence,
from (B.2), so is (W (y t-1 r , c))r1 . But this contradicts (B.3).


Lemma B.7 If incentive feasibility binds at y t , then

                                           c(y t ) = c ,

where c >     is the unique consumption satisfying

                               u(c ) = u( ) +  (F - V A ) > u( ).

   Note that c is an increasing function of F , so that for F > F F B (i.e., for  >  F B ) but
arbitrarily close, c is bounded away from y .
   Proof. Since incentive binds at y t (and so at y t y 2 ), we have

                      (1 -  )u(c(y t )) + 2
                                            {W F (h) + W F ( )} = W F ( ).

Rearranging and dividing by (1 -  ) yields

                            u(c(y t )) = (1 - 2
                                                )u( ) - 2
                                                          u(h) + F,

which is the displayed equation (recall that V A = Eu(y )).


Lemma B.8 Incentive feasibility does not bind in the initial period at , nor after any
history of the form y t h .



                                                45
   Proof. If the incentive feasibility binds in the initial period, then

                             V(F ) = 1
                                     2
                                       (1 -  ){u(h) + u( )} + F
                                    = (1 -  )V A + F
                                    = V(F ) < F,

contradicting Proposition 4.
    Suppose now incentive feasibility binds after a history of the form y t h . Since incentive
feasibility always binds after any realization of h, we have

                (1 -  )u(h) + F = (1 -  )u(c(y t h)) +  {(1 -  )V A + F }
                  = (1 -  )u(h) = (1 -  )u(c(y t h)) -  (1 -  )(F - V A )
                    = u(c(y t h)) = u(h) +  (F - V A )
                       = c(y t h) > h,

which is ruled out by resource feasibility and c(y t+1 )  c > .


Lemma B.9 Suppose  >  F B . In the optimal allocation, there exists L such that the
incentive constraint binds at any history of the form y t L .

    Proof. Lemma B.4 implies that optimal consumption in any period is determined by the
number of realizations after the last h realization. From Lemma B.6, once the incentive
constraint binds, it continues to bind after each subsequent realization.
    We need to prove that the number of realizations before the incentive constrain binds
is bounded as we vary the period in which h is realized.
    We prove by contradiction: Suppose there is a subsequence (tn )n of periods with the
property that if h is realized in that period, the number of realizations before the -
incentive constraint binds goes to . Without loss of generality, assume there are at least
n realizations of after h in period tn before the -incentive constraint binds.
    For each tn , (c(y tn -1 h k ))n
                                   k=1 is monotonically declining in k , is bounded above by h, and
below by . Hence, for all  > 0, the number of periods in the interval {tn +1, tn +2, . . . , tn +n}
for which t < 1 -  is less than (h - )/, a bound independent of n, the number of periods
in the interval. That is, asymptotically, the fraction of periods in which t  (1 - , 1)
converges to one. This implies that for all T , there exists t such that   (1 - , 1) for all
 = t, t + 1, . . . , t + T .



                                                46
    By choosing  sufficiently small, for such t, resource feasibility implies c(y t+T h) is arbi-
trarily close to y (since for many k , c(y t+T -k h k ) will be close to c(y t+T -k h), which is no
smaller than y ).
    Since  >  F B and so F > F F B , the incentive constraint for y t h is violated.



C       Proofs for Section 6.2
Proof of Proposition 6 The outside option F only affects V (h; F ) through c (which is a
strictly increasing function of F , and so makes the constraints strictly more demanding).
Hence, V (h; F ) is strictly decreasing function of F . It remains to prove that V  (h; F ) =
W F (h) at F¯.
    If c is the stationary ladder yielding V (h; F ), define an allocation as follows
                                         
                                          c (h),   yt = h,
                                          
                                         
                             cF (y t ) := c (h  ), y t = y t- -1 h  ,                          (C.1)
                                         
                                         c^( t ),  yt = t,
                                         


where
                             Pr( t )^
                                    c( t ) = y -                   Pr(y t )cF (y t ).
                                                        yt =   t


By construction, cF satisfies resource feasibility, and incentive feasibility for any history
ending in a realization of (since c satisfies (14), c ^( t )  c ).
    If V (h; F )  W F (h), then the incentive constraint on y t h is satisfied under cF for all y t .
Hence, cF  C (F ), and so F  F    ¯.
    Suppose V (h; F ) > W F (h). A marginal increase in F preserves the inequality and so
F <F   ¯.
    Finally, we prove that if F  F   ¯ , then V (h; F )  W F (h). We do this by proving that
if C (F ) is nonempty, then it implies a feasible stationary ladder of the form (C.1). We
construct the stationary ladder by time averaging over histories that have the same number
of y realizations after an h realization.
    Suppose c  C (F ) is optimal. From Lemmas B.8 and B.9, there exists L  2 such that
for all   L, the incentive constraint binds at any history of the form y t  . Moreover,

                                    c(y t  ) = c ,               L.                            (C.2)




                                                   47
                                                              -t
   For K  1, define the ladder (cK T                    t
                                  )k=0 (recall that Pr(y ) = 2 ):

                           
                               1
                              K +1
                                          L+K
                                          t=L
                                                           1 t-k-1
                                                 y t-k-1 ( 2 )     c(y t-k-1 h k ),            0k<L
                    cK
                     k =
                            1
                            K +1
                                          L+K
                                          t=L
                                                         1 t-T 
                                                 y t-L ( 2 )    c(y t-L L ),                   k=L
                           
                            1
                              K +1
                                          L+K
                                          t=L
                                                           1 t-k-1
                                                 y t-k-1 ( 2 )     c(y t-k-1 h k ),            0k<L
                      =
                           c ,                                                                 k = L.

   We claim that (cK                                  K
                   k )k satisfies (14) (where we set ck = c for k > L):

                              L-1                      L+K
                                       1
                1 k+1 K
               (2 ) ck =             1 k+1
                                    (2 )                      (12
                                                                  )t-k-1 c(y t-k-1 h k ) + ( 21 L
                                                                                               ) c
         k=0                 k=0
                                     K + 1  t=L y  t - k -  1
                                                                                                         
                                   L+K  L-1
                               1                                                                         
                           =                ( 1 )k+1               (1 )t-k-1 c(y t-k-1 h k ) + ( 2
                                                                                                 1 L
                                                                                                   ) c
                             K + 1 t=L  k=0 2            t - k - 1
                                                                    2                                    
                                                      y
                                                                                                         
                                   L+K  L-1
                               1                                                                         
                           =                (21 k+1
                                                )                  (1
                                                                    2
                                                                      )t-k-1 c(y t-k-1 h k ) + ( 2
                                                                                                 1 L
                                                                                                   ) c
                             K + 1 t=L  k=0                                                              
                                                      y t-k-1
                                                                                    
                                   L+K 
                               1                                                    
                           =                       Pr(y t )c(y t ) + ( 1     2
                                                                               )L
                                                                                  c  .
                             K +1       t t-L L
                                          t=L
                                                                                    
                                                 y =y


But (C.2) implies
                                            1 L
                                           (2 ) c =                      Pr(y t )c(y t )
                                                        y t =y t-L   L


and so
                                                                         L+K
                                                           1
                                          (1
                                           2
                                             )k+1 cK
                                                   k   =                       E c(y t )  y.
                                    k=0
                                                         K +1            t=L

    Since c(y - 1, )  c , it is immediate that
                t
                                                   satisfies (15).   cK
                                                                      k
                                                                          
    We now show that accumulation points c of (cK                              F
                                                   k )k )K satisfy W (h, c )  W (h). We do
this by considering time averages of continuation utilities for large K .
    Since c is incentive feasible, for all y t ,

                                                W F (h)  W (y t h, c).




                                                              48
Consequently,

                                      K +L
                             1
           W F (h)                                (1
                                                   2
                                                     )t-1 W (y t-1 h, c)
                           K +1       t=L y t-1
                                      K +L                              
                         1
                     =                            (1
                                                   2
                                                     )t-1 (1   - )           (2
                                                                                )k u(c(y t-1 h k )) +       
                                                                                                           2-
                                                                                                              W F (h)
                       K +1           t=L y t-1                        k=0
                                                            K +L
                                                       1
                     = (1 -  )               (2
                                                )k                         (1
                                                                            2
                                                                              )t-1 u(c(y t-1 h k )) +       
                                                                                                           2-
                                                                                                              W F (h).
                                       k=0
                                                     K +1      t=L y t-1


   Now
                                                                                                                      
                     K +L                                                         K +L
              1
                                  (1
                                   2
                                     )t-1 u(c(y t-1 h k ))  u  K1
                                                                +1
                                                                                              (1
                                                                                               2
                                                                                                 )t-1 c(y t-1 h k ) ,
            K +1      t=L y t-1                                                   t=L y t-1


and so
                                                                                                 
                                                            K +L
                                                       1
       W F (h)  (1 -  )               (2
                                         )k u                              (1
                                                                            2
                                                                              )t-1 c(y t-1 h k ) +         
                                                                                                          2-
                                                                                                             W F (h).         (C.3)
                                                     K +1
                               k=0                          t=L    y t-1


    If the arguments of the utility function were cK
                                                   k (which they are not), we would be done,
since then the expression on the right hand side is simply W (h, cK ).
    However, we are almost done, since the discrepancy can be made arbitrarily small. For
k < L < K , we have

              K +L
         1
cK
 k -                       (1
                            2
                              )t-1 c(y t-1 h k )
       K +1   t=L y t-1
                  L+K                                                            K +L
             1                                                           1
       =                           1 t-k-1
                                  (2 )     c(y t-k-1 h k ) -                                  (1
                                                                                               2
                                                                                                 )t-1 c(y t-1 h k )
           K +1   t=L y t-k-1
                                                                       K +1       t=L y t-1
                  L+K                                                            K +L+k
           1                                                           1
       =                           1 t-k-1
                                  (2 )     c(y t-k-1 h k )         -                               (1
                                                                                                    2
                                                                                                      )t-k-1 c(y t-k-1 h k )
         K +1     t=L y t-k-1
                                                                     K +1         t=L+k y t-k-1
                  L+k-1                                                             K +L+k
           1                                                               1
       =                               1 t-k-1
                                      (2 )     c(y t-k-1 h k )         -                                  (1
                                                                                                           2
                                                                                                             )t-k-1 c(y t-k-1 h k ).
         K +1        t=L
                                                                         K + 1 t=L+K +1
                            y t-k-1                                                             y t-k-1


The magnitude of this expression is bounded above by kh/(K + 1). An identical argument
shows that we have the bound of Lh/(K + 1) for the divergence of cK
                                                                  L.




                                                                  49
   Using (C.2), we can rewrite (C.3) as
                                                                           
                     L                       K +L
                                        1
  W F (h)  (1 -  )         (2
                              )k u                       (1
                                                          2
                                                            )t-1 c(y t-1 h k )
                     k=0
                                      K +1   t=L y t-1
                                                                         L+1
                                                      2(1 -  )                            
                                                    +                          u(c ) +      W F (h). (C.4)
                                                       (2 -  )       2                   2-

    For all  > 0, there exists K  such that if K > K  , for all k = 0, . . . , L the upper bound
of Lh/(K + 1) on consumption divergences is sufficiently small that the right side of (C.4)
is within  of W (h, cK ), implying

                                       W F (h)  W (h, cK ) + .

Since (cK           L                                            K
        k )k  [0, h] , a closed and bounded set, the sequence ((ck )k )K has a convergent
subsequence with limit (ck )k . Moreover,


                                          W F (h)  W (h, c ).




   The proof of Proposition 7 is broken into several lemmas.

Lemma C.1 Suppose F = F       ¯ . The equilibrium allocation c converges to the unique solution
to problem (13), c
                 ¯ , that is,

                               lim ct (h k ) = c
                                               ¯ (h k )       for any k < L
                              t


and
                                       ct ( L ) = c             ¯ ).
                                                  ¯  ( L ) = c (F

   Proof. Resource feasibility in period t is

                                 L-1
                                       2-k+1 ct (h k ) + 2-L c (F )  y.                              (C.5)
                                 k=0


   We denote the period-t consumption ladder by (since by Proposition 5, we can ignore
the history before the last realization of h)

                                           (ct+k (h k )L -1
                                                       k=0 , c ).



                                                     50
                k            1          2                    s+1s+2s+3s+4s+5s+6                        s
                0

                1

                2



           L-1

               L


                             1          2                    t+1 t+2 t+3 t+4 t+5 t+6                   t


Figure C.1: Illustrating the reindexing for the proof (the reindexing omits k = L, since
ct ( L ) = c (F ) is determined by Lemma B.7). The ladder-s resource constraints sum over
the diagonal dashed lines, while the period-t resource constraints sum vertically. Since there
is at most one realization of in any history in period 1, k can only equal 0 or 1; similarly,
in period 2, k  2.


   Summing inequality (C.5) over periods 1, . . . , T , and rearranging to sum over ladders
rather than periods (see Figure C.1), for T  L, gives

                         T    L-1
                0                   2-k+1 ct (h k ) + T 2-L c (F ) - T y
                        t=1 k=0
                          0     L-1                                 T -L+1   L-1
                    =                         2-k+1 cs+k (h k ) +                  2-k+1 cs+k (h k )
                        s=2-L k=1-s                                  s=1     k=0
                                    T          T -s
                          +                           2-k+1 cs+k (h k ) + T 2-L c (F ) - T y
                              s=T -L+2         k=0
                        T -L+1      L-1
                                            2-k+1 cs+k (h k ) + T 2-L c (F ) - T y.
                         s=1        k=0


   Since the consumption ladder that yields V (h, F   ¯ ) is unique, and since the h-incentive
constraint is satisfied in every period, we must have, for all t,

                                     L-1
                                              2-k+1 ct+k (h k ) + 2-L c (F )  y,                           (C.6)
                                        k=0


                                                              51
with equality holding if and only if the consumption ladder equals c
                                                                   ¯ , the unique solution
to problem (13).
    We now argue that

                                 L-1
                          lim           2-k+1 cs+k (h k ) + 2-L c (F ) = y.
                         s
                                  k=0


The proof is by contradiction. If not, inequality (C.6) implies there exists an  > 0 such that

                           L-1
                                 2-k+1 cs+k (h k ) + 2-L c (F ) - y >                   (C.7)
                           k=0


for infinitely many values of s. Let S denote the infinite set of values of s for which (C.7)
holds, and define the function h(T ) := |S  {s  T - L + 1}|. Observe that h(T )  + as
T  . Then,

                       T -L+1    L-1
                  0                    2-k+1 cs+k (h k ) + T 2-L c (F ) - T y
                        s=1      k=0

                     (T - L)(y - 2-L c (F )) + h(T ) + T 2-L c (F ) - T y
                    = h(T ) + L(2-L c (F ) - y ),

which is impossible for large T .
   Since the resource constraint is satisfied by the period-s ladder asymptotically, the se-
quence of ladders must converge to the unique solution to problem (13) (if not, there is a
subsequence converging to a different ladder limit also satisfying the resource and incentive
constraints, which is impossible).


Lemma C.2 If utility is CRRA, the equilibrium consumption allocation for F = F      ¯ does not
start immediately on the stationary ladder, that is, it is not given by (C.1) for c = c
                                                                                      ¯ .

   Proof. When utility is CRRA with coefficient  , solving (13) for the optimal stationary
ladder gives, for g =  1/ < 1,
                                c
                                ¯ (h k+1 ) = g c
                                               ¯ (h k )                              (C.8)

when the incentive constraint is not binding on h k+1 . To ease notation, define (where c
                                                                                        ^ is
defined in (C.1))
                      ¯h := c
                      c     ¯ (h), ct := c ^( t ), and c         ¯ ).
                                                         ¯ := c (F



                                                   52
Let L be the length of the ladder, so that

                                          g L-1 c    ¯  gLc
                                                ¯h > c    ¯h .

The ladder resource constraint is
                                   L-1
                                         2-(k+1) g k c
                                                     ¯h + 2-L c
                                                              ¯ =y
                                                                 ¯.
                                   k=0


   From (C.1),
                                                     t-1
                                    -t
                                          ¯-
                                   2 ct = y                2-(k+1) g k c
                                                                       ¯h ,
                                                    k=0

and so
                                            L-1
                              2-t ct =            2-(k+1) g k c
                                                              ¯h + 2-L c
                                                                       ¯.
                                            k=t

Then,

                                  L-1
                   2-t-1 ct+1 =           2-(k+1) g k c
                                                      ¯h + 2-L c
                                                               ¯
                                  k=t+1
                                    L-2
                               g
                             =            2-(k+1) g k c
                                                      ¯h + 2-L c
                                                               ¯
                               2    k=t
                                      L-1
                               g
                             =       2-(k+1) g k c              ¯h + 2-L c
                                                 ¯h - 2-L g L-1 c        ¯
                               2 k=t
                               g -t
                             =   2 ct - 2-L c¯ - 2-L g L-1 c ¯h + 2-L c
                                                                      ¯.
                               2

Hence,

                      ct+1 = gct + 2t -g 2-L c
                                             ¯ - 2-L g L c
                                                         ¯h + 2-L+1 c
                                                                    ¯ .

Finally, since

            -g 2-L c
                   ¯ - 2-L g L c
                               ¯h + 2-L+1 c
                                          ¯ = 2-L c
                                                  ¯ (1 - g ) + 2-L (¯
                                                                    c - gLc
                                                                          ¯h ) > 0,

we have
                                               ct+1 > gct ,




                                                     53
and so
                                       u (ct ) > u (ct+1 ).                                (C.9)

   Consider now the following local change:

                           c        ¯h - , c
                           ^1 (h) = c      ^1 ( ) = c1 + ,
                          c
                          ^2 (h ) = g c             ^2 ( 2 ) = c2 -  (),
                                      ¯h +  (), and c

where  satisfies
                           ch ) + 
                         u(¯      2
                                                 ch - ) + 
                                        ¯h ) = u(¯
                                    u(g c                 2
                                                                ¯h +  ()).
                                                            u(g c

   From the implicit function theorem and (C.8),

                                              2 u (¯
                                                   ch )
                                      (0) =              = 2.
                                               u (g c
                                                    ¯h )

The impact on payoff to the low income agents is

                                   u(c1 + ) + 2
                                                u(c2 -  ()),

which has slope at  = 0 of

                            u (c1 ) - 2
                                        u (c2 ) (0) = u (c1 ) - u (c2 ),

which is strictly positive from (C.9). This implies the local change is ex ante welfare im-
proving over the stationary ladder.



Lemma C.3 If utility is CRRA, the equilibrium consumption allocation for F = F         ¯ does not
reach the stationary ladder c
                            ¯ in finite time, that is, for all T , there exists t > T and k < L,
for which
                                      ct (h k ) = c
                                                  ¯ (h k ).

   Proof. Suppose not, that is, suppose there exists some T such that for all t > T and
k < L,
                                   ct (h k ) = c
                                               ¯ (h k ).

   We first claim that
                                         cT (h) = c
                                                  ¯ (h).



                                                54
This is true because the h-incentive-feasibility constraint just binds on the agents who re-
ceived an h income realization in period T , and their consumptions in all future periods are
determined by the stationary ladder c  ¯ .
    Since the -incentive-feasibility constraint is not binding in period T +1, the consumption
decay gT +1 is given by

                                      cT +1 (h ) c¯ (h )
                            gT +1 =             =        =  1/ =: g,
                                       cT (h)     c
                                                  ¯ (h)

where the first equality is (9), the second is from the claim just proved, and the third comes
from the CRRA assumption.
    The same consumption decay applies in period T at all histories at the -incentive-
feasibility constraint is not binding, and so we have

                         cT (h k ) = g -1 cT +1 (h   k+1
                                                           ) for all k < L - 1,

and so
                             cT (h k ) = c
                                         ¯ (h k ) for all k < L - 1,

    The h-incentive-feasibility constraint just binds on the agents who received an h-income
realization in period T - 1, and since their consumptions in all future periods are determined
by the stationary ladder c ¯ , current consumption must equal c   ¯ (h). But this implies that
the stationary consumption decay also applies in period T - 1. Proceeding in this way, we
conclude that the consumption for the initial h-realization agents must be c   ¯ (h). But this
is impossible by Lemma C.2, and so we have a contradiction.



D        Appendix for Section 7
In this section we provide the details of how we compute equilibria in Section 7 of the main
text. Section D.1 describes how to compute a stationary ladder that delivers an outside
option F  (V A , F¯ ). Section D.2 describes how to determine the value of F  ¯ together with
the stationary ladder attaining it. Finally, Section D.3 describes the calculation of an entire
dynamic equilibrium consumption allocation converging to a stationary ladder.


D.1      Stationary Ladder
For a fixed F, a stationary ladder c = (c (h), gc (h), g 2 c (h), . . . , c ) that satisfies resource
feasibility and h-incentive feasibility with equality (as well as -incentive feasibility) is fully

                                                     55
characterized by the upper and lower bound of consumption (c (h), c ), the decay rate g and
                                                                             ¯ ), are calculated
the length of the ladder L. These values, all functions of a given F  (V A , F
as follows:

  1. Determine the consumption floor c = c (F ) from Proposition 5.4, i.e.,

                                     u(c (F )) = u( ) +  F - V A

      and recall (10), which defines the value of the outside option for the high income agents
      as
                                    W F (h) := (1 -  )u(h) + F.

  2. The ladder is then determined by three equations in three unknowns c (h), g, L from

                                   L = max k : g k-1 c (h) > c (F ) ,                                  (D.1)

                                   L-1        t                     L
                               1         1               t      1
                                                  c (h)g +              c (F ) = y
                                                                                 ¯,                    (D.2)
                               2   t=0
                                         2                      2

      and (using W (h, c ) = W F (h) in (12))

                                             L-1         k                            L
                                                                                
                  W F (h) =    1-                            u(c (h)g k ) +               u(c (F )).   (D.3)
                                     2       k=0
                                                    2                           2

      This system of equations can be reduced to one non-linear equation in one unknown
      g  [ /h, 1]. Use equation (D.1) to solve for L(g, c (h)) and then equation (D.2) to
      solve for c (h) and insert into (D.3) to obtain one equation in the unknown decay rate
      g . The result is a stationary ladder summarized by (c (h)(F ), g (F ), L(F )) as a function
      of the outside option F .

    In general the stationary ladder associated with an outside option F need not be unique,
although it is for F = F¯ , as we have seen in Section 6.2. To better understand the potential
multiplicity of stationary ladders, instead of calculating the consumption decay rate g (and
the associated (c (h), L)) as a function of F, we can in step 2 above reverse the order and
calculate, for a given stationary consumption decay rate g  ( /h, 1) , the outside option
F (g ) associated with this g.
    Numerically, we find that the mapping F (·) is hump-shaped with a maximum at g         ¯=
  1/
      < 1 that delivers the maximum value F    ¯ . The reason for the hump-shape of F (·) is as
follows. Start at g = 1, and thus a constant consumption allocation with full insurance, and

                                                    56
now lower g infinitesimally. Individuals with current income y = h strictly prefer a more
front loaded consumption allocation even though it entails more consumption risk in the
future. As g initially falls from g = 1, both W (h, c ) and c (h) increase, which in turn leads
the fixed point F (g ) to increase as g falls. At g =  1/ the optimal front loading is attained
from the perspective of the current h types; by reducing g further the associated increased
future consumption risk more than offsets the higher current consumption c (h) chosen to
satisfy the resource constraint. Thus W (h, c ) and F (g ) decline as g falls beyond g =  1/ .
    We cannot prove that F (g ) is hump-shaped in g but always found this to be the case in
our examples. This implies, in particular, that for F < F    ¯ there are two associated stationary
ladders that deliver the same outside option F, one with little risk sharing (g < g    ¯) and one
with more risk sharing (g > g   ¯). Since the algorithm for computing a dynamic equilibrium is
based on the convergence of the allocation to a stationary ladder, it is important to know
which ladder to pick, for a given F < F    ¯ . The following lemma is informative for this choice.

Lemma D.1 No equilibrium allocation converges to a stationary ladder with decay g <  1/ .

    Proof. Suppose an equilibrium allocation for some F converges to a stationary ladder. It
is immediate that the stationary ladder cannot be Pareto dominated by another stationary
ladder. We now argue that any stationary ladder c with g <  1/ is Pareto dominated by
another ladder stationary (with the same number of steps), which proves the lemma.
    Since c (h )/c (h) = g ,

                                c (h )-   u (c (h ))  1
                                     - 
                                        =            > .                                    (D.4)
                                c (h)     u (c (h))   

Define a new stationary ladder as
                        
                         c (h) - ,                         k = 0,
                        
                        c (h ) +  ( ),
                        
                                                           k = 1,
                   k      
               c (h ) =
                         c (h k ),                         k = 2, . . . , L - 1,
                        
                        c (F ) + 2L · 1 -
                                                1
                                                   (   ) , k = L,
                                       2        22


where  ( ) satisfies

                                                              
               u(c (h) - ) +     u(c (h ) +  ( )) = u(c (h)) + u(c (h ))).                  (D.5)
                               2                              2

The new stationary ladder c satisfies the resource constraint because the change in the
                           1
aggregate consumption is - 2 + 212  ( ) + 21    L
                                           L · 2 ·
                                                   1
                                                   2
                                                     - 212  ( ) = 0.


                                               57
   Applying the envelope theorem to (D.5) and using (D.4), we have

                                               2u (c (h))
                                    (0) =                 < 2.
                                               u (c (h ))

                                  1
Since  (0) = 0, for small > 0, 2     - 212  ( ) > 0, and so c (h L ) > c (F ) and so c satisfies
 -incentive feasibility. With (D.5), this also implies c satisfies h-incentive feasibility.
    Finally, c clearly Pareto dominates c



D.2                                         ¯
        Determination of the Outside Option F
To determine F ¯ we proceed as follows: At F = F    ¯ , Proposition 6 implies that there is a
unique stationary ladder satisfying h-incentive feasibility and this ladder solves (13), so we
know that the consumption decay rate is given by

                                              ¯ ) =  1/ .
                                           g (F

In effect, F¯ is the peak of the F (·) map discussed above, and is reached at g = g¯. Since the
value of F ¯ itself is unknown, we have to determine the lower consumption floor c = c (F    ¯)
jointly with F ¯ , c (h), and L. The relevant equations, with g = g (F
                                                                     ¯ ) =  1/ are

                                         ¯-VA ,
                         u(c ) = u( ) +  F                                                      (D.6)
                                   L-1         t                     L
                               1           1            t        1
                            y
                            ¯=                     c (h)g +              c,                     (D.7)
                               2     t=0
                                           2                     2
                            L = max{k : g k-1 c (h) > c },           and                        (D.8)
                                                L-1         k                      L
                          ¯=                                              k    
           (1 -  )u(h) +  F        1-                           u(c (h)g ) +           u(c ).   (D.9)
                                      2         k=0
                                                        2                      2

    The algorithm to determine F¯ is then a slightly modified version of the procedure from
                              ¯ replacing g as the unknown to be computed (and identical
the previous subsection, with F
to the computations we do when solving for F (g ) for a gven g = g¯.)

           ¯  (V A , V F B ).
  1. Guess F

                 ¯:
  2. For a given F

       (a) Solve for c from (D.6).
      (b) Jointly solve for (c (h), L) from (D.7) and (D.8).

                                                   58
        (c) Calculate the right side of (D.9).

            ¯ such that (D.9) holds.
   3. Solve F


D.3      Computation of the Transition
As discussed in the main text, the computational procedure solves for the equilibrium al-
location, imposing the stationary ladder from an exogenously specified period T . We now
describe the computation of the allocations for fixed T and fixed outside option F  F     ¯ . We
take as given the stationary ladder associated with F , summarized by (c (h)(F ), g (F ), L(F )),
including the lifetime utilities Vi, (F ), as described in the previous two subsections.12 As
described in the main text, the algorithm calculates consumption in three phases.
    In the first t  T periods the algorithm picks time-varying consumption of individuals
with currently high income (and so have binding incentive constraints), (ct (h))T t=1 and uses
the resource constraints and the fact that individuals without binding constraints have com-
mon consumption decay rates (or consume the lower bound consume c (F )) to pin down the
remainder of the consumption allocation. In a second phase, from t = T + 1, ..., T + L(F )
the allocation blends into the stationary ladder: all individuals with high income consume
according to the stationary ladder, and all households with low income drift down from con-
sumption in the previous period at a common (but time-varying) decay rate gt .13 Finally,
for all t > T + L(F ), the allocation coincides with the stationary ladder. More precisely, the
algorithm works as follows:

   1. Guess (ct (h))T     y , h)T .
                    t=1  (¯


   2. Calculate the consumption allocation implied by this guess, imposing the characteriza-
      tion of an equilibrium allocation: the h-incentive-feasibility constraint binds in every
      period, and all agents with low income either have non-binding constraints and their
      consumption decays at a common rate or they consume c . The implied consumption
      allocations (ci,t )t
                         i=0 for all t = 1, . . . , T, T + 1, . . . , T + L(F ), are calculated as follows,
      where i again indicates the position on the consumption ladder:
  12
     The only part that distinguishes the calculations for F < F ¯ and F = F
                                                                           ¯ is the calculation of the stationary
ladder(s), and in case of F < F¯ , the selection of the right ladder.
  13
     Similar arguments to those proving Proposition 5.1 show that this property must also hold for constrained
optimal allocations.




                                                       59
    (a) Set

                                    c0,t = ct (h) for t = 1, . . . , T,
                              and c0,t = c (h)(F ) for t = T + 1, . . . , T + L(F ).

    (b) For t = 1, determine c1,1 from

                                                     1
                                                       [c0,1 + c1,1 ] = y
                                                                        ¯.
                                                     2

    (c) For t = 2, . . . , T , determine the consumption decay rates (gt )T
                                                                          t=2 recursively (be-
        ginning with t = 2) as follows:
        The consumption decay gt solves

                                              t-1         i                t
                                          1          1                 1
                                                              ci,t +           ct,t = y
                                                                                      ¯,
                                          2   i=0
                                                     2                 2

        where for all i = 1, . . . , t,

                                              ci,t = max{gt ci-1,t-1 , c (F )}.

        For each t, gt is determined by one equation. The equations are solved forward
        in time since the allocations {ci,t } require knowledge of allocations {ci-1,t-1 }.
    (d) For t = T + 1, . . . , T + L(F ), part of the consumption allocations are on the
        stationary ladder. For each t = T + 1, . . . , T + L(F ), the consumption decay gt
        solves
                                     t-1     i            t
                                   1      1            1
                                               ci,t +       ct,t = y
                                                                   ¯,
                                   2 i=0 2             2

        where                   
                                g i c (F ),                            for i = 1, . . . , t - T - 1,
                                     h
                       ci,t   =
                                max{g c                       (F )}, for i = t - T, . . . , t.
                                              t i-1,t-1 , c


3. For a given guess (ct (h))T                                                                 t
                                 t=1 , the previous step delivers the entire allocation (ci,t )i=0
   for periods t = 1, . . . , T, T + 1, . . . , T + L(F ). From date t = T + L(F ) + 1 on the
   consumption allocation coincides, by assumption, with the stationary ladder. Now we
   need to determine (ct (h))T    t=1 . These values must yield a consumption allocation that
   delivers the outside option W F (h) for all t = 1, . . . , T . Construct the lifetime utility
   in period t after the history y t-1-i h i , Vi,t , from the consumption allocation computed


                                                         60
in the previous step. This can be done recursively, going backward in time. Lifetime
utilities are given by, for each t = T + L, . . . , 1 (working backwards in time) and all
i = 0, . . . , t,
                                                    
                         Vi,t = (1 -  )u(ci,t ) + [V0,t+1 + Vi+1,t+1 .]
                                                    2
Note that these calculations are the same before and in the blended phase, because V0,t
is a function of Vi,t+i for i = 1, . . . , L, with VL,T +L = (1 -  )u( ) + F and t  T + L.
The only role the consumptions from the stationary ladder play is in step 2 above in
determining ci,t via resource feasibility.
Finally we need to check whether the entry consumption levels (ct (h))T
                                                                      t=1 are such that
the resulting consumption allocation hits the outside option for each t = 1, . . . , T

                                V0,t = (1 -  )u(h) + F.

If yes, we are done. If not, go back to step 1 and adjust the guess for (ct (h))T
                                                                                t=1 .




                                         61
