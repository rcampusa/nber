MEASURING THE SENSITIVITY OF PARAMETER
  ESTIMATES TO ESTIMATION MOMENTS
              Isaiah Andrews
            Matthew Gentzkow
             Jesse M. Shapiro
         WORKING PAPER 20673
                              NBER WORKING PAPER SERIES

   MEASURING THE SENSITIVITY OF PARAMETER ESTIMATES TO ESTIMATION
                              MOMENTS

                                         Isaiah Andrews
                                       Matthew Gentzkow
                                        Jesse M. Shapiro

                                      Working Paper 20673
                              http://www.nber.org/papers/w20673

                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Ave
                                Cambridge MA 02138
                           November 2014, Revised May 2017



Previously circulated as "Measuring the Sensitivity of Parameter Estimates to Sample Statistics."
Conversations with Kevin M. Murphy inspired and greatly improved this work. We are grateful
also to Josh Angrist, Steve Berry, Alan Bester, Stephane Bonhomme, Dennis Carlton, Raj Chetty,
Tim Conley, Ron Goettler, Brett Gordon, Phil Haile, Christian Hansen, Frank Kleibergen, Pat
Kline, Mark Li, Asad Lodhia, Magne Mogstad, Adam McCloskey, Yaroslav Mukhin, Pepe Olea,
Matt Taddy, E. Glen Weyl, and seminar audiences at Berkeley, Brown, Columbia, University of
Chicago, Harvard, University of Michigan, MIT, NBER, Northwestern, NYU, Princeton,
Stanford, University of Toronto, and Yale for advice and suggestions, and to our dedicated
research assistants for important contributions to this project. We thank the following authors for
their assistance in working with their code and data: Mariacristina De Nardi, Eric French, and
John B. Jones; Stefano DellaVigna, John List, and Ulrike Malmendier; Ron Goettler and Brett
Gordon; Pierre-Olivier Gourinchas and Jonathan Parker; Nathaniel Hendren; Chris Knittel and
Konstantinos Metaxoglou; Michael Mazzeo; Boris Nikolov and Toni Whited; Greg Kaplan; and
Amil Petrin. This research was funded in part by the Initiative on Global Markets, the George J.
Stigler Center for the Study of the Economy and the State, the Ewing Marion Kauffman
Foundation, the Centel Foundation / Robert P. Reuss Faculty Research Fund, the Neubauer
Family Foundation, and the Kathryn C. Gould Research Fund, all at the University of Chicago
Booth School of Business; the Alfred P. Sloan Foundation; the Silverman (1968) Family Career
Development Chair at MIT; the Stanford Institute for Economic Policy Research; the Brown
University Population Studies and Training Center; and the National Science Foundation. The
views expressed herein are those of the authors and do not necessarily reflect the views of the
National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2014 by Isaiah Andrews, Matthew Gentzkow, and Jesse M. Shapiro. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Measuring the Sensitivity of Parameter Estimates to Estimation Moments
Isaiah Andrews, Matthew Gentzkow, and Jesse M. Shapiro
NBER Working Paper No. 20673
November 2014, Revised May 2017
JEL No. C1,C52

                                         ABSTRACT

We propose a local measure of the relationship between parameter estimates and the moments of
the data they depend on. Our measure can be computed at negligible cost even for complex
structural models. We argue that reporting this measure can increase the transparency of
structural estimates, making it easier for readers to predict the way violations of identifying
assumptions would affect the results. When the key assumptions are orthogonality between error
terms and excluded instruments, we show that our measure provides a natural extension of the
omitted variables bias formula for nonlinear models. We illustrate with applications to published
articles in several fields of economics.

Isaiah Andrews                                  Jesse M. Shapiro
Department of Economics                         Economics Department
MIT                                             Box B
Building E52, Office 504                        Brown University
50 Memorial Drive                               Providence, RI 02912
Cambridge MA 02139                              and NBER
and NBER                                        jesse_shapiro_1@brown.edu
iandrews@mit.edu

Matthew Gentzkow
Department of Economics
Stanford University
579 Serra Mall
Stanford, CA 94305
and NBER
gentzkow@stanford.edu




A Online Appendix is available at http://www.nber.org/data-appendix/w20673
                                        I.   I NTRODUCTION
    One of the drawbacks commonly attributed to structural empirical methods is a lack of transparency.

Heckman (2010) writes that “the often complex computational methods that are required to implement

[structural estimation] make it less transparent” (358). Angrist and Pischke (2010) note that it is often “hard

to see precisely which features of the data drive the ultimate results” (21).

    In this paper, we suggest a way to improve the transparency of common structural estimators. We

consider a researcher who computes an estimator θ̂ of a finite-dimensional parameter θ with true value

θ0 . Under the researcher’s maintained assumptions a0 , θ̂ is consistent and asymptotically normal. Not all

readers of the research accept a0 , however, and different readers entertain different alternatives. To assess

the potential bias in θ̂ under some alternative a 6= a0 , a reader needs to know two things: how a would

change the moments of the data that the estimator uses as inputs, and how changes in these moments affect

the estimates. We say that research is transparent to the extent that it makes these steps easy, allowing a

reader to assess the potential bias for a range of alternatives a 6= a0 she finds relevant.

    Linear regression analysis is popular in part because it is transparent. Estimates depend on a set of intu-

itive variances and covariances, and it is straightforward to assess how these moments would change under

violations of the identifying assumptions. Well-understood properties of linear models—most prominently,

the omitted variables bias formula—make it easy for readers to guess how these changes translate into bias

in the estimates. We do not need to have access to the data to know that a regression of wages on education

would be biased upward by omitted skill, and we can form a guess about how much if we have a prior on

the likely covariance properties of the omitted variable.

    Our analysis is designed to make this kind of transparency easier to deliver for nonlinear models. We

derive a measure of the sensitivity of an estimator to perturbations of different moments of the data, exploit-

ing the same local linearization used to derive standard asymptotics. If a reader can predict the effect of an

alternative a on the moments, our measure allows her to translate this into predicted bias in the estimates.

We show that the measure can be used to predict the effect of omitted variables in a large class of nonlinear

models—providing an analogue of the omitted variables bias formula for these settings—and also to predict

the effect of many other potential violations of identifying assumptions. Because our approximation is local,

the predictions will be valid for alternatives a that are close to a0 in an appropriate sense.

    We assume that θ̂ minimizes a criterion function ĝ (θ )0 Ŵ ĝ (θ ), where ĝ (θ ) is a vector of moments or


                                                        2
other statistics, Ŵ is a weight matrix, and both are functions of the realized data. This class of minimum

distance estimators (MDEs) includes generalized method of moments (GMM), classical minimum distance

(CMD), maximum likelihood (MLE), and their simulation-based analogues (Newey and McFadden 1994),

and so encompasses most of the workhorse methods of structural point estimation.

    For any a in a set A of alternative assumptions, we follow the literature on local misspecification (e.g.,

Newey 1985; Conley, Hansen, and Rossi 2012) and define a local perturbation of the model in the direction

of a such that the degree of misspecification shrinks with the size of the sample. For any such perturbation,
                 √                                                                              √           
we assume that nĝ (θ0 ) converges in distribution to a random variable g̃ (a). We show that n θ̂ − θ0

then converges in distribution to a random variable θ̃ (a) and θ̂ has first-order asymptotic bias:

                                                 
                                         E θ̃ (a) = ΛE (g̃ (a)) ,


for a matrix Λ. An analogous relationship holds when the outcome of interest is a function of θ̂ , such as a

counterfactual experiment or welfare calculation.

    The matrix Λ, which we call sensitivity, plays a central role in our analysis. It can be written as Λ =

− (G0W G)−1 G0W , where W is the probability limit of Ŵ and G is the Jacobian of the probability limit of

ĝ (θ ) at θ0 . Intuitively, G describes how the model’s empirical predictions change with θ at the true value

θ0 . Since standard approaches to inference on θ employ plug-in estimates of G and W , sensitivity can be

consistently estimated at essentially zero computational cost in most applications.

    Intuitively, Λ is a local approximation to the mapping from moments to estimated parameters. A reader

interested in an alternative a can use Λ to predict its effect on the results, provided she can form a guess as

to the induced bias in the moments E (g̃ (a)). We argue theoretically, and illustrate in our applications, that

predicting the way a affects the moments is straightforward in many cases of interest.

    We propose that researchers report an estimate of Λ, or an appropriate transformation, alongside the

robustness checks, Monte Carlo experiments, and other diagnostics they would normally present in support

of their structural estimates. When there are particular alternative assumptions a that are likely to be of

interest to a large set of readers, researchers can use the estimated Λ to calculate and report estimates of

the implied biases. In addition, researchers can highlight the moments to which key conclusions are most

sensitive, allowing readers to judge the likely bias for themselves. As we discuss in section II below, we think

such discussion could complement, or perhaps replace, some of the current discussion of “identification”


                                                       3
that appears in structural papers.

    We show how to specialize our proposals to leading cases that often arise in practice. One such case

is where ĝ (θ ) is additively separable into a term ŝ dependent on the data (but not the parameters) and

a term s (θ ) dependent on the parameters (but not the data), as in the classical method of moments for

estimating means and variances. More broadly, this class includes CMD, additively separable GMM or

simulated method of moments, and indirect inference. The key identifying assumptions a0 imply that ŝ

converges in probability to the model analogues s (θ0 ). Natural alternatives a involve misspecification of

s (θ0 ) and mismeasurement of ŝ. It is often straightforward to say how a given alternative a would impact

the asymptotic behavior of the moments ĝ (θ0 ) = ŝ − s (θ0 ). If the researcher reports Λ in her paper, a reader

can use Λ to predict the effect of such alternatives on the estimator.

    A second leading case is where ĝ (θ ) is the product of a vector of instruments Z and a vector of structural

residuals ζˆ (θ ), so θ̂ is a nonlinear instrumental variables (IV) estimator. Here, the key identifying assump-

tions a0 specify orthogonality between Z and ζˆ (θ ). We show that in this case Λ can be used to construct a

nonlinear-model analogue to the omitted variables bias formula that can be reported directly in a research

paper. This allows readers to predict the effect of any a from a class of perturbations that introduce omitted

variables correlated with the instruments. Just as with the standard omitted variables bias formula, the key

input the reader must provide is the hypothesized coefficients from a regression of the omitted variable on

the instruments. Our results for this case generalize the findings of Conley, Hansen, and Rossi (2012) on the

effect of local misspecification in a linear IV setup.

    We use three applications to illustrate the way we envision authors presenting and discussing sensitivity.

Our first application is to DellaVigna, List, and Malmendier’s (2012) model of charitable giving. The authors

use a field experiment in conjunction with a structural model to distinguish between altruistic motives and

social pressure as drivers of giving. They find that social pressure is an important driver and that the average

household visited by their door-to-door solicitors is made worse off by the solicitation. We compute the

sensitivity of the estimated social pressure to the moments used in estimation, and find that a key driver is

the extent to which donations bunch at exactly $10. This is consistent with the model’s baseline assumptions,

under which (i) households pay a social pressure cost if they give less than $10, but pay no cost if they give

$10 or more, and (ii) there are no reasons to bunch at $10 absent social pressure. We then show how a

reader can use our sensitivity measure to assess the bias if the second assumption is relaxed—e.g., if some

fraction of households give $10 because it is a convenient cash denomination. We find that the estimated

                                                         4
social pressure is biased upward in this case.

    Our second application is to Gourinchas and Parker’s (2002) model of lifecycle consumption. The

model allows both consumption-smoothing (“lifecycle”) and precautionary motives for savings. The authors

find that precautionary incentives dominate at young ages, while lifecycle motives dominate later in life,

providing a rationale for the observed combination of a hump-shaped consumption profile and high marginal

propensity to consume out of income shocks at young ages. We show that our sensitivity measure provides

intuition about the consumption profiles the model interprets as evidence of smoothing and precautionary

motives respectively. We then show how a reader could use our measure to assess sensitivity to violations

of two key assumptions: separability of consumption and leisure in utility, and the absence of unobserved

income sources. We show that realistic violations of separability could meaningfully affect the results. For

example, varying shopping intensity as in Aguiar and Hurst (2007) would mean that the estimates understate

the importance of precautionary motives relative to lifecycle savings. We also show that the presence of

within-family transfers, a potential source of unobserved income, would have a similar effect.

    Our final application is to Berry, Levinsohn, and Pakes’ (1995, henceforth “BLP”) model of automobile

demand and pricing. The model yields estimates of the markups firms charge on specific car models. These

markups are a measure of market power and an input into evaluation of policies such as trade restrictions

(BLP 1999), mergers (Nevo 2000), and the introduction of new goods (Petrin 2002). The moments ĝ (θ )

used to estimate the model are products of vehicle characteristics—used as instruments—with shocks to

demand and marginal cost, and the key identifying assumption is that the instruments are orthogonal to the

shocks. We show how a reader could use our sensitivity measure to assess a range of violations of these

assumptions including economies of scope and correlation between demand errors and the composition

of product lines. We find that each of these violations could lead to economically meaningful bias in the

estimated markups.

    We emphasize two limitations of our approach. The first is that our sensitivity measure is a local approx-

imation. For small deviations away from the baseline assumptions a0 , we can be confident it will deliver

accurate predictions. For larger deviations, it may still provide valuable intuition, subject to the usual lim-

itations of linear approximation. When there are specific large deviations of interest, we recommend that

authors evaluate them using standard sensitivity analysis. The transparency our measure offers is a comple-

ment to this, allowing readers to build additional intuition about the impact of a broad set of alternatives.

In the online appendix, we compare our local sensitivity measure to a measure of global sensitivity for

                                                      5
DellaVigna, List, and Malmendier (2012) and BLP (1995).

    The second limitation is that the units of Λ are contingent on the units of ĝ (θ ). Changing the mea-

surement of an element ĝ j (θ ) from, say, dollars to euros, changes the corresponding elements of Λ. This

does not affect the bias a reader would estimate for specific alternative assumptions, but it does matter for

qualitative conclusions about the relative importance of different moments.

    The remainder of the paper is organized as follows. Section II situates our approach relative to prior

literature. Section III defines sensitivity and characterizes its properties. Section IV derives results for

the special cases of CMD and IV estimators. Section V considers estimation. Section VI presents our

applications, and section VII concludes. Appendix A discusses some common alternatives, and the online

appendix extends our main results along several dimensions, including developing an alternative notion of

sensitivity that does not rely on large-sample approximations.




                     II.    R ELATIONSHIP TO P RIOR L ITERATURE
    Transparency as defined here serves a distinct purpose from either traditional (global) sensitivity analysis

or estimation under partial identification. In sensitivity analysis, a researcher shows how the results change

under particular prominent alternatives a. Transparency is different because it allows readers to consider a

large space of alternatives, including those not anticipated by the researcher in advance. In estimation under

partial identification, a researcher computes bounds on θ0 assuming only that some set Ã contains a valid

collection of assumptions. This does not replace transparency because the implied bounds could be very

wide if we take Ã to include all possible alternatives of interest, and because bounds do not tell a given

reader which element of the identified set corresponds to her own beliefs.

    What our measure captures is also distinct from identification. A model is identified if, under its as-

sumptions, alternative values of the parameters imply different distributions of observable data (Matzkin

2013). This is a binary property, and a property of a model rather than of an estimator. Our analysis takes as

given that a model is identified, and describes the way a specific estimator maps data features into results.

We see this as a complement to, not a substitute for, formal analysis of identification.

    That said, we do think that some informal discussions of identification that have appeared in structural

papers under the heading of identification may be usefully reframed in terms of sensitivity. These discussions

often describe the extent to which particular parameters are “identified by” specific moments of the data.


                                                       6
As Keane (2010) notes, these discussions are hard to understand as statements about identification in the

formal sense.1 Because identification is a binary property, claims that a moment is the “main” or “primary”

source of identification have no obvious formal meaning.2 Authors often acknowledge the imprecision of

their statements by saying they discuss identification “loosely,” “casually,” or “heuristically.”3 Sensitivity

gives a formal, quantitative language in which to describe the relative importance of different moments for

determining the value of specific parameters, and we think it may be closer to the concept that many authors

have in mind when discussing identification informally. Transparency as we define it provides a rationale

for why such discussions are valuable.

    Our work has a number of antecedents. Our approach is related to influence function calculations for

determining the distribution of estimators (Huber and Ronchetti 2009), and is particularly close to the large

literature on local misspecification (e.g., Newey 1985; Berkowitz, Caner, and Fang 2008; Guggenberger

2012; Conley, Hansen, Rossi 2012; Nevo and Rosen 2012; Kitamura, Otsu, and Evdokimov 2013; Glad and

Hjort 2016; Kristensen and Salanié 2017). Our results also relate to the literature on sensitivity analysis (e.g.

Leamer 1983; Sobol 1993; Saltelli et al. 2008; Chen, Taber, and Torgovitsky 2011). Our focus is on local,

rather than global, deviations from the assumed model, and the finite-sample sensitivity measure we derive

in the online appendix is a natural local sensitivity measure from the perspective of this literature. We show

that this finite-sample sensitivity coincides asymptotically with our sensitivity matrix Λ.

    Relative to the existing literature on local misspecification, our main contribution is the proposal to report

sensitivity alongside structural estimates, as a way to increase transparency and make it easier for readers to

build intuition about the forms of misspecification they find most important. In this sense, our approach is


      1. Keane (2010) writes: “Advocates of the ‘experimentalist’ approach often criticize structural estimation because, they argue,
it is not clear how parameters are ‘identified’. What is meant by ‘identified’ here is subtly different from the traditional use of the
term in econometric theory — i.e., that a model satisfies technical conditions insuring a unique global maximum for the statistical
objective function. Here, the phrase ‘how a parameter is identified’ refers instead to a more intuitive notion that can be roughly
phrased as follows: What are the key features of the data, or the key sources of (assumed) exogenous variation in the data, or the key
a priori theoretical or statistical assumptions imposed in the estimation, that drive the quantitative values of the parameter estimates,
and strongly influence the substantive conclusions drawn from the estimation exercise?” (6).
      2. Altonji, Elder, and Taber (2005) write: “Both [exclusion restrictions and functional form restrictions] contribute to identifi-
cation. . . . We explore whether the source of identification is primarily coming from the exclusion restrictions or primarily coming
from the functional form restrictions” (814). Goettler and Gordon (2011) write: “The demand-side parameters. . . are primarily
identified by [a set of moments]. . . . The supply-side parameters. . . are primarily identified by [a different set of moments]” (1161).
DellaVigna, List, and Malmendier (2012) write: “Though the parameters are estimated jointly, it is possible to address the main
sources of identification of individual parameters” (37). (Emphasis added.)
      3. Einav, Finkelstein, and Schrimpf (2015) write: “Loosely speaking, identification [of three key parameters] relies on three
important features of our model and data” (869). Crawford and Yurukoglu (2012) write: “One may casually think of [a set of
moments] as ‘empirically identifying’ [a set of parameters]” (662). Gentzkow, Shapiro, and Sinkinson (2014) offer a “heuristic”
discussion of identification which they conclude by saying: “Although [we treat] the different steps as separable, the. . . parameters
are in fact jointly determined and jointly estimated” (3097). (Emphasis added.)


                                                                   7
similar to Müller’s (2012) measure of prior sensitivity for Bayesian models, which allows readers to adjust

reported results to better reflect their own priors.

      In appendix A, we discuss two alternative approaches that have appeared in the literature. One is to ask

how parameter estimates change when a moment of interest is dropped from the estimation. We show that

the limiting value of this change is the product of our sensitivity measure and the degree of misspecification

of the dropped moment. The other is to ask how the value of the moments simulated from the model change

when we vary a particular parameter. We show that this has a limiting value proportional to a generalized

inverse of our measure.




                                         III.      M EASURE
      We have observations Di ∈ D for i = 1, ..., n, which comprise a sample D ∈ D n . A set of identifying

assumptions a0 implies that Di follows F (·|θ , ψ), where θ is a P-dimensional parameter of interest with

true value θ0 and ψ is a possibly infinite-dimensional nuisance parameter with true value ψ0 . When it does

not introduce ambiguity, we abbreviate the distribution F (·|θ0 , ψ0 ) of Di under this model by F, and the

sequence of distributions of the sample by Fn ≡ {×n F}n .

      The estimator θ̂ solves


(1)                                             min ĝ (θ )0 Ŵ ĝ (θ ) ,
                                                θ ∈Θ



where Θ is a compact subset of RP known to contain θ0 in its interior. The object ĝ (θ ) is a J-dimensional

function of parameters and data continuously differentiable in θ with Jacobian Ĝ (θ ). We assume that under
                                            √          d
Fn , and thus under the assumptions a0 , (i) nĝ (θ0 ) → N (0, Ω); (ii) Ŵ converges in probability to a positive

semi-definite matrix W ; (iii) ĝ (θ ) and Ĝ (θ ) converge uniformly in probability to continuous functions g (θ )

and G (θ ); and (iv) G0W G = G (θ0 )0 W G (θ0 ) is nonsingular. We further assume that g (θ )0 W g (θ ) has a

unique minimum at θ0 . Under these assumptions, θ̂ is consistent, asymptotically normal, and asymptotically

unbiased with variance Σ = (G0W G)−1 G0W ΩW G (G0W G)−1 (Newey and McFadden 1994).




                                                           8
Definition. The sensitivity of θ̂ to ĝ (θ0 ) is

                                                         −1 0
                                              Λ = − G0W G   G W.




Example. (OLS) Suppose the data are Di = (Yi , Xi ). The baseline assumptions a0 imply that


(2)                                                Yi = Xi0 θ0 + εi ,


with E (εi |Xi ) = 0. The regression coefficient of Y on X can be written as a GMM estimator with ĝ (θ ) =
1
n   ∑i Xi (Yi − Xi0 θ ) and W = I. Thus, linear regression is a special case of minimum distance estimation as in
(1). Noting that G = −E(Xi Xi0 ) = −ΩXX , we have Λ = Ω−1
                                                       XX .




      While the estimator θ̂ is derived under the assumptions a0 , we may be concerned that the data generating

process is in fact described by alternative assumptions a. We follow the literature on local misspecification

(e.g., Newey 1985; Conley, Hansen, and Rossi 2012) and focus on perturbations that allow the degree of

misspecification to shrink with the size of the sample. Define a family of distributions indexed by µ ∈ [0, 1],


                                              F (µ) ≡ F (·|θ0 , ψ0 , µ) ,


such that F (0) = F (·|θ0 , ψ0 ) denotes the distribution of the data under a0 and F (1) = F (·|θ0 , ψ0 , 1) de-

notes the distribution of the data under a. One such F (µ), for instance, assumes that a fraction µ of the

observations are drawn from a distribution consistent with a, while the remaining 1 − µ are drawn from a

distribution consistent with a0 .
                                                                                            p          √
      We say that a sequence {µn }∞
                                  n=1 is a local perturbation if under Fn (µn ): (i) θ̂ → θ0 ; (ii)     nĝ (θ0 )

converges in distribution to a random variable g̃; (iii) ĝ (θ ) and Ĝ (θ ) converge uniformly in probability
                                    p
to g (θ ) and G (θ ); and (iv) Ŵ → W . Any sequence µn such that Fn (µn ) is contiguous to Fn (0) (see van
                                    √
der Vaart [1998]) and under which nĝ (θ0 ) has a well-defined limiting distribution is a local perturbation.

Under this approach, we wish to relate changes in the expectation of g̃ to the first-order asymptotic bias of

the estimator, which we generally abbreviate to “asymptotic bias” for ease of exposition.


                                                           9
Example. (OLS, cont’d) Suppose that under alternative assumptions a, the data are in fact generated by


                                               Yi = Xi0 θ0 +Vi + εi ,


where the scalar Vi is an omitted variable potentially correlated with Xi and E(εi |Xi ) = 0 still. The mean of

the OLS moment condition is E [ĝ (θ0 )] = E [XiVi ] = ΩXV , where ΩAB denotes E [Ai B0i ] for vectors A and B.

      To define a local perturbation corresponding to this alternative, let F (µ) be the distribution of data from

the model


(3)                                           Yi = Xi0 θ0 + µVi + εi ,


and consider the sequence µn = √1n . Analyzing the behavior of θ̂ under this assumption, we can show that
√                                                                       √         
  nĝ (θ0 ) converges to a random variable g̃ with expectation ΩXV , and n θ̂ − θ0 converges to a random

variable θ̃ OLS with expectation


                                            E θ̃ OLS       = Ω−1
                                                       
                                                              XX ΩXV

                                                           = ΛE (g̃) .


The expression Ω−1
                XX ΩXV is the large-sample analogue of the standard omitted variables bias formula. Sen-

sitivity Λ thus gives an expression for asymptotic omitted variables bias analogous to the usual finite-sample

expression.

      The standard omitted variables bias formula shows that to predict the bias in the estimator for a specific

omitted variable, a reader need only be able to form a guess as to the coefficients Ω−1
                                                                                     XX ΩXV from a regression

of the omitted variable on the endogenous regressors. The matrix Ω−1
                                                                  XX —our sensitivity measure Λ in this

case—translates the deviation ΩXV in the moments into bias in the estimator. Our main result extends this

logic to our more general setup.

                                                           √         
Proposition 1. For any local perturbation {µn }∞
                                               n=1 ,        n θ̂ − θ0 converges in distribution under Fn (µn ) to

a random variable θ̃ with

                                                       θ̃ = Λg̃

                                                                                   
almost surely. This implies in particular that the first-order asymptotic bias E θ̃ is given by


                                                           10
                                                         
                                                     E θ̃ = ΛE (g̃) .




Proof. See appendix.



    Two extensions are immediate.



Remark 1. In some cases, we are interested in the sensitivity of a counterfactual or welfare calculation

that depends on θ̂ , rather than the sensitivity of θ̂ per se. Suppose c (·) is a continuously differentiable

function not dependent on the data, with non-zero gradient C = C (θ0 ) = ∂∂θ c (θ0 ) at θ0 . Then under any
                                                 √               
local perturbation, the delta method implies that n c θ̂ − c (θ0 ) converges in distribution to c̃ = CΛg̃.
                                              
We will refer to CΛ as the sensitivity of c θ̂ .




Remark 2. We may be interested in the sensitivity of some elements of the parameter vector holding other

elements constant. Decomposing θ into subvectors (θ1 , θ2 ), the conditional sensitivity of the first subvector,

fixing the second, is
                                                                  −1
                                                 Λ1 = − G01W G1         G01W,

            ∂
for G1 =   ∂ θ1 g (θ1,0 , θ2,0 ),   where θ1,0 and θ2,0 are the true values of θ1 and θ2 respectively. Conditional

sensitivity Λ1 measures the asymptotic bias of θ̂1 under local perturbations when θ̂2 is held fixed at θ2,0 .



    An alternative to our local perturbation approach is to consider how the probability limit of θ̂ changes

under a fixed alternative a—that is, to consider misspecification that does not vanish as the sample size

grows large. We show in the online appendix that if the probability limits of θ̂ and ĝ (θ0 ) under assumptions

a are θ (a) and g (a) respectively, we have


                                             θ (a) − θ0 ≈ Λ [g (a) − g (a0 )]

                                                         = Λg (a) ,

                                                            11
for a close to a0 in an appropriate sense. This approach using fixed perturbations thus delivers a similar

intuition to the approach using local perturbations. We focus on local perturbations in the main text because,

under fixed perturbations, misspecification becomes arbitrarily large relative to sampling error in a large

sample, making it difficult to adjust inference for misspecification.

    Other extensions can also be developed. Our MDE setup directly accommodates maximum likelihood

or M-estimators with θ̂ = arg minθ 1n ∑i m (Di , θ ) if we take ĝ (θ ) to be the first-order conditions of the

objective and assume that these suffice to identify θ . Our results can also be extended to accommodate,

say, models with local maxima or minima in the objective following the reasoning in Newey and McFadden

(1994, section 1). The online appendix shows how to extend our asymptotic results to the case where the

sample moments ĝ (θ ) are non-differentiable, as in many simulation-based estimators.




                                      IV.     S PECIAL C ASES
    Two special cases encompass the applications we present below and provide a template for many other

cases of interest. Since particular transformations of Λ are sometimes more readily interpretable in certain

applications, we provide guidance on what we think researchers should report in each case.




IV.A.   Classical Minimum Distance

    The first case of interest is where ĝ (θ ) = ŝ − s (θ ) for sample statistics ŝ and corresponding predictions

s (θ ) under the model. We refer to this class collectively as classical minimum distance estimators. Our

definition of this case includes estimation by additively separable GMM, simulated method of moments, and

indirect inference (Gourieroux, Monfort, and Renault 1993; Smith 1993). Examples include the estimators

of DellaVigna, List, and Malmendier (2012) and Gourinchas and Parker (2002) which we discuss below,

as well as a large number of other papers in industrial organization (e.g., Goettler and Gordon 2011), labor

(e.g., Voena 2015), finance (e.g., Nikolov and Whited 2014), and macro (e.g., Christiano, Eichenbaum, and

Evans 2005).



Definition. θ̂ is a classical minimum distance (CMD) estimator if ĝ (θ ) = ŝ−s (θ ) , where s (·) is a function


                                                        12
that does not depend on the data.



     When θ̂ is a CMD estimator, sensitivity is Λ = (S0W S)−1 S0W, where S is the matrix of partial derivatives

of s (θ ) evaluated at θ0 . A natural category of perturbations to consider in this case are additive shifts of the

moment functions due to either misspecification of s (θ ) or measurement error in ŝ. In such cases, we obtain

a simple characterization of the asymptotic bias of the CMD estimator.



Proposition 2. Suppose that θ̂ is a CMD estimator and under Fn (µ), ŝ = s̃ + µ η̂, where η̂ converges in

probability to a vector of constants η and the distribution of s̃ does not depend on µ. Take µn =                  √1 ,   and
                                                                                                                     n
                 p                             
suppose that Ŵ → W under Fn (µn ). Then E θ̃ = Λη.



Proof. See appendix.



     Since the data affects the CMD estimator through the vector of sample statistics ŝ, in this setting we

suggest either reporting an estimate of Λ (if the units of the elements of s (θ ) are naturally comparable), or

else multiplying each element Λ p j of Λ by the standard deviation Ω j j of the jth moment, so the elements
                                                                    p

can be interpreted as the effect of a one standard deviation change in the moment on the parameters. A

reader can then estimate the asymptotic bias associated with any alternative assumption a, provided she can

build intuition about the way it changes the statistics ŝ.



Example. (Indirect Inference) Suppose that each element ŝ j is the coefficient from a descriptive regression

of some outcome Yi j on some predictor Xi j , with Yi j and Xi j functions of the underlying data Di . Suppose

that the model is exactly identified. Under assumptions a0 , E [Yi j |Xi j ] = s j (θ0 ) Xi j for all j, so E (ŝ) = s (θ0 ).

Sensitivity is Λ = S−1 .

     Under alternative a, the model omits important correlates of Yi j ; in a sample of size n, E [Yi j |Xi j ] =

s j (θ0 ) Xi j + √1n Vi j for an omitted variable Vi j . Applying proposition 2, the asymptotic bias of the estimator

is

                                                 E θ̃ = S−1 Ω−1
                                                     
                                                             XX ΩXV .


                                                             13
In this case, sensitivity links the omitted variables bias in the individual regression coefficients ŝ j to the

induced asymptotic bias in θ̂ .




IV.B.     Instrumental Variables

    The second special case is where the parameters of interest are estimated by nonlinear instrumental

variables, with moments formed by interacting the instruments with estimated structural errors. Among the

examples of this case are the BLP application discussed below and a large set of related demand models, as

well as other structural models employing instrumental variables for identification.



Definition. θ̂ is an instrumental variables (IV) estimator if ĝ (θ ) = n1 ∑i Zi ⊗ ζˆi (θ ), where Zi is a vector of
                                                                                 
instruments and ζˆi (θ ) is a function of data and parameters with E ζˆi (θ0 ) |Zi = 0 under Fn .4


                                                     0            −1 0
    When θ̂ is an IV estimator, sensitivity is Λ = − ΩZ X̃ W ΩZ X̃    ΩZ X̃ W, where ΩZ X̃ = E(Zi X̃i0 ) and X̃i
                                    ∂ ˆ
are the “pseudo-regressors”        ∂ θ ζi (θ0 ).

    A natural perturbation to consider in this case is the introduction of an omitted variable Vi that causes

the errors ζi to be correlated with the instruments Zi . We provide sufficient conditions for this form of

misspecification to be a local perturbation. These conditions apply more generally than nonlinear IV.



Assumption 1. The observed data Di = [Yi , Xi ] consist of i.i.d. draws of endogenous variables Yi and

exogenous variables Xi , where Yi = h (Xi , ζi ; θ ) is a one-to-one transformation of the vector of structural

errors ζi given Xi and θ with inverse ζˆ (Yi , Xi ; θ ) = ζˆi (θ ). There is also an unobserved (potentially omitted)

variable Vi . Under Fn : (i) ζi is continuously distributed with full support conditional on Xi ; (ii) (ζi , Xi ,Vi )
                                                            p
has a density f with respect to some base measure v; (iii) f (ζi , Xi ,Vi ) is continuously differentiable in ζi ;

(iv) we have                                                                      !2 
                                                        Vi0 ∂∂ζ f (ζi , Xi ,Vi )
                                            0 < E                                     < ∞;
                                                            f (ζi , Xi ,Vi )


     4. For notational simplicity we have assumed that all the instruments Zi are interacted with each element of ζˆi (θ ). The results
derived below continue to apply, however, if we use different instrument sets for different elements of ζˆi (θ ) .


                                                                  14
and (v) the moments are asymptotically linear in the sense that

                                    √            1
                                     nĝ (θ0 ) = √ ∑ ϕ (ζi , Xi ,Vi , θ0 ) + o p (1) ,
                                                  n i

where ϕ (ζi , Xi ,Vi , θ0 ) has finite variance.



    The main substantive restriction imposed by assumption 1 is that the structural errors have full support

and map one-to-one to the outcomes Yi . This is satisfied, for example, in BLP (1995) and similar models

of aggregate demand. The remaining assumptions are regularity conditions that hold in a wide range of

contexts.



Proposition 3. Suppose that θ̂ is an IV estimator satisfying assumption 1, and that under Fn (µ) we have
                                                                     p
ζˆi (θ0 ) = ζ˜i + µVi , where Vi is an omitted variable with
                                                          ∑i Zi ⊗ Vi → ΩZV 6= 0 and the distribution of ζ˜i
                                                                 1
                                                                 n

does not depend on µ. Then, taking µn = √1n , we have E θ̃ = ΛΩZV .
                                                          




Proof. See appendix.



    Proposition 3 directly generalizes the omitted variables bias formula to locally misspecified nonlinear

models. If we consider any just-identified instrumental variables model, then we can restate the conclusion

of proposition 3 as

                                                   E θ̃ = −Ω−1
                                                       
                                                                Ω .
                                                            Z X̃ ZV


This is a more general analogue of the omitted variables bias formula: rather than the coefficients from a

regression of the omitted variable on the regressors, the asymptotic bias is now given by the coefficients from

a two-stage least squares regression of the omitted variable on the pseudo-regressors, using Z as instruments.

    If a researcher reports Λ, a reader can predict the asymptotic bias due to any omitted variable provided

she can predict its covariance ΩZV with the instruments. To simplify the reader’s task further, we recommend

that researchers report an estimate of ΛΩZZ , possibly multiplied by a scaling matrix that makes the units

more comparable across elements of Z. Given ΛΩZZ , the additional input the reader must provide is the


                                                           15
coefficients from a regression of the omitted variable on the excluded instruments—exactly the same input

needed to apply the omitted variables bias formula for OLS.



Remark 3. Suppose γ = Ω−1   ZZ ΩZV are the coefficients from a regression of the omitted variable Vi on the
                                                                 
instruments Zi . Then under the hypotheses of proposition 3, E θ̃ = (ΛΩZZ ) γ.



    As a final example, we re-derive the asymptotic bias expression of Conley, Hansen, and Rossi (2012)

for the linear IV model with locally invalid instruments.



Example. (2SLS) Suppose the data are Di = [Yi , Xi , Zi ] and the expression for Yi under the assumed model

is the same as in equation (2) with E (εi |Zi ) = 0 and E (εi |Xi ) 6= 0. The 2SLS estimator can be written
                                                                              −1
as a GMM estimator with ĝ (θ ) = 1n ∑i Zi (Yi − Xi0 θ ) and Ŵ = 1n ∑i Zi Zi0 . Sensitivity Λ in this case is
                   −1 0
Λ = Ω0ZX Ω−1ZZ ΩZX    ΩZX Ω−1
                            ZZ . Conley, Hansen, and Rossi (2012) consider a perturbed model in which εi

is replaced by   √1 Zi γ   + εi . Applying remark 3, we see that the asymptotic bias of the 2SLS estimator is
                   n


                                                              −1 0
                                          E θ̃ = Ω0ZX Ω−1
                                              
                                                       ZZ ΩZX    ΩZX γ.


This is the expression Conley, Hansen, and Rossi (2012) derive in their section III.C.




                                            V.     E STIMATION
    Because consistent estimators of G and W are typically needed to perform inference on θ , a consistent

plug-in estimator of sensitivity is available at essentially no additional computational cost.



Definition. Define plug-in sensitivity to be

                                                   0        −1      0
                                        Λ̂ = − Ĝ θ̂ Ŵ Ĝ θ̂      Ĝ θ̂ Ŵ .




                                                          16
                                                             p
Proposition 4. For any local perturbation {µn }∞
                                               n=1 , Λ̂ →
                                                        − Λ under Fn (µn ) .



                             p                                                                 p
Proof. By assumption Ĝ (θ ) →
                             − G (θ ) uniformly in θ , so consistency of θ̂ implies that Ĝ θ̂ →
                                                                                               − G. Since
                              p
G0W G has full rank and Ŵ → W , the result follows by the continuous mapping theorem.



    Analogous results apply to transformations of sensitivity, such as the measure ΛΩZZ suggested for in-

strumental variables models.



Remark 4. Together, propositions 1 and 4 imply that, if we have a point belief about E (g̃), we can perform

correct asymptotic inference on θ under local perturbations by calculating the bias-corrected estimator

θ̂ − √1n Λ̂E (g̃) and using a consistent estimator of Σ to form standard errors or confidence intervals.




Remark 5. Since we only require a consistent estimator of Λ for inference on θ , we do not suggest reporting

standard errors for Λ̂. In case these are desired, we note that bootstrap confidence intervals on Λ will have

correct width under local perturbations (though like θ̂ , Λ̂ will have bias of order   √1 ).   The online appendix
                                                                                         n

reports bootstrap standard errors on functions of Λ for our application to BLP (1995).




Remark 6. To estimate bias under a particular alternative we recommend reporting Λ̂E (g̃). As our results
                                                                             √            d
above show this can be interpreted as an estimate of asymptotic bias when nĝ (θ0 ) → g̃. If we instead
                                √          d √
consider perturbations such that nĝ (θ0 ) → n∗ g̃, then in samples of size n∗ , E (g̃) can be interpreted as

the approximate bias of ĝ (θ0 ) and Λ̂E (g̃) as the approximate bias of θ̂ .




                                                        17
                                     VI.     A PPLICATIONS
VI.A.   Charitable Giving

    DellaVigna, List, and Malmendier (2012) use data from a field experiment to estimate a model of char-

itable giving. In the experiment, solicitors go door-to-door and either ask households to donate or ask

households to complete a survey. The two charities in the experiment are the East Carolina Hazard Center

(ECU) and the La Rabida Children’s Hospital (La Rabida). In some treatments, households are warned

ahead of time via a flyer that a solicitor will be coming to their home, and in others they are both warned and

given a chance to opt out. Households’ responses to these warnings, as well as variation across treatments

in amounts given and survey completion, pin down preference parameters that allow the authors to assess

the welfare effects of solicitation. The main findings are that social pressure is an important driver of giving

and that the average visited household is made worse off by the solicitation.

    The model is a two-period game between a solicitor and a household. In the first period, the solicitor may

notify the household of the upcoming solicitation, in which case the household can undertake costly effort to

avoid it. If the household does not avoid the solicitation, then the household chooses an amount to donate to

the charity. The household may receive utility from giving due to altruism (concern for the total resources of

the charity) or warm glow (direct utility from giving). The household may also experience social pressure,

which is modeled as a cost that decreases linearly in the donation up to a threshold amount d ∗ , after which

social pressure is zero. The game is solved via backward induction, with households rationally anticipating

future social pressure. The threshold d ∗ is taken to be the sample median donation amount of $10.

    The estimator solves (1) with moments


                                              ĝ (θ ) = ŝ − s (θ ) ,


where the statistics ŝ include the share of households opening the door in each treatment, the share giving

donations in various ranges in the charity treatments, the share completing the survey in the survey treat-

ments, and the share opting out when this was allowed, and s (θ ) is the expected value of each statistic under

the model, computed numerically by quadrature. The parameter vector θ includes determinants of the dis-

tribution of altruism and the social pressure cost of choosing not to give. Key parameters, including the cost

of social pressure, are allowed to differ between the two charities ECU and La Rabida. The weight matrix



                                                       18
Ŵ is equal to the diagonal of the inverted variance-covariance matrix of the observed statistics ŝ. Under the

assumed model Fn , E (ŝ) = s (θ0 ). This is a CMD estimator as defined above.

    A reader of the paper might be concerned that several of the model’s assumptions, including the func-

tional forms for the distribution of altruism, the utility function, and the social pressure cost, may not hold

exactly. We can apply our measure to make the mapping from moments to estimates more transparent, and

so allow a reader to estimate the asymptotic bias under various violations of these assumptions.

    We consider a perturbed model under which ŝ = s̃ + µη where η is a vector of constants and the dis-

tribution of s̃ does not depend on µ. By proposition 2, under the local perturbation µn = √1n , the first-order
                             
asymptotic bias is then E θ̃ = Λη. We estimate Λ with its plug-in using estimates of G and W provided to

us by the authors.5 We focus on the sensitivity of the estimated social pressure in the ECU charity solicita-

tions. We show analogous results for the La Rabida social preference parameter in the online appendix.

    Figure I plots the column of the estimated Λ corresponding to the per-dollar social pressure cost θ cost of

not giving to ECU.6 The estimated value of this parameter is $0.14 with a standard error of $0.08 (DellaV-

igna, List, and Malmendier 2012). Because the moments are probabilities, we scale the estimated Λ so

that it can be read as the effect of a one-percentage-point violation of the given moment condition on the

asymptotic bias in θ cost .

    Figure I provides useful qualitative lessons about the estimator. We indicate with solid circles the ele-

ments that DellaVigna, List, and Malmendier (2012) single out as important for this parameter: donations

at $10, donations less than $10, and the share of people opening the door in the treatment where they were

warned by a flyer. DellaVigna, List, and Malmendier (2012) write: “The [social pressure] is identified from

two main sources of variation: home presence in the flyer treatment. . . and the distribution of small giving

(the higher the social pressure, the more likely is small giving and in particular bunching at [$10])” (38).

Figure I lines up well with these expectations, reinterpreted as statements about sensitivity rather than identi-

fication. Estimated social pressure is increasing in the share of people bunching at $10 and decreasing in the

share donating less than $10. Estimated social pressure is also decreasing in the share of people opening the

door in the flyer treatment, reflecting the model’s prediction that a household that anticipates a high social


       5. We are grateful to Stefano DellaVigna and his co-authors for providing these inputs. We received the parameter vector
θ̂ , covariance matrix Ω̂, Jacobian Ĝ, and weight matrix Ŵ resulting from 12 runs of an adaptive search algorithm. These values
differ very slightly from those reported in the published paper, which correspond to 500 runs. To evaluate specific forms       of
misspecification, we code our own implementation of the prediction function s (θ ) and confirm that our calculation of s θ̂ closely
matches the published results.
       6. We plot the sensitivities with respect to the elements of ĝ (θ0 ) associated with the ECU treatments.


                                                               19
pressure cost should not open the door. The absolute magnitude of sensitivity is highest for bunching at $10.

These qualitative patterns might lead a reader to be particularly concerned about alternative assumptions a

that affect the likelihood that households give exactly $10.

    To illustrate the way sensitivity can be used to assess specific alternatives, suppose households have

reasons other than social pressure to give exactly $10, for example because this is a convenient cash denom-

ination. In particular, suppose that 99 percent of households obey the model, while 1 percent of households

obey the model in all ways except that they choose an exogenous donation amount d˜ (e.g., $10) conditional

on giving. The values of η implied by this alternative can be easily computed using the expected values

s θ̂ of the statistics ŝ reported in the appendix of the original article.7 Figure I can then be used to estimate
    

the implied asymptotic bias in estimated social pressure.

    Figure II shows the implied asymptotic bias for a range of alternative values of the exogenous gift

amount d.˜ As expected, the largest asymptotic bias arises when d˜ = 10, exactly the threshold at which

DellaVigna, List, and Malmendier’s (2012) model assumes that social pressure ceases. Other exogenous

giving levels imply much smaller asymptotic bias. The asymptotic bias at d˜ = 10 is equal to 0.008, implying

that the estimated social pressure is overstated by roughly five percent of the baseline estimate. If the share

of households giving exogenously at $10 were 10 percent, the projected asymptotic bias would be 0.08,

implying the estimated social pressure is overstated by more than 50 percent of the baseline estimate. The

online appendix compares these local estimates of sensitivity to a global analogue of sample sensitivity.

    The authors could of course have estimated this specific alternative model and reported it as part of their

robustness analysis. The value of Figure I is that it allows readers to evaluate this and a wide range of other

alternatives themselves. The qualitative patterns provide guidance about which kinds of violations of the

model’s assumptions are likely to be most important, and the quantitative values provide an estimate of the

magnitude of the asymptotic bias for specific alternatives.




     7. Consider the steps for computing η when d˜ = 10. We begin by altering the expected values s(θ̂ ) of the statistics ŝ reported
by DellaVigna, List, and Malmendier (2012) in two ways. First, for each ECU treatment we set the probability of giving $10 to
the total predicted probability of giving. Second, we set the probabilities for giving positive amounts other than $10 to zero. We
then compute η by multiplying the difference between our alternative predicted probabilities and the original ones by 0.01, the
share of model violators. To illustrate, the component of η for the probability of giving exactly $10 under the flyer treatment is
0.01 × (0.0451 − 0.0056). Multiplying by the sensitivity of ECU social pressure cost to this probability, which equals 7.455, gives
0.0029. Asymptotic bias is just the sum of such values—a large majority of which are zero—over all moments.


                                                                 20
VI.B.    Lifecycle Consumption

    Gourinchas and Parker (2002) estimate a structural model of lifecycle consumption with uncertain in-

come. In the model, households’ saving decisions are driven by both precautionary and lifecycle motives.

The estimates suggest that precautionary motives dominate up to the mid-40s, with consumers acting as

“buffer stock” agents who seek to maintain a target level of assets and consume any additional income over

that threshold. Lifecycle savings motives (i.e., saving to smooth consumption at retirement) dominate at

older ages, with consumers acting in rough accordance with the permanent income hypothesis. The re-

sults provide an economic rationale for both the hump-shaped consumption profile and the high marginal

propensity to consume out of income shocks at young ages observed in the data.

    Households in the model live and work for a known, finite number of periods. In each period of work-

ing life each household receives exogenous labor income that is the product of permanent and transitory

components. The permanent component evolves (in logs) as a random walk with drift. The transitory com-

ponent is an i.i.d. shock that is either zero or is lognormally distributed. Households choose consumption in

each period of working life to maximize the expected discounted sum of an isoelastic felicity function, and

receive a reduced-form terminal payoff for retirement wealth.

    The data D are aggregated to a vector ŝ consisting of average log consumption at each age e, adjusted in

a preliminary stage for differences in family size, cohort, and regional unemployment rates. The parameters

of interest θ are the discount factor, the coefficient of relative risk aversion, and two parameters governing

the payoff in retirement. The model also depends on a second vector of parameters χ, including the real

interest rate and the parameters of the income generating process, for which the authors compute estimates

χ̂ of the true values χ0 in a first stage. Under the assumed model Fn


                                            ŝe = se (θ0 , χ0 ) + εe ,


where se (θ , χ) is the average log consumption predicted by the model and εe is a measurement error satis-

fying E (εe ) = 0 for all e.

    The estimator θ̂ solves (1) with moments


                                            ĝ (θ ) = ŝ − s (θ , χ̂) .




                                                       21
The weight matrix Ŵ is a constant that does not depend on the data. Following the authors’ initial approach

to inference (Gourinchas and Parker 2002, Table III), we proceed as if χ̂ is also a constant that does not

depend on the data.8 The estimator is then a CMD estimator as defined above.

    The condition E (ŝ) = s (θ0 , χ0 ) depends on a number of underlying economic assumptions. A central

one is that consumption and leisure are separable. This implies that the level of income in a given period

is not correlated with the marginal utility of consumption. Subsequent literature, however, has shown that

working can affect marginal utility in important ways. Aguiar and Hurst (2007) show that shopping intensity

increases when consumers work less, implying that lower income increases the marginal utility a consumer

can obtain from a given expenditure on consumption. Aguiar and Hurst (2013) show that a meaningful

portion of consumption goes to work related expenses, implying a second reason for non-separability. Since

work time and work-related expenses both vary systematically with age, these forces would change the

age-consumption profile relative to what the Gourinchas and Parker (2002) model would predict.

    Another important assumption is that there are no unobserved components of income that vary system-

atically over the lifecycle. If younger consumers receive transfers from their families, for example, con-

sumption relative to income would look artificially high at young ages. An example is the in-kind housing

support from parents studied by Kaplan (2012). Gourinchas and Parker (2002) note that their data exhibit

consumption in excess of income in the early years of adulthood (something that is impossible under the

assumptions of their model), and they speculate that this could be explained by such unobserved transfers.

    We show how a reader can use sensitivity to assess the asymptotic bias introduced by violations of these

assumptions. We focus on the sensitivity of the two key preference parameters—the discount factor and

the coefficient of relative risk aversion—which in turn determine the relative importance of consumption

smoothing and precautionary incentives.9 Each violation we consider leads to a divergence between ob-

served consumption and the consumption quantity predicted by the model. Formally, we consider perturbed

models Fn (µ) under which ε = ε̃ + µη, where the distribution of ε̃ does not depend on µ and η is a vector

of constants that will differ depending on the alternative model at hand. We take µn = √1n . By proposition
                                   
2, the asymptotic bias is then E θ̃ = Λη. We estimate the model using the authors’ original code and data,

and then estimate Λ with its plug-in.10

     8. If we instead let χ̂ depend on the data, the analysis below and, by lemma 1, its interpretation in terms of misspecification are
preserved, provided that the distribution of χ̂ does not vary with the perturbation parameter µ. This assumption seems reasonable
in this context because estimation of χ̂ is based on separate data that does not involve the consumption observations underlying ŝ.
     9. We fix the two retirement parameters at their estimated values for the purposes of our analysis.
    10. We are grateful to Pierre-Olivier Gourinchas for providing the original GAUSS code, first-stage parameters, and input


                                                                  22
    Figure III plots the columns of the estimated Λ corresponding to the discount factor and the coefficient

of relative risk aversion. The two plots are essentially inverse to one another. This reflects the fact that both

a higher discount factor and a higher coefficient of relative risk aversion imply the same qualitative change

in the consumption profile: lower consumption early in life and greater consumption later in life. A change

in consumption at a particular age that leads to higher estimates of one parameter thus tends to be offset by

a reduction in the other parameter in order to hold consumption at other ages constant. The two parameters

are separately identified because they have different quantitative implications at different ages, depending

on the relative importance of precautionary and lifecycle savings.

    Figure III reveals useful qualitative lessons about the estimator. The plots suggest that we can divide

the lifecycle into three periods. Up to the late 30s, saving is primarily precautionary, so risk aversion

matters comparatively more than discounting and higher consumption is interpreted as evidence of low risk

aversion. From the late 30s to the early 60s, incentives shift toward retirement savings, so discounting

matters comparatively more than risk aversion and higher consumption is interpreted as evidence of a low

discount factor. From the early 60s on, retirement savings continues to be the dominant motive, but now we

are late enough in the lifecycle that high consumption signals that the household has already accumulated

substantial retirement wealth and thus is interpreted as evidence of a high discount factor. These divisions

align well with the phases of precautionary and lifecycle savings that Gourinchas and Parker (2002) highlight

in their Figure 7.

    Figure III also permits readers to form quantitative intuitions about the asymptotic bias in the estimator.

Suppose, for example, that a reader believes that 26-year-olds overstate their consumption by 1 percent

(0.01 log points). Then the reader believes that the estimated discount factor is biased (asymptotically)

upwards by 0.0006 = 0.01 × 0.06 where 0.06 is roughly the sensitivity of the discount factor to the moment

corresponding to log consumption at age 26.

    A range of economically interesting assumptions η can be translated into implied asymptotic bias using

the elements of Figure III. To illustrate, Table I shows the first-order asymptotic bias associated with each

of four specific perturbations. First, to allow for variable shopping intensity, we define the elements ηe

to match the age-specific log price increments that Aguiar and Hurst (2007) estimate in column 1 of their

Table I. Second, to allow for work-related consumption expenses, we define ηe so that true consumption at

data. We use the published parameter values as starting values. We compute sensitivity at the value θ̂ to which our run of the
solver converges, and report this value as the baseline estimate in Table I below. This value is similar, though not identical, to the
published parameters.


                                                                 23
each age is overstated by five percent of work-related expenses as calculated in Aguiar and Hurst’s (2013)

Table 1 and Figure 2a. Third, to allow for young consumers receiving family transfers, we choose ηe so that

true average consumption prior to age 30 is one percent below average income (rather than above average

income as the raw data suggest). Finally, to allow older consumers to make corresponding transfers to their

children, we choose ηe so that consumption from ages 50 through 65 is overstated by an annual amount

whose lifetime sum is equal to the cumulative gap between consumption and income over ages 26 through

29.

      The first row of Table I shows that if shopping intensity changes with age as in Aguiar and Hurst

(2007), the estimated discount factor is overstated by 0.4 percentage points and the estimated coefficient

of relative risk aversion is understated by roughly a third of its corrected value. The second row shows that

if there are significant work-related expenses as in Aguiar and Hurst (2013), the estimated discount factor

and coefficient of relative risk aversion are asymptotically biased in the opposite direction. The third row

shows that if part of the measured consumption of young workers is funded by unobserved transfers, the

discount factor is overstated by more than a percentage point and the coefficient of relative risk aversion is

understated by half of its corrected value. The fourth row shows that allowing for older consumers to fund

such transfers has a more modest effect in the opposite direction. The final row shows the net effect when

we account for transfers both from the old and to the young.

      Importantly, each of these alternatives can be contemplated based only on Figure III and other basic in-

formation provided in Gourinchas and Parker (2002) (e.g., the average log consumption and income at each

age). This illustrates the sense in which a plot like Figure III can aid transparency by letting readers consider

the effects of different forms of misspecification on the asymptotic behavior of the estimator, without direct

access to the estimation code or data.




VI.C.     Automobile Demand

      BLP (1995) use data on US automobiles from 1971 to 1990 to estimate a structural model of demand

and pricing. The model yields estimates of markups and cross-price elasticities, which can in turn be used to

evaluate changes such as trade restrictions (BLP 1999), mergers (Nevo 2000), and the introduction of a new

good (Petrin 2002). We follow BLP (1995) in suppressing the time dimension of the data in our notation.

      The data D = [S, P, X, Z] consist of a vector of endogenous market shares S; a vector of endogenous prices

                                                       24
                                                                                                                                
P; a matrix X of exogenous car characteristics such as size and mileage; and a matrix Z =                               Zd Zs        of

instruments partitioned into those used to estimate the demand-side and supply-side equations respectively.

An observation i is a vehicle model. The instruments Z are functions of X, with row Zi containing functions

of the number and characteristics X−i of models other than i (including other car models produced by the

same firm).11

    The demand model is a random-coefficients logit in which the utility from purchasing a given vehi-

cle model i depends on its characteristics Xi and an unobserved preference factor ξi . The marginal cost

of producing vehicle model i likewise depends on its characteristics Xi and an unobserved cost factor ωi .

Consumers make purchase decisions to maximize utility. Multi-product firms set prices simultaneously to

maximize profits. Equilibrium prices correspond to a Bertrand-Nash equilibrium.

    Under the assumed model Fn ,

                                                        S = s (X, ξ , ω; θ0 )

                                                       P = p (X, ξ , ω; θ0 ) ,

where E (ξi |Zdi ) = E (ωi |Zsi ) = 0. The function s (·) maps primitives to market shares under the assump-

tion of utility maximization. The function p (·) maps primitives to prices under the assumption of Nash

equilibrium.

    Because the functions s (·) and p (·) are known and invertible, it is possible to compute the errors ξˆi (θ )

and ω̂i (θ ) implied by given parameters and data. The estimator θ̂ solves (1) with moments

                                                                             
                                                                       0
                                                                      ˆ
                                                          1  ∑i Zdi ξi (θ ) 
                                                 ĝ (θ ) =                   .
                                                          n       0
                                                              ∑i Zsi ω̂i (θ )

     11. The elements of Zdi are (i) a constant term (equal to one); (ii) horsepower per 10 pounds of weight; (iii) an indicator for
standard air conditioning; (iv) mileage measured in ten times miles per dollar (miles per gallon divided by the average real retail
price per gallon of gasoline in the respective year); (v) size (length times width); (vi) the sum of (i)-(v) across models other than
i produced in the same year by the same firm as i; and (vii) the sum of (i)-(v) across models produced in the same year by rival
firms. This yields 15 instruments, of which all except (i)-(v) are “excluded” in the sense that they do not also enter the utility
function directly. We drop two of these instruments—the sums of (v) across same-firm and rival-firm models—because they are
highly collinear with the others. This leaves 13 instruments (8 excluded) for estimation. The elements of Zsi are (i) a constant term;
(ii) the log of horsepower per 10 pounds of weight; (iii) an indicator for standard air conditioning; (iv) the log of ten times mileage
measured in miles per gallon; (v) the log of size; (vi) a time trend equal to the year of model i minus 1971; (vii) mileage measured
in miles per dollar; (viii) the sum of (i)-(vi) across models other than i produced in the same year by the same firm as i; and (ix)
the sum of (i)-(vi) across models produced in the same year by rival firms. This yields 19 instruments, of which all except (i)-(vi)
are excluded. The inclusion of (vii) as an excluded instrument in Zsi is motivated by the assumption that marginal cost depends on
miles per gallon but not on the retail gasoline price (which creates variation in miles per dollar conditional on miles per gallon).
The sum of (vi) across rival firms’ models is dropped due to collinearity, leaving 18 instruments (12 excluded) for estimation. We
demean all instruments other than those involving the constant terms.


                                                                  25
The weight matrix is the inverse of the variance-covariance matrix of ĝ θ̂ FS , where θ̂ FS denotes the first-
                                                                              

stage estimator.

      The demand and supply moment conditions E (ξi |Zdi ) = 0 and E (ωi |Zsi ) = 0 encode distinct economic

assumptions. The demand-side condition E (ξi |Zdi ) = 0 requires that the unobserved component ξi of the

utility from purchasing model i is mean-independent of the number and characteristics of cars other than i

in a given year. The assumption is especially reasonable if the determinants of ξi are unknown until after

product line decisions are made. The assumption could be violated if ξi depends on anticipated shocks to

preferences that affect the number of models introduced or their characteristics. Draganska, Mazzeo, and

Seim (2009), Fan (2013), and Wollmann (2016) estimate models in which firms’ choices of products and

product characteristics depend on consumer demand.

      The supply-side condition E (ωi |Zsi ) = 0 requires that the unobserved component ωi of the marginal

cost of producing model i is mean-independent of the number and characteristics of cars other than i. This

assumption could be violated if a firm’s product line affects the cost of producing a given model through

economies of scope or scale. Levitt , List, and Syverson (2013) show that learning-by-doing leads to large

economies of scale in automobile production, though the effects they document accrue within rather than

across models.12

      We show how a reader can use sensitivity to assess the asymptotic bias in the estimated markup implied

by violations of the exclusion restrictions. We estimate the model using BLP’s (1995) data and our own im-

plementation of the authors’ estimator.13 We consider a perturbed model Fn (µ) under which the instruments

influence the structural errors, i.e.
                                                                      
                                                                     0
                                             ˆ             ˜
                                           ξi (θ0 )   ξi       Zdi γd 
(4)                                                  =     +µ  0      ,
                                            ω̂i (θ0 )     ω̃i       Zsi γs

                                             0
where the distribution of           ξ˜i ω̃i        does not depend on µ. We consider the local perturbation µn =                  √1
                                                                                                                                    n


    12. BLP (1995) also discuss the possibility of within-model increasing returns, finding some support for it in their reduced-form
estimates (876).
    13. We obtained data and estimation code for BLP (1999) from an archived version of Jim Levinsohn’s web page
(https://web.archive.org/web/20041227055838/http://www-personal.umich.edu/∼jamesl/verstuff/instructions.html, accessed July
16, 2014). We confirm using the summary statistics in BLP (1995) that the data are the same as those used in the BLP (1995)
analysis. Since the algorithms in the two papers are almost identical, we follow the BLP (1999) code as a guide to implementing
the estimation, and in particular follow the algorithm in this code for choosing which instruments to drop due to collinearity. We use
the published BLP (1995) parameters as starting values and in computing importance sampling weights. We compute sensitivity at
the parameter vector θ̂ we estimate, which is similar though not identical to the published estimates.


                                                                 26
and assume that the regularity conditions of assumption 1 are satisfied. Letting C denote the gradient of the

markup, defined as the ratio of price minus marginal cost to price, with respectto θ at θ0 , remark 1 and   
                                                                                          0
                                                                                 E(Zdi Zdi )      0
remark 3 imply that the asymptotic bias in the markup is CΛΩ̃ZZ γ, where Ω̃ZZ = 
                                                                                                             
                                                                                                             
                                                                                      0         E(Zsi Zsi0 )
                 0
and γ = γd γs .14 We estimate C, Λ and Ω̃ZZ with their respective plug-ins. The vector of constants

γ encodes a reader’s beliefs about the excludability of the instruments, with γ = 0 corresponding to BLP’s

(1995) assumptions.

    Figure IV plots the estimated value of CΛΩ̃ZZ K, where K is a diagonal matrix whose diagonal elements

are normalizing constants that allow us to interpret γ as the effect (in percent of the average price) of a

one standard deviation change in each instrument on willingness-to-pay (for demand-side instruments Zdi )

or marginal cost (for supply-side instruments Zsi ). Elements of CΛΩ̃ZZ K corresponding to demand-side

instruments are plotted on the left; elements corresponding to supply-side instruments are plotted on the

right.15

    Figure IV delivers some qualitative lessons that are useful in thinking about BLP’s (1995) estimator. It

shows that the asymptotic bias in the average markup is very sensitive to whether the number of different

vehicle models produced by the firm influences marginal costs directly, suggesting that firm-level economies

of scope may be a particularly important threat to the validity of the estimates. More broadly, the plot shows

that beliefs about the excludability of supply-side instruments really matter. This is consistent with a sense

in the literature that the supply-side moments play a critical role in estimation.16

    A reader can use Figure IV to assess the asymptotic bias associated with a range of specific alternatives.

On the supply side, we suppose that, for a car with average marginal cost at the midpoint sample year,

removing a different car from the firm’s product line increases the marginal cost by one percent of the

average price, say because of lost economies of scope. On the demand side, we assume that removing a car

from a firm’s product line decreases the average willingness to pay for the firm’s other cars by one percent

of the average price, say because buyers have a preference for buying a car from a manufacturer with a more
   14. Sensitivity is
                                                                                 −1
                                                          Λ = − Ω0Z X̃ W ΩZ X̃         Ω0Z X̃ W,
                                        h                             i0
where the pseudo-regressors are X̃i =       ∂ ξˆi (θ0 )   ∂ ω̂i (θ0 )    .
                                               ∂θ           ∂θ
    15. The online appendix provides a table showing the standard deviation of each instrument so that a reader can easily transform
γ into native units. The online appendix also reports an analogue of Figure IV based on sample sensitivity.
    16. In the original article, BLP (1995) note that they had estimated the model with the demand moments alone and found that
this led to “much larger estimated standard errors” (875). In subsequent work, the authors recall finding that “estimates that used
only the demand system were too imprecise to be useful” (BLP 2004, 92).


                                                                        27
complete line of cars. We also repeat both exercises for the effect of removing a car from rival firms’ product

lines, which could matter because of industry-wide economies of scope (on the supply side) or effects on

consumer search behavior (on the demand side).

    Table II shows that all of these beliefs imply meaningful first-order asymptotic bias in the estimated

average markup. The first violation of the supply-side exclusion restrictions, for example, would mean that

the estimated markup of 0.33 is biased (asymptotically) downward by 17 percentage points, implying a

corrected estimate of 0.50. The violation of the demand-side exclusion restrictions has an effect of similar

magnitude, biasing the markup downward by 13 percentage points. The online appendix provides bootstrap

standard errors for these local estimates of sensitivity and compares them to a global analogue.

    Importantly, all of the asymptotic bias calculations reported in Figure II can be read off of Figure IV:

the estimated biases correspond to the lengths (and signs) of their corresponding elements in the plot times

the standard deviations of their associated instruments, which are reported in the online appendix. An im-

plication is that a reader interested in any particular violation γ of the exclusion restrictions can approximate

its effect by reading the appropriate elements of the plot. For example, a reader who thinks that a one stan-

dard deviation increase in fuel economy increases marginal cost by two percent of the average price can

learn that this implies a positive asymptotic bias of 0.002 = 0.001 × 2 in the average markup, where 0.001

is the sensitivity value shown in the first row of the right-hand column of Figure IV. A reader could also

combine multiple elements of Figure IV to approximate the effect of multiple violations of the exclusion

restrictions—say, a direct effect of both number of cars and fuel economy on marginal cost.




                                     VII.     C ONCLUSIONS
    We propose our sensitivity measure as way to increase the transparency of structural estimates, making

it easier for readers to quantify the effects of a wide range of violations of identifying assumptions on the

asymptotic behavior of the estimator. We provide several formal interpretations of our proposed approach

and we illustrate it with three substantive applications. In all three cases, we argue that readers of the original

article would have benefited from the information our sensitivity measure provides.

    What information about sensitivity is most valuable to report will, of course, differ depending on the

context. It will often make sense to focus on the sensitivity of a few key parameters, welfare estimates, or

counterfactual experiments. In some cases, such as additively separable estimators with a small number of

                                                        28
moments, it is feasible to report the full vector of sensitivities of these outcomes with respect to all moments.

In other cases, such as when the number of moments is large, it may be appropriate to focus on a subset, or

to report average sensitivities across groups of moments. For IV estimators, we think it makes sense report

the transformation ΛΩZZ to provide a more direct mapping to the alternative assumptions of interest.

    We think that informal discussions of identification in structural papers could, in some cases, be usefully

reframed as discussions about sensitivity. This would eliminate the gap, discussed in section II, between

the informal language commonly used in applied work and formal concepts in econometrics. It would also

provide a precise rationale for these discussions as a way to gauge sensitivity to model misspecification.

We do not suggest that researchers abandon the formal analysis of identification. On the contrary, we

think analysis of identification and sensitivity are complementary approaches for assessing the credibility of

results.

    MIT and NBER

    Stanford and NBER

    Brown and NBER


A PPENDIX A:               R ELATIONSHIP TO A LTERNATIVE M EASURES OF S ENSITIVITY
                                                             TO   M OMENTS
A.1.       Dropping Moments

    One common method for assessing the relevance of particular moments is to re-estimate the model

parameters after dropping the corresponding moment condition from the function ĝ (θ ) (see, e.g., Altonji,

Elder, and Taber [2005]). The following result specifies how this procedure is related to sensitivity Λ.



Corollary 1. Consider the setup of proposition 1, and suppose that under the local perturbation {µn }∞
                                                                                                     n=1

only one moment j is potentially misspecified (E (g̃k ) = 0 for k 6= j). Let θ̂ j be the estimator that results from

excluding the jth moment condition and suppose that this estimator satisfies our maintained assumptions for

θ̂ . Then, under Fn (µn ), the difference between the first-order asymptotic biases of θ̂ j − θ0 and θ̂ − θ0
                                                                                                            

is Λ. j E (g̃ j ), for Λ. j the jth column of Λ.



                                                   √         
Proof. Applying proposition 1, under Fn (µn ),      n θ̂ − θ0 converges in distribution to a random variable

                                                        29
                                √
                                 n θ̂ j − θ0 converges in distribution to a random variable with mean zero.
                                            
with mean Λ. j E (g̃ j ), and



    Dropping moments does not yield an analogue of Λ. Rather, when a given moment j is suspect (and

the other moments are not), re-estimating after dropping the moment gives an asymptotically unbiased

estimate of Λ. j E (g̃ j ), the product of the sensitivity of the original estimator to moment j and the degree of

misspecification of moment j.

    Dropping moments need not be informative about what moments “drive” a parameter in the sense that

changing the realized value of the moment would affect the realized estimate. Consider, for example, an
                                                     
over-identified model for which all elements of ĝ θ̂ happen to be exactly zero. Then dropping any particu-

lar moment leaves the parameter estimate unchanged, but changing its realized value will affect the param-

eter estimate so long as the finite-sample sensitivity measure defined in the online appendix is nonzero.




A.2.    Effect of Parameters on Moments

    Another common method for assessing the importance of moments is to ask (say, via simulation) how

the population values of the moments change when we vary a particular parameter of interest (see, e.g.,

Goettler and Gordon [2011]; Kaplan [2012]; Berger and Vavra [2015]; and Morten [2016]).

    This approach yields an estimate of minus one times a right inverse of our sensitivity measure. The

large-sample effect of a small change in the parameters θ on the moments is given by G. Recalling that
        0    −1 0
Λ = − G WG        G W , we have −ΛG = I, so that Λ is a left inverse of −G. When G is square, Λ = (−G)−1 .
                                                                          ∂
When θ̂ is a CMD estimator, and ĝ (θ ) = ŝ − s (θ ), we have −G =      ∂ θ s (θ0 ),   so Λ is minus one times a left

inverse of the matrix we obtain by perturbing the parameters and looking at the resulting changes in the

model’s predictions s (θ ).

    The matrix G is not a measure of the sensitivity of an estimator to misspecification. Indeed, G is not a

property of the estimator at all, but rather a (local) property of the model. A moment can respond to a change

in the value of a parameter even if that moment plays no role in estimation at all. This is true, for example,

for an over-identified MDE in which we set the elements of Ŵ corresponding to a particular moment equal

to zero.




                                                          30
                  A PPENDIX B:          P ROOFS FOR R ESULTS IN M AIN T EXT
B.1.     Proof of Proposition 1

    Because θ0 ∈ interior (Θ) and ĝ (θ ) is continuously differentiable in θ , the following first-order condi-

tion must be satisfied with probability approaching one as n → ∞:

                                                     0       
                                                Ĝ θ̂ Ŵ ĝ θ̂ = 0.


By the mean value theorem,
                                                                   
                                      ĝ θ̂ = ĝ (θ0 ) + Ĝ θ θ̂ − θ0 ,

                    
for some θ ∈ θ0 , θ̂ which may vary across rows. Substituting this expression into the first-order condition

yields
                                    0                  0             
                               Ĝ θ̂ Ŵ ĝ (θ0 ) + Ĝ θ̂ Ŵ Ĝ θ θ̂ − θ0 = 0.

                                        0      
Rearranging, we have that provided Ĝ θ̂ Ŵ Ĝ θ has full rank, as holds with probability approaching one,

                                                       
                                                θ̂ − θ0 = L̂ĝ (θ0 ) ,

                 0       −1      0
where L̂ = − Ĝ θ̂ Ŵ Ĝ θ      Ĝ θ̂ Ŵ .
                     p                           p
    We know that θ̂ → θ0 under Fn (µn ), so θ → θ0 . This plus uniform convergence of Ĝ (θ ) to G (θ ) implies

that under Fn (µn ), Ĝ θ̂ and Ĝ θ both converge in probability to G. Recalling that Λ = − (G0W G)−1 G0W ,
                                  

                          p                 p
the above, along with Ŵ → W , implies L̂ → Λ.

    Then

                           √                      √                       
                            n θ̂ − θ0 − Λĝ (θ0 ) =   n L̂ĝ (θ0 ) − Λĝ (θ0 )
                                                           √
                                                   = L̂ − Λ nĝ (θ0 ) ,

                                                                                      √
which converges in probability to zero by Slutsky’s theorem (using the fact that nĝ (θ0 ) converges in
                                         √                     
distribution). Therefore, under Fn (µn ), n θ̂ − θ0 , Λĝ (θ0 ) converges in distribution to a random vector
                                                                  
 θ̃ , Λg̃ with Pr θ̃ = Λg̃ = 1. This implies in particular that E θ̃ = ΛE (g̃).




                                                        31
B.2.     Proof of Proposition 2

     We begin by stating and proving an additional lemma, from which proposition 2 then follows.



Lemma 1. Consider a sequence {µn }∞
                                  n=1 . Suppose that under Fn (µn )



                                                           ĝ (θ ) = â (θ ) + b̂,

                                                                                                                     √
where the distribution of â (θ ) is the same under Fn (0) and Fn (µn ) for every n, and                              nb̂ converges in
                            p
probability. Also, Ŵ → W under Fn (µn ).17 Then {µn }∞
                                                      n=1 is a local perturbation.




Proof. Uniform convergence of Ĝ (θ ) to G(θ ) in probability under Fn (µn ) follows from the fact that b̂ does
                                                                                                       √
not depend on θ and that the distribution of â (θ ) is unaffected by µ. Convergence in distribution of nĝ (θ0 )
                          √                                           √                                    p
follows from the fact that nâ (θ0 ) converges in distribution and nb̂ converges in probability. That θ̂ → θ0

then follows from the observation that ĝ (θ )0 Ŵ ĝ (θ ) converges uniformly in probability to g (θ )0 W g (θ ).



     Turning now to proposition 2, that {µn }∞  n=1 is a local perturbation follows from lemma 1 with â (θ ) =
                                                   
s̃ − s (θ ) and b̂ = µn η̂. The expression for E θ̃ then follows by proposition 1.




B.3.     Proof of Proposition 3

     To prove this result, we again state and prove an additional lemma, which then implies the proposition.



                                                                     µ∗
Lemma 2. Consider a sequence {µn }∞
                                  n=1 with µn =           for a constant µ ∗ . Suppose that assumption 1 holds,
                                                                     √
                                                                      n
                                                                                           
and that under Fn (µ) we have ζˆi (θ0 ) = ζ˜i + µVi , where the distribution of ζ˜i , Xi ,Vi does not depend on

µ. Then {µn }∞
             n=1 is a local perturbation.



    17. This is true in particular if Ŵ either does not depend on the data or is equal to w θ̂ FS , where w(·) is a continuous function
                                                                                                         

and θ̂ FS is a first-stage estimator that solves (1) for Ŵ equal to a positive semi-definite matrix W FS not dependent on the data. In
                                                                                                                           p
the latter case, the fact that ĝ (θ )0 W FS ĝ (θ ) converges uniformly to g (θ )0 W FS g (θ ) implies that we have θ̂ FS → θ0 by theorem 2.1
                                                     p
of Newey and McFadden (1994). Thus, Ŵ → W by the continuous mapping theorem.


                                                                     32
Proof. By assumption 1 part (ii) we know that (ζi , Xi ,Vi ) has density f (ζi , Xi ,Vi ) with respect to ν under

F (0). Thus, the density f (ζi , Xi ,Vi |µ) of (ζi , Xi ,Vi ) under µ is given by f (ζi − µVi , Xi ,Vi ). By assumption
             p
1 part (iii), f (ζi − µVi , Xi ,Vi ) is continuously differentiable in ζi , which implies that

                                                                 0 ∂
                               ∂ p                           1 Vi ∂ ζi f (ζi − µVi , Xi ,Vi )
                                   f (ζi − µVi , Xi ,Vi ) = − p
                              ∂µ                             2       f (ζi − µVi , Xi ,Vi )

is continuous in µ for all (ζi − µVi , Xi ,Vi ). By assumption 1 part (iv) we know that

                                                                            !2
                                        Z       Vi0 ∂∂ζi f (ζi , Xi ,Vi )
                                 0<                                               f (ζi , Xi ,Vi ) dν < ∞,
                                                    f (ζi , Xi ,Vi )

but using the linear structure of the model we see that this is equal to the information matrix for µ

                                                                                !2
                                    Z       Vi0 ∂∂ζi f (ζi − µVi , Xi ,Vi )
                             Iµ =                                                        f (ζi − µVi , Xi ,Vi ) dν,
                                                f (ζi − µVi , Xi ,Vi )

for all µ. Thus, the information matrix for estimating µ is continuous in µ, finite, and non-zero.

    Given these facts, lemma 7.6 of van der Vaart (1998) implies that the family of distributions F (µ) is
                                                                                                                      µ∗
differentiable in quadratic mean in a neighborhood of zero. Thus, if we take µn =                                     √
                                                                                                                       n
                                                                                                                         ,   then by theorem 7.2

of van der Vaart (1998) we have that under Fn (0) ,


                             dFn (µn )   1      Vi0 ∂∂ζi f (ζi , Xi ,Vi ) 1
                       log             = √ ∑ µ∗                          − (µ ∗ )2 Iµ + o p (1) .
                             dFn (0)      n i        f (ζi , Xi ,Vi )     2

Moreover, the Cauchy-Schwarz inequality, assumption 1 parts (iv) and (v), and the central limit theorem

imply that under Fn (0),

                                                                    
                        √                                             ∗
                      nĝ (θ0 )  d             0        Ω     µ Ξ 
                                     → N              ,              ,
                           dFn (µn )            1   ∗ 2        ∗     ∗  2
                       log dFn (0)            − 2 (µ ) Iµ     µ Ξ (µ ) Iµ

                                                                                                   
                                  √                                 √1
                                                                      n   ∑i Vi0 ∂∂ζ f (ζi ,Xi ,Vi )
                                                                                     i
for Ξ the asymptotic covariance of nĝ (θ0 ) and                               f (ζi ,Xi ,Vi )
                                                                                                        . However, by LeCam’s first lemma

(lemma 6.4 in van der Vaart 1998), this implies that the sequences Fn (0) and Fn (µn ) are contiguous. More-




                                                                       33
over, by LeCam’s third lemma (example 6.7 of van der Vaart 1998),

                                           √          d
                                                      − N (µ ∗ Ξ, Ω)
                                            nĝ (θ0 ) →


under Fn (µn ) . Furthermore, contiguity immediately implies that the other conditions for a local perturba-

tion are satisfied, since any object which converges in probability under Fn (0) must, by the definition of

contiguity, converge in probability to the same limit under Fn (µn ) .



    Returning to proposition 3, that {µn }∞
                                          n=1 is a local perturbation follows from lemma 2. The expression
        
for E θ̃ then follows by proposition 1.




                                                      34
                                             R EFERENCES
Aguiar, Mark, and Erik Hurst, “Life-cycle Prices and Production,” American Economic Review, 97 (2007),

       1533–1559.

——, “Deconstructing Life Cycle Expenditure,” Journal of Political Economy, 121 (2013), 437–492.

Altonji, Joseph G., Todd E. Elder, and Christopher R. Taber, “An Evaluation of Instrumental Variable Strate-

       gies for Estimating the Effects of Catholic Schooling,” Journal of Human Resources, 40 (2005),

       791–821.

Angrist, Joshua D., and Jörn-Steffen Pischke, “The Credibility Revolution in Empirical Economics: How

       Better Research Design Is Taking the Con out of Econometrics,” Journal of Economic Perspectives,

       24 (2010), 3–30.

Berger, David, and Joseph Vavra, “Consumption Dynamics During Recessions,” Econometrica, 83 (2015),

       101–154.

Berkowitz, Daniel, Megmet Caner, and Ying Fang, “Are ‘Nearly Exogenous Instruments’ Reliable?,” Eco-

       nomics Letters, 101 (2008), 20–23.

Berry, Steven, James Levinsohn, and Ariel Pakes, “Automobile Prices in Market Equilibrium,” Economet-

       rica, 63 (1995), 841–890.

——, “Voluntary Export Restraints on Automobiles: Evaluating a Trade Policy,” American Economic Re-

       view, 89 (1999), 400–430.

——, “Differentiated Products Demand Systems from a Combination of Micro and Macro Data: The New

       Car Market,” Journal of Political Economy, 112 (2004), 68–105.

Chen, Xiaohong, Elie Tamer, and Alexander Torgovitsky, “Sensitivity Analysis in Semiparameteric Likeli-

       hood Models,” Cowles Foundation Discussion Paper No. 1836, 2011.

Conley, Timothy G., Christian B. Hansen, and Peter E. Rossi, “Plausibly Exogenous,” Review of Economics

       and Statistics, 94 (2012), 260–272.

Crawford, Gregory S., and Ali Yurukoglu, “The Welfare Effects of Bundling in Multichannel Television

       Markets,” American Economic Review, 102 (2012), 643–685.

Christiano, Lawrence J., Martin Eichenbaum, and Charles L. Evans, “Nominal Rigidities and the Dynamic

       Effects of a Shock to Monetary Policy,” Journal of Political Economy, 113 (2005), 1–45.

DellaVigna, Stefano, John A. List, and Ulrike Malmendier, “Testing for Altruism and Social Pressure in


                                                    35
       Charitable Giving,” Quarterly Journal of Economics, 127 (2012), 1–56.

Draganska, Michaela, Michael Mazzeo, and Katja Seim, “Beyond Plain Vanilla: Modeling Joint Product

       Assortment and Pricing Decisions,” Quantitative Marketing and Economics, 7 (2009), 105–146.

Einav, Liran, Amy Finkelstein, and Paul Schrimpf, “The Response of Drug Expenditures to Non-linear

       Contract Design: Evidence from Medicare Part D,” Quarterly Journal of Economics, 130 (2015),

       841–899.

Fan, Ying, “Ownership Consolidation and Product Characteristics: A Study of the US Daily Newspaper

       Market,” American Economic Review, 103 (2013), 1598–1628.

Gentzkow, Matthew, Jesse M. Shapiro, and Michael Sinkinson, “Competition and Ideological Diversity:

       Historical Evidence from US Newspapers,” American Economic Review, 104 (2014), 3073–3114.

Glad, Ingrid, and Nils Lid Hjort, “Model Uncertainty First, not Afterwards,” Statistical Science, 31 (2016),

       490–494.

Goettler, Ronald L., and Brett R. Gordon, “Does AMD Spur Intel to Innovate More?,” Journal of Political

       Economy, 119 (2011), 1141–1200.

Gourieroux, Christian S., Alain Monfort, and Eric Renault, “Indirect Inference,” Journal of Applied Econo-

       metrics, 8 (1993), S85–S118.

Gourinchas, Pierre-Olivier, and Jonathan A. Parker, “Consumption Over the Life Cycle,” Econometrica, 70

       (2002), 47–89.

Guggenberger, Patrik, “On the Asymptotic Size Distortion of Tests When Instruments Locally Violate the

       Exogeneity Assumption,” Econometric Theory, 28 (2012), 387–421.

Heckman, James J, “Building Bridges Between Structural and Program Evaluation Approaches to Evaluat-

       ing Policy,” Journal of Economic Literature, 48 (2010), 356–398.

Huber, Peter J., and Elvezio M. Ronchetti, Robust Statistics (Hoboken, NJ: John Wiley & Sons, Inc., 2009).

Kaplan, Greg, “Moving Back Home: Insurance Against Labor Market Risk,” Journal of Political Economy,

       120 (2012), 446–512.

Keane, Michael P., “Structural vs. Atheoretic Approaches to Econometrics,” Journal of Econometrics, 156

       (2010), 3–20.

Kitamura, Yuichi, Taisuke Otsu, and Kirill Evdokimov, “Robustness, Infinitesimal Neighborhoods, and

       Moment Restrictions,” Econometrica, 81 (2013), 1185–1201.

Kristensen, Dennis, and Bernard Salanié, “Higher Order Properties of Approximate Estimators,” Journal of

                                                    36
       Econometrics, 198 (2017), 189–208.

Leamer, Edward E., “Let’s Take the Con Out of Econometrics,” American Economic Review, 73 (1983),

       31–43.

Levitt, Steven D., John A. List, and Chad Syverson, “Toward an Understanding of Learning by Doing:

       Evidence from an Automobile Assembly Plant,” Journal of Political Economy, 121 (2013), 643–681.

Matzkin, Rosa L., “Nonparametric Identification in Structural Economic Models,” Annual Review of Eco-

       nomics, 5 (2013), 457–486.

Morten, Melanie, “Temporary Migration and Endogenous Risk Sharing in Village India,” NBER Working

       Paper No. 22159, 2016.

Müller, Ulrich K., “Measuring Prior Sensitivity and Prior Informativeness in Large Bayesian Models,” Jour-

       nal of Monetary Economics, 59 (2012), 581–597.

Nevo, Aviv, “Mergers with Differentiated Products: The Case of the Ready-to-Eat Cereal Industry,” RAND

       Journal of Economics, 31 (2000), 395–421.

Nevo, Aviv, and Adam M. Rosen, “Identification with Imperfect Instruments,” Review of Economics and

       Statistics, 94 (2012), 659–671.

Newey, Whitney K., “Generalized Method of Moments Specification Testing,” Journal of Econometrics, 29

       (1985), 229–256.

Newey, Whitney K., and Daniel McFadden, “Large Sample Estimation and Hypothesis Testing,” in Hand-

       book of Econometrics, vol. 4, R. Engle and D. McFadden, eds. (Amsterdam: Elsevier, North-

       Holland, 1994), 2111–2245.

Nikolov, Boris, and Toni M. Whited, “Agency Conflicts and Cash: Estimates from a Dynamic Model,”

       Journal of Finance, 69 (2014), 1883–1921.

Petrin, Amil, “Quantifying the Benefits of New Products: The Case of the Minivan,” Journal of Political

       Economy, 110 (2002), 705–729.

Saltelli, Andrea, Marco Ratto, Terry Andres, Francesca Campolongo, Jessica Cariboni, Debora Gatelli,

       Michaela Saisana, and Stefano Tarantola, Global Sensitivity Analysis: The Primer (West Sussex,

       UK: John Wiley & Sons Ltd., 2008).

Smith, Anthony A., “Estimating Nonlinear Time-Series Models using Simulated Vector Autoregressions,”

       Journal of Applied Econometrics, 8 (1993), S63–S84.

Sobol, Ilya M., “Sensitivity Estimates for Nonlinear Mathematical Models,” Mathematical Modeling and

                                                   37
       Computational Experiments, 1 (1993), 407–414.

van der Vaart, Aad W., Asymptotic Statistics, (Cambridge, UK: Cambridge University Press, 1998).

Voena, Alessandra, “Yours, Mine and Ours: Do Divorce Laws Affect the Intertemporal Behavior of Married

       Couples?,” American Economic Review, 105 (2015), 2295–2332.

Wollmann, Thomas, “Trucks Without Bailouts: Equilibrium Product Characteristics for Commercial Vehi-

       cles,” Working Paper, 2016.




                                                  38
                                                   Table I
      Asymptotic bias of preference parameters in Gourinchas and Parker (2002) under particular local
                                   violations of identifying assumptions

                                                                                Bias in                   Bias in
                                                                            discount factor       coefficient of relative
                                                                                                      risk aversion

       Consumption and leisure are nonseparable:
           Shopping intensity changes with age                                  0.0041                    -0.2913
           Exclude 5% of work-related expenses                                  -0.0073                   0.3997

       Consumption includes interhousehold transfers:
           Consumption at early ages includes transfers in                      0.0107                    -0.6022
           Consumption at later ages includes transfers out                     -0.0041                   0.2673
           Include both early and late transfers                                0.0065                    -0.3349

       Baseline estimate                                                         0.9574                   0.6526
Note: The table reports the estimated first-order asymptotic bias in Gourinchas and Parker’s (2002) published parameter values
under various forms of misspecification, as implied by proposition 2. Our calculations use the plug-in estimator of sensitivity. We
consider perturbations under which measured log consumption overstates true log consumption at each age e by an amount equal to
√ηe
  n
    . In the row labeled “shopping intensity changes with age,” ηe is chosen to match the age-specific log price increment estimated
in Aguiar and Hurst (2007, column 1 of Table I). Aguiar and Hurst (2007) report these increments for ages 30 and above. We
set increments for younger ages to zero. In the row labeled “exclude 5% of work-related expenses,” ηe is chosen so that the true
consumption at each age e is overstated by five percent of work-related expenses as calculated in Aguiar and Hurst (2013, Table 1
and Figure 2a). In the row labeled “consumption at early ages includes transfers in,” ηe is chosen so that true average consumption
prior to age 30 is one percent below average income. In the row labeled “consumption at later ages includes transfers out,” ηe is
chosen so that from age 50 through age 65 consumption is overstated by a constant annual amount whose lifetime sum is equal to
the total gap between consumption and income over ages 26 through 29. In the row labeled “include both early and late transfers,”
ηe combines the early age and later age transfers.




                                                                39
                                               Table II
    Asymptotic bias of average markup in BLP (1995) under particular local violations of the exclusion
                                             restrictions

                                                                                                     Bias in
                                                                                                 average markup

               Violation of supply-side exclusion restrictions:
                    Removing own car increases average marginal cost                                  -0.1731
                    by 1% of average price

                     Removing rival’s car increases average marginal cost                              0.2095
                     by 1% of average price

               Violation of demand-side exclusion restrictions:
                    Removing own car decreases average willingness to pay                             -0.1277
                    by 1% of average price

                     Removing rival’s car decreases average willingness to pay                         0.2515
                     by 1% of average price

               Baseline estimate                                                                       0.3272
Note: The average markup is the average ratio of price minus marginal cost to price across all vehicles. The table reports the esti-
mated first-order asymptotic bias in the parameter estimates from BLP’s (1995) estimator under various forms of misspecification,
as implied by proposition 3 under the setup inequation (4). Our calculations use the plug-in estimator of sensitivity. In the first
                                             P
two rows, we set Vdi = 0 and Vsi = −0.01 mc     Numi , where Numi is the number of cars produced by the [same firm / other firms]
as car i in the respective year, mc is the sales-weighted mean marginal cost over all cars
                                                                                          i in
                                                                                              1980, and P is the sales-weighted
mean price over all cars i in 1980. In the second two rows, we set Vsi = 0 and Vdi = 0.01 KP Numi , where Kξ is the derivative of
                                                                                             ξ
willingness to pay with respect to ξ for a 1980 household with mean income.




                                                                40
                                                     Flyer (−)
                                   Opens door     No flyer (+)
                                                   Opt out (+)


                                      Opts out     Opt out (+)


                                                     Flyer (+)
                                     Gives any    No flyer (+)
                                                   Opt out (+)


                                                     Flyer (−)
                                  Gives $0−10     No flyer (−)
                                                   Opt out (−)


                                                     Flyer (+)
                                    Gives $10     No flyer (+)
                                                   Opt out (+)


                                                     Flyer (−)
                                Gives $10−20      No flyer (−)
                                                   Opt out (−)


                                                     Flyer (−)
                                Gives $20−50      No flyer (−)
                                                   Opt out (−)


                                                     Flyer (−)
                                   Gives $50+     No flyer (−)
                                                   Opt out (−)



                                                                 0     .05           .1
                                                                     Sensitivity

                                                    Key moments                    Other moments
                                                  Figure I
 Sensitivity of ECU social pressure cost in DellaVigna, List, and Malmendier (2012) to local violations of
                                          identifying assumptions
         Notes: The plot shows one-hundredth of the absolute value of plug-in sensitivity of the social pressure cost of
soliciting a donation for the East Carolina Hazard Center (ECU) with respect to the vector of estimation moments, with
the sign of sensitivity in parentheses. Each moment is the observed probability of a response for the given treatment
group. The magnitude of the plotted values can be interpreted as the sensitivity of the estimated social pressure cost
to beliefs about the amount of misspecification of each moment, expressed in percentage points. While sensitivity
is computed with respect to the complete set of estimation moments, the plot only shows those corresponding to the
ECU treatment. The leftmost axis labels in larger font describe the response; the axis labels in smaller font describe
the treatment group. Filled circles correspond to moments that DellaVigna, List, and Malmendier (2012) highlight as
important for the parameter.




                                                             41
                                       0        .002    .008
                                                          .004      .006
                                       Bias in estimated social pressure




42
                                                        −.002
                                                                           0   5                10                15               20
                                                                                   Gift size of model violators


                                                                            Figure II
                           Sensitivity of ECU social pressure cost in DellaVigna, List, and Malmendier (2012) to exogenous gift levels
             Notes: The plot shows the estimated first-order asymptotic bias in DellaVigna, List, and Malmendier’s (2012) published estimate of the per-dollar social
     pressure cost of not giving to the East Carolina Hazard Center (ECU) under various
                                                                                      levels of misspecification, as implied by proposition 2. Our calculations use the
                                                                                          0.01                                                         √ give with the
     plug-in estimator of sensitivity. We consider perturbations under which a share 1 − √n of households follow the paper’s model and a share 0.01      n
                                                                                        ˜
     same probabilities as their model-obeying counterparts but always give an amount d conditional on giving. First-order asymptotic bias is computed for values of d˜
     in $0.20 increments from $0 to $20 and interpolated between these increments. Values of d˜ are shown on the x axis.
                                                        Panel A: Discount factor




                               .06
                               .04.02
                        Sensitivity
                        0      −.02
                               −.04




                                        26   29   32   35   38   41   44 47   50   53   56   59   62   65
                                                                        Age


                                             Panel B: Coefficient of relative risk aversion
                               4
                               2
                        Sensitivity
                           0   −2
                               −4




                                        26   29   32   35   38   41   44 47   50   53   56   59   62   65
                                                                        Age


                                                 Figure III
     Sensitivity of select parameters in Gourinchas and Parker (2002) to local violations of identifying
                                                assumptions
        Notes: Each plot shows the plug-in sensitivity of the parameter named in the plot title with respect to the full
vector of estimation moments, which are the mean adjusted log of consumption levels at each age. The y-axis values
can be interpreted as the sensitivity of the estimated parameter to beliefs about the amount of misspecification of each
moment, expressed in units of mean log consumption.




                                                                      43
                                    Demand−side instruments                                                       Supply−side instruments

                                                                                                   This car                       Miles/dollar (+)
                                                        # Cars (−)


                                      Sum of horsepower/weight (−)
                    Other cars
                  by same firm                                                                                                         # Cars (+)
                                         # Cars w/ AC standard (−)
                                                                                                                Sum of log horsepower/weight (−)

                                                                                                 Other cars            # Cars w/ AC standard (+)
                                            Sum of miles/dollar (−)
                                                                                               by same firm           Sum of log miles/gallon (+)

                                                                                                                              Sum of log size (+)

                                                                                                                           Sum of time trend (+)



                                                        # Cars (+)

                                                                                                                                       # Cars (−)
                                      Sum of horsepower/weight (+)
                         Cars by                                                                                Sum of log horsepower/weight (+)
                      rival firms                                                                    Cars by




44
                                         # Cars w/ AC standard (−)                                                     # Cars w/ AC standard (−)
                                                                                                  rival firms
                                                                                                                      Sum of log miles/gallon (−)
                                            Sum of miles/dollar (+)
                                                                                                                              Sum of log size (−)


                                                                      0   .005    .01   .015                                                         0   .005    .01   .015
                                                                          Sensitivity                                                                    Sensitivity




                                                                           Figure IV
                                    Sensitivity of average markup in BLP (1995) to local violations of the exclusion restrictions
              Notes: The plot shows the absolute value of the plug-in
                                                                         for CΛΩ̃ZZ K, where C is the gradient of the average markup with respect to model parameters, Λ
                                                                            0 )
                                                                   E(Z di Zdi       0
     is sensitivity of parameters to estimation moments, Ω̃ =                                 , and K is a diagonal matrix of normalizing constants. The sign of CΛΩ̃ZZ K is
                                                                         0      E(Zsi Zsi0 )
     shown in parentheses. For the demand-side instruments on the left, the diagonal elements of K are chosen so that the plotted values can be interpreted as sensitivity
     of the markup to beliefs about the effect of a one standard deviation increase in each instrument on the willingness-to-pay of a household with mean income in
     1980, expressed as a percent of the sales-weighted mean price over all cars i in 1980. For the supply-side instruments on the right, the diagonal elements of K are
     chosen so that the plotted values can be interpreted as sensitivity of the markup to beliefs about the effect of a one standard deviation increase in each instrument
     on the marginal cost of a car with the sales-weighted average marginal cost in 1980, expressed as a percent of the sales-weighted mean price over all cars i in 1980.
     While sensitivity is computed with respect to the complete set of estimation moments, the plot only shows those corresponding to the excluded instruments (those
     that do not enter the utility or marginal cost equations directly).
