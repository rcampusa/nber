                                  NBER WORKING PAPER SERIES




                          COMPETITIVE RISK SHARING CONTRACTS
                             WITH ONE-SIDED COMMITMENT

                                               Dirk Krueger
                                               Harald Uhlig

                                          Working Paper 10135
                                  http://www.nber.org/papers/w10135


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                     December 2003




We thank Fernando Alvarez, Hugo Hopenhayn, Urban Jermann, Albert Marcet, James Malcomson, Tom
Sargent, Klaus Schmidt, Vivian Yue, members of Tom Sargent’s reading group, participants at the ESSET
2002 meeting in Gerzensee and the 2003 CFS contracts conference in Frankfurt for helpful comments. All
remaining errors are our own. The research by Harald Uhlig has been funded by the SFB 373 at Humboldt
University Berlin and Dirk Krueger gratefully acknowledges financial support from the NSF under grant
SES-0004376. The views expressed herein are those of the authors and not necessarily those of the National
Bureau of Economic Research.

©2003 by Dirk Krueger and Harald Uhlig. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including © notice, is given
to the source.
Competitive Risk Sharing Contracts with One-Sided Commitment
Dirk Krueger and Harald Uhlig
NBER Working Paper No. 10135
December 2003
JEL No. G22, E21, D11, D91

                                            ABSTRACT

This paper analyzes dynamic equilibrium risk sharing contracts between profit-maximizing

intermediaries and a large pool of ex-ante identical agents that face idiosyncratic income uncertainty

that makes them heterogeneous ex-post. In any given period, after having observed her income, the

agent can walk away from the contract, while the intermediary cannot, i.e. there is one-sided

commitment. We consider the extreme scenario that the agents face no costs to walking away, and

can sign up with any competing intermediary without any reputational losses. Contrary to intuition,

we demonstrate that not only autarky, but also partial and full insurance can obtain, depending on

the relative patience of agents and financial intermediaries. Insurance can be provided because in

an equilibrium contract an up-front payment effectively locks in the agent with an intermediary. We

then show that our contract economy is equivalent to a consumption-savings economy with one-

period Arrow securities and a short-sale constraint, similar to Bulow and Rogoff (1989). From this

equivalence and our characterization of dynamic contracts it immediately follows that without cost

of switching financial intermediaries debt contracts are not sustainable, even though a risk allocation

superior to autarky can be achieved.

Dirk Krueger                                           Harald Uhlig
Department of Economics                                Humboldt University
University of Pennsylvania                             Wirtschaftswissenschaftliche Fakultät
Philadelphia, PA 19104                                 Spandauer Str. 1
and NBER                                               10178 Berlin
dkrueger@econ.upenn.edu                                Germany
                                                       uhlig@wiwi.hu-berlin.de
1      Introduction
This paper analyzes dynamic equilibrium risk sharing contracts between profit-
maximizing financial intermediaries (which we also shall call principals) and
agents that face idiosyncratic income uncertainty. In any given period, the
agent can walk away from the contract and sign with a competing principal,
while the principal itself cannot, i.e. there is one-sided commitment.
    The paper is motivated by a common feature of a number of long-term
relationships between principals and agents such as those between firms and
workers, between international lenders and borrowing countries, between car or
health insurers and their clients, or between countries and their citizens. They
all have in common that the agents have the option to quit the relationship
and engage in a relationship with a competing party. Quitting and turning to
a competing party involves two types of costs. First, there are direct costs like
the loss of relationship-specific human capital or giving up some agreed-upon
collateral or time delays between the request to quit and the legal dissolution
of the contract. Second, there is the indirect cost of losing the relationship
capital (“goodwill”), which may have been built up over time due to past good
behavior, and cannot be taken along.
    We analyze the relationships listed above from the perspective of providing
insurance against unfavorable agent-specific income shocks. In this paper, we
take the most extreme perspective and study whether and to what degree rela-
tionship capital alone can support risk-sharing arrangements, when the income
process is perfectly observable, when there is perfect competition between the
intermediaries and no costs of switching for the agent.
    Without the ability of agents to move between competing principals, the
existing “endogenous” incomplete markets literature (e.g. see Atkeson (1991),
Kehoe and Levine (1993, 2001), Kocherlakota (1996), Krueger (1999), Krueger
and Perri (1999), Alvarez and Jermann (2000, 2001) or Ligon, Thomas and Wor-
rall (2000)) has demonstrated that goodwill can be built up and that substantial
risk sharing may be achieved. In this literature it is commonly assumed that the
only alternative to the risk sharing contract the agent has available is financial
autarky, and the threat of autarky sustains the risk sharing arrangement.
    In this paper we endogenize the outside option of agents as being determined
by the best possible deal that can be obtained from a competing principal. With
such competition, intuition would suggest that in equilibrium no risk sharing is
feasible and the resulting allocation is autarky. Competition between interme-
diaries dictates that the expected net present value of a contract for a newly
arrived agent equals the expected net present value of her income stream. Since
for all possible income realization the continuation value from the long-term risk
sharing contract has to be at least as high as the outside option, the cost for
the continuation contract is at least as high as the net present value of the indi-
vidual’s income process upon continuation. Since the intermediary wants to at
least break even, he will not oﬀer the agent anything more for consumption than
her current income: he would be unable to recuperate this loss later on. There
is also no point in oﬀering less because of competition between intermediaries.


                                        2
This implies that the unique equilibrium allocation is the autarkic allocation.
Somewhat surprisingly, perhaps, it turns out that this intuition is flawed.
    We now summarize our main results, which depend crucially on the relative
size of the time discount factor of the agent and the time discount factor of the
principal (the inverse of which can be interpreted as the gross real interest rate in
our economy). If principals and agents discount the future at the same rate, the
equilibrium dynamic risk sharing contract necessarily entails full consumption
insurance for the agent in the long run. If the intermediary is somewhat more
patient than the agent (that is, for lower interest rates), partial insurance will
result. Only if the intermediary is very patient and thus interest rates are
extremely low, the intuitive autarky result obtains. What happens in the other
cases is the following. Assume for the sake of the argument that income is
iid. The agent with the strongest incentive to leave the current contract is the
agent with high income. A comparatively impatient principal will not mind
to extract some resources from this agent now against generous promises of
insurance later on. As the agent ages on the contract, she turns into a liability
for the intermediary: the intermediary has received an initial up-front payment,
and is now liable to let the agent consume more than the net present value
of her future income. The intermediary, at this stage of the contract, has an
incentive to default, but is not allowed to do so by our crucial assumption of
one-sided commitment. The agent, on the other hand, will not want to walk
away (even though she could), since she would be worse oﬀ at the beginning of
any new contract, in which she again is asked to deliver an up-front payment.
That is, the pre-payment feature of the contract, sunk after the contact has
been “signed” provides the necessary glue between intermediaries and agents
that enables some risk-sharing to occur.
    We then show that our economy with competitive contracts is equivalent
to a consumption-savings problem with one-period Arrow securities and state-
dependent short-sale constraints, as in Alvarez and Jermann (2000). Without
any costs of moving between principals, the associated short-sale constraint in
the consumption-savings economy rules out borrowing altogether. This result
is very similar in spirit to Bulow and Rogoﬀ’s (1989) no-lending result in the
context of a model of sovereign debt. Nonetheless, in their as well as in our envi-
ronment some insurance may be possible against payment (opening an account
with positive balance with an intermediary) “up front”. The characterization of
the optimal contract is also reminiscent of observed features e.g. of health in-
surance or car insurance: such insurance can typically only be obtained (or only
be obtained for ”reasonable” premia), if the agent is currently healthy or the
driving record is currently clean: the insurance continues, if conditions worsen.
    The paper at hand builds on the recent endogenous incomplete markets lit-
erature with ex-post heterogeneous agents, as discussed above. The paper most
closely related to our work is Phelan (1995), who also considers an environment
where agents can leave the current contract and sign up with another princi-
pal. Phelan, too, shows that autarky will not result. However, he assumes
that agents can only leave the contract at the beginning of the period, without
knowledge of their period income: this amounts to a one-period waiting time for

                                         3
exiting the contract. In further contrast to our paper, Phelan assumes that the
principal does not observe the endowment of the agent, and thus needs to elicit
it from the agent. In fact, if endowments were observable in his environment,
full insurance would prevail: there would be no reason for an agent to exit a
full insurance contract before knowing her endowment. In our environment,
the agent may exit after she learns her endowments and would surely leave if
required to make large payments without future compensation.
    One paper which also endogenizes the default option is Lustig (2001). His
model extends the environment by Alvarez and Jermann (2000), in which a small
number of agents with income risk enter long-term contracts with endogenous
borrowing constraints, to incorporate the trading of a risky Lucas tree. Lustig’s
innovation is to assume that agents lose their share of the tree upon defaulting
on their long-term contract, but are allowed to re-enter a long-term contractual
relationship in the next period rather than being forced into autarky. He thereby
provides a model in which all asset trades are fully collateralized, and examines
the asset pricing consequences. Our assumption of allowing agents to re-enter
contractual relationships is similar to Lustig’s. His work, however, focuses on
asset pricing consequences in the presence of aggregate uncertainty, when the
number of participating agents is small, while our paper studies the allocational
consequences of long-term contracts with the option of re-contracting elsewhere,
assuming a large number of agents and no aggregate uncertainty. Second, while
a durable asset is a necessary ingredient in his model, the stark implications in
our paper derive from its absence.
    Another literature that studies consumption insurance with long-term con-
tracts derives incomplete risk-sharing from the presence of private information
and moral hazard. In this literature it is usually assumed that both agents and
competitive principals can commit to the long-term contract. Competition of
principals for agents takes place only at the first period, with no re-contracting
allowed at future dates. Green (1987) oﬀers a partial equilibrium treatment of
such an economy, while Atkeson and Lucas (1992, 1995) extend the analysis to
general equilibrium, Atkeson (1991) applies such a model to sovereign lending,
Phelan (1994) incorporates aggregate shocks and Malcomson and Spinnewyn
(1988) study the importance of commitment to long-term contracts in achiev-
ing eﬃcient allocations in a dynamic moral hazard environment. Whether a
sequence of short-term contracts is able to attain outcomes as good as long-term
contracts under private information is also the central point of investigation in
the work of Fudenberg et al. (1990) and Rey and Salanie (1990, 1996).
    One area of applications in which the assumption of one- or two sided lim-
ited commitment is particularly natural are dynamic employer-worker relation-
ships. Consequently there exists a rich literature that characterizes (optimal)
wage contracts between employers and workers. Important examples include
Harris and Holmstrom (1982) and Thomas and Worrall (1988) and Beaudry
and DiNardo (1991); a comprehensive review of this literature in provided by
Malcomson (1999). Our work is related to this literature since our optimal risk-
sharing contracts derived below will share some qualitative features with wage
contracts studied in this literature, in particular Harris and Holmstrom (1982).

                                        4
    The structure of the paper is as follows. Section 2 describes the model and
defines equilibrium. Section 3 provides the analysis. After proving existence of
equilibrium, we argue in subsection 3.3 that, depending on the relationship be-
tween the discount factor of agents and the interest rate, either no, full or partial
risk sharing is possible. The following subsections then analyze these cases in
turn: subsection 3.4 provides the upper bound for the interest rate which allows
for the autarky result. In section 3.5 we provide a complete characterization of
the contract in the case of iid income and βR = 1, resulting in full risk sharing
and constant consumption above average income in the limit. For the iid two-
income case, we also provide a complete characterization of the partial insurance
equilibrium for βR < 1 in subsection 3.6. Finally, in subsection 3.7 we show
that there is a general duality between the long-term contracts economy con-
sidered in this paper and a consumption-savings problem with state-contingent
one-period Arrow securities and borrowing constraints. The case without mov-
ing costs corresponds to strict short sales constraints, yielding the Bulow-Rogoﬀ
(1989) result as a special case. We also show that one can reinterpret compe-
tition with other principals as a requirement of renegotiation-proof contracts.
Section 4 concludes. A sequential formulation of the game between agents and
principals can be found in appendix A. A separate appendix contains details of
some of the longer proofs in the main text.1


2      The Model
2.1      The Environment
The economy consists of a continuum of principals j ∈ [0, 1], each initially
associated with a measure
                      P        µj ≥ 0 of atomless agents. The total population of
atomless “agents” is j µj = 1. We denote a generic agent by i. Each individual
i has stochastic endowment process {yt,i }∞     t=0 of the single consumption good
with finite support Y = {y1 , . . . ym } and transition matrix π. We assume that the
set Y is ordered in that yj−1 < yj for all j = 2, . . . , m. Endowment realizations
are publicly observable. Let Π denote the stationary P      measure associated with
π, assumed to be unique. Also assume that              y yΠ(y) = 1 and that initial
distribution over endowments at each principal at date 0 is given by Π. Agent
value consumption according to utility function
                                                  "∞             #
                                                   X
                               ∞                         t
                     U ((ct,i )t=0 ) = (1 − β)E0       β u(ct,i )                (1)
                                                      t=0

where u : R+ → D is the period utility function, with range D, and where
0 < β < 1. We assume that u(c) is continuously diﬀerentiable, concave and
strictly increasing in c and satisfies the Inada conditions.
    A principal j has no endowment of the consumption good and consumes γ t,j
in period t. We explicitly allow consumption or “profits” of the principal, γ t,j ,
    1 This   appendix is available at www.econ.upenn.edu/~dkrueger/harapp.pdf


                                              5
to be negative. This also avoids ever having to worry about bankruptcy of a
principal. The principal is risk neutral and values consumption according to
                                       µ      ¶    "∞        #
                         ¡           ¢      1        X γ t,j
                    (P )          ∞
                  U       (γ t,j )t=0 = 1 −     E0                          (2)
                                            R        t=0
                                                         Rt

              1
where 0 < R      < 1 is the discount factor of the principal and an exogenous
parameter of the model, which can also be interpreted as the exogenous gross
interest rate. We allow this interest rate to diﬀer from the discount factor β of
the agent. The normalization with the factor (1 − 1/R) has the advantage, that
a constant γ t,j ≡ γ results in U (P ) = γ, so that both are expressed in the same
units; this simplifies some of the expressions below (a similar argument justifies
the normalization of the agents’ utility function by (1 − β)). One may interpret
U (P ) as the net present value of a stream of profits γ t,j discounted at some
given market return R, assuming that goods can be traded across principals and
possibly some further markets, although we shall not explore this interpretation
further to keep matters simple.2
    For each principal the resource constraint posits that

                                    Yt,j = Ct,j + γ t,j                                  (3)
             R
where Yt,j = R yt,i µj (di) is total endowment of agents associated with principal
j and Ct,j = ct,i µj (di) is total consumption of these agents.

2.2     Market Structure
In this economy agents wish to obtain insurance against stochastic endowment
fluctuations from risk neutral principals. We want to characterize long-term
consumption insurance contracts that competitive profit-maximizing principals
oﬀer to agents that cannot commit to honor these contracts. After the realiza-
tion of income yt,i , but before consumption takes place, an agent is free to leave
the principal and join a competitor. She takes the current income realization
with her. We assume that moving is ”painful” to the agent, inflicting a disutility
ν(yt,i ) ≥ 0. For most of the paper, we will concentrate on the case ν(.) ≡ 0.
Agents never revisit a principal they once left. A principal has the ability to
commit to long-term contracts with his agents, but has no ability to reach them
once they have left for a competitor. In short, this is an environment with
one-sided commitment. Section 3.7 demonstrates that the same consumption
allocation as with long-term contracts arises if agents are allowed to trade one-
period state-contingent savings-loan contracts, subject to judiciously specified
short-sale constraints. In that section we also discuss the connection between
our long-term competitive contracts and renegotiation-proof contracts in a bi-
lateral bargaining game between a single principal and agent.
   2 For instance, one may re-interpret R as the world gross interest rate in an open economy

version of this model.




                                             6
    We now formulate a game of competition between principals, oﬀering con-
sumption contracts to potential movers and to agents already with the principal.
We proceed directly to the recursive formulation of each individual principal’s
optimization problem, and then to define a symmetric stationary recursive equi-
librium. We thereby skip the step of first describing the game as unfolding
sequentially; for completeness, that formulation can be found in appendix A.

2.3      Recursive Equilibrium
An agent enters the period with current state (y, w), describing her current
income y and the expected discounted utility w from the contract she had been
promised by the principal last period. The fact that utility promises w and the
current shock y form a suﬃcient description of an agent’s state, in the sense
that the resulting policy functions of the recursive problem induce consumption
and investment sequences that solve the corresponding sequential optimization
problem, has been demonstrated by Atkeson and Lucas (1992) for a private
information economy and adapted to the environment presented here by Krueger
(1999). Both papers borrow the idea of promised utility as a state variable from
Abreu, Pierce and Stacchetti (1986) and Spear and Srivastava (1987).
    The objective of the principal is to maximize the contribution to his own
utility (“profit”) from the contract with a particular agent. He is constrained
to deliver the utility promise w by giving the agent current consumption c
and utility promises from next period onwards, contingent on next period’s
income realization, w0 (y 0 ). If the principal promises less utility from tomorrow
onward in a particular income realization y 0 than a competing principal, the
agent will leave the location, and the principal makes zero profits from the
contract with that particular agent from then on.3 We denote the utility promise
by competing principals as U Out (y 0 ), which the principal takes as given (but
which is determined in equilibrium). The recursive problem of a principal can
be stated as
                                    µ       ¶
                                          1
  P (y, w) =          max             1−        (y − c) +                                          (4)
                 c,{w0 (y 0 )}y0 ∈Y      R
                                       ½
                  1 X                    P (y 0 , w0 (y 0 )) if w0 (y 0 ) ≥ U Out (y 0 ) − ν(y 0 )
                             π(y 0 |y)                                                             (5)
                  R 0                             0          if w0 (y 0 ) < U Out (y 0 ) − ν(y 0 )
                     y ∈Y
                                        X
    s.t. w = (1 − β)u(c) + β                π(y 0 |y)w0 (y 0 )                                     (6)
                                        y0 ∈Y

where ν(y 0 ) is the ”pain” of moving to a competing principal.
    The promise keeping constraint (6) says that the principal delivers lifetime
utility w to an agent which was promised w, either by allocating current or future
   3 If the agent is indiﬀerent, we make the tie-breaking assumption that the agent stays

with the current principal. Note that an agent always finds it preferable to sign up with
a competing intermediary rather than live in financial autarky (even if she could save in a
risk-free technology with gross return R) because a financial intermediary oﬀers contracts that
smooth consumpion across states and not only across time.


                                                  7
utility to the agent. This constraint of the principal makes our assumption of
one-sided commitment explicit: in contrast to the agents principals are assumed
to be able to commit to the long-term relationship. Finally, that continuation
profits split into two parts is due to the fact that, in order to retain an agent,
the principal has to guarantee her at least as much continuation utility, in any
contingency, as the agent would obtain from a competing principal.
    Let us now consider what our assumption of competition among principals
amounts to. For a principal it only makes sense to attract a new agent if the
profit from this new contract is non-negative. On the other hand, suppose that
an agent could be attracted with a contract generating positive profit. Then
another principal could make a profit by oﬀering a slightly better contract.
Hence, perfect competition between principals implies that the profit from a
new contract exactly equals zero and that the utility promised to the newcomer
is the highest utility promise achievable subject to this constraint. We require
the result of this argument as an equilibrium condition by imposing that U Out (y)
equals the highest lifetime utility w satisfying P (y, w) = 0.
    Given this condition we can simplify the dynamic programming problem
above, as the principal is always indiﬀerent between letting an agent go by
oﬀering w0 (y 0 ) < U Out (y 0 ) − ν(y 0 ) or letting him stay by oﬀering him exactly
w0 (y 0 ) = U Out (y 0 ) − ν(y 0 ) and making zero expected profits from tomorrow
onwards. We restrict attention to the latter case.4 The dynamic programming
problem (4) can then be restated as a cost minimization problem
                                         µ       ¶
                                               1        1 X
         V (y, w) =            min        1−       c+          π(y 0 |y)V (y 0 , w0 (y 0 )) (7)
                             0  0
                         c,{w (y )}y0 ∈Y      R        R 0
                                                          y ∈Y
                                            X
                                                    0     0 0
           s.t. w = (1 − β)u(c) + β              π(y |y)w (y )                              (8)
                                                y 0 ∈Y
           0   0           Out
         w (y ) ≥ U              (y ) − ν(y ) for all y 0 ∈ Y
                                   0        0
                                                                                                (9)

where (9) now capture the constraints that competition impose on the principal
and the argument above that it is never strictly beneficial for a principal to lose
an agent to a competing principal.
    With this recursive formulation of the principal’s problem we can now re-
state the zero-profit condition. Let a(y) be the (normalized) present discounted
value of the endowment stream discounted at interest rate R and given current
endowment y. Hence a(y) is defined recursively as
                             µ       ¶
                                   1       1 X
                      a(y) = 1 −       y+         π(y 0 |y)a(y)               (10)
                                   R       R 0
                                                         y

One can read a(y) as the human wealth of an agent with current income y,
as evaluated by the principal. Perfect competition implies that the normalized
   4 If ν(y) = 0 for all y this restriction is without loss of generality, since an agent starts the

next period with promise U Out (y0 ), independent of whether she moved or not.



                                                    8
expected net present value of consumption spent on this agent exactly equals
her human wealth a(y), i.e.

                          V (y, U Out (y)) = a(y) for all y ∈ Y                         (11)

and that the utility U Out (y) promised to a newcomer is the highest utility
promise achievable subject to the principal breaking even.
    In order to define equilibrium we have to precisely fix the domain of admis-
sible utility promises. Let W = [w, w̄] be this domain, with w being its lower
and w̄ its upper bound and let Z = Y × [w, w̄]. For the results to follow it is
useful to provide explicit bounds [w, w̄]. To do so define ā = maxj a(yj ) and
                                                                 ∞
                                                                 X
                                        w̄   =    max
                                                   ∞
                                                      (1 − β)          β t u(ct )
                                                 (ct )t=0
                                                                 t=0
                   µ     ¶ ∞
                        1 X 1
               s.t. 1 −          ct          ≤ ā
                        R t=0 Rt

That is, w̄ is the lifetime utility an agent with highest lifetime income ā could
maximally receive from a principal who does not worry about the agent leaving
the contract at some future point and who wishes to avoid a loss.5 Furthermore,
pick some 0 < y < y1 and define w = u(y). Note that w < minj waut (yj ) (where
waut (yj ) is the utility from consuming its income forever, given current income
yj ) That is, w is the lifetime utility from consuming a constant endowment
y smaller than the lowest income realization y1 . In order to assure that the
dynamic programming problem of the principal is always well-defined we impose
the following

Condition 1 The bounds [w, w̄] satisfy

                               w > (1 − β) inf(D) + β w̄

where D is the range of the period utility function.

    Note that this condition, purely in terms of fundamentals of the economy,
is always satisfied for utility functions that are unbounded below (e.g. CRRA
functions with σ ≥ 1).6 For other period utility functions, for w̄ as defined
above and a given w = u(y) there always exists a β ∈ (0, 1) low enough such
that condition 1 is satisfied. We are now ready to define a symmetric stationary
recursive competitive equilibrium.
   5 For example, if u(c) = (c1−σ − 1)/(1 − σ), a tedious but simple calculation shows that

w̄ = u(c̄), where
                                   µ                    ¶ 1
                   1 − R−1 (βR)1/σ          1−β           1−σ
              c̄ =                                            ā ≤ ā for βR ≤ 1
                       1 − R−1       1 − β(βR)((1/σ)−1)
with the inequality strict for βR < 1 and σ < ∞.
   6 Consequenctly our analysis also goes through for utility functions with monotonic trans-

formations which are unbounded below.


                                             9
Definition 2 A symmetric stationary recursive equilibrium is functions V :
Z → R, c : Z → R+ , w0 : Z × Y → [w, w̄], U Out : Y → [w, w̄], principal
consumption γ ∈ R and a positive measure Φ on the Borel sets of Z such that

  1. (Solution of Bellman equation): V solves the functional equation above
     and c, w0 are the associated policies, given U Out (y 0 ) for all y 0 ∈ Y
  2. (Feasibility)
                                         Z
                                    γ+       (c(y, w) − y) dΦ = 0                          (12)


  3. (Outside Option): for all y ∈ Y

                             U Out (y) ∈ arg max {w|V (y, w) = a(y)}                       (13)
                                                w


  4. (Stationary Distribution)

                                              Φ = H(Φ)                                     (14)

         where H is the law of motion for the measure over (y, w) induced by the
         income transition matrix π and the optimal policy function w0 .

   The law of motion H is given as follows. The exogenous Markov chain π for
income together with the policy function w0 define a Markov transition function
on the measurable space (Z, B(Z)) where B(Z) denotes the Borel sigma algebra
on Z. Define the transition function Q : Z × B(Z) → [0, 1] by
                          X ½ π(y 0 |y) if (y 0 , w0 (y, w; y 0 )) ∈ A
          Q((y, w), A) =                                                   (15)
                           0
                                  0         else
                                 y ∈Y

for all A ∈ B(Z). Then the law of motion is defined as
                             Z
                 H(Φ)(A) = Q(z, A)Φ(dz) for all A ∈ B(Z)                                   (16)

    Two comments are in order. First, the range for w defined by [w, w̄] is
meant to precisely fix the domain of the relevant functions rather than act
as another restriction. Second, agents arrive with a “blank” history at a new
principal, i.e. the principal does not make particular use of the information that
new arrivals must be agents who have previously defaulted. This assumption
rules out cooperation by principals in punishing defaulting agents. In economic
terms, this renders credit rating agencies irrelevant for allocations. While it
might be interesting to study an extension allowing for such institutions, the
assumption of perfect competition among principals is not diﬀerent from the
usual assumption maintained in Walrasian economies.7
  7 In   the context of the sovereign debt literature Kletzer and Wright (2000) study an economy


                                               10
3     Analysis
The analysis of our model contains several parts. In subsection 3.1 we establish
basic properties of the principals’ dynamic program problem and in subsec-
tion 3.2. we prove existence of equilibrium. Subsections 3.3 to 3.6. contain
characterizations of the equilibrium risk sharing contract under diﬀerent as-
sumptions about the relative magnitude of the time discount factor of agents,
                  1
β, and principal, R . Finally, subsection 3.7. argues that the consumption alloca-
tions characterized in the previous subsection would also arise as a solution to a
simple consumption-savings problem or as an outcome of a renegotiation-proof
bilateral contract between a single principle and agent.

3.1     Properties of the Bellman Equation
Let us first state properties of solutions to the dynamic programming problem
of the principal. Define the cost function C : D → R+ as the inverse of the
period utility function u. That is, C(u) is the consumption needed to deliver
current utility u. From the properties of the utility function it follows that
C(.) is strictly convex, diﬀerentiable, strictly increasing, and inf u∈D C(u) = 0
and supu∈D C(u) = ∞. Rather than current consumption c we let the principal
choose current utility h = u(c) with associated cost C(h). The Bellman equation
then reads as
                                        µ      ¶
                                             1          1 X
V (y, w) =              min              1 −     C(h) +        π(y 0 |y)V (y 0 , w0 (y 0 ))
                      0 0
               h∈D,{w (y )∈[w,w̄]}y0 ∈Y      R          R 0
                                                                   y ∈Y
                                                                                           (17)
                                 X
                                           0    0   0
  s.t. w   = (1 − β)h + β               π(y |y)w (y )                                      (18)
                                y0 ∈Y

and subject to (9). We define an optimal contract, given outside options, as
solution to the dynamic programming problem of the principal, or formally

¡Definition   3 Given¢ [w, w̄] and U Out (y)y∈Y in [w, w̄], an optimal contract for
     Out
  (U     (y))y∈Y , w, w̄ is a solution V (y, w) to the Bellman equation on the do-
main Z together with associated decision rules h = h(y, w), w0 (y 0 ) = w0 (y, w; y 0 ).
   We are now ready to establish basic properties of the optimal contract (dy-
namic program) of the principle.
Proposition 4 Let outside options (U Out (y))y∈Y ∈ [w, w̄] and β < 1 < R by
given.
    ¡ Further suppose that¢   condition 1 is satisfied. Then, an optimal contract
for (U Out (y))y∈Y , w, w̄ exists and has the following properties.
with one borrower countries and multiple lenders. They allow lenders to act strategically and
construct renegotiation-proof trigger strategies of lenders that call for punishments of lenders
who oﬀer contracts inducing agents to leave the original lender. In this paper we take the view
that perfect competition is an interesting benchmark to analyze, and that this analysis provides
a complement to theirs. Perfect competition has the additional appeal that the informational
requirements for the principals are substantially lower than with strategic interactions among
principals.


                                               11
  1. V (y, w) is strictly convex, strictly increasing, continuous and diﬀerentiable
     in w.
  2. The decision rules are unique and continuous.
  3. The decision rules and the value function satisfy the first order conditions
     and the envelope condition
                                  µ        ¶
                                         1
                   (1 − β)λ =       1−        C 0 (h)                        (19)
                                        R
                                   1 ∂V 0 0
                         λβ =            (y , w (y, w; y 0 )) − µ(y 0 )      (20)
                                   R ∂w
                                   ∂V
                          λ =         (y, w)                                 (21)
                                   ∂w
                          λ ≥ 0                                              (22)
                          0                    0
                       µ(y ) ≥ 0, for all y ∈ Y                              (23)
     where λ and µ(y 0 ) are the Lagrange multipliers on the first and second
     constraints.
  4. The decision rule h(y, w) is strictly increasing in w. The decision rule
     w0 (y, w; y 0 ) is weakly increasing in w, and strictly so, if the continuing
     participation constraint w0 (y, w; y 0 ) ≥ U Out (y 0 ) − ν(y 0 ) is not binding.
  5. If the income process is iid, then V (y, w) depends on w alone, V (y, w) ≡
     V (w). If additionally U Out (y 0 ) − ν(y 0 ) is weakly increasing in y 0 , then
     w0 (y, w; y 0 ) is weakly increasing in y 0 .
   Proof. All arguments are similar to those in Krueger (1999) and fairly
standard, apart possibly from the strict convexity of the value function. We will
give a sketch of the argument here and defer details to the technical appendix.
  1. Assumption 1 assures that the constraint set is non-empty. A standard
     contraction mapping argument then assures existence, strict monotonicity
     and convexity of V . Strict convexity follows from the equivalence of the
     sequential and recursive formulation of the problem where the strict con-
     vexity of the value function of the sequential problem follows from strict
     convexity of the cost function C.
  2. Diﬀerentiability and uniqueness of the decision rules follow from strict
     convexity of V.
  3. Standard first order and envelope conditions.
  4. From first order conditions and strict convexity of C and V (in w).
  5. Current income y appears in the Bellman equation only in the conditional
     probabilities π(y 0 |y), independent of y in the iid case. The properties for
     w0 (w, y; y 0 ) follow from the first order conditions and strict convexity of
     V.



                                         12
3.2     Existence and Properties of Equilibrium
If condition 1 is satisfied, existence of an equilibrium can now be guaranteed.

Proposition© 5 Let condition
                          ª      1 be satisfied. Then an optimal contract and out-
side options U Out (y) y∈Y satisfying (13) exist. If the income process is iid (or
                               ©         ª
w0 (y, w; y 0 ) associated with U Out (y) y∈Y is weakly increasing in y), then an
equilibrium exists.

    Proof. Again we defer details to the technical appendix. There we first
prove that there exist outside options U Out = (U Out (y1 ), . . . , U Out (ym )) and
                                                           0       0
associated value and policy functions VU Out , hU Out , wU   Out (y ) of the principals
                     Out
solving VU Out (y, U     (y)) = a(y) for all y. Then we prove that the Markov
                                          0       0
transition function induced by π and wU     Out (y ) has a stationary distribution.

    For the first part define the function f : [w, w̄]m → [w, w̄]m by
     £     ¤
  fj U Out = min{w̃ ∈ [w, w̄] : VU Out (yj , w̃) ≥ a(yj )} for all j = 1, . . . , m

We need to show three things: 1) The function f is well defined on all of
[w, w̄]m , 2) The function f is continuous, 3) Any fixed point w∗ of f satisfies
Vw∗ (yj , wj∗ ) = a(yj ) for all j = 1, . . . , m. Part 1 is straightforward.8 Part 2)
requires to show that the cost function VU Out (., .) is uniformly continuous in the
outside options U Out (which is involved, but not conceptually diﬃcult, and for
which assumption 1 again needed assure that the cost function is well defined
for all possible outside options U Out ). Finally, part 3) has to rule out that
at the fixed point satisfies Vw∗ (yj , w∗ ) > a(yj ), which is done by constructing
an allocation that attains lifetime utility w∗ at costs lower than Vw∗ (which is
nontrivial and again requires condition 1).
                                                         0       0
    For the second part we establish that π and wU         Out (y ) indeed induce a well-

defined Markov transition function which satisfies the conditions of Corollary 4
in Hopenhayn and Prescott (1992). Then their result guarantees the existence
of stationary measure Φ (although not its uniqueness).
    A useful property of the equilibrium for our further analysis is that the
outside option of an agent is an increasing function of his income.

Proposition 6 Suppose the income process is iid. Then in any equilibrium
U Out (y) is increasing in y.

    Proof. U Out (y) solves V (U Out (y)) = a(y). The result follows since a(y) is
increasing in y and since V (w) is increasing in w.
  8 Note,   however, that the more natural definition of f as
                                     h     i
                      VU Out (yj , fj U Out ) = a(yj )} for all j = 1, . . . , m

would have made it impossible to show that f is well-defined on all of [w, w̄], unless very
restrictive assumptions on [w, w̄] are made.




                                                  13
3.3     Three Risk Sharing Regimes
In the following subsections we will explicitly characterize the optimal risk-
sharing contract between the principal and the agent under diﬀerent assump-
tions about the relative patience of both parties. We will show that, loosely
speaking, the more patient the agent is relative to the principle, (that is, the
higher are interest rates) the more risk sharing she can obtain in an optimal
contract. For these next subsections we assume that there is no cost of moving
between principles, ν(y) ≡ 0.
    Before discussing our results in detail we give an overview over our find-
ings, using three figures that plot the optimal utility promises tomorrow, w0 (y 0 )
against utility promises today. For these figures, it has been assumed that
there are two income states, y1 < y2 , and that income      Pis iid. Also plot-
ted is the expected discounted future utility promise β y0 π(y 0 )0 (w0 ), since
the vertical distance of this line and the 450 -line amounts to current utility
(1 − β)h = (1 − β)u(c). Figure 1 pertains to an impatient agent (relative to the
interest rate), figure 2 shows the case where the agent is patient and figure 3
exhibits an intermediate case.




                               No insurance: patient principal
                   w‘


                   w‘(y2)        D               A
                                                             UOut(y2)
                                     (1-β)u(c)
                  βE[w‘(y‘)]
                   w‘(y1)            B
                                                             UOut(y1)
                                                     C


                        45o
                              UOut(y1)       UOut(y2)      w




                                             Figure 1:

    In Figure 1 the agent is impatient and the principal is patient. For high R1
it is optimal for the principal to give high current utility (1 − β)u(c) and low
continuation utilities, subject to the constraints w0 (y 0 ) ≥ U Out (y 0 ). In the figure,
for all current promises w ∈ [U Out (y1 ), U Out (y2 )] the continuation promises are
always at the constraint: w0 (y 0 ) = U Out (y 0 ). An agent starting with current
promises w = U Out (y2 ) (point A), upon receiving one bad shock moves to


                                                     14
w0 = U Out (y1 ) (point B via C), and an agent with one good shock moves
from point B to A (via D). Note that agents, at no point in the contract, have
continuation utility higher than their outside option (i.e. the principal does not
share risk with the agent). In fact, we will show in the next section that for
a suﬃciently low R (and nonnegative consumption of the king) the stationary
equilibrium is autarky: the equilibrium outside options equal the utility obtained
consuming the endowment in each period, the allocation equals the autarkic
allocation, and the stationary promise distribution has only positive mass Π(y)
at U Out (y).




                       βR = 1: full insurance, impatient principal
                 w‘

                      w‘(y2)   C            A
                                                                UOut(y2)



                      w‘(y1)
                                                                UOut(y1)
                                 B

                         45o
                                                UOut(y2)       w




                                      Figure 2:

    Figure 2 depicts the other extreme, for a patient agent and impatient princi-
pal, with discount factors satisfying βR = 1. Now it is beneficial for the principal
to economize on current utility and give high utility promises from tomorrow
onwards. For iid income shocks future promises coincide with the 450 -line when-
ever w ≥ U Out (y 0 ) and are constrained by U Out (y 0 ) below these points. It is
easy to see (and we will formalize this in section 3.5) that, as the agent expe-
riences good income shocks, continuation utility and future consumption move
up (to U Out (ymax ) and the corresponding consumption level) and stay there
forever: eventually an agents’ consumption is perfectly smooth as he obtains
complete consumption insurance.
    Finally, in Figure 3 we depict an intermediate case in which partial insurance
obtains. Consider an agent with current utility promise w = U Out (y2 ) (point A).
If this agent experiences a bad income shock y 0 = y1 her future utility promise
w0 (y 0 ) is lower than today’s promise (and the same is true for consumption).
However, the drop in promises and consumption is not as drastic as in Figure 1:


                                           15
now it takes two bad income shocks to hit U Out (y1 ) (from point A via D to B).
Thus, the agent is partially insured against income risk. However, in contrast to
Figure 2 insurance is not perfect: utility promises and consumption drop with
a low income realization, even for an agent that previously had worked herself
up to point A. For the iid case with two income shocks, section 3.6 below will
provide a complete characterization of the consumption dynamics, including the
optimal number and size of downward consumption steps shown in Figure 3.



                    Medium patience of the principal: partial insurance
                    w‘



                         w‘(y2)> UOut(y2)                A
                    w3                                                  UOut(y2)


                    w2
                                                         D
                         w‘(y1)
                    w1                                                  UOut(y1)
                                  C         B

                            45o
                             w1=UOut(y1)    w2        w3=UOut(y2)   w




                                                 Figure 3:


3.4     No Risk Sharing: Autarky
As a starting point of our characterization of equilibrium, we shall analyze
conditions, under which the principals do not lose resources in steady state, i.e.
we seek equilibria which also deliver the following condition:9

Definition 7 (Nonnegative steady state profit condition:)
                          Z
                     γ = (y − V (y, w))dΦ ≥ 0                                               (24)

   Leaving a location has no consequences for an agents’ ability to engage in
future risk sharing arrangements and generates no cost other than giving up
current promises w. One may interpret the promise w as relationship capital:
   9 Note
                                                            ¡     1
                                                                    ¢
         that, given our normalization of current costs by 1 − R      total current period profits
and the present discounted value of all future profits are identical in a stationary equilibrium.



                                                    16
the principal guarantees a particular level of happiness to the agent as a conse-
quence of past events. Our first proposition shows that the threat of losing this
goodwill is not enough to support risk sharing, if the principals need to enjoy
nonnegative profits in steady state.

Proposition 8 Assume ν(y) ≡ 0, y ∈ Y .

   1. If an equilibrium satisfies the nonnegative steady state profit condition,
      then it has to implement the autarkic allocation almost everywhere (a.e):

                                  c(y, w) = y        Φ − a.e.                       (25)

   2. Conversely, if an equilibrium implements the autarkic allocation, then the
      nonnegative steady state profit condition is satisfied.

    Proof. Remember that in any equilibrium V (y, w) has to be weakly increas-
ing in w. For (y, w) ∈ supp Φ, we must have w ≥ U Out (y) and thus

                          V (y, w) ≥ V (y, U Out (y)) = a(y)                        (26)

On the other hand, the assumed non-negativity of γ together with
                      X              X
                          a(y)Π(y) =    yΠ(y) = E[y]                                (27)
                         y∈Y               y∈Y

implies
                     Z                           Z
                         V (y, w)dΦ ≤ E[y] =         a(y)dΦ = E[y]                  (28)

Together,

                               V (y, w) = a(y) Φ − a.e.                             (29)

Now, comparing the two equations
                   µ       ¶
                         1             1 X
       V (y, w) =    1−      c(y, w) +         π(y 0 |y)V (y 0 , w0 (y, w; y 0 ))   (30)
                         R             R 0
                                         y
                   µ       ¶        X
                         1        1
           a(y) =    1−      y+        π(y 0 |y)a(y 0 )                             (31)
                         R        R 0
                                            y

shows that c(y, w) = y almost everywhere. The second part of the proposition
follows trivially from the definitions
    The equilibrium distribution Φ in proposition 8 is easy to calculate. Since
agents consume their endowment, it follows that their remaining lifetime utility
is given by the continuation utility from consuming the stochastic income stream



                                           17
in each period, starting with current income y. This utility from “autarky”
waut (y) is recursively defined as
                                             X
                  waut (y) = (1 − β)u(y) + β   π(y 0 |y)waut (y 0 )    (32)
                                               y0 ∈Y

    The distribution Φ therefore assigns weight Π(y) to the atoms (y, waut (y))
and zero to everything else. Proposition 8 says that any equilibrium must nec-
essarily have c(y, waut (y)) = y for all y ∈ Y . Similarly, the promised utility
at these points is obviously w0 (y, waut (y); y 0 ) = waut (y 0 ). Comparing the result
above to the definition of an equilibrium, we see that the proposition does not
yet deliver the full specification required for a stationary equilibrium. Such a
specification requires the consumption function as well as all other functions
listed in the equilibrium definition to be defined on the set Z = Y × [w, w̄]
rather than just the points (y, waut (y)). If we restricted the domain Z to just
include the latter list of points, proposition 8 would essentially establish that
we always have an equilibrium implementing autarky. With that assumption,
the principals would have no choice but to implement the autarky solution!
They would not be allowed to deviate from the autarky utility promises, even
if they preferred to do so. Or, assume instead that Z = {(y, w̄) | y ∈ Y } where
w̄ = u(E[y]) is the utility promise from complete risk sharing. In that case,
principals would have no choice but to always implement the complete risk
sharing solution. Thus choices of the domain Z of this type would completely
predetermine the outcome.
    Now we aim at constructing the equilibrium contract on the entire set Z =
Y × [w, w̄]. This requirement of the equilibrium turns out to have bite in that it
rules out the existence of equilibria satisfying the nonnegative steady state profit
condition for some R altogether and leads to the explicit and unique construction
of the equilibrium functions outside the support of Φ otherwise. Indeed, in part
3.5, where we dispense with the non-negativity of profits condition, we shall
obtain complete risk sharing if Rβ = 1 and income is iid. This is obviously
squarely at odds with the autarky result above. The next proposition shows,
that no equilibrium satisfying the nonnegative profit in steady state condition
exists for Rβ = 1, thus resolving this conflict.
    More generally, for the autarky result to hold we need to rule out that a prin-
cipal would find it profitable to deviate from an equilibrium in which all other
principals oﬀer the autarky contract: this can be achieved under the assump-
tion that the principal is suﬃciently patient (interest rates are low enough).
Intuitively, deviating from the autarky solution involves oﬀering a agent with a
high income now a better contract by taking some of his endowment now for
the promise of additional consumption goods in future periods, when his en-
dowment is low. A suﬃciently patient principal is deterred by the future costs
of sticking to such a contract. Based on this argument, we expect there to be
an upper bound on the preference parameter R of the principal for the autarky
result to emerge. The results below will show that this is indeed the case.



                                          18
   Define
                                        P
                                 w−β        y0 ∈Y   π(y 0 |y)waut (y 0 )
                     h(y, w) =                                                   (33)
                                                 1−β

Note that h(y, waut (y)) = u(y), see equation (32), and that ∂h/∂w = (1 − β)−1 .
Furthermore, since h(y, w) is strictly increasing in w, we can define

                    h̄ =         max        h(y, w) = max h(y, w̄)               (34)
                             w≤w≤w̄,y∈Y                   y∈Y

                    h =          min        h(y, w) = min h(y, w)                (35)
                             w≤w≤w̄,y∈Y                   y∈Y

Proposition 9 Assume that condition 1 holds.

  1. An equilibrium satisfying the nonnegative steady state profit condition ex-
     ists, if and only if

                                         R ∈ (1, R̄]                             (36)

      where
                                             C 0 (h)    1
                                     R̄ =             ≤                          (37)
                                            βC 0 (h̄)   β

  2. If it exists, the equilibrium has the following form
                                    µ          ¶
                                           1
                       V (y, w) =     1−         (C(h(y, w)) − y) + a(y)         (38)
                                          R
                        c(y, w) = C(h(y, w))                                     (39)
                   w (y, w; y 0 ) = waut (y 0 )
                     0
                                                                                 (40)
                       U Out (y) = waut (y)                                      (41)

      profits γ = 0 and a positive measure Φ as constructed above.
  3. No equilibrium satisfying the nonnegative steady state profit condition ex-
     ists for any R, if R̄ ≤ 1.
  4. Suppose that βR = 1. Then, no equilibrium satisfying the nonnegative
     steady state profit condition exists.
  5. Suppose that the endowment process is iid. Then
                                    1 C 0 (u(y1 ))   1 u0 (ym )
                             R̄ =                  =                             (42)
                                    β C 0 (u(ym ))   β u0 (y1 ))

   Proof. For (tedious, but straightforward) details of the proof of the first
part see the technical appendix. For any equilibrium, proposition 8 implies that
U Out (y) = waut (y) and that w0 (y 0 ) = w0 (y, w; y 0 ) = waut (y 0 ). From promise-
keeping h = h(y, w) must be as in equation (33). The consumption function

                                            19
c follows from the definition of C(.); once this function is known, the value
function implied by c(y, w) can be easily calculated. We have thus constructed
an equilibrium if and only if the functions above satisfies the (necessary and
suﬃcient) first order optimality conditions of the principal
                         C 0 (h(y, w)) ≥ RβC 0 (h(y 0 , w0 (y, w; y 0 ))
on Z. But this condition is true on all of Z if and only if (37) is satisfied. A
violation of (37) makes cost minimization of principals and the requirement of
γ ≥ 0 on the stationary equilibrium mutually exclusive, leading to the nonex-
istence result. The other results stated in the proposition follow immediately
from its first part.
    Note that condition (42) is essentially the same as the one stated in Krueger
and Perri (1999): in their environment with endogenous gross interest rate R,
                                                 0
risk sharing can only be obtained if indeed β1 uu0(y m)
                                                   (y1 ) < 1, whereas autarky obtains
        0
     1 u (ym )
if   β u0 (y1 )   ≥ 1.

3.5        Perfect Risk Sharing: Full Insurance in the Limit
Now consider the case βR = 1 in figure 2. If the agent is already at point A
with high current promises w = U Out (y2 ), she will stay there, no matter which
income she receives in the future. If the agent is at point B, she will stay there
as long as income is low, yt = y1 . But the first time the agent receives high
income y2 , she jumps to point C on the w0 (y2 )-branch and then stays at point A
forever, with constant utility promises and consumption. The same is true for
an agent with initial utility promise w ∈ (U Out (y1 ), U Out (y2 )). We call this full
insurance in the limit: full insurance is not obtained upon entering the contract,
but eventually. The stationary distribution is a unit point mass at U Out (y2 ),
reflecting the fact that eventually all agents are fully insured against income
fluctuations. We shall now prove these claims formally. First, we demonstrate
in the next proposition, that full insurance obtains if and only if βR = 1.
Proposition 10 Suppose income is iid. Denote the probability of income yi as
π(yi ) > 0.
     1. Suppose that βR = 1. Then any optimal contract implies full insurance
        in the limit, i.e. constant consumption from the first time that the highest
        income level ym is realized.
          (a) The utility promises take the form w0 (w; y 0 ) = max(w, U Out (y 0 )).
          (b) The decision rule for current utility h = h(w) is defined by (6). The
              cost function V (w) satisfies V 0 (w) = C 0 (h(w)) and V (w) = C(w) for
              w ≥ maxy U Out (y)
          (c) The consumption level ci of an agent who, so far in his life, had
              maximal income yi is given by
                                            1 X
                           ci = a(yi ) −             π(yj ) [a(yj ) − a(yi )]       (43)
                                         R − 1 j>i


                                               20
            The equilibrium outside options U Out (yi ) satisfy the recursion
                                                     P
                        Out
                                    (1 − β)u(ci ) + β j>i π(yj )U Out (yj )
                      U     (yi ) =                   P                       (44)
                                           (1 − β) + β j>i π(yj )

            with U Out (ym ) = u(cm ). Current utility is given by

                                       hi = (1 − β)u(ci )                      (45)

      (d) If n = 2, then
                                               1      1
                                   c2 = (1 −     )y2 + E[y]                    (46)
                                               R      R
            and

                                              c1 = y1                          (47)

  2. Conversely, suppose there is full insurance in the limit and βR ≤ 1. Then,
     βR = 1.

   Proof.

  1. The first part follows directly from proposition 4, the fact that income is
     iid and the assumption that βR = 1. The other parts follow from the
     first part which implies that the contract is like a ”ratchet”: once some
     level wi of utility promises is reached, the promise will not fall, and will
     rise to wj , if y = yj and j > i. Define Vi = V (U Out (yi )) and ci to be the
     consumption level associated with wi = U Out (yi ). These satisfy
                                                                      
                        1      1   X                        X
            Vi = (1 − )ci +           π(yj )Vj + Vi ∗ (1 −     π(yj ))
                        R      R j>i                        j>i


     Substituting Vi = a(yi ) and solving for ci delivers (43). Equations (44)-
     (47) follow from simple calculations.
  2. Full insurance in the limit implies, that for some w̃ ∈ [w, w̄], one has
     w0 (w̃; y 0 ) ≡ w̃ for all y 0 . Suppose βR < 1. The first order conditions
     imply that w0 (w; y 0 ) < w whenever the constraint w0 (w; y 0 ) ≥ U Out (y 0 )
     does not bind. But U Out (y1 ) < U Out (ym ), so it cannot be the case that
     all constraints bind and w0 (w̃; y1 ) = w0 (w̃; ym ); a contradiction.


   The proposition shows that on the equilibrium path of the contract, an
agent receives consumption ci , where yi is the maximal income since starting
the contract. The agent ”ratches” herself up a ladder of permanent consumption



                                         21
claims. At the highest level of income, the agent receives consumption equal to
the permanent income at that point,
                                             1      1
                       cm = a(ym ) = (1 −      )ym + E[y]
                                             R      R
Note that E[y] < cm < ym . The principal receives an ”up front” payment
ym − cm for which he provides the permanent consumption level cm at an ex-
pected steady state loss E[y] − cm . Since this is also the absorbing state for any
contract starting with w ≤ U Out (ym ), consumption of the principal in a station-
ary equilibrium equals γ = E(y) − cm . For all i < m we have that ci < a(yi ), i.e.
the agent, in
            Pthe current period, consumes even less than his expected income,
         1
where R−1     j>i π(yj ) [a(yj ) − a(yi )] is the insurance premium for having con-
sumption never drop below ci again in the future, regardless of future income
realizations. The qualitative features of our optimal contract (racheting-up of
consumption, perfect insurance in the limit) are similar to those in Harris and
Holmstrom’s (1982) study of optimal wage contracts; in addition we provide,
in an arguably simpler environment, a full characterization of the optimal risk-
sharing contract.
    As an interpretation of the full insurance contract, consider observed health
insurance or car insurance contracts. At the start of the contract, it often
provides agents with pre-existing diseases or drivers who just had an accident
with no insurance at all. Only good risks (healthy people, good drivers) are given
an insurance contract, pay a premium, and can then be assured of continuing
coverage in the future. After the point of payment, it is no longer sensible for
the agent to switch insurance agencies and pay anew.
    As a by-product of the previous proposition we can also fully characterize
the stationary distribution Φ associated with complete risk sharing in the limit.

Proposition 11 Any stationary distribution Φ on Y × [w, w̄] is given by the
cross product of the stationary distribution on incomes Y times a distribution
on [w, w̄] given by a point mass on w = U Out (ym ) and an arbitrary distribution
Ψ on the interval [U Out (ym ), w̄].

    Proof. Follows immediately from the properties of w0 (w; y).
    With any starting utility promise w ≤ U Out (ym ), agents reach the ab-
sorbing utility promise level U Out (ym ). Agents starting at a utility promise
w > U Out (ym ) will stay at that promise forever. The part Ψ comes about
from agents who have been given exceedingly generous utility promises from
the start. If all agents in the stationary distribution started from signing up
with competitive principals, then the unique stationary distribution is given by
Φ(y, U Out (ym )) = π(y), and zero elsewhere.
    Finally, note that the same qualitative results as above can be proved under
the assumption of βR > 1. Now, however, the absorbing state is the upper bound
on utility promises w̄, consumption is never declining and finally increasing to
cw̄ with probability 1. However, now w̄ acts as a real constraint and in its
absence the optimal contract (if it exists) has ever-increasing utility promises


                                        22
and consumption. In general, a stationary equilibrium will not exist for βR > 1,
which led us to focus on the case βR = 1 for perfect insurance in the limit.

3.6     Partial Risk Sharing
Finally, partial insurance will obtain10 , if
                                                     1
                                         R̄ < R <      .
                                                     β
A typical situation is shown figure 3. Suppose, the agent starts from point A,
i.e. high income. If income remains high, then the agent will remain at point
A and utility promise w3 = U Out (y2 ). But if income is low, the agent follows
the promise D and point B on the w0 (y1 )-branch, reaching promise w2 next
period. If income is low again, the agent finally arrives at point C, i.e., the
agent will land a level at the utility level w1 = U Out (y1 ). With high income
at either point B or at point C, the agent will move to the w0 (y2 )-branch, and
therefore to point A and utility level w3 . The stationary distribution is given
by point masses on the points {w1 , w2 , w3 }, with probabilities resulting from
the dynamics described above and the income probabilities. Depending on the
parameters, there may be more points like D and B, i.e., the dynamics may
need a number of bad income draws to reach the lowest promise level U Out (y1 ).
The ratcheting-up part of the contract is similar to the full insurance case; now
however, because of the wedge between β and R consumption has a downward
drift (unlike in Harris and Holmstrom (1982)) if not constrained by the outside
options. For the iid case with two income shocks we can provide a complete
characterization of the consumption dynamics and the stationary consumption
distributions, with the intuition provided by Figure 3.
Proposition 12 Suppose, income can take two values y1 < y2 and is iid, with
π = π(y1 ), and βR < 1. Then any equilibrium is characterized by a natural
number n ≥ 2, promise levels w1 = U Out (y1 ) < w2 < . . . < wn−1 < wn =
U Out (y2 ), costs V (wi ) = Vi , V1 < V2 < . . . < Vn and consumption levels
c1 < c2 < . . . < cn satisfying the following equations.
       V1    = a(y1 )
       Vn    = a(y2 )
               µ        ¶
                      1       π              (1 − π)
        Vj   =   1−       cj + Vmax{j−1,1} +         Vn for all j = 1, . . . , n
                      R       R                 R
      (n)                   (n)
  u0 (cj ) = βRu0 (cj−1 ) for j = 2, . . . , n
                   (n)
        cj   = cj        for j = 2, . . . , n
        c1   = y1
                           (n)
        c2   ≥ y1 > c1
  1 0 Note that we have not ruled out that partial insurance can also happen for R ≤ R̄; what

we showed above is that it can’t happen in a stationary equilibrium with nonnegative profits
for the principal.


                                                23
    Proof. All equations except c1 = y1 follow directly from the first order
conditions. The result c1 = y1 follows from combining the first three equations
into
                       µ       ¶
                             1         1
              a(y1 ) = 1 −        c1 + (πa(y1 ) + (1 − π)a(y2 ))
                             R         R

and solving for c1 .
   These equations can be solved reasonably easily. Iterating the third equation
and combining with the first two yields, after some algebra:

                  X³
                  n−2
                        π ´j                   ³ π ´n−1
                             (cn−j − a(y2 )) =          (y2 − y1 )              (48)
                  j=0
                        R                        R

where cj , j ≥ 2 are found from recursively solving the Euler equations

                             u0 (cn−j ) = (Rβ)−j u0 (cn )                       (49)

and therefore
                                        −1 £                ¤
                        cn−j    = (u0 )     (Rβ)−j u0 (cn )                     (50)
                                = cn−j (cn )                                    (51)
                                −1
for j = 0, . . . , n − 2. Here (u0 ) is the inverse of the marginal utility function,
a strictly decreasing function which maps R++ into itself. Evidently

                               cn > cn−1 > . . . > c2 .

and the functions cn−j (cn ) are strictly increasing and continuous in cn . In the
next proposition we characterize the consumption allocation for a fixed number
of steps n.

Proposition 13 For any given n ≥ 2 a unique solution to (48) exists. It
satisfies cn = y2 for n = 2 and cn ∈ (a(y2 ), y2 ) for n > 2. Furthermore cn is
decreasing in n, strictly if c2 (cn ) > y1 .

    Proof. The existence of a solution follows from the intermediate value
theorem, since the left hand side of (48) is continuous in cn , weakly smaller
than 0 for cn = a(y2 ) and increasing without bound as cn increases, whereas
the right hand side is positive and constant in cn . This argument also shows that
cn > a(y2 ). For n = 2 (autarky) equation (48) immediately implies cn = c2 = y2 .
For n > 2 (partial risk sharing) we have cn < y2 since otherwise the principal
can never break even, since agents with bad shock y1 get to consume more than
y1 with positive probability and agents with high shock y2 consume cn .
                                                                          (n)
    Now we show that cn is weakly decreasing in n. For fixed n define {cn−j }nj=1
as the sequence of consumption levels in the previous proposition. We want to



                                         24
                                    (n)          (n−1)                               (n)
show that for n ≥ 0 we have cn ≤ cn−1 , with strict inequality if c2                       > y1 .
                   (n)   (n−1)
Suppose not, then cn > cn−1 , and from (50)
                       (n)        (n−1)
                      cn−j > cn−j−1 for all j = 0, . . . , n − 3                            (52)

Denoting the left hand side of (48) by Γ(n) we find, using (52), that
                                               ³ π ´n−2
                                                              (n)
                     Γ(n − 1) < Γ(n) −                      [c2 − a(y2 )]
                                                  R
and thus, using (48) again
        ³ π ´n−2                  ³ π ´n−1                    ³ π ´n−2
                                                                          (n)
                   [y2 − y1 ] <                [y2 − y1 ] −              [c2 − a(y2 )]
          R                        R                            R
which implies
                                           (n)
                                          c2      < y1 ,
                                           (n)        (n)
a contradiction to the definition of c2 . If c2 > y1 we can repeat the argument
                      (n)      (n−1)
above to show that cn < cn−1 .
    The previous proposition shows the partial nature of insurance. An agent
with high income y2 consumes less than his endowment, yet more than the
present discounted value of his future income. On the other hand, with bad
income shocks his consumption declines only slowly, in n − 1 steps, towards y1 .
In addition, the results show that in order to have consumption decline in many
steps (a lot of insurance against bad shocks, high n), the principal, in order
                                                                           (n)
to break even, delivers less consumption with the good income shock: cn is
decreasing in n.
    Finally one can characterize the optimal number of steps, n∗ . From propo-
                          (n∗ )                 (n∗ )
sition 12 we know that c1 = y1 and that c2            must satisfy
                                       ³ ∗ ´
                                         (n )
                          u0 (y1 ) ≥ u0 c2     > βRu0 (y1 )                 (53)

Existence of an equilibrium step number n∗ is guaranteed through the general
existence proof, under condition 1. It is also evident that n∗ = 2 (with associated
 (2)                                                                  u0 (y2 )
c2 = y2 ) is the unique equilibrium step number if and only if R < βu   0 (y ) , which
                                                                            1
confirms our results in section 3.4. Finally, the next proposition shows that n∗
is always unique.
                                     u0 (y2 )
Proposition 14 Suppose R ≥          βu0 (y1 ) .   Then the optimal number of steps n∗ ≥ 3
satisfying (53) is unique.

   Proof. The assumption in the proposition rules out autarky n∗ = 2 as
optimal. Now we prove uniqueness. Let n∗ ≥ 3 satisfy (53). Take arbitrary



                                                 25
ñ 6= n∗ . First suppose ñ < n∗ , so that ñ = n∗ − k for some k ≥ 1. But then,
                      (n∗ )   (ñ)
using the fact that cn∗ ≤ cñ
            ³      ´                    ³      ´          ∗
                                                                   ³ ∗ ´
              (ñ)                        (ñ)                        (n )
         u0 c2       = (βR)−(ñ−2) u0 cñ        ≤ (βR)−(n −2)+k u0 cn∗
                                   ³ ∗ ´
                                     (n )
                     = (βR)k u0 c2        ≤ (βR)k u0 (y1 ) ≤ (βR) u0 (y1 )

which violates the second inequality of (53) for n = ñ. If one supposes that
ñ > n∗ , then a similar argument shows that the first inequality of (53) is violated
for n = ñ.
    Conditional on an optimal step number n it is also straightforward to calcu-
late the stationary distribution.

Proposition 15 Assume ν(y) ≡ 0, y ∈ Y . Suppose, income can take two values
and is iid, with π = P (y = y1 ). The stationary distribution is given by atoms
at wi with weights λi given by

                      λ1   = π n−1
                      λj   = π n−j (1 − π) for j = 2, . . . , n

where n is the optimal number of steps analyzed above.

    Proof. This follows from noting the following. Given any current promise
wj , the probability for reaching wn in the next period is 1 − π. Thus,
                                          n
                                          X
                           λn = (1 − π)         λj = 1 − π
                                          j=1

Next, for 1 < j < n, wj can be reached only from wj+1 and income y1 . Thus
λj = πλj+1 . Finally, for j = 1, w1 can be reached from both w1 or from
w2 , provided income is y1 . Thus λ1 = π(λ1 + λ2 ). Solving these equations for
λj , j = 1, . . . , n − 1 gives the result.
     This completes the characterization of the optimal contract and the resulting
invariant consumption and lifetime utility distribution.

3.7     Equivalence Results
3.7.1   A Consumption-Savings Reformulation
The competitive equilibrium with risk sharing contracts between principals and
agents we studied can also be implemented by letting the agent trade in state-
contingent one-period Arrow securities, subject to carefully chosen short-sale
constraints.




                                         26
   More precisely, consider the consumption-savings problem
                                                                                           
                                                              X                            
                                                                      0         0       0
              W (y, b) =         max           (1 − β)u(c) + β    π(y   |y)W (y   , b(y   ))
                             c,(b(y 0 ))y0 ∈Y                  0
                                                                                            
                                                                  y
   1 X
c+     π(y 0 |y)b(y 0 ) = y + b
   R 0
      y ∈Y

                   b(y 0 ) ≥ b(y 0 ), for all y 0 ∈ Y

where b(y 0 ) is a collection of state-contingent borrowing constraints. If b(y 0 ) = 0
for all y 0 ∈ Y , then the agent is prevented from borrowing altogether.
    The price of an Arrow security paying one unit of consumption tomorrow,
                                                                          0
conditional on income realization y 0 is given by q(y 0 |y) = π(yR|y) b(y 0 ). We
now want to relate the solution of this consumption-savings problem to the
competitive risk sharing contracts equilibrium studied above. Note that the
consumption-savings problem treats the interest rate R and the borrowing con-
straints b(y 0 ) as exogenous.
                                                                                   ©    ª
Proposition 16 Any contract equilibrium V (y, w), w0 (y, w; y 0 ), c(y, w) and U Out (y) y∈Y
can be implemented as a solution W (y, b), b0 (y, b; y 0 ), C(y, b) to the consumption-
savings problem above with borrowing constraint given by
                            R ¡                              ¢
                  b(y) =       V (y, U Out (y) − ν(y)) − a(y)                       (54)
                           R−1
Conversely, for given borrowing constraints b(y) ≤ 0 and associated solution to
the consumption-saving problem W (y, b), b0 (y, b; y 0 ), C(y, b) there exist moving
costs

                         ν(y) = W (y, 0) − W (y, b(y)) ≥ 0

such that the solution to the consumption-savings problem ©can be implemented
                                                                          ª
as a contract equilibrium V (y, w), w0 (y, w; y 0 ), c(y, w) and U Out (y) y∈Y . The
moving costs satisfy

                    U Out (y) − ν(y) = W (y, b(y)) for all y ∈ Y                    (55)

   Proof. The details of the proof are again relegated to the technical ap-
pendix; the main logic follows standard duality theory. In the contract economy
the state variables of a contract are (y, w), in the consumption-savings problem
they are (y, b). Define the mapping between state variables as
                                  R
                       b(y, w) =        (V (y, w) − a(y))                           (56)
                                 R−1
                       w(y, b) = W (y, b)                                           (57)

where both functions are strictly increasing in their second arguments and thus
invertible. With this mapping it is easy to see that the objective function of the

                                          27
contract problem implies the budget constraint of the consumption problem and
the promise keeping constraint implies that the Bellman equation of consump-
tion problem is satisfied. Reversely, the objective of the consumption problem
implies the promise keeping constraint and the resource constraint implies the
Bellman equation in the contract problem.
    The nontrivial parts of the proof shown in the appendix are that any feasi-
ble contract satisfies the borrowing constraint in the consumption problem and
that any feasible consumption allocation satisfies the utility constraints in the
contract problem. It is finally shown (by tedious but straightforward construc-
tion) that the contract allocation is in fact optimal (and not just feasible) in
the consumption problem. If there existed a superior consumption allocation it
is feasible in the contract problem and yields lower costs, a contradiction. The
reverse logic shows that the consumption allocation solves the cost minimization
problem in the contract minimization problem.
    The proposition above shows that the contracting problem and the consump-
tion problem are dual to each other. Furthermore, the proposition connects
two strands of the previous literature. Via our equivalence result, all our find-
ings from the contract economy carry over immediately to Bewley (1986)-type
economies with trade in state-contingent Arrow securities subject to short-sale
constraints. The borrowing constraints b(y) implied by our optimal risk sharing
contracts are reminiscent of Alvarez and Jermann’s (2000) borrowing constraints
that are “not too tight”. The proposition shows that, as for their borrowing
constraints, agents can be allowed to borrow up to the point at which they are,
state by state, indiﬀerent between repaying their debt or defaulting. Instead of
suﬀering financial autarky, as in Alvarez and Jermann (2000), the consequences
of default in our model amount to being expelled from the relationship with the
current financial intermediary and having to hook up with a competitor (and
bear the utility cost v(y), if any, from doing so). Thus one may interpret a
solution to our consumption-savings problem as an equilibrium with solvency
constraints in the spirit of Alvarez and Jermann.11 We have as immediate

Corollary 17 A contract equilibrium with zero moving costs, ν(y) ≡ 0, can be
implemented as a solution to the consumption problem with a short-sale con-
straint, b(y) = 0. Reversely, a solution to the consumption-savings problem pro-
hibiting borrowing can be implemented as a contract equilibrium with ν(y) ≡ 0.

    This corollary provides a link to Bulow and Rogoﬀ (1989): if there are no
moving costs for agents between intermediaries (such as direct trade sanctions),
then competition among intermediaries rules out international debt. The equiv-
alence result also shows that in the contract economy without moving costs at
no point in the contract does the “balance” of the agent with the financial
intermediary become negative: after the initial payment of the agent the prin-
cipal owes the agent more future consumption (in an expected discounted value
sense) than he receives in expected discounted income from that agent, at each
  1 1 Always with the proviso that we assume a fixed gross interest rate R, whereas in their

formulation the interest rate is an endogenously determined equilibrium object.


                                            28
point and contingency in the contract. This, again, highlights the necessary
pre-payment feature of the optimal risk sharing contracts derived in this paper.

3.7.2    Renegotiation-Proof Contracts
A further interpretation of our environment is one with a single principal and
agent in which contracts signed between the principal and the agent have to be
renegotiation-proof. The agent is assumed to have all bargaining power in the
renegotiation, can demand renegotiation at any point of time, but experiences
a disutility ν(y) “up front” from opening the renegotiation. This is equivalent
to resetting the promise level w at the beginning of any period. With his
bargaining power the agent presses the principal to the point of indiﬀerence, i.e.
given current income y, she will demand a level of utility satisfying

                                 V (y, w) = a(y)

i.e., w = U Out (y). The renegotiation-proof contract is thus constrained by
w0 (y, w; y 0 ) ≥ U Out (y) − ν(y). The equivalence between renegotiation-proof
contracts with all the bargaining power held by the agent, and our environment
then follows.


4       Conclusion
In this paper we have constructed a model of long-term relationships between
risk averse agents with random income shocks and risk-neutral profit-maximizing
principals. We have assumed one-sided commitment in that only the principal
can commit a priori to the long-term contract. The outside option for the agent
is given by contracts oﬀered by competing principals. The paper analyzes the
benchmark case of perfect competition and zero costs of moving: agents neither
lose resources during the period of moving, nor are they required to stick to the
current contract for at least one period.
    We have shown that nonnegative steady state profits for the principal nec-
essarily imply that the equilibrium implements the autarky solution, i.e., that
there cannot be any risk sharing in that case. Furthermore, we have shown that
these autarky equilibria can only arise if the principal is suﬃciently patient.
Otherwise, with suﬃciently impatient principals, risk sharing will be observed:
this includes in particular the benchmark case of equal discount rates for agents
and principals. Agents signing up with the principal will initially pay some
“contract fee” in the high income state. The principal in turn promises to pro-
vide costly insurance later on in the life of the contract. The agent thus turns
into a liability to the principal in expected income terms. Competition therefore
only aﬀects the size of the initial up-front payment but not the unfolding of the
contract later on.




                                       29
References
 [1] Abreu, D., D. Pearce and E. Stacchetti (1986): “Optimal Cartel Equilibria
     with Imperfect Monitoring,” Journal of Economic Theory, 39, 251-269.
 [2] Alvarez, F. and U. Jermann (2000), “Eﬃciency, Equilibrium and Asset
     Pricing with Risk of Default,” Econometrica, 68 ,775-797.
 [3] Alvarez, F. and U. Jermann (2001), “Quantitative Asset Pricing Implica-
     tions of Endogenous Solvency Constraints,” Review of Financial Studies,
     14,1117-1152.
 [4] Atkeson, A. (1991): “International Lending with Moral Hazard and Risk
     of Repudiation,” Econometrica, 59, 1069-1089.
 [5] Atkeson, A. and R. Lucas (1992): “On Eﬃcient Distribution with Private
     Information,” Review of Economic Studies, 59, 427-453.
 [6] Atkeson, A. and R. Lucas (1995): “Eﬃciency and Equality in a Simple
     Model of Eﬃcient Unemployment Insurance,” Journal of Economic Theory,
     66, 64-88.
 [7] Beaudry, P. and J. DiNardo (1991): “The Eﬀect of Implicit Contracts on
     the Movement of Wages over the Business Cycle: Evidence from Micro
     Data,” Journal of Political Economy, 99, 665-688.
 [8] Bewley, T. (1986): “Stationary Monetary Equilibrium with a Continuum
     of Independently Fluctuating Consumers,” in W. Hildenbrand and A. Mas-
     Colell (eds.), Contributions to Mathematical Economics in Honor of Gerard
     Debreu, North-Holland, Amsterdam.
 [9] Bulow, J. and K. Rogoﬀ (1989): “Sovereign Debt: is to Forgive to Forget?,”
     American Economic Review, 79, 43-50.
[10] Fudenberg, D. , B. Holmstrom and P. Milgrom (1990): “Short-term Con-
     tracts and Long-term Agency Relationships,” Journal of Economic Theory,
     51, 1-31.
[11] Green, E. (1987): “Lending and Smoothing of Uninsurable Income,” in E.
     Prescott and N. Wallace (eds.), Contractual Arrangements for Intertempo-
     ral Trade, University of Minnesota Press, Minneapolis.
[12] Harris, M. and B. Holmstrom (1982), “A Theory of Wage Dynamics,” Re-
     view of Economic Studies, 49, 315-333.
[13] Hopenhayn, H. and E. Prescott (1992): “Stochastic Monotonicity and Sta-
     tionary Distributions for Dynamic Economies,” Econometrica, 60, 1387-
     1406.
[14] Kocherlakota, N. (1996): “Implications of Eﬃcient Risk Sharing without
     Commitment,” Review of Economic Studies, 63, 595-609.

                                      30
[15] Kehoe, T. and D. Levine (1993): “Debt Constrained Asset Markets,” Re-
     view of Economic Studies, 60, 865-888.
[16] Kehoe, T. and D. Levine (2001): “Liquidity Constrained Markets versus
     Debt Constrained Markets,” Econometrica, 69, 575-598.
[17] Kletzer, K. and B. Wright (2000): “Sovereign Debt as Intertemporal
     Barter,” American Economic Review,90, 621-639.
[18] Krueger, D. (1999): “Risk Sharing in Economies with Incomplete Markets,”
     mimeo, Stanford University.
[19] Krueger, D. and F. Perri (1999): ”Risk Sharing: Private Insurance Markets
     or Redistributive Taxes”, Federal Reserve Bank of Minneapolis Staﬀ Report
     262.
[20] Ligon, E., J. Thomas and T. Worrall (2000): “Mutual Insurance, Individual
     Savings, and Limited Commitment,” Review of Economic Dynamics, 3,
     216-246.
[21] Lustig, H. (2001): “Bankruptcy and Asset Prices,” mimeo, Stanford Uni-
     versity.
[22] Malcomson, J. (1988) and F. Spinnewyn: “The Multiperiod Principal-
     Agent Problem,” Review of Economic-Studies, 55, 391-407.
[23] Malcomson, J. (1999): “Individual Employment Contracts,” in Ashenfel-
     ter, Orley; Card, David (eds.) Handbook of Labor Economics, Volume 3B,
     Elsevier Science, North-Holland, Amsterdam, 2291-2372.
[24] Phelan, C. (1994): “Incentives and Aggregate Shocks,” Review of Economic
     Studies, 61, 681-700.
[25] Phelan, C. (1995): “Repeated Moral Hazard and One-Sided Commitment,”
     Journal of Economic Theory, 66, 488-506.
[26] Rey, P. and B. Salanie (1990): “Long-term, Short-term and Renegotiation:
     On the Value of Commitment in Contracting,” Econometrica, 58, 597-619.
[27] Rey, P. and B. Salanie (1996), “On the Value of Commitment with Asym-
     metric Information,” Econometrica, 64, 1395-1414.
[28] Spear, S. and S. Srivastava (1987) “On Repeated Moral Hazard with Dis-
     counting,” Review of Economic Studies, 54, 599-617.
[29] Thomas, J. and T. Worrall (1988): “Self-Enforcing Wage Contracts,” Re-
     view of Economic Studies, 55, 541-554.




                                     31
A      The Sequential Formulation of the Game Be-
       tween Locations
To formulate the game sequentially, we need some more notation. For dates q
and t ≥ q, let yit,q = (yq,i , yq+1,i , . . . , yt,i ) denote the endowment history from
q to t for agent i. A contract for agents newly arriving at principal j at date q
specifies mappings ct;q,j (yit,q ), t = q, q + 1, . . . , defining consumption given the
location-specific endowment history from date q to date t. We assume that
agents never return to a location they left, so that there is no issue of “res-
urrecting” old records. Agents originally present at principal j are assumed
to draw their initial income y0,i from some initial distribution. For the recur-
sive formulation, we shall assume that this initial distribution is the stationary
distribution.
    Principals behave competitively and agents arrive with a “blank” history, i.e.
a new principal does not make particular use of the fact that new arrivals must
be agents who have defaulted on their previous principal. As mentioned above,
to make this assumption more appealing, one could assume that a fraction ² of
agents is forced to move every period anyhow: in equilibrium, these are the only
movers, so it is reasonable for the principal in the new location not to attach
any particular significance to the fact that an agent has switched locations. The
game unfolds as follows:
   1. A new date t begins and each agent draws his new endowment yt,i .
   2. Each principal j ∈ [0; 1] issues a new contract cs;q,j (yis,t ), s = t, t + 1, . . .
      for agents willing sign with him this period.
   3. Each agent decides whether to move or not, choosing the new principal
      j according to his or her preferences. He (or she) keeps the endowment
      process y including the current endowment yt,i .
   4. Given the current principal j, arrival date q ≤ t in that location and cur-
      rent endowment history y t,q , agents provide their income to the principal
      and receive consumption goods ct;q,j (yit,q ), t = q, q + 1, . . . .
   5. Let µj,t denote the measure of agents at principal j at date t (after the
      moving decision). The principal receives the total resource surplus
                                  Z
                            Sj,t = (yt,i − ct,i ) µj,t (di)                (58)

      We allow Sj,t to be negative. The objective of the principals is to maximize
                                  µ       ¶    "∞            #
                            (P )        1       X
                                                       −t
                          Uj = 1 −          E0       R Sj,t
                                       R        t=0

      We focus on stationary symmetric sub-game perfect equilibria, giving rise
      to the recursive formulation in the main body of the paper.


                                           32
   Competitive Risk Sharing Contracts with
  One-Sided Commitment: Technical Appendix
       Dirk Krueger                                Harald Uhlig
 University of Pennsylvania               Humboldt University Berlin,
        and NBER                         University of Tilburg and CEPR
                              November 17, 2003

                                     Abstract
        This appendix provides details of some of the proofs in the main paper

Proposition 1 (Proposition 4 in Main Text) Let outside options (U Out (y))y∈Y ∈
[w, w̄] and β < 1 < R by given. Further suppose ¡ that condition 1 in  ¢ the main
text is satisfied. Then, an optimal contract for (U Out (y))y∈Y , w, w̄ exists and
has the following properties.

  1. V (y, w) is strictly convex, strictly increasing, continuous and diﬀerentiable
     in w.
  2. The decision rules are unique and continuous.
  3. The decision rules and the solution to the dynamic programming problem
     satisfy the first order conditions and the envelope condition
                                     µ       ¶
                                           1
                      (1 − β)λ =      1−       C 0 (h)                   (1)
                                          R
                                     1 ∂V 0 0
                            λβ =          (y , w (y, w; y 0 )) − µ(y 0 ) (2)
                                     R ∂w
                                     ∂V
                             λ =        (y, w)                           (3)
                                     ∂w
                             λ ≥ 0                                       (4)
                             0                  0
                          µ(y ) ≥ 0, for all y ∈ Y                       (5)

     where λ and µ(y 0 ) are the Lagrange multipliers on the first and second
     constraints.
  4. The decision rule h(y, w) is strictly increasing in w. The decision rule
     w0 (y, w; y 0 ) is weakly increasing in w, and strictly so, if the continuing
     participation constraint w0 (y, w; y 0 ) ≥ U Out (y 0 ) − ν(y 0 ) is not binding.


                                         1
  5. If the income process is iid, then V (y, w) depends on w alone, V (y, w) ≡
     V (w). If additionally U Out (y 0 ) − ν(y 0 ) is weakly increasing in y 0 , then
     w0 (y, w; y 0 ) is weakly increasing in y 0 .

   Proof. While the proof draws on fairly standard techniques as in Stokey,
Lucas with Prescott (1989), some points require particular attention.

  1. Condition 1 assures that the equation
                                          X
                       w = (1 − β)h + β     π(y 0 |y)w0 (y 0 )
                                             y0 ∈Y


     subject to w0 (y 0 ) ≥ U Out (y 0 ) − ν(y 0 ) always has a solution. Existence
     and convexity of V follows from a standard contraction argument. The
     contraction argument also shows that V (y, ·) is strictly increasing.
     To prove that V (y, ·) is strictly convex we make use of the fact that
     under our assumptions the value function from the sequential and the
     recursive problem of the principal coincide. Now consider some y and
     w1 6= w2 and, for each wi , consider a stochastic sequence of optimal
     choices (yt,i , wt,i , ht,i )∞
                                  t=0 from iterating the solution to the dynamic pro-
     gramming problem forward, starting with y0,i = y and w0,i = wi . Note
     that we do not require at this point that there is a unique solution. Note
     that w − β w̄ ≤ ht ≤ w̄ − βw. This implies convergence of discounted sums
     of the ht,i and, per iteration,
                                                               
                                                    ∞
                                                    X
                                   wi = (1 − β)E      β t ht,i 
                                                j=0


     A similar iteration for V (y, wi ) and observing the upper bound V (y, w) ≤
     V (y, w̄)) ≤ C(w̄) < ∞ yields
                                                            
                                            X ∞
                                                 1
                           V (y, wi ) = E         t
                                                     C(ht,i )
                                             j=0
                                                 R

     Consider now the convex combination wλ = λw1 + (1 − λ)w2 . A feasible
     plan is given by the convex combination of (wt,i , ht,i )∞
                                                              t=0 , with costs given
     by
                                       
                        X∞
                            1
              Vλ = E         t
                                C(ht,λ ) < λV (y, w1 ) + (1 − λ)V (y, w2 )
                        j=0
                            R

     where ht,λ = λht,1 + (1 − λ)ht,2 and the inequality follows from the strict
     convexity of the cost function C. Obviously V (y, wλ ) ≤ Vλ < λV (y, w1 ) +
     (1 − λ)V (y, w2 ).


                                         2
   2. With strict convexity, diﬀerentiability and uniqueness of the decision rules
      now follow from standard arguments.
   3. Likewise, deriving the first-order conditions are standard.
   4. The monotonicity properties in w follow from the first order conditions,
      the fact, that V (y, w) is strictly convex in w and the strict convexity of
      the cost function c = C(h).
   5. The fact that V does not depend on y in the iid case follows from the fact
      that y appears in the Bellman equation within the conditional probabilities
      π(y 0 |y), which are independent of y in the iid case. The properties for
      w0 (w, y; y 0 ) follow from the first order conditions, the fact that U Out (y) −
      ν(y) is increasing in y and strict convexity of V .


Proposition 2 (Proposition 5 in Main Text)       © Let condition
                                                           ª            1 be satisfied.
Then an optimal contract and outside options U Out (y) y∈Y satisfying (13) in
the main ªtext exist. If the income process is iid (or w0 (y, w; y 0 ) associated with
©
 U Out (y) y∈Y is weakly increasing in y), then an equilibrium exists.

     Proof. We will prove this proposition for ν(y) ≡ 0; equivalent arguments
prove existence for the general case. We first prove that there exists outside op-
tions U Out = (U Out (y1 ), . . . , U Out (ym )) and associated value and policy func-
                         0       0                                         Out
tions VU Out , hU Out , wU Out (y ) of the principals solving VU Out (y, U     (y)) = a(y)
for all y. Then we prove that the Markov transition function induced by π and
  0        0
wU   Out (y ) has a stationary distribution.

     For the first part define the function f : [w, w̄]m → [w, w̄]m by
      £       ¤
    fj U Out = min{w̃ ∈ [w, w̄] : VU Out (yj , w̃) ≥ a(yj )} for all j = 1, . . . , m
We need to show three things: 1) The function f is well defined on all of
[w, w̄]m , 2) The function f is continuous, 3) Any fixed point w∗ of f satisfies
Vw∗ (yj , wj∗ ) = a(yj ) for all j = 1, . . . , m. We discuss each point in turn
   1. If the set {w̃ ∈ [w, w̄] : VU Out (yj , w̃) = a(yj )} is non-empty for all j,
      then the function f is well-defined since the minimization over w̃ is a
      minimization of a continuous function over a compact set. To show that
      the set is non-empty for all j and all U Out ∈ [w, w̄]m it suﬃces to show
      that Vw (yj , w̄) ≥ a(yj ) for all j, since Vw (yj , w) is strictly increasing in w
      and Vw (yj , w) ≤ VU Out (yj , w) for all U Out ∈ [w, w̄]m and all w ∈ U Out ∈
      [w, w̄]. Let V̂ denote the cost function of a principal that does not face the
      competition constraints. But then
                      Vw (yj , w̄) ≥ V̂ (yj , w̄) = ā ≡ max a(yi ) ≥ a(yj )
                                                         i

      where the first equality follows from the definition of w̄ in the main text.
      This proves the first point in our list.

                                            3
2. In order to prove that f is continuous in U Out ∈ [w, w̄]m it is useful to
   rewrite f as
              ½
     £      ¤                     = w£                  if VU Out (yj , w) > a(yj )
   fj U Out                                 ¤
                solves VU Out (yj , fj U Out ) = a(yj ) if VU Out (yj , w) ≤ a(yj )

                       £      ¤
   In the first case fj U Out is independent of U Out , in the second case it
   moves continuously in U Out as long as VU Out (., .) is uniformly continuous
   in U Out . Furthermore the switching point between the two cases moves
   continuously with U Out if VU Out (., .) is uniformly continuous in U Out .
   Thus it suﬃces to show uniform continuity of VU Out (., .) in U Out . Take
   a sequence {UnOut }∞n=0 in [w, w̄]
                                     m
                                       converging to U Out . Let k.k denote the
   sup-norm and TUnOut the operator associated with the Bellman equation
   (7) for outside options UnOut . Let TUk Out denote the TUnOut operator being
                                          n
   applied k times. Note that by the triangle inequality
     °                ° °                         ° °                        °
     °VU Out − VU Out ° ≤ °
                          °V U
                                       n          ° ° n                      °
                               Out − T Out VU Out ° + °T Out VU Out − VU Out °
          n                    n       Un                Un



                                                         °                       °
                                                         °                       °
   Since TUnOut is a contraction mapping for all UnOut , °VUnOut − TUnOut VU Out °
                                                                      n
   converges to 0 as n → ∞. Again by the triangle inequality and the fact
   that TUnOut is a contraction mapping with modulus R1 we have
       °                       °   n °
                                   X                               °
       ° n                     °     ° k                           °
       °TUnOut VU Out − VU Out ° ≤   °TUnOut VU Out − TUk−1 V
                                                         Out U Out °
                                                                     n
                                          k=1
                                          n−1
                                          X         °                       °
                                     ≤          R−k °TUnOut VU Out − VU Out °
                                          k=0
                                          n−1
                                          X         °                              °
                                     =          R−k °TUnOut VU Out − TU Out VU Out °
                                          k=0

   where the lastPequality    follows from the fact that VU Out° is a fixed point of               °
   TU Out . Since n−1   R  −k
                               converges, if  we can show that °TU Out VU Out − TU Out VU Out °
                    k=0                                 °          n     °
   converges to 0 in n we have demonstrated that °VUnOut − VU Out ° converges
   to 0 in n, that is, VUnOut converges to VU Out uniformly. Consider the func-
   tion
                                              µ       ¶           X
                                                    1        1
   ψ(y, w, U Out ) =           min              1−      C(h) +          π(y 0 |y)VU Out (y 0 , w0 (y 0 ))
                          0 0
                     h,{w (y )}∈Γ(y,wU  Out )       R       R      0     y ∈Y



   with constraint set
   Γ(y, w, U Out ) = {h, w0 (y 0 )|h ∈ D, w0 (y 0 ) ∈ [w, w̄], (8) and (9) of main text}.



                                           4
   on Y × [w, w̄]m+1 . Since for all (y, w, U Out ) ∈ Y × [w, w̄]m+1 the objective
   function is continuous and the constraint set is continuous, non-empty and
   compact-valued, by the theorem of the maximum ψ is continuous, and
   thus continuous in particular with respect to U Out . Uniformity follows
   from the compactness of the space Y × [w, w̄]m+1 , so that VUnOut converges
   to VU Out uniformly. From points 1. and 2. it follows that the function f
   defined above is well-defined and continuous on the compact space [w, w̄]m .
   Brouwer’s fixed point theorem now guaranties existence of a w∗ ∈ [w, w̄]m
   such that w∗ = f (w∗ ). In point 3. we now argue that this fixed point has
   the desired property that Vw∗ (yj , wj∗ ) = a(yj ).
3. Suppose not. Then there is some non-empty index set J , so that Vw∗ (yj , wj∗ ) =
                    / J and Vw∗ (yj , wj∗ ) > a(yj ) as well as wj∗ = w for j ∈ J .
   a(yj ) for all j ∈
   We will now show that Vw∗ cannot be the solution to its Bellman equa-
   tion. Let ∆ = maxj (Vw∗ (yj , wj∗ ) − a(yj )): by assumption in this proof by
   contradiction, ∆ > 0. Let T be large enough so that
                         1 − R−T                 1
                                 (y − min yj ) + T ∆ < 0
                         1 − R−1       j        R
   Such a T exists, since we have assumed in our definition of the lower bound
   w that y − minj yj < 0. We will now construct sequential allocations that
   attain utility promises w∗ (y0 ) at lower cost than Vw∗ (y0 , w∗ (y0 )), contra-
   dicting the fact that Vw∗ (., .) is the cost function associated with outside
   options w∗ . Let Vseq (y, w) denote the cost function from the sequential
   allocation to be constructed now. Let σ t = (w0 , j0 , . . . , jt ) be the history
   of income states until date t, including the initial
                                                      ¡    promise w0 ∈ [w,¢ w̄].
   A sequential decision rule must specify choices h(σ t ), (w0 (yj0 ; σ t ))m
                                                                             j=1 for
   any t and any history σ t . Consider the following allocation: for a given t
   and σ t :
      • If t < T and if js ∈ J for all s ≤ t and if w0 = w∗ (y0 ), provide utility
        ht = h (where h is specified below). Furthermore, set the promises
        (w0 (yj0 ; σ t ))m                             ∗
                         j=1 equal to the fixed point w .
      • If t ≥ T or if t < T and if js ∈         / J for some s ≤ t or if w0 6=
        w∗ (y0 ), provide utility hjt and promises (w0 (yj0 ; σ t ))m
                                                                    j=1 according to
        the decision rule of the proposed solution Vw∗ (y, w), where y = yt
        and w = w0 (yt ; σt−1 ), if t > 0, and w = w0 , if t = 0.
   We need to check that a) the continuation promise is always at least as
   large as the outside option w∗ , b) the realized utility w(σ t ) to the agent is
   always equal to the promise w = w0 (yt ; σt−1 ), if t > 0, and w = w0 if t = 0.
   and c) the resulting cost function Vseq is nowhere higher than the candidate
   solution Vw∗ , i.e. Vseq (y0 , w0 ) ≤ Vw∗ (y0 , w0 ). Furthermore, the costs are
   not larger than a(yj ) for all j and all initial states (y0 = yj , w∗ (y0 )). Then,
   since the costs exceed a(yj ) for some j in the proposed solution Vw∗ to the
   Bellman equation, this then renders a contradiction that Vw∗ is a solution
   to the Bellman equation. Let us check each of the items a) - c) above.

                                        5
a. Continuation promise is always is at least as large as the outside
   options w∗ . True by construction, since it is true for the decision rules of
   Vw∗ and since it is also true at the changed decisions under the first bullet
   point.
b. Realized utility w(σ t ) of agent equals the promise w = w0 (yt ; σ t−1 ),
   if t > 0, and w = w0 if t = 0. Since this must be true along histories
   simply following the decision rules given by the candidate solution Vw∗ ,
   we only need to check this for the case that t < T , js ∈ J for all s ≤ t and
   w0 = w∗ (y0 ). But along these paths, w0 = w for t = 0 and w0 (yt ; σ t−1 ) =
   w∗ (y 0 ) for t > 0. The claim follows with
                                           X
                         w = (1 − β)h + β      π(y 0 |yt )w∗ (y 0 )
                                                 y0 ∈Y

   Note that condition 1 in the main text assures that the h required by this
   equation lies in D and that consequently there exists a c ∈ (0, y] such that
   h = u(c). The fact that c ≤ y follows from the fact that w∗ (y 0 ) ≥ w and
   the definition of y in the main text.
c. Resulting cost function is nowhere higher than the candidate
   solution Vw∗ , i.e. Vseq (y0 , w0 ) ≤ Vw∗ (y0 , w0 ). Furthermore, the
   costs are not larger than a(yj ) for all j and all initial states (y0 =
   yj , w∗ (y0 )). The claim is true by construction if the sequential decisions
   just follows along the decision rules of the candidate solution Vw∗ , since
   in particular, Vw∗ (yj , wj∗ ) = a(yj ) for all j ∈   / J . Consider now j ∈ J ,
   the initial state y0 = yj and the initial promise w∗ (y0 ) = w. Consider all
   possible histories σ T until date T and define the stopping time τ (σT ) to
   be the earliest date t = 1, . . . , T , at which jt ∈  / J , and set τ (σ T ) = T , if
   all jt , t = 1, . . . , T belong to the set J . Let π(σ T , t) the probability of the
   history, truncated at date t. The costs can now be calculated directly as
                                                                                                                       
                            µ      ¶ X  τ (σX   T )−1                                                                    
                                 1                    1                    1                                  ∗
   Vseq (y0 , w) =           1−                           π(σ T , t)c   +          π(σ T , τ (σ T ))V (y jt , w   (y jt ))
                                 R σ           t=0
                                                       Rt                 Rτ (σT )                                        
                                       T
                                                                                                                        
                            µ      ¶ X  τ (σX   T )−1                                                                     
                                 1                    1                    1                                  ∗
                     ≤       1−                           π(σ T , t)y   +          π(σ T , τ (σ T ))V (y jt , w   (y jt ))
                                 R σ           t=0
                                                       Rt                 Rτ (σT )                                         
                                       T



   where the inequality follows from the fact that c ≤ y. Now note the fol-
   lowing. For any history σ T , for which jt ∈      / J for some t ≤ T , we have
   V (yjt , w∗ (yjt )) = a(yjt ) at t = τ (σ T )) and we have costs no larger than
   y < min yj for t < τ (σ T )), so that costs conditional on these paths are no
   higher than the net present value a(y0 , σT ) of the income, conditional on




                                             6
      these paths, where
                      µ      ¶ ÃÃTX−1
                                                      !                        !
                           1                    1                    1
        a(y0 , σ T ) = 1 −            π(σ T , t) t yjt + π(σ T , T ) T a(yjT )
                           R      t=0
                                                R                   R


      Finally consider the histories σT , for which jt ∈ J for all t = 0, . . . , T .
      For these paths, the contribution κ(σ T ) to the costs are
                  µ        ¶ ÃÃTX −1
                                                   !                                   !
                         1            1                  1                      ∗
      κ(σ T ) =     1−                  π(σ T , t)c + T π(σ T , T )V (yjt , w (yjt ))
                        R       t=0
                                     Rt                 R
                  µ        ¶ ÃÃTX −1
                                                   !                                   !
                         1            1                  1
              ≤     1−                  π(σ T , t)y + T π(σT , T )V (yjt , w∗ (yjt ))
                        R       t=0
                                     Rt                 R
                              µ        ¶ ÃÃ  T  −1
                                                                             !                !
                                     1       X     1                                1
              ≤ a(y0 , σ T ) + 1 −                    π(σ T , t)(y − min yj ) + T π(σ T , T )∆
                                     R        t=0
                                                   Rt                 j           R
                              µ        ¶            µ                                  ¶
                                     1                1 − R−T                      1
              ≤ a(y0 , σ T ) + 1 −       π(σT , T )              (y − min y j ) +     ∆
                                     R                1 − R−1           j         RT
              ≤ a(y0 , σ T )
      by our assumption about T . This finishes the check of point c), thus part
      3. and therefore the entire proof of the existence of equilibrium outside
      options U Out = w∗ . It remains to be shown that a stationary distribution
      associated with the optimal decision rules for equilibrium outside options
      w∗ exist.
    From now on let (h, w0 (y 0 )) denote the optimal policies of the principal
associated with the equilibrium outside options U Out = w∗ , whose existence
was established above. We know that {w0 (y, w; y 0 )}y0 ∈Y are continuous func-
tions on Z. Let Q : Z × B(Z) → [0, 1] denote the Markov transition function
as defined in the main text. Since the policy functions are continuous and
hence measurable, by theorem 9.13 of Stokey et al. (1989) Q is indeed a well-
defined transition function. Furthermore, by their theorem 8.2. the operator
T ∗ : Λ(Z × B(Z)) → Λ(Z × B(Z)) mapping the space of probability measures
on (Z × B(Z)) into itself and defined as
                                      Z
                          T ∗ Φ(A) = Q(z, A)Φ(dz)

is well-defined. Showing that there exists an invariant probability measure Φ
associated with Q amounts to showing the existence of a fixed point of the
operator T ∗ . If w0 (y, w; y 0 ) is increasing in both y and in w then this result (but
not uniqueness) follows from Corollary 4 of Hopenhayn and Prescott (1992), the
assumptions of which are easily verified under this condition. We established
above monotonicity in w; with respect to monotonicity in y we note that if
income is iid, this is trivially true, but any other assumption rendering this true
(in particular, assumptions on the transition matrix π) does work as well.

                                           7
Proposition 3 (Proposition 9 in Main Text) Assume that condition 1 holds.

   1. An equilibrium satisfying the nonnegative steady state profit condition ex-
      ists, if and only if

                                              R ∈ (1, R̄]                               (6)

      where
                                                 C 0 (h)   1
                                         R̄ =        0
                                                         ≤                              (7)
                                                βC (h̄)    β

   2. If it exists, the equilibrium has the following form
                                     µ          ¶
                                            1
                        V (y, w) =     1−         (C(h(y, w)) − y) + a(y)               (8)
                                           R
                         c(y, w) = C(h(y, w))                                           (9)
                    w (y, w; y 0 ) = waut (y 0 )
                      0
                                                                                       (10)
                        U Out (y) = waut (y)                                           (11)

      profits γ = 0 and a positive measure Φ as constructed above.
   3. No equilibria satisfying the nonnegative steady state profit condition exist
      for any R, if R̄ ≤ 1.
   4. Suppose that βR = 1. Then, no equilibrium satisfying the nonnegative
      steady state profit condition exists.
   5. Suppose that the endowment process is iid. Then

                                       1 C 0 (u(y1 ))   1 u0 (ym )
                               R̄ =       0
                                                      =                                (12)
                                       β C (u(ym ))     β u0 (y1 ))

    Proof. Suppose there is an equilibrium. We shall show that this either leads
to a contradiction, or that it has to be of the form given above. Consider the
Bellman equation (13)
                                       µ      ¶         X
                                            1       1
V (y, w) =             min              1 −     C(h) +      π(y 0 |y)V (y 0 , w0 (y 0 ))
                     0  0
              h∈D,{w (y )∈[w,w̄]}y0 ∈Y      R       R    0      y ∈Y
                                                                                       (13)
                               X
                                          0         0   0
  s.t. w   = (1 − β)h + β              π(y |y)w (y )                                   (14)
                               y0 ∈Y


with the outside option given by the autarky level U Out (y) = waut (y) for all y ∈
Y and with the domain Z = Y ×[w, w̄]. As discussed above, proposition 8 implies
that w0 (y 0 ) = w0 (y, w; y 0 ) = waut (y 0 ). It also implies that V (y, waut (y)) = a(y).


                                                8
The first fact and the first constraint in the Bellman equation together imply
that h = h(y, w), defined as in equation (15):
                                      P
                               w − β y0 ∈Y π(y 0 |y)waut (y 0 )
                    h(y, w) =                                              (15)
                                           1−β
All these facts and a short calculation (alternatively one may guess the func-
tional form of the value function and determine its coeﬃcients) in turn imply
that V (y, w) as well as c(y, w) are of the form stated in the proposition.
    It remains to check that V indeed solves the Bellman equation: if it does,
we have constructed an equilibrium. If not, there cannot be an equilibrium.
Note that V (y, w) is strictly convex and diﬀerentiable in w: checking the con-
straints and the first-order conditions is therefore necessary as well as suﬃcient.
The constraints are satisfied by construction: what remains are the first-order
conditions, given in proposition (1).
    Taking the functional form for V in the proposition and diﬀerentiating shows
equations (1), (3) and (4) to be satisfied. Equation (2) can be rewritten as
an equation defining µ(y 0 ): it therefore only remains to check the inequality
constraints (5). Define

                                              (1 − β)R
                            ν(y, w; y 0 ) =              0
                                                    1 µ(y )                    (16)
                                                1− R

Rewriting (5) with the help of the other equations to see that

                     ν(y, w; y 0 ) = C 0 (u(y 0 )) − RβC 0 (h(y, w))           (17)

Therefore, we have obtained a solution if and only if ν(y, w; y 0 ) ≥ 0 for all
y, y 0 ∈ Y and w ≤ w ≤ w̄. Minimizing over this set finally shows, that it suﬃces
to check the worst case scenario y 0 = miny∈Y y and h(y, w) = h̄. Hence we have
shown that an equilibrium exists if and only if (7) is satisfied. Note that these
inequalities have to be satisfied in order to be able to implement the autarky
solution, as demanded by proposition 7 in the main text. The other results
trivially follow from the first part of the proposition.

Proposition 4 (Proposition     ©       ª in Main Text) Any contract equilibrium V (y, w),
                                      16
w0 (y, w; y 0 ), c(y, w) and U Out (y) y∈Y can be implemented as a solution W (y, b),
b0 (y, b; y 0 ), C(y, b) to the consumption-savings problem above with borrowing con-
straint given by
                            R ¡                              ¢
                  b(y) =       V (y, U Out (y) − ν(y)) − a(y)                  (18)
                           R−1
Conversely, for given borrowing constraints b(y) ≤ 0 and associated solution to
the consumption-saving problem W (y, b), b0 (y, b; y 0 ), C(y, b) there exist moving
costs

                        ν(y) = W (y, 0) − W (y, b(y)) ≥ 0


                                              9
such that the solution to the consumption-savings problem ©can be implemented
                                                                          ª
as a contract equilibrium V (y, w), w0 (y, w; y 0 ), c(y, w) and U Out (y) y∈Y . The
moving costs satisfy

                      U Out (y) − ν(y) = W (y, b(y)) for all y ∈ Y                        (19)

    Proof. In the contract economy the state variables of a contract are (y, w),
in the consumption-savings problem they are (y, b). Define the mapping between
state variables as
                                    R
                         b(y, w) =        (V (y, w) − a(y))                               (20)
                                   R−1
                         w(y, b) = W (y, b)                                               (21)

where both functions are strictly increasing in their second arguments and thus
invertible. We denote the inverse of b(y, w) by w = b−1 (y, b): it is that lifetime
utility level w which requires initial bond holdings b to realize that level in the
bond economy. Let b = w−1 (y, w) be similarly defined. Furthermore define
b = w−1 (y, w) and b̄ = w−1 (y, w̄).1 Finally define the map between policies and
value functions in the two problems as

                             c(y, b) = C(h(y, w(y, b)))                                   (22)
                         b (y, b; y 0 ) = b(y 0 , w0 (y, w(y, b); y 0 ))
                          0

                           W (y, b) = b−1 (y, b)

and

                             h(y, w) = u(c(y, b(y, w)))                                   (23)
                        w0 (y, w; y 0 ) = w(y 0 , b0 (y, b(y, w); y 0 ))
                            V (y, w) = w−1 (y, w)

    With policies so defined it is straightforward to verify that (W, c, b0 ) con-
structed from the contract problem as in (22) satisfy the Bellman equation of
the consumption problem (since the underlying (V, h, w0 ) satisfy the promise
keeping constraint in the contract problem) and the budget constraint (since
(V, h, w0 ) satisfy the Bellman equation of the contract problem). Reversely, one
can equally easily verify that (V, h, w0 ) constructed from the consumption prob-
lem as in (23) satisfy the Bellman equation of the contract problem (since the
underlying (W, c, b0 ) satisfy the budget constraint in the contract problem) and
the promise keeping constraint (since (W, c, b0 ) satisfy the Bellman equation of
the consumption problem).
     1 When mapping the bond economy into the contract economy bounds on bond holdings

[b, b̄] map into utility bounds [w, w̄] in a similar fashion. A lower bound on bond holdings is
always guaranteed via the borrowing constraints; when we start with the bond economy we
assume the existence of an upper bound on bond holdings. Under fairly general conditions this
upper bound can be chosen without imposing additional binding restrictions on the problem
although this is not crucial for the equivalence result).


                                               10
    Now we show that any feasible contract satisfies the borrowing constraint
in the savings problem and that any consumption allocation satisfies the utility
constraints in the contract problem. First we show that the bond holdings
                                        R ¡                                            ¢
             b0 (y, b(w, y); y 0 ) =       V (y 0 , w0 (y, b−1 (y, b); y 0 )) − a(y 0 )          (24)
                                       R−1
derived from the contract problem satisfy the short-sale constraints
                                  R ¡                                            ¢
                     b(y 0 ) =        V (y 0 , U Out (y 0 ) − ν(y 0 )) − a(y 0 )
                                 R−1
in the consumption problem. Since V is strictly increasing in its second argu-
ment and the function w0 (y, w; y 0 ) satisfies

                                 w0 (y, w; y 0 ) ≥ U Out (y 0 ) − ν(y 0 )

we have
                                       R ¡                                             ¢
           b0 (y, b(w, y); y 0 ) =         V (y 0 , w0 (y, b−1 (y, b); y 0 )) − a(y 0 )
                                     R−1
                                       R ¡                                         ¢
                                   ≥       V (y, U Out (y 0 ) − v(y 0 )) − a(y 0 )
                                     R−1
                                   = b(y)

Second we show that the future utility promises

                                 w0 (y, w; y 0 ) = W (y 0 , b0 (y, b; y 0 ))                     (25)

derived from the savings problem satisfy the contract enforcement constraints.
We note, since

                                          b0 (y, b; y 0 ) ≥ b(y 0 )

that

       w0 (y, w; y 0 ) = W (y 0 , b0 (y, b; y 0 )) ≥ W (y 0 , b(y 0 )) = W (y 0 , 0) − ν(y 0 )   (26)

using that the function W is strictly increasing in its second argument and
the definition of v(y 0 ). Now we note that in the consumption problem lifetime
utility w = W (y, b) can be delivered at lifetime cost b + Ra(y)
                                                             R−1 . Thus V (y, w) =
V [y, W (y, b)] = a(y)+ R−1R b is the cost in per-period terms. From this it follows
that

                         V [y 0 , W (y 0 , 0)] = a(y 0 ) = V (y 0 , U Out (y 0 ))

and thus

                                        W (y 0 , 0) = U Out (y 0 )                               (27)


                                                    11
Combining (25)-(27) yields

                             w0 (y, w; y 0 ) ≥ U Out (y 0 ) − ν(y)

that is, the utility promises derived from the consumption problem satisfy the
enforcement constraint. From W (y 0 , 0) = U Out (y 0 ) also (19) immediately fol-
lows.
    These results imply that consumption-bond policies and value function (W, c, b0 )
derived from the contract policies are feasible for the consumption problem and
the value function satisfies the Bellman recursion. It remains to be shown that
for the given value function W on the right hand side of Bellman’s equation
for the consumption problem, the policies (c, b0 ) are indeed optimal. Reversely,
it remains to be shown that for the given value function V on the right hand
side of the contract minimization problem (h, w0 ) are the optimal policies. Since
both directions follow exactly the same logic we shall only prove the direction
that (c, b0 ) are indeed optimal.
    We will do so by arguing that if (c, b0 ) weren’t optimal one can construct
a contract policy from the superior consumption policy that yields lower costs
than the optimal contract allocation, a contradiction. So suppose that
                                                                                                      
               ³                ´                                        X                            
                 c̃, b̃0 (y 0 )   ∈ arg     max           (1 − β)u(c) + β    π(y 0
                                                                                   |y)W (y 0
                                                                                             , b(y 0
                                                                                                     ))
                                        c,(b(y 0 ))y0 ∈Y                  0
                                                                                                       
                                                                           y
   1 X
c+     π(y 0 |y)b(y 0 ) = y + b
   R 0
       y ∈Y

                     b(y 0 ) ≥ b(y 0 ), for all y 0 ∈ Y

for a given (y, b) and that at least for some (y ∗ , b∗ ) ∈ Y × [b, b̄] the bond-
consumption policy (c, b0 ) derived from the contract policies (h, w0 ) yields strictly
worse utility. Let (h̃, w̃0 ) denote the contract policy associated with (c̃, b̃0 ). De-
termine the associated utility promise w∗ (y ∗ , b∗ ) from (21). Since the original
contract allocation associated with (h, w0 ) satisfies the promise keeping con-
straint and (c̃, b̃0 ) yields weakly higher lifetime utility than (c, b0 ), strictly so for
(y ∗ , w∗ ) one can define a new contract policy (ĥ, ŵ0 ) with

                               ĥ = h̃  for (w, y) 6= (w∗ , y ∗ )
                            ĥ = h̃ − ε for (w, y) 6= (w∗ , y ∗ )
                             ŵ0 = w̃0

that also satisfies the promise-keeping constraint for small enough ε > 0 (and
the outside option constraints, since (h̃, w̃0 ) does, as it is derived from which




                                              12
satisfy the short-sale constraint). By definition
                   µ        ¶
                          1                      1 X
  V (y ∗ , w∗ ) =    1−       C(h(y ∗ , w∗ )) +      π(y 0 |y)V (y 0 , w0 (y ∗ , w∗ ; y 0 ))
                          R                      R 0
                                                   y
                   µ        ¶                      X
                          1                      1
                =    1−       C(h̃(y ∗ , w∗ )) +     π(y 0 |y)V (y 0 , w̃0 (y ∗ , w∗ ; y 0 ))
                          R                      R 0
                                                   y
                   µ        ¶                      X
                          1                      1
                >    1−       C(ĥ(y ∗ , w∗ )) +     π(y 0 |y)V (y 0 , ŵ0 (y ∗ , w∗ ; y 0 ))
                          R                      R 0
                                                         y


and thus (h̃, w̃0 ) has lower costs that (h, w0 ), a contradiction to the fact that
(h, w0 ) is cost-minimal in the contract problem. Note that the second equality
comes from the fact that both (c, b0 ) and (c̃, b̃0 ) satisfy the budget constraint
in the consumption problem. Also note that a similar proof, based on the se-
quence form of consumption maximization and contract minimization problems
immediately gives the same result.


References
[1] Hopenhayn, H. and E. Prescott (1992): “Stochastic Monotonicity and Sta-
    tionary Distributions for Dynamic Economies,” Econometrica, 60, 1387-
    1406.
[2] Stokey, N., R. Lucas and E. Prescott (1989): Recursive Methods in Economic
    Dynamics, Harvard University Press, MA.




                                              13
