                                NBER WORKING PAPER SERIES




               DECENTRALIZED TRADING WITH PRIVATE INFORMATION

                                           Mikhail Golosov
                                           Guido Lorenzoni
                                           Aleh Tsyvinski

                                        Working Paper 15513
                                http://www.nber.org/papers/w15513


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                    November 2009




We thank Daron Acemoglu, Fernando Alvarez, Manuel Amador, Abhijit Banerjee, Gadi Barlevy,
V.V. Chari, Darrell Duffie, Georgy Egorov, John Geanakoplos, Veronica Guerrieri, Patrick Kehoe,
Lasse Pedersen, Dimitri Vayanos, Pierre Olivier Weill, Asher Wolinsky, Pierre Yared and seminar
audiences at various universities and conferences for useful comments. We are grateful to our discussants
Markus Brunnermeier and Nikolae Garleanu for useful comments and suggestions. The views expressed
herein are those of the author(s) and do not necessarily reflect the views of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2009 by Mikhail Golosov, Guido Lorenzoni, and Aleh Tsyvinski. All rights reserved. Short sections
of text, not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.
Decentralized Trading with Private Information
Mikhail Golosov, Guido Lorenzoni, and Aleh Tsyvinski
NBER Working Paper No. 15513
November 2009
JEL No. D82,D84,G12,G14

                                             ABSTRACT

The paper studies asset pricing in informationally decentralized markets. These markets have two
key frictions: trading is decentralized (bilateral), and some agents have private information. We analyze
how uninformed agents acquire information over time from their bilateral trades. In particular, we
show that uninformed agents can learn all the useful information in the long run and that the long-run
allocation is Pareto efficient. We then explore how informed agents can exploit their informational
advantage in the short run and provide sufficient conditions for the value of information to be positive.
Finally, we provide a numerical analysis of the equilibrium trading dynamics and prices.


Mikhail Golosov                                     Aleh Tsyvinski
Department of Economics                             Department of Economics
Yale University                                     Yale University
Box 208268                                          Box 208268
New Haven, CT 06520-8269                            New Haven, CT 06520-8268
and NBER                                            and NBER
m.golosov@yale.edu                                  a.tsyvinski@yale.edu

Guido Lorenzoni
MIT Department of Economics
E52-251C
50 Memorial Drive
Cambridge, MA 02142-1347
and NBER
glorenzo@mit.edu
1    Introduction
This paper provides a theory of trading and information di¤usion in market environments
which are informationally decentralized. These markets have two key frictions: trading is
decentralized (bilateral) and some agents have private information on the value of the asset
traded. Du¢ e, Garleanu, and Pedersen (2005) started a research agenda of providing a theory
of asset pricing in decentralized environments, focusing on the case in which all information
is publicly observable.1 They argue that many important markets such as over-the-counter
markets are decentralized. Examples of such markets include markets for mortgage-backed
securities, swaps and many other derivatives and real estate markets. In this paper, we study
decentralized environments in which some market participants have private information. We
analyze how their information gradually spreads in bilateral meetings. In particular, we ask
whether all relevant information is revealed over time and whether the informed agents are
able to take advantage of their superior information.
    Our environment is as follows. Agents start with di¤erent endowments of two risky assets,
match randomly, and trade in bilateral meetings. Agents are risk averse so there is potential
for mutually bene…cial trades of the two assets. Before trading begins, a proportion of agents—
the informed agents— receive some information about the value of the assets traded. Namely,
they observe a signal about the payo¤s distribution that determines which one of the two
assets is more valuable. In each period, either the game ends with some probability, assets’
payo¤s are revealed, and the agents consume, or the game continues to the next period. The
only information observed by the agents is the history of their matches, but not the portfolios
of other agents or their trades. Uninformed agents form beliefs about the value of the two
assets based on their own history of trade. This environment is technically and conceptually
challenging to analyze because the distribution of asset holdings and the distribution of agents’
beliefs about the value of the assets are endogenous and change over time. The evolution of
these distributions is crucial in determining the agents’willingness to trade, since it in‡uences
their future trading opportunities.
    Our …rst set of results is a theoretical examination of e¢ ciency of equilibria and of the value
of information. We …rst show that the long-run allocations are Pareto e¢ cient. Our argument
is as follows. First, we focus on the informed agents and prove that their marginal rates of
substitution converge. The intuition for this result is similar to the proof of Pareto e¢ ciency in
the decentralized environments with public information. If two informed agents have di¤erent
marginal rates of substitution, they can always …nd a trade that improves the utility of both. As
their utilities converge to their long run levels, all the potential gains from bilateral trade must
be exhausted leading to contradiction. We then show that the marginal rate of substitution for
   1
     See also Du¢ e, Garleanu and Pedersen (2007), Lagos (2007), Lagos and Rochetau (2007), Lagos, Rochetau,
and Weill (2007), Vayanos (1998), Vayanos and Weill (2007), and Weill (2007).




                                                     2
the uninformed agents also converge. Our argument is based on …nding strategies that allow the
uninformed agents to learn the signal received by the informed agents at an arbitrarily small
cost. The existence of such strategies implies that either agents eventually learn the signal
or this bene…t of learning goes to zero. Finally, we show that this implies that equilibrium
allocations converge to ex post Pareto e¢ cient allocations in the long run.
       We then analyze the value of information in equilibrium. If the initial allocations are not
Pareto e¢ cient, i.e., if there are gains from trade,2 we show that informed agents can receive
a higher lifetime utility than uninformed agents. In other words, private information can have
a positive value. The intuition is that the uninformed agents will learn the true state of the
world only in the long run. Additionally, they have to conduct potentially unpro…table trades
in the short run to learn the state of the world. This is why in the short run there can be
pro…table trading opportunities for the informed agents. We derive su¢ cient conditions for
the value of information to be positive in equilibrium and analyze in detail a simple example,
with only one round of trading, where these conditions are satis…ed. The example is useful to
illustrate the intuition about the strategies and trades of informed and uninformed agents.
       The second set of results is based on a numerical analysis of the trading dynamics. We
develop an algorithm to compute numerically an equilibrium of the dynamic game and to
characterize the evolution of their asset holdings. In particular, we characterize the agents’
relative asset positions: the di¤erence between their holdings of the two assets. Since the total
supply of the two assets is equal, Pareto e¢ ciency in the long run implies that the relative asset
positions of all agents go to zero. That is, all agents converge to a balanced portfolio. Our
simulations characterize the short run behavior of relative asset positions. They show how the
trading behavior of informed agents di¤er depending on their endowment of the valuable asset.
The relative asset position of an informed agent who starts with a low endowment of the more
valuable asset follows a hump-shaped path. This agent accumulates the valuable asset above
its long-run level before the information is revealed. To do so, he mimics the behavior of the
uninformed agents and takes advantage of the fact that uninformed agents do not know which
asset is more valuable. Once information has di¤used in the economy and agents are willing to
buy the more valuable asset at a higher price, this agent starts selling it and converges towards
a balanced portfolio. The strategy of the informed agent with a large initial endowment of
the valuable asset is di¤erent. He slowly decumulates his endowment of the valuable asset.
His strategy is determined both by signalling considerations and by optimal timing. First, he
exchanges small amounts of the valuable asset so as to credibly signal that he attaches a high
value to that asset. Second, he makes small trades because he is waiting for information to
spread through the economy and agents’to attach a higher value to the asset he holds. Finally,
we use our numerical examples to show that it takes longer to converge to e¢ cient allocations
   2
    If the initial allocations are already Pareto optimal, a version of Milgrom and Stokey (1982) no trade theorem
holds (see Brunnermeier, 2001, for a detailed exposition in various trading environments).



                                                        3
in the environment with private information than in the public information environment.
    Our paper is most closely related to Du¢ e and Manso (2007), Du¢ e, Giroux, and Manso
(2009), Du¢ e, Malamud, and Manso (2009a, 2009b) and Amador and Weill (2007, 2008).
Du¢ e and Manso (2007), Du¢ e, Giroux, and Manso (2009), Du¢ e, Malamud, and Manso
(2009a) consider private information trading environments with decentralized markets and
focus on information percolation in these environments. They derive important closed form
solutions for the dynamics of the trade in an environment where agents observe the information
of their match counterparties and derive strong results about the long-run allocations and
dynamics. The crucial di¤erence is that they focus on models in which bilateral meetings lead
to the immediate transmission of private information between the two participants, while we
focus on the problem of strategic information revelation in bilateral trades. In other words,
in our environment the rate at which information disseminates through trade is endogenous.
Amador and Weill (2007, 2008) and Du¢ e, Malamud, and Manso (2009b) study dynamics of
information dispersion in environments where both private and public information are available.
Again, the crucial di¤erence is our focus on strategic issues of information transmission in
bilateral trades.
    Our work is also closely related to the classic contribution of Wolinsky (1990) on information
revelation in pairwise matching environments. The main di¤erence is that in our setting the
good is perfectly divisible and agents can trade at endogenously determined prices rather than
at …xed terms of trade. These assumptions lead to quite di¤erent implications in terms of
e¢ ciency. In particular, in our paper, unlike in Wolinsky (1990), information is fully revealed
and allocations are ex post e¢ cient in the long run. Intuitively, divisibility allows uninformed
agents to strategically experiment by making small, potentially unpro…table trades to learn
valuable information. Other related papers in this line of research are Blouin and Serrano
(2001), who consider a version of Gale (1987) economy with indivisible good and heterogenous
information about its value, and Ostrovsky (2009), who studies information aggregation in
dynamic markets with a …nite number of partially informed strategic traders. Our analysis of
the trades between the informed agents is similar to that of Gale (2000).
    The paper is structured as follows. Section 2 describes the environment. Section 3 provides
long-run characterization of equilibria. Section 4 contains result on trading and informational
rents in the short run. Section 5 contains our numerical analysis. Section 6 concludes. The
Appendix contains most of the formal proofs which are sketched in the body of the paper.


2    Setup and trading game
In this section, we introduce the model and de…ne an equilibrium.




                                                4
2.1    Setup
There are two states of the world S 2 fS1 ; S2 g and two assets j 2 f1; 2g. Asset j is an
Arrow security that pays one unit of consumption if and only if state Sj is realized. There is a
continuum of agents with von Neumann-Morgenstern expected utility E [u(c)], where E is the
expectation operator.
    At date 0, each agent is randomly assigned a type i, which determines his initial endowment
of the two assets, denoted by the vector xi;0         (x1i;0 ; x2i;0 ). There is a …nite set of types N . Each
type i 2 N is assigned to a fraction fi of agents. The aggregate endowment of both assets is 1:
                                       X
                                             fi xji;0 = 1 for j = 1; 2:                                   (1)
                                       i2N

    We make the following assumptions on preferences and endowments. The …rst assumption
is symmetry. For each agent with a given initial endowment, there is another agent with an
endowment that is a mirror image of the …rst.

    Assumption 1. (Symmetry) For each type i 2 N there exists a type j 2 N such that the
fraction of agents is equal, fi = fj , and the endowments are such that (x1i;0 ; x2i;0 ) = (x2j;0 ; x1j;0 ).

    The second assumption imposes usual properties on the utility function. In addition, it
requires boundedness from above and a condition ruling out zero consumption in either state.

    Assumption 2. The utility function u ( ) is increasing, strictly concave, twice continuously
                   2 , bounded above, and satis…es lim
di¤ erentiable on R++                                 c!0 u (c) =               1.

    Finally, we assume that the initial endowments are interior.
                                                                    2 for all types i 2 N .
    Assumption 3. The initial endowment xi;0 is in the interior of R+

    At date 0, nature draws a binary signal s, which takes the values s1 and s2 with equal
probabilities. The posterior probability of S1 conditional on s is denoted by              (s). We assume
that signal s1 is favorable to state S1 and that the signals are symmetric:                (s1 ) > 1=2 and
 (s2 ) = 1      (s1 ). After s is realized, a random fraction             of agents of each type privately
observes the realization of s. The agents who observe s are the informed agents. Those who
do not observe the signal are the uninformed agents.

2.2    Trading
After the realization of the signal s, but before the state S is revealed, all agents engage in
a trading game set in discrete time. Apart from the presence of asymmetric information, our
game is in the tradition of large trading games with bilateral bargaining introduced by Gale
(1987).



                                                       5
        At the beginning of each period t      1, the game continues with probability            < 1 and ends
with probability 1        . When the game ends, the state S is publicly revealed, and the agents
consume the payo¤s of their assets.3
        If the game does not end in a given period, all agents are randomly matched in pairs, and a
round of trading takes place. One of the two agents is selected as the proposer with probability
1=2. The proposer makes a take it or leave it o¤er z = z 1 ; z 2 2 R2 to the other agent. That
is, he o¤ers to deliver z 1 of asset 1 in exchange for           z 2 of asset 2. The other agent, the one
who receives an o¤er, is the responder. He can accept or reject the o¤er. Suppose an agent
holding the portfolio x = x1 ; x2 o¤ers a trade z to an agent with the portfolio x  ~1 ; x
                                                                                 ~= x    ~2 .
If the o¤er is accepted, the proposer’s portfolio becomes x               z, and the responder’s portfolio
becomes x
        ~ + z. We assume that the proposer can only make feasible o¤ers, x                         z    0. The
responder can only accept an o¤er if x
                                     ~+z              0.4   If an o¤er is rejected, both agents keep their
portfolios x and x
                 ~. This concludes the trading round.
        An agent does not observe the portfolio of his opponent or whether his opponent is informed
or not. Moreover, an agent only observes the trading round he is involved in but not the trading
rounds of other agents. Therefore, both trading and information revelation take place through
decentralized, bilateral meetings.

2.3       Equilibrium de…nition
We now de…ne a perfect Bayesian equilibrium of the trading game.
        We begin by describing individual histories. At date 0, a given agent is assigned the type
i 2 N , which determines his initial endowment. Then he either receives no information or
the signal s. That is, he is either an uninformed or an informed agent. The vector h0 2
N        fU; I1 ; I2 g captures the realization of these initial conditions: U stands for uninformed,
I1 and I2 stand for informed with signal, respectively, s1 and s2 . Then, in each period t                    1,
the event ht = ( t ; zt ; rt ) is a vector including the following elements: the indicator variable
t   2 f0; 1g, which is equal to 1 if the agent is selected as the proposer and 0 otherwise; the
o¤er made, denoted by zt 2 R2 ; the indicator rt 2 f0; 1g, equal to 1 if the o¤er is accepted
and 0 otherwise. The sequence ht = fh0 ; h1 ; :::; ht g denotes the history of play up to period t
for an individual agent. Let H t denote the space of all possible histories of length t. Let H 1
denote the space of all in…nite histories, that is, histories along which the game never ends,
and let        = fs1 ; s2 g H 1 . A point in       describes the whole potential history of play for a
    3
     Allowing for further rounds of trading after the revelation of S would not change our results, given that at
that point only one asset has positive value and no trade will occur. Instead of assuming that the game ends, we
can alternatively assume that with probability the private signal becomes public information, and interpret
utilities of the agents as the equilibrium payo¤s from a continuation game with full information. All the results
will remain unchanged.
   4
     The proposer only observes if the o¤er is accepted or rejected. In particular, if an o¤er is rejected the
proposer does not know whether it was infeasible for the responder or the responder just chose to reject.



                                                       6
single agent, if the game continues forever. We will use s; ht to denote the subset of                                         given
by all the ! =      (s; h1 )     2   such that the truncation of                h1   at time t is equal to          ht .
         We now describe a strategy of a given agent. If an agent is selected as the proposer at time
t, his actions are given by the map:

                                                     p
                                                     t    : Ht       1
                                                                         ! P;

where P denotes the space of probability distributions over R2 with a …nite support. That is, we
                                                                                                                           p
allow for mixed strategies and let the proposer choose the probability distribution                                        t   jht   1

from which he draws the o¤er z.5 If an agent is selected as the responder, his behavior is
described by:
                                               r
                                               t   : Ht   1
                                                                 R2 ! [0; 1] ;

which denotes the probability that the agent accepts the o¤er z 2 R2 for each history ht                                             1.

The strategies are restricted to be feasible for both players. A strategy is fully described by
the sequence          =f    p     r g1 .
                            t;    t t=1
         We focus on symmetric equilibria where all agents of the same type play the same strategy
    . Given this strategy, we de…ne a probability measure P on                                 which will be used both to
represent ex ante uncertainty from the point of view of a single agent and to capture the
evolution of the cross sectional distribution of individual histories in the economy. We say
that the probability measure P is consistent with                          , if, for all s and ht         1,   P s; ht     1   is the
probability, conditional on the game ending at time t, that the signal is s and the agent
reaches history ht         1,   if all agents play    . The unconditional probability of the game ending
at time t after signal s and history          ht 1   is then equal to (1                )   t 1P       s; ht   1    . The sequence
F0         F1     F2 :::    F denotes the …ltration generated by the information sets of the agent
at the beginning of each period t. The measure P can also be used to characterize the cross
sectional distribution of individual histories in a symmetric equilibrium: at the beginning of
time t, the mass of agents with history ht                1   is equal to P ht          1 js   .
         The probability measure P can be derived recursively in the following manner. The prob-
ability of the event s; h0 for each h0 2 H 0 is determined by the exogenous assignment of
endowments and information at date 0. For example, P s1 ; h0 = (1=2) fi if h0 = (i; I1 ),
given that the probability of s1 is 1=2, the agent receives the information I1 with probability
and the endowment i with probability fi . Given P s; ht                         1    for all ht    1   2 Ht    1,   the probability
P    s; ht 1     is de…ned by iterating, as follows. Given that agents are randomly matched, the
probability of receiving any o¤er z 2 R2 in period t, for an agent who is not selected as the
     5
    We restrict agents to mix over a …nite set of o¤ers to simplify the measure-theoretic apparatus. None of the
arguments in our proofs require this restriction.




                                                                 7
proposer, is equal to6                                       Z
                                                                      p
                                               t (zjs)   =            t    zjht       1
                                                                                          dP (!js) :

Next, we can construct the probability that any o¤er z 2 R2 is accepted in the period t, which
is                                                           Z
                                                                      r
                                              t (zjs)    =            t    ht    1
                                                                                     ; z dP (!js) :

Given P s; ht            1   ,      t (:js) and  t (:js), it is            then possible to construct P s; ht . Take an
agent with history               h t  1  and suppose that he              is selected as the responder,                   = 0, receives the
                                                                                                                      t
o¤er zt = z, and rejects this o¤er, rt = 0. His history at the beginning of next period is
ht = ht       1 ; (0; z; 0)       and

                                                 1
                                   P s; ht =       1             r
                                                                      ht    1
                                                                                ;z        t (zjs) P   s; ht   1
                                                                                                                  ;
                                                 2

given that 1=2 is the probability that the agent is selected as the responder,                                                t (zjs)   is the
probability to receive o¤er z, and 1                         r       ht 1 ; z        is the probability to reject the o¤er. In a
similar way, we have

                                          1 r t 1
                  P s; ht            =          h ; z t (zjs) P s; ht 1 if ht = (0; z; 1) ;
                                          2
                                          1
                  P s; ht            =      (1     t (zjs))
                                                            p
                                                              zjht 1 P s; ht 1 if ht = (1; z; 0) ;
                                          2
                                          1
                  P s; ht            =         (zjs) p zjht 1 P s; ht 1 if ht = (1; z; 1) :
                                          2 t

Notice that, having restricted agents to randomize over a …nite set of o¤ers, P s; ht will assign
positive probability to a …nite set of histories ht .
      To assess whether the strategy                   is individually optimal, an agent has to form expectations
about his opponents’behavior. The agent’s beliefs are described by two functions:

                                                   t     : Ht         1
                                                                           ! [0; 1] ;
                                                  r
                                                  t      : Ht         1
                                                                                R2 ! [0; 1] ;

which represent, respectively, the probability assigned to signal s1 after history ht                                             1,    at the
beginning of the period, and the probability assigned to signal s1 after history                                               ht 1 ,   if the
agent is the responder and receives o¤er z. The agent’s beliefs are denoted compactly by
              r 1
     = f t;    At each history ht 1 , an agent expects that in each period
              t gt=1 .                                                       t, he will face
                         ~
an opponent with history h   1                                                     ~ 1 js),
                               randomly drawn from the probability distribution P (h
conditional on s, and he expects his opponent to play the strategy . This completely describes
   6
     Given that pt zjht 1 and rt zjht 1 are constant for all ! 2 s; ht 1 , the integrals in this equation and
in the next one can be computed only using our knowledge of P s; ht 1 .



                                                                           8
the agent’s expectations about the current and future behavior of other players. For example,
the probability distribution of o¤ers expected at time t by an agent at ht                                    1   is given by

                                     t (zjs1 ) t    ht   1
                                                             +    t (zjs2 )   1      t    ht   1
                                                                                                     :

The beliefs    t   are required to be consistent with Bayesian updating on the equilibrium path.
This implies that
                                                               P (s1 ; ht 1 )
                                                t   ht   1
                                                             =P           t 1)
                                                                               ;
                                                                s P (s; h
                                               P
for all histories ht 2 H t such that                s P (s; h
                                                                t 1)   > 0. A similar requirement is imposed on the
          r
beliefs   t.
    This representation of the agents’beliefs embeds an important assumption: an agent who
observes his opponent play an o¤-the-equilibrium-path action can change his beliefs about s,
but maintains that the behavior of all other agents, conditional on s, is unchanged. That is,
he believes that all other agents will continue to play                             in the future. This is a reasonable
restriction on o¤-the-equilibrium-path beliefs in a game with atomistic agents and allows us to
focus on the agent’s beliefs about s, given that s is a su¢ cient statistic for the future behavior
of the agent’s opponents.
    Notice that informed agents always assign probability 1 to the signal observed at date 0:

                     t    ht        =    r
                                         t   ht ; z = 1 for all z and all ht s.t. h0 = (i; I1 ) ;
                     t    ht        =    r
                                         t   ht ; z = 0 for all z and all ht s.t. h0 = (i; I2 ) :

That is, informed agents do not change their beliefs on the signal s, even after observing o¤-
the-equilibrium-path behavior from their opponents. This fact will play a crucial role in our
equilibrium analysis, since it will allow us to derive restrictions on the behavior of informed
agents after any possible o¤er (on and o¤ the equilibrium path).
    Given the symmetry of the environment, we will focus on equilibria where strategies and be-
                                                                                                          c
liefs are symmetric across states. To de…ne formally this property, let ht                                    denote the “comple-
ment”of history      ht .   That is, a history where: (i) the initial endowment is symmetric to the ini-
tial endowment in        ht ;   if the agent is informed I        j    replaces Ij ; (ii) all the o¤ers received and made
at each stage are symmetric to the o¤ers made in ht , while the responses are the same as in ht .
In particular, if the o¤er z = z 1 ; z 2 is in ht , then z c = z 2 ; z 1 is in [ht ]c . We say that strategy
  is symmetric across states if the agent’s behavior is identical when we replace asset 1 with as-
                                c              p                   p c            1 c)                                         1 c ; z c ).
set 2 and ht with ht . That is,                t (zjh
                                                      t 1) =
                                                                   t (z j    ht          and       r (ht 1 ; z) =
                                                                                                   t
                                                                                                                     r(
                                                                                                                     t    ht
                                                           c             r                           r       c
For beliefs, we require             ht =     1         ht        and          ht ; z = 1                 ht ; z c   . This form of
symmetry is di¤erent from the standard symmetry requirement that all agents with the same
characteristics behave in the same manner, which we also assume. The additional restriction
is that the agents’ behavior does not depend on the labeling of the two states S 1 and S 2 .

                                                                  9
Throughout the paper, we will use symmetry to mean symmetry across states, whenever there
is no confusion.
          We now formally de…ne an equilibrium.

De…nition 1 A (perfect Bayesian) symmetric equilibrium is given by a strategy                               , beliefs ,
and a probability space ( ; F; P ), such that:
(i)          is optimal for an individual agent at each history ht                 1,   given his beliefs
                                                                                        about the
                                                                                             ~t 1
signal s and given that he believes that, at each round t, he faces an opponent with history h
randomly drawn from P (h  ~ t 1 js) who plays the strategy ;
(ii) the beliefs         are consistent with Bayes’ rule whenever possible;
(iii) the probability measure P is consistent with                    ;
(iv) strategies and beliefs are symmetric across states.

          Notice that the cross sectional behavior of the economy in equilibrium is purely determined
by the signal s. In other words, s is the only relevant aggregate state variable for our trading
game, and, for this reason, we will often call it state s.
          We can now de…ne two stochastic processes, which describe the equilibrium dynamics of
individual portfolios and beliefs, conditional on the game not ending. Take the probability
space ( ; F; P ) and let xt (!) and               t (!)   denote the portfolio and belief of the agent at the
beginning of period t, at !. Since an agent’s current portfolio and belief are, by construction,
in his information set at time t, xt (!) and                  t (!)   are Ft -measurable stochastic processes on
( ; F; P ).
          To establish our results, we will restrict attention to equilibria that satisfy an additional
technical property, which we call uniform market clearing.

De…nition 2 A symmetric equilibrium satis…es uniform market clearing if for all " > 0 there
is an M such that                   Z
                                                 xjt (!) dP (!js)         1   " for all t:
                                     xjt (!) M

          For a given t, this property is an implication of market clearing and of the dominated
convergence theorem. The additional restriction comes from imposing that the property holds
uniformly over t. Notice that all equilibria in which the portfolios xt converge almost surely
satisfy uniform market clearing.7 We will further discuss the role of this assumption when we
use it to prove Proposition 2.

2.4          Rational Expectations Equilibrium
Before turning to the analysis of our decentralized trading game, let us brie‡y discuss a version
of our economy with centralized markets, as in, for example, Grossman (1989). The rational
      7
          Use Theorem 16.14 in Billingsley (1995).


                                                             10
expectations equilibrium of this economy will provide a useful benchmark for our long run
results.
       Consider an economy with the same endowments, preferences and information as described
above but where, at date 0, agents trade the two assets on a centralized Walrasian market.
         I                                                                                        I                   I
Let          (s) denote the belief of an informed agent in state s:                                   (s1 ) = 1 and       (s2 ) = 0. Let
 U
       = 0:5 denote the belief of an uninformed agent. A rational expectations equilibrium consists
                  2 and allocations fx (s; )gI
of prices q(s) 2 R+                   i      i=1 such that agents optimize:

                                                                                                                  U       I
             xi (s; ) = arg                  max         E fu(x)jq(s); g for s 2 fs1 ; s2 g and               2       ;       (s) ;   (2)
                                     q(s) x q(s) xi;0


and markets clear:
             X           h                                                         i
                    fi        xji (s;    I
                                             (s)) + (1         ) xji (s;   U
                                                                               (s)) = 1 for j = 1; 2 and s 2 fs1 ; s2 g :
             i2N


       In a fully revealing equilibrium q(s1 ) 6= q(s2 ), so the prices perfectly reveal the signal s
to the uninformed agents. This implies that the optimal quantities in (2) are the same for
all , that is, informed and uninformed with the same endowments get the same equilibrium
allocations. To satisfy market clearing it must then be true that the relative price is equal to
the ratio of the probabilities:
                                                               q 1 (s)           (s)
                                                                       =               :
                                                               q 2 (s)   1         (s)
It is easy to verify that a fully revealing equilibrium exists and is ex post Pareto e¢ cient. The
second welfare theorem also holds. For any Pareto e¢ cient allocation, there is some initial
allocation for which the e¢ cient allocation constitutes a rational expectations equilibrium.
       Moreover, it is possible to rule out the existence of non fully revealing equilibria. We now
proceed with the proof of this result. The logic of the argument will be useful in the analysis of
the economy with decentralized trading (Proposition 2). Suppose there is a non fully revealing
equilibrium. Then the relative price q 1 (s) =q 2 (s) must be the same for both signals s1 and s2 .
The optimality condition for problem (2) gives:

                                      ( )u0 (x1i (s; ))=(1            ( ))u0 (x2i (s; )) = q 1 (s) =q 2 (s)                           (3)

                U        I
for      2          ;        (s1 ) , where ( ) is the probability that an agent with belief                           assigns to state
S1 :
                                                        ( )         (s1 ) + (1        ) (s2 ) :                                       (4)

Now suppose that the relative price satis…es q 1 (s) =q 2 (s)                                         1.   Then condition (3) im-
plies that, conditional on s1 , informed agents will hold more of the …rst asset than of the
                              I                          I
second, x1i (s1 ;                 (s1 )) > x2i (s1 ;         (s1 )), given that they attach a higher probability to state


                                                                           11
S 1 , i.e., given that    ( I (s1 ))= 1        ( I (s1 )) > 1. Similarly, uninformed agents will hold
                                                                                 U                        U
(weakly) more of the …rst asset than of the second, x1i (s1 ;                        (s1 ))   x2i (s1 ;       (s1 )), given
that
                                          U                        U
                                      (       (s1 ))= 1        (       (s1 )) = 1:

 Therefore, conditional on s1 , total holdings of asset 1 must be greater than total holdings
of asset 2. This violates market clearing and gives a contradiction. If the relative price
q 1 (s) =q 2 (s) is greater than 1, proceeding in a symmetric fashion, we can show that total
holdings of asset 1 must be smaller than total holdings of asset 2, a contradiction again.
Therefore, a non fully revealing equilibrium cannot exist in such centralized environment.


3        Long run characterization
In this section, we provide a characterization of the equilibrium in the long run— i.e., along
the path where the game does not end. Our main result is that the equilibrium allocation
converges to an ex post Pareto e¢ cient allocation. By ex post Pareto e¢ cient we mean Pareto
e¢ cient when the expected utility of each agent is computed conditional on the signal s, that
is, after s is publicly revealed but before the state S is revealed.8 We focus on the long run
allocation because at any …nite period the allocation will not be Pareto e¢ cient due to the
matching friction. Our goal is to understand whether ine¢ ciencies disappear as the game is
played for a large number of periods. In the next section, we analyze how trade evolves in
the short run, before convergence to e¢ ciency is achieved and how informed agents can obtain
informational rents in those periods.
        We begin by considering the behavior of informed agents and show that they equalize their
marginal rates of substitution in the long run. Then we show that the uninformed agents’
marginal rates of substitution also converge to the same value. To prove this result we show
that in equilibrium the uninformed agents can always construct small trades that allow them
to learn the signal s arbitrarily well. These results are then used to prove that the equilibrium
allocation is, in the long run, ex post Pareto e¢ cient (Theorem 1).

3.1       Preliminary considerations
Let us …rst de…ne and characterize the stochastic process for the agents’ expected utility in
a symmetric equilibrium. We use the martingale convergence theorem to show that expected
utility converges in the long run, conditionally on the game not ending.
    8
    This is the standard notion of ex post e¢ ciency, see Holmstrom and Myerson (1983). The same e¢ ciency
notion was used above in discussing the Rational Expectations Equilibrium. Notice that after S is revealed all
allocations are trivially ex post e¢ cient.




                                                          12
     If the game ends, an agent with the portfolio-belief pair (x; ) receives the expected payo¤:

                               U (x; )         ( )u(x1 ) + (1             ( ))u(x2 );

where     ( ) is de…ned in (4). Using the stochastic processes xt and                     t,   we obtain a stochastic
process ut for the equilibrium expected utility of an agent if the trading game ends in period
t:
                                         ut (!)     U (xt (!); t (!)):

We can then de…ne the stochastic process vt as the expected lifetime utility of an agent at the
beginning of period t:                                  "                     #
                                                            1
                                                            X
                                                                  s t
                                  vt     (1        )E                   us j Ft :
                                                            s=t

In recursive terms, we have

                                   vt = (1         )ut + E [vt+1 j Ft ] :                                         (5)

     The next lemma establishes that the expected lifetime utility vt is a bounded martingale
and converges in the long run.

Lemma 1 There exists a random variable v 1 (!) such that

                                         lim vt (!) = v 1 (!) a.s.
                                         t!1

Proof. An agent always has the option to keep his time t portfolio xt and wait for the end of
the game, rejecting all o¤ers and o¤ering zero trades in all t0                     t. His expected lifetime utility
under this strategy is equal to ut . Therefore, optimality implies that

                                              ut   E [vt+1 j Ft ] ;

which, combined with equation (5), gives

                                              vt   E [vt+1 j Ft ] :

This shows that vt is a submartingale. It is bounded above because the utility function u ( ) is
bounded above. Therefore, it converges by the martingale convergence theorem.
     It is useful to introduce an additional stochastic process, v^t , which will be used as a reference
point to study the behavior of agents who make and receive o¤-the-equilibrium-path o¤ers. Let
v^t be the expected lifetime utility of an agent who adopts the following strategy: (i) if selected
as the proposer at time t, follow the equilibrium strategy                    ; (ii) if selected as the responder,
reject all o¤ers at time t and follow an optimal continuation strategy from t + 1 onwards. The

                                                        13
expected utility v^t is computed at time t immediately after the agent is selected as the proposer
or the responder, i.e., it is measurable with respect to ht                            1;
                                                                                            t    , and, by de…nition, satis…es
v^t     E vt+1 j   ht 1 ;    t   .
      Recall from the proof of Lemma 1 that ut is the expected utility from holding the portfolio
xt until the end of the game. The following lemma shows that, in the long run, an agent is
almost as well o¤ keeping his time t portfolio as he is under the strategy leading to v^t .

Lemma 2 Both ut and v^t converge almost surely to v 1 :

                                          lim ut (!) = lim v^t (!) = v 1 (!) a.s.
                                          t!1                 t!1

Proof. As argued in Lemma 1, vt is a bounded supermartingale and converges almost surely to
v 1 . Let yt       E[vt+1 j Ft ]. Since a bounded martingale is uniformly integrable (see Williams,
1991), we get yt         vt ! 0 almost surely. Rewrite equation (5) as

                                     (1      ) ut =     (vt     E [vt+1 j Ft ]) + (1              ) vt :

This gives
                             ut       vt =            (vt     E [vt+1 j Ft ]) =                 (vt    yt ) ;
                                             1                                     1
which implies ut             vt ! 0 almost surely. The latter implies ut ! v 1 almost surely. Letting
y^t     E vt+1 j ht     1;
                             t   , notice that y^t ! v 1 almost surely. Since ut                           v^t   y^t , it follows that
v^t !   v1   almost surely.

3.2      Informed agents
We now proceed to characterize the long run properties of the equilibrium. We do not claim
that our game has a unique equilibrium. In fact, typically there is a large number of equilibria
in this game. Our long run results apply to all the equilibria.
      We …rst focus on informed agents and show that their marginal rates of substitution con-
verge in probability. In particular, we show that, conditional on each signal s, the marginal
rates of substitution of all informed agents converge in probability to the same sequence, which
we denote      t (s).   In the following, we will refer to               t (s)   as the “long-run marginal rate of sub-
stitution” of the informed agents.
      The intuition for this result is that if two informed agents have di¤erent marginal rates of
substitution, they can always …nd a trade that improves the utility of both. As their utilities
converge to their long run levels, all the potential gains from bilateral trade must be exhausted.
This implies that marginal rates of substitution must converge. Since this lemma is about the
behavior of the informed agents, our argument is similar to the one used to prove Pareto
e¢ ciency in decentralized market with full information (Gale, 2000).


                                                                    14
Proposition 1 (Convergence of MRS for informed agents) There exist two sequences
    t (s1 )   and    t (s2 )   such that, conditional on each s, the marginal rates of substitution of informed
agents converge in probability to                   t (s):


                                      (s)u0 (x1t )                                    I
                    lim P                                     t (s)   >"j     t   =       (s) ; s   = 0 for all " > 0:          (6)
                    t!1          (1     (s)) u0 (x2t )

Proof. We provide a sketch of the proof here and leave the details to the appendix. Without
loss of generality, suppose (6) is violated for s = s1 . Then, it is always possible to …nd a period
T , arbitrarily large, in which there are two groups, of positive mass, of informed agents with
marginal rates of substitution su¢ ciently di¤erent from each other. In particular, we can …nd
a         such that a positive mass of informed agents have marginal rates of substitution below
     :
                                                             (s1 ) u0 (x1T )
                                                                               <          ;
                                                    (1         (s1 ))u0 (x2T )
and a positive mass of informed agents have marginal rates of substitution above                                         + ":

                                                          (s1 ) u0 (x1T )
                                                                            >         + ";
                                                 (1         (s1 ))u0 (x2T )

for some positive ". An informed agent in the …rst group can then o¤er to sell a small quantity
         of asset 1 at the price p =                     + "=2, that is, he can o¤er the trade z = ( ; p                         ).
Suppose this o¤er is accepted and the proposer stops trading afterwards. Then his utility can
be approximated as follows:

                                      (s1 ) u(x1T            ) + (1        (s1 ))u(x2T + p          )
                                          uT +            (s1 ) u0 (x1T ) + (1            (s1 ))p u0 (x2T )
                                          v^T + (1           (s1 ))u0 (x2T ) "=2;

where we use a Taylor expansion to approximate the utility gain and we use Lemma 2 to
show that the continuation utility v^T can be approximated by the current utility uT . By
choosing T su¢ ciently large and the size of the trade                                     su¢ ciently small we can make the
approximation errors in the above equation small enough, so that when this trade is accepted
it strictly improves the utility of the proposer. All the informed responders with marginal rate
of substitution above                 + " are also better o¤, by a similar argument. Therefore, they will all
accept the o¤er. Since there is a positive mass of them, the strategy described gives strictly
higher utility than the equilibrium strategy to the proposer, and we have a contradiction.
         Two remarks on the argument above: First, there may be uninformed agents who also
potentially accept z , but this only increases the probability of acceptance, further improving
the utility of the proposer. Second, the deviation described (o¤er z at T and stop trading


                                                                      15
afterwards) is not necessarily the best deviation for the proposer. However, since our argument
is by contradiction, it is enough to focus on a simple deviation of this form. We will take a
similar approach in many of the following proofs.

3.3   Uninformed agents
We now turn to the characterization of equilibria for uninformed agents. The main di¢ culty
here is that uninformed agents may change their beliefs upon observing their opponent’s be-
havior. Thus an agent who would be willing to accept a given trade ex ante— before updating
his beliefs— might reject it ex post. An additional complexity comes from the fact that up-
dated beliefs are not pinned down by Bayes’ rule after o¤-the-equilibrium-path o¤ers, since
these o¤er do not occur in equilibrium. For these reasons, we need a strategy of proof di¤erent
from the one used for informed agents.
   Our argument is based on …nding strategies that allow the uninformed agents to learn the
signal s at an arbitrarily small cost. This is done in Proposition 3 below. The existence of
such strategies implies that either agents eventually learn the signal or the bene…t of learning
goes to zero. In Theorem 1 we show that this implies that equilibrium allocations converge to
ex post Pareto e¢ cient allocations in the long run.
   To build our argument, it is …rst useful to show that in equilibrium the marginal rates of
substitution of all agents cannot converge to the same value independently of the state s. Since
individual marginal rates of substitution determine the prices at which agents are willing to
trade, this rules out equilibria in which agents, in the long run, are all willing to trade at the
same price, independent of s. The fact that agents are willing to trade at di¤erent prices in
the two states s1 and s2 will be key in constructing the experimentation strategies below. This
fact will allow us to construct small trades that are accepted with di¤erent probability in the
two states. By o¤ering such trades an uninformed agent will be able to extract information on
s and thus acquire the information obtained by the informed agents at date 0.
   Remember that     t (s)   denotes the long-run marginal rates of substitution of informed agents
in state s (Proposition 1). The next proposition shows that in the long run two cases are
possible: either the two values      t (s1 )   and   t (s2 )   are su¢ ciently far from each other, or, in
each state s, there must be a su¢ cient mass of agents with marginal rates of substitution
far enough from    t (s).    That is, either the informed agents’ marginal rates of substitution
converge to di¤erent values or there must be enough uninformed agents with marginal rates of
substitution di¤erent from that of the informed.

Proposition 2 There exists a period T and a scalar " > 0 such that in all periods t                     T
one of the following must hold: (i) the long-run marginal rates of substitution of the informed




                                                     16
agents are su¢ ciently di¤ erent in the two states:

                                               j t (s1 )        t (s2 )j       ";

or (ii) su¢ ciently many agents have a marginal rate of substitution di¤ erent from                                 t (s):


                                           ( t ) u0 (x1t )
                           P                                         t (s)          2" j s     "
                                  (1         ( t )) u0 (x2t )

for s 2 fs1 ; s2 g.

    The proof of this proposition is in the appendix. The argument is similar in spirit to the one
used to rule out non fully revealing equilibria in the Walrasian market of Section 2.4. Recall
that in that environment, if prices are independent of s market clearing cannot be satis…ed
(see p. 11). There is an important di¢ culty to overcome, when extending this argument
to our environment with decentralized trading. In the Walrasian economy, if prices are not
revealing, uninformed agents keep their initial beliefs, while in our economy with decentralized
trading uninformed agents can always learn something in the early periods of trading. That
is, when they reach period t, they have already observed a number of trades, and their beliefs
                            U
are no longer equal to          = 1=2. In the proof of Proposition 2, we extend the argument by
showing that in equilibrium the distribution of beliefs of the uninformed is always biased in
the direction of the true signal. That is, when s = s1 there are more uninformed agents with
a belief   t   > 1=2 than uninformed agents with a belief                       t     1=2. This allows us to show that
market clearing is violated if the marginal rates of substitution of all agents are the same and
independent of s.
    Another, more technical element of the proof of Proposition 2 is the use of the market
clearing condition in the long run limit. This is where it is useful to adopt of the uniform
market clearing assumption from De…nition 2.

3.3.1      Experimentation

Here we show how uninformed agents can experiment and acquire information on the signal
s by making small o¤ers. Consider an uninformed agent who assigns probability                                       2 (0; 1) to
signal s1 at the beginning of period t. Suppose he makes the o¤er z and the o¤er is accepted.
Recall that the probability of acceptance of z, conditional on s, is denoted by                              t (zjs).   Bayes’
                                                0
rule implies that the updated belief                of the uninformed agent satis…es

                                       0                        t (zjs1 )
                                           =                                               ;
                                                t (zjs1 )   + (1           )   t (zjs2 )

as long as the o¤er is accepted with positive probability in some state. If                             t (zjs1 )   >   t (zjs2 )
                                                                                                   0                         0
the acceptance of o¤er z provides information favorable to s1 and we have                              > . Moreover,          is

                                                            17
larger the larger is the likelihood ratio                                                9
                                                                   t (zjs1 ) = t (zjs2 ).        This ratio captures the informational
gain obtained by the uninformed agent. To develop the experimentation strategy, we will
construct a sequence of o¤ers such that their likelihood ratio is bounded below by some scalar
  > 1. In this way, if the uninformed agent makes a long enough sequence of o¤ers, and these
o¤ers are all accepted, the agent’s posterior belief will move su¢ ciently close to 1.
         Sometimes it is not possible to …nd an o¤er whose acceptance provides information favorable
to s1 . In those cases, however, it is possible to …nd an o¤er whose rejection is favorable to s1 .
That is, sometimes there is no o¤er such that                                     t (zjs1 ) = t (zjs2 )      >     but there is an o¤er such
that (1           t (zjs1 )) = (1              t (zjs2 ))    > . In general, we will construct a sequence of o¤ers such
that, if an uninformed agent makes these o¤ers and receives the appropriate sequence of “yes”
and “no”, then his belief will get su¢ ciently close to 1 with su¢ ciently high probability.
         To construct these o¤ers, we will need the following result, which establishes the existence
of a trade, of size smaller than , with probability of acceptance (or rejection) higher than some
positive scalar , and with likelihood ratio                              t (zjs1 ) = t (zjs2 )          (or (1      t (zjs1 )) = (1          t (zjs2 )))
greater than .

Proposition 3 There are two scalars                                    > 0 and              > 1 with the following property: for all
  > 0 there is a time T such that for all t                                T there exist a trade z with kzk <                       that satis…es
either
                                                 t (zjs1 )   > ;              t (zjs1 )     >       t (zjs2 ) ;                                    (7)

or
                                   1         t (zjs1 )   > ;           1          t (zjs1 )     > (1          t (zjs2 )) :                         (8)

Proof. We provide a sketch of the argument here and leave the details to the appendix. We
distinguish two cases. By Proposition 2 one of the following must be true in any period t
following some period T : (i) either the long-run marginal rates of substitutions of informed
agents         t (s1 )   and       t (s2 )   are su¢ ciently di¤erent from each other or (ii) there is a su¢ ciently
large mass of agents with marginal rates of substitution su¢ ciently di¤erent from                                                      t (s).    The
proof proceeds di¤erently in the two cases.
         Case 1. Suppose that there is a large enough di¤erence between                                           t (s1 )   and   t (s2 ).   Assume
without loss of generality that                          t (s1 )   >   t (s2 ).   Suppose the uninformed agent o¤ers to sell a
small quantity               of asset 1 at the price p = (                        t (s1 )   +    t (s2 ))=2,     which lies between the two
marginal rates of substitutions (s1 ) and (s2 ). That is, he o¤ers the trade z = ( ; p ). We
now make two observations on o¤er z:
         Observation 1. In state s1 , there is a positive mass of informed agents willing to accept o¤er
z, provided              is small enough and t is su¢ ciently large. Combining Lemma 2 and Proposition
1, we can show that in state s1 , for t large enough, there is a positive mass of informed agents
     9                                                                                              0
         In the limit case     t   (zjs2 ) = 0 the likelihood ratio is in…nity and                      is equal to 1.


                                                                             18
with marginal rates of substitution su¢ ciently close to                     t (s1 ),   who are close enough to their
long run utility. These agents are better o¤ accepting z, as they are buying asset 1 at a price
smaller than their marginal valuation.
   Observation 2. Conditional on signal s2 , the o¤er z cannot be accepted by any agent,
informed or uninformed, except possibly by a vanishing mass of agents. Suppose, to the
contrary, that a positive fraction of agents accepted z in state s2 . By an argument symmetric
to the one above, informed agents in state s2 are strictly better o¤ making the o¤er z, if this
o¤er is accepted with positive probability, given that they would be selling asset 1 at a price
higher than their marginal valuation (which converges to                         (s2 ) by Proposition 1). But then
an optimal deviation on their part is to make such an o¤er and strictly increase their expected
utility above its equilibrium level, leading to a contradiction.
   The …rst observation can be used to show that the probability of acceptance                                       t (zjs1 )
can be bounded from below by a positive number. The second observation can be used to
show that the probability of acceptance                  t (zjs2 )   can be bounded from above by an arbitrarily
small number. These two facts imply that we can make                             t (zjs1 )    >    for some        > 0 and
 t (zjs1 ) = t (zjs2 )   >   for some          > 1. So in this case we can always …nd a trade such that
(7) is satis…ed, i.e., such that the acceptance of z is good news for s1 . However, when we turn
to the next case this will not always be true, and we will need to allow for the alternative
condition (8), i.e., rejection of z is good news for s1 .
   Case 2. Consider now the second case where the long-run marginal rates of substitution
of the informed agents        t (s1 )    and   t (s2 )   are close enough but there is a large enough mass of
uninformed agents whose marginal rates of substitution is far from                            t (s1 ),   conditional on s1 .
   This means that we can …nd a price p such that the marginal rates of substitution of a
group of uninformed agents are on one side of p and the long-run marginal rates of substitution
of informed agents       t (s1 )   and    t (s2 )   are on the other side. Consider the case where the MRS
of a group of uninformed agents is greater than p, and                       t (s1 )    and   t (s2 )    are smaller than p
(the other case is symmetric). Then the uninformed agents in this group can make a small
o¤er to buy asset 1 at a price p and the informed will accept this o¤er conditional on both
signals s1 and s2 . If the probabilities of acceptance conditional on s1 and s2 were su¢ ciently
close to each other, this would be a pro…table deviation for the uninformed, since then their ex
post beliefs would be close to their ex ante beliefs. In other words, in contrast to the previous
case, the uninformed would have a utility gain but would not learn from the trade. It follows
that the probabilities of acceptance of this trade must be su¢ ciently di¤erent in the two states
s1 and s2 . This leads to either (7) or (8), completing the proof.

3.3.2    Convergence of marginal rates of substitution

We now characterize the properties of the long-run marginal rates of substitution of uninformed
agents. The next proposition shows that the convergence result established for informed agents

                                                              19
(Proposition 1) extends to uninformed agents.
     In what follows, instead of looking at the ex ante marginal rate of substitution, given
by    ( t )u0 (x1t )= (1     ( t )) u0 (x2t ), we establish convergence for the ex post marginal rate of
substitution (s)u0 (x1t )= (1           (s)) u0 (x2t ). This is the marginal rate of substitution at which
an agent would be willing to trade asset 2 for asset 1 if he could observe the signal s. As we
will see, this is the appropriate convergence result given our objective, which is to establish
the ex post e¢ ciency of the equilibrium allocation.

Proposition 4 (Convergence of MRS for uninformed agents) Conditional on each s,
the marginal rate of substitution of any agent, evaluated at the full information probabilities
 (s) and 1          (s), converges in probability to               t (s):


                                       (s)u0 (x1t )
                      lim P                                   t (s)       >"js   = 0 for all " > 0:                   (9)
                     t!1         (1      (s)) u0 (x2t )

     Note that in equation (9) we use the full information probabilities                         (s) rather than the
belief ( t ) that an agent with allocation xt might have.
Proof. We provide a sketch of the proof, leaving the details to the appendix. Suppose condition
(9) fails to hold. Without loss of generality, we focus on the case where (9) fails for s = s1 .
This means that there is a period T in which with a positive probability an uninformed agent
has ex post marginal rate of substitution su¢ ciently far from                       T   (s1 ) and is su¢ ciently close
to his long run utility. Without loss of generality, suppose his marginal rate of substitution
is larger than       T   (s1 ). To reach a contradiction, we construct a pro…table deviation for this
agent.
     Before discussing the deviation, it is useful to clarify that, at time T , the uninformed agent
has all the necessary information to check whether he should deviate or not. He can observe his
own allocation xT , compute (s1 )u0 (x1T )= (1                     (s1 )) u0 (x2T ), and verify whether this quantity
is su¢ ciently larger than        T   (s1 ) (which is known, since it is an equilibrium object).
     The deviation then consists of two stages:
     Stage 1. This is the experimentation stage, which lasts from period T to period T + J                             1.
As stated in Proposition 3, the agent can construct a sequence of small o¤ers                            zj gJj=01
                                                                                                        f^           such
that, if these o¤ers are followed by the appropriate responses, the agent’s ex post belief on
signal s1 will converge to 1. To be precise, for this to be true it must be the case that the
agent does not start his deviation with a belief                      T   too close to 0. Otherwise, a sequence of
J signals favorable to s1 is not enough to bring                     T +J   su¢ ciently close to 1. Therefore, when
an agent starts deviating we also require                 T   to be larger than some positive lower bound ,
appropriately de…ned.
     Stage 2. At date T + J, if the agent has been able to make the whole sequence of o¤ers
 zj gJj=01 and has received the appropriate responses (that is, the responses which bring the
f^


                                                              20
probability of s1 close to 1), he then makes one …nal o¤er z . This is an o¤er to buy a small
quantity       of asset 1 at a price p , which is in between the agent’s own marginal rate of
substitution and      T   (s1 ). By choosing T large enough, we can ensure that there is a positive
mass of informed agents close enough to their long-run marginal rate of substitution, who are
willing to sell asset 1 at that price.10 Therefore, the o¤er is accepted with a positive probability.
The utility gain for the uninformed agent, conditional on reaching Stage 2 and conditional on
z being accepted, can be approximated by

                                               J
                                               X1
                                    U (xT +          z^j + z ; 1)   U (xT ; 1);
                                               j=0


given that, after the experimentation stage the agent’s ex post belief approaches 1. Moreover,
by making the …nal o¤er z and the experimenting o¤ers z^j su¢ ciently small, this utility gain
can be approximated by

              U (xT + z ; 1)      U (xT ; 1)         (s)u0 (x1T )    (1     (s)) u0 (x2T )p   > 0:

The last expression is positive because p was chosen smaller than the marginal rate of sub-
stitution (s)u0 (x1T )= (1       (s)) u0 (x2T ). In the appendix we show that this utility gain is large
enough that the deviation described is ex ante pro…table, i.e., it is pro…table from the point of
view of period T . To do so, we must ensure that the utility losses that may happen along the
deviating path (e.g., when some of the experimenting o¤ers do not generate a response favor-
able to s1 or when the agent is not selected as the proposer) are small enough. To establish
this, we use again the fact that the experimenting o¤ers are small. As usual, the argument in
the appendix makes use of the convergence of utility levels in Lemma 2, to show that a utility
gain relative to the current utility ut , leads to a pro…table deviation relative to the the expected
utility v^t . Since we found a pro…table deviation for the uninformed agents, a contradiction is
obtained which completes the argument.

3.4    E¢ ciency
Having characterized the portfolios of informed and uninformed agents in the long run, we can
…nally derive our key e¢ ciency result.

Theorem 1 All symmetric equilibrium allocations which satisfy uniform market clearing con-
  10
     Notice that the uninformed agent is using T (s1 ) as a reference point for the informed agents’ marginal
rate of substitution, while o¤er z is made in period T + J. Lemma 8 in the Appendix ensures that T (s1 ) and
 T +J (s1 ) are su¢ ciently close, so that at T + J enough informed agents have marginal rate of substitution near
 T (s1 ).




                                                          21
verge to ex post e¢ cient allocations in the long run, i.e.,

                                      lim P     x1t   x2t > " = 0 for all " > 0:                            (10)
                                      t!1

The long-run marginal rates of substitution                 t (s)   converge to the ratios of the conditional
probabilities of states S1 and S2 :

                                lim    t (s)   = (s)=(1     (s)) for all s 2 fs1 ; s2 g:                    (11)
                            t!1

Proof. We provide a sketch of the proof and leave the formal details to the appendix. First,
suppose that    t (s)   > (1 + ") (s)=(1              (s) for some " > 0, for in…nitely many periods. Then
Proposition 4 can be used to show that the agents’holdings of asset 1 will be larger than their
holdings of asset 2. This, however, violates market clearing. In a similar way, we rule out
the case in which       t (s)   < (1        ") (s)=(1     (s)) for some " > 0, for in…nitely many periods.
This proves (11). Then, using this result and Proposition 4, we can show that u0 (x1t )=u0 (x2t )
converges in probability to 1, which implies (10).
   This theorem establishes that, equilibrium allocations converge to ex post Pareto e¢ cient
allocations. This implies that the long run equilibrium allocation coincides with a rational
expectation equilibrium de…ned in Section 2.4 for some initial allocations. It does not show
that starting with the same initial allocations our decentralized trading game converges to the
same long run outcomes as the rational expectation equilibrium of the centralized Walrasian
market. In fact, we will see that this is typically not the case. Remember that in the centralized
environment informed and uninformed agents with the same initial endowment reach the same
equilibrium allocation. This will not be the case in the decentralized environment, where
informed agents can reach, on average, a higher expected utility, as we show in the next
section.
   We conclude this section with a brief comparison of our analysis with Wolinsky (1990). In
our model, in the long run all agents are only willing to trade at a single price (conditional on
the state s) which is the same as the Walrasian REE price                   (s) = (1       (s)). Wolinsky (1990)
also analyzes a dynamic trading game with asymmetric information and shows that in steady
state di¤erent trades can occur at di¤erent prices, so a fraction of trades can occur at a price
di¤erent from the Walrasian REE price. The approaches in the two papers are quite di¤erent
as Wolinsky (1990) considers a game where a fraction of traders enter and exit the game at
each point time, focuses on steady-state equilibria, and takes limits as discounting goes to
zero, while we look at a game with a …xed set of participants and a …xed “discount rate”(our
probability ) and look at long-run outcomes (in this section). However, the crucial di¤erence
is that Wolinsky (1990) features an indivisible good which can only be traded once, while we
have perfectly divisible goods (assets) which are traded repeatedly. This makes the process of
experimentation by market participants very di¤erent in the two environments. In Wolinsky


                                                           22
(1990) agents only learn if their o¤ers are rejected, once their o¤er is accepted they trade and
exit the market. In our environment, agents keep learning and trading along the equilibrium
play, and, in particular, can learn by making small trades (as shown in Proposition 3) and
then use the information acquired to make Pareto improving trades with informed agents (as
shown in Proposition 4).


4     Trading and informational rents in the short run
We now turn to analyze the short run properties of the equilibrium focusing on two related
issues: (i) how informed agents obtain informational rents, and (ii) how asymmetric information
distorts equilibrium trading in the short run. First, we de…ne formally the value of information
and provide su¢ cient conditions for the value of information to be positive in equilibrium.
Second, we turn to a simple static example that illustrates this result and shows how the
presence of informed traders distorts equilibrium trading. The static example sets the stage
and provides useful intuition for the numerical analysis in the next section.

4.1    Value of information
To de…ne the value of information, consider an agent who reaches period t with the portfolio
     2 and belief
x 2 R+                2 [0; 1]. From the point of view of individual optimization these are the
only relevant state variables, so we can use the value function Vt (x; ) to denote his expected
payo¤. Notice that the value function is de…ned for all possible pairs (x; ), not only for those
that arise on the equilibrium path with positive probability. Suppose the agent is allowed to
observe the signal s at time t. Then his expected utility would increase by

                        It (x; )    Vt (x; 1) + (1   )Vt (x; 0)   Vt (x; );

given that the agent can re-optimize after observing s and updating his belief to either 1
or 0. We call It (x; ) the value of information. Since after observing s an agent always
has the option to follow his original strategy, the value of information is always nonnegative,
It (x; )   0. In the Rational Expectations Equilibrium of Section 2.4 the value of information
is zero. There uninformed agents learn instantaneously the value of s from their observation
of equilibrium prices and informed agents have no informational advantage when trading. We
want to investigate whether the value of information is positive in our decentralized trading
environment, where uninformed agents learn gradually the value of s from the outcome of their
bilateral meetings.
    First, consider the case in which the economy starts at an e¢ cient allocation, that is, all
agents begin with equal endowments of the two assets, x10;i = x20;i for all i. In this case, the
no trade theorem of Milgrom and Stokey (1982) applies and no trade is the only equilibrium.


                                                23
The value of information is then zero, as agents cannot gain from changing their equilibrium
trading strategy after learning s.

Theorem 2 (Milgrom and Stokey) Suppose x10;i = x20;i for all i. Then there is no trade in
equilibrium and the equilibrium value of information is always zero, i.e., It (xt ; t ) = 0, almost
surely, for all t.

Proof. The proof is a direct adaptation of Theorem 1 in Milgrom and Stokey (1982) and is
omitted.
       Next, consider the case in which the initial allocation is not Pareto e¢ cient, that is, when
agents begins with di¤erent endowments of the two assets (x10;i 6= x20;i for some i). First,
notice that in the long run we do not expect the value of information to be positive. The
characterization in Theorem 1 shows that in the long run an uninformed agent will exhaust
all the utility gains that he can obtain by observing the signal s. In particular, after observing
s, he cannot gain from trading with informed agents, as they are willing to trade at the price
  (s) = (1      (s)) which is equal to his own ex post marginal rate of substitution. Moreover,
the logic of the no trade theorem suggests that he won’t be able to gain from trading with
uninformed agents, given that everybody knows that there are no mutual gains from trade to
be obtained. Therefore, we focus on …nding positive informational rents in the short run.
       When agents begin with di¤erent endowments, some trade needs to occur in the short
run as agents converge towards their long run allocations. As trade takes place, informed
agents may be able to exploit their superior knowledge about the willingness to trade of their
informed trading partners in states s1 and s2 to obtain higher expected utility. The following
result provides su¢ cient conditions for the value of information to be positive in equilibrium.
These conditions require: (a) the di¤erentiability of the value functions for informed agents;
(b) that the marginal value of asset 1 be higher for an informed agent after observing signal s1
than after observing signal s2 , and the reverse for asset 2. We do not have general conditions
on primitives to ensure that (a) and (b) are satis…ed in equilibrium. In the example below, we
show that they are satis…ed and discuss their role.11

Theorem 3 Suppose there are two (symmetric) types with x10;1 6= x20;1 and suppose that in
equilibrium the value functions Vt (x; 0) and Vt (x; 1) are di¤ erentiable in x and satisfy

                            @Vt (x; 1)   @Vt (x; 0)           @Vt (x; 1)   @Vt (x; 0)
                                  1
                                       >            ;                    <            ;                        (12)
                              @x           @x1                  @x  2        @x2
             2 . Then the value of information is positive in period 0:
for all x 2 R++

                                               I0 (x0;1 ; 1=2) > 0:
  11
     Notice that the di¤erentiability of the value function is not easy to establish in general, because the feasible
set in each round of trading is not in general convex, so the value function is not in general concave.


                                                         24
       The proof of the theorem is in the appendix. Before discussing the intuition behind this
result, it is useful to introduce a simple static example. We will use the example to construct
explicitly an equilibrium where information has positive value. Then we will see that the
conditions of Theorem 3 apply, so the value of information must be positive in all equilibria.
       In Theorem 3 we restrict attention to the case of two endowment-types. This assumption
helps in the proof because it allows us to characterize the set of accepted o¤ers when agents
are at their initial endowments. In particular, with only two (symmetric) endowment-types,
one type will only be concerned with attracting the other type. This allows us to show that
the set of accepted o¤ers has a di¤erentiable frontier, which is an important step in the proof
of the theorem. We will return to this point after discussing the example.

4.2      A static example
Consider a special case of our trading game.12 Set          equal to zero, so agents engage only in one
round of trading after which the game ends. Moreover, assume there are two types of agents,
N = 2, with endowments x0;1 = (eh ; el ) and x0;2 = (el ; eh ), with eh > el > 0 and el + eh = 1.
Finally, assume that the fraction        of informed agents is negligible, so their presence does not
a¤ect the strategies of uninformed agents.
       This game, as the more general setup above, has many equilibria, supported by di¤erent
out-of-equilibrium beliefs. While the theoretical results above apply to all equilibria, here, we
focus on a speci…c equilibrium, choosing one which satis…es the intuitive criterion of Cho and
Kreps (1988). Figures 1 illustrates the equilibrium construction using an Edgeworth box.
       We …rst construct the strategies and beliefs of the agents and then verify that they con-
stitute an equilibrium. We begin by setting up two optimization problems which are used to
construct our candidate strategies for informed and uninformed proposers. By symmetry, we
can limit our attention to the strategies of proposers with endowment (eh ; el ). An uninformed
proposer with this endowment makes the o¤er z . Since there is a negligible mass of informed
agents, the o¤er z is received with equal probability (one) in the two states of the world s1 and
s2 . The belief of an uninformed responder who receives o¤er z is then equal to                = 1=2. The
proposer only cares about his o¤er being accepted by uninformed responders with symmetric
endowment (el ; eh ) and belief       = 1=2 because: (i) the probability of meeting an informed
agent is negligible, and (ii) if the proposer is matched with an uninformed agent with his same
endowment (eh ; el ) and belief      = 1=2 there is no mutually bene…cial trade. Therefore, trade
z is chosen to maximize the after-trade utility of the uninformed proposer:

                                          1                1
                                    max u(eh        z 1 ) + u(el    z 2 );
                                    z ;z 2
                                     1  2                  2
  12
    The setup of Rocheteau (2008) shares some similarities with this static example in a model with money and
other assets.



                                                     25
                           2
                                                          δ=1

                          1.8
                                                       δ=1/2
                          1.6


                                                                                                      ∗
                          1.4                                                                     x


                          1.2                                                                                       ∗∗
                                                                                                                x
                asset 2




                           1                                                                                                 δ=1/2


                                                                                                                             δ=1
                          0.8



                          0.6



                          0.4



                          0.2                                                                                            e


                           0
                                0      0.2       0.4            0.6   0.8     1       1.2   1.4           1.6   1.8          2
                                                                            asset 1




                                       Figure 1: Static example: equilibrium allocations



subject to the constraint

                                             1               1                        1         1
                                               u(el + z 1 ) + u(eh + z 2 )              u(el ) + u(eh );                             (13)
                                             2               2                        2         2

which ensures that the o¤er is accepted by an uninformed responder with endowment (el ; eh )
and belief     = 1=2.
   The solution to the maximization problem above is illustrated graphically in the Edgeworth
box of Figure 1. The two assets are measured on the two axes, with the proposer’s origin
corresponding to the lower left corner, and the responder’s origin corresponding with the
upper right corner. Point e correspond to the initial endowment for two symmetric agents
with (eh ; el ) and (el ; eh ). The indi¤erence curve of the uninformed responder is the dashed
red line labelled                   = 1=2 that goes through the endowment point. Point x = (eh ; el ) + z is
where this curve is tangent to the indi¤erence curve of the uninformed proposer, the blue line
labelled     = 1=2. At the optimum, both agents equalize their holdings of the two assets.
   Turning to the informed proposers, two cases are possible. The proposer may be a rich
informed agent, who holds a larger endowment of the asset that is more likely to pay o¤. This
is the case of an informed proposer with endowment (eh ; el ) in state s1 . Or he may be a poor
informed agent, who holds a smaller endowment of the asset which is more likely to pay o¤.



                                                                            26
This is the case of an informed proposer with endowment (eh ; el ) in state s2 .
   In our equilibrium, a rich informed proposer with endowment (eh ; el ) makes an o¤er z                         6= z
that fully reveals his information. We will see that this is optimal for him, since it allows him
to sell his asset at a higher price. The belief of an uninformed responder after observing z                          is
 = 1. We then choose z            to be the o¤er that maximizes the proposer expected utility:

                              max        (s1 ) u(eh    z 1 ) + (1      (s1 ))u(el   z 2 );                        (14)
                              z1 ; z2


subject to

             (s1 ) u(el + z 1 ) + (1          (s1 ))u(eh + z 2 )       (s1 ) u(el ) + (1       (s1 ))u(eh );      (15)

and
                     1                   1                    1                1
                       u(eh       z 1 ) + u(el        z2)       u(eh    z 1 ) + u(el         z 2 ):               (16)
                     2                   2                    2                2
Constraint (15) ensures that an uninformed responder with endowment (el ; eh ) is willing to
accept the trade after updating his belief to               = 1. Constraint (16) ensures that an uninformed
proposer does not prefer o¤ering z                to o¤ering z . That is, it ensures that uninformed pro-
posers do not try to mimic the rich informed agents to sell their asset at a high price. The
solution to this problem is also illustrated in Figure 1. The dashed red line labelled                         = 1 cor-
responds to constraint (15) and the solid blue line labelled                   = 1=2 corresponds to constraint
(16). The optimum corresponds to point x .
   Finally, a poor informed proposer with endowment (eh ; el ) mimics the behavior of the
uninformed proposers with the same endowment and makes o¤er z . Since this agent is selling
the less valuable asset, he is better o¤ hiding his information.
   We now proceed to describe beliefs and strategies of uninformed responders. The strategies
of informed responders can be easily derived, but, given that there is a negligible measure of
them, we can ignore them as they do not a¤ect the strategies of the other agents.
   We begin with the beliefs. We have already shown that beliefs on the equilibrium path
must be equal to       = 1=2 after receiving o¤er z , which reveals no information on the state
s, and   = 1 after receiving z , which is perfectly revealing. To complete the description of
beliefs, both on and o¤ the equilibrium path, we assume that uninformed responders keep their
beliefs unchanged at       = 1=2 except in the following two cases. First, if they receive an o¤er
z that satis…es

      (s1 ) u(eh   z 1 ) + (1           (s1 )) u(el   z2) >      (s1 ) u(eh   z 1 ) + (1        (s1 )) u(el    z2 )

and (16) then they assign probability one to s1 . Second, if they receive an o¤er that satis…es

      (s2 ) u(eh   z 1 ) + (1           (s2 )) u(el   z2) >      (s2 ) u(eh   z 1 ) + (1        (s2 )) u(el    z2 )

                                                            27
                             2
                                     δ=1

                           1.8
                                     δ=1/2                               A0

                           1.6
                                                                                                             xo


                           1.4                                                                    x∗

                                        δ=0
                           1.2                                                                                    x∗∗
                 asset 2




                             1
                                                                                                                   A1

                           0.8



                           0.6



                           0.4



                           0.2                                                                                          e


                             0
                                 0      0.2       0.4   0.6    0.8       1       1.2        1.4        1.6        1.8       2
                                                                      asset 1




                                              Figure 2: Static example: checking optimality



and (16) then they assign probability zero to s1 .
     Given the beliefs just described, the strategy of uninformed responders is simply to accept
o¤er z if and only if it satis…es

                 ( ) u(el + z 1 ) + (1                   ( )) u(eh + z 2 )             ( ) u(el ) + (1             ( )) u(eh ):

     We now verify that the strategies and beliefs just de…ned constitute an equilibrium. By
construction, the beliefs of the responders are consistent with Bayes’rule and their strategy is
optimal. So we only need to check that the proposers’strategies are optimal.
     Since a proposer faces a negligible fraction of informed responders, his behavior is a¤ected
only by the uninformed responders. Figure 2 is an Edgeworth box like Figure 1. Given the
beliefs described above, we identify three sets of o¤ers: those corresponding to region A1 lead
to    = 1; those corresponding to region A0 lead to                              = 0; all the others lead to                    = 1=2. The
three dotted red curves correspond to the uninformed responder’s indi¤erence curves going
through the endowment point, for beliefs                             = 0,       = 1=2, and               = 1. This implies that the
feasible set for the proposer is the region delimited by the thick red line (below and to the left
of that line).
     We can now check optimality. There are three blue lines going through point x , repre-
senting the indi¤erence curves of the proposer for beliefs                                        = 0,        = 1=2, and          = 1. The


                                                                     28
indi¤erence curve with an intermediate slope is the one corresponding to an uninformed pro-
poser with          = 1=2. O¤ering z and reaching x is optimal for this agent. Next, the steepest
indi¤erence curve corresponds to a rich informed proposer, with                = 1. This agent prefers any
o¤er in the set A1 to o¤er z , since he gets a higher price for the asset he is selling. So o¤ering
z        and reaching x      is optimal for him. Finally, the ‡attest indi¤erence curve corresponds to
a poor informed proposer, with              = 0. This agent would get a higher utility than he gets at
x if he could convince the responder to accept any o¤er in A0 . However, there are no o¤ers
that lie in A0 and are to the left of the responder’s indi¤erence curve labelled               = 0. Thus,
it is optimal for the poor informed proposer to mimic the uninformed and o¤er z . It can be
checked that this equilibrium satis…es Cho and Kreps (1987) intuitive criterion.
         It is useful to compare this equilibrium with the one arising in the same game with complete
information, where the signal s is observed by all agents. In this case, in state s1 the indi¤erence
curves of both proposer and responder are steeper and the unique subgame perfect equilibrium
corresponds to the trade which maximizes the proposer’s expected utility, while leaving the
responder indi¤erent between accepting and rejecting, leading to allocation xo . This is an ex
post Pareto e¢ cient allocation which lies on the 45 degree line, where agents equalize their
holdings of the two assets. In contrast, in the game with asymmetric information, when a rich
informed agent meets an uninformed responder, they reach x                   which is not an ex post Pareto
e¢ cient allocation. Why is the allocation           xo   not an equilibrium? The reason is that if it was,
both informed and uninformed agents would prefer to make the o¤er leading to xo . Hence,
the agent receiving such o¤er would not change his beliefs, thus remaining on the indi¤erence
curve with         = 1=2 and rejecting the o¤er.
         The trading prices can be evaluated graphically by taking the vectors connecting the en-
dowment point to the …nal allocations x and x                   and looking at their slopes.13 Notice that
the price of asset 1 o¤ered by a rich informed agent is higher than: (a) the price o¤ered by
uninformed agents, and (b) the price that informed agents would o¤er in the game with com-
plete information. This example shows how informed agents can receive a higher payo¤ than
uninformed agents. By o¤ering z               instead of z , the rich informed agent can credibly reveal
his information and sell a smaller amount of asset 1 at a higher price. The reason is that only
an agent who observes signal s1 is willing to retain a portfolio so unbalanced in favor of asset
1. On the other hand, as discussed above, this signalling leads to ex post ine¢ ciency.
         This example illustrates several important features of equilibrium trading, which, as we will
see, remain true in the computed equilibrium of the dynamic game. First, since rich informed
agents need to signal their information, it takes them longer to reach e¢ cient outcomes than
with full information. Second, rich informed agents generally prefer to sell little of their
endowment early on in the game and rebalance their portfolio slowly. Finally, poor informed
agents sell their holdings of the less valuable asset, taking advantage of the fact that uninformed
    13
         To make the …gure more readable, the trade vectors are not drawn.


                                                          29
agents do not know which asset is more valuable.
    So far we have concentrated on a speci…c equilibrium of our example. However, the mech-
anism generating informational rents is present in any equilibrium. To see this, let us go
back to Theorem 3 and discuss its application to our example. In the static economy of the
example, the value function V1 (x; ) is equal to the expected utility U (x; ). Therefore, the
di¤erentiability requirements for Theorem 3 are immediately satis…ed and so are conditions
(12) because
                        @U (x; 1)                                                              @U (x; 0)
                                  =      (s1 ) u0 x1 >               (s2 ) u0 x1 =                              (17)
                          @x1                                                                    @x1
and
                  @U (x; 1)                                                                         @U (x; 0)
                            = (1        (s1 )) u0 x2 > (1                     (s2 )) u0 x2 =                    (18)
                    @x2                                                                               @x2
follow from       (s1 ) >   (s2 ). Therefore, Theorem 3 applies and the value of information is
always positive.
    To complete this section, we provide some intuition for Theorem 3, sketching the argument
of the proof in the context of our example. Suppose, by contradiction that the value of
information is zero. Consider an o¤er z made by an uninformed proposer and accepted with
positive probability by some agent (in the Appendix we show that such an o¤er must exist).
Now if the proposer has endowment (eh ; el ) it can be argued that o¤er z will be accepted only
by agents with symmetric endowment (el ; eh ) (the formal details are in the Appendix). This
means that the set of agents who accept z is characterized as the set of agents for which

                                     U ((el ; eh ) + z; )            U ((el ; eh ) ; )                          (19)

                                          0       00
for all beliefs    in some interval           ;        . Suppose, without loss of generality, that z 1 > 0 and
z 2 < 0, i.e., the proposer is o¤ering to sell asset 1. Conditions (17) and (18) can then be used
to show that the acceptance condition (19) will hold as a strict inequality except for the most
                                00
optimistic agent with belief         . In other words, if we perturb the o¤er z, taking an o¤er z~ near
                                                                                 00
z such that the o¤er is accepted by an agent with belief                              , i.e., such that

                                                            00                           00
                                   U ((el ; eh ) + z~;           )   U ((el ; eh ) ;          );                (20)

then o¤er z~ will be accepted at least by all agents who accept z. In turn, this implies that
local perturbations of z that satisfy (20) cannot dominate z for the proposer. This means that
the marginal rate of substitution of the proposer (after z is accepted) must be equal to
                                                                       00
                                          @U ((el ; eh ) + z;               )=@x1
                                                                       00         :                             (21)
                                          @U ((el ; eh ) + z;               )=@x2

    Now we can use our assumption of zero value of information to reach a contradiction. If
making o¤er z is optimal for an uninformed proposer and the value of information is zero, it

                                                             30
must also be optimal to o¤er z for an informed proposer with the same endowment and belief
    = 1. But the marginal rate of substitution of these two proposers cannot be both equal to
the same value (21), given that they have di¤erent beliefs. This follows from conditions (17)
and (18), which imply that the two marginal rates of substitution satisfy

                     @U ((eh ; el ) z; 1=2)=@x1            u0 eh    z1
                                                      =                 6=
                     @U ((eh ; el ) z; 1=2)=@x2            u0 (el   z2)
                            (s1 ) u0 eh z 1                 @U ((eh ; el ) z; 1)=@x1
                                                      =                               :
                       (1       (s1 )) u0 (el z 2 )        @U ((eh ; el ) z; 1=2)=@x2

     Notice that the assumption of two endowment-types is useful in the argument above, when
we construct the set of local perturbations z~ satisfying (20). In particular, with two types
we immediately see that this set has a di¤erentiable frontier, which allows us to derive our
contradiction. In fact, with more than two types, it is possible to construct counterexamples
where the equilibrium o¤ers are at a kink of the frontier of accepted o¤ers. In those examples,
the value of information is zero when the signal s is not informative enough (i.e., when            (s1 )
is near 1=2). We believe that in the fully dynamic version of our model (i.e., with             > 0) it
might be possible to develop alternative arguments to prove that the value of information is
always positive, with any number of types, exploiting the convergence properties of marginal
rates of substitution. The main di¢ culty with this type of arguments is that we have relatively
little information on the shape of the value functions and, since we are dealing with short run
properties of the equilibrium, we cannot use the per period utility U (xt ; t ) to approximate
the optimal expected utility, as we did in Section 3.


5      Numerical illustration
In this section we illustrate quantitatively the theoretical results of the paper. The analysis of
this section shows additional properties of equilibria to complement our theoretical derivations.
We also contrast our results with the case when all the information is public. All the details
of the numerical algorithm used in this section are in the Appendix.
     Assume agents’preferences display constant absolute risk aversion, that is, u (x) =         exp (      x).
Section 8.3 of the Appendix shows that with this utility function agents’strategies depend only
on their relative asset position, that is, on the di¤erence between their holdings of the two as-
sets x1     x2 but not on the levels of x1 and x2 . Then the behavior of an agent in period t
depends only on the time period t and on the two individual state variables x1              x2 and .
     Suppose there are two types of agents: half of the agents starts with the initial endowment
(2; 0) and the other half starts with the initial endowment (0; 2). For our simulations, we
choose a coe¢ cient of absolute risk aversion         = 1, and the proportion of the informed agents
    = 0:1. The probability of state S1 conditional on signal s1 is equal to        = 0:6. All the graphs


                                                      31
                                                      1     2
                                           Average x - x         of informed
                     2


                   1.5


                     1


                   0.5


                     0


                  -0.5


                    -1


                  -1.5


                    -2
                         0    5       10         15               20           25   30        35
                                                          time



       Figure 3: Average relative asset positions of informed agents (conditional on s1 )



depict equilibrium behavior in state s1 , i.e., in the state where asset 1 is more valuable.
   Figure 3 shows how the relative asset position x1                     x2 evolves over time, averaging over
all informed agents, both in our model with private information (solid lines) and in the corre-
sponding trading game with complete information (dashed lines).
   Consider …rst the trading game with complete information. The dashed blue line describes
the average relative asset position of the rich informed agents, who begin life with larger
holdings of asset 1 than of asset 2, i.e., with x10;i             x20;i > 0. Whenever they …nd other agents
willing to trade, these agents sell the …rst asset and buy the second, until their portfolios
are balanced and x1 is equal to x2 . In this way, the economy converges towards an e¢ cient
allocation. The dashed red line describes the behavior of the poor informed agents, who begin
life with smaller holdings of asset 1 than of asset 2, i.e. with x10;i                   x20;i < 0. In the case of
complete information, their behavior is just a mirror image of that of the rich agents.
   A di¤erent picture arises in the setting with private information. Consider …rst the rich
agents, corresponding to the solid blue line. The rich agents are converging more slowly towards
a balanced portfolio for two reasons. First, as illustrated in the static example of Section 4.2,
by o¤ering smaller trades they can credibly reveal their information to their opponents and sell
asset 1 at more favorable prices. However, a second e¤ect is also at work in a fully dynamic
environment: now informed agents have an incentive to hold on to their endowment of asset
1 and wait until the information spreads in the economy. As time passes, more uninformed


                                                      32
agents have updated their belief towards       = 1 and it is easier for the rich informed agents to
sell asset 1 at a higher price.
     Consider next the poor informed agents, corresponding to the solid red line. These agents
know that in the long run uninformed agents will learn the true state of the world and the
terms of trade will turn against them. Therefore, they tend to sell the less valuable asset 2
as fast as possible, taking advantage of the relatively favorable prices which uninformed are
willing to accept at this stage. After several periods of trading, they cross the zero line and
start accumulating a positive relative asset position. At that point, these agents are engaging in
purely “speculative”behavior, accumulating the asset 1 by taking advantage of the uninformed
agents who are still willing to sell it at a relatively cheap price, with the expectation of reselling
it later at higher prices, once the information about s has spread in the economy. That is,
these agents start with x1    x2 < 0, overshoot to a positive relative asset position x1      x2 > 0,
and later on converge back to a balanced portfolio.
     Relative to the simple static example of Section 4.2, Figure 3 shows an additional reason why
the value of information is positive. In that example, the only advantage of informed agents
was their ability to reveal their information to the other agents to obtain a more favorable
price. This was a gain only for the rich informed agents. Now, instead, also poor informed
agents gain from their informational advantage, by engaging in speculative trading.
     We can also use our simulations to analyze how the economy converges towards an e¢ cient
allocation. Since the graph in Figure 3 only shows the average holdings for some subsets of
agents, to study e¢ ciency it is more informative to look at the standard deviation of these
holdings across the population. Given that ex post e¢ ciency requires x1           x2 = 0 agent by
agent and the cross sectional average of x1 x2 is zero, the cross sectional standard deviation of
x1    x2 is a measure of how far the economy is from an e¢ cient allocation. Figure 4 shows the
dynamics of this standard deviation. Again, we plot both the dynamics in the case of private
information (solid line) and in the case of complete information (dotted line). Consistently with
our long run result in Theorem 1, all agents eventually converge to fully balanced portfolios
and the economy converges to an e¢ cient allocation. However, the numerical results show that
it takes longer to achieve e¢ ciency in the economy with private information. For example, in
period t = 15 essentially all agents have balanced portfolios in the case of complete information,
while agents are still far from an e¢ cient allocation in the private information case.
     Figures 5 describes trading volumes, which we de…ne as the average size of trades in the
economy (where the size of each trade is measured as the norm of the trade vector). The
…gure only depicts the case of private information since volumes under public information are
virtually identical. One could have conjectured that trading volumes will be higher in this
environment as poor informed agents engage in speculative trading in the short run, buying
asset 1 only to resell it later. This turns out not to be the case and trading volumes are very
similar in the two cases. The reason for this result is that the higher trading volumes generated


                                                 33
                                                                Efficiency
                                 2.5




                                  2




                                 1.5
                S.d. of prices




                                  1




                                 0.5




                                  0
                                       0       5       10      15          20   25     30     35
                                                                    time



                                           Figure 4: Dispersion of relative asset positions



by the poor informed agents is compensated by the lower trading volumes generated by the
rich informed agents who, as we saw above, tend to hold on to asset 1 for a longer time.
   Finally, let us look at price dynamics. Given a trade z, the price of asset 2 in terms of
asset 1 is equal to the ratio jz1 j = jz2 j. The average price across all transactions is plotted
in Figure 6 and the standard deviation of prices is plotted in Figure 7. Recall that both
paths are conditional on signal s1 . The average price gradually converges to (1                   ) = = 2=3,
which is the fully revealing price in the Walrasian benchmark. Price dispersion is very large
at the beginning and, after an initial spike, it decreases gradually. It is interesting to notice
that around period t = 15 two things happen at the same time: the average price essentially
converges to its fully revealing level (Figure 6) and poor informed agents start rebalancing their
portfolios (Figure 3). So, in a sense, the “speculative phase” is over in period t = 15. From
then on, there is still price dispersion, re‡ecting the fact that agents with di¤erent portfolios
have di¤erent marginal rates of substitution. But the price signals sent by informed agents are
now more informative, uninformed agents learn faster, and both quantities and prices converge
faster to their long run levels (Figures 4 and 7).




                                                                    34
                            Volume of trade
  0.25




   0.2




  0.15




   0.1




  0.05




     0
         0    5      10      15          20   25      30      35
                                  time



                    Figure 5: Volume of trade



                             Average price
  1.05


     1


  0.95


   0.9


  0.85


   0.8


  0.75


   0.7


  0.65
         0    5      10      15          20   25      30      35
                                  time



Figure 6: Average path of the price of asset 2 (conditional on s1 )



                                  35
                                                     Dispersion of prices
                                 0.5

                                0.45

                                 0.4

                                0.35

                                 0.3
               S.d. of prices




                                0.25

                                 0.2

                                0.15

                                 0.1

                                0.05

                                  0
                                       0   5    10      15          20      25   30   35
                                                             time



                                               Figure 7: Price dispersion



6    Conclusion
We provide a theory of asset pricing in an environment characterized by two frictions: private
information and decentralized trade. These frictions often go hand in hand— it is reasonable to
think that in decentralized markets, such as, for example, over the counter markets, agents also
receive di¤erent pieces of information on the value of the assets traded. We provide theoretical
results on convergence to the e¢ cient allocation, on learning by uninformed agents and on
the value of information. We also provide a static example and numerical simulations that
illustrate and extend the theoretical results.
    Throughout the paper we have kept …xed the central trading friction in the model, the
frequency of trading captured by the parameter . This parameter determines the average
number of trades before the game ends. A question that we leave open for future research is
what happens in the limit when the trading friction vanishes— i.e., when              goes to 1— and, in
particular, whether the value of information goes to zero.




                                                             36
7     Appendix
7.1    Preliminary results
Here, we introduce two technical results that will be useful throughout the appendix.
     Lemma 3 is an elementary probability result (stated without proof) that will be useful
whenever we need to establish joint convergence in probability for two or more events.

Lemma 3 Take two sets A; B                     such that P (Ajs)        1    " and P (Bjs) > 1            for some
positive scalars " and . Then, P (A \ Bjs) > 1               "      .

                                                                                          2
     Lemma 4 shows that the portfolios xt converge to a compact set X in the interior of R+
with probability arbitrarily close to one. This type of set will be used to ensure that several
optimization problems used in the proofs are well de…ned.

Lemma 4 For any " > 0 and any state s, there are a compact set X                              2
                                                                                             R++ and a time T
such that P (xt 2 X j s)         1    " for all t    T.

Proof. To prove the lemma, we will …nd two scalars x and u such that the set

                           X = x : x 2 (0; x]2 ; U (x; )         u for some      2 [0; 1]

satis…es the desired properties. The proof combines two ideas: use market clearing to put an
upper bound on the holdings of the two assets, that is, to show that with probability close to
1 agents have portfolios in (0; x]2 ; use optimality to bound their holdings away from zero, by
imposing the inequality U (x; )           u.
                                                        2 . The following two equalities follow
     First, let us prove that X is a compact subset of R++
from the fact that U (x; ) is continuous, non-decreasing in                  if x1    x2 , and non-increasing if
x1    x2 :

             x : U (x; )    u for some     2 [0; 1] ; x1    x2     =        x : U (x; 1)    u; x1    x2 ;
             x : U (x; )    u for some     2 [0; 1] ; x1    x2     =        x : U (x; 0)    u; x1    x2 :

The sets on the right-hand sides of these equalities are closed sets. Then X can be written as
the union of two closed sets, intersected with a bounded set:

               X=      x : U (x; 1)    u; x1      x2 [ x : U (x; 0)          u; x1    x2    \ (0; x]2 ;

                                   = X if xj = 0 for some j because of Assumption 2 and
and thus is compact. Notice that x 2
u>                                             2 .
       1. Therefore, X is a compact subset of R++



                                                       37
   Next, let us de…ne x and u and the time period T . Given any " > 0, set x = 4=". Goods
market clearing implies that

                                   P (xjt > xjs)     "=4 for all t, for j = 1; 2:                                 (22)

To prove this, notice that
                Z                          Z
           1=       xjt   (!) dP (!js)                     xjt (!) dP (!js)         (4=") P (xjt > 4="js);
                                             xjt (!)>4="


which gives the desired inequality. Let u be an upper bound for the agents’ utility function
u ( ) (from Assumption 2). Choose a scalar u < u such that

                                               u     U (x0 ;     0)    "
                                                                         ;
                                                     u u               8

for all initial endowments x0 and initial beliefs            0.   Such a u exists because U (x0 ;       0)   >   1, as
initial endowments are strictly positive by Assumption 3, and there is a …nite number of types.
Then notice that U (x0 ;      0)      E vt jh0 for all initial histories h0 , because an agent always has
the option to refuse any trade. Moreover

                           E vt j h0        P vt < u j h0 u + P vt                  u j h0 u:

Combining these inequalities and rearranging gives

                                                            u     U (x0 ;    0)     "
                                    P vt < u j h0                                     :
                                                                  u u               8

Taking unconditional expectations shows that P (vt < u)                           "=8. Since P (s) = 1=2 it follows
that
                                    P (vt < u j s)      "=4 for all t, for all s:                                 (23)

Choose T so that
                               P (jut      vt j > u=2 j s)         "=4 for all t          T:                      (24)

This can be done by Lemma 2, given that almost sure convergence implies convergence in
probability. We can then set u = u=2.
   Finally, we check that P (xt 2 X j s)                1        " for all t       T , using the following chain of




                                                            38
inequalities:

                 P (xt 2 X j s)       P xt 2 (0; x]2 ; U (xt ; t )      ujs
                                  2
                 P xt 2 (0; x] ; vt u; jut vt j u=2 j s
                    X
                 1     P xjt > x j s      P (vt < u j s) P (jut                 vt j > u=2 j s)   1   ":
                        j


The …rst inequality follows because U (xt (!) ;              t (!))     u implies U (xt (!) ; )       u for some
  2 [0; 1]. The second follows because vt (!)                u and jut (!)        vt (!)j    u=2 imply ut (!) =
U (xt (!) ;    t (!))       u=2 = u. The third follows from repeatedly applying Lemma 3. The fourth
combines (22), (23), and (24).

7.2    Proof of Proposition 1
We start by proving a lemma which shows that given any two agents with portfolios in some
compact set X, whose marginal rates of substitution di¤er by at least ", there is a trade z that
achieves a gain in current utility of at least          , for some positive          .
   The lemma is stated in a more general form than what is required to prove Proposition 1.
The generality is threefold. First, it applies not just to informed agents but also to agents with
any (possibly di¤erent) beliefs. Second, we show that the utility gain                      can be achieved with
small trades, i.e., trades such that kzk <            for some        > 0. (Throughout the paper, k:k is the
Euclidean norm). Finally, since an uninformed proposer making o¤er z can change his beliefs
depending on whether his o¤er is accepted or rejected, we bound the potential utility losses of
the proposer under all possible beliefs. These extensions will be useful for later results when
we analyze the behavior of uninformed agents.
   It will be useful for the rest of the appendix to de…ne the function

                                                             ( ) u0 (x1 )
                                        M (x; )                             ;
                                                      (1       ( ))u0 (x2 )

which gives the ex ante marginal rate of substitution between the two assets for an agent with
the portfolio x and belief .

                                      2 . For any " > 0 and
Lemma 5 Let X be a compact subset of R++                                                  > 0 there is a minimal
utility gain       > 0 and an amount of asset 1 traded,                   > 0, with the following property.
Take any two agents with portfolios xA ; xB 2 X and beliefs                   A; B   2 [0; 1] with marginal rates
of substitution that di¤ er by more than ", M (xB ;               B)     M (xA ;     A)   > ". Choose any price
su¢ ciently close to the middle of the interval between the two marginal rates of substitution:

                                 p 2 [M (xA ;   A)   + "=2; M (xB ;      B)     "=2] :



                                                        39
Then the trade z = ( ; p ) is su¢ ciently small, kzk < , and the gain in current utility
associated with the trade is larger than or equal to                                     :

                                              U (xA       z;        A)    U (xA ;         A)                     ;                                            (25)
                                             U (xB + z;            B)     U (xB ;         B)                     :                                            (26)

Moreover, there is a constant                     > 0, which depends on the set X and on the di¤ erence between
the marginal rates of substitution ", but not on the size of the trade , such that the potential
loss in current utility associated with the trade z is bounded below by                                                                for all beliefs :

                                     U (xA     z; )       U (xA ; )                              for all         2 [0; 1] :                                   (27)

Proof. The idea of the proof is as follows. We construct a Taylor expansion to compute
the utility gains for any trade. Then we de…ne the traded amount                                                                and the utility gain
satisfying (25) and (26).
   Choose any two portfolios xA ; xB 2 X and any two beliefs                                                                 A; B      2 [0; 1] such that
M (xB ;   B)       M (xA ;            A)   > ". Pick a price p su¢ ciently close to the middle of the inter-
val between the marginal rates of substitution:

                                           p 2 [M (xA ;        A)      + "=2; M (xB ;               B)           "=2]:

This price is chosen so that both agents will make positive gains. Consider agent A and a
traded amount ~       (for some which we will properly choose below). The current utility
gain associated with the trade z~ = (~; p~) can be written as a Taylor expansion:

          U (xA         z~;     A)      U (xA ;    A)
                                                                                     1                                                                         2
     =         (   A )u
                          0
                              (x1A )~ + (1         (   A ))u
                                                               0
                                                                   (x2A )p~ +                (    A )u
                                                                                                         00
                                                                                                              (y 1 ) + (1          (   A ))u
                                                                                                                                               00
                                                                                                                                                    (y 2 )p2 ~
                                                                                     2
                                                         1                                                                             2
          (1        (   A ))u
                                 0
                                     (x2A ) ("=2) ~ +              (   A )u
                                                                              00
                                                                                   (y 1 ) + (1            (     A ))u
                                                                                                                        00
                                                                                                                             (y 2 )p2 ~ ;                     (28)
                                                         2

for some y 1 ; y 2 2 x1A ; x1A                          [x2A + p ; x2A ]. The inequality above follows because p
M (xA ;   A)   + "=2. An analogous expansion can be done for agent B.
   Now we want to bound the last line in (28). To do so we …rst de…ne the minimal and the
maximal prices for agents with any belief in [0; 1] and any portfolio in X:

                                              p =            min          fM (x; ) + "=2g ;
                                                        x2X; 2[0;1]
                                              p =            max          fM (x; )                   "=2g :
                                                        x2X; 2[0;1]

                                                          2
These prices are well-de…ned as X is a compact subset of R++ and u (:) has continuous …rst


                                                                          40
               2 . Then, choose
derivative on R++                  > 0 such that for all ~     and all p 2 [p; p], the trade
z~ = (~; p~) satis…es k~                                  2
                       z k < and x + z~ and x z~ are in R+ for all x 2 X. This means that
the trade is small enough. Next, we separately bound from below the two terms in the last
line of the Taylor expansion (28). Let

               0
              DA =          min       (1         ( ))u0 (x2 )"=2;
                        x2X; 2[0;1]

               00                                        1
              DA  =                 min                        ( )u00 (y 1 ) + (1        ( ))u00 (y 2 )~
                                                                                                       p2 :
                          x2X; 2[0;1];~p2[p;p];          2
                        y2[x1 ;x1 + ] [x2 p~ ;x2 ]


                                                                    2
            0 is positive, D 00 is negative but D 00 ~ is of second order. Then, there exist some
Note that DA                 A                   A
   2  0;   such  that, for all ~       ,
 A                                   A

                                                  0 ~    00 ~       2
                                                 DA   + DA    >0

and, by construction,

                                                                           0 ~    00 ~           2
                            U (xA      z~;     A)       U (xA ;    A)     DA   + DA    :

                         0 ; D 00 ; and
Analogously, we can …nd DB    B                     B   such that for all ~              B   the utility gain for agent B
is bounded from below:

                                                                         0 ~    00 ~     2
                        U (xB + z~;        B)       U (xA ;    B)       DB   + DB    > 0:

We are …nally ready to de…ne         and         . Let        = min f     A; B g    and

                                       0    00 2    0    00                          2
                                = min DA + DA    ; DB + DB                                   :

By construction     and     satisfy the inequalities (25) and (26).
   To prove the last part of the lemma, let

                                                1 (1) minx2X u0 (x1 )
                                           =               0 ; D0
                                                                      ;
                                                2   min DA      B

which, as stated in the lemma, only depends on X and ". Using a second-order expansion
similar to the one above, the utility gain associated to z = ( ; p ) for an agent with portfolio
xA and any belief    2 [0; 1], can be bounded below:

                    U (xA    z~; )     U (xA ; )                  (1) min u0 (x1 )                  00 2
                                                                                                 + DA    :
                                                                        x2X


Therefore, to ensure that (27) is satis…ed, we need to slightly modify the construction above,


                                                             41
by choosing       so that the following holds
                                                                              2
                                      (1) minx2X u0 (x1 )             00
                                                                   + DA
                                                                                  > :

The de…nitions of       and       and a continuity argument show that this inequality holds for some
positive      min f    A ; B g,   completing the proof.
Proof of Proposition 1. Proceeding by contradiction suppose (6) does not hold. Without
loss of generality, let us focus on state s1 . If (6) is violated in s1 then there exist an " > 0 and
an    2 (0; 1) such that the following holds for in…nitely many periods t:

                   P (jM (xt ; t )       j > ";    t   = 1 j s1 ) > P (   t   = 1 j s1 ) for all :                        (29)

Equation (29) means that the distribution of the informed agents’marginal rates of substitution
is such that there is a su¢ ciently large mass (more than ) which is su¢ ciently far (more than
") from any possible value .
     We want to show that (29) implies that there is a pro…table deviation for informed agents.
The deviation takes the following form. The informed agent starts deviating at some date T
(to be de…ned) if three conditions are satis…ed:

 (a) his marginal rate of substitution is below some level                    (to be de…ned): M (xT ;               T)    <      ;

 (b) his utility is close enough to its long run level: uT                 v^T              =4 (for some           > 0 to be
       de…ned);

 (c) his portfolio xT is in some compact set X (to be de…ned).

     We will show that when (a)-(c) hold the agent can make an o¤er z which is accepted with
probability   T   (z js1 )        =4 and gives him a utility gain of at least                     . The expected payo¤
of this strategy at time T is

                    uT +     T   (z js1 ) (U (xT       z ;   T)   u T ) > uT +             =4      v^T :

Since v^T is, by de…nition, the expected payo¤ of a proposer who follows an optimal strategy,
this leads to a contradiction.
     To complete the proof we need to de…ne the scalars                           and     , the set X, the deviating
period T and the o¤er z . In the process, we will check that conditions (a)-(c) are satis…ed
with positive probability, that o¤er z gives a utility gain of at least                              to the agents who
satisfy (a)-(c), and that o¤er z is accepted with probability                      T   (z js1 )        =2.
    De…ne X to be a compact subset of R++  2   such that the              portfolios of su¢ ciently many agents
                                             0
are eventually in this set, i.e., for some T we have P (xt                2 X j s1 )          1            =4 for all t       T 0.
Such a set exists by Lemma 4.

                                                             42
   De…ne         > 0 to be the minimal gain from trade for two agents with marginal rates of
substitution that di¤er by at least " with portfolios in X. Such a                                    exists by Lemma 5.
   We can now …nd a time T large enough that condition (29) also holds if we restrict attention
to agents close to their long run utility, with portfolios in X, i.e., agents who satisfy (b)-(c).
Applying Lemmas 2 and 3, choose a T 00                         T 0 such that

                     P (ut      v^t              =4; xt 2 X j s1 ) > 1                  =2 for all t        T 00 :

Then, using (29) and the fact that there is at least a mass                                 of informed agents in each period
t, we can …nd a T       T 00    such that there are enough agents (at least                              ) whose marginal rates
of substitution are far (at least ") from any :

                P (jM (xT ;     T)           j > ";    T    = 1 j s1 ) > P (       t   = 1 j s1 )           for all :

Using Lemma 3, it follows that at time T there are at least                                   =2 informed agents who satisfy
jM (xT ;   T)      j > " for any             and conditions (b)-(c):

      P (jM (xT ;     T)        j > "; uT             v^T          =4; xT 2 X;          T    = 1 j s1 ) >       =2 for all :

It will be useful to rewrite this equation as

            P (jM (xT ;        T)        j      "; uT        v^T              =4; xT 2 X;       T   = 1 j s1 ) <
                                < P (uT           v^T              =4; xT 2 X;          T   = 1 j s1 )         =2 for all ;     (30)

   To de…ne        , the idea is to use condition (29)— which states that there are not too many
informed agents around any — to …nd a                              such that enough agents have marginal rate of
substitution below         and enough agents have marginal rate of substitution above                                      + ". The
…rst group of agents will make the o¤er z , the second group will accept it. De…ne

    = sup f : P (M (xT ;            T)   >     + (3=2) "; uT            v^T             =4; xT 2 X;       T   = 1 j s1 )       =4g :

   The de…nition of             implies that there are less than                        =4 informed agents with marginal
rate of substitution above               + 2" who satisfy (b)-(c),

           P (M (xT ;      T)   >        + 2"; uT            v^T              =4; xT 2 X;       T   = 1 j s1 ) <     =4;        (31)




                                                                   43
given that     + "=2 >       . Consider the following chain of equalities and inequalities:

               P (M (xT ;      T)         ; uT       v^T          =4; xT 2 X;         T    = 1 j s1 ) =
               P(         M (xT ;       T)           + 2"; uT     v^T           =4; xT 2 X;           T   = 1 j s1 )
               P (M (xT ;      T)   >        + 2"; uT       v^T         =4; xT 2 X;           T   = 1 j s1 ) <
                     < P (uT        v^T              =4; xT 2 X;    T   = 1 j s1 )            =4;

where the equalities are immediate and the inequality follows from (30) (with                                  =        + ") and
(31). This implies

                 P (M (xT ;    T)   <        ; uT     v^T          =4; xT 2 X;         T   = 1 j s1 ) > 0;                  (32)

which shows that conditions (a)-(c) are met with positive probability.
     To de…ne the deviating o¤er z , notice that, by the de…nition of                                , there exists an o¤er
z =( ; p         ), with price p =             + "=2, such that

                  U (x    z ; )              U (x; ) +        if M (x; ) <            and x 2 X;                            (33)
                  U (x + z ; )               U (x; ) +        if M (x; ) >            + " and x 2 X:                        (34)

Condition (33) shows that an informed proposer who satis…es (a)-(c) gains at least                                       if o¤er
z is accepted.
     Finally, the de…nition of          implies that there must be at least                       =4 agents with marginal
rate of substitution above          + ",

             P (M (xT ;   T)   >        + "; uT       v^T          =2; xT 2 X;         T   = 1 j s1 )          =4;          (35)

given that          "=2 <      . Recall that v^t represents, by de…nition, the maximal expected
utility the responder can get from rejecting all o¤ers and behaving optimally in the future. A
responder who receives z has the option to accept it and stop trading from then on, which
yields expected utility U (xT +z ;           T ).   For all informed agents who satisfy M (xT ;                    T)       +",
uT     v^T       =4 and xT 2 X, we have the chain of inequalities

                            U (xT + z ;        T)      uT +       > uT +          =4         v^T ;

where the …rst inequality follows from (34). This shows that rejecting z at time T is a strictly
dominated strategy for these informed agents. Since there are at least                                =4 of them, by (35),
the probability that z is accepted must then satisfy                    T   (zjs1 )           =4.




                                                            44
7.3      Proof of Proposition 2
The proof proceeds by contradiction, supposing that for all " > 0 there are in…nitely many
periods t in which: (a) the long-run marginal rates of substitution of informed agents in states
s1 and s2 are similar, j t (s1 )        t (s2 )j   < ", and (b) almost all informed and uninformed agents
have marginal rates of substitution close to                   t (s),   i.e.,

                              P (jM (xt ; t )                 t (s)j    < 2" j s) > 1        "

in some state s.
    First of all, let us manipulate this expression, to derive a version that is easier to contradict.
Speci…cally, let us show that (a) and (b) imply that there are in…nitely many periods in which
almost all agents have marginal rates of substitution near 1. By symmetry, the long-run
marginal rates of substitutions of informed agents in states s1 and s2 are one the inverse of the
other:
                                                    t (s1 )   = 1= t (s2 ):

Then, some algebra shows that j t (s1 )                 t (s2 )j    < " implies j t (s1 )        1j < ". Moreover, by the
triangle inequality, jM (xt ; t )         t (s1 )j   < 2" and j t (s1 )          1j < " imply jM (xt ; t )       1j < 3".
Therefore, (a) and (b) imply that for all " > 0 there are in…nitely many periods t in which al-
most all agents have marginal rates of substitution close to 1, i.e., P (jM (xt ; t )                      1j < 3" j s) >
1     " in some state s. Without loss of generality, we focus on the case where this condition
holds for in…nitely many periods in state s1 ,

                                   P (jM (xt ; t )            1j < 3" j s1 ) > 1        ":                           (36)

    The idea of the proof is to show that when almost all agents have marginal rates of substi-
tution close to 1 in state s1 , agents will hold on average more of asset 1 than of asset 2. This
contradicts market clearing, which requires the average holdings of the two assets to be equal:
                                    Z
                                         x1t (!)        x2t (!) dP (!js1 ) = 0:                                      (37)

    Informed agents have belief           t   = 1 in state 1, so if their marginal rates of substitution
are close enough to 1 they will clearly have larger holdings of asset 1 than of asset 2. The
main di¢ culty of the proof is to make sure that there aren’t too many uninformed agents with
larger holdings of asset 2 than of asset 1. Since also uninformed agents have marginal rates
of substitution near 1, they can hold more asset 2 than asset 1 only if their beliefs are biased
towards state s2 , i.e., if they have         t    < 1=2. However, we will argue that if the true state is
s1 there are always more uninformed agents biased towards s1 than uninformed agents biased
towards s2 . Therefore, the agents in the economy will hold, on average, more of asset 2 than


                                                               45
asset 1. The main formal step for this argument is given by the following lemma. We will
complete the proof of Proposition 2 after stating and proving the lemma.
    The lemma shows that we can start from the equilibrium distribution of portfolios and
beliefs implied by P (!js1 ) and construct an auxiliary distribution of portfolios and beliefs, Gt ,
with the following three properties: (i) it only includes agents with beliefs greater than 1=2;
(ii) it includes the same mass of informed agents as the original distribution; (iii) the average
holdings of assets 1 and 2 are equalized. In particular, Gt is constructed by eliminating
symmetric masses of agents with              t   > 1=2 and      t   < 1=2 and with symmetric holdings of the
two assets: if the agents in the …rst group hold                x1 ; x2   and have belief , we …nd a group of
agents with holdings       x2 ; x1    and belief 1       , and reduce the masses of both groups by an equal
amount. Since     x1       x2    =      x2       x1   , this procedure ensures that the average holdings of
the two assets are still equalized under the new measure. Moreover, Bayesian reasoning implies
that the …rst group is always larger than the second, so we can construct Gt leaving only a
positive mass of agents in the …rst group. By this process, we end up with a distribution where
every agent has   t (!)    > 1=2 and the average portfolios of goods 1 and 2 are equal.
    Notice that the lemma is stated using a modi…ed version of condition (37). That is, instead
of showing the equality of average asset holdings of assets 1 and 2, we truncate the portfolio
distribution, imposing x2t           m for some arbitrarily large m, and show that the average holdings
of asset 1 can only exceed the average holdings of asset 2 by an arbitrarily small " > 0. Here
is where we exploit the assumption of uniform market clearing. This property will be useful
when completing the proof of Proposition 2.

Lemma 6 For all " > 0, there are a scalar M and a sequence of (discrete) measures Gt on
                                     2
the space of portfolios and beliefs R+            [0; 1] such that the following properties are satis…ed: (i)
the measure is zero for all beliefs smaller than or equal to 1=2:

                                             Gt (x; ) = 0 if           1=2;

(ii) Gt corresponds to the distribution generated by the measure P conditional on s1 for in-
formed agents:

                  Gt (x; 1) = P (! : xt (!) = x;            t (!)    = 1 j s1 ) for all x and t;

(iii) the average holdings of asset 1 exceed the average holdings of asset 2, truncated at any
m    M , by less than ":
                       Z
                                 x1      x2 dGt (x; )        " for all m       M and all t:              (38)
                       x2    m




                                                           46
Proof. For all x 2 R2 and all               2 [0; 1] de…ne the measure Gt as follows
            (
                P (! : xt (!) = x;          t (!)     =       j s1 )       P (! : xt (!) = x;              t (!)   =   j s2 ) if   > 1=2
Gt (x; )                                                                                                                                    :
                                                                       0                                                      if     1=2

We …rst prove that Gt is a well de…ned measure and next we prove properties (i)-(iii).
   Since P generates a discrete distribution over x and                                     for each t, to prove that Gt is a well
de…ned measure we only need to check that

                              P (xt = x;          t   =   j s2 )           P (xt = x;           t   =   j s1 )

so that Gt is non-negative. Take any                      > 1=2. Bayesian rationality implies that a consumer
who knows his belief is         must assign probability                         to s1 :

                                               = P (s1 j xt = x;                  t   = ):

Moreover, Bayes’rule implies that

                      P (s2 j xt = x;             t   = )   P (xt = x;                  t   =       j s2 ) P (s2 )
                                                          =                                                        :
                      P (s1 j xt = x;             t   = )   P (xt = x;                  t   =       j s1 ) P (s1 )

Rearranging and using P (s1 ) = P (s2 ) and                        > 1=2, yields

                                        P (xt = x;        t   =        j s2 )   1
                                                                              =                 < 1;
                                        P (xt = x;        t   =        j s1 )

which gives the desired inequality.
   Property (i) is immediately satis…ed by construction. Property (ii) follows because P (xt = x;                                               t   = 1 j s2 ) =
0 for all x, given that   t   = 1 requires that we are at a history which arises with zero probability
conditional on s2 . The proof of property (iii) is longer and involves the manipulation of market
clearing relations and the use of our symmetry assumption. Using the assumption of uniform
market clearing, …nd an M such that
                          Z
                                            x2t (!) dP (!js1 )              1         " for all m          M:                        (39)
                              x2t (!)   m


Notice that               Z                                                Z
                                         x1t (!) dP (!js1 )                     x1t (!) dP (!js1 ) = 1:
                          x2t (!) m

Which combined with (39) implies that
                     Z
                                        x1t (!)        x2t (!) dP (!js1 )                   " for all m          M:
                      x2t (!) m




                                                                   47
Decomposing the integral on the left-hand side gives
    Z                                                Z                                                        Z
      x1t >x2t
                  x1t       x2t    dP (!js1 ) +       x2t =x1t
                                                                          x1t        x2t   dP (!js1 ) +            x1t <x2t
                                                                                                                                     x1t    x2t dP (!js1 )
     xt 2[0;m]2                                      xt 2[0;m]2                                                   xt 2[0;m]2
         Z
     +   x1t >m
                  x1t       x2t dP (!js1 )           ":                                                                                                  (40)
         x2t m


Let us …rst focus on the …rst three terms on the left-hand side of this expression. The second
term is zero. Using symmetry to replace the third term, the sum of the …rst three terms can
then be rewritten as
                Z                                                              Z
                         x1t >x2t
                                       x1t   x2t     dP (!js1 ) +                   x1t >x2t
                                                                                                 x2t       x1t dP (!js2 ):                              (41)
                        xt 2[0;m]2                                                 xt 2[0;m]2

These two integrals are equal to the sums of a …nite number of non-zero terms, one for each
value of x and          with positive mass. Summing the corresponding terms in each integral, we
have three cases: (a) terms with                 t   =           > 1=2 and P (xt = x;                  t   = js1 ) > P (xt = x;                  t   = js2 )
(by Bayes’rule), which can be written as

                   x1        x2 P (xt = x;                   t   = js1 )             x1     x2 P (xt = x;                 t   = js2 )
                                             =       x1           x2 Gt (x) ;

(b) terms with      t   =         = 1=2 and P (xt = x;                t       = js1 ) = P (xt = x;                t   = js2 ) (by Bayes’rule),
which are equal to zero,

                  x1     x2 P (xt = x;           t   = js1 )                  x1        x2 P (xt = x;         t   = js2 ) = 0;

(c) terms with      t   =         < 1=2 and P (xt = x;                    t   = js1 ) = P (xt = x;                    t   = js2 ) (once more, by
Bayes’rule), which can be rewritten as follows, exploiting symmetry,

             x1   x2 P xt = x1 ; x2 ;                    t   = js1                 x1      x2 P xt = x1 ; x2 ;                       t   = js2
             = x1       x2        P xt = x2 ; x1 ;                t   =1            js2         P xt = x2 ; x1 ;                 t   =1          js1
             = x2       x1 Gt         x2 ; x1 ; 1                 :




                                                                          48
Combining all these terms, the integral (41) is equal to
           Z                                                Z
             x1 >x2 ; >1=2
                                 x1    x2 dGt (x; ) +       x1 >x2 ; <1=2
                                                                            x2     x1 dGt   x2 ; x1 ; 1
               x2[0;m]2                                       x2[0;m]2
                   Z                                             Z
               =   x1 >x2 ; >1=2
                                      x1   x2 dGt (x; ) +         x2 >x1 ; >1=2
                                                                                  x1   x2 dGt (x; ) =
                     x2[0;m]2                                       x2[0;m]2
                   Z
               =                 x1    x2 dGt (x; ) ;
                             2
                   x2[0;m]

where the …rst equality follows from a change of variables and the second from the fact that Gt
is zero for all        1=2. We can now go back to the integral on the right-hand side of (40), and
notice that the integrand x1t              x2t in the fourth term is positive, so replacing the measure
P with the measure Gt , which is smaller or equal than P , reduces the value of that term.
Therefore the inequality (40) in terms of the measure P , leads to the following inequality in
terms of the measure Gt                     Z
                                                       x1       x2 dGt      ";
                                                x2 m

completing the proof of property (iii).

    We can now complete the proof of the proposition.

Proof of Proposition 2. We now proceed to use the two conditions (36) and (38) introduced
above to reach a contradiction. We …rst show that agents with marginal rates of substitution
near 1 and beliefs greater than 1=2 must hold more of asset 1 than of asset 2. Then we show
that such asset holdings violate market clearing.
    Formally, our objective is to show that, for some appropriately chosen positive scalars m
and , the following inequality holds for some t
                                            Z
                                                       x1       x2 dGt > ;                                (42)
                                             x2   m

and then showing that this contradicts (38). To evaluate the integral in (42) we will divide the
agents into three groups.
    Group 1 : Informed agents with marginal rate of substitution su¢ ciently close to 1 and
portfolios in some compact set X. We will prove that for these agents the di¤erence x1                    x2 is
bounded below by some positive number.
    Group 2 : Uninformed agents with marginal rate of substitution su¢ ciently close to 1 and
informed agents with marginal rate of substitution su¢ ciently close to 1 but portfolios not in
X. We will prove that, for all such agents the di¤erence x1                        x2 is bounded below by some
small negative number.
    Group 3 : Agents with marginal rate of substitution far from 1 at time t. We will prove


                                                            49
that the measure of such agents goes to zero.
   In the rest of the proof, we construct the three groups above, we de…ne the constants m
and , we …nd period t , and, …nally, we prove inequality (42).
   Step 1 (Group 1). Since there is at least a mass                    of informed agents, using Lemmas 3 and
4, we can …nd a compact set X           2
                                       R++    and a time T such that for all " > 0 there is a large
enough mass of informed agents with (a) marginal rate of substitution close to 1 (within 3")
and (b) portfolios in the set X, that is,

                    P (jM (xt ; t )   1j < 3";      t   = 1; xt 2 X j s1 ) > (5=6)        "              (43)

for all periods t   T in which P (jM (xt ; t )              1j < 3" j s1 ) > 1       ".
   Consider the following minimization problem

                                dI (") = min x1                  x2
                                              x2X
                                              s.t. jM (x; 1)              1j   3":

The value dI (") is the minimal di¤erence between the holdings of the two assets, for informed
agents who satisfy (a) and (b). For future reference, notice that dI (") is continuous, from the
theorem of the maximum.
   Consider this problem with " = 0. Let us prove that dI (0) > 0. If x1                            x2 , then
u0 x1     u0 x2 and, therefore, the marginal rate of substitution

                                              (1)u0 (x1 )                  (1)
                          M (x; 1) =                                             > 1:
                                       (1       (1)) u0 (x2 )            1   (1)

Therefore, all x that satisfy jM (x; 1)      1j         0 must also satisfy x1 > x2 . In other words, given
that informed agents have a signal favorable to state 1, if their marginal rate of substitution
is exactly 1 they must hold strictly more of asset 1.
   We can now de…ne the constant             — the lower bound for the average di¤erence in the
holdings of assets 1 and 2 in expression (42)— as

                                                   =        dI (0) :
                                                        6

Next, we de…ne the quantity m. Applying uniform market clearing and Lemma 6, we can …nd
an m     dI (0) such that the following inequalities hold for all t:
                                       Z
                                                   x2t dP (!js1 )                                        (44)
                                          x2t >m




                                                         50
and                                     Z
                                                      x1         x2 dGt           :                             (45)
                                        x2    m

From (44), we have
                                             Z
                   mP x2t (!) > m                                x2t (!) dP (!js1 )            for all t;
                                               x2t (!)>m


which, given the de…nition of     and the fact that m                        dI (0), implies

                                                            dI (0)
                             P x2t (!) > m                                        for all t:
                                                           6 m                6

    We then obtain the following chain of equalities and inequalities,

                      P (jM (xt ; t )       1j < 3";         t   = 1; xt 2 X j s1 ) =
                      P jM (xt ; t )        1j < 3";         t   = 1; x2t      m; xt 2 X j s1
                       + P jM (xt ; t )              1j < 3";      t   = 1; x2t > m; xt 2 X j s1
                      P jM (xt ; t )        1j < 3";         t   = 1; x2t      m; xt 2 X j s1 + =6;

and combine it with (43) to conclude that

               P jM (xt ; t )    1j < 3";        t   = 1; x2t          m; xt 2 X j s1 > (2=3)               "   (46)

for all t   T in which P (jM (xt ; t )        1j < 3" j s1 ) > 1               ".
    We are almost ready to construct group 1 as the set of informed agents that satisfy (a) and
(b) above, plus the additional restriction x2t                   m, for appropriately chosen values of t and ".
The last step of this construction is to choose t and ", but we will only be able to do so after
constructing group 2 in the next step.
    Step 2 (Groups 2 and 3). Consider the problem

                                dU (") =              min x1            x2
                                                     x2 m
                                                       1=2
                                                     s.t. jM (x; )             1j     3":

The value dU (") is the minimum di¤erence between the holdings of the two assets for all agents:
(a) with marginal rates of substitution su¢ ciently close to 1, (b) holdings of asset 2 less than
or equal to m, and (c) beliefs above 1=2. The theorem of the maximum implies that dU (") is
continuous. Moreover, dU (") is negative for all " > 0 and dU (0) = 0.
    Recall from Step 1 that dI (") is continuous and dI (0) > 0. It is then possible to …nd a




                                                           51
positive " , smaller than both =6 and =m, such that

                                         dI (" ) + dU (" ) >                     dI (0) = 2 ;                                  (47)
                                     2                                       3

(the second equality comes from the de…nition of ).
    Since, by construction " < =6, it follows from (46) that the mass of informed agents with
marginal rates of substitution near 1 (within 3" ) and a portfolio that satis…es x2t                                          m and
xt 2 X is su¢ ciently high:

                     P jM (xt ; t )             1j < 3" ;        t   = 1; x2t      m; xt 2 X j s1 > =2                         (48)

for all t   T in which P (jM (xt ; t )                  1j < 3" j s1 ) > 1                " .
    Moreover, by Lemma 3, in all periods t                                 T in which almost all agents have marginal
rate of substitution close to 1, i.e., P (jM (xt ; t )                           1j < 3" j s1 ) > 1         " , almost all agents
with beliefs higher than 1=2 and portfolios satisfying                              x2t         m also have a marginal rate of
substitution close to 1:

     P jM (xt ; t )      1j < 3" ;      t   > 1=2; x2t               m j s1 > P           t   > 1=2; x2t    m j s1      " :    (49)

By hypothesis, i.e., by (36), we can choose a t                             T such that

                                  P (jM (xt ;            t   )       1j < 3" j s1 ) > 1            "

so that both (48) and (49) are satis…ed.
    We can …nally de…ne groups 1; 2 and 3 as follows

                 A1 =            (x; ) : jM (x; )                    1j < 3" ; = 1; x2             m; x 2 X ;
                 A2 =            (x; ) 2
                                       = A1 : jM (x; )                      1j < 3" ; > 1=2; x2             m ;
                 A3 =            (x; ) 2
                                       = A1 [ A2 :                   > 1=2; x2        m :

    Step 3. Now we split the integral (42) in three parts, corresponding to groups 1, 2, and 3,
and determine a lower bound for each of them. First, we have
            Z                               Z
                  1      2
                 x      x    dGt =                                   x1t (!)      x2t (!) dP (!js1 )             dI (" ) ;     (50)
            A1                              (xt ;   t   )2A1                                                 2

where the equality follows from property (ii) of the distribution Gt (in Lemma 6) and the
inequality follows from the de…nition of dI (" ) and condition (48). The de…nition of dU (" )
implies that                 Z
                                   x1           x2 dGt               dU (" ) P (A2 )            dU (" ) ;                      (51)
                             A2



                                                                      52
since dU (" ) < 0 and P (A2 )                1. Finally, the de…nition of the measure Gt and condition (49)
imply that

Gt (A3 )     P ((xt ;   t    ) 2 A3 js1 )         P     t   > 1=2; x2t         mjs1    P ((xt ;   t   ) 2 A1 [ A2 js1 )    " < =m;

where the last inequality follows from the de…nition of " . We then have the following lower
bound                               Z
                                             x1       x2 dGt             mGt (A3 )         :                              (52)
                                        A3

We can now combine (50), (51) and (52) and use inequality (47) to obtain a lower bound for
the whole integral (42):
                            Z
                                        x1        x2 dGt             dI (" ) + dU (" )         > :
                             x2     m                           2

Comparing this inequality and (45) leads to the desired contradiction.

7.4     Proof of Proposition 3
Proof. We start with the usual convergence properties. Since the marginal rates of substitu-
tion of informed agents converge, by Proposition 1, and there is at least a mass                                of informed
agents, using Lemmas 3 and 4 we can …nd a compact set X                                         2
                                                                                               R++    and a time T 0 such
that there is a su¢ ciently large mass of informed agents with marginal rates of substitution
su¢ ciently close to        t (s)   (within "=2) and portfolios in X:

                                                                          I
                 P jM (xt ; t )               t (s)j   < "=2;    t   =        (s) ; xt 2 X j s > (3=4)

for all t   T 0 and for all s, where " is de…ned as in Proposition 2.
    Now we provide an important concept. We want to focus on the utility gains that can be
achieved by small trades (of norm less than ), by agents with marginal rates of substitution
su¢ ciently di¤erent from each other (by at least "=2). Formally, we proceed as follows. Take
any     > 0. Using Lemma 5, we can then …nd a lower bound for the utility gain                                     > 0 from
trade between two agents with marginal rates of substitution di¤ering by at least "=2 and with
portfolios in X, making trades of norm less than . It is important to notice that this is the
gain achieved if the agents trade but do not change their beliefs. Therefore, it is also important
to bound from below the gains that can be achieved by such trades if beliefs are updated in
the most pessimistic way. This bound is also given by Lemma 5, which ensures that                                         is a
lower bound for the gains of the agent o¤ering z at any possible ex post belief (where                                    is a
positive scalar independent of ).
    Next we want to restrict attention to agents who are close to their long-run expected
utility. Per period utility ut converges to the long run value v^t , by Lemma 2. We can then

                                                                53
apply Lemma 3 and …nd a time period T                             T 0 such that, for all t                   T and for all s:

                                    P (ut        v^t        =4; xt 2 X j s) > 1                      "=2;                                 (53)

and
                                                                                                I
         P jM (xt ; t )             t (s)j   < "=4; ut           v^t           =8;    t   =         (s) ; xt 2 X j s > =2:                (54)

Equation (53) states that there are enough agents, both informed and uninformed, close to
their long run utility. Equation (53) states that there are enough informed agents close to both
their long run utility and to their long-run marginal rates of substitution.
   We are now done with the preliminary steps ensuring proper convergence and can proceed
to the body of the argument.
   Choose any t           T . By Proposition 2, two cases are possible: (i) either the informed agents’
long run marginal rates of substitution are far enough from each other, j t (s1 )                                              t (s2 )j      ";
or (ii) they are close to each other, j t (s1 )                         t (s2 )j   < ", but there is a large enough mass of
uninformed agents with marginal rate of substitution far from that of the informed agents,
P (jM (xt ; t )       t (s)j    2" j s)        " for all s.
   In the next two steps, we construct the desired trade z for each of these two cases, and
then complete the argument in step 3.
   Step 1. Consider the …rst case, in which j t (s1 )                                t (s2 )j        ". In this case, an uninformed
agent can exploit the di¤erence between the informed agents’ marginal rates of substitution
in states s1 and s2 , making an o¤er at an intermediate price. This o¤er will be accepted with
higher probability in the state in which the informed agents’marginal rate of substitution is
higher. In particular, suppose
                                                       t (s2 )   +"            t (s1 )

(the opposite case is treated symmetrically). Lemma 5 and the de…nition of the utility gain
imply that there is a trade z = ( ; p ), with price p = (                                 t (s1 )    +      t (s2 ))=2   and size kzk < ,
that satis…es the following inequalities:

                  U (xt + z; t )             ut +       if M (xt ; t ) >              t (s1 )        "=4 and xt 2 X;                      (55)
                  U (xt    z; t )            ut +       if M (xt ; t ) <              t (s2 )   + "=4 and xt 2 X:                         (56)

   Equation (55) states that all (informed and uninformed) agents with marginal rate of
substitution above (        t (s1 )    "=4) will receive a utility gain                              from the trade z, in terms of
current utility. Equation (56) states that all (informed and uninformed) agents with marginal
rate of substitution below (           t (s1 )   + "=4) will receive a utility gain                             from the trade            z, in
terms of current utility.
   Combining conditions (54) and (55) shows that in state s1 there is at least                                               =2 informed
agents with after-trade utility above the long-run utility, U (xt + z; t ) > v^t . Since all these

                                                                       54
agents would accept the trade z, this implies that the probability of acceptance of the trade is
 t (zjs1 )   > =2.
    Next, we want to show that the trade z is accepted with su¢ ciently low probability con-
ditional on s2 . In particular, we want to show that                         t (zjs2 )   < =4. The key step here is to
make sure that the trade is rejected not only by informed but also by uninformed agents. The
argument is that if this trade were to bo accepted by uninformed agents, then informed agents
should be o¤ering z and gaining in utility. Formally, proceeding by contradiction, suppose that
the probability of z being accepted in state s2 is large:                      t (zjs2 )       =4. Condition (54) implies
that there is a positive mass of informed agents with M (xt ; t ) <                              t (s2 )   + "=2, xt 2 X, and
close enough to the long-run utility ut                 v^t            =8. By(56), these agents would be strictly
better o¤ making the o¤er z and consuming xt                       z if the o¤er is accepted and consuming xt if
it is rejected, since

                   (1   t (zt js2 )) U   (xt ; t ) +   t (zt js2 ) U   (xt      z; t ) > ut +          =4 > v^t :

Since this strategy dominates the equilibrium payo¤, this is a contradiction, proving that
 t (zjs2 )   < =4.
    Step 2. Consider the second case, in which the long run marginal rates of substitution of
the informed agents are close to each other and there is a large enough mass of uninformed
agents with marginal rate of substitution far from that of the informed agents.
    The argument is as follows: with positive probability we can reach a point where it is
possible to separate the marginal rates of substitution of a group of uninformed agents from the
marginal rates of substitution of a group of informed agents. This means that the uninformed
agents in the …rst group can make an o¤er z to the informed agents in the second group and
they will accept the o¤er in both states s1 and s2 . If the probabilities of acceptance                                 t (zjs1 )
and    t (zjs2 )   are su¢ ciently close to each other, this would be a pro…table deviation for the
uninformed, since their ex post beliefs after the o¤er is accepted would be close to their ex
ante beliefs. In other words, in contrast to the previous case they would gain utility but not
learn from the trade. It follows that the probabilities                      t (zjs1 )   and   t (zjs2 )   must be su¢ ciently
di¤erent in the two states, which leads to either (7) or to (8).
    To formalize this argument, consider the expected utility of an uninformed agent with
portfolio xt and belief        t,   who o¤ers a trade z and stops trading from then on:

      ut +   t t (zjs1 ) (U   (xt     z; 1)    U (xt ; 1)) + (1          t)     t (zjs2 ) (U   (xt    z; 0)    U (xt ; 0)) ;

where ut is the expected utility if the o¤er is rejected and the following two terms are the
expected gains if the o¤er is accepted, respectively, in states s1 and s2 . This expected utility




                                                              55
can be rewritten as

ut +   t (zjs1 ) (U   (xt      z; t )      U (xt ; t ))+(1          t ) ( t (zjs2 )          t (zjs1 )) (U    (xt       z; 0)     U (xt ; 0)) ;
                                                                                                                                       (57)
using the fact that U (xt ; t ) =                   tU   (xt ; 1) + (1        t) U   (xt ; 0) (by the de…nition of U ). To
interpret (57) notice that, if the probability of acceptance was independent of the signal,
 t (zjs1 )   =   t (zjs2 ),   then the expected gain from making o¤er z would be equal to the second
term:     t (zjs1 ) (U   (xt      z; t )      U (xt ; t )). The third term takes into account that the proba-
bility of acceptance may be di¤erent in two states, i.e.,                               t (zjs2 )         t (zjs1 )   may be di¤erent
from zero. An alternative way of rearranging the same expression yields:

ut +   t (zjs2 ) (U   (xt      z; t )      U (xt ; t ))+(1          t ) ( t (zjs1 )          t (zjs2 )) (U    (xt       z; 1)     U (x; 1)) :
                                                                                                                                       (58)
In the rest of the argument, we will use both (57) and (58).
   Suppose that there exists a trade z and a period t which satisfy the following properties:
(a) the probability that z is accepted in state 1 is large enough,

                                                            t (zjs1 )   > =4;

and (b) there is a positive mass of uninformed agents with portfolios and beliefs that satisfy

                                   ut       v^t     ( =4) ;                                                                            (59)
                                   U (xt          z; t )    U (xt ; t )         ;                                                      (60)
                                   U (xt          z; )     U (xt ; )                 for all        2 [0; 1] ;                         (61)

for some         > 0 and          > 0. In words, the uninformed agents are su¢ ciently close to their
long-run utility, their gains from trade at …xed beliefs have a positive lower bound                                            , and their
gains from trade at arbitrary beliefs have a lower bound                                     .
   Now we distinguish two cases. Suppose …rst that                                      t (zjs2 )          t (zjs1 ).    Then, for the
uninformed agents who satisfy (59)-(61) the expected utility (57) is greater or equal than

                            v^t    ( =4)          +    t (zjs1 )        (   t (zjs2 )        t (zjs1 ))          :

From individual optimality, this expression cannot be larger than v^t , since v^t is the maximum
expected utility for a proposer in period t. We then obtain the following restriction on the
acceptance probabilities            t (zjs1 )      and     t (zjs2 ):


                                        t (zjs1 ) (1     + )                =4 +     t (zjs2 )        :




                                                                   56
Since     t (zjs1 )   >     =2 and      t (zjs1 )              t (zjs2 )     it follows that        =4 < (1=2)           t (zjs2 )   and we
obtain
                                            t (zjs1 ) (1   + )             t (zjs2 ) (1=2   + );

which is equivalent to
                                                                    1+
                                                   t (zjs1 )                      t (zjs2 ) :                                          (62)
                                                                   1=2 +
This shows that the probability of acceptance in state s1 is larger than the probability of
acceptance in state s2 by a factor (1 + ) = (1=2 + ) greater than 1.
    Consider next the case              t (zjs2 )      <     t (zjs1 ).      Then, for the uninformed agents who satisfy
(59)-(61) the expected utility (58) is greater or equal than

                             v^t        =4 +           t (zjs2 )         (    t (zjs1 )     t (zjs2 ))         :

An argument similar to the one above shows that optimality requires

                                                                    1+
                                                   t (zjs2 )                      t (zjs1 ) :
                                                                   1=2 +

Some algebra shows that this inequality and                           t (zjs1 )    > =2 imply

                                                             1=2 +
                       1        t (zjs1 )     > 1                    ;                                                                 (63)
                                                           2 1+
                                                          (1    =2) (1=2 + )
                       1        t (zjs1 )     >                                 (1                        t (zjs2 )) ;                 (64)
                                                       (1    =2) (1=2 + )    =4

giving us a positive lower bound for the probability of rejection 1                                        t (zjs1 )   and showing that
1       t (zjs1 )   exceeds 1        t (zjs2 )     by a factor greater than 1.
    To complete this step, we show that there exists a trade z and a period t which satisfy
properties (a) and (b).
    Notice that P (jM (xt ; t )                 t (s1 )j       2" j s1 )       " requires that either P (M (xt ; t )                   t (s1 )   2" j s1 )
"=2 holds or P (M (xt ; t )                  t (s1 )   + 2" j s1 )         "=2. We concentrate on the …rst case, as the
second is treated symmetrically. Set the trading price at p = min f (s1 ) ; (s2 )g "=2. Lemma
5 implies that there are positive scalars                          and        and a trade z = ( ; p ) with kzk <                       that
satis…es the following inequalities:

               U (xt       z; t )           ut +       ; U (xt       z; )         ut            for all     2 [0; 1] ;                 (65)
                                                                           if M (xt ; t ) < p        "=4 and xt 2 X;

and
                          U (xt + z; t )          ut +         if M (xt ; t ) > p + "=4 and xt 2 X:                                    (66)



                                                                     57
Since jM (xt ; t )           t (s1 )j   < "=4 implies M (xt ; t ) >                     t (s1 )       "=4 and     t (s1 )     "=4 is larger
than p+"=4 by construction, conditions (54) and (66) guarantee that there is a positive mass of
informed agents who accept z, ensuring that                            t (zjs1 )   > =2, showing that z satis…es property
(a).
   Next, we want to prove that there is a positive mass of uninformed agents who gain from
making o¤er z. To do so, notice that j                       t (s1 )        t (s2 )j   < " implies

             p     "=4 = min f          t (s1 ) ;    t (s2 )g     (3=4) "              t (s1 )     (7=4) " >      t (s1 )    2";

which implies

                 P (M (xt ; t ) < p            "=4 j s1 )        P (M (xt ; t )                  t (s1 )   2" j s1 )    "=2:

This, using Lemma 3 and condition (53), implies

                       P (M (xt ; t ) < p                   "=4; ut     v^t             =4; xt 2 X j s1 ) > 0;

which, combined with (65), shows that the trade z satis…es property (b).
   Step 3. Here we put together the bounds established above and de…ne the scalars                                                      and
in the lemma’s statement. Consider the case treated in Step 1. In this case, we can …nd a trade
z such that the probability of acceptance conditional on each signal satis…es:                                              t (zjs1 )   > =2
and    t (zjs2 )   < =4. Therefore, in this case condition (7) is true as long as                                       and        satisfy

                                                                 =2 and                2:

Consider the case treated in Step 2. In this case, we can …nd a trade z such that either
 t (zjs1 )   > =2 and (62) hold or (63) and (64) hold. This implies that either condition (7) or
condition (8) hold, as long as                  and         satisfy

                                  1=2 +                      1+                         (1      =2) (1=2 + )
                         1              ;                         ;                                             :
                                 2 1+                       1=2 +               (1           =2) (1=2 + )    =4

Setting

                                               1=2 +
                              = min                 =2; 1> 0;
                                            2 1+
                                        1+         (1    =2) (1=2 + )
                              = min 2;       ;                                                                 > 1;
                                       1=2 + (1       =2) (1=2 + )    =4

ensures that all the conditions above are satis…ed, completing the proof.




                                                                       58
7.5     Proof of Proposition 4
Proposition 4 states that marginal rates of substitution converge for uninformed agents. The
proof is by contradiction and relies on constructing a deviation that yields a positive utility
gain for the uninformed agents if marginal rates of substitution fail to converge. This deviation
consists of making a sequence of o¤ers in periods T to T + J. The …rst T + J                                  1 o¤ers, denoted
                        J 1
by the sequence    f^
                    zj gj=0 ,      allow the agent to learn the signal with arbitrary precision. This is
the experimentation stage. If the agent receives the appropriate sequence of responses to these
J     1 o¤ers, the agent makes one …nal o¤er, denoted z , which gives him a positive utility gain
by trading with the informed agents.
    Two preliminary results need to be established …rst: Lemma 7 and Lemma 8. Lemma 7
shows that the beliefs of uninformed agents                t   stay away from zero when the signal is s1 . That
is, the uninformed agents can only be very wrong with a small probability. This result is used
to ensure that when the uninformed agent deviates and enters the experimentation phase to
learn signal s1 , his ex post beliefs will converge to 1 with positive probability.

Lemma 7 For all " > 0 the probability that the belief                               t   is above the threshold "= (1 + ")
conditional on signal s1 is bounded below for all t:

                                          P(   t   "= (1 + ") j s1 ) > 1                ":

Proof. Since     t (!)   are equilibrium beliefs, Bayesian rationality requires P (s1 j                         t   < "= (1 + ")) <
"= (1 + ") for all " > 0. The latter condition implies P (s2 j                               t   < "= (1 + ")) > 1     "= (1 + ")
and thus
                                            P (s1 j   t   < "= (1 + "))
                                                                        < ";
                                            P (s2 j   t   < "= (1 + "))
for all " > 0. Bayes’rule implies that

                         P (s1 j    t   < "= (1 + "))   P(          t   < "= (1 + ") j s1 ) P (s1 )
                                                      =                                             :
                         P (s2 j    t   < "= (1 + "))   P(          t   < "= (1 + ") j s2 ) P (s2 )

Combining the last two equations and using P (s1 ) = P (s2 ) = 1=2 yields

                         P(   t    < "= (1 + ") j s1 ) < "P (           t   < "= (1 + ") j s2 )         ";

which gives the desired inequality.
    Lemma 8 is a stronger version of the convergence result for the marginal rates of substitution
of informed agents (Proposition 1). It shows that the series                             t (s)     (the long-run marginal rate
of substitution of informed agents) is approximately constant over …xed intervals of length J,
for any choice of the length J. This implies that the marginal rates of substitution of informed
agents at time t + J are close to the value                 t (s),      if we choose t large enough. This property


                                                               59
will be useful when constructing the …nal o¤er z made by the deviating uninformed agent in
the proof of Proposition 4.

Lemma 8 For any integer J, the sequence                          t (s1 )      satis…es the property:

                                            lim j   t+J     (s1 )             t (s1 )j   = 0:
                                            t!1

For all " > 0 and all integers J it is possible to …nd a T such that

                  P (jM (xt+J ;    t+J )      t (s1 )j   < ";         t+J     = 1 j s) >            " for all t   T:

Proof. Let us begin from the …rst part of the lemma. Suppose, by contradiction, that

                                              j   t+J   (s1 )           t (s1 )j    >"

for some " > 0 for in…nitely many periods. Then, at some date t, an informed agent with
marginal rate of substitution close to              t (s)   can …nd a pro…table deviation by holding on to his
portfolio xt for J periods and then trade with other informed agents at t + J. Let us formalize
this argument. Suppose, without loss of generality, that

                                                  t+J   (s1 ) >         t (s1 )    +"

for in…nitely many periods (the other case is treated in a symmetric way). Next, using our
usual steps and Proposition 1, it is possible to …nd a compact set X, a time T , and a utility
gain      > 0 such that the following two properties are satis…ed: (i) in all periods t                                   T there is
at least a measure =2 of informed agents with marginal rate of substitution su¢ ciently close
to    t (s),   utility close to its long run level, and portfolio xt in X, that is,

                                                                              J
               P jM (xt ; t )      t (s)j   < "=3; ut           v^t                 =2; xt 2 X;       t   = 1 j s > =2;        (67)

and (ii) in all periods t         T in which        t+J   (s) >           t (s)    + " there is a trade z such that

                    U (x    z; 1) > U (x; 1) +            if M (x; 1) <                  t (s)   + "=3 and x 2 X;              (68)

and
                   U (x + z; 1) > U (x; 1) +            if M (x; 1) >                t+J   (s)      "=3 and x 2 X:             (69)

     Pick a time t         T in which         t+J   (s) >             t (s)   + " and consider the following deviation.
Whenever an informed agent reaches time t and his portfolio xt satis…es M (xt ; 1) <                                      t (s)+"=3
and xt 2 X, he stops trading for J periods and then makes an o¤er z that satis…es (68) and
(69). If the o¤er is rejected he stops trading from then on. The probability that this o¤er is


                                                                 60
accepted at time t + J must satisfy                t+J   (zjs1 ) >           =2, because of conditions (67) and (69).
Therefore, the expected utility from this strategy, from the point of view of time t is

                             J                                                             J
                      ut +       t+J    (zjs1 ) (U (xt       z; 1)      u t ) > ut +               =2   v^t ;

so this strategy is a pro…table deviation and we have a contradiction.
   The second part of the lemma follows from the …rst part, using Proposition 1 and the
triangle inequality.

Proof of Proposition 4. Suppose, by contradiction, that there exist an " > 0 such that for
some state s 2 fs1 ; s2 g the following condition holds for in…nitely many t:

                                                   I
                                    P     M xt ;       (s)           t (s)    > " j s > ";

                 I
where M xt ;         (s) is the marginal rate of substitution of an agent (informed or uninformed)
                                                                I
evaluated at the belief of the informed agents                      (s). In other words, it is the marginal rate of
substitution evaluated as if the agent knew the true signal.
   Without loss of generality, let us focus on state s1 and suppose

                                        P (M (xt ; 1)         t (s1 )   > " j s1 ) > "                                       (70)

for in…nitely many t. The other case is treated in a symmetric way.
   We want to show that if (70) holds, we can …nd a pro…table deviation for the uninformed
agent. In particular, we consider a deviation of this form:

(i) The player follows the equilibrium strategy                       up to period T .

(ii) At time T , if his portfolio satis…es M (xT ; 1) >                      t (s) + "   and his beliefs        T   is above some
      positive lower bound              (and some other technical conditions are satis…ed) he goes on to
      the experimentation stage (iii), otherwise, he keeps playing                             .

(iii) The experimentation stage lasts between T and T + J                                1. An agent makes the sequence
                      J 1
      of o¤ers   f^
                  zj gj=0    as long as he is selected as the proposer. The “favorable” responses
      to the o¤ers      zj gJj=01
                       f^                                             rj gJj=01 . If at any point during
                                    are given by the binary sequence f^
      the experimentation stage the agent is not selected as the proposer or fails to receive
      response r^j after o¤er z^j , he stops trading. Otherwise, he goes to (iv).

                                                zj gJj=01 and receiving responses equal to
(iv) At time T + J, after making all the o¤ers f^
           J 1
      f^
       rj gj=0 , if the player is selected as the proposer one more time he o¤ers z and stops
      trading at T + J + 1. Otherwise, he stops trading right away.




                                                              61
    The expected payo¤ of this strategy, from the point of view of a deviating agent at time
T , is
                                                                                  2                                           3
                                                                                            J
                                                                                            X1
         w = uT            ^+
                           L          T
                                              J
                                                  2   J 1
                                                            1 T +J     (z js1 ) 4U (xT +          z^j + z ; 1)    U (xT ; 1)5 +
                                                                                            j=0
                                                                              2                                           3
                                                                                           J
                                                                                           X1
                   + (1          T)
                                          J
                                              2    J 1
                                                          2 T +J      (z js2 ) 4U (xT +          z^j + z ; 0)    U (xT ; 0)5 ;     (71)
                                                                                           j=0


               ^ captures the expected utility losses if the player makes some or all of the
where the term L
              J 1
o¤ers in f^
          zj gj=0 but not the last o¤er z and the following two terms capture the expected
utility gains in states s1 and s2 , if all the deviating o¤ers, including z , are accepted. The
factors     1   and   2   denote the probabilities in states s1 and s2 , that player receives the sequence
of responses       rj gJj=01 .
                  f^              Notice that                   J   is the probability that the game does not end between
periods T and T + J and 2                         J 1   is the probability of being selected as the proposer in all these
periods.
    In order to show that the strategy above is a pro…table deviation, we need to show that
the utility gain in the …rst square brackets is large enough, by choosing z to be a pro…table
trade with informed agents in s1 , and that the remaining terms are su¢ ciently small. In the
                                                                           zj gJj=01 and z to
rest of the proof, we choose the time T , the lower bound , and the o¤ers f^
achieve this goal.
    Step 1 . (Bounds on gains and losses for the …nal trade) Following steps similar to the ones
in the proof of Proposition 1, we can use Lemmas 4 and 7 to …nd a compact set X                                                2
                                                                                                                              R++ and
a period T 0 such that
                                                      P(    t        ; xt 2 X j s1 ) > 1     "=2                                   (72)

for all t       T 0 , where       = ("=2) = (1 + "=2) > 0. Pick a scalar                            > 0 such that x + z > 0 when
x 2 X and kzk <               . Using Lemma 5, we can then …nd a                                  > 0 which is a lower bound for
the gains from trade between two agents with marginal rates of substitution di¤ering by at
least "=2 and portfolios in X, making trades of norm smaller than                                          . This will be used as a
lower bound for the gains from trading in state s1 . De…ne an upper bound for the potential
losses of an uninformed agent who makes a trade of norm smaller than or equal to                                                  in the
other state, s2 :
                                          L                     min      fU (x + z; 0)      U (x; 0)g :
                                                         x2X;kzk

Next, choose J to be an integer large enough that

                                                                                      J
                                                         ( =2)           (1       )       L > 0;

where is the scalar de…ned in Proposition 3. This choice of J ensures that the experimentation

                                                                           62
phase is long enough that, when o¤ering the last trade, the agent assigns su¢ ciently high
probability to state s1 , so that the potential gain                             dominates the potential loss L .
   Step 2. (Bound on losses from experimentation) To simplify notation, let

                               ~ =     J
                                           2   J 1 J
                                                                 ( =2)           (1           )        J
                                                                                                           L     ;

where   is the positive scalar de…ned in Proposition 3. Choose a scalar ^ > 0 such that for all
x 2 X, all kz1 k < J ^, all kz2 k  , and any 2 [0; 1] the following inequality holds

                                  jU (x + z1 + z2 ; )                U (x + z2 ; )j < ~ =3:                                            (73)

Next, applying Proposition 3 we can …nd a time T 00 T 0 such that in all t T 00 there is a trade
of norm smaller than ^ that satis…es either (7) or (8). Before using this property to de…ne the
       zj gJj=01 , we need to de…ne the time period T where the deviation occurs. To do so, using
o¤ers f^
our starting hypothesis (70), condition (72), and applying Lemma 2, we can …nd a T 000                                                   T 00
such that for in…nitely many periods t                      T 000 there is a positive mass of uninformed agents who
have: marginal rate of substitution su¢ ciently above                                 t (s1 ),        utility near its long-run level,
beliefs su¢ ciently favorable to s1 , and portfolio in X; that is,

                  P M (xt ; 1)             t (s1 )   > ";    t         ; ut > v^t      ~ =3; xt 2 X j s1 > 0:                          (74)

Finally, applying Lemma 8, we pick a T                           T 000 so that (74) holds at t = T and, at time T + J,
there is a su¢ ciently large mass of informed agents who have: marginal rate of substitution
su¢ ciently near      T   (s1 ), utility near its long-run level, and portfolio in X; that is,

   P (jM (xT +J ; 1)         T   (s1 )j < "=2;        T +J      = 1; uT +J > v^T +J                     =2; xT +J 2 X j s1 ) > =2:
                                                                                                                                       (75)
    Having de…ned T , we can apply Proposition 3 to …nd the desired sequence of trades f^ zj gJj=01
of norm smaller than ^, that satisfy either (7) or (8). For each trade z^j , if (7) holds we set
r^j = 1 (accept). In this way the probability of observing r^j is                                     T +j     (^
                                                                                                                zj js1 ) >   in state s1 and
        (^
         zj js2 ) <   1
 T +j                     T +j (^
                                zj js1 )   in state s2 . Otherwise, if (8) holds, we set r^j = 0 and obtain
analogous inequalities. This implies that the factors                            1   and          2   in (71) satisfy

                                                            J                         J
                                                 1   >           and     2   <   1        :                                            (76)

   Step 3. (De…ne z and check pro…table deviation) We can now de…ne the …nal trade z to
be a trade of norm smaller than                  , such that

               U (x   z ; 1) > U (x; 1) +                        if M (x; 1) >            T   (s1 ) + " and x 2 X;
               U (x + z ; 1) > U (x; 1) +                        if M (x; 1) <            T   (s1 ) + "=2 and x 2 X;


                                                                   63
which is possible given the de…nition of                                . Finally, we check that we have constructed a
pro…table deviation. Let uninformed agents start deviating whenever the following conditions
are satis…es at date T :

                                M (xT ; 1) >        T    (s1 ) + ";   T           ; uT > v^T    ~ =3; xT 2 X:

Equation (74) shows that this happens with positive probability. Let us evaluate the deviat-
ing strategy payo¤ (71), beginning with the last two terms. The triangle inequality implies
  PJ 1
        ^j < J ^. Then the de…nition of z and (73) imply that the gain from trade of the
    j=0 z
uninformed agent, conditional on s1 , is bounded below:

          J
          X1                                                                                                  J
                                                                                                              X1
U (xT +          z^j + z ; 1)         U (xT ; 1)           U (xT + z ; 1)          U (xT ; 1)       U (xT +         z^j + z ; 1)   U (xT + z ; 1)
           j=0                                                                                                j=0

                                                    >             ~ =3:


The de…nition of L implies that the gain conditional on s2 is also bounded:

                                                   J
                                                   X1
                                      U (xT +            z^j + z ; 0)      U (xT ; 0) >         L       ~ =3:
                                                   j=0


Moreover, condition (75) shows that the probability that informed agents accept z at T + J
satis…es      T +J   (z js1 ) >           =2. These results, together with the inequalities (76) and the fact
that   T +J      (z js2 )           1, imply that the last two terms in (71) are bounded below by
                                            h                                                                         i
                            J
                                2   J 1 J
                                                 ( =2)                ~ =3          (1     )    J
                                                                                                      L + ~ =3            ;

which, by the de…nition of ~ , is greater than (2=3) ~ . Finally, all the expected losses in
^ in (71) are bounded above by ~ =3, thanks to (73). Therefore, w > uT + ~ =3. Since
L
uT > v^T   ~ =3, we conclude that w > v^T and we have found a pro…table deviation.


7.6    Proof of Theorem 1
We begin from the second part of the theorem, proving (11), which characterizes the limit
behavior of         t (s).
   Without loss of generality, let s = s1 . Suppose …rst that for in…nitely many periods
the long run marginal rate of substitution                              t (s1 )   is larger than the ratio of the probabilities
 (s1 )=(1          (s1 )) by a factor larger than 1 + ":

                                      t (s1 )   > (1 + ") (s1 )=(1                 (s1 )) for some " > 0:

Proposition 4 then implies that for all                           > 0 and T there is a t such that almost all agents


                                                                          64
have portfolios that satisfy u0 (x1t )=u0 (x2t )              1 + "=2:

                                      P u0 (x1t )=u0 (x2t )     1 + "=2 j s1 > 1          :                         (77)

We want to show that this property violates uniform market clearing, since it implies that
almost all agents hold more of asset 2 than of asset 1.
    Uniform market clearing implies that for any                        > 0 we can …nd an M such that
                         Z
                                        x1t (!) dP (!js1 )      1        for all m    M and all t:                  (78)
                          x1t (!)   m

                     R
Moreover, since          x2t (!) dP (!js1 ) = 1, this implies that
                 Z
                                    x2t (!)    x1 (!) dP (!js1 )            for all m     M and all t:              (79)
                  x1t (!)    m


The idea of the proof is to reach a contradiction by splitting the integral on the left-hand side
of (79) in three pieces: a group of agents with a strictly positive di¤erence x2t                        x1t , a group of
agents with a non-negative di¤erence x2t                     x1t , and a small residual group. The argument here
follows a similar logic as the proof of Proposition 2.
    Using Lemma 4, …nd a compact set X and a period T such that for all t                                T at least half
of the agents have portfolios in X:

                                          P (xt 2 X j s1 )          1=2 for all t    T:                             (80)

Let us then …nd a lower bound for the di¤erence between the holdings of asset 1 and 2 for
agents with portfolios in X that satisfy u0 (x1t )=u0 (x2t )                     1 + "=2. We do so by solving the
problem

                                          d = min x2            x1
                                                  x2X
                                                  s.t. u0 (x1 )=u0 (x2 )      1 + "=2;

which gives a d > 0.
    Let us pick          = d=5 and …nd an M such that (78) and (79) hold. Condition (79) (with
  = d=5) is the market clearing condition that we will contradict below. Condition (78) is also
useful, because it gives us a lower bound for P x1t                        m :

                               P x1t          m     1     =m for all m           M and all t;                       (81)




                                                               65
which follows from the chain of inequalities
                                                             Z
                                         mP   x1t   >m                        x1t (!) dP (!js1 )       :
                                                               x1t (!)>m


      Using our hypothesis (77) we know that for any                                   > 0 we can …nd a period t          T in
which more than 1                          agents satisfy    u0 (x1t )=u0 (x2t )       1 + "=2. Combining this with (80)
and (81) (applying Lemma 3), we can always …nd a t                                      T in which almost all agents satisfy
u0 (x1t )=u0 (x2t )      1 + "=2 and xt              m:

                                P u0 (x1t )=u0 (x2t )      1 + "=2; xt          m j s1 > 1                 =m;             (82)

and almost half of them satisfy u0 (x1t )=u0 (x2t )                      1 + "=2 and xt            m, and have portfolios in X:

                      P u0 (x1t )=u0 (x2t )          1 + "=2; xt        m; xt 2 X j s1 > 1=2                     =m:       (83)

      De…ne the three disjoint sets

                                A1 =          ! : u0 (x1t )=u0 (x2t )        1 + "=2; xt 2 X; x1t      m ;
                                A2 =          ! : u0 (x1t )=u0 (x2t )        1 + "=2; x1t     m =A1 ;
                                A3 =          ! : u0 (x1t )=u0 (x2t ) < 1 + "=2; x1t          m ;

which satisfy A1 [ A2 [ A3 = ! : x1t                       m . We can then bound from below the following three
integrals:
                                     Z
                                            x2t     x1t dP (!js1 )             d (1=2               =m) ;
                                     A1
                                     Z
                                            x2t     x1t dP (!js1 )             0;
                                     A2
                                     Z
                                            x2t     x1t dP (!js1 )                m ( + =m) :
                                     A3

The …rst inequality follows from the de…nitions of d and A1 and the fact that P (A1 js1 ) >
1=2              =m from (83). The second follows from the de…nition of A2 and the fact that
u0 (x1t )=u0 (x2t ) > 1 implies x2t            > x1t . The third follows from the de…nition of A3 (which implies
x2t x1t           m) and the fact             that P (A3 js1 ) <         + =m from (82). Summing term by term, we
then obtain
                  Z
                                     x2t      x1t dP (!js1 )       d (1=2                   =m)    m ( + =m) :
                      x1t (!)    m


Since we can choose an m arbitrarily large and an                                   arbitrarily close to 0 (in that order), we


                                                                        66
can make this expression as close as we want to d=2                      which is strictly greater than , given
that   = d=5 < d=4. This contradicts the market clearing condition (79).
   In a similar way we can rule out the case in which                        t (s1 )   < (1   ") (s1 )=(1         (s1 )) for
in…nitely many periods. This completes the argument for limt!1                            t (s1 )   = (s1 )= (1      (s1 )).
An analogous argument can be applied to s2 .
   To complete the proof, we need to prove the long run e¢ ciency of equilibrium portfolios,
i.e., property (10). Proposition 4 and lim               t (s)   = (s)= (1         (s)), imply, by the properties of
convergence in probability, that

                                lim P          u0 x1t =u0 x2t          1 > " = 0:                                      (84)
                                t!1

We want to show that negating (10) leads to a contradiction of (84).
   Suppose that for some " > 0

                                               P   x1t     x2t > " > "

holds for in…nitely many periods. Then, as usual, we can use Lemmas 3 and 4 to …nd a compact
set X such that the following condition holds for in…nitely many periods:

                                        P    x1t   x2t > "; xt 2 X > "=2:

But then the continuity of u0 ( ) implies that there is a                    > 0 such that

                       u0 x1 =u0 x2            1 >        =) x1        x2 > " for all x 2 X

which implies

           P       u0 x1t =u0 x2t           1 > ; xt 2 X           P   x1t      x2t > "; xt 2 X > "=2:

Given that

               P    u0 x1t =u0 x2t           1 >          P      u0 x1t =u0 x2t          1 > ; xt 2 X

we conclude that there are "; > 0 such that

                                    P       u0 x1t =u0 x2t         1 >        > "=2;

contradicting (84) and completing the proof.




                                                            67
7.7   Proof of Theorem 3
Proof. Proceeding by contradiction, assume that the value of information is zero. We then
derive a contradiction in two steps. First, we show that in some period t there is an o¤er
z 6= 0 which is optimal for a proposer with endowment x0;i , independently of whether he is
uninformed or informed. Second, we construct a set of o¤ers that are strictly preferred to z by
all responders, and use this set to argue that the o¤er z cannot be optimal for the informed
both after observing signal s1 and after observing signal s2 .

   Step 1. Under our hypothesis of zero value of information, we want to show that there
exists an o¤er z 6= 0 which is made with positive probability by an uninformed proposer with
endowment x0;i at time 0 and which is optimal for an informed proposer, independently of
whether he receives signal s1 or s2 .
   First, notice that in some period t a positive measure of agents must make a non-zero
o¤er which is accepted with positive probability and yields a strictly positive expected utility
gain to either the proposer or the responder. Otherwise, all agents’ expected utility at date
zero would be equal to their expected utility under zero trade. This leads to a contradiction
because, under the assumption that the initial allocation is ine¢ cient (x10;i 6= x20;i ) and given
the long run e¢ ciency result in Theorem 1, the expected utility at date 0 (before agents are
assigned endowments and information) must be strictly greater than the expected utility under
zero trade, that is, we must have E [v0 ] > E [U (x0 ; 1=2)]. Without loss of generality, suppose
such a non-zero o¤er is made in period t = 1 (the argument can be easily translated to the
…rst period when such an o¤er is made).
   Suppose, for the moment, that this non-zero o¤er is made by an uninformed proposer
with portfolio x0;i . Since the value of information is zero, it must also be optimal for an
informed proposer with the same portfolio to follow the same strategy, irrespective of whether
he observes s1 or s2 . This follows from a standard result, which we prove here for completeness.
Let W ( js) denote the expected utility at time 1 of an agent with endowment x0;i who follows
strategy   conditional on the signal being s. If the value of information is zero it means that
                              X                      X
                        max       (1=2) W (~ js) =          (1=2) max W (~ js) :                    (85)
                          ~                                        ~
                              s                         s

Suppose     solves the problem on the left-hand side. Then, by de…nition,

                                          0
                               max W          js   W(       js) for all s:
                                  ~

However, if any of these holds with a strict inequality, (85) would be violated. It follows that
W(    js) = max ~ W ( 0 js) for all s, showing that          is optimal for both informed agents.
   To complete this step, we need to show that whenever a non-zero o¤er is made by some
agent, there must be a non-zero o¤er made by an uninformed agent. We divide the argument

                                                   68
in two cases:
   Case 1. Suppose it is part of the equilibrium strategy for an informed agent with initial
portfolio x to make o¤er z 6= 0 at date 0 after signal s = s1 and the o¤er gives the proposer
a strictly positive utility gain, that is, V1 (x            z; 1) > V1 (x; 1) (the case s = s2 is analogous).
We want to show that then there must be some other o¤er z 0 6= 0 which is made with positive
probability by the uninformed proposer at date 0.
   Let V0P (x; ) denote the expected utility of an agent with portfolio x and belief , contingent
on the agent being a proposer at date 0. Then, the strict optimality of z implies that

      V0P (x; 1) = (1        ) U (x; 1) + [          0 (zjs1 ) V1 (x       z; 1) + (1         0 (zjs1 )) V1 (x; 1)]

                  > (1       ) U (x; 1) + V1 (x; 1) :                                                                 (86)

Moreover, given that no trade is always an option for an informed agent observing s = s2 we
have the inequality
                           V0P (x; 0)     (1             ) U (x; 0) + V1 (x       z; 0) :                             (87)

Now, suppose, by contradiction, that the equilibrium behavior for an uninformed proposer
with initial portfolio x is to make zero o¤ers. This implies

                        V0P (x; 1=2) = (1            ) U (x; 1=2) + E V1 x;               0
                                                                                              ;                       (88)

        0
where       denotes the period 1 belief of the agent (which may be a random variable; the
                                                     0
expectation E is taken with respect to                   ). The fact that the value of information is zero
implies that
                                      0        0                       0
                            V1 x;         =        V1 (x; 1) + 1            V1 (x; 0) :

Furthermore, remember that, by de…nition, U (x; ) = U (x; 1) + (1                                  ) U (x; 0) and that
                                  0
Bayesian updating implies E           = 1=2. Then, combining (86), (87), and (88), yields

                                           1            1
                             V0P (x; 1=2) < V0P (x; 1) + V0P (x; 0) ;
                                           2            2

which violates the hypothesis of zero value of information. Having ruled out the possibility
that the uninformed agent with endowment x makes zero o¤ers in equilibrium, it must be part
of the equilibrium strategy to make an o¤er z 0 6= 0 for the uninformed.
   Case 2. Suppose it is part of the equilibrium strategy for an informed agent with initial
portfolio x to make o¤er z 6= 0 at date 0 and the o¤er yields a strictly positive utility gain to
some of the responders, but not to the proposer. If some of the responders accepting o¤er z and
making strictly positive gains are informed agents, then it is easy to show that the informed
agent making the o¤er would be better o¤ making an o¤er that gives the responder a slightly
smaller utility gain, while giving the proposer a strictly positive gain, and we are back to Case


                                                           69
1. Suppose instead that the only responders who accept z and make strict positive gains are
                                                                               0
uninformed agents, who update their belief to some                                 2 (0; 1) and get

                                                                    0                 0
                                             V1 x + z;                   > V1 x;

by accepting the o¤er. The assumption of zero value of information implies that

                0                                0                             0                      0
                    V1 (x + z; 1) + 1                V1 (x + z; 0) >               V1 (x; 1) + 1              V1 (x; 0)       (89)

and it implies that a strategy which accepts o¤er z at time 0 must also be optimal for informed
agents. These conditions combined imply that V1 (x + z; 1)                                    V1 (x; 1) and V1 (x + z; 0)
                                                                                                          0
V1 (x; 0), with at least one strict inequality. Moreover, the fact that                                       2 (0; 1) implies that
the o¤er z was made with positive probability both by informed agents in s1 and in s2 (if
uninformed agents are making o¤er z, we are back to Case 1 and we are done). Then, if
V1 (x + z; 1) > V1 (x; 1) we can perturb o¤er z for the informed proposer observing s1 , so that
he obtains a strictly positive utility gain when making the o¤er. Analogously, if V1 (x + z; 0) >
V1 (x; 0) we can perturb the o¤er for the informed proposer observing s2 . Therefore, we have
proved that at least some informed proposers must make a strictly positive utility gain and we
are back to Case 1.

    Step 2. Now we want to show that if o¤er z 6= 0 is part of the equilibrium strategy for a
positive mass of uninformed proposers with endowment x0;i at time 0, then an informed agent
with the same endowment can make an o¤er z 0 and obtain higher utility than following the
equilibrium strategy, giving a contradiction.
    First, we use the hypothesis of zero value of information to characterize the set of agents
who accept o¤er z in equilibrium. Notice that o¤er z is made by a positive mass of uninformed
agents. Therefore, the updated belief of an uninformed agent who receives z must be in some
                         0       00                  0         00
bounded interval             ;        with 0 <           and            < 1. Suppose z is accepted by an uninformed
responder with endowment x, who updates his beliefs to some                                  2 (0; 1). This requires

                                             V1 (x + z; )                  V1 (x; ) :                                         (90)

Since     2 (0; 1), the hypothesis of zero value of information implies that accepting z is optimal
for all    2 [0; 1] (this follows from an argument analogous to the one in Case 1 of Step 1).
The same hypothesis implies that V1 (x + z; ) and V1 (x; ) are linear in                                          and that (90) is
equivalent to

                    V1 (x + z; 1) + (1           ) V1 (x + z; 0)              V1 (x; 1) + (1       ) V1 (x; 0) :

These properties imply that if o¤er z is accepted by some responder with endowment xi0 ;0 , then


                                                                    70
it must satisfy (90) for a responder with endowment xi0 ;0 and belief 1=2, giving V1 xi0 ;0 + z; 1=2
V1 xi0 ;0 ; 1=2 . Since the o¤er z is made by a proposer with endowment xi;0 and belief 1=2 and
z 6= 0, it must also satisfy V1 (xi;0       z; 1=2)          V1 (xi;0 ; 1=2). The last two inequalities imply
that the o¤er z is only accepted by agents with endowment x                    i;0   symmetric to xi;0 .
    Suppose, without loss of generality, that           z1   > 0 and   z2   < 0. Then, conditions (12) imply
that
                        V1 (x + z; 1)       V1 (x; 1) > V1 (x + z; 0)          V1 (x; 0) :                  (91)

That is, the agent who assigns higher probability to state S 1 is more willing to trade asset 2
for asset 1. Combining this result with the assumption of zero value of information, it follows
that if we …nd an o¤er z 0 such that

                                       V1 x + z 0 ; 0        V1 (x; 0) > 0;

then it follows from that
                                       V1 x + z 0 ;           V1 (x; ) > 0

for all   2 [0; 1]. Therefore, irrespective of how the responder updates his belief after o¤er z,
the o¤er is accepted by all agents with endowment x.
    The assumption of zero value of information implies that making the o¤er z is optimal for
informed agents with      = 0. This implies that there cannot be an o¤er z 0 such that

                      V1 x     z0; 0      V1 (x; 0) > V1 (x            z; 0)     V1 (x; 0) ;                (92)
                      V1 x + z 0 ; 0      V1 (x; 0) > V1 (x + z; 0)              V1 (x; 0) ;                (93)

otherwise the proposer would make o¤er z 0 , o¤er z 0 will be accepted with probability at least
as large as o¤er z, and the proposer would strictly gain by making o¤er z 0 . Inequalities (92)
and (93) imply that
                             @V1 (x       z; 0) =@x1   @V1 (x + z; 0) =@x1
                                                     =                     :
                             @V1 (x       z; 0) =@x2   @V1 (x + z; 0) =@x2
However, making the o¤er z is also optimal for informed agents with                            = 1, so a similar
reasoning implies that

                             @V1 (x       z; 1) =@x1   @V1 (x + z; 0) =@x1
                                                     =                     :
                             @V1 (x       z; 1) =@x2   @V1 (x + z; 0) =@x2

The last two equations combined lead to

                             @V1 (x       z; 1) =@x1   @V1 (x          z; 0) =@x1
                                                   2
                                                     =                            ;
                             @V1 (x       z; 1) =@x    @V1 (x          z; 0) =@x2

which contradicts conditions (12).


                                                        71
8      Computational Appendix
This appendix describes the computational algorithms used to calculate the numerical examples
in Section 5.
     The agent’s equilibrium strategy in period t depends on his portfolio, inherited from the
previous period, xt       1,   his belief about the probability of state s1 ,          t 1,   and the distribution of
portfolios and beliefs for other agents           t(   js) in that period for s = fs1 ; s2 g. Notice that an
individual agent cannot a¤ect the distribution f t ( js)g1
                                                         t=0 since agent’s actions are observable
only to a measure zero of agents. Therefore, each agent treats the sequence f t ( js)g1
                                                                                      t=0 as
given. Then the dependence on that sequence can be summarize by the calendar time t, so
that the state of each agent is (x; ; t).
     At the beginning of period t, an agent has assets xt                    1    and beliefs   t 1    and chooses his
optimal strategy      t   to maximize the payo¤ W (xt             1 ; t 1 ; t):


             W (xt   1 ; t 1 ; t)    = max(1           )E fU (xt ( t ); t ( t ))j Pr(s = s1 ) =         t 1g
                                           t

                                         + E fW (xt ( t ); t ( t ); t + 1)j Pr(s = s1 ) =             t 1g :

                                                                                                                          1
An implication of the expression above is that agent’s best response strategy                                   = f    t gt=1
consists of a sequence of the best responses             t   in a static game where agent’s payo¤ is given by
(1      ) U ( ; ) + W ( ; ; t + 1). One can …nd equilibrium strategies of agents by the following
recursive procedure:

     1. Start with the initial distribution       0(   js) and compute a static Bayesian Nash equilibrium
        of this game with payo¤s (1             ) U ( ; ) + W ( ; ; 1);

     2. Use equilibrium strategies to compute the distribution in the next period,                             1(   js); com-
        pute static Bayesian Nash equilibrium for the period t = 1;

     3. Repeat the above procedure for periods t = 2; 3; :::

     Two crucial ingredients of this procedure are: (1) …nding the sequence of payo¤s fW ( ; ; t)g1
                                                                                                  t=1 ;
and (2) …nding an equilibrium in a static game with an arbitrary distribution of portfolios and
beliefs (x; js) and payo¤s ((1                 )U + W):
     We …rst describe a general procedure to compute an equilibrium. Then, we discuss some
further simpli…cations we used for computations in Section 5.
     For computational purposes, we discretize the state space and the set of o¤ers that agents
can make as follows. We …x a grid size (the step of the grid) for the o¤ers to be hz and for the
beliefs to be h : We set the bound for the size of the maximal allowed o¤er as z. The set of
allowable o¤ers consists is given by Z = Z               Z, with Z         f nhz : jnhz j        z; n 2 Ng, where N
is a set of natural numbers. Similarly, allocations of agents take values on a set X = X                                  X;


                                                             72
with X            f nhz : jnhz j        x; n 2 Ng where x is a bound on agent’s allocations. Agent’s beliefs
take values on a set                   f0; h ; 2h ; :::; 1g:

8.1      Finding an equilibrium in a static game
The …rst step is to compute an equilibrium in a static, one shot game for some distribution
  :X              ! [0; 1] and payo¤s W : X                         ! R: For this purpose we adopt the algorithm of
Fudenberg and Levine (1995) to our Bayesian game. This algorithm computes an approximate
equilibrium for a static game, where a degree of approximation depends on a parameter : The
algorithm has a property as                      ! 1 the equilibrium strategies in the approximate equilibrium
converge to an equilibrium in the original game14 .

  1. Start with the initial guess of a probability that an o¤er z occurs in equilibrium if the
                                   P
     state s = s1 : 0 : Z ! [0; 1], z2Z 0 (z) = 1, and 0 (z) > 0 for all z:

  2. For any o¤er z = z 1 ; z 2 use Bayes’rule to …nd a posterior belief of any agent with a
        prior belief          who receives an o¤er z:

                                            0                                z1; z2 )
                                                                                  0(
                                                ( ; z) =          1 2
                                                                                                      .
                                                             0 ((z ; z )) + (1     ) 0 ((z 2 ; z 1 ))
             0
        If        falls outside of the grid point, we round it to the closest point on                           . Since   0 (z)   >0
        for all z, this rule is well de…ned.

  3. Find the probability that an o¤er z is accepted in state 1.     : Z ! [0; 1]; (z) =
     P
         (x; js1 ) where the summation is over all (x; ) 2 X     s.t. W (x + z; 0 ( ; z))
        W (x; 0 ( ; z)):

  4. Use Bayes’rule to …nd a posterior of the agent who makes the o¤er z if such an o¤er is
        accepted,        a,   and a posterior if it is rejected,                    r:
                                   8
                                   <                 ((z 1 ;z 2 ))
                                        ((z 1 ;z 2 ))+(1 ) ((z 2 ;z 1 ))
                                                                         ;   if        ( z 1 ; z 2 ) + (1   ) ( z2; z1 ) > 0
                   a ( ; z) =
                                   :                                              ; otherwise
                                            8
                                            >                                  (1 ((z 1 ;z 2 )))
                                            >
                                            <                 (1       ((z 1 ;z 2 )))+(1 )(1 ((z 2 ;z 1 )))
                                                                                                            ;
                              r(   ; z) =     if (1           (   z 1 ; z 2 )) + (1          )(1    ( z2; z1    )) > 0
                                            >
                                            >
                                            :                                     ; otherwise.
             00
        If        falls outside of the grid point, we round it to the closest point on                              .
 14
      See Section 3 of Fudenberg-Levine (1995) for a formal statement and a proof.




                                                                      73
  5. Find a utility w(z; x; ) of the agent (x; ) if he makes an o¤er z:

                      w(z; x; ) = (             ( z 1 ; z 2 ) + (1          ) ( z 2 ; z 1 ))W (x             z;   a(   ; z))
                                                             1     2                          2    1
                                            +(1     (     ( z ; z ) + (1               ) ( z ; z )))W (x;              r(   ; z))


         If the o¤er (x           z) 2
                                     = X, let w(z; x; ) be a large negative number,                               w.

  6. De…ne a strategy of an agent with (x; ) as                             m (z; x;    ):

                                                                          exp( w(z; x; ))
                                               m (z; x;   )= P                        0
                                                                                                                                        (94)
                                                                       z 0 2Z exp( w(z ; x; ))

         Here       m (z; x;    ) is the probability that agent (x; ) makes an o¤er z:
                                                                        P
  7. Find a probability of each o¤er                      m (z)   =         (x; )2X          m (z; x;       ). If jj    m     0 jj is less
                                                                                                                  1       1
         than the chosen precision, …nish the procedure. Otherwise, let                                 1   =     2   0 + 2 m and go to
                                                                             n                1
         Step 1 (for subsequent iterations use                    n+1   =   n+1    n   +     n+1 m     and repeat the procedure
         until jj    m         n jj   is less than the chosen precision).

   In the procedure above, (94) ensures that, for all z,                                   m (z)   > 0 and, since               0 (z)   > 0;
 n (z)    > 0 for all z; n: This ensures that Bayes rule for updating agent’s beliefs in Step 2 is
well de…ned.
   In computations in Section 5 we further reduce computational complexity by restrict-
ing out of the equilibrium beliefs for some o¤ers.                                We start by considering what is the
lowest probability that an o¤er z can be accepted in any equilibrium. This probability,
  min (z) is de…ned as min (z) =
                                 P
               n                     (x; js1 ) where summation is over all (x; ) 2 X
                                     o                                                   ,
s.t. min~2[0;1] W (x + z; ~) W (x; ~) > 0: Next, we follow Steps 3-5 to compute w(z; x; ):
We de…ne            m (z; x;  ) = 1 if z = arg maxz 0 w(z 0 ; x; ) and 0 otherwise and set 0 (z) =
P
                                                                              ~ fz 2 Z : 0 (z) > 0g :
                     m (z; x; ): Then we restrict the set of allowed o¤ers to Z
  (x; )2X
With these restrictions we use the iterative procedure
                                                   n      described above.o This procedure re-
stricts all out of equilibrium beliefs to arg min 0 W (x + z; 0 ) W (x; ~) : Any o¤er in a set
~ is accepted at least with a probability min , which means that any o¤ers in a set ZnZ
Z                                                                                       ~ are
                                ~ both on and o¤ the equilibrium path (where out of equilib-
dominated by some o¤er in a set Z
rium beliefs are constructed as the ones which imply the smallest probability of the o¤er being
accepted).

8.2      Finding a sequence of payo¤s fW ( ; ; t)g1
                                                  t=1 and an equilibrium of the
         dynamic game
To compute an equilibrium of a dynamic game, we truncate the game at period T . We assume
that if the game has not ended before period T; it ends with probability 1 in period T + 1:

                                                                  74
                                                                                            0(             T
1. Make a guess on the distribution of portfolios and beliefs                               t    ; js1 )   t=1
                                                                                                               :

2. Let WT0 +1 ( ; ) = U ( ; ). Use the procedure in Section 8.1 to compute equilibrium strate-
   gies for a static game with a payo¤ WT0 +1 and distribution                             0:
                                                                                           T     Obtains functions ,             m,
    min ,   w.

3. Compute the payo¤ at the beginning of the period T . For this purpose, let W m and W r
   be, respectively, the payo¤s the agents who make and receive o¤ers. Then
                               X
                 W r (x; ) =             (z) max WT0 +1 x + z; 0 ( ; z) ; WT0 +1 x; 0 ( ; z)
                                 ~
                               z2Z


   For any (x; js1 ) > 0 compute utility of the agent who makes an o¤er as
                                                             X
                                         W m (x; ) =               m (z; x;   )w(z; x; )
                                                               ~
                                                             z2Z


   or,

     W m (x; ) = maxf max (                      min
                                                       ( z 1 ; z 2 ) + (1      )   min
                                                                                         ( z 2 ; z 1 ))W (x        z;   a(   ; z))
                                    ~
                                z2ZnZ
                                          min
                        +(1      (              ( z1; z2 ) +
                                          min
                        +(1          )          ( z 2 ; z 1 )))W (x;    r(    ; z)); max w(z; x; )g
                                                                                      ~
                                                                                    z2Z


   The beginning of period T payo¤ is then 21 W m + 12 W r :
                    1
4. Set WT0 =        2W
                       m   + 12 W r + (1                 ) U , and return to Step 2 until the whole sequence
        T
    Wt0 t=1      is computed.

5. Start with the initial distribution                  1(   ; js1 ) and W10 from Step 2 and compute the equi-




                                                              75
      librium in a one shot game using the algorithm in Section 8.1. Compute

                               1         X
       1
          x; ~js1 )
       2 (~           =                                      m
                                                                 (z; x; )(    ( z 1 ; z 2 ) + (1         ) ( z 2 ; z 1 ))   1 (x;   js1 )
                               2
                                   fx; ;z:x z=~ x
                                             ~
                                     a ( ;z)= g

                                   1      X
                                                         m
                               +                             (z; x; )(1        (     ( z 1 ; z 2 ) + (1       ) ( z 2 ; z 1 )))     1 (x;   js1 )
                                   2
                                       fx; ;z:x=~x
                                                ~
                                        r ( ;z)= g

                                   1                         X
                               +                                                   (z)   1 (x;   js1 )
                                   2
                                          fx; ;z: ( ;x)=~;x+z=~
                                                     0
                                                                  x
                                       W (x+z; 0 ( ;z)) W (x; 0 ( ;z))g
                                   1                         X
                               +                                                   (z)   1 (x;   js1 )
                                   2
                                           fx; ;z: ( ;x)=~;x=~
                                                         0
                                                                x
                                       W (x+z; 0 ( ;z))<W (x; 0 ( ;z))g


      The …rst term is the transition probabilities of all proposers whose o¤ers are accepted.
      The second term is the transition probabilities of all proposers whose o¤ers are rejected.
      The third term is transition probabilities of all responders who accept o¤ers. The fourth
      term is the transition probabilities of all responders who reject o¤ers.                                         (x; js2 ) can be
      obtained from (x; js1 ) using symmetry of equilibrium.

  6. Go to Step 5 until the whole sequence                                   1 1     is computed.
                                                                             t t=1

  7. If jj   1    0 jj   (jj   n+1          n jj   in subsequent iterations) is less than chosen precision, …nish
      the procedure. Otherwise, proceed to Step 1.

8.3   Further simpli…cations with exponential utility function
The procedure described above can be further simpli…ed by assuming exponential utility func-
tion u(x) =      exp( x) and allowing agents to have any (both positive or negative) x in all
periods. In this case the strategies of any agent depend on x1                                           x2 ; ; t ; which reduces the
number of state variables. To see that this is the case, consider a payo¤ for any agent (x; ) in




                                                                         76
period t by following some strategy :
                      (1                  "                                                         #                              )
                       X                              (    t+k (
                                                                              1
                                                                     t+k ))u(xt+k (   t+k ))
W (x; ; t)( ) = E            (1   )k                                             2
                                                                                                        j Pr(s = s1 ) =
                       k=0
                                              +(1           (    t+k ( t+k )))u(xt+k ( t+k ))
                      (1                  "                                         Pk                                    #                       )
                       X                              (    t+k ( t+k ))u(x
                                                                          1     +         1
                                  k                                                  m=0 zt+m ( t+m ))
               = E           (1   )                                                2
                                                                                      P k     2
                                                                                                                                j Pr(s = s1 ) =
                       k=0
                                              +(1           (    t+k (   t+k )))u(x +   m=0 zt+m ( t+m ))

               = exp( x2 )
                   8                      2                                                                       3                        9
                                                                                   1   x2
                   >
                   <X1                                           ( t+k ( t+k ))u( x                                                        >
                                                                                                                                           =
                                     6                              Pk                                            7
                 E      (1        )k 4                            + m=0 zt+m 1   ( t+m ))                         5 j Pr(s = s1 ) =
                   >
                   :k=0                                                         Pk                                                         >
                                                                                                                                           ;
                                              +(1            (                          2
                                                                 t+k ( t+k )))u( m=0 zt+m ( t+m ))


   Consider any two strategies,       0   and       00 ,   s.t. W (x; ; t)( 0 )       W (x; ; t)(        00 )   for some (x; ) :
Since we do not impose bounds on asset holdings xt ; the same strategies                            0   and       00   are feasible
for all agents. But then the last expression implies that W (~
                                                             x; ; t)(                          0)   W (~
                                                                                                       x; ; t)(          00 )   for all
x      ~1
~ s.t. x    ~2 = x1
            x         x2 .




                                                             77
References
 [1] Amador, Manuel and Pierre Olivier Weill (2007). “Learning from Private and Public
    Observation of Other’s Actions.” Mimeo, UCLA.

 [2] Amador, Manuel and Pierre Olivier Weill (2008). “Learning from Prices: Public Commu-
    nication and Welfare.” Mimeo, UCLA.

 [3] Billingsley, Patrick (1995). Probability and Measure. Wiley Series in Probability and Math-
    ematical Statistics.

 [4] Blouin, Max R., and Roberto Serrano (2001). “A Decentralized Market with Common
    Values Uncertainty: Non-Steady States,” Review of Economic Studies 68: 323–346.

 [5] Brunnermeier, Markus (2001). Asset Pricing under Asymmetric Information. Oxford Uni-
    versity Press.

 [6] Cho, In-Koo and David M. Kreps (1987). “Signalling Games and Stable Equilibria.”Quar-
    terly Journal of Economics, 102(2): 179-221.

 [7] Du¢ e, Darrell, Nicolae Garleanu and Lasse Heje Pedersen (2005). “Over-the-Counter
    Markets.” Econometrica 73: 1815–1847.

 [8] Du¢ e, Darrell, Nicolae Garleanu and Lasse Heje Pedersen (2007). “Valuation in Over-
    the-Counter Markets.” Review of Financial Studies, forthcoming.

 [9] Du¢ e, Darrell, Gaston Giroux, and Gustavo Manso (2009). “Information Percolation,”
    American Economic Journal: Microeconomics, forthcoming.

[10] Du¢ e, Darrell, Semyon Malamud and Gustavo Manso (2009a). “Information Percolation
    with Equilibrium Search Dynamics.” Econometrica, forthcoming.

[11] Du¢ e, Darrell, Semyon Malamud and Gustavo Manso (2009b). “The Relative Contri-
    butions of Private Information Sharing and Public Information Releases to Information
    Aggregation.” Journal of Economic Theory, forthcoming.

[12] Du¢ e, Darrell, and Gustavo Manso, (2007). “Information Percolation in Large Markets,”
    American Economic Review, Papers and Proceedings, 97: 203-209.

[13] Fudenberg, Drew, and David Levine (1995). “Consistency and Cautious Fictitious Play.”
    Journal of Economic Dynamics and Control 19: 1065-1089.

[14] Gale, Douglas (1987). “Limit Theorems for Markets with Sequential Bargaining.”Journal
    of Economic Theory 43: 20–54.


                                              78
[15] Gale, Douglas (2000). Strategic Foundations of General Equilibrium: Dynamic Matching
    and Bargaining Games. Cambridge University Press.

[16] Grossman, Sanford (1989). The Informational Role of Prices. MIT Press.

[17] Lagos, Ricardo (2007), “Asset Prices and Liquidity in an Exchange Economy,” working
    paper, NYU.

[18] Lagos, Ricardo and Guillaume Rocheteau (2009). “Liquidity in Asset Markets with Search
    Frictions,” Econometrica, 77(2) (March 2009): 403-426.

[19] Lagos, Ricardo, and Guillaume Rocheteau and Pierre Olivier Weill, (2007). “Crashes and
    Recoveries in Illiquid Markets,” working paper.

[20] Milgrom, Paul R., and Nancy Stokey (1982). “Information, Trade and Common Knowl-
    edge.” Journal of Economic Theory 26: 17–27.

[21] Ostrovsky, Michael (2009). “Information Aggregation in Dynamic Markets with Strategic
    Traders,” Working paper.

[22] Rocheteau, Guillaume (2008). “A Monetary Approach to Asset Liquidity,”Working paper.

[23] Wolinsky, Asher (1990), “Information Revelation in a Market with Pairwise Meetings,”
    Econometrica 58: 1–23.

[24] Vayanos, Dimitri (1998). “Transaction Costs and Asset Prices: A Dynamic Equilibrium
    Model.” Review of Financial Studies 11, 1–58.

[25] Vayanos, Dimitri and Pierre Olivier Weill (2007). “A Search-Based Theory of the On-the-
    Run Phenomenon.” Journal of Finance, forthcoming.

[26] Weill, Pierre Olivier (2007). “Liquidity Premia in Dynamic Bargaining Markets.”Journal
    of Economic Theory, forthcoming.

[27] Williams, David (1991). Probability with Martingales. Cambridge University Press




                                            79
