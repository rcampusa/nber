                             NBER WORKING PAPER SERIES




                   A NEOCLASSICAL THEORY OF LIQUIDITY TRAPS

                                      Sebastian Di Tella

                                     Working Paper 24205
                             http://www.nber.org/papers/w24205


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                   January 2018




The author declares that he has no relevant or material financial interests that relate to the
research described in this paper. The views expressed herein are those of the author and do not
necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2018 by Sebastian Di Tella. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including ©
notice, is given to the source.
A Neoclassical Theory of Liquidity Traps
Sebastian Di Tella
NBER Working Paper No. 24205
January 2018
JEL No. E3,E4,E5

                                           ABSTRACT

This paper provides an equilibrium theory of liquidity traps and the real effects of money. Money
provides a safe store of value that prevents interest rates from falling enough during downturns,
and the economy enters a persistent slump with depressed investment. This is an equilibrium
outcome—prices are flexible, markets clear, and inflation is on target—but it’s not efficient.
Investment is too high during booms and too low during liquidity traps. Although money has
large real effects, monetary policy is ineffective—the zero lower bound is not binding, money is
superneutral, and Ricardian equivalence holds. The optimal allocation requires the Friedman rule
and a tax/subsidy on capital.


Sebastian Di Tella
Stanford University
Graduate School of Business
655 Knight Way
Stanford, CA 94305
and NBER
sditella@stanford.edu
                   A Neoclassical Theory of Liquidity Traps
                                               Sebastian Di Tella∗
                                                Stanford University

                                                 November 2017



                                                     Abstract

              This paper provides an equilibrium theory of liquidity traps and the real effects of money.
          Money provides a safe store of value that prevents interest rates from falling enough during
          downturns, and the economy enters a persistent slump with depressed investment. This is an
          equilibrium outcome—prices are flexible, markets clear, and inflation is on target—but it’s not
          efficient. Investment is too high during booms and too low during liquidity traps. Although
          money has large real effects, monetary policy is ineffective—the zero lower bound is not binding,
          money is superneutral, and Ricardian equivalence holds. The optimal allocation requires the
          Friedman rule and a tax/subsidy on capital.


1        Introduction
Liquidity traps occur when money prevents interest rates from falling enough during downturns,
and the economy enters a persistent slump with depressed investment. They are associated with
some of the deepest and most persistent slumps in history. Japan has arguably been experiencing
one for almost 20 years, and the US and Europe since the 2008 financial crisis. But how can money
have such large and persistent real effects?
        This paper provides an equilibrium theory of liquidity traps and the real effects of money. I
show that liquidity traps arise naturally in a monetary economy with incomplete idiosyncratic risk
sharing, even if prices are completely flexible. To fix ideas, consider a simple AK growth model
with log utility over consumption and money, and incomplete idiosyncratic risk sharing. During
downturns idiosyncratic risk goes up and makes risky capital less attractive. Without money, real
interest rates would fall and keep investment at the first-best level. But money prevents equilibrium
interest rates from falling enough, depressing investment.
        The liquidity trap is an equilibrium outcome—prices are flexible, markets clear, and inflation
is on target. In contrast to conventional models of liquidity traps, the zero lower bound is not
binding, money is superneutral, and Ricardian equivalence holds. The real effects of money become
    ∗
    I’d like to thank Manuel Amador, Narayana Kocherlakota, Pablo Kurlat, Yuliy Sannikov, Chris Tonetti, Chad
Jones, Adrien Auclert, Arvind Krishnamurthy, Bob Hall, and John Taylor. email: sditella@stanford.edu.



                                                         1
gradually larger as interest rates fall and the value of liquidity rises. The competitive equilibrium is
inefficient—investment is too high during booms and too low during liquidity traps. However, while
money can have large real effects, monetary policy is ineffective. The optimal allocation requires
the Friedman rule and a tax or subsidy on capital. When investment is too low, subsidize it. When
it’s too high, tax it.
   How can money affect real interest rates and investment? The key insight is that money provides
a safe store of value that improves idiosyncratic risk sharing, and its value endogenously rises during
liquidity traps. Better risk sharing weakens agents’ precautionary saving motive, which keeps real
interest rates high and investment depressed relative to the economy without money. The value of
money is the present value of expenditures on liquidity services, and it becomes very large when
interest rates fall. In particular, if risk is high enough the real interest rate can be very negative
without money, but must remain above the growth rate if there is money. The value of liquidity
endogenously grows, raising the equilibrium real interest rate and depressing investment until this
condition is satisfied. The result is a liquidity trap.
   What makes money special? Is this about money or is it really about safe assets? Agents can
trade risk-free debt, but it doesn’t produce a liquidity trap. Neither does a diversified (safe) equity
index. I also allow for safe government debt and deposits. They produce a liquidity trap only to the
extent that they have a liquidity premium. To see why, notice that safe assets without a liquidity
premium must be backed by payments with equal present value. Agents own the assets but also the
liabilities, so the net value is zero. But the value of liquid assets, net of the value of the payments
backing them, is equal to the present value of their liquidity premium. This is what allows them to
serve as a store of value and improve risk sharing in general equilibrium. Agents with a bad shock
can sell part of their liquid assets to agents with a good shock in order to reduce the volatility of
their consumption.
   Money, and more generally safe assets with a liquidity premium, are special because they are
simultaneously safe (no idiosyncratic risk) and have a positive net value. There are many assets
that have positive net value, such as capital, housing, or land. But the starting point of this paper
is that real investments are risky and idiosyncratic risk sharing is incomplete. For example, agents
must buy a particular house or plot of land, whose value has significant idiosyncratic risk that can’t
be fully shared. There are also safe financial assets, such as AAA corporate debt, but their net value
is zero (someone owes the asset). Safe assets with a liquidity premium have the rare combination
of safety and positive net value that allow them to function as a safe store of value.
   How quantitatively important is the role of liquid assets as a safe store of value? Quite small
during normal times, but very large during liquidity traps. The net value of liquid assets is equal to
the present value of expenditures on liquidity services. During normal times when interest rates are
high their value is relatively small, close to the expenditure share on liquidity services (around 1.7%
by my calculations), and can be safely ignored. But during those relatively rare occasions when the
real interest rate becomes persistently very low relative to the growth rate of the economy, their
value can become very large. And these are precisely the events we are interested in studying. In


                                                    2
fact, the liquidity trap survives even in the cashless limit where expenditures on liquidity services
vanish, and is robust to different specifications of money demand.
      The inefficiency in this economy comes from hidden trade.1 I microfound the incomplete idiosyn-
cratic risk sharing with a fund diversion problem with hidden trade. The competitive equilibrium
is the outcome of allowing agents to write privately optimal long-term contracts in a competitive
market. I then characterize the optimal allocation by a planner who faces the same environment,
and show how it can be implemented with a tax or subsidy on capital. The competitive equilibrium
is inefficient because private contracts don’t internalize that when they make their consumption
and investment decisions, they are affecting prices, such as the interest rate, and therefore the
hidden-trade incentive-compatibility constraints of other contracts.
      The model is driven by countercyclical idiosyncratic risk shocks for the sake of concreteness.
But an increase in risk aversion is mathematically equivalent; it will also raise the risk premium and
precautionary motives. Higher risk aversion can represent wealth redistribution from risk tolerant
to risk averse agents after bad shocks (see Longstaff and Wang (2012)) or weak balance sheets of
specialized agents who carry out risky investments (see He and Krishnamurthy (2013) and He et al.
(2015)). It can also capture habits (Campbell and Cochrane (1999)) or higher ambiguity aversion
after shocks that upend agents’ understanding of the economy (see Barillas et al. (2009)). Here I
focus on simple countercyclical risk shocks with homogenous agents, but these are potential avenues
for future research.
      I first study a simple stationary model and do comparative statics across balanced growth paths
for different levels of idiosyncratic risk in Section 2. I characterize the optimal allocation in Section
3. This simple environment captures most of the economic intuition and can be solved with pencil
and paper. I then introduce aggregate risk shocks in a dynamic model in Section 4 and characterize
the competitive equilibrium as the solution to a simple ODE. Section 5 discusses the link to a bubble
theory of money, and the relationship between the mechanism in this paper and sticky-price models
of the zero lower bound. In the Appendix I consider a cash-in-advance version of the model and
a general CES demand for money, and I also solve the model with Epstein-Zin preferences. The
Online Appendix has the technical details of the contractual environment.

New Keynesian models of the zero lower bound. The mainstream view of liquidity traps
focuses on the role of the zero lower bound on nominal interest rates in New Keynesian models with
nominal rigidities, starting with the seminal work of Krugman et al. (1998).2 If there is money in
the economy the nominal interest rate cannot be negative. So if the natural interest rate (the real
interest rate with flexible prices) is very negative, the central bank must either abandon its inflation
target or allow the economy to operate with an output gap (or both).
      In contrast, this paper argues that liquidity traps are not essentially about nominal rigidities and
the zero lower bound. Money makes the natural rate positive, and the depressed investment does
  1
    See Farhi et al. (2009), Kehoe and Levine (1993), Di Tella (2016).
  2
    Eggertsson et al. (2003), Werning (2011), Eggertsson and Woodford (2004), Eggertsson and Krugman (2012),
Svensson (2000), Caballero and Simsek (2017).


                                                     3
not reflect a negative output gap, but rather the real equilibrium effects of money. An attractive
feature of the mechanism here is that the liquidity trap is a gradual phenomenon. The real effects
of money become larger as the value of liquidity endogenously rises. While there is a zero lower
bound on the nominal interest rate, it’s not binding and it doesn’t play any important role in the
liquidity trap. In fact, since money is superneutral, changing the inflation target will always fix the
zero lower bound problem, but it will have no real effects. And under the Friedman rule, the zero
lower bound is never binding.
      The two approaches are complementary. In the short-run prices may very well be sticky, markets
segmented, and information imperfect. I abstract from these issues to focus on the underlying
frictionless aspects of liquidity traps. The model in this paper can be regarded as the frictionless
version of a richer model with short-run frictions. For example, in the model consumption is
countercyclical in the very short-run, for well understood reasons. Importantly, this is not a model
of short-run fluctuations, but rather of persistent slumps associated with liquidity traps.
      The results in this paper have an important take-away for New Keynesian models of the zero
lower bound. Introducing money into an economy doesn’t just place a lower bound on interest
rates—it also raises the natural interest rate. To the extent that the natural rate is positive the
central bank will be able to reproduce the flexible-price equilibrium, hitting the inflation target and
zero output gap, even if the economy is in a liquidity trap. But it may not be optimal. Investment is
too depressed during a liquidity trap, so unless an investment subsidy is used to obtain the optimal
allocation, reproducing the flexible-price allocation is suboptimal. I conjecture that stimulating
investment with low interest rates may be the optimal monetary policy in that situation, but this
is beyond the scope of this paper.

Other literature review. Buera and Nicolini (2014) provide a flexible-price model of the zero
lower bound, based on borrowing constraints and lack of Ricardian equivalence. Aiyagari and
McGrattan (1998) study the role of government debt in a model with uninsurable labor income
and binding borrowing constraints. In contrast, here Ricardian equivalence holds (agents have the
natural borrowing limit), the zero lower bound is not binding, and money is superneutral. Changing
the amount of government debt can only affect the liquidity premium on government debt and other
assets, but not the real side of the economy. Changing the inflation target raises nominal interest
rates and fixes the zero lower bound problem, but doesn’t have any real effects. It is easy to break
Ricardian equivalence and superneutrality, but they are useful theoretical benchmarks that highlight
that the real effects of money don’t hinge on a fiscal side.
      There is a large literature on risk or uncertainty shocks both in macro and finance.3 The setting
here is closest to Di Tella (2017), who shows that risk shocks that increase idiosyncratic risk can
help explain the concentration of aggregate risk on the balance sheets of financial intermediaries
and create financial crises. Here I remove intermediaries and introduce money, and show that these
  3
   Bloom (2009), Bloom et al. (2012), Campbell et al. (2001), Bansal and Yaron (2004), Bansal et al. (2014),
Campbell et al. (2012), Christiano et al. (2014).




                                                     4
risk shocks may also be responsible for liquidity traps. This may explain why liquidity traps and
financial crises often appear together.
       Cochrane (2011) highlights the role of time-varying risk premia in asset prices, and therefore
investment. The driving force behind the liquidity trap in this paper is a time-varying idiosyncratic
risk premium. But a high risk premium is not enough to depress investment. The real interest rate
could drop enough to absorb the hit, leaving asset prices and investment unaffected. This paper
provides a theory of why the equilibrium real interest rate will not drop enough, so that a high risk
premium will be reflected in lower investment.
       The liquidity premium is the focus of a large literature that micro-founds the role of money as
a means of exchange in a search-theoretic framework.4 Here I use money in the utility function as
a simple and transparent way to introduce money into the economy (I also solve a cash-in-advance
version in the Appendix). The purpose of this paper is not to provide a new explanation for why
people hold money in equilibrium, but rather to understand how money can produce liquidity traps
and have real effects. However, a more micro-founded account of the liquidity premium can help
understand how it is affected by aggregate shocks and policy interventions.
       There is also a large literature modeling money as a bubble in the context of OLG or incomplete
risk sharing models.5 The closest paper is Brunnermeier and Sannikov (2016b), who use a similar
environment with incomplete idiosyncratic risk sharing to study the optimal inflation rate.6 An
important contribution of that paper is to develop a version of the Bewley (1980) model of bubble
money that is tractable and yields closed-form solutions. They find that countries with high risk
should have a higher inflation rate. In contrast, here bubbles are ruled out, money is superneutral,
and the focus is on how money can produce liquidity traps.7 I study some of the differences and
similarities of the bubble and liquidity views of money and how they relate to the issue of liquidity
traps in Section 5.
       The contractual environment micro-founding the incomplete idiosyncratic risk sharing with a
fund diversion problem with hidden trade is based on Di Tella and Sannikov (2016), who study a
more general environment.8 Di Tella (2016) uses a similar contractual environment to study optimal
financial regulation, but does not allow hidden savings or investment. Instead, it focuses on the
externality produced by hidden trade in capital assets by financial intermediaries. That externality
is absent in this paper because the price of capital is always one (capital and consumption goods
can be transformed one-to-one).
   4
      See Kiyotaki and Wright (1993), Lagos and Wright (2005), Aiyagari and Wallace (1991), Shi (1997).
   5
     See Samuelson (1958), Bewley (1980), Diamond (1965), Tirole (1985), Asriyan et al. (2016), Santos and Woodford
(1997)
   6
     Brunnermeier and Sannikov (2016a) use a similar environment but focus on the role of financial intermediaries.
   7
     In their model money is a bubble and is introduced proportionally to wealth, so higher inflation acts as a subsidy
to saving. Here bubbles are explicitly ruled out and money is introduced in a lump-sum, non-distortionary way.
   8
     Cole and Kocherlakota (2001) study an environment with hidden savings and risky exogenous income, and find
that the optimal contract is risk-free debt. Here we also have risky investment.




                                                          5
2        Baseline model
In this section I introduce the baseline stationary model. It’s a simple AK growth model with
money in the utility function and incomplete idiosyncratic risk sharing. The equilibrium is always
a balanced growth path, and to keep things simple I will consider completely unexpected and
permanent risk shocks that increase idiosyncratic risk (comparative statics across balanced growth
paths). In Section 4 I will introduce the fully dynamic model with aggregate risk shocks.

2.1        Setting
The economy is populated by a continuum of agents with log preferences over consumption c and
real money m ≡ M/p
                                              ˆ     ∞                                            
                                                             −ρt
                                                                                           
                               U (c, m) = E              e         (1 − β) log ct + β log mt dt
                                                 0

Money and consumption enter separately, so money will be superneutral. Money in the utility
function is a simple and transparent way of introducing money in the economy.9 As we’ll see, what
matters is that money has a liquidity premium.
        Agents can continuously trade capital and use it to produce consumption yt = akt , but it is
exposed to idiosyncratic “quality of capital” shocks. The change in an agent’s capital over a small
period of time is
                                                     d∆ki,t = ki,t σdWi,t

where ki,t is the agent’s capital (a choice variable) and Wi,t an idiosyncratic Brownian motion.
Idiosyncratic risk σ is a constant here, but we will look at comparative statics of the equilibrium
with respect to changes in σ. This is meant to capture a shock that makes capital less attractive
and drives up its risk premium. Later we will introduce a stochastic process for σ and allow for
aggregate shocks to σ.
        Idiosyncratic risk washes away in the aggregate, so the aggregate capital stock kt evolves

                                                     dkt = (xt − δkt )dt                                             (1)

where xt is investment. The aggregate resource constraint is

                                                         ct + xt = akt                                               (2)

where ct is aggregate consumption.
        Money is printed by the government and transferred lump-sum to agents. In order to eliminate
any fiscal policy, there are no taxes, government expenditures, or government debt; later I will
introduce safe government debt and taxes. For now money is only currency, but later I will add
    9
        In the Appendix I also solve the model with a cash-in-advance constraint and a more general CES utility function.



                                                                    6
deposits and liquid government bonds. The total money stock Mt evolves

                                                     dMt
                                                         = µM dt
                                                     Mt

The central bank chooses µM endogenously to deliver a target inflation rate π. This means that in
a balanced growth path µM = π + growth rate.
       Markets are incomplete in the sense that idiosyncratic risk cannot be shared. They are otherwise
complete. Agents can continuously trade capital at equilibrium price qt = 1 (consumption goods
can be transformed one-to-one into capital goods, and the other way around) and debt with real
interest rate rt = it − π, where it is the nominal interest rate. There are no aggregate shocks for
now; I will add them later and assume that markets are complete for aggregate shocks.
       Total wealth is wt = kt + mt + ht , which includes the capitalized real value of future money
transfers                                            ˆ    ∞        ´s
                                                                        ru du dMs
                                              ht =            e−   t                                                   (3)
                                                      t                      ps
The dynamic budget constraint for an agent is10

                                  dwt = (rt wt + kt αt − ct − mt it )dt + kt σdWt                                      (4)

with solvency constraint wt ≥ 0, where αt ≡ a − δ − rt is the excess return on capital. Each agent
chooses a plan (c, m, k) to maximize utility U (c, m) subject to the budget constraint (4).
Remark. As in Brunnermeier and Sannikov (2016b) and Angeletos (2006), this setting has several
features that make it very tractable and easy to solve in closed-form with pencil and paper. Uninsur-
able idiosyncratic risk comes from tradable capital, rather than non-tradable labor income. Together
with homothetic preferences, this produces policy functions linear in wealth, which eliminate the
need to keep track of the whole wealth distribution and yields closed-form expressions.11

2.2      Balanced Growth Path Equilibrium
A BGP equilibrium will be scale invariant to aggregate capital kt , so we can normalize all variables
by kt ; e.g. m̂t = mt /kt . A Balanced Growth Path Equilibrium consists of a real interest rate r,
investment x̂, and real money m̂ satisfying

                   r = ρ + (x̂ − δ) − σc2                                             Euler equation                   (5)
                   r = a − δ − σc σ                                                     Asset Pricing                  (6)
  10
      This is equivalent to defining financial wealth w̃t = kt + mt + dt , where dt is risk-free debt (in zero net supply),
and using the dynamic budget constraint dw̃t = (dt rt + kt (a − δ) − mt π − ct )dt + kt σdWt , and the natural debt limit
is w̃t = −ht , so that w̃t ≥ w̃t . This is equivalent to (4) with wt = w̃t + ht ≥ 0.
   11
      Angeletos (2006) does not have money. Brunnermeier and Sannikov (2016b) develop a tractable version of the
Bewley (1980) model of bubble money. They introduce money proportionally to wealth. Here bubbles are explicitly
ruled out and money is introduced lump-sum. I discuss the similarities and differences between the bubble and
liquidity views of money in Section 5.



                                                               7
                                  kt
                        σc ≡              σ = (1 − λ)σ                                                Risk Sharing              (7)
                             kt + mt + ht
                                mt + ht            ρβ
                         λ≡               =                                                     Value of Liquidity              (8)
                             kt + mt + ht    ρ − ((1 − λ)σ)2
                               β a − x̂
                        m̂ =                                                                                 Money              (9)
                             1−βr+π

As well as i = r + π > 0 and r > (x̂ − δ). These last conditions make sure money demand is well
defined and rule out bubbles.
         Equation (5) is the usual Euler equation. x̂ − δ is the growth rate of the economy and therefore
consumption, and σc2 is the precautionary saving motive. The more risky consumption is, the more
agents prefer to postpone consumption and save. Equation (6) is an asset pricing equation for capital.
Agents can choose to invest their savings in a risk-free bond (in zero net supply) and earn r, or in
capital and earn the marginal product net of depreciation a − δ. The last term α = σcσ is the risk
premium on capital. Because the idiosyncratic risk in capital cannot be shared, agents will only invest
in capital if it yields a premium to compensate them.
         Equation (7) is agents’ exposure to idiosyncratic risk. Because of homothetic preferences each
agent consumes proportionally to his wealth, and his exposure to idiosyncratic risk comes from his
investment in capital. In equilibrium, the portfolio weight on capital is kt /wt = kt /(kt + mt + ht ) =
(1 − λ) where we define λ ≡ ( mt + h t )/wt a s t he s hare o f w ealth i n m oney ( present a nd future).
λ captures the value of liquidity in the economy, and (8) gives us an equation for λ in terms of
parameters. Finally, (9) is an expression for real money balances. Because of the log preferences
agents devote a fraction β of expenditures to liquidity and 1 − β to consumption. Using i = r + π
and the resource constraint (2), we obtain (9).
   The BGP has a simple structure. We can solve (8) for λ, plug into (7) to obtain σc , then plug
into (6) to obtain r, and plug into (5) to obtain x̂. Finally, once we have the real part of the
equilibrium, we use (9) to obtain m̂.
         The share of wealth in money λ captures the value of liquidity in the economy, and plays a
central role. Money provides a safe store of value that improves risk sharing, and it is worth the
present value of expenditures on liquidity services. From the definition o f h w e o btain a fter some
algebra and using the No-Ponzi conditions,12
                                               ˆ   ∞                        ˆ   ∞
                                                       −r(s−t) dMs                                          mt i
                        mt + ht = mt +                 e                =           e−r(s−t) ms ids =                          (10)
                                               t                   ps       t                           r − (x̂ − δ)

Because of log preferences, we get mt i = ρβ(kt + mt + ht ) which yields

                                                              mt + ht         ρβ
                                                   λ≡                   =                                                      (11)
                                                           kt + mt + ht   r − (x̂ − δ)

Finally, use the Euler equation (5) and the definition of σc in (7) to obtain (8).
                         ´∞                                  ´∞                      ´∞
    12
         Write mt +           e−r(s−t) dM  s
                                               = mt +             e−r(s−t) dms +          e−r(s−t) ms πs ds = limT →∞ e−r(T −t) mT +
´∞       −r(s−t)
                          t             ps                   t                        t

t
     e             ms (rs + πs )ds, and use the No-Ponzi condition to eliminate the limit.


                                                                        8
                          λ

                       1.0



                       0.8



                       0.6



                       0.4



                       0.2

                                                                             β
                                                                                                    σ
                                    0.1         0.2        0.3         0.4        0.5         0.6


Figure 1: The value of liquidity λ as a function of σ. Parameters: a = 1/10, ρ = 4%, π = 2%,
δ = 1%, β = 1.7% .


       How big is the value of liquidity λ? In normal times when the real interest rate is high relative to
the growth rate of the economy, r  x̂ − δ, the value of liquidity λ is small, close to the expenditure
share on liquidity services β. To fix ideas, use a conservative estimate of β = 1.7%.13 But when
the real interest rate r is small relative to the growth rate of economy x̂ − δ, the value of liquidity
can be very large (in the limit λ → 1). This happens when idiosyncratic risk σ is large—while
capital is discounted with a large risk premium, liquidity is discounted only with the risk-free rate,
which must fall when idiosyncratic risk σ is large. Figure 1 shows the non-linear behavior of λ as a
function of σ. This is an important insight—the value of liquidity may be small in normal times,
but can become quite large during periods of low interest rates such as liquidity traps.14

Proposition 1. For any β > 0, the value of liquidity λ is increasing in idiosyncratic risk σ, and
ranges from β when σ = 0 to 1 as σ → ∞. Furthermore, idiosyncratic consumption risk σc = (1−λ)σ
                                                          p
is also increasing in σ, and ranges from 0 when σ = 0 to ρ(1 − β) when σ → ∞. For β = 0,
λ = 0.

2.3       Non-monetary economy
As a benchmark, consider a non-monetary economy where β = 0. In this case, m̂ = ĥ = 0 and
therefore λ = 0. The BGP equations simplify to r = a − δ − σ 2 and x̂ = a − ρ.
       Higher idiosyncratic risk σ, which makes investment less attractive, is fully absorbed by a lower
real interest rate r (and therefore lower nominal interest rate i = r + π), but a constant investment
  13
      As Section 2.5 shows, β is the expenditure on liquidity premium across all assets, including deposits and treasuries.
Say checking and savings accounts make up 50% of gdp and have an average liquidity premium of 2%. Krishnamurthy
and Vissing-Jorgensen (2012) report expenditure on liquidity provided by treasuries of 0.25% of gdp. Consumption
is 70% of gdp. This yields β = 1.7%.
   14
      It’s worth stressing that the value of liquidity includes not only the value of money mt , but also future money
ht . As Figure 2 shows, most of the value of liquidity is in the future, ht .



                                                            9
              r                                                                   x
       0.10                                                                0.06
       0.05
                                                                           0.04
                                                                  σ
                  0.1   0.2   0.3    0.4       0.5       0.6
                                                                           0.02
       0.05

       0.10                                                                                                                        σ
                                                                                       0.1   0.2    0.3    0.4     0.5     0.6
       0.15                                                                0.02

           σc                                                               , m   
                                                                                 +h
                                                                            m
       0.25                                                                   5
       0.20                                                                   4

       0.15                                                                   3

       0.10                                                                   2

       0.05                                                                   1

                                                              σ                                                                σ
                  0.1   0.2   0.3    0.4      0.5       0.6                            0.1   0.2   0.3    0.4    0.5     0.6

Figure 2: Real interest rate r, investment x̂, idiosyncratic consumption risk σc , and monetary
variables m̂ (solid) and m̂ + ĥ (dashed) as functions of idiosyncratic risk σ, in the non-monetary
economy (dashed orange) and the monetary economy (solid blue). The lower bound on the real
interest rate −π is dashed in black. Parameters: a = 1/10, ρ = 4%, π = 2%, δ = 1%, β = 1.7%

rate x̂ and growth x̂ − δ. Figure 2 shows the equilibrium values of r and x̂ in a non-monetary
economy for different σ (dashed line).

Proposition 2. Without money (β = 0), after an increase in idiosyncratic risk σ the real interest
rate r falls but investment x̂ remains at the first-best level.

   We can understand the response of the non-monetary economy to higher risk σ in terms of the
risk premium and the precautionary motive. Use the Euler equation (5) and asset pricing equation
(6) to write
                                                     r = a − δ − σc σ                                                                  (12)
                                                                 |{z}
                                                                           risk pr.

                                    x̂ = a − ρ +               σc2         − σc σ = a − ρ                                              (13)
                                         | {z }               |{z}           |{z}
                                           first best     prec. mot.          risk pr.

Larger risk σ makes capital less attractive, so the risk premium α = σc σ goes up. Other things
equal this depresses investment. But with higher risk the precautionary saving motive σc2 also
becomes larger. Agents face more risk and therefore want to save more. Other things equal, this
lowers the real interest rate and stimulates investment. Without money σc = (1 − λ)σ = σ, so the
precautionary motive and the risk premium cancel each other out and we get the first best level
of investment x̂ = a − ρ for any level of idiosyncratic risk σ (this doesn’t mean that this level of
investment is optimal with σ > 0).

                                                                      10
    This is a well known feature of preferences with intertemporal elasticity of one (in the Appendix
I solve the model with general Epstein-Zin preferences).15 For our purposes, it provides a clean
and quantitatively relevant benchmark where higher idiosyncratic risk that makes investment less
attractive is completely absorbed by lower real interest rates which completely stabilize investment.
But notice in Figure 2 that the real interest rate r could become very negative; in particular, we
may need r ≤ x̂ − δ. This is not a problem without money because capital is risky, but it will be
once we introduce money, which is safe, because its value would blow up if r ≤ x̂ − δ.

2.4    Monetary economy
Now consider the monetary economy with β > 0, also shown in Figure 2. Money has large real
effects. When σ goes up, money prevents the real interest rate r from falling as much as in the
non-monetary economy. Instead, investment x̂ falls and the economy enters a persistent slump.16 In
particular, without money the real interest rate could be very negative for high σ, but with money
it must remain above the growth rate of the economy.
    The value of liquidity λ captures the real effects of money. There are two steps: (i) money
serves as a safe store of value and improves risk sharing, so a large value of liquidity λ keeps the real
interest high relative to the non-monetary economy and depresses investment; and (ii) the value of
liquidity λ endogenously rises during downturns when σ is high. The result is a liquidity trap—the
real interest rate doesn’t fall as much as it would without money, and investment falls instead.
    To understand step (i) use the Euler equation (5), the asset pricing equation (6), and the risk
sharing equation (7) to obtain an expression for r and x̂ in terms of σ and λ:

                                              r = a − δ − (1 − λ)σ 2                                              (14)
                                                          | {z }
                                                                 risk pr.


                                                                             λ−β
                          x̂ = a − ρ + (1 − λ)2 σ 2 − (1 − λ)σ 2 = a − ρ − ρ                                      (15)
                               | {z } | {z } | {z }                          1−λ
                               first best   prec. mot.         risk pr.

Expressions (14) and (15) show that a larger value of liquidity λ raises the real interest rate and
depresses investment. What is going on is that a large value of liquidity λ improves idiosyncratic
risk sharing, σc = (1 − λ)σ. Essentially, agents with bad shocks sell part of their money holdings to
buy more capital and consumption goods from agents with good shocks. As a result, the volatility
in their consumption and capital is smaller. Better risk sharing dampens both the risk premium σc σ
(raising r) and the precautionary saving motive σc2 —but crucially, it dampens the precautionary
motive more. Intuitively, the risk premium comes from the risk of a marginal increase in capital
   15
      Although the real interest rate r always falls with higher risk σ, without money investment x̂ may go up or down
depending on whether intertemporal elasticity is lower or higher than one. But for relevant parameter values the
role of money is the same as in the baseline model with log preferences: it prevents interest rates from falling during
downturns and depresses investment relative to the non-monetary economy, producing a liquidity trap.
   16
      Since output is fixed in the short-run, lower investment implies higher consumption. This is a well understood
feature of this simple environment. This is not a model of high-frequency business cycles; it’s a model of persistent
slumps produced by liquidity traps.


                                                          11
holdings, while the precautionary motive comes from the average risk in an agent’s portfolio, that
now includes safe money. Money creates a wedge between the marginal and average risk that weakens
the precautionary motive relative to the risk premium. Since the risk premium reduces investment
and the precautionary motive increases it, a large value of liquidity λ depresses investment.
       To understand step (ii), notice that the value of liquidity λ grows during downturns with high
σ, as shown in Figure 1. The value of liquidity λ is equal to the present value of expenditures on
liquidity services, as expression (11) indicates. When idiosyncratic risk σ rises, the real interest
rate falls relative to the growth rate of the economy because the precautionary motive rises (see
the Euler equation (5)), so this present value becomes very large. It’s important to stress that the
value of liquidity λ includes not only current real money balances m but also future money h. As
Figure 2 shows, most of the value of liquidity is in the future, h.
       Incomplete idiosyncratic risk sharing is essential to the mechanism. If risk sharing is perfect or if
there is no idiosyncratic risk, σ = 0, the monetary economy behaves exactly like the non-monetary
one (classical dichotomy). During normal times when idiosyncratic risk σ is small, the role of money
is small and can be safely ignored. But it can become very large during periods of high idiosyncratic
risk.

Proposition 3. With money (β > 0) after an increase in idiosyncratic risk σ the real interest rate
r falls less than in the economy without money (β = 0), and investment x̂ falls instead, while the
value of liquidity λ and real money balances m̂ increase with σ.

(Classical Dichotomy) If σ = 0, the real interest rate r and investment x̂ are the same in the
monetary and non-monetary economies, even though λ = β > 0.

       It is tempting to interpret the depressed investment as substitution from risky capital to safe
money as a savings device; i.e., when capital becomes more risky, it is more attractive to invest in
the safe asset. But this is misleading because the economy cannot really invest in money. Goods can
be either consumed or accumulated as capital—money is not a substitute for investment in risky
capital. What money does is improve how the idiosyncratic risk in capital is shared. Agents with
bad shocks use part of their money holdings to buy more capital from those with good shocks.17
As a result of this risk sharing, the economy substitutes along the consumption-investment margin.
To drive home this point, notice that in a model with risky and safe capital (but no money), an
increase in risk will typically reduce risky investment but increase the safe one. Money depresses
all investment, which is an important feature of liquidity traps.18
       It’s worth pointing out that because output is fixed in the very short run by the AK technology,
consumption is negatively correlated with investment in the short run. Over time as the economy
shifts to a BGP with lower investment and growth, the correlation becomes positive. This is not a
model of short-run fluctuations, but rather of persistent slumps. In the short-run nominal rigidities,
segmented markets, or informational frictions can play an important part.
  17
    They are not self-insuring in autarky by holding a less risky form of capital. They are sharing idiosyncratic risk.
  18
    The liquidity trap is essentially about an intertemporal wedge. From the point of view of a frictionless model,
investment is too low.


                                                          12
Superneutrality and the zero lower bound. While the presence of money has very large real
effects, money is still neutral and superneutral. Doubling the amount of money would just double
prices, leaving all real variables unaffected. Demand for money m̂ grows during liquidity traps as
the nominal interest rate i = r + π falls. A central bank that targets inflation must increase the
money supply endogenously to keep prices on path. If it didn’t, prices would fall, but the real
allocation wouldn’t change. The inflation target itself doesn’t affect any real variable except real
money holdings m. It simply does not appear in equations (14), (15), and (8). As a result, the
optimal inflation target is given by the Friedman rule, i = r + π ≈ 0. It maximizes agents’ utility
from money m without affecting any other real variable.
       It is easy to break the superneutrality, but it is a useful theoretical benchmark that highlights
that the liquidity trap does not hinge on violating money neutrality and superneutrality.19 Here
super-neutrality comes from log preferences, which imply a demand elasticity of money of one. Recall
that the value of liquidity is equal to the present value of expenditures on liquidity services m × i.
With log preferences a higher nominal interest rate i reduces real money holdings m proportionally,
so that m × i doesn’t change. As a result, λ is not affected and neither is any real variable.20
       In contrast to New Keynesian models with nominal rigidities, the zero lower bound on the
nominal interest rate, i = r + π ≥ 0, doesn’t really play any essential role in the liquidity trap.
The liquidity trap is a gradual phenomenon, and real effects of money grow as the value of liquidity
rises. While the presence of money creates this lower bound on interest rates, it also raises the
equilibrium interest rate so that the zero lower bound is not binding. As Figure 2 shows, the zero
lower bound is not binding except for very large levels of idiosyncratic risk σ.21 When the zero lower
bound is binding, the central bank is simply unable to deliver the promised inflation target. But
the focus and contribution of this paper is the wide parameter region where the zero lower bound is
not binding, and yet we have a liquidity trap. What’s more, since money is superneutral, changing
the inflation target will always “fix” the zero lower bound problem, but it will have no effects on
the real side of the liquidity trap. In fact, under the optimal monetary policy, i ≈ 0, the zero lower
bound is never a problem.

2.5      Understanding the mechanism
Is the liquidity trap really about money, or is it actually about safe assets? Here I’ll show that it’s
about safe assets with a liquidity premium. Agents can trade risk-free debt, but it doesn’t produce a
liquidity trap. Neither does a diversified (safe) equity index. We can also add safe government debt
and deposits. They only produce a liquidity trap to the extent that they have a liquidity premium.
       To understand the role of the liquidity premium, notice that safe assets without a liquidity
  19
     In the Appendix I solve the model with a) a CES demand structure for money and b) a cash-in-advance constraint.
In both cases inflation targets have real effects because the expenditure share on liquidity services depends on the
nominal interest rate.
  20
     This may seem puzzling at first. How can m fall but λ remain constant? Recall that λ = (m + h)/(k + m + h)
includes not only current real money balances m, but also future money h. As we change the inflation target and i,
m and h move in opposite directions.
  21
     Of course, this depends on the inflation target π. If π is sufficiently negative the ZLB will be binding for all σ.


                                                          13
premium must be backed by payments with the same present value. Agents may hold the safe
assets, but they are also directly or indirectly responsible for the payments backing them. The net
value is zero, so they cannot function as a safe store of value. In contrast, assets with a liquidity
premium have a value greater than the present value of payments backing them. The difference
is the present value of the liquidity premium. This is what makes them a store of value that can
improve idiosyncratic risk sharing. Essentially, agents with a bad shock can sell part of their liquid
assets to agents with a good shock to reduce the volatility of their consumption. And the net value
of these safe liquid assets increases dramatically when the real interest rate becomes very low. This
is the origin of liquidity traps.
       Money, and safe liquid assets more generally, are special because they are both i) safe, and ii)
have positive net value because they have a liquidity premium. This allows them to serve as a store
of value that improves risk sharing and creates a liquidity trap. There are many assets that have
positive net value, such as capital, housing, or land. But the starting point in this paper is that real
investments are risky, and risk sharing is incomplete. For example, an agent can buy a particular
plot of land, whose value has significant idiosyncratic risk that can’t be fully shared. There are
also many safe financial assets, such as AAA corporate debt. But since they don’t have a liquidity
premium, their net value is zero and they don’t produce liquidity traps.
       It’s worth stressing that this is a general equilibrium mechanism. The only reason agents hold
money is because it provides liquidity services. From an agent’s point of view, risk-free bonds are
just as good as a store of value for risk sharing purposes, and they pay interest on top. But agents
can’t all hold risk-free bonds as a safe store of value. Someone must take the other side and issue
risk-free debt. In general equilibrium the real interest rate adjusts to ensure this. Money, and
safe liquid assets, have positive net value, so they can improve idiosyncratic risk sharing in general
equilibruim.

How does money improve risk sharing? To understand how money improves risk sharing,
integrate an individual agent i’s dynamic budget constraint (4) to obtain22
                          ˆ   ∞           ´t
                                                                                       ˆ   ∞        ´t
                                       −
                   E Q̃
                                   e       0    ru du
                                                        (cit + mit it )dt ≤ w0 = k0 +           e−   0    ru du
                                                                                                                  mt it dt          (16)
                           0                                                            0

Here for simplicity I assume every agent owns an equal part of the aggregate endowment of capital
and money. On the left hand side we have the present value of his expenditures on consumption
goods and money services. On the right hand side we have the aggregate wealth in the economy,
k0 +m0 +h0 . The left hand side is evaluated with an equivalent martingale measure Q̃ that captures
                                                 ´t
the market incompleteness; i.e. such that Wit + 0 (αu /σ)du is a martingale. A risky consumption
plan costs less because it can be dynamically supported with risky investment in capital that yields
an excess return α. The endowment of money on the rhs is safe, however.
                                                                                                                   ´
       With perfect risk sharing, σ = 0, we have αt = 0, so market clearing                                            mit di = mt means
  22
    The intertemporal budget constraint (16) is equivalent to the dynamic budget constraint (4) with incomplete risk
sharing if shorting capital kt < 0 is allowed. This is not required in equilibrium of course.


                                                                      14
                                                                          h´      ´t            i
                                                                             ∞
that money drops out of the budget constraint in equilibrium; i.e. EQ̃ 0 e− 0 ru du mit it dt =
´ ∞ − ´ t r du
 0 e           mt it dt. Money is worth more than the payments backing it because it has a liquidity
       0 u

premium (that’s why it appears on the rhs), but agents spend on holding money exactly that
amount, so it cancels out of the budget constraint and has no effects on the equilibrium.
     But if idiosyncratic risk sharing is imperfect, the excess return then is positive, αt > 0. Then even
                                                        ´
if in equilibrium agents must hold all the money, mit di = mt , the present value of expenditures
on money services
            h´    under Q̃ is less  i than the value of the endowment of money services (which is not
         Q̃
                  ´
               ∞ − t ru du              ´ ∞ − ´ t r du
risky), E     0 e          mit it dt < 0 e 0 u mt it dt. As a result, money does not drop out of
                    0

the budget constraint, and they can use the extra value to reduce the risk in their consumption cit .
    To make this clear, agents could choose safe money holdings mit = mt if they wanted, in which
case money would indeed drop out. This corresponds to never trading any money; just holding
their endowment. But they are better off trading their money contingent on the realization of their
idiosyncratic shocks. They get a risky consumption of money services mi , but reduce the risk in
their consumption ci . So an agent with a bad idiosyncratic shock in his risky capital can sell part
of his money to an agent with a good idiosyncratic shock. Both are better off. The agent with a
bad shock gets more consumption and capital than without trading, but less money; the agent with
the good shock less consumption and capital, but more money.

Government debt, deposits, and Ricardian equivalence. Now let’s introduce safe govern-
ment debt and bank-issued deposits. Both may have a liquidity premium.23 The bottom line is
that government debt and deposits only produce a liquidity trap if they have a liquidity premium.
    Let bt be the real value of government debt, and dτ lump-sum taxes. The government’s budget
constraint is24
                                                                                       dMt
                                                 dbt = bt (ibt − π)dt − dτt −
                                                                                        pt
                                                                       dMt
                                                         dmt =             − πmt dt
                                                                        pt
where ibt is the nominal interest rate on government bonds; I allow for the possibility that ibt < it
so that government debt also has a liquidity premium. The government has a no-Ponzi constraint
             ´T
limT →∞ e−   0    rs ds
                          (bT + mT ) = 0. Integrating both equations we obtain
                                  ˆ     ∞        ´s                                         ˆ   ∞        ´s
                     mt + bt =              e−   t    ru du
                                                                  ms is + bs (is − ibs ) ds +         e−   t    ru du
                                                                                                                        dτs   (17)
                                    t                                                         t

The government’s total debt is bt + mt , and it must cover it with the present value of future taxes
plus what it will receive because its liabilities bt and mt provide liquidity services. When agents
hold money, they are effectively paying the government mt it for its liquidity services (the forgone
interest); when they hold government debt they are paying bt (it − ibt ). In particular, if government
  23
     Krishnamurthy and Vissing-Jorgensen (2012) show that US Treasuries have a liquidity or convenience yield over
equally safe private debt.
  24
     In the baseline model without government debt, we have bt = 0 and dτt = dMt /pt .


                                                                         15
debt is as liquid as money, ibt = 0, the only thing that matters is the sum (mt + bt )it .
       There are also banks that can issue deposits dt that pay interest idt < it . Banks are owned by
households. The net worth of a bank is nt and follows the dynamic budget constraint

                                            dnt = nt rt + dt (it − idt )dt − dft

where ft are the cumulative dividend payments to shareholders. The bank earns a profit from the
spread between the interest it pays on deposits idt and the interest rate at which it can invest, it .
Using the transversality condition limT →∞ e−rT nT = 0 we can price the bank at vt :25
                                                        ˆ     ∞         ´s
                                       vt = nt +                   e−   t    ru du
                                                                                     ds (is − ids )ds
                                                          t

The market value of the bank includes its net worth today, plus the present value of profits from
the interest rate spread on deposits, dt (it − idt ).
                                                                                         ´∞        ´s
       Total wealth is wt = (kt − at ) + dt + vt + mt + (bt −                             t   e−   t    ru du
                                                                                                                dτs ), where at is the bank’s
assets. Households own all the capital, money, and government debt (minus the present value
of taxes), except for whatever assets the bank holds. They also hold bank debt (deposits) dt ,
and bank equity vt (so they indirectly own the assets that the bank owns). Since the bank’s
                                                                     ´ ∞ ´s
net worth is nt = at − dt , we have vt + dt − at = vt − nt = t e− t ru du ds (is − ids )ds. And
         ´ ∞ ´s             ´ ∞ ´s
mt + bt − t e− t ru du dτs = t e− t ru du ms is + bs (is − ibs ) ds. So total wealth is
                                                                

                                   ˆ    ∞        ´s                                                     
                      wt = kt +             e−   t    ru du
                                                                  ms is + bs (is − ibs ) + ds (is − ids ) ds                            (18)
                                    t

Total wealth is capital plus the present value of expenditures on liquidity services, which now
include money, liquid government bonds, and deposits (each weighted by its corresponding liquidity
premium). Government debt and deposits therefore only have an effect to the extent that they have
a liquidity premium. Safe government or private debt without a liquidity premium cancels out and
has no effects.
       The corresponding expression for λ is

                                  mt i + bt (i − ib ) + dt (i − id ) 1       ρβ
                             λ=                                        =
                                            r − (x̂ − δ)            wt   r − (x̂ − δ)

where β should be interpreted as the expenditure share on liquidity services across all assets, β =
(mt i + bt (i − ib ) + dt (i − id ))/total expenditure. In the special case without deposits or government
debt we recover expression (11).
       The easiest way to introduce government debt and deposits with a liquidity premium is to put
                ´ ∞ ´s               ´ ∞ ´s                                                      ´ ∞ ´s
  25
    Write nt = t e− ´t ru du dfs − t e− t ru du ds (is − ids )ds + limT →∞ e−rT nT , and use vt = t e− t ru du dfs to
                ´ ∞ − s ru du
obtain vt = nt + t e t        ds (is − ids )ds.




                                                                      16
them into the utility function

                                      (1 − β) log(ct ) + β log(A(m, b, d))

where A(m, b, d) is an homogenous aggregator. Agents will devote a fraction β of expenditures to
the liquid aggregate, β = (mt i + bt (i − ib ) + dt (i − id ))/total expenditures. As a result, we don’t
need to change anything in our baseline model. We just need to reinterpret β as the fraction of
expenditures on liquidity services across all assets.26
       Ricardian equivalence holds in this economy. If government debt doesn’t have a liquidity pre-
mium, changing bt (and adjusting taxes to service this debt) has no effects on the economy. If
government debt has a liquidity premium, then changing bt can have an effect on the liquidity pre-
mium of government debt and perhaps other assets as well. But it will not have any effect on the
real side of the economy.

Proposition 4. (Ricardian Equivalence) With log preferences for liquidity, changes in government
debt bt have no effects on the real interest rate r, investment x̂, or the value of liquidity λ. Changes
in b can only affect the liquidity premiums of different assets.

       To see this, notice that the expenditure share on liquidity services across all assets is a constant,
β, and this is the only way that liquid government debt can affect the economy. For example, if
the liquidity aggregator is Cobb-Douglas, A(m, b, d) = mm bb dd with m + b + d = 1, then the
expenditure share on liquidity services from each asset class is fixed; e.g. bt (i − ib )/expenditures =
b β. Changing bt only affects the liquidity premium on government bonds, but not on deposits or
money.
       As with superneutrality, Ricardian equivalence can be broken here if we move away from the log
utility over liquidity (see Appendix for CES and cash-in-advance formulations). But it’s a useful
theoretical benchmark that shows that the liquidity trap does not hinge on violating Ricardian
equivalence.

Equity markets. But what about equity markets? The starting point in this paper is that
capital is risky, and idiosyncratic risk sharing is incomplete. But if agents can hold a diversified
(safe) market index, can this function as a safe store of value and produce a liquidity trap? Here
I’ll show that while issuing equity improves risk sharing, it does not produce a liquidity trap.
       In the baseline model agents cannot issue any equity. Let’s say instead that they must retain
a fraction φ ∈ (0, 1) of the equity, and can sell the rest to outside investors. Issuing outside equity
improves idiosyncratic risk sharing, of course. Outside investors can fully diversify across all agents’
equity, creating a safe market index worth (1 − φ)kt . If agents could sell all the equity, φ = 0, we
would obtain the first best with perfect risk sharing; with φ > 0 we have incomplete idiosyncratic
risk sharing.
  26
   With it − idt > 0 banks have incentives to supply as much deposits as possible. I’m not providing a theory of
what limits them (perhaps capital requirements), but it doesn’t matter. Regardless of how we fill in the details of
how banks operate, the expenditure share on liquidity services across all assets will be β .


                                                        17
       Since agents can finance an extra unit of capital partly with outside equity, the effective risk of
capital for an agent is φσ. In fact, we can obtain the competitive equilibrium by replacing σ by φσ
in (5)-(9). The dynamic budget constraint is now27

                                 dwt = (rt wt + kt αt − ct − mt it )dt + kt φσdWt

The risk premium is αt = σc (φσ), and the volatility of consumption is σc = kt /(kt +mt +ht )×(φσ) =
                                                                      ρβ
(1 − λ)(φσ). The value of liquidity is given by λ =              ρ−((1−λ)φσ)2
                                                                              .
       But while equity improves risk sharing, it does not produce a liquidity trap. In particular,
without money, β = 0, an increase in idiosyncratic risk σ is fully absorbed by lower real interest
rates r = a − δ − (φσ)2 , but investment remains at the first best x̂ = a − ρ. The reason is that
issuing equity improves risk sharing in a way that affects the marginal risk from an extra unit of
capital and the average risk in agent’s portfolio equally. As a result, it dampens the risk premium
σc φσ = (φσ)2 and the precautionary motives σc2 = (φσ)2 equally, canceling out. And the value of
equity is backed by the firm’s assets, so it’s not a positive net value. The aggregate wealth in the
economy is still given by the right hand side of (16), but the total value of capital is split into inside
and outside equity kt = φkt + (1 − φ)kt .28 In particular, the value of the market index does not
blow up to infinity as r approaches the growth rate x̂ − δ, as the value of liquidity does.29

Cashless limit. The liquidity trap does not hinge on a large expenditure share on liquidity services
β—it survives even in the cashless limit β → 0. As explained in Section 2.2, the value of money
λ is the present value of expenditures on liquidity discounted at the risk-free rate. When the real
interest rate is high relative to the growth rate of the economy, λ is small; close to the expenditure
share on liquidity services β. But when the real interest rate is very close to the growth rate of the
economy, λ can become very large regardless of how small β is. This can be seen very clearly in
equation (11). It’s all about the denominator.
       So if we take the cashless limit, β → 0, the competitive equilibrium will not always converge
to that of the non-monetary economy with β = 0. For σ such that in the non-monetary economy
the real interest rate is above the growth rate, the monetary economy will indeed converge to the
non-monetary one as β → 0. But for σ such that in the non-monetary economy the real interest
rate is equal or below the growth rate of the economy, this cannot happen. As the real interest rate
drops and approaches the growth rate of the economy, the value of liquidity λ blows up to keep r
above x̂ − δ, no matter how small β is. As a result, we get a liquidity trap even in the cashless limit
  27
     Equity can be diversified so its return must be r. In equilibrium agents are holding wt = nt + mt + ht + et where
nt = φkt is the inside equity in their firm that they retain, and et = (1 − φ)kt is the diversified outside equity in
other agents’ firms. Total equity nt + et = kt ; since there are no adjustment costs, Tobin’s q is 1 here. Both inside
and outside equity yield r, but the inside equity has idiosyncratic risk (outside equity also has id. risk but it gets
diversified). Agents therefore also get a wage or bonus as CEO of their firm to compensate them for the undiversified
idiosyncratic risk, kt αt .
  28
     More generally, if firms use debt, kt = nt + et + dt , where nt is inside equity, et is outside equity, and dt is debt.
All the financial claims on firms add up to the value of their assets.
  29
     Total equity is always worth total capital, whose price takes into account its uninsurable idiosyncratic risk. As
σ grows and r drops, insider wages or bonuses αkt increase to compensate for the idiosyncratic risk.


                                                            18
                r                                                            x
         0.10                                                         0.06
         0.05
                                                                      0.04
                                                             σ
                    0.1   0.2   0.3   0.4    0.5    0.6
                                                                      0.02
         0.05

         0.10                                                                                                                σ
                                                                                  0.1   0.2    0.3    0.4    0.5     0.6
         0.15                                                         0.02

             σc                                                           λ
         0.25                                                          1.0

         0.20                                                          0.8

         0.15                                                          0.6

         0.10                                                          0.4

         0.05                                                          0.2

                                                         σ                                                               σ
                    0.1   0.2   0.3   0.4   0.5    0.6                            0.1   0.2   0.3    0.4    0.5    0.6

Figure 3: (Cashless limit) The real interest rate r, investment x̂, idiosyncratic consumption risk σc ,
and value of liquidity λ as function of σ, for β = 5% (dotted green), β = 1.7% (solid blue—baseline
case), β = 0.01% (dotted red), and β = 0 (dashed orange—non-monetary economy). Other param-
eters: a = 1/10, ρ = 4%, π = 2%, δ = 1%.


β → 0, with high interests rates and depressed investment relative to the non-monetary economy.
Figure 3 shows the convergence to the cashless limit.
                                √
Proposition 5. If σ <   ρ then as β → 0 the competitive equilibrium converges to that of a non-
                                       √
monetary economy with β = 0. But if σ ≥ ρ the liquidity trap survives even in the cashless limit
β → 0. The real interest rate is high and investment low relative to the non-monetary economy with
β = 0.

   It is important to make sure we are not violating any Ponzi conditions. Proposition 1 ensures
that σc2 = ((1 − λ)σ)2 < ρ for all σ and any β > 0, so the Euler equation (5) guarantees that
r > x̂ − δ . But what happens if β = 0? Then the only value of λ that satisfies the No-Ponzi
                           √
condition is λ = 0. If σ ≥ ρ the limit of the monetary equilibrium as β → 0 would be an
equilibrium of the non-monetary economy with β = 0 except for the No-Ponzi conditions. In other
words, the monetary economy, which cannot have bubbles, converges to a bubbly equilibrium of the
non-monetary economy. I will discuss the link with bubbles in detail in Section 5.

Alternative specifications of money demand: CES and cash-in-advance. The cashless
limit also shows that the liquidity trap does not hinge on log preferences with a constant expen-
diture share on liquidity services β. In the Appendix I solve the model with CES preferences and
demand elasticity of money η < 1, and with a cash-in-advance constraint. In both cases, the only

                                                                 19
modification is that the expenditure share on liquidity services β̃(i) becomes a function of the nom-
inal interest rate, with β̃(i) → 0 as i → 0. I show that the liquidity trap survives in these settings.
Even if we lower the inflation target to reduce the nominal interest rate i → 0, the liquidity trap
survives, essentially for the same reason as in the cashless limit.30

An analogy with a safe tree. The main assumption in this paper is that real investments are
risky and this risk cannot be fully shared. But to understand the role of money as a store of value, it
is useful to study what would happen if there was a safe tree. There are similarities and differences
with how money works in the model.
       Let’s introduce an infinitely-lived safe tree as close as possible to money. Suppose the economy
has a tree that produces a safe flow of fruit (apples), that enters the utility function analogously to
money,                                ˆ    ∞                                            
                                                    −ρt
                                  E             e         ((1 − β) log ct + β log at ) dt
                                        0

where ct represents the consumption goods produced by (risky) capital, and at represents apples
produced by the tree. The tree cannot be produced and apples cannot be used to produce capital.
The tree does not enter the resource constraint for goods in any way, just like money.
       Households will devote a fraction β of their expenditures to apples, pat at , and the value of the
tree will be                                              ˆ    ∞        ´s
                                            qt =                   e−   t    ru du
                                                                                     pas as ds
                                                           t

This is analogous to expression (10) for the value of money. Total wealth in the economy will
therefore be wt = kt + qt . In a BGP, the value of the tree qt grows at the same rate as capital, and31

                                                      qt       ρβ
                                                         =
                                                      wt   r − (x̂ − δ)

which is analogous to expression (11) for λ.
       Idiosyncratic risk in consumption will be σc = (1 − λ)σ, so the model will behave exactly like
the baseline model with money. The safe tree has positive net value, so it will improve risk sharing
and depress investment in risky capital x̂. And its value goes up during downturns when σ goes up,
so we will have an “apple trap” where the real interest rate r does not fall enough and investment
x̂ in risky capital is depressed, relative to the economy without an apple tree.
       But there are two issues with this analogy. First, the price of the safe apple tree would go up.
If the safe tree can be produced, investment in the tree will go up. Instead of a liquidity trap where
all investment is depressed, we would get a reallocation of investment from risky capital to the safe
tree—from risky to safe capital. An important feature of liquidity traps is that all real investment
is depressed (or the value of all real assets if they are in fixed supply); the only thing that goes up
  30                                                                                      √
      In the CIA case we can actually set i = 0, but doing this requires r = x̂ − δ if σ > ρ, so we get a bubble. This
is not surprising, since as β → 0 the monetary economy approaches the non-monetary economy with a bubble. See
the Appendix for details, and
                            ´ ∞ Section 5 for a discussion of the
                                                              ´ ∞ link with bubbles.
   31
      Write qt /wt = (1/wt ) t e−r(s−t) ρβws ds = (ρβwt /wt ) t e−r(s−t) e(x̂−δ)(s−t) ds.


                                                                    20
in value is liquidity, which is not a real asset. So safe capital wouldn’t produce a liquidity trap with
depressed investment overall, but rather a sectoral reallocation from risky to safe capital.
    The bigger point is that there is no such thing as safe real investment. This is the starting point
of this paper. Most real investments—capital, land, housing—are indeed very risky.32 A possible
exception is something like gold, which is safe and easy to store. And in fact, the value of gold did
increase during liquidity traps such as the Great Depression. In the past gold was used as money
so its value contained a liquidity premium, and it may have played an important role.33 Nowadays
the value of gold is relatively small and can largely be ignored.


3     Efficiency
In this Section I study the efficiency properties of the monetary competitive equilibrium. Money
provides a safe store of value that prevents the real interest rate from falling and depresses invest-
ment. This is costly because we get low investment, but in exchange we get better idiosyncratic
risk sharing. Is the competitive equilibrium getting this tradeoff right?
    I first micro-found the reduced-form incomplete risk sharing constraint with a moral hazard
problem with hidden trade, so that the competitive equilibrium studied in Section 2 would be
the result of allowing agents to write privately optimal contracts. I then characterize the optimal
allocation in this environment.
    The takeaway is that the monetary competitive equilibrium is inefficient. When idiosyncratic
risk σ is low (good times), there is too little risk sharing and investment is too high. But when
idiosyncratic risk is high, there is too much risk sharing and investment is too low. Ultimately, the
inefficiency comes from the presence of hidden trade in the environment. But implementing the
optimal allocation does not involve monetary policy (recall that changing inflation targets has no
real effects). The optimal allocation can be implemented with a tax or subsidy to capital, which
internalizes the externality.

3.1    Setting
I provide the micro-foundations for the reduced-form incomplete idiosyncratic risk sharing assumed
in the baseline model in a setting with moral hazard and hidden trade.34 See the Online Appendix
for technical details.
    Agents can write complete, long-term contracts with full commitment. A contract C = (c, m, k)
specifies how much the agent should consume ct , hold money mt , and capital kt , as functions of his
                                               ´t
report of his own idiosyncratic shock Yt = Wt − 0 sσu du. The problem is that the shock Wt itself is
not observable, so the agent can misreport at rate st . If the principal sees low returns reported, he
doesn’t know if the true returns were low or the agent was misreporting.
 32
    It’s not crucial for the argument here that there be literally no safe real investments, just that in practice the
main source of safe positive net value is liquidity.
 33
    See Bemanke and James (1991) and Eichengreen and Sachs (1985).
 34
    The environment is based on Di Tella and Sannikov (2016).


                                                         21
       Misreporting allows the agent to divert returns to a private account. Importantly, the agent
doesn’t have to immediately consume what he steals. He has access to hidden trade that allows
him to choose his actual consumption c̃, money m̃, and capital k̃. His hidden savings n satisfy a
dynamic budget constraint

               dnt = (nt rt + ct − c̃t + (mt − m̃t )it + (k̃t − kt )αt + kt st )dt + (k̃t − kt )σdWt                 (19)

with solvency constraint nt ≥ nt , where nt is the natural debt limit.35 It is without loss of gener-
ality to implement no stealing and hidden trades in the optimal contract. A contract is incentive
compatible if
                                 (c, m, k, 0) ∈ arg max U (c̃, m̃) st :                       (19)                   (20)
                                                                (c̃,m̃,k̃,s)

An incentive compatible contract is optimal if it minimizes the cost of delivering utility to the agent:
                                            ˆ   ∞                                       
                                                         −rt
                J(u0 ) =     min        E            e         (ct + mt it − kt αt )dt       st :    U (c, m) ≥ u0   (21)
                           (c,m,k)∈IC        0

In general this could be a difficult problem to solve, because the hidden trade gives the agent a
very rich set of deviations. However, in this case the optimal contract can be characterized in a
straightforward way, as the solution to the portfolio problem in Section 2. We say that contract
(c, m, k) solves the portfolio problem for some w0 > 0 if it maximizes U (c, m) subject to the dynamic
budget constraint (4).

Proposition 6. Let (c, m, k) be an optimal contract for initial utility u0 , with cost J(u0 ). Then
(c, m, k) solves the portfolio problem for w0 = J(u0 ).
       Conversely, let (c, m, k) solve the portfolio problem for some w0 > 0. If in addition limt→∞ E[e−rt wt ] =
0,36 then (c, m, k) is an optimal contract for initial utility u0 with J(u0 ) = w0 .

Proof. See Online Appendix.

       Proposition 6 means that the competitive equilibrium characterized in Section 2 can also be
interpreted as the outcome of allowing agents to write privately optimal contracts in this environ-
ment. The intuition is easy to grasp. The principal can consume, save, and invest on his own, so the
principal essentially has no tools he can use to discipline the agent, and can only give him risk-free
debt. Under those conditions, the optimal contract is implemented by letting the agent choose his
consumption-portfolio plan on his own. This also ensures global incentive compatibility.
                                                h´      ´u                                    i
                                                   ∞
  35
     The natural debt limit is nt = maxs EQ̃ t e− t (cu (Y s ) + mu (Y s )iu + ku (Y s )su )du . This is the maximum
amount the agent can pay back for sure. See Online Appendix for details.
  36
     This condition will always be satisfied in equilibrium.




                                                                       22
       To understand this environment, write the local incentive compatibility constraints.37

                           σct = ρ(1 − β)c−1
                                          t kt σ                              "skin in the game"                        (22)
                                              2
                           µct = rt − ρ +    σct                                   Euler equation                       (23)
                            αt = σct σ                                        demand for capital                        (24)
                       mt /ct = β/(1 − β)i−1
                                          t                                   demand for money                          (25)

The “skin in the game” constraint (22) says that the agent must be exposed to his own idiosyncratic
risk to align incentives. The agent could always misreport a lower return and consume those funds,
so incentive compatibility requires that the present value of his consumption goes down by kt σ after
bad reported outcomes Yt . The skin in the game constraint is expressed in terms of the volatility of
his consumption σct . If he steals a dollar, he won’t consume the dollar right away; he will consume
it only at rate ρ(1 − β).38 So his consumption must be exposed to his idiosyncratic shock as in (22).
This is costly, of course. In the first best we would have perfect idiosyncratic risk sharing, σct = 0,
but we need to expose the agent to risk to align incentives.
       The other IC constraints (23), (24), and (25) come from the agent’s ability to save at the risk-
free rate, secretly invest in capital, and choose his money holdings, respectively. Ultimately they
arise from agents’ ability to secretly trade amongst themselves. These constraints are binding. The
principal would like to front-load the agent’s consumption to relax the idiosyncratic risk sharing
problem, as can be seen in (22). By distorting the intertemporal consumption margin he can relax
the risk sharing one. But the agent has access to hidden savings, so the principal must respect
his Euler equation. Even then, if the agent couldn’t secretly invest in capital or choose his money
holdings, the principal could use this to provide better incentives. In particular, he would like
to promise less capital and risk in the future and after bad outcomes. This relaxes the agent’s
precautionary motive and makes it cheaper for the principal to provide incentives. But he cannot
do this because the agent can secretly invest in capital on his own. The same intuition goes for his
money holdings.
       The tradeoff between intertemporal consumption smoothing and idiosyncratic risk sharing cap-
tured in the skin in the game constraint (22) is central to the liquidity trap. First, we’d like to see
how this constraint manifests in the competitive equilibrium. Write σct = (1 − λ)σ = (kt /wt )σ;
using ct = ρ(1 − β)wt , we obtain equation (22). Now, when the value of liquidity λ goes up and im-
proves risk sharing, it is moving the equilibrium along this IC constraint.39 In equilibrium this must
be consistent with individual optimization, captured by the risk premium and the precautionary
  37
     The competitive equilibrium and the planner’s allocation will be BGPs, but it is important to allow for time-
varying allocations and prices.
  38
     An equivalent derivation: the agent’s continuation  utility if he doesn’t misbehave, Ut , follows a promise-keeping
constraint dUt = ρUt − β log(ct ) + (1 − β) log(mt ) dt + σU t dWt . If he misreports he can immediately consume
what he stole (he is indifferent at the margin) and obtain utility (1−β)c−1 t kt , so incentive compatibility requires σU t =
(1 − β)c−1t k t σ. Because the agent  can secretly save and  invest,  his continuation   utility must be Ut = A + ρ1 log(ct ),
so we get σct = ρσU t .
  39
     It’s not the β that improves risk sharing; it is fixed as σ goes up, and the liquidity trap survives in the cashless
limit with β → 0. It’s the distortions in the intertemporal consumption smoothing margin.


                                                             23
motive. As we’ll see, the planner will choose a different point on this IC constraint.
       All these conditions are only necessary, and are derived from considering local, single deviations
by the agent. Establishing global incentive compatibility is difficult in general, but in this envi-
ronment it’s straightforward. Because the optimal contract coincides with the optimal portfolio
problem where the agent essentially does what he wants, global incentive compatibility is ensured.

3.2      Planner’s problem
The planner faces the same environment with moral hazard and hidden trade.40 An allocation
is a plan for each agent (ci , mi , ki ) and aggregate consumption c, investment x, and capital k
                                                  ´1                 ´1
satisfying the resource constraints (1), (2), ct = 0 ci,t di and kt = 0 ki,t di. An allocation is incentive
compatible if there exist processes for real interest rate r, nominal interest rate i, and idiosyncratic
risk premium α, such that (20) holds for each agent. An incentive compatible allocation is optimal
if there is no other incentive compatible allocation that weakly improves all agents’ utility and at
least one strictly so.
       The local IC constraints are necessary for an incentive compatible allocation. But the thing
to notice is that constraints (23), (24), and (25) involve prices that the planner doesn’t take as
given. What these constraints really say is that all agents must be treated the same, or else they
would engage in hidden trades amongst themselves. This is why the planner can improve over the
competitive equilibrium. For example, the planner realizes that he can change the growth rate of all
agents’ consumption at the same time, without creating any incentives to engage in hidden trades.
So all agents get the same µc , σc , m/c, and k/c, and only differ in the scale of their contract,
corresponding to how much initial utility they get. The only true constraint for the planner is the
skin in the game constraint (22), which can be re-written using the resource constraints as

                                                                   ρ(1 − β)
                                                            σc =            σ                                                   (26)
                                                                    a − x̂t

The planner’s problem then boils down to choosing the aggregate consumption c, investment x,
and real money balances m to maximize the utility of all agents. Using the aggregate resource
constraints (1) and (2), and the incentive compatibility constraints, we can write the planner’s
objective function                   ˆ    ∞                                                   
                                                   −ρt
                                 E             e         ((1 − β) log(ci,t ) + β log(mi,t )) dt
                                       0
                    "ˆ                                                                                        2
                                                                                                             σct
                                                                                                                   !        #
                          ∞
                                                                                    βi−1         x̂t − δ −
                                                                                          
               =E             e−ρt   log(k0 ) + log(a − x̂t ) + β log                 t
                                                                                               +              2
                                                                                                                       dt       (27)
                      0                                                             1−β                ρ

The planner’s problem then is to choose a process for x̂ and i to maximize (27) subject to (26).
  40
    It is natural to wonder if the planner could simply refuse to enforce debt contracts in order to eliminate hidden
trade. Here I’m assuming the hidden trade is a feature of the environment that the planner cannot change; e.g.
agents may have a private way of enforcing debt contracts. As we’ll see, the hidden trade constraints are already not
binding for the planner, so he wouldn’t gain anything from doing this. And we wouldn’t learn a lot from pointing
out that the planner could do better if he can change the environment.


                                                                    24
    First, it is optimal to set i ≈ 0 (Friedman rule).41 This maximizes the utility from money, and
costs nothing. Second, the FOC for x̂t is

                                       1     1        ρ(1 − β)σ 2 1
                                         =         +(           )                                                 (28)
                                       ρ   a − x̂t      a − x̂t   a − x̂t

                                               =⇒ x̂ = a − ρ −σc2                                                 (29)
                                                       | {z }
                                                          first best
                           ρ(1−β)σ
where recall that σc =       a−x̂ .   The lhs in (28) captures the benefit of having more capital forever.
The rhs captures the cost of increasing investment. The first term is the utility loss from reducing
consumption. The second term captures the loss from worse idiosyncratic risk sharing. A more
backloaded consumption path makes fund diversion more attractive, and therefore tightens the IC
constraint (22). If we didn’t have this second term (if we had complete risk sharing), then we
would obtain x̂ = a − ρ, the first best investment. But the planner realizes that he can improve
risk sharing if he is willing to distort the intertemporal consumption margin. Private contracts
also realize this, but they are constrained by agents’ access to hidden trade. They must respect
agents’ Euler equation (23) and demand for capital (24) taking r and α as given; the planner can
distort all the agents’ consumption path and improve idiosyncratic risk sharing. This is the source
of inefficiency in this economy, ultimately arising from hidden trade.42
    The planner reduces investment x̂ to improve idiosyncratic risk sharing σc . This tradeoff is
more attractive when idiosyncratic risk σ is higher. So investment x̂ falls with σ, but idiosyncratic
consumption risk σc goes up less than proportionally to σ. In the background, the real interest rate
r falls with σ.

Proposition 7. In the planner’s optimal allocation, an increase in idiosyncratic risk σ depresses
investment x̂ and the real interest rate r, and increases idiosyncratic consumption risk σc , but less
than proportionally, i.e. σc /σ falls. When σ = 0 we have the first best investment and risk sharing,
with σc = 0, x̂ = a − ρ, and r = a − δ.

3.3    Competitive equilibrium vs. planner’s allocation
Money provides a safe store of value that improves risk sharing but depresses investment. This is the
same tradeoff that the planner considers, but the competitive equilibrium doesn’t do it efficiently.
When idiosyncratic risk σ is low, money provides too little insurance and investment x̂ is too high;
when idiosyncratic risk is large, money provides too much insurance and investment is too low.
  41
     Because of the log preferences we can’t set i = 0 because we would get infinite utility. But i = 0 is optimal in a
limiting sense.
  42
     See Kehoe and Levine (1993) and Farhi et al. (2009). Di Tella (2016) has a similar contractual setting with hidden
trade but without hidden savings. Instead, there is an endogenous price of capital. There is an externality because
the private benefit of the hidden action depends on the value of assets. This is absent here because the equilibrium
price of capital is always one. But the externality here, produced by hidden intertemporal trade, is absent from that
paper.




                                                          25
                 r                                                                 x
          0.10                                                              0.06
          0.05
                                                                            0.04
                                                                   σ
                        0.1   0.2   0.3   0.4      0.5    0.6
                                                                            0.02
          0.05

          0.10                                                                                                                    σ
                                                                                        0.1   0.2   0.3    0.4    0.5    0.6
          0.15                                                              0.02

              σc                                                               U
          0.25
                                                                             50
          0.20

          0.15                                                               60

          0.10                                                               70
          0.05
                                                                             80
                                                               σ                                                              σ
                        0.1   0.2   0.3   0.4   0.5      0.6                            0.1   0.2   0.3   0.4    0.5    0.6

Figure 4: Interest rate r, investment x̂, idiosyncratic risk σc , and utility from consumption in
the non-monetary economy (dashed orange), monetary competitive equilibrium (solid blue), and
the social planner’s allocation (dotted green). Parameters: a = 1/10, ρ = 4%, π = 2%, δ = 1%,
β = 1.7%


       Figure 4 compares the competitive equilibrium and the planner’s allocation.43 Investment x̂
and consumption risk σc in the planner’s allocation are below the competitive equilibrium for low
σ, and above for high σ. The planner allocation always delivers more utility than the competitive
equilibrium. First, because it implements the Friedman rule and gives agents large real balances
m. But it also improves the utility derived from consumption. Figure 4 also shows the behavior of
the equilibrium interest rate r in the competitive equilibrium and the planner’s allocation. Perhaps
surprisingly, the real interest rate is very close in both allocations (and higher than in the non-
monetary economy). There are two conflicting forces. Lower investment x̂ lowers the growth rate
of consumption and therefore r; but lower idiosyncratic risk σc dampens the precautionary saving
motive, raising r.
       To understand why the competitive equilibrium is inefficient, we can compare the planner’s FOC
for x̂, given by (29), with investment in the competitive equilibrium

                     x̂ = a − ρ − σ 2 × (σc /σ)2                                                     Social Planner                   (30)
                                    2
                     x̂ = a − ρ − σ × (σc /σ) × (1 − σc /σ)                              Competitive Equilibrium                      (31)
  43
   I also include the non-monetary equilibrium as a reference, but they are different environments so we can’t really
compare welfare between the monetary and non-monetary economies.




                                                                       26
Both share the same expression for incentive compatibility

                                                           ρ(1 − β)
                                                 σc /σ =                                                          (32)
                                                            a − x̂

which pins down the set of x̂ and σc /σ that are incentive compatible. But the planner and the
competitive equilibrium disagree on which (x̂, σc /σ) pair to pick. For a fixed σ, we can interpret
(30) and (31) as the desired investment x̂ for a given σc ; the intersection with (32) gives the planner
solution or the competitive equilibrium, respectively. Figure 5 captures the situation. For the
planner, reducing investment below the first best is a way of improving idiosyncratic risk sharing,
so the bigger σc is the more he will want to reduce investment. But in the competitive equilibrium
it’s all about the difference between the precautionary motive σc × σc and the risk premium σc × σ,
which is non-monotonic in σc .44
    At σc = 0 the precautionary motive and the risk premium are equal and cancel each other out, so
investment wouldn’t be depressed in the competitive equilibrium, and the planner agrees with this.
If we increase σc the precautionary motive falls behind the risk premium, so investment would fall
in the competitive equilibrium, and it would do so by more than in the planner’s solution because
σ > σc initially. However, after σc > 12 σ, the difference between the precautionary motive and the
risk premium starts to shrink. In fact, we know that if σc = σ the two would be exactly the same
and we would be back to the first best investment. So investment in the competitive equilibrium as
a response to σc is non-monotonic. For the planner, meanwhile, higher σc always increases his desire
to reduce investment. The planner and the competitive equilibrium only agree on x̂ as a response
to σc when σc = 0 or σc = 21 σ. For σc /σ ∈ (0, 1/2) the planner wants more investment and less risk
sharing than the competitive equilibrium; for σc /σ ∈ (1/2, 1 − β) the planner wants less investment
and more risk sharing than the competitive equilibrium.
    Of course, σc is endogenous, given by the intersection of (32) with (30) and (31) respectively.
Money improves risk sharing and dampens the precautionary motive relative to the risk premium,
reducing investment below the first best. Whether investment in the competitive equilibrium is too
high or too low depends on how much risk sharing money provides in equilibrium. If β ≥ 1/2 the
value of liquidity is very large, so there is too much risk sharing and too little investment in the
competitive equilibrium for any σ. For the quantitatively relevant case with β < 1/2, the value of
liquidity is too small for low σ, so there is too little risk sharing and too much investment. But for
high σ the value of liquidity is too large, so there is too much risk sharing and too little investment.

Proposition 8. If β ∈ (0, 1/2), there is a σ ∗ = 2 ρ(1 − 2β) > 0 such that for σ ∈ (0, σ ∗ ) invest-
                                                      p

ment and consumption risk are too high in the competitive equilibrium, compared to the planner’s
allocation; that is, x̂CE > x̂SP and σcCE > σcSP . For σ > σ ∗ investment and consumption risk
  44
     One may wonder how Figure 5 captures the situation if β = 0. In that case the IC curve shifts down so that it
touches x̂ = a − ρ at σc /σ = 1 (in general it touches a − ρ at 1 − β). This is of course the non-monetary equilibrium.
There may also be another intersection between x̂CE and the IC curve for σc /σ < 1, but this violates the No-Ponzi
conditions. It corresponds to a bubble equilibrium of the non-monetary economy. See Section 5 on bubbles and the
discussion on the cashless limit in Section 2.4.



                                                           27
               x
                                                                          a-ρ


        0.05
                                              CE
                          CE


                                                                                              SP

                                                                                                           σc σ
                             0.2              0.4                0.6               0.8               1.0




                                                                                               1-β
       -0.05
                                                                              SP
                                   IC




       -0.10

Figure 5: Thick black line is the locus of IC (x̂, σc ). The blue line is the x̂ in the CE as a function
of σc /σ corresponding to (31), the green line for the SP corresponding to (30). Solid is for σ = 0.2,
dotted for σ = 0.5. Parameters: a = 1/10, ρ = 4%, π = 2%, δ = 1%, β = 1.7%


are too low in the competitive equilibrium; that is, x̂CE < x̂SP and σcCE < σC
                                                                             SP . If β ∈ [1/2, 1)

investment and consumption risk are too low in the competitive equilibrium for any σ > 0.

3.4     Implementation of the optimal allocation
We can implement the social planner’s optimal allocation as a competitive equilibrium with a tax
on capital income τ k , rebated lump-sum to agents (in addition to the Friedman rule, i ≈ 0).45
Total wealth now includes not only money, but also the lump-sum rebates wt = kt + mt + ht +
´ ∞ −rs k
 t e   τs ks ds. The only equilibrium condition that changes is the asset pricing equation for capital
(6) which becomes
                                                   k
                                             |a − τ {z
                                                     − δ − r} = σc σ                                              (33)
                                                     α

The competitive equilibrium still has an Euler equation r = ρ + (x̂ − δ) − σc2 , and idiosyncratic risk
sharing is given by46

                                                         ρ(1 − β)
                                                σc =              σ                                               (34)
                                                          a − x̂
  45
     This is consistent with the hidden trade in the environment. The planner is taxing or subsidizing all capital,
regardless of who holds it.
  46                                                                                          kt
     This comes from the IC constraint (22). Alternatively, use ct = ρ(1 − β)wt and σc = σw = wt
                                                                                                 σ = ρ(1−β)
                                                                                                        ct
                                                                                                            kt σ =
ρ(1−β)
 a−x̂
       σ.




                                                          28
Putting together the pricing equation for capital and the Euler equation, we obtain equilibrium
investment
                                               x̂ = a − ρ − τ k + σc2 − σc σ

Taxing capital τ k > 0 produces less investment.
                                                                                    ρ(1−β)
         Recall that the planner’s solution has x̂ = a − ρ − σc2 , and σc =          a−x̂ σ. So the wedge between
the planner’s condition and the competitive equilibrium is given                  by τ k − 2σc2 + σc σ. If we set the
tax on capital
                                                      τ k = 2σc2 − σc σ                                                 (35)

we internalize the externality produced by hidden trade. This allows us to implement the planner’s
allocation as a competitive equilibrium, provided that the required real interest rate is not too low.
Of course, we also need to choose the inflation target to deliver the Friedman rule i = r + π ≈ 0.
         A Balanced Growth Path Equilibrium with tax τ k and inflation π is an interest rate r, investment
x̂, and real money m̂ such satisfying the Euler equation (5), the asset pricing equation (33), risk
sharing equation (34), and money demand equation (9), as well as i = r + π > 0 and r > x̂ − δ.

Proposition 9. Let x̂ be investment in the planner’s allocation, with associated idiosyncratic con-
                                                                                                           β a−x̂
sumption risk σc . If r = ρ + x̂ − δ − σc2 > x̂ − δ, and r + π > 0, then r, x̂, and m̂ =                  1−β r+π   are a
BGP equilibrium with tax            τk   given by (35) and inflation π. The optimal inflation target π satisfies
i = r + π ≈ 0 (Friedman rule).

         Notice that r > x̂ − δ also ensures that the privately optimal contract that takes prices r, α, and
i as given can be implemented as the consumption-portfolio problem from Section 2.47 We
                                                                                      √
                                                                                        know
                                                                                                               2 ρ
that r − (x̂ − δ) = ρ − σc2 falls with σ from Proposition 7, so there is a maximum σ̄ =                        1−β such
that the optimal allocation can be implemented as a competitive equilibrium with a tax                         τ k for all
σ ∈ [0, σ̄).
         When idiosyncratic risk σ is low, the competitive equilibrium has too much investment and too
little risk sharing. The optimal allocation requires a tax on capital τ k > 0. But when idiosyncratic
risk σ is high, the competitive equilibrium has too little investment, and too much risk sharing. The
optimal allocation requires a subsidy to capital τ k < 0.

Proposition 10. √The optimal allocation can be implemented as a BGP with tax τ k for all σ ∈
                   2 ρ
[0, σ̄), with σ̄ = 1−β . If β < 12 , there is a σ ∗ = 2 ρ(1 − 2β) ∈ (0, σ̄] such that for σ ≤ σ ∗ the
                                                       p

implementation of the optimal allocation requires τ k ≥ 0, and for σ ∗ < σ < σ̄ it requires a τ k < 0.
If β ≥ 21 , we have τ k ≤ 0 for all σ ∈ [0, σ̄).


4         Dynamic model with risk shocks
In this Section I incorporate aggregate risk shocks that increase idiosyncratic risk σt . I also add
TFP shocks that affect the level of effective capital. This dynamic extension allows me to obtain
    47
         Of course, it we add aggregate risk the real interest rate can be lower that the growth rate of the economy.


                                                              29
a general formula for the value of liquidity λ, that highlights the role of the stochastic discount
rate—the asset pricing of liquidity plays a prominent role. A deep liquidity trap must be persistent,
at least in risk-adjusted expectations. It also clarifies the role of idiosyncratic and aggregate risk.
What matters about money is that it improves idiosyncratic risk sharing; aggregate risk sharing is
complete.

4.1    Setting
The “capital quality” shock for an agent is now

                                        ∆ki,t = σt ki,t dWi,t + σ̃ T F P dZtT F P                                  (36)

where Z T F P is an aggregate TFP shock. Aggregate TFP risk σ̃ T F P is constant, but idiosyncratic
risk σt follows an autoregressive process

                                                                   √
                                        dσt = φ(σ̄ − σt )dt +          σt νdZtRS                                   (37)

where Z RS is another aggregate shock that raises idiosyncratic risk. For theoretical clarity, assume
that Z RS and Z T F P are independent.
    Idiosyncratic shocks wash away in the aggregate, so the aggregate capital stock follows

                                  dkt = (gkt + xt − δkt )dt + kt σ̃ T F P dZtT F P                                 (38)

where g is the exogenous growth rate of TFP. Markets are complete for aggregate risk, with en-
dogenous price θtT F P and θtRS for Z T F P and Z RS respectively. Let Q be the equivalent martingale
measure associated with these prices.
    As in the baseline model, the government prints money and distributes it lump-sum to agents
in order to hit the inflation target. Because we know that the inflation target itself has no real
effects (besides real money holdings) we can allow the inflation target πt to depend on the whole
history of aggregate shocks Z T F P and Z RS . For example, it may follow the Friedman rule such that
it = rt + πt ≈ 0. To achieve its inflation target, the government must be ready to introduce or take
out money in response to aggregate shocks to accommodate demand for money so that nominal
prices grow at rate πt :48

                             dMt                TFP    TFP     RS     RS
                                  = µM t dt + σ̃M t dZ̃t   + σ̃M t dZ̃t
                              Mt
                                                                h´        ´          i
                                                                     ∞ − s ru du dMs
Let ht be the present value of future money transfers: ht = EQt     t   e   t
                                                                                  ps . Total wealth is

   48
      Here while the inflation rate πt can be stochastic, the price level is locally deterministic (no volatility). This
simplifies things so that, for example, i = r + π holds in equilibrium (otherwise we would need to take a risk-premium
for nominal bonds into account). But since money is neutral, we could also allow for volatility in the price level
without changing the main results. What matters about money is that it does not have idiosyncratic risk; aggregate
risk sharing is already complete.


                                                           30
wt = kt + mt + ht .
    Just as in the baseline model, the value of liquidity plays a central role. But instead of working
              mt +ht
with λt =   kt +mt +ht   , it is easier to work with ψt = m̂t + ĥt , with law of motion

                                                      dψt = µψt dt + σ̃ψRS dZ̃tRS                             (39)

ψt is not exposed to TFP shocks because the economy is scale invariant to effective capital kt . Total
                                                                        ψt
wealth is wt = kt (1 + ψt ), and we can recover λt =                   1+ψt .
    With this definition of ψ, the competitive equilibrium is a process for the real interest rate r
and price of risk θT F P and θRS , investment x̂, and real money holdings m̂, all contingent on the
history of shocks Z T F P and Z RS and satisfying the equilibrium conditions:


                                                     2       TFP 2     RS 2
          rt = ρ + (x̂t + g − δ) + µψt /(1 + ψt ) − σct − (σ̃ct ) − (σ̃ct )                       Euler       (40)
          rt = a + g − δ − σct σt − θtT F P σ̃ T F P                                    Asset Pricing         (41)
         σc = σt /(1 + ψt )                                                                    Id. risk       (42)
     σ̃cT F P = θtT F P = σ̃ T F P                                                           TFP risk         (43)
         RS
       σ̃ct = θtRS = σ̃ψt
                       RS
                          /(1 + ψt )                                                           RS risk        (44)
         m̂t = β/(1 − β) × (a − x̂t )/(rt + πt )                                                Money         (45)
                           h       ´t             i
                               −        ru du
as well as limt→∞     EQ       e   0            wt = 0 and it = rt + πt > 0.
                                                                2 , for aggregate TFP risk (σ̃ T F P )2 ,
    There is now a precautionary motive for idiosyncratic risk σct                            ct
                                 RS )2 . In addition, the growth rate of consumption in the Euler
and for aggregate risk shocks (σ̃ct
equation µct = x̂t + g − δ + µψt /(1 + ψt ) comes from writing ct = ρ(1 − β)wt and wt = kt (1 + ψt ), and
computing the drift of ct . Likewise, capital pays a risk premium for its idiosyncratic risk σct σt and for
aggregate TFP risk θtT F P σ̃ T F P = (σ̃ T F P )2 (its return is not correlated with aggregate risk shocks, so
                                                                                                              σ
there’s no risk premium for that). Idiosyncratic risk sharing is still given by σct = (1 − λt )σ =           1+ψt .
Money provides a safe store of value that improves idiosyncratic risk sharing. But aggregate shocks
cannot be shared. Since the economy is scale invariant to effective capital, TFP shocks don’t affect
                                    T F P = σ̃ T F P . In contrast, risk shocks don’t affect the level of effective
x̂t = xt /kt or ĉt = ct /kt , so σ̃ct
capital, but can affect the value of liquidity and therefore x̂t and ĉt . So the price of the aggregate
risk shock θtRS = σ̃ct
                    RS is endogenous and depends on how the shock affects ψ . Equation (44) comes
                                                                           t
from writing ct = ρ(1 − β)wt and wt = kt (1 + ψt ) and computing the exposure of consumption to
aggregate risk shocks.
    If we know the behavior of ψt we can then obtain every other equilibrium object from (40)-(45).
In contrast to the baseline model, the value of liquidity is not a constant. It will be characterized
by an ODE. Reasoning as before, the value of money is equal to the present value of expenditures
on liquidity services.



                                                                  31
Proposition 11. The equilibrium value of money satisfies
                                                          ˆ    ∞            ´s
                                                                                                     
                                       mt + ht =     EQ
                                                      t              e   −   t    ru du
                                                                                          ms is ds                      (46)
                                                            t

       From this it is easy to obtain a BSDE for ψt

                         m̂t it + µψt + ψt (x̂t + g − δ − rt ) = θtT F P σ̃ T F P ψt + θtRS σ̃ψt
                                                                                              RS
                                                                                                                        (47)
                                       h ´T             i
and transversality condition limT →∞ EQ e− 0 ru du kT ψT = 0.
       It is worth noting that because of the log preferences, dynamics only matter through the value
of liquidity ψ. Without money we have ψt = 0, and the competitive equilibrium does not depend
on the stochastic process for σt , as can be seen from inspecting equations (40)-(45) (only on the
current σt ). For any given value of σt the competitive equilibrium without money is the same as
in the static economy with a constant σ = σt . With money, the only reason this is not the case
is because ψt is forward-looking, as shown in equation (46). As we will see below, the planner’s
optimal allocation for a given value of σt also coincides with the static case with a constant σ = σt .
       We can subtract equation (40) from (41) and re-arrange to obtain an expression for investment
x̂t , analogous to (15):
                                                                                          !2
                                                                                RS
                                                                              σ̃ψt
                                               2                                                     µψt
                                 x̂ = a − ρ + σct − σct σ +                                    −                        (48)
                                                                             1 + ψt                1 + ψt

Idiosyncratic and aggregate risk play very different roles. Money provides a safe store of value
that improves idiosyncratic risk sharing. As before, it dampens the idiosyncratic precautionary
        2 relative to the idiosyncratic risk premium σ σ and depresses investment. Aggregate
motive σct                                            ct
risk, on the other hand, simply cannot be shared. As a result, aggregate TFP risk σ̃ T F P reduces
the equilibrium real interest rate r, but does not affect investment x̂, just as in the non-monetary
                            T F P σ̃ T F P and precautionary motive (σ̃ T F P )2 produced by aggregate
economy. The risk premium σ̃ct                                         ct
TFP risk exactly cancel each other out even when there is money. Likewise, the exogenous growth
rate of TFP g affects only the equilibrium real interest rate r, but has no effect on the value of
liquidity ψ or investment x̂.49
       The stochastic behavior of σt matters through the equilibrium behavior of the value of liquidity
ψt , which is forward-looking. Even conditional on the current value of ψt , if ψt+s is expected to
be high in the future, this means the idiosyncratic precautionary motive will be weaker than the
idiosyncratic risk premium and therefore consumption will be higher relative to capital; that is,
ĉt+s will be higher. As a result, for a given interest rate rt , pinned down by the asset pricing
equation (41), agents want less investment x̂t to achieve their desired intertemporal consumption
smoothing. This is why µψt appears in (48). Likewise, aggregate risk shocks matter because they
induce aggregate volatility in agents’ consumption. Since capital is not exposed to risk shocks, it is
  49
   This is a property of preferences with EIS of one. In general σ̃ T F P and g could affect investment x̂ even without
money, and can affect the value of liquidity ψ because r + θT F P σ̃ T F P − g is not invariant to changes in g and σ̃ T F P .




                                                                32
              r                                                            x
       0.10                                                         0.06
       0.05                                                         0.05
                                                                    0.04
                                                           σ
                  0.1   0.2   0.3   0.4    0.5    0.6               0.03
       0.05                                                         0.02
                                                                    0.01
       0.10
                                                                                                                            σ
                                                                                0.1   0.2    0.3    0.4     0.5     0.6
       0.15                                                         0.01

           σc                                                        ,m   
                                                                         +h
                                                                     m
       0.25                                                          2.0
       0.20
                                                                     1.5
       0.15
                                                                     1.0
       0.10

       0.05                                                          0.5

                                                       σ                                                                σ
                  0.1   0.2   0.3   0.4   0.5    0.6                            0.1   0.2   0.3    0.4    0.5     0.6

Figure 6: Interest rate r, investment x̂, idiosyncratic risk σc , and monetary variables m̂ and
ψ = m̂ + ĥ in the dynamic model for the non-monetary economy (dashed orange), monetary
competitive equilibrium (solid blue), and the social planner’s allocation (dotted green). Parameters:
a = 1/10, ρ = 4%, π = 2%, δ = 1%, β = 1.7%, σ̄ = 0.3, φ = 0.02, ν = 0.01, σ̃ T F P = 0.

                                   RS appears in (48).
an attractive hedge. This is why σ̃ψt

Recursive Equilibrium. We look for a recursive equilibrium with σt as the state variable, so
ψt = ψ(σt ) can be characterized as the solution to an ODE derived from (47). Use Ito’s lemma
to compute the drift and volatility of ψ, the Euler equation (40) to eliminate r and x̂ terms, and
m̂t it = ρβwt /kt = ρβ(1 + ψt ).

Proposition 12. The equilibrium value of ψ(σ) solves the ODE
                                                                                                     √ 2
                              ψ 0 φ(σ̄ − σ) + 12 ψ 00 σν 2                                        ψ 0 σν
                                                                                             
                                                                      σ 2
                  ρβ(1 + ψ) +                              = ψ(ρ − (     ) )+                                                   (49)
                                        1+ψ                          1+ψ                          1+ψ

   With a solution ψ(σ) to (49) we can obtain all the other equilibrium objects using (40)-(45). If
we also satisfy the transversality conditions, we have a competitive equilibrium.
   Figure 6 shows the competitive equilibrium in the dynamic model, with and without money.
It has essentially the same properties as in the BGP economy with constant idiosyncratic risk σ.
Money improves idiosyncratic risk sharing but depresses investment. After a risk shock increases
σt the value of liquidity goes up, so the real interest rate falls less than it would without money
and investment falls. The effects of the shock are as persistent as the shock itself, and inflation is
always on target πt . The target itself doesn’t affect any real variable other than real money holdings


                                                               33
mt through the interest rate, and this is valid for time-varying inflation targets. As a result, the
optimal inflation target satisfies the Friedman rule it = rt + πt ≈ 0, so πt must go up during periods
of high idiosyncratic risk σt (because the real interest rate rt is then low).50

4.2      Planner’s problem
As in the static case, the incomplete idiosyncratic risk sharing can be micro-founded by a moral
hazard problem with hidden trade (see Online Appendix for details). The incentive compatibility
constraints are

                     σct = ρ(1 − β)c−1
                                    t kt σ                                         "skin in the game"                (50)
                                     2       TFP 2     RS 2
                     µct = rt − ρ + σct + (σ̃ct ) + (σ̃ct )                             Euler equation               (51)
                     αt = σct σt                                                   demand for capital                (52)
                    TFP
                  σ̃ct     =   θtT F P                                                      TFP shocks               (53)
                      RS
                    σ̃ct   =   θtRS                                                         Risk shocks              (54)
                  mt /ct = β/(1 − β)i−1
                                     t                                             demand for money                  (55)

As before, the planner does not take prices r, α, θT F P , θRS , and i as given, so the only true IC
constraint is that he must treat all agents the same (up to scale) and must expose them to their
own idiosyncratic risk to provide incentives. This yields a tradeoff between investment x̂t and
idiosyncratic risk sharing σct /σt
                                                              ρ(1 − β)
                                                  σct /σt =                                                          (56)
                                                               a − x̂t
which is the same as in the static version of the model given by (32).
       Since all agents must be treated the same up to scale, and because of homothetic preferences
everything will be proportional to k, the value function of the planner takes the form V (σ, k) =
           1
A(σ) +     ρ   log(k), satisfying the HJB equation51
                                                                 
                                                       β 1                       1
   ρA(σ) + log(k) = max log(k) + log(a − x̂) + β log          + A0 (σ)φ(σ̄ − σ) + A00 (σ)σν 2
                     x̂,i                             1−β i                      2
                                                                    
                            1              1 T F P 2 1 ρ(1 − β) 2
                          +    x̂ + g − δ − (σ̃     ) − (        σ)
                            ρ              2           2 a − x̂

where the last term − ρ1 12 ( ρ(1−β)  2
                               a−x̂ σ) captures the cost of exposing agents to idiosyncratic risk.
  50
      It’s worth noting that the central bank might be unable to deliver a fixed inflation target πt = π̄, because for high
enough σt the real interest rate becomes very negative. When this happens the central bank is forced to abandon
its inflation target. The competitive equilibrium with money only exists for inflation targets πt that take this into
account (such as πt = max{π̃t , −rt } for an arbitrary π̃t ), but the inflation target doesn’t matter otherwise for the
real side of the economy.
   51
      We can also obtain an explicit intertemporal expression like (27).




                                                            34
       The nominal interest rate should be zero i ≈ 0, and x̂ must satisfy the FOC

                                                                   2
                                                    x̂t = a − ρ − σct                                             (57)

which is the same as in the stationary baseline model. The source of inefficiency is the same as in the
stationary model, but it now has a dynamic dimension. As before, the planner and the competitive
equilibrium share the same locus of incentive compatible combinations of investment x̂ and idiosyn-
cratic risk sharing σc given by (56), but they choose different (x̂, σc ) combinations. However, while
the planner only cares about the current value of idiosyncratic risk σt , the competitive equilibrium
picks a (x̂t , σct ) that depends on the future behavior of idiosyncratic risk σt through the value of
liquidity today ψt .
       Figure 6 also shows the planner’s optimal allocation. An important difference with the static
case is that it is possible for investment to be too low in the competitive equilibrium for very low
σt , too high for intermediate σt , and again too low for high σt (and the same goes for σc through
(56)). The reason for this is that while the planner’s allocation coincides with the static case with
a constant σ = σt , the competitive equilibrium depends on the stochastic behavior of σt through
the value of liquidity ψt . If σt today is very low but is expected to go up to σ̄ very fast, the value of
ψt will be closer to the value in the static case with σ = σ̄ rather than σ = σt . So the competitive
equilibrium chooses a (x̂t , σct ) on the locus on incentive compatible constraints given by (56) that
is closer to what it would choose in the static case with σ = σ̄. This is captured in equation (48)
through the role of µψt and σψt .52
       We can still implement the planner’s optimal allocation with a tax on capital τ k that internalizes
the externality produced by hidden trade. Introducing the tax only changes the asset pricing
equation
                                     rt = a + g − δ − τtk − σct σt − θtT F P σ̃ T F P

and therefore the equilibrium investment

                                   x̂t = a − ρ − τtk + σct
                                                        2                       RS 2
                                                           − σct σt − µĉt + (σ̃ct )

Comparing this expression to (57) we find the wedge


                                          τtk = 2σct
                                                  2                       RS 2
                                                     − σct σt − µĉt + (σ̃ct )                                    (58)

Proposition 13. Let P be an optimal allocation with processes for investment x̂, aggregate con-
                                                                          2 − (σ̃ T F P )2 − (σ̃ RS )2 ,
sumption ĉ, and idiosyncratic consumption risk σc . Then rt = ρ + µct − σct     ct             ct
                                                        β a−x̂t
θtT F P = σ̃cT F P , θtRS = σ̃cRS , x̂ and m̂t =       1−β rt +πt is a competitive equilibrium with τtk given by
                                                                   h ´t         i
(58) and inflation target πt , provided that         limt→∞ EQ e− 0 ru du kt ĉt = 0 and it = rt + πt > 0. The
optimal inflation target satisfies it = rt + πt ≈ 0 (Friedman rule).
  52
       In this solution, σψ → 0 as σ → 0, so it’s all really about the drift µψ which does not vanish as σ → 0.




                                                            35
5         Discussion
5.1        Liquidity premium and bubbles.
In the model the liquidity premium comes from the fact that liquid assets appear in the utility
function, so agents are willing to hold them even if their yield is below the interest rate. This is
the simplest and most transparent way of introducing assets with a liquidity premium, and it is
meant to capture that money and other assets are useful for transactions. In the Appendix I also
solve the model with a cash-in-advance constraint and a more flexible CES specification for MIU,
and obtain the same results except that the expenditure share on liquidity depends on the nominal
interest rate. We could also use a more microfounded model of monetary exchange, as in Lagos and
Wright (2005). The liquidity premium can also reflect the use of some securities, such as Treasuries,
in financial transactions. In fact, at least part of the liquidity premium on Treasuries is likely to
reflect this.53 As long as money has a liquidity premium—that is, its yield is below the risk-free
rate—the results will go through.
         There is also a large literature modeling money as a bubble in the context of OLG or incomplete
risk sharing models.54 The closest paper is Brunnermeier and Sannikov (2016b) who develop a
version of the Bewley (1980) model that is tractable and yields closed-form solutions. In contrast,
here bubbles are explicitly ruled out.55 The liquidity view in this paper has differences and simi-
larities with the bubble view. Many of the results here are likely to go through in a setting with
bubbles. Intuitively, a safe bubble can provide a safe store of value that improves idiosyncratic risk
sharing and depresses investment, just like money does in this paper. But there are also important
differences.
         To understand the link with bubbles, we can ignore the government bonds and deposits, bt =
dt = 0, and assume money is not printed, dMt = 0, and therefore in a BGP inflation is simply
minus the growth rate of the economy. Write equation (18) without the No-Ponzi condition
                                         ˆ       ∞        ´s                            ´T
                             wt = kt +               e−   t    ru du
                                                                       mt it dt + lim e− 0   rs ds
                                                                                                     mT
                                             t                                   T →∞
                                         |                    {z              } |       {z            }
                                                 liquidity services                   bubble

                                                                                                      ´T
In this paper, the No-Ponzi condition eliminates the last term, limT →∞ e−                                0   rs ds
                                                                                                                      mT = 0. Money is
not a bubble—it derives its value from it’s liquidity premium, which arises because money provides
liquidity services. In models with bubbles, instead, money doesn’t have a liquidity premium, so the
nominal interest rate must be zero it = 0. Money is an asset that doesn’t pay any dividend, but
still yields the arbitrage-free market return; rt if there is no aggregate risk. It has positive value
    53
      See Krishnamurthy and Vissing-Jorgensen (2012).
    54
       See Samuelson (1958), Bewley (1980), Aiyagari (1994), Diamond (1965), Tirole (1985), Asriyan et al. (2016),
Santos and Woodford (1997).
   55
      In addition, they introduce money proportionally to wealth, so high inflation acts as a subsidy to saving. They
find that the optimal inflation rate rises with risk. Here instead money is distributed lump-sum, so it is superneu-
tral—changes in the inflation rate don’t have real effects. The model here converges to theirs in the cashless limit
β → 0 in the special case where money supply is constant, µ = 0.


                                                                       36
only because the last term doesn’t vanish. In a BGP, this requires r = growth rate. But in both
the liquidity and the bubble views, money provides a store of value that improves risk sharing,
       kt
σc =   wt σ   < σ.
   Modeling money as an asset with a liquidity premium has several advantages. First, money
does have a liquidity premium. The bubble view cannot explain why people hold money when they
can hold safe nominal bonds that pay interest. If the bubble is really money, then the equilibrium
nominal interest rate must be zero and the real interest rate must be equal to the growth rate of the
economy. The liquidity view instead can provide a more flexible account of inflation and interest
rates. In addition, the bubble only exists for high enough levels of idiosyncratic risk, while here
money always has real effects which gradually grow as interest rates fall.
   Alternatively, the bubble may not really be money. It could be housing, the stock market,
government debt, social security, or even tulips. This can potentially be very interesting, but it
is difficult to determine if asset values really have a bubble component. In contrast, it’s relatively
straightforward to establish that some assets have a liquidity premium. Linking the value of money
to liquidity premiums also allows us to understand its behavior in response to shocks and policy
interventions, since it is more readily grounded in fundamentals.
   Finally, it’s worth pointing out that bubbles may have idiosyncratic risk. To the extent that
agents cannot diversify this idiosyncratic risk, the bubble will not perform the same role as money,
which is safe. For example, suppose there is a housing bubble, so that house prices are 10% above
their fundamental value, but each agent must buy one house whose value has idiosyncratic risk.
Then the bubble may not be able to produce a liquidity trap, since it is not a safe store of value.
   There is also a link between the liquidity view and the bubble view in the cashless limit. As
explained in Section 2.4, the liquidity trap in this paper does not hinge on large expenditures on
liquidity services (large β). This can be formalized by noting that the monetary economy does
not converge to the non-monetary one as β → 0. The reason is that for high enough σ, the real
interest rate in the non-monetary economy can be below the growth rate of the economy. This
is not a problem in the non-monetary economy, since the only asset is risky capital. But in an
economy with safe money, the value of liquidity will become very large as the real interest rate
approaches the growth rate of the economy. The result will be a liquidity trap with high interest
rates and depressed investment, relative to the non-monetary economy, even for vanishingly small
β. The cashless limit of the monetary economy therefore coincides with a bubbly equilibrium of
the non-monetary economy, since it only violates the No-Ponzi condition when β = 0. For β > 0 it
doesn’t violate the No-Ponzi conditions, but gets arbitrarily close.

5.2     Sticky prices and the zero lower bound on interest rates
An alternative view of liquidity traps in the context of New Keynesian models with sticky prices is
that money creates a zero lower bound for the nominal interest rate. The natural interest rate rtn is
the equilibrium real interest rate under flexible prices. The central bank could achieve its inflation
target π̄ and zero output gap by setting the nominal interest rate it = rtn + π̄, this reproducing


                                                 37
the flexible-price allocation. But if the natural interest rate is very negative this could require a
negative nominal interest rate. To fix ideas, imagine the inflation target is zero, π̄ = 0, so that the
real and nominal interest rates are the same. If the natural rate rtn is negative, the central bank is
forced to miss its inflation target, allow the economy to operate with an output gap, or both.56
    In contrast, this is a flexible-price model of liquidity traps. Both approaches are complementary.
In the short-run prices may well be sticky, markets segmented, and information imperfect. I abstract
from these short-run frictions to focus on the real, frictionless aspect of liquidity traps. The model
in this paper can be regarded as the flexible-price version of a richer model with nominal rigidities,
and the real interest rate here as the natural rate in that model.
    This has important consequences for the role of the zero lower bound. If there is money then
interest rates must be positive even with flexible prices, rtn ≥ 0. It is perfectly possible for the
interest rate to be negative without money but positive with money, even if prices are flexible.
Under these circumstances the zero lower bound will not be a problem—the central bank will
be able to hit its inflation target and a zero output gap; that is, to reproduce the flexible-price
allocation.57 Furthermore, since money is superneutral, a higher inflation target will always “fix”
the zero lower bound problem, but it will not affect the real side of the economy. In fact, under the
optimal monetary policy, with i ≈ 0, the zero lower bound is never an issue.
    However, the flexible price equilibrium is only optimal if a tax/subsidy on investment is used
to correct the externality produced by hidden trade. If it is not, or if it cannot be adjusted fast
enough, reproducing the flexible-price allocation is not optimal. Investment is too depressed during
liquidity traps. The central bank may then lower the interest rate below the natural level in order
to stimulate investment. I conjecture that this is in fact the optimal policy in this environment
(with nominal rigidities) but this is beyond the scope of this paper.

5.3    The role of the risk premium
The model in this paper is driven by exogenous shocks to idiosyncratic risk σt for the sake of con-
creteness. But the mechanism actually hinges on the idiosyncratic risk premium and precautionary
motives, which might go up for other reasons. For example, suppose we generalize preferences to
EZ with intertemporal elasticity one but risk aversion γ > 1 (see Appendix for details). The only
thing that changes in the equations is that the risk premium is now α = γσc × σ, and the precau-
tionary motive is γσc2 (in other words, the “price” of idiosyncratic risk is γσc ). We obtain a system
of equations analogous to (14), (15), and (8) (with γ = 1 we recover the original equations):

                                              r = a − δ − γσ 2 (1 − λ)                                              (59)
  56
     See Werning (2011) for a characterization of the optimal monetary policy in a New Keynesian model where the
zero lower bound is binding.
  57
     As explained in Section 2.4, the zero lower bound can only be binding if the flexible price equilibrium with money
requires a negative interest rate. While this is possible, it is a much more stringent condition than having the interest
rate without money be negative.




                                                           38
                                                                             λ−β
                                                          x̂ = a − ρ − ρ                                                                          (60)
                                                                             1−λ
                                                                      ρβ
                                                          λ=                                                                                      (61)
                                                                ρ − γσ 2 (1 − λ)2
Clearly, γσ 2 is the relevant parameter. An increase in risk aversion γ has the same effect as an
increase in idiosyncratic risk σ 2 . An increase in risk aversion could represent changes in wealth
distribution between risk averse and risk tolerant agents after a negative shock (see Longstaff and
Wang (2012)) or the health of the balance sheets of specialists who invest in risky assets such as
entrepreneurs or financial intermediaries (see He and Krishnamurthy (2013) and He et al. (2015))).
It could also represent habits (see Campbell and Cochrane (1999)) or an increase in ambiguity
aversion after a shock that upends agents’ beliefs about how the economy works (see Barillas et al.
(2009)).

5.4   Measuring the value of liquidity
The value of liquidity λ plays a central role and captures the real effects of money on the economy.
The model produces a simple formula for λ in terms of fundamentals, and the cashless limit in
Proposition 5 ensures that the liquidity trap survives even when β → 0. But we might also like to
measure λ directly. Unfortunately, since λ represents the present value of liquidity, it cannot the
directly measured. We must specify a model of the liquidity premium and a model of asset pricing.
The covariance of the liquidity premium with the pricing kernel is especially important because it
tells us what is the appropriate discount rate. This paper provides such a model, of course, but it is
too stylized to get the asset pricing right (e.g. the equity premium puzzle). A quantitatively serious
asset pricing model of the value of liquidity is beyond the scope of this paper, but is a natural next
step to evaluate this theory.
   Alternatively, we can specify a model of government surpluses and use the budget equation of
the government,
                            ˆ   ∞           ´s
                                                                      ˆ    ∞           ´s                                                 
           mt + bt =   EQ
                        t            e   −   t    ru du
                                                          dτs +   EQ
                                                                   t             e   −   t    ru du
                                                                                                          ms is + bs (is −   ibs )       ds
                             t                                           t

to obtain a measure of at least the part of the value of liquidity corresponding to government
liabilities (currency, reserves, and government bonds—this leaves out private liquidity). What this
budget constraint says is that the current value of government liabilities mt + bt must be financed
by the present value of government surpluses (the first term), plus the present value of the liquidity
premium (the second term, and the object we are interested in). Since mt + bt can be observed, if
we specify a model of government surpluses and an asset pricing model, we can back out the present
value of the liquidity premium. Notice that if we expect large deficits for a long time, we will back
out a very large value of liquidity. In other words, if the government has large liabilities and plans
to run a deficit, then through the lens of the government’s intertemporal budget constraint, it must
mean that the value of liquidity is very large. But this measure hinges on a model of government


                                                                    39
surpluses and asset pricing; it could be that the market expects the government to start running
very large surpluses at some point in the future.


6     Conclusions
Liquidity traps are associated with some of the deepest and most persistent slumps in modern
history. Money provides a safe store of value that prevents equilibrium interest rates from falling
during downturns, and the economy enters a persistent slump with depressed investment. But how
can money have such large and persitent real effects? This is an old question. In this paper I provide
an equilibrium theory of liquidity traps and the real effects of money with perfectly flexible prices.
The main insight is that money improves idiosyncratic risk sharing and drives a wedge between the
risk premium on capital and agents’ precautionary saving motive, which keeps interest rates high
and depresses investment. While the value of money, and other safe assets with a liquidity premium,
is pretty small during normal times, during persistent slumps with low interest rates its value can
become very large. The result is a liquidity trap.
     The liquidity trap is an equilibrium outcome—prices are flexible, markets clear, and inflation
is on target—but it’s not efficient. In contrast to most of the literature on liquidity traps, the
inefficiency does not arise from sticky prices and the zero lower bound on interest rates. Money is
superneutral, Ricardian equivalence holds, and the zero lower bound on nominal rates is not binding.
The inefficiency comes from the inability of private contracts to prevent agents from engaging in
hidden trade. During booms investment is too high and money doesn’t provide enough risk sharing;
during downturns investment is too depressed and money provides too much risk sharing. Perhaps
surprisingly, while money has large real effects, monetary policy is ineffective. The optimal allocation
can be implemented with a tax or subsidy on capital and the Friedman rule. When investment is
too high, tax it; when it’s too low, subsidize it.


References
Aiyagari, S. R. (1994). Uninsured idiosyncratic risk and aggregate saving. The Quarterly Journal
    of Economics, 659–684.

Aiyagari, S. R. and E. R. McGrattan (1998). The optimum quantity of debt. Journal of Monetary
    Economics 42 (3), 447–469.

Aiyagari, S. R. and N. Wallace (1991). Existence of steady states with positive consumption in the
    kiyotaki-wright model. The Review of Economic Studies 58 (5), 901–916.

Angeletos, M. (2006, November). Uninsured idiosyncratic investment risk and aggregate saving.
    forthcoming in Review of Economic Dynamics.

Asriyan, V., L. Fornaro, A. Martin, and J. Ventura (2016, September). Monetary Policy for a
    Bubbly World. NBER Working Papers 22639, National Bureau of Economic Research, Inc.

                                                     40
Bansal, R., D. Kiku, I. Shaliastovich, and A. Yaron (2014). Volatility, the macroeconomy, and asset
  prices. Journal of Finance.

Bansal, R. and A. Yaron (2004). Risks for the long run: A potential resolution of asset pricing
  puzzles. The Journal of Finance 59 (4), pp. 1481–1509.

Barillas, F., L. P. Hansen, and T. J. Sargent (2009). Doubts or variability? journal of economic
  theory 144 (6), 2388–2418.

Bemanke, B. and H. James (1991). The gold standard, deflation, and financial crisis in the great
  depression: An international comparison. In Financial markets and financial crises, pp. 33–68.
  University of Chicago Press.

Bewley, T. (1980). The optimum quantity of money. Models of monetary economies, 169–210.

Bloom, N. (2009). The impact of uncertainty shocks. Econometrica 77 (3), pp. 623–685.

Bloom, N., M. Floetotto, N. Jaimovich, I. Saporta-Eksten, and S. Terry (2012). Really uncertain
  business cycles. NBER working paper 18245.

Brunnermeier, M. K. and Y. Sannikov (2016a). The i theory of money. Technical report, National
  Bureau of Economic Research.

Brunnermeier, M. K. and Y. Sannikov (2016b, May). On the optimal inflation rate. American
  Economic Review 106 (5), 484–89.

Buera, F. and J. P. Nicolini (2014). Liquidity traps and monetary policy: Managing a credit crunch.

Caballero, R. J. and A. Simsek (2017). A risk-centric model of demand recessions and macropru-
  dential policy. Technical report, National Bureau of Economic Research.

Campbell, J., S. Giglio, C. Polk, and R. Turley (2012, March). An intertemporal capm with
  stochastic volatility. working paper.

Campbell, J., M. Lettau, B. G., and Y. Xu (2001). Have individual stocks become more volatile?
  an empirical exploration of idiosyncratic risk. The Journal of Finance 56 (1), pp. 1–43.

Campbell, J. Y. and J. H. Cochrane (1999). By force of habit: A consumption-based explanation
  of aggregate stock market behavior. Journal of political Economy 107 (2), 205–251.

Christiano, L., R. Motto, and M. Rostagno (2014). Risk shocks. American Economic Review 104 (1).

Cochrane, J. H. (2011). Presidential address: Discount rates. The Journal of finance 66 (4), 1047–
  1108.

Cole, H. L. and N. R. Kocherlakota (2001). Efficient allocations with hidden income and hidden
  storage. The Review of Economic Studies 68 (3), 523–542.

                                                41
Di Tella, S. (2016). Optimal regulation of financial intermediaries. Working paper - Stanford GSB.

Di Tella, S. (2017, August). Uncertainty shocks and balance sheet recessions. Forthcoming Journal
  of Political Economy.

Di Tella, S. and Y. Sannikov (2016). Optimal asset management contracts with hidden savings.
  Working paper, Stanford GSB and Princeton University.

Diamond, P. A. (1965). National debt in a neoclassical growth model. The American Economic
  Review 55 (5), 1126–1150.

Eggertsson, G. B. et al. (2003). Zero bound on interest rates and optimal monetary policy. Brookings
  papers on economic activity 2003 (1), 139–233.

Eggertsson, G. B. and P. Krugman (2012). Debt, deleveraging, and the liquidity trap: A fisher-
  minsky-koo approach. The Quarterly Journal of Economics 127 (3), 1469–1513.

Eggertsson, G. B. and M. Woodford (2004). Policy options in a liquidity trap. The American
  Economic Review 94 (2), 76–79.

Eichengreen, B. and J. Sachs (1985). Exchange rates and economic recovery in the 1930s. The
  Journal of Economic History 45 (4), 925–946.

Farhi, E., M. Golosov, and A. Tsyvinski (2009). A theory liquidity and regulation of financial
  intermediation. The Review of Economic Studies 76, 973–992.

He, Z., B. T. Kelly, and A. Manela (2015). Intermediary asset pricing: New evidence from many
  asset classes. Available at SSRN 2662182 .

He, Z. and A. Krishnamurthy (2013). Intermediary asset pricing. The American Economic Re-
  view 103 (2), 732–770.

Karatzas, I. and S. Shreve (2012). Brownian motion and stochastic calculus, Volume 113. Springer
  Science & Business Media.

Kehoe, T. and D. Levine (1993). Debt-constrained asset markets. The Review of Economic Stud-
  ies 60, 865–888.

Kiyotaki, N. and R. Wright (1993). A search-theoretic approach to monetary economics. The
  American Economic Review , 63–77.

Krishnamurthy, A. and A. Vissing-Jorgensen (2012). The aggregate demand for treasury debt.
  Journal of Political Economy 120 (2), 233–267.

Krugman, P. R., K. M. Dominquez, and K. Rogoff (1998). It’s baaack: Japan’s slump and the
  return of the liquidity trap. Brookings Papers on Economic Activity 1998 (2), 137–205.


                                                 42
Lagos, R. and R. Wright (2005). A unified framework for monetary theory and policy analysis.
  Journal of political Economy 113 (3), 463–484.

Longstaff, F. A. and J. Wang (2012). Asset pricing and the credit market. The Review of Financial
  Studies 25 (11), 3169–3215.

Samuelson, P. A. (1958). An exact consumption-loan model of interest with or without the social
  contrivance of money. Journal of political economy 66 (6), 467–482.

Santos, M. S. and M. Woodford (1997). Rational asset pricing bubbles. Econometrica: Journal of
  the Econometric Society, 19–57.

Shi, S. (1997). A divisible search model of fiat money. Econometrica: Journal of the Econometric
  Society, 75–102.

Svensson, L. E. (2000). The zero bound in an open economy: A foolproof way of escaping from a
  liquidity trap. Technical report, National Bureau of Economic Research.

Tirole, J. (1985). Asset bubbles and overlapping generations. Econometrica: Journal of the Econo-
  metric Society, 1071–1100.

Werning, I. (2011). Managing a liquidity trap: Monetary and fiscal policy. Technical report, National
  Bureau of Economic Research.



Appendix
Omitted Proofs
Proposition 1

Proof. The properties of λ and σc are straightforward from equation (8), noticing only that ρ −
((1 − λ)σ)2 = r − (x̂ − δ) > 0 in equilibrium.

Proposition 2

Proof. Straightforward from equilibrium conditions r = a − δ − σ 2 and x̂ = a − ρ.

Proposition 3

Proof. We know from Proposition 1 that λ and σc = (1 − λ)σ are increasing in σ. So the real
interest rate r = a − δ − (1 − λ)σ 2 falls when σ increases, but less so than without money, since in
that case r = a − δ − σ 2 . Investment x̂ falls because the term ρ λ−β
                                                                   1−λ > 0 is increasing in λ. Real
                       β a−x̂
money balances m̂ =   1−β r+π   therefore increase.
                                       ρβ
   If σ = 0, we have r = a − δ, λ =     ρ   = β, and x̂ = a − ρ which coincide with the non-monetary
economy.

                                                      43
Proposition 4

Proof. From individual optimization we know that the expenditure share of liquidity is β, invariant
to b. Since r, x̂, and λ are pinned down by (14), (15), and (8), they are not affected by changes in
b.

Proposition 5

Proof. It suffices to look at the behavior of λ defined by (8), which we can rewrite

                                      λ ρ − ((1 − λ)σ)2 = ρβ
                                                       


As β → 0√the lhs converges to zero,√ and so must the rhs. This means that either a) λ → 0 or b)
         ρ         √                ρ
λ → 1 − σ . If σ < ρ, then 1 − σ < 0. Since λ > β always, b) cannot be, so we are left with
a) λ → 0. From (14) and (15) we see that r and x converge to the values on the non-monetary
economy with λ = β = 0.
                 √
   If instead σ ≥ ρ, we cannot have λ → 0, because it implies that ρ − ((1 − λ)σ)2 ≤ 0 at some
point along the way (for λ small
                             √
                                 enough). Since λ > β always, this requires ρβ < 0, which is not
                               ρ                                        √
true. So we have b) λ → 1 − σ ≥ 0, and the inequality is strict if σ > ρ. From (14) and (15)
we see that the real interest rate r is high and investment x̂ low relative to the economy without
money (β = 0).

Proposition 6

Proof. See Online Appendix

Proposition 7
                                  ρ(1−β)σ
Proof. Combine (29) with σc =       a−x̂    to obtain

                                                    ρ(1 − β)
                                             σc =            σ
                                                     ρ + σc2

It follows that when σ = 0 we get σc = 0, and σc is increasing in σ. Rewrite it

                                            σc     ρ(1 − β)
                                               =        2
                                            σ    ρ + σσc σ 2

It follows that σc /σ is decreasing in σ. The properties of x̂ follow from equation (29). Finally, write

                                  r = ρ + x̂ − δ − σc2 = a − δ − 2σc2

It follows that r falls with σ.




                                                     44
Proposition 8

Proof. First take the β ∈ (0, 1/2) case. Rewrite (30) and (31) in terms of y = σc /σ

                 x̂SP = a − ρ − y 2 σ 2                                      Social Planner
                                     2
                x̂CE = a − ρ − yσ × (1 − y)                       Competitive Equilibrium

and the incentive compatible combinations

                                                           ρ(1 − β)
                                            x̂IC = a −
                                                               y

The competitive equilibrium lies at the intersection of x̂CE and x̂IC ; call the corresponding yCE ∈
[0, 1 − β]. The planner’s allocation lies at the intersection of x̂SP and x̂IC , call the corresponding
ySP ∈ [0, 1 − β].
    We know that y = σc /σ can range from 0 to 1 − β, in both the CE and SP (the upper bound
comes from knowing that investment is below the first best in both the CE and the SP, and using
x̂IC .
    x̂IC is increasing, strictly concave, and ranges from −∞ when y = 0 to the first best a − ρ when
y = 1 − β. It does not depend on σ, so it will be fixed when we do comparative statics.
    x̂CE and x̂SP do depend on σ. They both start at the first best a − ρ when y = 0. x̂SP is strictly
decreasing and concave (it’s an inverted parabola) with vertex at (0, a − ρ). So it must cross x̂IC
exactly once.
    x̂CE is a parabola with vertex at ( 12 , a−ρ− 14 σ 2 ). Importantly, it intersects with x̂SP at this point.
For σ > 0 they intersect at exactly two points, corresponding to y = 0 and y = 1/2, and this implies
that x̂CE < x̂SP for all y ∈ (0, 1/2), and x̂CE > x̂SP for all y ∈ (1/2, 1 − β). Finally, x̂CE < a − ρ
for all y ∈ (0, 1 − β). In particular, x̂CE (1 − β) = a − ρ − σ 2 β(1 − β) < a − ρ. Since x̂CE is strictly
convex and x̂IC is strictly concave they intersect at tow points at most. Since x̂IC = ∞ for y = 0,
x̂IC crosses x̂CE first from below, and the from above. But since x̂IC (1 − β) = 1 − ρ > x̂CE (1 − β),
the second intersection has y > 1 − β, so it is not in the range on y. There is then only one valid
intersection between x̂CE and x̂IC ; we called it yCE ∈ [0, 1 − β] and x̂IC < x̂CE for all y < yCE and
x̂IC > x̂SP for all y > yCE in the range of y.
    Now the lower envelope of x̂CE and x̂SP , x̂L = min{x̂CE , x̂SP } coincides with x̂CE for y ∈ [0, 1/2]
and with x̂SP for y ∈ [1/2, 1 − β]. This implies that if x̂IC first intersects with the lower envelope
for y < 1/2, it must do so at yCE , and if it first intersects at y > 1/2, it must do so at ySP . In the
first case, since x̂SP > x̂CE for y < 1/2, it is strictly decreasing, and goes from a − ρ for y = 0 to
a − ρ − 41 σ 2 = min x̂CE for y = 1/2; and x̂IC is strictly increasing and goes to 1 − ρ; then it means
that ySP < 1/2 as well and ySP > yCE . In the second case, obviously yCE > ySP > 1/2. If it first
intersects at y = 1/2 then yCE = ySP .
    It follows immediately that if yCE < ySP and both below 1/2, then x̂CE < x̂SP and σcCE < σcSP .
On the other hand, if yCE > ySP and both above 1/2, then x̂CE > x̂SP and σcCE > σcSP .


                                                      45
   It only remains to see which will hold for a given σ. Since both x̂CE and x̂SP are decreasing
for y ∈ (0, 1/2), and x̂IC is always increasing, it is enough to compare their values at y = 1/2. If
x̂CE = x̂SP ≥ x̂IC at y = 1/2, then yCE and ySP are both in [1/2, 1−β]. If instead x̂CE = x̂SP ≤ x̂IC
at y = 1/2, then yCE and ySP are both in (0, 1/2).

                                                x̂CE = x̂SP ≥ x̂IC

                                                  1
                                      ⇐⇒ a − ρ − σ 2 ≥ a − 2ρ(1 − β)
                                                  4
                                      ⇐⇒ σ 2 ≤ σ ∗ = 2 ρ(1 − 2β) > 0
                                                      p


Finally, for the case β ∈ [1/2, 1), x̂CE < x̂SP for all y ∈ [0, 1 − β], regardless of σ, so x̂CE < x̂SP
and σcCE < σcSP . Notice that in this case the formula for σ ∗ < 0.

Proposition 9

Proof. We already know that the planner’s allocation is a BGP with constant x̂ and σc . By setting
the subsidy/tax τ k according to (35) we ensure that r, x̂, and m̂ satisfy all the conditions for a
BGP equilibrium.
                                                                                      ´∞
   We can check that the value of total wealth w = kt + mt + ht −                      t   e−rs τsk ks ds satisfies ct =
                                       kt
ρ(1 − β)wt , or equivalently σc =      wt σ.   Write

                                     wt         m̂i          τk
                                        =1+             +
                                     kt     r − (x̂ − δ) r − (x̂ − δ)

                                               β
                      wt    r − (x̂ − δ) + ĉ 1−β + τk    ρ − σc2 + ρβ σσc + 2σc2 − σc σ
                          =                            =
                      kt            r − (x̂ − δ)                     ρ − σc2
                             ρ + ρβ σσc + σc2 − σc σ   σ ρ σσc + ρβ + σc2 ( σσc − 1)
                                                                                    
                      wt
                          =                          =
                       kt             ρ − σc2          σc            ρ − σc2
Use the planner’s FOC (28) and the skin in the game IC constraint (32)


                                                                          ρ(1 + β) + (a − x̂) ρ(1−β)−(a−x̂)
                                                                                                              !
                     ρ σσc + ρβ + (a − x̂ − ρ)( σσc − 1)
                                                          
       wt   σ                                                    σ                                a−x̂
          =                                                    =
       kt   σc                  2ρ − a − x̂                      σc                 2ρ − a − x̂
                                                                     
                 wt   σ          ρ(1 + β) + ρ(1 − β) − (a − x̂)               σ 2ρ − (a − x̂)    σ
                    =                                                     =                    =
                 kt   σc                  2ρ − a − x̂                         σc 2ρ − (a − x̂)   σc




                                                       46
Proposition 10

Proof. First, to implement the optimal allocation we need r > x̂−δ which is equivalent to ρ−σc2 > 0.
We know σc in the optimal allocation is given by

                                                      ρ(1 − β)
                                               σc =            σ
                                                       ρ + σc2

and σc is increasing in σ. For σ = 0 we have σc = 0 too, so ρ − σc2 > 0. So we only need to ask at
what σ we have σc2 = ρ:                                           √
                                      √      ρ(1 − β)            2 ρ
                                          ρ=          σ̄ =⇒ σ̄ =
                                              ρ+ρ                1−β
For σ ≥ σ̄ we have σc2 ≥ ρ and therefore r ≤ x̂ − δ, so the optimal allocation cannot be implemented
as a competitive equilibrium with a tax on capital.
    For the sign of τ k , use (35) to get

                                               τ k = σc (2σc − σ)

So if σc > 21 σ we have τ k > 0, and if σc < 12 σ we have τ k < 0. In the optimal allocation we have

                                              σc     ρ(1 − β)
                                                 =        2
                                              σ    ρ + σσc σ 2

                                                                            1
So σc /σ → 1 − β when σ → 0, and σc /σ is decreasing in σ. So if β ≥        2   we must have σc ≤ 12 σ and
therefore τ k ≤ 0, for all σ ∈ [0, σ̄). If instead β < 12 , we have τ k > 0 for σ close to 0. We only need
to find σ ∗ such that σc = 12 σ ∗ .

                                 1    ρ(1 − β)           ∗
                                                              p
                                   =                =⇒ σ   = 2  ρ(1 − 2β)
                                 2   ρ + 14 (σ ∗ )2

It only remains to show that σ ∗ ∈ (0, σ̄]. σ ∗ > 0 follows from β < 12 . Now write
                                                             √
                                                       √    2 ρ
                                  σ ∗ = 2 ρ(1 − 2β) ≤ 2 ρ ≤
                                         p
                                                                = σ̄
                                                            1−β




Proposition 11

Proof. From the definition of h,




                                                       47
                                                                 ˆ     T           ´s
                                                                                                                       h ´T
                                                                                         ru du dMs
                                                                                                                                      i
                      mt + ht = mt +                    EQ
                                                         t                  e   −   t                              + EQ
                                                                                                                      t e
                                                                                                                         − t ru du
                                                                                                                                   hT
                                                                    t                                ps
            dMt
use dmt =    pt   − mt πt dt to write
                                    ˆ          T           ´s                                 h ´T           i    
                    = mt +    EQ
                               t
                                                    −
                                                    e        t   ru du
                                                                         (dms + πs ms ds) + EQ
                                                                                             t e
                                                                                                 − t ru du
                                                                                                           hT
                                            t

We can write                                                                ˆ
                               ´T                                                   T        ´s
                           −
                          e    t    ru du
                                                mT = mt +                               e−       t   ru du
                                                                                                             (−rs ms ds + dms )
                                                                                t

and plug it in to obtain
                               ˆ       T           ´s                                     h ´T                  i
             m t + ht =   EQ
                           t                e   −       t   ru du
                                                                    ((rs + πs )ms ds) + EQ
                                                                                         t  e− t ru du
                                                                                                       (m T + hT )
                                    t

Then take the limit T → ∞ and use the transversality condition
                                                       h ´T                    i
                                                lim EQ
                                                     t  e − t ru du
                                                                    (m T + hT )  =0
                                            T →∞

and the monotone convergence theorem (rt + πt = it ≥ 0) to obtain
                                                                            ˆ          ∞            ´s
                                                                                                                              
                                        mt + ht =                     EQ
                                                                       t                     e   −   t    ru du
                                                                                                                   ms is ds
                                                                                    t


Proposition 12
                                                                                                            σψ
Proof. From (47), we plug in θT F P = σ̃ T F P , and θRS =                                                 1+ψ ,       as well as m̂i = ρβw/k = ρβ(1 + ψ)
from (45) and

                                                                   µψ     σ 2                      σψ 2
                   x̂ + g − δ − r = −(ρ +                             −(     ) − (σ̃ T F P )2 − (     ) )
                                                                  1+ψ    1+ψ                      1+ψ

Then use Ito’s lemma to obtain

                                                                            1
                                                        µψ = ψ 0 φ(σ̄ − σ) + ψ 00 σν 2
                                                                            2
                                                                         √
                                                               σψ = ψ 0 σν

The ODE (49) has the µψ terms together, and the σ̃ T F P terms cancel out. I also simplified the
terms involving σψ into one term.

Proposition 13

Proof. The equations for the competitive equilibrium are a modified version of (40)-(45), taking
into account that total wealth now includes the present value of taxes/subsidies that are rebated



                                                                                        48
lump-sum and the tax τ k :

                                                2       TFP 2     RS 2
              rt = ρ + (x̂t + g − δ) + µĉ,t − σct − (σ̃ct ) − (σ̃ct )                       Euler    (62)
              rt = a + g − δ −          τtk   − σct σt −   θtT F P σ̃ T F P           Asset Pricing   (63)
                       kt
             σct =        σt = (1 − β)ρkt c−1
                                           t σt                                            Id. risk   (64)
                       wt
          σ̃cT F P = θtT F P                                                              TFP risk    (65)
              RS
            σ̃ct   =   θtRS                                                                RS risk    (66)
             m̂t = β/(1 − β) × (a − x̂t )/(rt + πt )                                        Money     (67)

Since the planner’s allocation satisfies (50)-(55) and the FOC (57), it satisfies also the equilibrium
conditions (62)-(67). Equations (62), (65), (66), and (67) are immediate. Equation (63) follows from
plugging the definition of x̂t from (57), τtk from (58), and θtT F P = σ̃ct
                                                                         T F P into the Euler equation

(51). (64) comes from the skin in the game constraint (50), using the fact that σU t = ρ1 σct . Finally,
            h ´t           i               h ´t         i
limt→∞ EQ e− 0 ru du kt ĉt =⇒ limt→∞ EQ e− 0 ru du wt = 0 and it = rt + πt > 0 ensure that this
is in fact an equilibrium.

CES utility for money and cash in advance
In this Appendix I generalize the baseline model to allow a more flexible demand for money. In
particular, we are interested in allowing the expenditure share on liquidity services to vary with
the interest rate. First I generalize the log utility with a CES aggregator between money and
consumption. This allows me to introduce an interest-elasticity of money demand η different from
one (in particular, η < 1). This means that as i → 0 the expenditure share on liquidity vanishes.
However, i must always be strictly positive. The second specification is a cash-in-advance model.
Again, the expenditure share on liquidity vanishes as i → 0, but in this case we can actually have
i = 0.
   These cases are interesting on their own, since they allow a more flexible account of money
demand. But they also help understand if the liquidity trap hinges on a constant expenditure share
on liquidity, as in the baseline model. In light of the cashless limit result in Proposition 5, it should
come as no surprise that the liquidity trap survives even when the expenditure share on liquidity
vanishes. It survives even if i = 0 in the cash-in-advance model.

CES utility. We can introduce a more flexible CES specification for money demand
                                   "ˆ                                   η       #
                                        ∞              1
                                                           η−1
                                                                1  η−1  η−1
                                             −ρt            η
                               E            e log (1 − β) ct + β m
                                                         η      η   η        dt
                                    0


where η is the demand elasticity of money. With η = 1 we recover the baseline setting.




                                                                   49
   The FOC for consumption and money demand are now slightly different:

                                                   1−β
                                         c=ρ                 w
                                               1 − β + βi1−η

                                                     βi1−η
                                        mi = ρ                 w
                                                 1 − β + βi1−η
so the expenditure share on money services

                                      mi               βi1−η
                                         = β̃(i) =
                                      ρw           1 − β + βi1−η

is a function of the nominal interest rate, and therefore the inflation target i = r + π. The same
reasoning as in the baseline yields
                                                    m̂ × (r + π)
                                        m̂ + ĥ =
                                                    r − (x̂ − δ)
The real value of money is still the present value of liquidity services. But with η 6= 1, the target
inflation rate π affects this value. If η < 1, a higher nominal interest rate i leads to higher expendi-
tures on money services m̂i, and therefore higher real value of liquidity (for fixed r and x̂); if η > 1
the opposite result holds.
   The system of equations takes the same form as before, except that the share of expenditures
on money services β̃(r + π) is a function of the nominal interest rate, and therefore the real interest
rate and the inflation target.


                                         r = a − δ − (1 − λ)σ 2                                     (68)
                                                       λ − β̃(r + π)
                                      x̂ = a − ρ − ρ                                                (69)
                                                          1−λ
with

                                                 ρβ̃(r + π)
                                         λ=                                                         (70)
                                              ρ − ((1 − λ)σ)2
Now we need to solve the system of three equations simultaneously, because r appears in (70).
   We can verify that when σ ≈ 0, we obtain the RBC limit where we can ignore money. Indeed,
in this case we get r = a − δ, x̂ = a − ρ, and λ = β̃(r + π). While the inflation target matters
for monetary variables, the real interest rate and investment are the same as in the non-monetary
economy. Higher inflation targets still lead to one-for-one increases in the nominal interest rate,
leaving the real interest rate and investment unaffected.
   The reader may wonder if the liquidity trap survives with CES preferences. In the baseline model
with log preferences, the expenditure share on liquidity services β is constant. This implies that as
σ increases and the equilibrium real interest rate r drops, the value of liquidity becomes very large
(λ → 1) (we are “dividing by zero”). With CES preferences and demand elasticity of money η < 1,
the share of expenditures on liquidity services β̃(i) falls as the equilibrium real interest rate r falls

                                                    50
(inflation π is constant). But we can use the same reasoning as in the cashless limit of Proposition
                                                                    √
5 to see that the liquidity trap must survive. In particular, if σ > ρ, the equilibrium real interest
rate would be below the growth rate of the economy if λ = 0, which cannot be. Suppose we reduce
the inflation target π so that i(π) = r(π) + π → 0, and therefore the expenditure share on liquidity
                                                          √
services β̃(i) → 0. The value of λ must converge to 1 − ρ/σ > 0, not to zero. The equilibrium
real interest rate will be high and investment depressed relative to the non-monetary economy. The
liquidity trap survives.

Cash in advance. Now instead of money in the utility function, suppose we have a cash-in-
advance (CIA) constraint
                                                 ct ≤ vmt

The utility is now exclusively over consumption, log(ct ). This is a well know setting. Since we are
looking only at BGP, in an economy with perfect risk sharing, σ = 0, the CIA constraint does not
affect the equilibrium. But with incomplete risk sharing, the CIA constraint will create a liquidity
trap. These results are analogous to the case with log and CES utility over money.
   The competitive equilibrium is still characterized by the Euler equation (5), the Asset Pricing
equation (6), and the expression for risk sharing (7). What changes is the demand for money, which
now takes the form m = c/v from the CIA constraint. From log preferences, we know the agent
consumes c + mi = ρw; the expenditure flow is still ρ, but the total cost of consuming includes the
forgone interest because money must be held to consume. So we obtain

                                                  i
                                      mt i = ρ       w = ρβ̃(i)w
                                                 i+v

The expenditure share on liquidity β̃(i) = i/(i + v) is increasing in the nominal interest rate i (just
as in the CES case with η < 1). When i = 0, the expenditure on liquidity services is zero, β̃(0) = 0.
But the demand for money is bounded: any mt ≥ ct /v is consistent with individual optimization.
   For i > 0, the value of money mt + ht still satisfies the valuation

                                                        mt i
                                       mt + ht =                                                  (71)
                                                    r − (x̂ − δ)

and the same reasoning as in the baseline model yields the same expression for λ:

                                                  ρβ̃(i)
                                        λ=                   ,
                                             ρ − ((1 − λ)σ)2

with the same modification as in the CES case; the expenditure share β̃(i) depends on the interest
rate, so we cannot solve the model one equation at a time (it’s a system of simultaneous equations).
   Notice that just as in the CES case, with perfect risk sharing σ = 0, money doesn’t matter
because λ doesn’t matter. The real interest rate and investment are completely pinned down by
the Euler equation and the Asset Pricing equation. We can eliminate money by setting v = ∞ so


                                                   51
that β̃(i) = 0 and the allocation is not affected. It’s not surprising then that in this case money is
superneutral; the inflation target doesn’t have any real effects.
   But with incomplete risk sharing, σ > 0, money can create a liquidity trap. The competitive
equilibrium is characterized by equations (68), (69), and (70). The same reasoning as in the CES
                       √
case shows that if σ > ρ, even if we lower the inflation target π so that i(π) = r(π) + π → 0, the
value of liquidity λ cannot converge to zero because in that case the real interest rate would be below
the growth rate of the economy. With r < x̂ − δ, achieving i = 0 requires µ > 0 a positive growth
rate of money. So the present value of money transfers would be infinity and agents’ optimization
                                                                       √
problem would be ill defined. Instead, as i → 0 we must have λ → 1 − ρ/σ > 0. From (68) and
(69) we see this means that the real interest rate will be higher than in the non-monetary economy,
and investment lower. The liquidity trap survives, for the same reasons it survives in the cashless
limit β → 0.
   In fact, this is true even if i = 0 (rather than the limit). This may seem surprising, since in
this case mt = vct is bounded, so (71) seems to imply that mt + ht = 0. But in this case the
denominator in (71) must also be zero. What is going on is that the no-Ponzi condition is being
violated here, and we get a bubble. This is not that surprising, since we know that as β → 0 the
monetary economy converges to the non-monetary economy with a bubble.
   The equilibrium with i = 0 then takes the following form. We know r = x̂ − δ, which together
with i = 0 implies zero growth rate of money, µ = 0. So we need the value of money mt plus a
bubble bt to satisfy
                                       mt + bt        √
                                                 = 1 − ρ/σ > 0                                    (72)
                                    kt + mt + bt
Expenditures on liquidity services is zero, β̃(i) = 0. Equations (68) and (69) pin down r and x̂:

                                                       √
                                          r =a−δ−           ρσ

                                                       √
                                            x̂ = a −       ρσ

The CIA constraint pins down only a lower bound on money, because with i = 0 agents are willing
to hold money beyond their transaction needs,

                                   mt ≥ ct /v =⇒ m̂ ≥ (a − x̂)/v

If they hold money beyond their transaction needs, money is acting like a bubble. So the concep-
tually cleanest decomposition is to set m̂ = (a − x̂)/v and then use (72) to pin down the value of
the bubble bt
                                            √
                                     b̂ = σ/ ρ − 1 − (a − x̂)/v                                   (73)

Notice that b̂ could be negative. This is the case if v is very small, so money holding for transaction
purposes m̂ must be large. This amount of money would create too much risk sharing, so we need




                                                  52
a negative bubble.58

The role of intertemporal elasticity and risk aversion
The baseline model has log preferences, which yield clean results and are quantitatively reasonable.
In this Appendix I extend the baseline model to allow for EZ preferences to understand the role of
intertemporal elasticity and risk aversion.
       Suppose agents have recursive EZ preferences with discount ρ, risk aversion γ, and intertemporal
elasticity ψ. If ψ = 1/γ we have the standard CRRA preferences. If ψ = γ = 1 we have the baseline
model with log preferences.
       The equilibrium equations are now modified as follows

                   r = ρ + (x̂ − δ)/ψ − (1 + 1/ψ)(γ/2)σc2                          Euler equation
                   r = a − δ − γσc σ                                                 Asset Pricing
                  σc = (1 − λ)σ                                                       Risk Sharing
                          β a − x̂
                  m̂ =                                                                        Money
                         1−βr+π

The expression for the value of liquidity, λ, must be solved simultaneously with r and x̂.

                                                       ρβ
                          λ=                                                                               (74)
                               ρ + (1/ψ − 1)(x̂ − δ) − (1 + 1/ψ)(γ/2)((1 − λ)σ)2

We can check that if ψ = γ = 1 we recover the equation in the baseline model.

First Best. If there is no idiosyncratic risk, σ = 0, we get closed form expressions for r and x̂

                                                     r =a−δ

                                              x̂ = (a − δ − ρ)ψ + δ

Incomplete risk sharing and no money, β = 0. The non-monetary economy also allows for
closed form expressions, because λ = β = 0 and σc = σ.

                                                         − δ} −γσ 2
                                                  r = |a {z
                                                      first best


                           x̂ = (a − δ − ρ)ψ + δ +ψ (1 + 1/ψ)(γ/2)σ 2 − γσ 2
                                                                            
                                |      {z      }     |     {z       } |{z}
                                     first best                    precautionary   risk pr.

  58
    We can interpret the negative bubble by taking the accounting value of money as m for the purpose of the CIA
constraint, but the market value of money (the goods you could actually buy if you only had money) as m + b < m.
But this is pushing the limits of the CIA constraint as a foundation for monetary trade.




                                                          53
After a risk shock increases idiosyncratic risk σ, the real interest rate falls to accommodate the
higher risk premium α = γσc σ = γσ 2 . But investment may go up or down, depending on the
intertemporal elasticity ψ. If ψ > 1, investment falls when idiosyncratic risk σ goes up; if ψ < 1,
investment raises. This can be understood in terms of the risk premium and precautionary motive.
If ψ > 1, the precautionary motive is smaller than the risk premium, and the difference increases
with σ ((1 + 1/ψ)/2 < 1). Intuitively, capital is less attractive because it is more risky, and since
agents are very intertemporally elastic, they substitute towards consuming instead (accepting a big
change in the growth rate of their consumption). But if ψ < 1, the precautionary motive dominates.
Agents really want to smooth out their utility, and since they face more risk, they make it up by
accumulating more capital. If ψ = 1, as in the baseline, the two effects cancel out and investment
does not change when σ goes up.
   The important variable is the intertemporal elasticity. Risk aversion, γ, just makes the idiosyn-
cratic risk matter more. In fact, both enter jointly γσ 2 in the equations. The role of intertemporal
elasticity is well understood, and is the reason that the literature on time varying risk typically
assumes high intertemporal elasticity, ψ > 1. Empirically, evidence about ψ is mixed, but ψ = 1 is
considered a quantitatively reasonable benchmark.

Incomplete risk sharing and money, β > 0. Now let’s see what happens when we add money.
First, take the value of liquidity λ > 0 as given. Idiosyncratic risk sharing improves, σc = (1 − λ)σ,
so we get
                                                 − δ} −γ(1 − λ)σ 2
                                          r = |a {z
                                              first best

                 x̂ = (a − δ − ρ)ψ + δ +ψ (1 + 1/ψ)(γ/2)σ 2 (1 − λ)2 − γσ 2 (1 − λ)
                                                                                   
                      |      {z      }    |          {z            } | {z }
                          first best                       precautionary   risk pr.

Money weakens the risk premium, so the real interest rate is higher than without money. Money also
weakens the precautionary motive more than the risk premium, just as in the baseline model. But
since investment can go up or down with risk, depending on ψ, it is useful to decompose the effect
of higher risk into the effect without money, and what money adds relative to the non-monetary
economy:
                                          r = a − δ − γσ 2 + λγσ 2                               (75)
                                              |    {z    } | {z }
                                               non-monetary          ∆r

   x̂ = (a − δ − ρ)ψ + δ + ψ (1 + 1/ψ)(γ/2)σ 2 − γσ + γσ 2 ψ (λ2 − 2λ)(1 + 1/ψ)/2 + λ
                                                               2
                                                                                   
                                                                                                 (76)
        |                     {z                   } |               {z               }
                           non-monetary                                    ∆x̂

The second terms are the effect of money on the real interest rate, ∆r, and investment, ∆x̂, relative
to the economy without money.
   In general it is possible for investment in the monetary economy to be higher than in the non-
monetary one. For very large ψ, ∆x̂ ≈ γσ 2 ψλ2 /2 > 0. There are two forces at work. Remember
that if ψ > 1, the risk premium dominates, so high risk σ can have a very large negative effect on
investment x̂. Money improves risk sharing and weakens the risk premium α = γσ 2 (1 − λ), so it

                                                       54
dampens the fall in investment from this channel. It also weakens the precautionary motive relative
to the risk premium, which reduces investment just like in the baseline model. The two forces work
in opposite directions. In the baseline setting the direct effect of high risk in the absence of money
is zero, so money must depress investment.
      For ψ ≤ 1 we can obtain a clean characterization, such that the main properties of the baseline
model go through.59 Money keeps the real interest rate from falling during downturns with high
risk, and depresses investment. Risk aversion γ and idiosyncratic risk σenter together as γσ 2 , so all
our results apply as well to increases in risk aversion.

Proposition 14. For ψ ≤ 1, the monetary economy has higher interest rate and lower investment
than the non-monetary one; i.e. ∆r > 0 and ∆x̂ < 0. Higher γσ 2 leads to higher risk premium
α = γσ 2 (1 − λ), higher value of liquidity λ, and larger ∆r and |∆x̂|.

      The case ψ ≤ 1 covers two very salient classes of preferences. First, CRRA preferences with
risk aversion γ = 1/ψ ≥ 1. This is the most common specification in macroeconomic models. In
the context of models with time varying risk, it has the unappealing feature that, without money,
higher risk leads to more investment.
      Second, the cleanest and quantitatively salient specification has ψ = 1 and γ > 1. The γ > 1
can be interpreted either as high risk aversion, or as ambiguity aversion as in Barillas et al. (2009).
This specification has the advantage that the equations boils down to those of the baseline model,
with the only modification of replacing σ 2 by γσ 2 ,

                                                r = a − δ − γσ 2 + λγσ 2
                                                    |    {z    } | {z }
                                                        non-monetary    ∆r


                                                                       λ−β
                                                x̂ =     (a − ρ)    −ρ
                                                         | {z }          − λ}
                                                                     | 1{z
                                                       non-monetary
                                                                       ∆x̂

                                                               ρβ
                                                  λ=
                                                         ρ − γσ 2 (1 − λ)2

Proof of Proposition 14

Proof. Write the equation for λ, replacing r and x̂ from (75) and (76) to obtain

                                                       ρβ
                    λ=
                          ρ + (1/ψ − 1)(a − δ − ρ)ψ − α [(1 − ψ) + ψ(1 + 1/ψ)(1 − λ)/2]

where α = γσ 2 (1 − λ) > 0 is the risk premium. The denominator is strictly decreasing in α (here
we use ψ ≤ 1) and strictly increasing in λ (for α > 0 which must be the case for σ > 0). So if there
is a solution λ(α) to this equation, it is increasing in α. From α/(1 − λ) = γσ 2 , since the lhs is
increasing in α, it follows that α is increasing in γσ 2 , and therefore so is λ.
 59
      ψ ≤ 1 is sufficient, but not necessary.


                                                              55
   Now ∆r = λγσ 2 > 0 and increasing in γσ 2 is straightforward. For ∆x̂ we write it after some
algebra
                                                                        λ 1+ψ
                                                                           2 −1
                                                            
                                       2   1+ψ
                              ∆x̂ = γσ λ λ     −1                = αλ           <0
                                            2                             1−λ
If γσ 2 increases, so does α and λ. The derivative of the last factor with respect to λ is
                         (             )
                             λ 1+ψ
                                2 −1
                                               1+ψ
                                                2 (1   − λ) + λ 1+ψ
                                                                  2 −1
                                                                        1+ψ
                                                                            −1
                    ∂λ                     =                    2
                                                                       = 2       ≤0
                               1−λ                      (1 − λ)         (1 − λ)2

(using ψ ≤ 1 again). So ∆x̂ is negative and becomes even more negative.




                                                        56
Online Appendix: Contractual setting
In this Appendix I develop the contractual environment that yields the incomplete idiosyncratic
risk sharing problem in the baseline model as the optimal contract. I also allow aggregate risk with
complete risk sharing, which is the setting in the dynamic model in Section 4. The setting in the
baseline model is a special case with no aggregate risk.
    The setting is essentially a special case of the environment in Di Tella and Sannikov (2016) with
perfect misreporting (φ = 1 in the terms of that paper), generalized to allow for aggregate shocks.
I discuss the similarities and differences below.

Setting
The setting is as in the dynamic model in Section 4. The “capital quality” shock for an agent is

                                           ∆ki,t = σt ki,t dWi,t + σ̃ T F P dZtT F P                                         (77)

where Z T F P is an aggregate TFP shock. Aggregate TFP risk σ̃ T F P is constant, but idiosyncratic
risk σt follows an autoregressive process

                                             dσt = µσ (σt )dt + σ̃σ (σt )dZtRS                                               (78)

where Z RS is the aggregate risk shock. Z T F P and Z RS are independent Brownian motions.
    There is a complete financial market with real interest rate r, nominal interest rate i, capital’s
excess return α, and price of aggregate shocks θT F P and θRS , all adapted to the history of aggregate
shocks Z T F P and Z RS . Let Q be the equivalent martingale measure associated with r, θT F P and
θRS , and Q̃ the equivalent martingale measure associated with r, θT F P , θRS , and α.60
    The agent receives consumption c and money holdings m from the principal, and manages capital
k, all contingent on the history of aggregate shocks Z T F P and Z RS and the agent’s report of his
idiosyncratic shock Y s . The idiosyncratic shock is not observable by the principal, so the agent
                                                              ´t
can misreport at rate s, such that his reports are Yts = Wt − 0 σsuu du. Furthermore, the agent has
access to hidden trade that allows him to choose his consumption c̃, money m̃, capital holdings k̃,
and to trade aggregate risk σ̃nT F P and σ̃nRS .61 His hidden savings n start at n0 = 0 and satisfy the
dynamic budget constraint

          dnt = (nt rt + ct − c̃t + (mt − m̃t )it + (k̃t − kt )αt + θtT F P σnt
                                                                             TFP
                                                                                 + θtRS σ̃nt
                                                                                          RS
                                                                                             + kt st )dt                     (79)
                                        TFP
                + (k̃t − kt )σt dWt + σ̃nt  dZtT F P + σ̃nt
                                                         RS
                                                            dZ RS
   60
      That is, Q is defined by the SPD dξt /ξt = −rt − θtT F P dZtT F P − θtRS dZtRS and Q̃ by dξ˜t /ξ˜t = −rt − θtT F P dZtT F P −
θtRS dZtRS − α  t
               σt
                  dWt .
   61
      To keep things simple, allow k̃ < 0, but we can also restrict it to k̃ ≥ 0, as in Di Tella and Sannikov (2016). This
doesn’t change the optimal contract.




                                                               57
with solvency constraint nt ≥ nt where nt is the natural debt limit
                                                     ˆ    ∞ ´u                                                        
                              nt = − max EQ̃
                                          t                 e   t   rτ dτ
                                                                             (cu (Y s ) + mu (Y s )iu + su ku (Y s ))du                                      (80)
                                            s∈S        t
                                       h´    ´u                                                    i
                                          ∞
                        s : EQ̃               t rτ dτ |cu (Y s )    + mu (Y s )iu + su ku (Y s )|du < ∞
                    
where S =                                0  e                                                                                       is the set of feasible
stealing plans for a given contract. The natural debt limit nt is the maximum amount that the
agent can pay back for sure at time t. The lender is not taking any risk as long as he enforces the
natural debt limit.
                                                                                                                        ´t
Lemma 1. Assume |n0 | < ∞. If nt ≥ nt always, then lim inf t→∞ e− 0 ru du nt ≥ 0 a.s.
                                              h´      ´t                            i
                                                 ∞
  A contract C = (c, m, k) is admissible if EQ 0 e− 0 ru du |ct + mt it + kt αt | dt < ∞. It is
always optimal to implement no misreporting or hidden trade.62 An admissible contract is incentive
compatible if the agent chooses to report truthfully and not engage in hidden trade,

                                             (c, m, k, 0, 0, 0) ∈ arg max U (c, m) st :                                (79)
                                                                                  P


where P = (c̃, m̃, k̃, σ̃nT F P , σ̃nRS , s). An incentive compatible contract is optimal if it minimizes the
cost of delivering utility to the agent
                                                                        ˆ   ∞            ´t
                                                                                                                               
                                                                    Q                 −        ru du
                                     J0 (u0 ) =     min        E                  e       0            (ct + mt it − kt αt ) dt
                                                  (c,m,k)∈IC             0

                                                                st :         U (c, m) ≥ u0

We pin down the agent’s initial utility u0 with a free-entry condition for principals. If the agent has
initial wealth w0 , he gives it to the principal in exchange for the full-commitment contract, and the
principal breaks even, J0 (u0 ) = w0 .

Incentive compatibility and optimal contract
Given contract C = (c, m, k), the agent’s problem is to choose a misreporting and hidden trade
strategy P = (c̃, m̃, k̃, σ̃nT F P , σ̃nRS , s) to maximize his utility subject to his dynamic budget con-
straint. With the natural debt limit, the dynamic budget constraint is equivalent to the following
intertemporal budget constraint
        ˆ     ∞        ´t
                                                                ˆ               ∞            ´t
                                                                                                                                                         
 EQ̃               e−   0    ru du
                                     (c̃t + m̃t it )dt ≤ max EQ̃                      e−       0    ru du
                                                                                                            (ct (Y s ) + mt (Y s )it + kt (Y s )st )dt       (81)
           0                                               s∈S                0

The rhs is the present value of the agent’s income from the principal, including what he “steals” from
him, and is equal to (minus) the natural debt limit −n0 . Of course, if the rhs is infinity the agent
can achieve infinite utility. This corresponds to the case where the natural debt limit n0 = −∞ so
the agent can get infinite utility under the dynamic constraint as well.
  62
       See Di Tella and Sannikov (2016).


                                                                                  58
Lemma 2. Assume |n0 | < ∞. If (c̃, m̃, k̃, σ̃nT F P , σ̃nRS , s) and n satisfy the dynamic budget constraint
(79) with nt ≥ nt always, then (c̃, m̃) satisfy the intertemporal budget constraint (81).
   If (c̃, m̃) satisfy the intertemporal budget constraint (81), then there are processes (k̃, σ̃nT F P , σ̃nRS , s)
and n that satisfy the dynamic budget constraint (79) with nt ≥ nt always.

   We can split the agent’s problem into two parts. First, pick a misreporting strategy that maxi-
mizes the value of the rhs. Second, choose c̃ and m̃ to maximize utility subject to the intertemporal
budget constraint (81).
   If s∗ = 0 is optimal, then
                             ˆ    t           ´u                                                               ´t
                                         e−   0    rτ dτ
                                                           (cu (Y s ) + mu (Y s )iu + ku (Y s )su )du − e−     0    ru du
                                                                                                                            nt (Y s )
                              0


must be a Q̃-martingale for s = 0 and a supermartingale for any other s. So we can write
                ´t                     ´t
              d e− 0 ru du nt (Y s ) = e− 0 rτ dτ (ct (Y s ) + mt (Y s )it )dt + σnt (Y s ) (dYts + αt dt)
                                                 

                                                               TFP
                                                            +σ̃nt  (Y s )(dZtT F P + θtT F P dt) + σ̃nt
                                                                                                     RS
                                                                                                        (Y s )(dZtRS + θtRS dt)

If the agent misreports s, then
                             ˆ       t        ´u
                                         e−    0   rτ dτ
                                                           {(cu (Y s ) + mu (Y s )iu + ku (Y s )su )du − (cu (Y s ) + mu (Y s )iu )du
                                 0
       −σnu (Y s ) (dYus + αu du) − σ̃nu
                                      TFP
                                          (Y s )(dZuT F P + θuT F P du) − σ̃nu
                                                                            RS
                                                                               (Y s )(dZuRS + θuRS du)}

or simplifying,
          ˆ    t        ´u
                   e−   0    rτ dτ
                                         {ku (Y s )su du − σnu (Y s ) (dYus + αu du) − σ̃nu
                                                                                         TFP
                                                                                             (Y s )(dZuT F P + θuT F P du)
          0
                                                                                                        RS
                                                                                                     −σ̃nu (Y s )(dZuRS + θuRS du)}

                                                                                      st
must be a Q̃-supermartingale. Since dYts = dWt −                                      σt dt,   this requires

                                                                          1
                                                               kt + σnt      = 0 =⇒ σnt = −kt σt
                                                                          σt

In other words, for every dollar the agent misreports he must lose a dollar in present value of future
income.
   Second, taking the rhs of the intertemporal budget constraint as given and choosing c̃ and m̃ is
a standard consumption-portfolio problem. The FOC are

                                         2       TFP 2     RS 2
                         µct = rt − ρ + σct + (σ̃ct ) + (σ̃ct )                                                 Euler equation          (82)
                             αt = σct σt                                                                 demand for capital             (83)
                      TFP
                    σ̃ct  = θtT F P                                                                                   TFP shocks        (84)


                                                                                 59
                    RS
                  σ̃ct = θtRS                                                                                                     Risk shocks          (85)
                 mt /ct = β/(1 − β)i−1
                                    t                                                                                      demand for money            (86)

In addition, optimality and zero hidden savings, nt = 0, imply that
            ˆ   ∞           ´u
                                                                 ˆ                         ∞           ´u
                                                                                                                                            
      EQ̃
       t             e   −   t    rτ dτ                        Q̃
                                          (c̃u + m̃u iu )du = Et                                 e   −   t    rτ dτ        0         0
                                                                                                                      (cu (Y ) + mu (Y )iu )dt = −nt
             t                                                                           t
                                   h´         ´u                            i
                                       ∞ −
and ct = (1 − β)ρEQ̃
                  t                   t e
                                               t   rτ dτ
                                                           (c̃u + m̃u iu )du = (1 − β)ρ(−nt ). From this it follows that the
geometric volatility of consumption is

                                                        kt
                                  σct = (1 − β)ρ           σt                                                   "skin in the game"                     (87)
                                                        ct

It’s worth noting that, given (82)-(86), the agent’s continuation utility
                                                       ˆ      ∞                                           
                                                                       −ρu
                                           Ut = Et                 e         ((1 − β) log cu + β log mu )du
                                                           t

                                                                    1
will admit a representation Ut = At +                               ρ   log ct . The skin in the game constraint (87) then implies
σU t = (1−β)c−1t kt σt .            If the agent misreports a dollar and immediately consumes it he gets marginal
utility (1 − β)c−1
                t , so             his continuation utility must go down by that amount to deter him.
    Putting these conditions together we obtain the following result.

Lemma 3. An incentive compatible contract C = (c, m, k) must satisfy conditions (82)-(87).

    The incentive compatibility conditions (82)-(87) are necessary. In general, proving that they are
sufficient for global incentive compatibility is a difficult problem, because the hidden trade allows
the agent a large set of deviations. The strategy is to first characterize the optimal contract subject
only to the necessary incentive compatibility constraints, and then prove that it is indeed incentive
compatible. As it turns out, this will be straightforward in this setting because the optimal contract
will coincide with letting the agent choose his own consumption, money, and capital (the optimal
contract coincides with autarky).
    We say that contract C = (c, m, k) solves the portfolio problem for w0 > 0 if it maximizes U (c, m)
subject to the dynamic budget constraint

                     dwt = (rt wt − ct − mt it + kt αt + θtT F P σ̃wt
                                                                   TFP
                                                                       + θtRS σ̃wt
                                                                                RS
                                                                                   )dt + kt σdWt                                                       (88)
                                  TFP
                              + σ̃wt  dZtT F P + σ̃wt
                                                   RS
                                                      dZtRS

with solvency constraint wt ≥ 0. This dynamic budget constraint is equivalent to
                                                        ˆ      ∞           ´t
                                                                                                                      
                                                   Q̃                   −        ru du
                                                   E                e       0            (ct + mt it )dt ≤ w0                                          (89)
                                                            0

It is well known that (82)-(86) are the FOCs for this portfolio problem, so we get the following

                                                                                     60
result.

Theorem 1. Let (c, m, k) be an optimal contract for initial utility u0 , with cost J(u0 ). Then (c, m, k)
solves the portfolio problem for w0 = J(u0 ).
    Conversely, let (c, m, k) solve the portfolio problem for some w0 > 0. If in addition limt→∞ E[e−rt wt ] =
0, then (c, m, k) is an optimal contract for initial utility u0 with J(u0 ) = w0 .

Remark. The condition limt→∞ E[e−rt wt ] = 0 must be satisfied in the competitive equilibrium in
the paper.

Comparison to Di Tella and Sannikov (2016)
This setting is essentially the same as in Di Tella and Sannikov (2016), with hidden investment
and perfect misreporting (φ = 1 in the context of that paper). The main result here is Theorem 1,
which is analogous to Lemma 28 in that paper. This is therefore a special case of the environment
in that paper.
    But there are some differences. First, here I allow aggregate risk shocks that affect the investment
environment. The setting in Di Tella and Sannikov (2016) is stationary. Second, in Di Tella and
Sannikov (2016) the agent faces a no-debt solvency constraint nt ≥ 0 on his hidden savings n. Here
I allow the agent to borrow up to the natural borrowing limit, using his income from the contract.
As it turns out the optimal contract is the same. The no-debt borrowing constraint relaxes the IC
constraints, but the principal does not use this freedom in the optimal contract. Intuitively, with
nt ≥ 0 the principal could backload the agent’s consumption if he wanted. But what he really wants
to do is to front load it.
    Finally, here I allow the agent to short capital in his hidden investment, k̃t < 0 and to overreport
returns, st < 0. This is done for simplicity. In Di Tella and Sannikov (2016) hidden investment and
misreporting must be non-negative, kt ≥ 0 and st ≥ 0, and the optimal contract is the same (for
the special case with φ = 1).

Proofs
Proof of Lemma 1

Proof. From the definition of the natural debt limit (80), if we take absolute value on both sides we
get the following inequality
                                   ˆ   ∞ ´u                                                                   
                                                                  s∗               s∗                      ∗
              |nt | ≤ St =   EQ̃
                              t          e   t   rτ dτ
                                                         |cu (Y        ) + mu (Y        )iu +   s∗u ku (Y s )|du   <∞
                                    t

where s∗ is the misreporting process that achieves the maximum in (80). The martingale represen-
tation theorem yields
        ´t               ´t               ∗           ∗                 ∗
      d e− 0 ru du St = −e− 0 ru du |ct (Y s ) + mt (Y s )it + s∗t kt (Y s )|dt + Q̃-local mart. terms


                                                                   61
                             h ´T          i
We also know that limT →∞ EQ̃ e− 0 ru du ST = 0. To see this, write

                       ˆ         T        ´u
                                                                                                                                         h ´T           i
                                                                     s∗                         s∗                       ∗
          S0 =   EQ̃
                  0                   e    0    rτ dτ
                                                           |cu (Y         ) + mu (Y                  )iu +    s∗u ku (Y s )|du       + EQ̃ e− 0 ru du ST
                              0

                                                                                                                                                                       ´T
and take the limit T → ∞, using the MCT on the first term. It follows that limT →∞ e−                                                                                  0    ru du
                                                                                                                                                                                    ST
exists and is zero almost surely (see Problem 3.16 in Karatzas and Shreve (2012)). Since |nt | ≤ St ,
                                                                                                                             ´t
the same is true for nt , and since nt ≥ nt , we obtain lim inf T →∞ e−                                                          0   ru du
                                                                                                                                             nt ≥ 0 a.s.

Proof of Lemma 2

Proof. In the first direction, use the dynamic budget constraint to compute
                h ´t                  ˆ t ´                                              
                                           − 0u rτ dτ
                              i
                  − 0 ru du
                 Q̃                Q̃                       s            s        s
              E e           nt = E        e           (cu (Y ) + mu (Y )iu + ku (Y )su )du
                                        0
                                      ˆ t ´                           
                                             u
                                − EQ̃     e− 0 rτ dτ (c̃u + m̃u iu )dt
                                                                           0
            h ´t          i
Subtract EQ̃ e− 0 ru du nt < ∞ from both sides. Because n0 is the maximum value that the agent
can get, we obtain an inequality:
         h ´t                               ˆ ∞ ´                                                  
                                                     − 0u rτ dτ
                               i
         Q̃− 0 ru du                     Q̃                            s        s           s
       E e           (nt − nt ) ≤ max E            e            (cu (Y ) + mu (Y )iu + ku (Y )su )du
                                    s         0
                                      ˆ t ´                             
                                   Q̃        − 0u rτ dτ
                                 −E         e           (c̃u + m̃u iu )du
                                                                           0

                              ˆ       t           ´u
                                                                                            h ´t                  i
                                               −
                      EQ̃
                                           e       0    rτ dτ
                                                                (c̃u + m̃u iu )du ≤ −n0 − EQ̃ e− 0 ru du (nt − nt )
                                   0

Take the limit t → ∞ and use nt ≥ nt to obtain the intertemporal budget constraint (81).
    In the other direction, define
                                                                           ˆ       ∞           ´u
                                                                                                                              
                                                                      Q̃                    −        rτ dτ
                                           nt = nt + E                                  e       t            (c̃u + m̃u iu )du ≥ nt
                                                                                t
                      h´               ´u                                   i         ´ t ´u                              ´t
                         ∞
Define Lt = EQ̃
             t            t   e−           t   rτ dτ
                                                           (c̃u + m̃u iu )du , so that 0 e− 0 rτ dτ (c̃u + m̃u iu )du + e− 0 rτ dτ Lt is a
                                                   ´t           ´u                          ∗                    ∗                    ∗
                                                                                                                                                       ´t
Q̃-martingale. Likewise, −                             0   e−   0    rτ dτ
                                                                               (cu (Y s ) + mu (Y s )iu + ku (Y s )s∗u )dt + e−                            0   rτ dτ
                                                                                                                                                                       nt is also
Q̃-martingale, where              s∗       is the misreporting process that achieves the maximum. So we can write
                    ∗           ∗             ∗
                                                                      
dnt = nt rt + ct (Y s ) + mt (Y s )it + kt (Y s )s∗t − (c̃t + m̃t it ) dt
                                      TFP     TFP
    + (σnt + σLt )(αt dt + dWt ) + (σ̃nt  + σ̃Lt  )(θtT F P dt + dZ̃tT F P ) + (σ̃nt
                                                                                  RS     RS
                                                                                     + σ̃Lt )(θtRS dt + dZ̃tRS )

                                 T F P + σ̃ T F P = σ̃ T F P , and σ̃ RS + σ̃ RS = σ̃ RS , we obtain the dynamic
Letting σnt + σLt = k̃t − kt , σ̃nt        Lt         nt             nt      Lt      nt
budget constraint (79).

                                                                                                 62
Proof of Lemma 3

Proof. Immediate from the argument in Section 6, noting that incentive compatibility requires
|n0 | < ∞.

Proof of Theorem 1

Proof. In the first direction, if (c, m, k) is an optimal contract, then it must satisfy the local IC
constraints (82)-(86), which are the FOC for the consumption-portfolio problem. So c and m
solve the optimal portfolio problem for some initial w0 , with an associated wealth process w that
satisfies the dynamic budget constraint (88) and wt ≥ 0. Now the IC constraint (87) pins down the
corresponding k. We know that ct = (1 − β)ρwt in the portfolio problem, so (87) and (83) imply

                                                     αt           kt
                                              σc =      = (1 − β)ρ σt
                                                     σt           ct

                                                           kt  αt
                                                     =⇒       = 2
                                                           wt  σt
which is the expression for capital in the portfolio problem. Finally, we need to show that w0 = J0 .
Integrate the dynamic budget constraint (88) and take expectations under Q to obtain
                                    ˆ    T                            
                       w0 = EQ                e−rt (ct + mt i − kt α)dt + EQ e−rT wT
                                                                                    
                                      0
                                                                            ´ ∞
                                                                                   e−rt (ct + mt i − kt α)dt = J0
                                                                                                            
If we take the limit T → ∞, the first term will converge to E                 0
(apply dominated converge theorem and use feasibility). For the second term, because everything
is proportional to w, we must have Jt = Awt for some A > 0 (it will be A = 1). The continuation
                             ´ ∞
cost of the contract Jt = Et t e−rs (cs + ms i − αks )ds must satisfy limT →∞ E e−rT JT = 0,
                                                                                       
               −rT w ] = 0 and therefore w = J . To see why lim
                                                                            −rT 
so limT →∞
        h´ E[e      T             i        0     0                  T →∞ E e    JT = 0, write
           T −rt                         −rT 
J0 = E 0 e (ct + mt i − kt α)dt + E e        JT and take T → ∞ (using DCT and feasibility
again).
   In the other direction, suppose (c, m, k) solve the portfolio problem with associated wealth
                                               1
process w and utility utility U (w) =          ρ (log w   − log ξ). Notice that this is the only contract that
satisfies the local IC constraints and delivers utility u0 = ρ1 (log w0 − log ξ). (82)-(86) are the FOC
for the portfolio problem, and pin down c and m up to an initial constant (corresponding to w0 ).
                              αt
We also know that kt /wt =    σt2
                                    and ct = (1 − β)ρwt , so from (83) we get the skin in the game IC
constraint (87)
                                         αt    kt              kt
                                     σct =  =     σt = (1 − β)ρ σt
                                         σt   wt               ct
                                                       −rT 
The contract (c, m, k) is feasible because limT →∞ E e      wT = 0 (each term is proportional to w,
so it grows slower than r). The contract is globally incentive compatible, because the agent is only
getting risk-free debt from the principal, and doing what he wants.
   It only remains to show that we can’t achieve more utility. Integrate the dynamic budget

                                                           63
constraint to obtain
                                 ˆ   T                           
                                          −rt
                                                (ct + mt i − kt α)dt + E e−rT wT
                                                                                
                        w0 = E            e
                                  0

and take the limit T → ∞ to obtain J0 = w0 > 0. So giving the agent more utility (scaling up the
contract) will cost more.




                                                       64
