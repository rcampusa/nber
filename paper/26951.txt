                                NBER WORKING PAPER SERIES




                       LEAVING NO ETHICAL VALUE BEHIND:
                TRIAGE PROTOCOL DESIGN FOR PANDEMIC RATIONING

                                          Parag A. Pathak
                                          Tayfun Sönmez
                                          M. Utku Unver
                                         M. Bumin Yenmez

                                        Working Paper 26951
                                http://www.nber.org/papers/w26951


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                      April 2020




We are grateful for input from several medical professionals. Nikhil Agarwal, Alex Rees-Jones, Robert
Truog, Iván Werning, and Doug White provided helpful comments. Feedback from Eric Budish, David
Delacrétaz, and Govind Persad was particularly valuable. The views expressed herein are those of
the authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2020 by Parag A. Pathak, Tayfun Sönmez, M. Utku Unver, and M. Bumin Yenmez. All rights reserved.
Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.
Leaving No Ethical Value Behind: Triage Protocol Design for Pandemic Rationing
Parag A. Pathak, Tayfun Sönmez, M. Utku Unver, and M. Bumin Yenmez
NBER Working Paper No. 26951
April 2020
JEL No. D45,D47,I3

                                               ABSTRACT

Rationing of medical resources is a critical issue in the COVID-19 pandemic. Most existing triage
protocols are based on a priority point system, in which a formula specifies the order in which the
supply of a resource, such as a ventilator, is to be rationed for patients. A priority point system generates
an identical priority ranking specifying claims on all units. Triage protocols in some states (e.g. Michigan)
prioritize frontline health workers giving heavier weight to the ethical principle of instrumental value.
Others (e.g. New York) do not, reasoning that if frontline workers obtain high enough priority, there
is a risk that they obtain all units and none remain for the general community. This debate is pressing
given substantial COVID-19 health risks for frontline workers. In this paper, we analyze the consequences
of rationing medical resources through a reserve system. In a reserve system, resources are placed
into multiple categories. Priorities guiding allocation of units can reflect different ethical values between
these categories. A reserve system provides additional flexibility over a priority point system because
it does not dictate a single priority order for the allocation of all units. It offers a middle-ground approach
that balances competing objectives, such as in the medical worker debate. This flexibility requires
attention to implementation, especially the processing order of reserve categories. We describe our
model of a reserve system, characterize its potential outcomes, and examine distributional implications
of particular reserve systems. We also discuss several practical considerations with triage protocol
design.


Parag A. Pathak                                        M. Utku Unver
Department of Economics, E52-426                       Boston College
MIT                                                    Department of Economics
50 Memorial Drive                                      140 Comm. Ave.
Cambridge, MA 02142                                    Chestnut Hill, MA, 02467
and NBER                                               unver@bc.edu
ppathak@mit.edu
                                                       M. Bumin Yenmez
Tayfun Sönmez                                          Boston College
Boston College                                         Department of Economics
Department of Economics                                140 Commonwealth Ave.
140 Comm. Ave.                                         Chestnut Hill, MA 02467
Chestnut Hill, MA, 02467                               bumin.yenmez@bc.edu
tayfun.sonmez@bc.edu
        “If you fail to plan, you are planning to fail.”
                                                                                       — Benjamin Franklin


1        Introduction
The COVID-19 pandemic has inspired renewed attention to how medical resources are rationed.
As of the writing of this paper, intensive care unit (ICU) beds and ventilators are among the two
most important scarce resources. In the United States, as of March 2020, there were between
68,000-85,000 ICU beds for the adult population. The total number of full-featured ventilators
ranged between 72,000-82,000 including those in the Strategic National Stockpile, and there
were roughly 100,000 additional partial-feature ventilators (Emanuel et al., 2020). Operating
ventilators also requires respiratory therapists and other staff, and a large fraction of existing
ventilator capacity is already deployed during non-emergency times.1 The U.S. Centers for
Disease Control estimates that upwards of 21 million Americans will require hospitalization
for COVID-19, and evidence from Italy suggests that 10-25% of those hospitalized will require
ventilators (Truog, Mitchell and Daley, 2020). While these forecasts evolve daily, Emanuel et al.
(2020) argue it is unclear how quickly supply can meet demand even with recent efforts to
increase production of these critical resources.
    How to implement a fair rationing system during a pandemic presents a complicated question
rife with ethical concerns. Medical ethicists have established several principles for rationing
scarce medical resources in the case of influenza. Many states have proposed frameworks or
explicit rules during severe pandemics too.2 These principles echo formal normative criteria
in resource allocation problems in economics. For example, one principle is to treat people
equally regardless of their socioeconomic status, age, or race. A second principle is to maximize
expected health outcomes measured through age, preexisting health conditions, or some notion
of quality-adjusted life years. A third, sometimes conflicting, principle is to help the worst off or
the sickest. Yet another principle considers a patient’s instrumental value, which is a forward-
looking justification for protecting frontline health workers. Whatever principle is adopted, there
is widespread consensus that any rationing protocol should be transparent, applied consistently,
and not be left to the discretion of frontline health workers, who may be under severe pressure
(Truog, Mitchell and Daley, 2020).
    Contested debates on these ethical principles have motivated several in the medical commu-
nity to propose a priority point system. In a priority point system, an explicit formula specifies
the order in which resources should be rationed. Although our analysis applies to a variety of
medical resources, we use ventilators to simplify terminology.
    The 2015 New York State Task Force on Ventilator Allocation is an example of a priority
point system. It has influenced the protocols of several states. The system recommends that after
    1
     The New York State Ventilator Guidelines in 2015 state that during non-emergency normal conditions, 85%
of ventilators are used, leaving only 15% available for new cases (Zucker et al., 2015, p. 27).
   2
     Guidelines include Maryland (Daugherty-Biddison et al., 2017), Michigan (Michigan, 2012) Minnesota (Vawter
et al., 2010), New York (Zucker et al., 2015), North Carolina (Tong and Devlin, 2007), Ontario (Christian et al.,
2006), South Carolina (Ball and Schneider, 2009), the Swiss Influenza Pandemic Plan (Iten and Strupler, 2018),
and Utah (DoH, 2018).


                                                       2
certain patients are excluded, there should be a priority order for patients based on estimated
mortality risk and such patient’s priority status should be re-evaluated every 48 hours based
on changes in health status (Zucker et al., 2015). Mortality risk is measured by the Sequential
Organ Failure Assessment (SOFA) score.3 At any priority level, there is the potential that one
priority group could completely exhaust the remaining available resources. In cases of excess
demand upon remaining resources by a given priority group, New York and other proposals
recommended random allocation – a lottery – among equal-priority patients (Zucker et al.,
2015; Emanuel et al., 2020).
    Several criticize priority point systems solely based on SOFA for ignoring multiple ethical
values. Task forces commissioned to develop guidelines recognize the need to integrate a va-
riety ethical values and advocate for a multi-principle approach, see, e.g., White et al. (2009)
and Daugherty-Biddison et al. (2017). For example, a Johns Hopkins study examining public
perceptions of different ethical principles summarized (Biddison et al., 2013):

       Both groups suggested alternative strategies, such as organ transplantation allocation
       criteria as a model or adopting a tiered approach by applying different principles at
       different stages in process.

To integrate multiple ethical values, White et al. (2009) formulates a multi-principle priority
point system. Using a similar aggregation methodology as was used to construct the SOFA
score, in this mechanism several ethical values are put on a numeric scale and summed up across
ethical values to arrive at a single number. A patient with the lowest score receives the highest
priority. Whereas the SOFA score is widely accepted as a proxy for mortality risk, aggregating
scores across different ethical values may result in non-commensurable comparisons.
    While a priority point system - whether single or multi-principle– does provide a well-defined
protocol, we argue that it does not offer the flexibility to accommodate competing objectives
and values. In this paper, we consider an alternative way to accommodate different ethical
principles through a reserve system. In a reserve system, patients are identified as members of
particular groups – e.g., young or old, frontline health worker or not, very sick or sick. Group
membership can overlap: a young patient could also be a frontline health worker. In a reserve
system, reserve sizes (i.e., the quantity of resources reserved) are set for each group, and within
a reserve group, priority can be based on an explicit score or random assignment. Though
the word reserve might suggest that some resources may be unused, in our main application of
allocation of vital medical resources, we restrict attention to soft reserves where no units are
left unassigned.4 A reserve system provides additional flexibility over a priority point system
because priority points need not apply to the allocation of all resources. For example, a fraction
is reserved for frontline health workers, while the rest is unreserved for all community members.
Frontline health workers are always first in line in their reserve category, and the remaining
   3
     The European Society of Intensive Care Medicine devised the SOFA score at a consensus meeting in October
1994 in Paris, France (Vincent et al., 1996). Each of six organ systems – lungs, liver, brain, kidneys, blood
clotting, and blood pressure – is independently assigned a score of 1 to 4. The SOFA score sums these six scores,
with sicker patients generally being assigned higher scores. While not initially designed as a prognostic score,
subsequent research supports its use for that end (Jones, Trzeciak and Kline, 2009).
   4
     See Section 3.4 for the definition of soft and hard reserves.


                                                       3
priorities can be the same. This system balances their interests against other ethical goals.
    Reserve systems are widespread in resource allocation settings outside of medicine when there
are conflicting objectives.5 The key idea of a reserve system is to divide the total supply into
several categories, and consider allocation for these smaller number of units separately. Specific
objectives can be realized within these categories, using explicit priorities or randomization. The
advantage of a reserve system is in its flexibility. A priority point system obscures trade-offs
between different principles because it aggregates several different considerations into a single
priority score. It is even possible that one principle might dominate other principles unexpectedly
depending on how scores are scaled.
    It is important to note that we are agnostic on what the reserve types or sizes should be. Our
primary aim is to inform the debate on how a reserve system can be used to balance competing
objectives, and provide a route forward in several high-stakes debates on rationing. We do,
however, discuss some reserve categories below only to indicate possibilities, and leave the final
decisions to medical ethicists, task forces, and other stakeholders.
    We first illustrate the power of a reserve system by explaining how it can assist with the
debate on whether frontline health workers should obtain priority for vital medical resources.
Under Michigan’s guidelines, essential personnel are prioritized for these resources (Michigan,
2012). Ethicists have also emphasize its importance in the current pandemic (see, e.g., Emanuel
et al. (2020) and White and Lo (2020)). On the other hand, the Minnesota Pandemic Working
group argued against prioritizing frontline health workers, suggesting they should be treated the
same way as all other patients (Vawter et al., 2010). One reason they offer is

      ... it is possible that they [key workers] would use most, if not all, of the short supply of
      ventilators; other groups systematically would be deprived access.

The New York State Task Force also struggled with this topic, recognizing the need to provide
“insurance” for frontline health workers. However, they ultimately decided that access should
only depend on a patient’s clinical factors and not their occupation. There are presently deep
disagreements on these issues as several states, medical associations, and hospitals develop their
own guidelines (Fink, 2020). A reserve system provides a resolution to this conundrum, because
only a subset of resources are reserved for frontline health workers and the rest are unreserved and
open for any group that is eligible for the resources. Prioritization within these two categories
can be based on a lottery or explicit criteria related to mortality risk. A reserve system would
accommodate both concerns.
    A second debate about priority systems involves whether a certain group can be excluded
from treatment as opposed to merely being placed in the lowest priority group. In the Alabama
plan announced in March 2020, individuals with severe or profound mental disabilities were
considered “unlikely candidates for ventilator support.”6 Washington state guidelines recom-
mended that hospital patients with “loss of reserves in energy, physical ability, cognition and
general health” be switched to outpatient or palliative care (Fink, 2020). If certain groups are
  5
    Examples include school assignment, affirmative action, and immigration visa allocation.
  6
    After widespread backlash, this plan was withdrawn on April 9, 2020. Carter (2020) warns that plans that
discriminate against the disabled may violate the Americans with Disabilities Act.



                                                     4
prohibited from receiving vital resources, it violates a fundamental principle of non-exclusion.
That is, it violates the idea that every patient, no matter his or her circumstances, should have
some hope of obtaining a life-saving resource. In a reserve system, if a portion of vital resources
are set aside for all, even if that allotment is small, and random allocation is used for that
segment, every patient could possibly obtain it. In contrast, in a priority system coupled with
excess demand for available resources by the higher-priority groups – even without any explicit
exclusion of certain types of individuals – there will be some patients who would never be treated
during a shortage.
     Reserve systems have an important medical precedent in deceased donor kidney allocation,
where there is also scarcity. Until 2014, the U.S. Organ Procurement and Transplantation
Network (OPTN) used a priority system to allocate deceased donor kidneys (OPTN, 2014).
After establishing medical compatibility, patients were ordered by priority type, and then priority
points, with ties broken by waiting time.7 In 2014, the OPTN system changed to include a reserve
(Israni et al., 2014). In the reserve, 20% of the highest quality kidneys are reserved for adults
with the highest 20% expected post-transplant survival score (EPTS). A priority points system
is used for the remaining kidneys. Parallel to our motive for introducing reserve systems (i.e.
better integration of various ethical principles), OPTN added this reserve to better reflect the
ethical principle of utilitarianism, which was not as prominently captured in the prior system.8
     While the advantage of a reserve system is its flexibility, it requires careful implementation.
In some cases, implementation is straightforward. For kidneys, specific kidneys are reserved
based on their quality through a formula, and there is a natural order of awarding these kidneys
based on their arrival time. That is, whenever a high-quality kidney that qualifies for the 20%
reserve arrives, priority is given to patients in the preferential treatment group for these types
of kidneys. However, for rationing homogenous objects like ventilators or ICU beds, the design
of reserve systems is more challenging. In particular, in a system that reserves a fraction of
units for various groups, the processing order of reserve categories is important. In fact, there
are now several instances of reserve systems with systematic implementation errors because of
these complexities.9
     Since a reserve system is not uniquely defined in our application, we start our theoretical
analysis by formulating three basic principles any reserve system should satisfy. Theorem 1
characterizes the entire class of reserve systems satisfying these properties. Some mechanisms
in this class have intuitive interpretations, while others do not. Given our market design fo-
cus, we restrict attention on a subset of these mechanisms which have clear interpretations and
have the greatest practical relevance. These mechanisms process reserve categories sequentially
and are widely observed in real-life applications. A major insight of our analysis is that when
implementing a reserve system, processing a reserve category earlier is detrimental to its bene-
ficiaries (Theorem 2). Theorems 3 and 4 establish upper and lower bounds for certain groups of
   7
      Agarwal et al. (2019) describe that in the NYC-area system, priority was given first to patients with a perfect
tissue-type match, then to patients from the local procurement organization, and finally to patients in close
geographic proximity.
    8
      The New Kidney Allocation System (KAS) Frequently Asked Questions, Organ Procurement and Transplan-
tation Network. Available at https://optn.transplant.hrsa.gov/media/1235/kas_faqs.pdf.
    9
      See Section 2.3.


                                                         5
individuals for the case of hard reserves.
    Section 2 discusses several practical aspects of triage protocol design and its connection
to the COVID-19 pandemic. Section 3 presents our formal model of reserve systems, states
our main characterization theorem, and analyzes the welfare implications of reserve processing.
Section 4 discusses some other considerations for triage rationing as well as some future research
directions. The paper concludes in Section 5. All proofs are relegated to the appendix.


2        Design Considerations for Triage Protocol
2.1      The Case Against the Priority Point System
In a priority point system, all units are allocated following a single priority order, often deter-
mined with points. Mortality risk, often measured by SOFA scores, is a common input to the
point score. In some states, the priority system is only based on SOFA scores. White et al.
(2009) criticize the use of these single-principle priority point systems for a narrow utilitarian
perspective that completely ignores several other ethical values. This criticism is also echoed by
several community studies including Biddison et al. (2013) and Daugherty-Biddison et al. (2017).
White et al. (2009) advocates a multi-principle approach and formulates a multi-principle pri-
ority point system to implement this approach. This system, shown in Table 1, has become the
leading multi-principle priority point system.10




Under the White et al. (2009) point system, the ethical values of saving the most lives, saving
the most years of life, and the life-cycle principle are integrated through an additive formula. To
    10
    As of April 24, 2020, California, Colorado, Massachusetts, New Jersey, Oklahoma, and Pennsylvania have
adopted variants of this system. de Pu Kamp, Devine and Griffin (2020) reports that several hundred hospitals
around the country have adopted this system.


                                                     6
illustrate how it works, consider a hypothetical patient with a SOFA score of seven. She obtains
two points based on the ethical value of saving the most lives. If the patient has no chronic
diseases or comorbidities and is between 61-74 years old, she obtains four more points based on
the other two ethical values yielding a total of six. A patient with a lower total point score has
a higher priority for the resource than a patient with a higher total point score.11 Between the
SOFA-based priority point system and White et al. (2009) multi-principle point system, more
than half of US states use a priority point system (Whyte, 2020).
    The strength of the priority point mechanism is simplicity. Each ethical value is represented
with a monotonic integer valued function. Values are then integrated with an additive formula
producing an aggregate point score for each patient. The claims of patients over medical re-
sources are determined based on their point scores, with a lower score typically indicating a
higher claim. While practical, priority point mechanisms are limiting for a number of reasons.
    First, priority points norm or scale different and potentially-unrelated ethical principles into
one dimension. These challenges are like the usual ones associated with aggregating social alter-
natives into a single ordering based on multiple inputs – a situation which involves “comparing
apples to oranges.” The debate on how rationing guidelines should compare claims of children
versus adults illustrates the issue. Massachusetts guidelines state that indicators that feed into
scores for adults are not reliable for children (Bateman et al., 2020). They explain that “scoring
systems that are meaningful for adult critical care patients do not apply to pediatric patients or
newborns.” As a result, the Massachusetts guidelines use a different scoring system for children.
However, their point system then uses a single priority point system to evaluate all patients
together, which ends up comparing the point scores of children with those of adults.
    Second, there are some ethical principles where the claims of patients cannot be represented
with a monotonic function. One example pertains to group-based policies, such as those related
to regions or gender. For example, the European Union has proposed balanced participation of
women and men in political and public decision making by requiring that at least 40% of public
offices are held by women and at least 40% are held by men (Dittmar, 2018; Rankin, 2020).
For medical rationing, it is possible that a future pandemic is so devastating that it threatens
a significant portion of the human race. In such a hypothetical crisis, a principle based on
survival of the species may suggest a similar constraint. A guideline may recommend to allocate
at least 40% of vital resources to female patients and at least 40% to male patients. Clearly,
considerations based on group composition cannot be represented with a function that relies only
on individual attributes. Similarly, a priority point system cannot accommodate a guideline that
wishes to allocate resources to disabled citizens in proportion to their representation in society.
    The visible debate on prioritizing essential personnel also illustrates problems with priority
point systems. Claims for essential personnel are based on the backward-looking principle of
reciprocity and the forward-looking principle of instrumental value, which have been strongly
endorsed by medical ethicists (Emanuel et al., 2020). Despite recognizing these claims, state task
forces in New York and Minnesota ultimately did not embrace them. They cited concerns about
the extreme scenarios where no units remain for general community members (Zucker et al., 2015;
  11
    Most protocols specifies a tie-breaker between patients with identical total points, although the South Carolina
protocol fails to provide one.



                                                         7
Vawter et al., 2010). In contrast, priority is given to essential workers in states like Michigan.
In between, some guidelines recognize priority for this group, but are vague on implementation.
For example, Massachusetts guidelines provide precise details about its adaption of White et al.
(2009). Yet, their guidelines append a paragraph calling for “heightened priority” for frontline
workers without describing how it is to be implemented. This lack of transparency contrasts with
the level of precision regarding other ethical principles, and may reflect their inability to arrive
at consensus given the underlying priority point system. These examples show the restriction to
priority point systems has often resulted in adaptation of two polar opposite policies on essential
personnel priority, or an imprecise description of it.

2.2      Reserve Systems as a Remedy and Its Main Parameters
All of the challenges presented in Section 2.1 stem from one simple but limiting feature of a
priority point system: it results in a priority ranking that is identical for each unit. A reserve
system eliminates this feature of the mechanism because it allows for heterogeneity of patient
claims over different units.
    A reserve system has three main parameters. They are:
  1. a division of all units into multiple segments referred to as reserve categories,12

  2. number of units in each of these categories, and

  3. specification of a priority order of the patients in each of these categories.
For some (or all) of the reserve categories, there can also be exclusion criteria, based on the
nature of the medical resource that is being rationed along with the patient’s clinical assessment.
The priority order of patients for each category also incorporates this information. Reserve
categories can differ either based on the groups to receive higher priority, or the combination of
ethical principles to be invoked. The main idea is to use the associated priority order – which
embeds ethical principles – when allocating units in each reserve category. Importantly, the
priority order need not be the same between reserve categories.
    In some reserve systems, three conditions hold: 1) units are heterogeneous and specific units
are reserved for specific reserve categories, 2) units are perishable and have to be allocated as
soon as they arrive, and 3) units arrive sequentially. Under these conditions, the allocation
process is uniquely determined: allocate each unit as soon as it arrives to the highest priority
agent in its reserve category. These conditions apply, for example, for the reserve system used
for the allocation of deceased-donor kidneys in the U.S.
    In many applications, however, one or more of these conditions fail. When this happens,
there are several mechanisms to implement a reserve system. Our application, the allocation
of medical resources during a pandemic, is an example where three conditions are not satisfied
and there are multiple ways to implement a reserve system. While scarce medical resources may
become available sequentially, they are often homogenous and non-perishable. A reserve system
can be implemented in those applications through a wide class of mechanisms, formally char-
acterized in Theorem 1 in Section 3. The outcome of these mechanisms can differ considerably
 12
      This division is for accounting purposes only, and it does not attach a specific unit to a category.


                                                          8
depending on the choice of the mechanism, and not all of these mechanisms have an intuitive
interpretation. This multiplicity resulted in the emergence of a subclass of these mechanisms in
real-life applications of these problem, where categories are processed sequentially for a given
order of categories. In the context of medical resource rationing, our focus is this intuitive
subclass of reserve systems we call sequential reserve matching rules. As a result, for our main
application of interest, there is one additional parameter of a reserve system: the processing
sequence of categories. This parameter plays an important role in the distribution of the units,
and so we elaborate on its relevance next.

2.3     Reserve Category Processing Sequence
Sequential reserve matching rules were first formally introduced by Kominers and Sönmez (2016)
in a more general environment with heterogenous units and multiple terms of allocation. Al-
though not life-and-death situations, reserve systems are widespread in real-life applications
including the implementation of affirmative action policies in school choice in Boston (Dur
et al., 2018), Chicago (Dur, Pathak and Sönmez, 2019), the implementation of reservation poli-
cies in India (Sönmez and Yenmez, 2019a,b), and the allocation of immigration visas in the U.S.
(Pathak, Rees-Jones and Sönmez, 2020a). As shown in these studies, the processing order of
reserve categories is a key parameter with significant distributional implications.13
     To explain intuitively why processing order is important, imagine a simple scenario in which
there are 60 ventilators. A medical ethics committee decides that there are two important princi-
ples: equal treatment of equals and prioritizing essential medical personnel. Based on their view,
they define a reserve category for essential medical personnel, which reserves 50% of ventilators
for them. Within this reservation, there is random allocation via lottery. The remaining 50%
of ventilators are unreserved and open to all patients, including essential personnel. These are
also allocated via lottery. Suppose that there are 60 essential personnel who need a ventilator
and 60 other patients who do as well. If the essential personnel reserve category is processed
first, then all 30 ventilators in this category are allocated to them. If a new lottery is drawn
for the remaining 30 unreserved ventilators, since there are 60 other patients and 30 remaining
essential personnel, the lottery results in 20 unreserved ventilators (2/3 × 30 = 20) allocated to
other patients and 10 unreserved ventilators (1/3 × 30 = 10) to essential personnel. The total
number of ventilators awarded to essential personnel is 40 and the total number awarded to
other patients is 20. On the other hand, if the reserve category is processed after the unreserved
units, then the 30 unreserved units will be split evenly between the essential personnel and other
  13
    The U.S. Customs and Immigration has a reserve system for the H1-B immigration visas, and since 2005, it
has deployed four different allocation mechanisms, sometimes unintentionally (Pathak, Rees-Jones and Sönmez,
2020a). Boston Public Schools had a reserve system in its school assignment plan in which half of each school’s
seats were reserved for students from the neighborhood. In 2013, after realizing that how reserves are processed
dramatically influences their impact, the city abandoned the reserve after significant public debate (Pathak and
Sönmez, 2013b; Dur et al., 2018). India’s public universities and jobs use reserve systems for affirmative action.
Since there are many traits eligible for reserves, faulty implementation of reserves has generated countless litigation
and confusion (Sönmez and Yenmez, 2019a,b). Finally, Pathak, Rees-Jones and Sönmez (2020b) show that a large
number of participants in an incentivized experiment have incorrect beliefs about some properties of reserve
systems.



                                                          9
patients. The 30 remaining ventilators are all reserved and allocated to essential personnel. This
results assigning 45 ventilators to essential personnel and 15 ventilators to other patients. Thus
in this simple example, the choice of the processing sequence of categories is a matter of life or
death for 5 essential medical personnel and 5 members of the general community.
    As this simple example illustrates, our application to triage protocol design is another setting
where reserve processing matters. Indeed, understanding the implications of reserve category
processing order is especially critical in our application given the emphasis on transparency.
Much of our theoretical analysis in Section 3 relates to this subtle aspect of sequential reserve
matching rules. Perhaps the most important lesson from this analysis is that the later a reserve
category is processed the better it is for its beneficiaries. This important feature, also apparent
in the example above, has the following important implications for design. If a reserve category
is intended as a “boost” for a group of participants, then the category should be processed
after more inclusive categories open to all. This form of implementing reserve policies can be
interpreted as an over-and-above policy. In contrast, if a reserve category is intended as a
“protective measure” for a group of participants, then the category should be processed after
more inclusive categories open to all. This second form of implementing reserve policies can be
interpreted as a minimum guarantee policy.14

2.4    Potential Reserve Categories
The parameters of a reserve system can be modified for different medical resources. Emanuel
et al. (2020) emphasizes that “prioritization guidelines should differ by intervention and should
respond to changing scientific evidence.” In particular, vaccines and tests may rely on different
ethical principles than ventilators and ICU beds. Clearly, decisions about reserve sizes and
reserve categories are up to the medical community and other stakeholders. However, we next
describe some potentially important reserve categories that can be utilized to overcome several
difficulties that emerge due to limitations of priority point systems.
     Any reserve category has to be based on well-established ethical principles. One of these
principles is reciprocity towards persons who accept risk for the common good of saving lives
or who have saved lives in the past. Reciprocity is a backward-looking principle and is closely
related to the forward-looking principle of instrumental value, which gives priority to those who
can save others in the future (Emanuel et al., 2020; White and Lo, 2020).
     If the intention of a reserve category is based on either or both of these ethical values, then the
category could be implemented in the form of over-and-above policies to provide an additional
boost. The first reserve category we consider below, motivated by the real-life difficulties of
implementing essential personnel priorities under existing guidelines, is based on both ethical
  14
     Starting with the landmark Supreme Court of India case Indra Sawhney and others v. Union of India (1992),
over-and-above and minimum guarantee policies have been explicitly considered in countless court decisions on
affirmative action in India. The judges in Indra Sawhney (1992) introduced the over-and-above implementation
as a higher form of reserve policies to provide an additional boost to the historically discriminated against
members of the reserve groups such as Scheduled Castes, Scheduled Tribes and Other Backward Classes, and
they introduced the minimum guarantee implementation as a lower form of these policies as a protective measure
for other disadvantaged groups such as persons with disabilities. Sönmez and Yenmez (2019a,b) conduct a detailed
analysis of Indian affirmative action policies.


                                                       10
principles.

2.4.1     Essential Personnel Category

The essential personnel category provides some form of priority to personnel such as frontline
health workers. Essential personnel may have made potentially life-saving contributions to
society in the past, and they are presently subject to severe risks. Therefore, ethicists justify
this reserve on the basis of both reciprocity and instrumental value. Furthermore, Emanuel
et al. (2020) offers the following incentive-based rationale for prioritizing essential personnel:

        . . . but giving them priority for ventilators recognizes their assumption of the high-risk
        work of saving others, and it may also discourage absenteeism.

   Nevertheless, essential personnel are not prioritized in several state guidelines. One of the
main justifications for denying essential personnel priority is articulated in 2015 New York State
Ventilator Allocation Guidelines (Zucker et al., 2015):

        Expanding the category of privilege to include all the workers listed above may mean
        that only health care workers obtain access to ventilators in certain communities. This
        approach may leave no ventilators for community members, including children; this al-
        ternative was unacceptable to the Task Force.

Limiting priority allocation of ventilators to essential personnel for only a subset of ventilators is
a natural compromise, compared to the two extreme policies that either provide it for all units
(e.g. Michigan) or for none of the units (e.g. New York State and Minnesota).

2.4.2     Good Samaritan Reciprocity Category

Another possible category is a Good Samaritan reciprocity category, which provides priority
based on Good Samaritan acts. In such a category, a small fraction of resources are reserved for
those who have saved lives through their past Good Samaritan acts. These could be participants
for clinical trials on vaccine or treatment development (Emanuel et al., 2020), altruistic donors
who have donated their kidneys to a stranger, or people who have donated large quantities of
blood over the years. Good samaritan status can also be provided for compatible patient-donor
pairs who voluntarily participate in kidney exchange even though they do not have to, and save
another patient’s life who was incompatible with his/her donor. This type of incentive could save
a large number of lives. Sönmez, Ünver and Yenmez (2020) estimate a 180 additional kidney
patients could receive living donor transplants for every 10 percent of compatible pairs who can
be incentivized to participate in kidney exchange. A state task force can determine which acts
“deserve” a Good Samaritan status.
    In addition to the widely-accepted ethical principle of reciprocity, this category can also
be motivated by the incentives it creates. If the aim is to maximize this incentive, it could be
implemented as an over-and-above policy. Even though a triage rationing protocol will hopefully
be rarely deployed, the mere existence of a modest reserve of this nature may mitigate more
persistent and ongoing crises in other healthcare domains through the incentives it creates.


                                                    11
2.4.3     Protective Reserve Categories: Disabled and Disadvantaged

Disabilities rights advocates have opposed rationing plans based on expected health outcomes
using survival probabilities because such criteria are inherently discriminatory.15 Persad (2020)
recounts that several prefer either random selection or minimal triage that completely ignores
any differences in likelihood or magnitude of benefit, or the likely quantity of resources required
for benefit. A reserve system allows for a resolution of this dispute. In particular, a disabled
protective category can be established for disabled patients reserving some of the units for these
groups. If the representatives of these groups reach a decision to implement random lottery
within disabled patients for these units, this can be implemented under a reserve system without
interfering with the priority order for units in other categories.
    Another criticism of priority point systems which use mortality risk or comorbidities as part
of the priority score is that these criteria do not take into account differences in expected health
outcomes driven by discrimination in access to health care or other social inequalities. For in-
stance, disparate access to testing for disadvantaged groups may increase COVID-19 prevalence
in these communities (Blow, 2020). A reserve system can be used to accommodate this perspec-
tive. A portion of scarce resources could be set aside in the form of a disadvantaged protective
category based on legally-permissible measures of disadvantage. If this reserve is intended solely
for protective reasons as we envision, it could be implemented as a minimum guarantee.

2.5     Priorities
The last lever of a reserve system is the priority order in each reserve category. As we have
already described, each of the potential categories we discussed, i.e. essential personnel category,
Good Samaritan reciprocity category, disabled protective category, or disadvantaged protective
category would prioritize the target group of patients relative to others. However, the extent to
which policymakers prioritize patients from groups relative to others is flexible. We offer a few
examples to show possibilities.
    If instrumental value is the primary ethical consideration, the essential personnel reserve
category could give absolute priority to frontline health workers and clinical criteria could be
used as a tie-breaker in this category. Alternatively, clinical criteria could be the main criteria,
and essential personnel status could be a tie-breaker. Both methods are valid in a reserve system,
although with different degrees of preferential treatment. In fact, this example is similar to an
idea explored in Pittsburgh’s system (White et al., 2020). Although there is no reserve, the
priority score uses the SOFA score and comorbidities. Life-cycle and instrumental considerations
shape the tie-breakers:

        In the event that there are ‘ties’ in priority scores/categories between patients and not
        enough critical care resources for all patients with the lowest scores, life-cycle considera-
  15
    Ne’eman (2020) argues that provisions that exclude certain groups can undermine overall trust in the medical
system “based on a well-founded fear of being sacrificed for the greater good.” The Disability Rights Education
and Defense Fund argues that the probability of survival should not be considered as long as it is positive (DREDF,
2020). That is, they claim that the “use of a disability to deny or limit an individual’s access to health care or
to provide them a lower priority in accessing scarce resources or supplies constitutes a clear violation of disability
nondiscrimination law.”


                                                         12
         tions should be used as the first tiebreaker, with priority going to younger patients. We
         recommend the following categories: age 12-40, age 41-60, age 61-75, older than age
         75. We also recommend that individuals who are vital to the acute care response be
         given priority, which could be operationalized in the form of a tiebreaker.

   The Pittsburgh system illustrates that preferential treatment for essential personnel can be
modest: it is only a tie-breaker and the primary ethical considerations are based on saving the
most lives.16


3        Formal Model and Analysis
While our primary application is pandemic rationing of scarce medical resources, in this section
we provide a more general model which has several other applications including affirmative
action in school choice (Pathak and Sönmez, 2013b; Dur et al., 2018; Correa et al., 2019), college
admissions (Aygün and Bo, 2016; Baswana et al., 2018), assignment of government positions
(Sönmez and Yenmez, 2019a,b), and diversity in immigration visa allocation (Pathak, Rees-Jones
and Sönmez, 2020a). Despite this generality, the terminology is tailored to our main application.
    There is a set of patients I and q identical medical units to allocate. There is a set of
                                                                                     P
reserve categories C. For each category c ∈ C, rc units are reserved so that c∈C rc = q.
It is important to emphasize that individual units are not associated with the categories in
our model. The phrase “rc units are reserved” does not mean specific units are set aside for
category c. Rather, it means that for the purposes of accounting, a total of unspecified rc units
are attached to category c.
    For each category c ∈ C, there is a linear priority order πc over the set of patients I and ∅.
For our main application of pandemic rationing, the linear order πc priority orders the patients
based on the ethical principle guiding allocation of units in category c. For each category c ∈ C
and patient i ∈ I, we say that patient i is eligible for category c if

                                                      i πc ∅.

    A matching µ : I → C ∪ {∅} is a function that maps each patient either to a category or
to ∅ such that, µ−1 (c) ≤ rc for every category c ∈ C. For any patient i ∈ I, µ(i) = ∅ means
that the patient does not receive a unit and µ(i) = c ∈ C means that the patient receives a unit
reserved for category c. Let M denote the set of matchings.
    For any matching µ ∈ M and any subset of patients I 0 ⊆ I, let µ(I 0 ) denote the set of
patients in I 0 who are matched with a category under matching µ. More formally,

                                          µ(I 0 ) = i ∈ I 0 : µ(i) ∈ C .
                                                   

    16
     The Pittsburgh system also suggests the potential need for a reserve system, given that its designers hesi-
tated recommending a single tie-breaker. Instead, the guideline suggests utilization of either the age or essential
personnel status as a tie-breaker. Clearly, the designers saw saving the most lives as more justified than either the
life-cycle principle or the instrumental value principle. On the other hand, the guidelines did not choose between
these two ethical values in the event of tie-breaking. In contrast, a reserve system offers flexibility to use one of
these tie-breakers in one of the categories and the other in another category.


                                                         13
These are the patients in I 0 who receive units under matching µ.
    In real-life applications of our model, it is important to allocate units to qualified individuals
without wasting any, and following the priorities attached to these units. We next formulate
this idea through three axioms:

Definition 1 A matching µ ∈ M is individually rational if, for any i ∈ I and c ∈ C,

                                     µ(i) = c     =⇒     i πc ∅.

    Our first axiom formulates the idea that individuals should only receive those units for which
they are qualified. That is, units should be awarded only to eligible individuals. For ventilator
rationing, any patient who is eligible for one category must also be eligible for any category.
And if a patient is ineligible for all categories, then this patient can be dropped from the set of
patients. Hence, individual rationality always holds for our main application.

Definition 2 A matching µ ∈ M is non-wasteful if, for any i ∈ I and c ∈ C,

                         i πc ∅   and    µ(i) = ∅      =⇒      µ−1 (c) = rc .

    Our second axiom formulates the idea that no unit should be wasted. That is, if a unit
remains idle, then there should not be any individual who is both unmatched and also qualified
for the unit. For rationing vital resources, each patient is eligible for all units, and therefore
non-wastefulness in this context corresponds to either matching all the units or all the patients.

Definition 3 A matching µ ∈ M respects priorities if, for any i, i0 ∈ I and c ∈ C,

                             µ(i) = c and µ(i0 ) = ∅      =⇒       i πc i0 .

    Finally our last axiom formulates the idea that for each category, the units should be allocated
based on the priority order of individuals in this category.
    It is important to emphasize that in many real-life rationing guidelines each of these axioms
is implicit. Our formulation differs from these real-life guidelines only in its flexibility to allow
for heterogeneity in priority orders guiding allocation of individual units.

3.1   Main Characterization Result
In this section, we present a full characterization of all matchings that satisfy the three axioms
formulated above. The characterization utilizes the celebrated deferred-acceptance algorithm of
Gale and Shapley (1962).
    Consider the following hypothetical many-to-one matching market. The two sides of the
market are the set of patients I and the set of categories C. Each patient i ∈ I can be matched
with at most one category, whereas each category c ∈ C can be matched to as many as rc
patients. Category c is endowed with the linear order πc that is specified in the primitives of
the original rationing problem.



                                                 14
    Observe that in our hypothetical market, all the primitives introduced so far naturally follows
from the primitives of the original problem. The only primitive of the hypothetical market that
is somewhat “artificial” is the next one:
    Each patient i ∈ I has a strict preference relation i over the set C ∪ {∅}, such that, for each
patient i ∈ I,
                      c i ∅      ⇐⇒      patient i is eligible for category c.
While in the original problem a patient is indifferent between all units (and therefore all cat-
egories as well), in the hypothetical market she has strict preferences between the categories.
This “flexibility” in the construction of the hypothetical market is the basis of our main char-
acterization.
    For each patient i ∈ I, let Pi be the set of all preferences constructed in this way, and let
P = ×i∈I Pi .
    Given a preference profile  = (i )i∈I , the individual-proposing deferred-acceptance algo-
rithm (DA) produces a matching as follows.

      Individual Proposing Deferred Acceptance Algorithm (DA)
      Step 1: Each patient in I applies to her most preferred category among categories
      for which she is eligible. Suppose that Ic1 is the set of patients who apply to category
      c. Category c tentatively assigns applicants with the highest priority according to
      πc until all patients in Ic1 are chosen or all rc units are allocated, whichever comes
      first, and permanently rejects the rest. If there are no rejections, then stop.
      Step k: Each patient who was rejected in Step k-1 applies to her next preferred
      category among categories for which she is eligible, if such a category exists. Suppose
      that Ick is the union of the set of patients who were tentatively assigned to category
      c in Step k-1 and the set of patients who just proposed to category c. Category c
      tentatively assigns patients in Ick with the highest priority according to πc until all
      patients in Ick are chosen or all rc units are allocated, whichever comes first, and
      permanently rejects the rest. If there are no rejections, then stop.

      The algorithm terminates when there are no rejections, at which point all tentative
      assignments are finalized.

   A matching µ ∈ M is called DA-induced if it is the outcome of DA for some preference
profile  ∈ P.
   We are ready to present our main characterization result:

Theorem 1 A matching is individually rational, non-wasteful, and it respects priorities if, and
only if, it is DA-induced.

While our main focus is pandemic rationing, our model so far is general and a reserve system can
also be interpreted as an affirmative action system for a wide variety of applications. Since the
three axioms can be considered a minimal requirement in this framework, Theorem 1 therefore
provides a full characterization of plausible affirmative action policies.

                                                15
3.2      Sequential Reserve Matching
An interpretation of the DA-induced matchings is helpful to motivate in focusing a subset of these
matchings. Recall that the hypothetical two-sided matching market constructed above relies on
an artificial preference profile (i )i∈I of patients over categories. What this corresponds to
under the DA algorithm is that any patient i is considered for categories that deem her eligible
in sequence, following the ranking of these categories under her artificial preferences i . Unless
there is a systematic way to construct these preferences, it may be difficult to motivate adopting
this methodology for real-life applications. For example, if a patient i is considered first for an
unreserved category and then for an essential personnel category, whereas another patient j with
similar characteristics is considered for them in the reverse order, it may be difficult to justify
this practice. That is, while there are a potentially large class of adequate matchings satisfying
our three axioms, not all are necessarily obtained through an intuitive procedure. This may be
a challenge especially in the context of medical rationing, since procedural fairness is also an
important ethical consideration in this context. Procedural fairness is the main motivation for
our focus in a subset of these matchings.17
    In many real-life applications of reserve systems, institutions process reserve categories se-
quentially and allocate units associated with each category one at a time using its category-
specific priority order. We next formulate matchings obtained in this way and relate them to
our characterization in Theorem 1.
    An order of precedence . is a linear order over the set of categories C. For any two
categories c, c0 ∈ C,
                                               c . c0
means that category-c units are to be allocated before category-c0 units. In this case, we say
category c has higher precedence than category c0 . Let ∆ be the set of all orders of precedence.
   For a given order of precedence . ∈ ∆, the induced sequential reserve matching ϕ. , is a
matching that is constructed as follows:

        Suppose categories are ordered under . as

                                                 c1 . c2 . . . . . c|C| .

        Matching ϕ. is found sequentially in |C| steps:
        Step 1: Following their priority order under πc1 , the highest priority rc1 category-c1 -
        eligible patients in I are matched with category c1 . If there are less than rc1 eligible
        patients in I than all of these eligible patients are matched with category c1 . Let I1
        be the set of patients matched in Step 1.
        Step k: Following their priority order under πck , the highest priority rck category-
        ck -eligible patients in I \∪k−1
                                     k0 =1 Ik are matched with category ck . If there are less than
                                             0
                                      k−1
        rck eligible patients in I \ ∪k0 =1 Ik0 then all of these eligible patients are matched with
        category ck . Let Ik be the set of patients matched in Step k.
 17
      Additional discussion of procedural fairness is in Section 4.4.



                                                           16
    Given an order of precedence . ∈ ∆, the induced sequential reserve matching is individually
rational, non-wasteful, and it respect priorities. Thus, it is DA-induced by Theorem 1. Indeed
it corresponds to a very specific DA-induced matching.

Proposition 1 Fix an order of precedence . ∈ ∆. Let the preference profile . ∈ P be such
that, for each patient i ∈ I and pair of categories c, c0 ∈ C,

                                         c .i c0     ⇐⇒      c . c0 .

Then the sequential reserve matching ϕ. is DA-induced from the preference profile . .

3.3   Comparative Statics for Sequential Reserve Matching
In many real-life applications such as affirmative action in school choice and H1-B visa allocation,
there is a baseline priority order π of individuals. This priority order may depend on scores on
a standardized exam, a random lottery, or arrival time of application. In our main application
of pandemic resource allocation, it may depend on SOFA scores described in Section 2.1. This
baseline priority order is used to construct the priority order for each of the reserve categories,
although each category except one gives preferential treatment to a specific subset of individuals.
For example, in our main application these could be essential personnel, Good Samaritans, or
people with disabilities. In this section, we focus on this subclass of rationing problems and
present an analysis of sequential reserve matching on this class.
     To formulate this subclass, we designate a beneficiary group Ic ⊆ I for each category
c ∈ C. It is assumed that all patients in its beneficiary group are eligible for a category. That
is, for any c ∈ C and i ∈ Ic ,
                                               i πc ∅.
   There is a category u ∈ C, called the unreserved category, which has all patients as its
beneficiaries and endowed with the same priority order as the baseline priority order. That is,

                                          Iu = I     and     πu = π.

    Any other category c ∈ C \ {u}, referred to as a preferential treatment category, has a
more restrictive set Ic ⊂ I of beneficiaries and it is endowed with a priority order πc with the
following structure: for any pair of patients i, i0 ∈ I,

                         i ∈ Ic     and       i 0 ∈ I \ Ic   =⇒        i πc i0 ,
                            i, i0 ∈ Ic      and     i π i0   =⇒        i πc i0 , and
                        i, i0 ∈ I \ Ic      and     i π i0   =⇒        i πc i0 .

Under πc , beneficiaries of category c are prioritized over patients who are not, but otherwise
their relative priority order is induced by the baseline priority order π.
    While not necessary for practical implementation, in the interest of obtaining sharper results,
we make the following assumption in the rest of our analysis:

Assumption 1 Each patient is a beneficiary of at most one preferential treatment category.

                                                      17
                                 
   Function τ : I → C \ {u} ∪ {∅} identifies which preferential category each patient is a
beneficiary of (if any). Here, for any patient i ∈ I,

      • τ (i) = c for some C \ {u} means that patient i is a beneficiary of the preferential treatment
        category c and the unreserved category u, whereas

      • τ (i) = ∅ means that patient i is only a beneficiary of the unreserved category u.

    Let Ig , referred to as the set of general-community patients, be the set of patients who
are each a beneficiary of the unreserved category only:

                                    Ig = {i ∈ I : τ (i) = ∅} = I \ ∪c∈C\{u} Ic .

   We refer to these problems as rationing problems induced by the baseline priority
order π.
   In particular two types are such problems have widespread applications.
   We say that a priority profile (πc )c∈C has soft reserves if, for any category c ∈ C and any
patient i ∈ I,
                                             i πc ∅.
Under a soft-reserves rationing problem all individuals are eligible for all categories. This is the
case, for example, in our main application of pandemic resource allocation.
   We say that a priority profile (πc )c∈C has hard reserves if, for any preferential treatment
category c ∈ C \ {u},

  1. i πc ∅ for any of its beneficiaries i ∈ Ic , whereas

  2. ∅ πc i for any patient i ∈ I \ Ic who is not a beneficiary.

Under a hard-reserves rationing problem, only the beneficiaries of a preferred treatment category
are eligible for units in this category. This is the case, for example, in H1-B visa allocation in
the US.
     Allocation rules based on sequential reserve matching are used in a range of practical appli-
cations. However, it is important to pay attention to the choice of the order of precedence in
these problems, for it has potentially significant distributional implications.18
     We obtain the sharpest results on the choice of order of precedence for the case of hard
reserves. Therefore in the remainder of this section, we focus on this case. However, since
our main application of pandemic rationing is one with soft reserves, we present a version of
Theorem 2 in Theorem 5 of Appendix A. Although Theorem 5 is a theoretically weaker result,
it is equally relevant for our main application of pandemic rationing. In the same Appendix, we
also present two counterexamples showing that the stronger version of the result fails to hold
once the hard-reserves assumption is dropped.
    Our next result shows that the later a preferential treatment category is processed, the more
favorable it is for its beneficiaries at the expense of everyone else.
 18
      See, for instance, the example in Section 2.3 for an illustration.


                                                           18
Theorem 2 Assuming each patient is a beneficiary of at most one preferential treatment cat-
egory, consider a hard-reserves rationing problem induced by a baseline priority order π. Fix a
preferential treatment category c ∈ C \ {u}, another category c0 ∈ C \ {c}, and a pair of orders of
precedence ., .0 ∈ ∆ such that:

   • c0 . c,

   • c .0 c0 , and

   • for any ĉ ∈ C and c∗ ∈ C \ {c, c0 },

                                        ĉ . c∗    ⇐⇒     ĉ .0 c∗ .

That is, .0 is obtained from . by only changing the order of c with its immediate predecessor c0 .
Then,

  1.    ϕ.0 (Ic ) ⊆ ϕ. (Ic ) and

  2.    ϕ.0 (I \ Ic ) ⊇ ϕ. (I \ Ic ).

Assuming hard reserves,

   • every beneficiary of the preferential treatment category c who is matched by the sequential
     reserve matching ϕ.0 is also matched under the sequential reserve matching ϕ. , and

   • every patient who is not a beneficiary of category c and is matched by the sequential
     reserve matching ϕ. is also matched under the sequential reserve matching ϕ.0 .

That is, the later a preferential treatment category is processed the more favorable for its
beneficiaries and the less favorable for everyone else.

3.4    Competing Interests Under Sequential Reserve Matchings
Theorem 2 motivates a closer look at sequential reserve matchings induced by the following four
classes of orders of precedence:
    Unreserved Last ∆ul : For any precedence . ∈ ∆ul , each preferential treatment category
c ∈ C \ {u} has higher precedence than the unreserved category u.
    Under elements of this class, the unreserved category is processed after all preferential treat-
ment categories. When there is a single preferential treatment category, the resulting sequential
reserve matching, first introduced by Hafalir, Yenmez and Yildirim (2013), is uniquely defined.
    Unreserved First ∆uf : For any precedence . ∈ ∆uf , each preferential treatment category
c ∈ C \ {u} has lower precedence than the unreserved category u.
    PT-c Optimal ∆c : Fix a preferential treatment category c ∈ C \ {u}. For any precedence
.c ∈ ∆c , the preferential treatment category c has lower precedence than the unreserved category
u, which itself has lower precedence than any other preferential treatment category c0 ∈ C \{c, u}.


                                                  19
    PT-c Pessimal ∆c : Fix a preferential treatment category c ∈ C \ {u}. For any prece-
dence .c ∈ ∆c , the preferential treatment category c has higher precedence than the unreserved
category u, which itself has higher precedence than any other preferential treatment category
c0 ∈ C \ {c, u}.

   We again obtain our sharpest results for hard-reserves rationing problems.

Theorem 3 Assuming each patient is a beneficiary of at most one preferential treatment cat-
egory, consider a hard-reserves rationing problem induced by a baseline priority order π. Let
. ∈ ∆ul , . ∈ ∆uf , and µ ∈ M be any matching that is individually rational, non-wasteful and
that respects priorities. Then,
                                   ϕ. (Ig ) ⊆ µ(Ig ) ⊆ ϕ. (Ig ).


That is, of all matchings that satisfy our three axioms, a sequential reserve matching produces

   • the best possible outcome under any unreserved last order of precedence, and

   • the worst possible outcome under any unreserved first order of precedence

for general-community patients, in a set inclusion sense.
    We conclude our formal analysis with a parallel result for beneficiaries of a given preferred
treatment category.

Theorem 4 Assuming each patient is a beneficiary of at most one preferential treatment cat-
egory, consider a hard-reserves rationing problem induced by a baseline priority order π. Fix a
preferential tratment category c ∈ C \ {u}. Let .c ∈ ∆c , .c ∈ ∆c , and µ ∈ M be any matching
that is individually rational, non-wasteful and that respects priorities. Then,

                                    ϕ.c (Ic ) ⊆ µ(Ic ) ⊆ ϕ.c (Ic ).


That is, of all matchings that satisfy our three axioms, a sequential reserve matching produces

   • the best possible outcome under any PT-c optimal order of precedence, and

   • the worst possible outcome under any PT-c pessimal order of precedence

for the beneficiaries of preferential treatment category c in a set inclusion sense.

3.5   Related Theoretical Literature
Our study of reserve systems contributes to literature in matching market design focused on
distributional issues. Our main characterization result in Theorem 1 has no antecedent in the
literature, and it can be used as a technical tool to analyze other applications of our general
model. The comparative statics result presented in Theorem 2 (or Theorem 5 in Appendix) is
similar in spirit to Proposition 2 of Dur et al. (2018), but neither result implies the other. In

                                                  20
contrast to Theorem 2 (or Theorem 5), which analyzes the impact of changing the processing
sequence of an entire category as a block in an environment with multiple preferential treatment
categories, Proposition 2 in Dur et al. (2018) analyzes the impact of changing the processing
sequence of a single unit in an environment with only one preferential treatment category.
Theorems 3 and 4 together can be interpreted as a multiple preferential treatment category
generalization of the single preferential treatment category result of Theorem 1 in Pathak, Rees-
Jones and Sönmez (2020a). There are also other studies that have examined allocation in the
presence constraints such as minimum-guarantee reserves (or lower quotas), upper quotas, and
regional quotas. Some of the most related work includes Abdulkadiroğlu (2005), Biro et al.
(2010), Kojima (2012), Budish et al. (2013), Hafalir, Yenmez and Yildirim (2013), Westkamp
(2013), Ehlers et al. (2014), Echenique and Yenmez (2015), Kamada and Kojima (2015), Kamada
and Kojima (2017) Kamada and Kojima (2018), Aygün and Turhan (2016), Aygün and Bo
(2016), Bo (2016), Dogan (2016), Kominers and Sönmez (2016), and Fragiadakis and Troyan
(2017).
    Our paper also introduces the triage protocol design problem into the market design liter-
ature. By considering a real-world resource allocation problem, we contribute to the study of
formal properties of specific allocation processes in the field and the study of alternative mech-
anisms. Studies in this vein include those on entry-level labor markets (Roth, 1984; Roth and
Peranson, 1999), school choice (Balinski and Sönmez, 1999; Abdulkadiroğlu and Sönmez, 2003;
Pathak and Sönmez, 2008, 2013a), spectrum auctions (Milgrom, 2000), kidney exchange (Roth,
Sönmez and Ünver, 2004, 2005), internet auctions (Edelman, Ostrovsky and Schwarz, 2007; Var-
ian, 2007), course allocation (Sönmez and Ünver, 2010; Budish, 2011), cadet-branch matching
(Sönmez and Switzer, 2013; Sönmez, 2013), assignment of airport arrival slots (Schummer and
Vohra, 2013; Schummer and Abizada, 2017), and refugee resettlement (Jones and Teytelboym,
2017; Delacrétaz, Kominers and Teytelboym, 2016; Andersson, 2017).


4     Additional Considerations for Triage Rationing and Future
      Directions
4.1   Possible Utilization of Excess Units through a Reserve System
While our analysis pertains to the rationing problem of a single entity, say a hospital or a city, it
can be extended to multiple entities. This extension would allow for considerations that can also
reduce waste in the system. For example, hospitals in the system can “loan” their unused units
to the system, say to a virtual hospital that consists of excess units loaned to the system, and
they can earn credit from the system for future use of the units at the virtual hospital when they
have a shortage. Hospitals can be incentivized to loan their unused units to the virtual hospital,
if their patients receive some priority for some of the units in the virtual hospital. There can
be a specific reserve category where priorities may depend on credits earned by the hospitals,
while for another category priorities may be determined by clinical criteria only.




                                                 21
4.2    Another Application: Rationing of COVID-19 Convalescent Plasma
Researchers are currently exploring several treatments for patients with COVID-19 including
testing existing antiviral drugs and new drug compounds. One potential treatment is known
as the convalescent plasma therapy, which involves giving patients an infusion of antibody-rich
plasma from patients who have recovered from COVID-19. Preliminary evidence suggests that
one unit of convalescent plasma is highly effective against COVID-19 (Duan et al., 2020).
    One potential issue with convalescent plasma therapy is a shortage of willing plasma donors.19
A reserve system with at least two new reserve categories can be designed to encourage donations.
One reserve category would give priority to patients of choice for past donors of convalescent
plasma. This category is in the same spirit of our Good Samaritan reserve presented in Section
2.4.2. For example, a plasma donor could obtain a number of vouchers, and these would be
transferred to patients of their choice. In a second reserve category, a number of units can be
reserved for infected patients who promise to donate their plasma to the system once they are
healthy and eligible for donation. Since each donor can generate nearly four units of plasma
and therefore assist up to four other patients, a donor who benefits from this category could
possibly help up to four people. The incentives created with this system could therefore avoid
a potential shortage of plasma.

4.3    Dynamics of Rationing
For many medical resources such as vaccines, tests, or single-use drug treatment, a patient
receives the resource only once. The allocation of other resources is dynamic and subject to
periodic review. Currently, there are rules guiding these decisions in existing priority point
systems. A reserve system could adhere to exactly the same rules, which may differ between
jurisdictions. Some allocation or re-allocation decisions depend on whether units can remain
unassigned in expectation of future patient demand, or whether patients can be removed from
units they are assigned to due to arrival of higher-priority patients. For instance, one view stated
by the 2015 New York State task force is:

       ... removing a ventilator from a patient who worsens or does not improve so that another
       patient with a strong likelihood of survival may have an opportunity for treatment helps
       support the goal of saving the greatest number of lives in an influenza pandemic where
       there are a limited number of ventilators.

Another view might suggest that a patient cannot be removed once assigned. Still, another view
calls for periodic clinical assessments at pre-specified time intervals and allows for changing the
assignments after this review. In this situation, the reserve system could be deployed for an
updated set of patient types and total supply of the medical resource (which also may change
over time).
    There is no consensus on the correct approach to solve these difficult questions. However,
rationing guidelines give specific directions to resolve them and the implementation of existing
  19
    Al-Jazeera (2020) describes efforts to obtain plasma donations from recovered patients. Institutions including
the Mayo Clinic and the American Red Cross have already established programs accepting plasma donations.


                                                       22
priority point systems are expected to comply with these rules. Reserve systems can also comply
with the same rules if desired. After all, both a priority point system and a reserve system can
be interpreted as accounting systems for applying certain balances of ethical values in managing
scarce medical resources.

4.4      Reserve Systems Compared to Constrained Optimization
We briefly contrast a reserve system with an alternative approach that tries to accommodate
multiple ethical values using constrained optimization.20 In a constrained optimization ap-
proach, there is an objective function and there are constraints. Perhaps certain ethical values
can be aggregated into an objective function, while others can be formulated as constraints.
For example, suppose the two ethical goals are to maximize expected health outcomes and
non-discrimination. It is a non-trivial task to aggregate these two goals into a single objective
function. This is indeed not very different than some of the challenges faced in multi-principle
point systems. But suppose we are indeed able to find a representative objective function. Fur-
ther let us assume that the remaining ethical considerations can be mathematically formulated
as constraints. Assuming this maximum can be computed and multiplicities do not cause any
issue concerning procedural fairness, we still see several advantages of using a reserve system.
    First, a reserve system allows for non-consequentialist ethical goals such as those related to
procedural fairness. Clarity on the process by which allocations are determined is an important
part of many rationing guidelines. Michigan’s standards, for example, state that (Michigan,
2012, page 21)

        procedural justice requires that fair and clear processes be used to make allocation deci-
        sions. . .

Furthermore, disability rights groups reject any consideration of probability or length of survival,
let alone maximization of these aims (DREDF, 2020). Ne’eman (2020) argues that the principle
of non-discrimination should be seen as an ends by itself. Because a constrained optimization
approach optimizes over allocations, and not the process by which allocations are chosen, its
relationship to procedural aims is less obvious.
    Second, reserve systems have straightforward parameters that can be directly linked to ethical
principles. Since community involvement is an integral part of designing rationing guidelines,
easy-to-interpret parameters are desirable. A Johns Hopkins study on community perceptions
states (Biddison et al., 2013):

        Both groups felt strongly that no single principle could adequately balance the competing
        aims and values triggered by allocation decisions. Some felt that a combination of
        principles should be used.

Suppose that a task force proposes a reserve category for essential personnel for a fraction
resources, then because any preferential treatment has to be based on well-established ethical
criteria, it is clear that the guidelines incorporate the principles of reciprocity and instrumental
 20
      We are grateful to Eric Budish for suggesting this section.


                                                         23
value. And public acceptance is an essential part of any rationing guideline. For example, New
York’s guidelines emphasize transparency and state that the “process of developing a clinical
ventilator allocation protocol is open to feedback and revision, which helps promote public
trust.” (Zucker et al., 2015, page 5).
    Third, we believe formulating competing objectives within constrained optimization ap-
proaches may be hard to do with potentially conflicting views and opinions. Assuming each
group can even formulate a clear objective function, aggregation across different objective func-
tions into a single objective function requires placing competing aims on a common scale, which
may be unnatural.21 In a reserve system, each ethical principle or a balance between multiple
principles can be linked to a reserve category, eliminating the technical need to formulate a
single objective.
    Fourth, it is reassuring that reserve systems are often used in applications that involve
community involvement. For example, to accommodate a higher degree of efficiency in the
deceased donor kidney allocation system, OPTN introduced in 2014 a reserve category which
gives preferential treatment to patients with the highest expected benefit for 20% of the high-
est quality deceased-donor kidneys after widespread community outreach. Similarly, following
debates between the pro-neighborhood and pro-choice factions, Boston’s school assignment sys-
tem established a reserve where half of each school’s seats prioritize applicants from the walk
zone. Likewise, reserves were developed as part of India’s affirmative action system after more
than a decade of community involvement summarized in the 1979 Mandal Commission Report
and formulated in the landmark 1992 Indra Sahwney Supreme Court case. These reserve-system
precedents suggest that stakeholders might prefer the natural interpretation of reserve categories.
    Finally, an alternative allocation mechanism may be more likely to be adopted if it is not
a substantial change from the existing rules. Currently, the two leading mechanisms, a single
principle SOFA-score based system and White et al. (2009)’s multi-principle system, are both
priority point systems. Since a reserve system can easily build on these priority point systems,
overcoming their difficulties without fundamental changes, it may receive more widespread ac-
ceptance.


5        Conclusion
Because of the anticipated and ongoing shortage of key medical resources during the COVID-19
pandemic, several leaders in the medical ethics community have made important recommenda-
tions regarding medical rationing. These recommendations reflect compromises between several
ethical principles – maximizing lives, maximizing life-years, life-cycle considerations, instrumen-
tal values, reciprocity, protecting to the sickest, and non-exclusion. The priority point system,
which aggregates all ethical dimensions into a single score, has become the norm. A reserve
system offers additional flexibility and can simultaneously balance competing objectives in ways
that a priority point system cannot.
    We have shown that reserve systems can remedy challenges associated with prioritizing
    21
    There is an entire subfield of philosophy about commensurable and incommensurable objectives. See, e.g.,
Hsieh (2016).


                                                    24
frontline health workers, an issue that has befuddled the medical ethics community. Emanuel
et al. (2020) and White and Lo (2020) argue that these essential personnel should be prioritized,
but several state standards express the concern that if frontline health workers are given priority,
they could exhaust total supply and leave no resources for patients from the general community.
By setting aside a fraction of vital medical resources for essential personnel as in a reserve
system, not only can these concerns be overcome, but the ethical principles of reciprocity and
instrumental valuation can also be reflected in the rationing system.
    The theory of reserve systems we develop is based on three simple criteria of non-wastefulness,
individual rationality, and respect for priority. Non-wastefulness means no medical resource
is unused while there are patients who are in need. Individual rationality means if there are
exclusion criteria for certain reserve categories, they have to be respected. For life-saving medical
resources, it is natural to rule out category-specific exclusion criteria, so we expect this criteria
to hold automatically for triage protocol design. Respect for priority means that allocation of
units in a given category has to follow the priority order of patients in that category. To the
extent the priority order of patients represents the ethical principles guiding the allocation, this
is also a natural principle. It is important to emphasize that these are the same principles that
are embraced by the existing triage systems. What differs in our analysis is that we allow for
different ethical principles to guide allocation decisions across different units.
    In our formal analysis, we characterize the entire class of reservation policies that satisfy three
minimal principles though implementation of the deferred-acceptance algorithm. As such, we
also provide a full characterization of affirmative action policies. In the context of triage protocol
design, one of the main insights for implementation of reserve systems is that processing a reserve
category earlier is detrimental to its beneficiaries.
    While our analysis has focused on triage protocol design, our results can be directly applied to
several other resource allocation problems with reserves. Within medicine, specific resources like
vaccines and plasma therapy may require additional considerations which differ from ventilators.
Outside of medicine, our results are relevant for immigration visa allocation in the United States
(Pathak, Rees-Jones and Sönmez, 2020a), affirmative action in school choice systems in Boston,
Chicago, New York City and Chile (Dur et al., 2018; Dur, Pathak and Sönmez, 2019; Correa
et al., 2019), affirmative action for public school and government positions in India (Aygün
and Turhan, 2017; Baswana et al., 2018; Sönmez and Yenmez, 2019a,b), and diversity plans for
college admissions in Brazil (Aygün and Bo, 2016). We leave explorations of these connections
to future research.
    There are three main design parameters in a reserve system: the reserve categories and their
sizes, the reserve category processing order, and the priority order in each reserve category.
Choices about these dimensions still require decisions about ethical principles and their appro-
priate weight. However, our theory allows for greater separation of ethical principles from their
implementation, thereby allowing medical ethicists, state task forces, and other stakeholders
additional flexibility to integrate multiple ethical concerns. When these decisions are made, we
believe it is important to precisely define which ethical principles govern these choices and make
these details transparent to all stakeholders.
    We hope that the triage rationing protocol we have analyzed will only be necessary in


                                                  25
exceptional circumstances during the current pandemic and for future ones. However, even
if rationing guidelines are never applied, their mere existence reflects a statement of values.
Several aspects of the design, including those related to essential personnel, adults and children,
and the rights of the disabled, run the risk of upsetting social harmony. For example, Fink (2020)
describes that “at the end you have got a society at war with itself. Some people are going to be
told they don’t matter enough.” We have shown that a reserve system provides policy makers
with an additional tool to navigate these complex challenges. Although confronting scarcity
in life-and-death situations is dire, we also hope some of our ideas, such as creating a Good
Samaritan category, hold the potential to use the current crisis to serve other longstanding
medical problems not related to COVID-19.




                                                26
Appendix A                Comparative Statics without the Hard-Reserves
                          Assumption
Since the hard-reserves assumption fails to hold in our main application of pandemic rationing,
we present in this Appendix a variant of Theorem 2 in the absence of this assumption. There
are two consequences of dropping the hard-reserve assumption:

   1. The first implication is only guaranteed to hold if there are no more than four categories.22

   2. The second implication of the theorem no longer holds: in the absence of the hard-reserves
      assumption, processing a category c later in the sequence is not necessarily detrimental
      for individuals who are not beneficiaries of category c.

Theorem 5 Suppose |C| ≤ 4. Assuming each patient is a beneficiary of at most one preferential
treatment category, consider a rationing problem induced by a baseline priority order π. Fix a
preferential treatment category c ∈ C \ {u}, another category c0 ∈ C \ {c}, and a pair of orders of
precedence ., .0 ∈ ∆ such that:

       • c0 . c,

       • c .0 c0 , and

       • for any ĉ ∈ C and c∗ ∈ C \ {c, c0 },

                                               ĉ . c∗        ⇐⇒          ĉ .0 c∗ .

That is, .0 is obtained from . by only changing the order of c with its immediate predecessor c0 .
Then,
                                        ϕ.0 (Ic ) ⊆ ϕ. (Ic ).

This result shows that as long as there are not more than three preferential treatment categories
in addition to the unreserved category, every beneficiary of the preferential treatment category
c who is matched by the sequential reserve matching ϕ.0 is matched also under the sequential
reserve matching ϕ. .
    On the other hand, the following example shows that when the number of categories is six
or more, the first conclusion of Theorem 2 no longer holds.

Example 1 Suppose there are q = 6 medical units to be allocated in total. There are 6 cate-
gories: the unreserved category u and 5 preferential treatment categories c, c0 , c∗ , ĉ, c̃ and each
category has a single unit capacity.
    Suppose there are 7 patients. All patients are beneficiaries of the unreserved category u:

                                          Iu = {i1 , i2 , i3 , i4 , i5 , i6 , i7 }.
  22
    We conjecture that this implication holds when there are five categories as well. However, as shown in
Example 1, the result fails to hold when there are six or more categories. Therefore the proof of Theorem 5 is
through a brute-force analysis of all cases. Since the practically relevant cases will likely be already covered with
an upper bound of four categories, we leave the case of five categories as an open question.


                                                            27
The beneficiaries of preferential treatment categories c, c∗ , and c̃ are given as

                           Ic = {i1 , i3 , i6 },      Ic∗ = {i2 , i5 },   Ic̃ = {i4 , i7 },

while there are no beneficiaries of preferential treatment categories c0 and ĉ: Ic0 = ∅ and Iĉ = ∅.
There are also no general-community patients: Ig = ∅. Suppose π, the baseline priority order of
patients, is given as
                                  i1 π i2 π i3 π i4 π i5 π i6 π i7 .
Also assume that all patients are eligible for all preferential treatment categories besides the
unreserved category u.
   We consider a sequential reserve matching based on the following order of precedence .:

                                            c0 . c . c∗ . ĉ . c̃ . u.

This sequential reserve matching matches ϕ. (I) = {i1 , i3 , i2 , i4 , i7 , i5 } in the order agents are
written in this set. In this case,
                                     ϕ. (Ic ) = {i1 , i3 }
is the set of matched category-c beneficiaries.
    We compare this outcome with the sequential reserve matching under the order of precedence
. that switches the order of c and c0 , and otherwise, leaves the order of other categories the
 0

same as under .:
                                    c .0 c0 .0 c∗ .0 ĉ .0 c̃ .0 u.
This sequential reserve matching matches ϕ.0 (I) = {i1 , i2 , i5 , i3 , i4 , i6 } in the order patients are
written in this set. In this case,
                                    ϕ.0 (Ic ) = {i1 , i3 , i6 }
is the set of matched category-c beneficiaries.
    Thus,
                                         ϕ.0 (Ic ) ) ϕ. (Ic )
although c is is ordered earlier under .0 than under ..

   Finally the following example shows that in the absence of the hard-reserves assumption,
the second conclusion fails even with only two preferential-treatment categories.

Example 2 There is an unreserved category u and two preferential treatment categories c, c0 .
There is one medical unit reserved for each category, and the beneficiary groups are Iu =
{i1 , i2 , i3 , i4 }, Ic = {i1 } and Ic0 = {i2 , i4 }. All patients are eligible for all categories. Let .,
.0 be two precedence orders such that

                                    u . c0 . c           and        u .0 c .0 c0 .

Finally, the baseline priority order π is given as

                                                   i1 π i2 π i3 π i4 .

                                                           28
    Under the sequential reserve matching ϕ. the set of patients who are matched is {i1 , i2 , i3 },
and under the sequential reserve matching ϕ.0 the set of patients who are matched is {i1 , i2 , i4 }.
Therefore, when the order of precedence is change from . to .0 , a move that is (weakly) detri-
mental to beneficiaries of category c by Theorem 5, patient i3 , who is not a beneficiary of this
category, is made worse off. This shows a change that potentially hurts beneficiaries of one
category may hurt other patients as well.


Appendix B             Proofs
Proof of Theorem 1.
Sufficiency : We first prove that any DA-induced matching is individually rational, non-
wasteful and it respects priorities. Let ∈ P be a preference profile of patients over categories
and ∅. Suppose µ ∈ M is DA-induced from this preference profile.
Individual rationality: Suppose that µ(i) = c for some c ∈ C. Then i must apply to c in a step
of the DA algorithm, and hence, c i ∅. By construction of i , this means i πc ∅. Therefore,
matching µ is individually rational.
Non-wastefulness: Suppose that i πc ∅ and µ(i) = ∅ for some category c ∈ C and patient i ∈ I.
By construction of i , c i ∅ because she is eligible for c. As agent i remains unmatched in
µ, she applies to c in some step of the DA algorithm. However, c rejects i at this or a later
step. This means, c should have been holding at least rc offers from eligible students at this
step. From this step on, c always holds rc offers and eventually all of its units are assigned:
 µ−1 (c) = rc . Hence, matching µ is non-wasteful.
Respecting priorities: Suppose that µ(i) = c and µ(i0 ) = ∅ for two patients i, i0 ∈ I and a
category c ∈ C. For every category c0 ∈ C, πc0 is used to choose eligible patients at every step
of the DA algorithm. Therefore, µ(i) = c implies i πc ∅. Since µ(i0 ) = ∅, then it must be either
because ∅ πc i0 or because i πc i0 . In the first case, we get i πc i0 as well because πc is transitive.
Therefore, matching µ respects priorities.
Necessity: We now prove that any matching µ ∈ M with the three stated properties is DA-
induced from some preference profile. We construct a candidate preference profile ∈ P as
follows:

   • Consider a patient i ∈ µ−1 (c) where c ∈ C. Since µ is individually rational, i must be
     eligible for category c. Let i rank category c first in i . The rest of the ranking in i is
     arbitrary as long as all eligible categories are ranked above the empty set.

   • Consider an unmatched patient i ∈ µ−1 (∅). Let i rank categories in any order in i such
     that only eligible categories are ranked above the empty set.

   We nest show that µ is DA-induced from preference profile . In the induced DA algorithm
under , for every category c0 ∈ C, patients in µ−1 (c0 ) apply to category c0 first. Every unmatched
patient j ∈ µ−1 (∅) applies to her first-ranked eligible category according to j , if there is any.
Suppose c ∈ C is this category. Since µ respects priorities, j has a lower priority than any patient

                                                  29
in µ−1 (c), who also applied to c in Step 1. Furthermore, since µ is non-wasteful, µ−1 (c) = rc (as
there are unmatched eligible patients for this category, for example j). Therefore, all unmatched
patients in µ are rejected at the first step of the DA algorithm. Moreover, for every category
c0 ∈ C, all patients in µ−1 (c0 ) are tentatively accepted by category c0 at the end of Step 1.
    Each unmatched patient in j ∈ µ−1 (∅) continues to apply according to j to the other
categories at which she is eligible. Since µ respects priorities and is non-wasteful, she is rejected
from all categories for which she is eligible one at a time: that is because each of these categories
c ∈ C continues to tentatively hold patients µ−1 (c) from step 1 who have all higher priority than
j according to πc , as µ respects priorities. Moreover, by non-wastefulness of µ, µ−1 (c) = rc , as
there are unmatched eligible patients (for example j) under µ.
    As a result when the algorithm stops, the outcome is such that, for each category c0 ∈ C, all
patients in µ−1 (c0 ) are matched with c0 . Moreover, every patient in µ−1 (∅) remains unmatched
at the end. Therefore, µ is DA-induced from the constructed patient preferences .

     Proof of Proposition 1. Let . ∈ ∆ be a precedence order and ϕ. be the associated
sequential reserve matching. We show that ϕ. is DA-induced from preference profile . =
(.i )i∈I .
     For each patient i ∈ I, consider another strict preference relation 0i such that all categories
are ranked above the empty set and, furthermore, for any c, c0 ∈ C,

                                         c 0i c0 ⇐⇒ c . c0 .

     Note that the relative ranking of two categories for which i is eligible is the same between
.i  and 0i .
     We use an equivalent version of the DA algorithm as the one given in the text. Consider a
Step k: Each patient i who is not tentatively accepted currently by a category applies to the
best category that has not rejected her yet according to 0i . Suppose that Ick is the union of the
set of patients who were tentatively assigned to category c in Step k − 1 and the set of patients
who just proposed to category c. Category c tentatively assigns eligible patients in Ick with the
highest priority according to πc until all patients in Ick are chosen or all rc units are allocated,
whichever comes first, and permanently rejects the rest.
     Since for any category c ∈ C and any patient i ∈ I who is ineligible for category c, ∅ πc c, the
outcome of the DA algorithm when the preference profile is . and 0 = (0i )i∈I are the same.
     Furthermore, when the preference profile is 0 , the DA algorithm works exactly like the
sequential reserve procedure that is used to construct ϕ. . We show this by induction. Suppose
. orders categories as c1 . c2 . . . . . c|C| . As the inductive assumption, for k > 0, suppose
for categories c1 , . . . , ck−1 , the tentative matches at the end of Step k − 1 and final matches at
the end under the DA algorithm from 0 are identical to their matches in sequential reserve
matching ϕ. .
     We next consider Step k of the DA algorithm from 0 . Only patients who are rejected from
category ck−1 apply in Step k of the DA algorithm and they all apply to category ck . Then ck
uses its priority order πck to tentatively accept the rck highest-priority eligible applicants (and
if there are less than rck eligible applicants, all eligible applicants), and rejects the rest. Observe


                                                  30
  that since every patient who is not tentatively accepted by a category c1 , . . . , ck−1 applied to
  this category in Step k, none of these patients will ever apply to it again; and by the inductive
  assumption no patient who is tentatively accepted in categories c1 , . . . , ck−1 will ever be rejected,
  and thus, they will never apply to ck , either. Thus, the tentative acceptances by ck will become
  permanent at the end of the DA algorithm. Thus, this step is identical to Step k of the sequential
  reserve procedure under precedence order . and the same patients are matched to category ck
  in ϕ. . This ends the induction.
      Therefore, we conclude that ϕ. is DA-induced from patient preference profile . .

      Proof of Theorem 2.         The sequential reserve matchings ϕ. and ϕ.0 match the same
  patients to the categories with higher precedence than c and c0 under both . and .0 . Let
  J ⊆ I refer to the set of patients who are available when c0 is about to be processed under .0
  (or equivalently when c is about to be processed under .) in the sequential reserve matching
  procedure.
      Two cases are possible: For the unreserved category u, either c0 6= u or c0 = u. We consider
  these two separately.

Case 1. c0 6= u: Then c0 is a preferential treatment category as well. Since the problem is hard-
                                                          −1 ∗
        reserves, ϕ−1   ∗                  ∗      0                               ∗       0
                   . (c ) ⊆ Jc∗ for each c ∈ {c, c } and ϕ.0 (c ) ⊆ Jc∗ for each c ∈ {c, c }. Then
                                                                       −1 ∗
        the order of c0 and c do not matter and we have ϕ−1     ∗                       ∗       0
                                                            . (c ) = ϕ.0 (c ) for each c ∈ {c, c }.
        Hence under both . and .0 , after c and c0 are processed the same set of patients remain
        unmatched. Since the order of the subsequent categories are the same, both matchings
        ϕ.0 and ϕ. match the same set of patients subsequently to the same categories. Since ϕ.0
        and ϕ. also match the same patients among I \ J to the same categories prior to c and c0 ,
        we obtain ϕ.0 = ϕ. , which also implies
                              ϕ.0 (Ic ) = ϕ. (Ic )      and      ϕ.0 (I \ Ic ) = ϕ. (I \ Ic ),
        proving the theorem for Case 1.

Case 2. c0 = u: Then u . c while c .0 u and they are consecutively ordered. We are choosing patients
        among Jc , with respect to the same priority order π to fill either u and c implying that
        weakly a larger set of category c beneficiaries are matched to {u, c} under . with respect
        to .0 :
                                     ϕ−1    0              −1   0
                                      .0 ({c , u}) ∩ Jc ⊆ ϕ. ({c , u}) ∩ Jc .                         (1)

        This also implies
                                    ϕ−1                    −1
                                     .0 (u) ∩ (J \ Jc ) ⊇ ϕ. (u) ∩ (J \ Jc ).                         (2)

        Thus, as any general-community category patient in Ig can is only eligible for the unre-
        served category u because of the hard-reserves feature, by Relationship (2)
                                                     ϕ.0 (Ig ) ⊇ ϕ. (Ig ).

        Recall that ϕ.0 and ϕ. match the same patients to the categories ordered before c under
        .0 and before u under .. There are three cases for the patients in I \ Ig :

                                                          31
        • Since category-c beneficiaries are not eligible for any other category ordered after c
          and u in a hard-reserves problem, then no category-c beneficiary is matched after this
          step. By relationship (1), we obtain

                                                ϕ.0 (Ic ) ⊆ ϕ. (Ic ).

        • For any preferential treatment category c∗ 6∈ {c, u} ordered before c under .0 and
          before u under ., by relationship (2), we obtain

                                               ϕ.0 (Ic∗ ) ⊇ ϕ. (Ic∗ ).

        • For any preferential treatment category c∗ 6∈ {c, u} ordered after u under .0 and
          after c under ., since we are choosing patients among Ic∗ , with respect to the same
          priority order π to fill either u and c∗ and these patients are not eligible for any other
          preferential-treatment category because of the hard-reserves feature, by relationship
          (2)
                                              ϕ.0 (Ic∗ ) ⊇ ϕ. (Ic∗ ).

      The last four displayed relationships prove the theorem for Case 2.

These complete the proof of the theorem.

    Proof of Theorem 3. Let . ∈ ∆uf be an unreserved-first order of precedence and . ∈ ∆ul
be an unreserved-last order of precedence given a hard-reserves problem induced by the baseline
priority order π. Note that in a hard-reserves problem, general-community patients are only
eligible for the unreserved category. Let µ ∈ M be a matching that is individually rational,
non-wasteful, and that respects priorities. For a set of patients I˜ ⊆ I and a patient i ∈ I˜ who is
                                          ˜ πc ) denote the rank of i among patients in I˜ according
eligible at a category c ∈ C, let rank(i; I,
to πc . For example, the patient with the highest priority has rank one.
    We prove the result in two separate claims.
Claim 1: ϕ. (Ig ) ⊆ µ(Ig ).
Proof. Note that ϕ. is a sequential reserve matching when the unreserved category is processed
first. Thus, ϕ−1 . (u) is the set of ru -highest priority patients according to π, which implies that
i ∈ ϕ. (Ig ) if, and only if, i is among the ru -highest priority patients according to π in I. As a
result, in µ, which respects priorities and non-wasteful, i ∈ ϕ. (Ig ) is matched with category u, as
this is the only eligible category for general-community patients. This shows that ϕ. (Ig ) ⊆ µ(Ig ).


Claim 2: µ(Ig ) ⊆ ϕ. (Ig ).
Proof. For each preferential treatment category c ∈ C \ {u}, |ϕ−1              −1
                                                                   . (c)| ≥ |µ (c)| and every
             −1        −1
patient in ϕ. (c) \ µ (c) has a strictly higher priority according to π than every patient in
µ−1 (c) \ ϕ−1
           . (c) since ϕ. is generated by unreserved-last precedence order .. Furthermore, as µ
is DA-induced by Theorem 1,

             µ−1 (u) = {i ∈ I \ ∪c∈C\{u} µ−1 (c) : rank(i; I \ ∪c∈C\{u} µ−1 (c), π) ≤ ru }.

                                                  32
As the unreserved category u is processed last in finding ϕ. and this is a hard-reserves problem,

            ϕ−1                         −1                            −1
             . (u) = {i ∈ I \ ∪c∈C\{u} ϕ. (c) : rank(i; I \ ∪c∈C\{u} ϕ. (c), π) ≤ ru }.

Take i ∈ µ(Ig ). Then i ∈ µ−1 (u), which implies that

                                   rank(i; I \ ∪c∈C\{u} µ−1 (c), π) ≤ ru .

Since, for each preferential treatment category c ∈ C \ {u}, |ϕ−1            −1
                                                                  . (c)| ≥ |µ (c)| and every
patient in ϕ−1         −1
             . (c) \ µ (c) has a strictly higher priority according to π than every patient in
µ−1 (c) \ ϕ−1
           . (c), the above displayed inequality implies

                                   rank(i; I \ ∪c∈C\{u} ϕ−1
                                                         . (c), π) ≤ ru .

Therefore, i ∈ ϕ−1
                . (u), which is equivalent to i ∈ ϕ. (Ig ).
   We conclude that µ(Ig ) ⊆ ϕ. (Ig ).

    Proof of Theorem 4. Consider a hard-reserves problem induced by a baseline priority
order π. Fix a preferential treatment category c ∈ C \ {u}, a PT-c pessimal order of precedence
.c ∈ ∆c , and a PT-c optimal order of precedence .c ∈ ∆c . Also let µ ∈ M be an individually
rational and non-wasteful matching that also respects priorities.
    For a set of patients I˜ ⊆ I and patient i ∈ I˜ who is eligible at a category c̃ ∈ C, let
        ˜ πc̃ ) denote the rank of i among patients in I˜ according to πc̃ .
rank(i; I,
    We prove the result in two separate claims.
Claim 1: ϕ.c (Ic ) ⊆ µ(Ic ).
Proof. Note that ϕ.c is a sequential reserve matching generated by the PT-c pessimal precedence
order .c that orders c before u and orders u before all other preferential treatment categories.
Therefore,
                                         ϕ.c (Ic ) = Ibc ∪ Iec
where
                               Ibc = ϕ−1
                                      .c (c) = {i ∈ Ic : rank(i; Ic , π) ≤ rc }

and
                     Iec = ϕ−1
                            .c (u) ∩ Ic = {i ∈ Ic \ Ic : rank(i; I \ Ic , π) ≤ ru }
                                                    b                b

as in a hard-reserves problem patients in Ic are not eligible for any other category than c and u
and patients in I \ Ic are not eligible for c.
    Let i ∈ ϕ.c (Ic ). Then there are two cases two consider. First consider the case that i ∈ Ibc .
If µ(i) = ∅, then there exists i0 ∈ µ−1 (c) \ ϕ−1                0
                                               .c (c) such that i π i as µ respects priorities and
is non-wasteful. By individual rationality of µ, i0 ∈ Ic . These contradict the definition of Ibc .
Therefore, µ(i) 6= ∅, which is equivalent to i ∈ µ(Ic ).
    Second consider the case that i ∈ Iec . Suppose, for contradiction, that µ(i) = ∅. Since µ
is non-wasteful, |µ−1 (c)| = rc , and since µ respects priorities, for every i0 ∈ µ−1 (c), i0 πc i.
Likewise, |µ−1 (u)| = ru , and since µ respects priorities, for every i0 ∈ µ−1 (u), i0 πu i. As


                                                     33
a result, rank(i; I, π) > rc + ru , which is a contradiction to the construction of Ibc and Iec .
Therefore, µ(i) 6= ∅, which is equivalent to i ∈ µ(Ic ).
   We conclude that ϕ.c (Ic ) ⊆ µ(Ic ).
Claim 2: µ(Ic ) ⊆ ϕ.c (Ic ).
Proof. We show that |µ(Ic )| ≤ |ϕ.c (Ic )|. The claim then follows because both µ and ϕ.c respect
priorities. Since both µ and ϕ.c are non-wasteful, the inequality holds if, and only if, the number
of category-c beneficiaries assigned to unreserved units in µ is weakly less than the number of
category-c beneficiaries assigned to unreserved units in ϕ.c because we are considering a hard-
reserves rationing problem.
    For every category c0 ∈ C \ {u}, let

                                  Ibc0 = {i ∈ Ic0 : rank(i; Ic0 , π) ≤ rc0 }.

This is also the set of patients matched with any preferential treatment category c0 6= c in ϕ.c
as all preferential treatments other than c are processed before u and c in finding ϕ.c and this
is a hard-reserves problem.
    Then the set of category-c beneficiaries matched to unreserved units in ϕ.c is

                           Iec = {i ∈ Ic : rank(i; I \ ∪c0 ∈C\{c,u} Ibc0 , π) ≤ ru }

as the unreserved category u is processed after all preferential treatment categories other than
c and before c in finding ϕ.c .
    Because µ is DA-induced by Theorem 1, the set of category-c beneficiaries matched to
unreserved units in µ is

                           {i ∈ Ic : rank(i; I \ ∪c0 ∈C\{c,u} µ−1 (c0 ), π) ≤ ru }.

The cardinality of this set is smaller than |Iec | because, by construction, |Ibc0 | ≥ |µ−1 (c0 )| and every
patient in Ibc0 \ µ−1 (c0 ) has a higher priority according to π than every patient in µ−1 (c0 ) \ Ibc0 .


    Proof of Theorem 5. Let |C| ≤ 4. Observe that the sequential reserve matchings ϕ.
and ϕ.0 match the same patients to the categories with higher precedence than preferential
treatment category c and category c0 under both . and .0 . Let J ⊆ I refer to the set of patients
who are available when c0 is about to be processed under .0 (or equivalently when c is about to
be processed under .) in the sequential reserve matching procedure.
    Observe that if rc ≥ |Jc |, then ϕ. (Ic ) = ϕ.0 (Ic ) = Ic and we are done with the proof.
Therefore, assume rc < |Jc |.
    Two cases are possible regarding category c0 , either rc0 ≤ |Jc0 | or rc0 > |Jc0 |.
    First, suppose that rc0 ≤ |Jc0 |. Since both categories c and c0 have at least as many available
beneficiary patients as their numbers of reserved units and give higher priority to their benefi-
ciaries than every other patient, their capacity will be filled with the same patients among their
beneficiaries according to priority orders πc and πc0 , respectively, under both . and .0 . Thus,


                                                      34
the rest of the categories will be filled with the same patients, as well, and hence, category-c
beneficiaries who are assigned a unit are identical under both matchings: ϕ. (Ic ) = ϕ.0 (Ic ).
    Next, suppose that rc0 > |Jc0 |. Then |Jc0 | units of category c0 are assigned to category-c0
beneficiaries in ϕ. and ϕ.0 first. The rest of its capacity, which is rc0 − |Jc0 |, is filled with respect
to priority order π conditional on the eligibility of patients for category c0 .
    Recall that πc prioritizes category-c beneficiaries over other patients. Thus, just before we
process c0 in the sequential reserve matching procedure under .0 , the highest priority rc patients
in Jc according to π are no longer available and are matched with c. On the other hand when c0
is about to be processed under ., the whole set Jc is available. Under each order of precedence,
since the remaining rc0 − |Jc0 | category-c0 units are allocated according to the baseline priority
order π to all eligible and available patients in J \ Jc0 ,23

                                   ϕ.0 −1 ({c0 , c}) ∩ Jc ⊆ ϕ. −1 ({c0 , c}) ∩ Jc ,                            (3)
                                       −1     0          −1     0
                                  ϕ.        (c ) \ ϕ.0        (c ) ⊆ Jc .                                      (4)

   To the contrary of what we are trying to prove, suppose there is a patient i1 ∈ ϕ.0 (Jc )\ϕ. (Jc ).
By Relationship (3), for some category c1 6∈ {c, c0 }, we have ϕ.0 (i1 ) = c1 while ϕ. (i1 ) = ∅. Hence,
there are at least 3 categories in C.
   Since ϕ.0 (i1 ) = c1 and ϕ.0 is individually rational, i1 is eligible for c1 . Since i1 is still
unmatched after c1 is processed under .,

                                                    |ϕ−1
                                                      . (c1 )| = rc1 ,

and there exists some patient i2 such that

                                             i2 πc2 i1        and ϕ. (i2 ) = c1 .

Moreover, i2 has to be matched with a category c2 processed before c1 under the sequential
reserve matching procedure induced by .0 , so that i1 is able to be matched with c1 :

                                                              c2 .0 c1 .

   We also have c2 . c1 as c1 6∈ {c, c0 }.
   Next, consider patient i2 who is eligible for c2 as ϕ.0 is individually rational. Since i2 is still
unmatched after c2 is processed under .,

                                                    |ϕ−1
                                                      . (c2 )| = rc2 ,

and there exists some patient i3 such that

                                             i3 πc2 i2        and ϕ. (i3 ) = c2 .

Moreover, i3 has to be matched with a category c3 that is processed before c2 under sequential
reserve matching procedure induced by .0 so that i2 is matched with c2 :

                                                              c3 .0 c2 .

       This leads to two cases:
  23
    For any matching µ ∈ M and set of categories C ∗ ⊆ C, recall that µ−1 (C ∗ ) ⊆ I is the set of patients matched
to the categories in C ∗ .


                                                                    35
                          / {c, c0 }. Since i3 is still unmatched after c3 is processed under sequential
Case 1. c3 . c2 : Then c2 ∈
        reserve matching procedure induced by .,

                                                  |ϕ−1
                                                    . (c3 )| = rc3 ,

        and there exists some patient i4 such that

                                           i4 πc3 i3    and ϕ. (i4 ) = c3 .

        Moreover, i4 has to be matched with a category c4 that is processed before c3 under the
        sequential reserve matching procedure induced by .0 , so that i3 is able to be matched with
        c3 :
                                                c4 .0 c3 .

                             / {c, c0 }. Then there are at least five distinct categories ordered according
        If c4 . c3 , then c3 ∈
        to . as c0 . c . c3 . c2 . c1 , which is a contradiction to |C| ≤ 4.
        Therefore, c3 . c4 , |C| = 4, and hence,

                                              c3 = c0     and c4 = c.

        Moreover, after c is processed under ., i1 ∈ Jc remains unmatched. Hence,

                                                   |ϕ−1
                                                     . (c)| = rc .


        So far we have additionally |ϕ−1                         −1                     −1 0
                                           . (c2 )| = rc2 , |ϕ. (c1 )| = rc1 , and |ϕ. (c )| = rc0 . Yet i1 is
        not matched under ϕ. and is matched under ϕ.0 . This implies there exists some patient
        i∗ ∈ ϕ. (J) \ ϕ.0 (J). Since {i1 , i2 , i3 , i4 } ⊆ ϕ.0 (J), i∗ is distinct from these four patients.
        Let ϕ. (i∗ ) = c∗ for some c∗ ∈ C.
        As i1 is still unmatched after c∗ is processed under the sequential reserve matching proce-
        dure induced by ., i∗ πc∗ i1 . On the other hand, i∗ is still unmatched after c1 is processed
        under the sequential reserve matching procedure induced by .0 , i1 πc1 i∗ . The last two
        statements together with i1 ∈ Jc and c 6= c1 imply (i) i∗ ∈  / Jc , (ii) c1 = u or i∗ 6∈ Jc1 , (iii)
        i1 π i∗ , and (iv)c∗ 6= c.
        Since i∗ πc∗ i1 , i∗ ∈ Jc∗ and c∗ 6= u. Therefore, c∗ ∈ {c0 , c2 } as there are only 4 categories
        c, c0 , c2 , c1 . We consider these two cases separately, each of which will lead to a contradiction
        to the existence of category c∗ and will show that Case 1 cannot hold.
                                                             −1 0
           • First assume c∗ = c0 : but then i∗ ∈ ϕ−1  0                                    ∗
                                                   . (c ) \ ϕ.0 (c ) despite the fact that i 6∈ Jc ,
             contradicting Relationship (4). Thus, Case 1 cannot hold.
           • Next assume c∗ = c2 : Recall that ϕ. (i2 ) = c1 while ϕ.0 (i2 ) = c2 .
              After c2 is processed under the sequential reserve matching procedure induced by .0 ,
              i∗ remains unmatched while i2 is matched with c2 . Then we have

                                                          i2 πc2 i∗ .

                                                        36
               On the other hand, after c2 is processed under the sequential reserve matching pro-
               cedure induced by ., i2 remains unmatched (because i2 is matched with c1 , which is
               processed later since c2 . c1 ), while i∗ is matched with c2 . Then it should be that

                                                               i∗ πc2 i2 .

               The last two displayed equations lead to a contradiction. Thus, Case 1 cannot hold.

Case 2. c2 . c3 : Then c3 = c and c2 = c0 . So far we have ϕ. (i3 ) = c0 and ϕ.0 (i3 ) = c, hence we
        should have i3 ∈ Jc as well by Relationship (4). Since ϕ.0 (i2 ) = c0 and ϕ. (i2 ) = c1 6= c,
        then by Relationship (3), i2 6∈ Jc . Thus i3 πc0 i2 implies

                                                            i3 π i2 .

         Moreover, after c is processed under the sequential reserve matching procedure induced by
         .0 , i1 ∈ Jc remains unmatched while i3 ∈ Jc is matched with it. Hence, |ϕ−1
                                                                                   . (c)| = rc .

         After c is processed under the sequential reserve matching procedure induced by ., i1 ∈ Jc
         is not matched with it. Therefore, there exists some j1 ∈ Jc \ {i1 , i3 } such that

                                 ϕ. (j1 ) = c,    ϕ.0 (j1 ) 6∈ {c, c0 },     and i3 π j1 π i1 .

         Moreover, since j1 is still unmatched after c0 is processed under the sequential reserve
         matching procedure under .0 , while i2 is matched with c0 , i2 πc0 j1 . Moreover, for i3 ∈ Jc
         we have i3 πc0 i2 , therefore c0 is either unreserved or i2 6∈ Jc0 implying

                                                            i2 π j1 .

         Moreover, j1 can be picked such that she is matched in a step before i1 is matched with
         c1 under the sequential reserve matching procedure induced by .0 .24
         Since c .0 c0 .0 c1 and ϕ.0 (j1 ) 6∈ {c1 , c, c0 } then there is some category c∗ such that

                                                      c .0 c0 .0 c∗ .0 c1 ,

         and ϕ.0 (j1 ) = c∗ . Hence, |C| = 4. Since i2 π j1 and i2 is still unmatched after c∗ is
         processed under the sequential reserve matching procedure induced by ., |ϕ−1  ∗
                                                                                   . (c )| = rc∗ .

         So far we have
                                                       i3 π i2 π j1 π i1
    24
       As otherwise: ϕ.0 (j1 ) = c1 as i1 cannot be matched before j1 . Then, the way we picked i2 initially would be
  the replacement of j1 in ϕ. as the patient who is matched with c1 and we would have a second chain of agents
  and categories constructed for i1 again and either Case 1 would eliminate this possibility or we would end up with
  this Case 2 again and at this point. Since the capacity of c1 is finite, such iterations should end with such a j1 as
  we picked in the text.




                                                           37
     and matchings ϕ. and ϕ.0 are, respectively, as follows:
                                                =c2
                                                     =c3
                                               z}|{ z}|{
                                                 0
                                    .:          c     c              c∗      c1
                                                i3   j1                      i2
                                               |{z} |{z}
                                                ∈Ic        ∈Ic

                                                           =c2
                                                =c3
                                               z}|{ z}|{
                                    .0 :         c   c0   c∗   c1
                                                i3   i2   j1   i1
                                               |{z}      |{z} |{z}
                                                ∈Ic                 ∈Ic      ∈Ic


     Observe from the above table that i2 is not matched with c∗ after c∗ is processed the
     sequential reserve matching procedure induced by ., and yet a lower priority patient, j1 is
     matched with c∗ under .0 . Then there should be some agent j2 such that

                                            j2 πc∗ i2 πc∗ j1 πc∗ i1 ,

     and
                                ϕ. (j2 ) = c∗         and        ϕ.0 (j2 ) ∈ {c, c0 }.
     If ϕ.0 (j2 ) = c, then j2 should be matched with c under . instead of j1 , a contradiction.
     Thus, ϕ.0 (j2 ) = c0 . By Relationship (3), j2 6∈ Jc .
     Now notice that we are exactly at the same place when we first picked j1 . Then we will
     continue to construct a sequence of distinct patients j1 , j2 , . . .

                          ` is odd =⇒ j` ∈ Jc ,            ϕ. (j` ) = c,     ϕ.0 (j` ) = c∗ ;
                         ` is even =⇒ j` 6∈ Jc ,           ϕ. (j` ) = c∗ ,     ϕ.0 (j` ) = c0 .

     and
                                           ` is even =⇒ j` π j`−1 .
     Since this sequence is infinite, this contradicts to the finiteness of the problem. Thus, Case
     2 cannot hold.

Therefore, such a patient i1 cannot exist, which equivalently means ϕ.0 (Jc ) ⊆ ϕ. (Jc ). Since
ϕ.0 (Ic \ Jc ) = ϕ. (Ic \ Jc ) = Ic \ Jc ,
                                           ϕ.0 (Ic ) ⊆ ϕ. (Ic ),
completing the proof of the theorem.




                                                      38
References
Abdulkadiroğlu, Atila. 2005. “College Admissions with Affirmative Action.” International
 Journal of Game Theory, 33(4): 535–549.

Abdulkadiroğlu, Atila, and Tayfun Sönmez. 2003. “School Choice: A Mechanism Design
 Approach.” American Economic Review, 93: 729–747.

Agarwal, Nikhil, Itai Ashlagi, Michael Rees, Paulo Somaini, and Daniel Waldinger.
 2019. “An Empirical Framework for Sequential Assignment: The Allocation of Deceased Donor
 Kidneys.” Working paper, MIT.

Al-Jazeera. 2020. “COVID-19: US conducts trials of plasma transfusions.” April 6.

Andersson, Tommy. 2017. “Refugee Matching as a Market Design Application.” Working
 paper.

Aygün, Orhan, and Bertan Turhan. 2016. “Dynamic Reserves in Matching Markets.” Work-
 ing paper.

Aygün, Orhan, and Bertan Turhan. 2017. “Large-Scale Affirmative Action in School Choice:
 Admissions to IITs in India.” American Economic Review, 107(5): 210–13.

Aygün, Orhan, and Inacio Bo. 2016. “College Admission with Multidimensional Reserves:
 The Brazilian Affirmative Action Case.” Working paper, WZB Berlin Social Science Center,
 869.

Balinski, Michel, and Tayfun Sönmez. 1999. “A Tale of Two Mechanisms: Student Place-
 ment.” Journal of Economic Theory, 84: 73–94.

Ball, Robert, and Phil Schneider. 2009. “South Carolina Prepares for Pandemic Influenza:
 An Ethical Perspective.” South Carolina Pandemic Influenza Ethics Task Force.

Baswana, Surender, Partha Pratim Chakrabarti, Sharat Chandran, Yashodhan
 Kanoria, and Utkarsh Patange. 2018. “Centralized admissions for engineering colleges
 in India.” forthcoming, INFORMS Journal on Applied Analytics.

Bateman, Scot, Monica Bharel, Paul Biddinger, Peter A. DePergola, Lachlan For-
 row, Eric Goralnick, Joshua Kornbluth, Abraar Karan, Christine Mitchell, Emily
 Rubin, Dean Shapley, Sally Vitali, Michael Wagner, Matthias Walz, and Ellen We-
 instein. 2020. “Crisis Standards of Care Planning Guidance for the COVID-19 Pandemic.”
 April 7.

Biddison, Elizabeth, Howard Gwon, Monica Schoch-Spana, Robert Cavalier, Dou-
  glas B. White, Timothy Dawson, Peter B. Terry, Alex John London, Alan Regen-
  berg, Ruth Faden, and Eric S. Toner. 2013. “The Community Speaks: Understanding
  Ethical Values in Allocation of Scarce Lifesaving Resources during Disasters.” Annals of the
  American Thoracic Society, 11: 777–783.

                                             39
Biro, P., T. Fleiner, R.W. Irving, and D.F. Manlove. 2010. “The College Admissions
  Problem with Lower and Common Quotas.” Theoretical Computer Science, 411(34-26): 3136–
  3153.

Blow, Charles. 2020. “The Racial Time Bomb in the Covid-19 Crisis.” New York Times, April
  1.

Bo, Inacio. 2016. “Fair Implementation of Diversity in School Choice.” Games and Economic
 Behavior, 97: 54–63.

Budish, Eric. 2011. “The Combinatorial Assignment Problem: Approximate Competitive
 Equilibrium from Equal Incomes.” Journal of Political Economy, 119(6): 1061–1103.

Budish, Eric, Yeon-Koo Che, Fuhito Kojima, and Paul R. Milgrom. 2013. “Designing
 Random Allocation Mechanisms: Theory and Applications.” American Economic Review,
 103(2): 585–623.

Carter, Stephen. 2020. “Ventilator Rationing Guidelines Are Discriminatory.” Bloomberg,
 April 10.

Christian, M.D., L Hawryluck, R. S. Wax, T Cook, N. M. Lazar, M. S. Herridge,
 M. P. Muller, D. R. Gowans, W. Fortier, and F. M. Burkle. 2006. “Development of a
 triage protocol for critical care during an influenza pandemic.” Canadian Medical Association
 Journal, 175: 1377–1381.

Correa, Jose, Rafael Epstein, Juan Escobar, Ignacio Rios, Bastian Bahamondes,
 Carlos Bonet, Natalie Epstein, Nicolas Aramayo, Martin Castillo, Andres Cristi,
 and Boris Epstein. 2019. “School Choice in Chile.” EC ’19, 325–343. New York, NY,
 USA:ACM.

Daugherty-Biddison,     Lee,    Howard    Gwon,     Alan   Regenberg,     Monica
 Schoch-Spana, and Eric Toner. 2017. “Maryland Framework for the Alloca-
 tion of Scarce Life-Sustaining Medical Resources in a Catastrophic Public Health
 Emergency.”         https://www.law.umaryland.edu/media/SOL/pdfs/Programs/Health-
 Law/MHECN/ASR%20Framework Final.pdf.

Delacrétaz, David, Scott Duke Kominers, and Alexander Teytelboym. 2016. “Refugee
 Resettlement.” Working paper.

de Pu Kamp, Majlie, Curt Devine, and Drew Griffin. 2020. “As coronavirus cases
  grow, hospitals adopt a system to rank patients for treatment.” CNN, April 3, https://
  www.cnn.com/2020/04/03/health/coronavirus-hospital-ethics-ventilators-invs/
  index.html.

Dittmar, Pia. 2018. “Gender Quotas - Balancing Act Between Efficient Policies and Gap
 Fillers.” EU-Logos Athena.



                                             40
Dogan, Battal. 2016. “Responsive Affirmative Action in School Choice.” Journal of Economic
 Theory, 165: 69–105.

DoH, Utah. 2018. “Utah Crisis Standards of Care Guidelines.” Utah Department of Health.

DREDF. 2020. “Preventing Discrimination in the Treatment of Covid-19 Pa-
 tients:   The Illegality of Medical Rationing on the Basis of Disability.”
 March    25,   Available   at   https://dredf.org/wp-content/uploads/2020/03/
 DREDF-Policy-Statement-on-COVID-19-and-Medical-Rationing-3-25-2020.pdf.

Duan, Kai, Bende Liu, Cesheng Li, Huajun Zhang, Ting Yu, Jieming Qu, Min
 Zhou, Li Chen, Shengli Meng, Yong Hu, Cheng Peng, Mingchao Yuan, Jinyan
 Huang, Zejun Wang, Jianhong Yu, Xiaoxiao Gao, Dan Wang, Xiaoqi Yu, Li Li,
 Jiayou Zhang, Xiao Wu, Bei Li, Yanping Xu, Wei Chen, Yan Peng, Yeqin Hu,
 Lianzhen Lin, Xuefei Liu, Shihe Huang, Zhijun Zhou, Lianghao Zhang, Yue Wang,
 Zhi Zhang, Kun Deng, Zhiwu Xia, Qin Gong, Wei Zhang, Xiaobei Zheng, Ying
 Liu, Huichuan Yang, Dongbo Zhou, Ding Yu, Jifeng Hou, Zhengli Shi, Saijuan
 Chen, Zhu Chen, Xinxin Zhang, and Xiaoming Yang. 2020. “Effectiveness of conva-
 lescent plasma therapy in severe COVID-19 patients.” Proceedings of the National Academy
 of Sciences.

Dur, Umut, Parag Pathak, and Tayfun Sönmez. 2019. “Explicit vs. Statistical Preferen-
 tial Treatment in Affirmative Action: Theory and Evidence from Chicago’s Exam Schools.”
 forthcoming, Journal of Economic Theory.

Dur, Umut, Scott Kominers, Parag Pathak, and Tayfun Sönmez. 2018. “Reserve De-
 sign: Unintended Consequences and The Demise of Boston’s Walk Zones.” Journal of Political
 Economy, 126(6).

Echenique, Federico, and M. Bumin Yenmez. 2015. “How to Control Controlled School
  Choice.” American Economic Review, 105(8): 2679–2694.

Edelman, Benjamin, Michael Ostrovsky, and Michael Schwarz. 2007. “Internet Ad-
 vertising and the Generalized Second-Price Auction: Selling Billions of Dollars Worth of
 Keywords.” American Economic Review, 97(1): 242–259.

Ehlers, Lars, Isa E. Hafalir, M. Bumin Yenmez, and Muhammed A. Yildirim. 2014.
 “School Choice with Controlled Choice Constraints: Hard Bounds versus Soft Bounds.” Jour-
 nal of Economic Theory, 153: 648–683.

Emanuel, Ezekial J., Govind Persad, Ross Upshur, Beatriz Thome, Michael Parker,
 Aaron Glickman, Cathy Zhang, Conor Boyle, Maxwell Smith, and James Philips.
 2020. “Fair Allocation of Scarce Medical Resources in the Time of Covid-19.” New England
 Journal of Medicine, March 23.

Fink, Sheri. 2020. “U.S. Civil Rights Office Rejects Rationing Medical Care Based on Disability,
  Age.” New York Times, March 29.

                                              41
Fragiadakis, Daniel, and Peter Troyan. 2017. “Improving Matching under Hard Distribu-
  tional Constraints.” Theoretical Economics, 12(2): 863–908.

Gale, David, and Lloyd S. Shapley. 1962. “College Admissions and the Stability of Mar-
 riage.” American Mathematical Monthly, 69: 9–15.

Hafalir, Isa E., M. Bumin Yenmez, and Muhammed A. Yildirim. 2013. “Effective
 Affirmative Action in School Choice.” Theoretical Economics, 8(2): 325–363.

Hsieh, Nien-hê. 2016. “Incommensurable Values.” January 25, https://plato.stanford.
 edu/entries/value-incommensurable/#Bib.

Israni, A. K., N. Salkowski, S. Gustafson, J. J. Snyder, J. J. Friedewald, R. N.
  Formica, X. Wang, E. Shteyn, W. Cherikh, D. Stewart, C. J. Samana, A. chung,
  A. Hart, and B. L. Kasiske. 2014. “New National Allocation Policy for Deceased Donor
  Kidneys in the United States and Possible Effects on Patient Outcomes.” Journal of the
  American Society of Nephrology, 25(8): 1842–1848.

Iten, Anne, and Pascal Strupler. 2018. “Swiss Influenza Pandemic Plan.” Federal Office of
  Public Health, Swiss Confederation.

Jones, A. E., S. Trzeciak, and J. A. Kline. 2009. “The Sequential Organ Failure Assessment
  score for predicting outcome in patients with severe sepsis and evidence of hypoperfusion at
  the time of emergency department presentation.” Critical Care Medicine, 37: 1649–1654.

Jones, Will, and Alexander Teytelboym. 2017. “The Local Refugee Match: Aligning
  Refugees’ Preferences with the Capacities and Priorities of Localities.” Journal of Refugee
  Studies, 31(2): 152–178.

Kamada, Yuichiro, and Fuhito Kojima. 2015. “Efficient Matching under Distributional
 Constraints: Theory and Applications.” American Economic Review, 105(1): 67–99.

Kamada, Yuichiro, and Fuhito Kojima. 2017. “Stability Concepts in Matching with Dis-
 tributional Constraints.” Journal of Economic Theory, 168: 107–142.

Kamada, Yuichiro, and Fuhito Kojima. 2018. “Stability and Strategy-proofness for
 Matching with Constraints: A Necessary and Sufficient Condition.” Theoretical Economics,
 13(2): 761–794.

Kojima, Fuhito. 2012. “School Choice: Impossibilities for Affirmative Action.” Games and
 Economic Behavior, 75(2): 685–693.

Kominers, Scott Duke, and Tayfun Sönmez. 2016. “Matching with Slot-specific Priorities:
 Theory.” Theoretical Economics, 11(2): 683–710.

Michigan. 2012. “Guidelines for Ethical Allocation of Scarce Medical Resources and Services
 During Public Health Emergencies in Michigan.” Department of Community Health, Office
 of Public Health Preparedness.

                                             42
Milgrom, Paul R. 2000. “Putting Auction Theory to Work: The Simultaneous Ascending
 Auction.” Journal of Political Economy, 108: 245–272.

Ne’eman, Ari. 2020. “I Will Not Apologize for My Needs.” New York Times, March 23.

OPTN. 2014. “Organ Procurement and Transplantation Network Policies.” Technical Report.

Pathak, Parag A., and Tayfun Sönmez. 2008. “Leveling the Playing Field: Sincere and
 Sophisticated Players in the Boston Mechanism.” American Economic Review, 98(4): 1636–
 1652.

Pathak, Parag A., and Tayfun Sönmez. 2013a. “School Admissions Reform in Chicago
 and England: Comparing Mechanisms by their Vulnerability to Manipulation.” American
 Economic Review, 103(1): 80–106.

Pathak, Parag, Alex Rees-Jones, and Tayfun Sönmez. 2020a. “Immigration Lottery
 Design: Engineered and Coincidental Consequences of H-1B Reforms.” NBER Working Paper
 26767.

Pathak, Parag, Alex Rees-Jones, and Tayfun Sönmez. 2020b. “Reversing Reserves.”
 NBER Working Paper.

Pathak, Parag, and Tayfun Sönmez. 2013b. “Recommendation on Algorithm Processing,
 Public Testimony to EAC.” Available at: https://economics.mit.edu/files/16966.

Persad, Govind. 2020. “Why Disability Law Permits Evidence-Based Triage in a Pandemic.”
 forthcoming, Yale Law Journal Online.

Rankin, Jennifer. 2020. “EU revises plans for mandatory quotas of women on company
 boards.” The Guardian, March 5.

Roth, Alvin E. 1984. “The Evolution of the Labor Market for Medical Interns and Residents:
 A Case Study in Game Theory.” Journal of Political Economy, 92: 991–1016.

Roth, Alvin E., and Elliott Peranson. 1999. “The Redesign of the Matching Market for
 American Physicians: Some Engineering Aspects of Economic Design.” American Economic
 Review, 89: 748–780.

Roth, Alvin E., Tayfun Sönmez, and Utku Ünver. 2004. “Kidney Exchange.” Quarterly
 Journal of Economics, 119: 457–488.

Roth, Alvin E., Tayfun Sönmez, and Utku Ünver. 2005. “Pairwise Kidney Exchange.”
 Journal of Economic Theory, 125: 151–188.

Schummer, James, and Azar Abizada. 2017. “Incentives in Landing Slot Problems.” Jour-
  nal of Economic Theory, 170: 29–55.

Schummer, James, and Rakesh V. Vohra. 2013. “Assignment of Arrival Slots.” American
  Economic Journal: Microeconomics, 5(2): 164–185.

                                           43
Sönmez, Tayfun. 2013. “Bidding for Army Career Specialties: Improving the ROTC Branching
  Mechanism.” Journal of Political Economy, 121(1): 186–219.

Sönmez, Tayfun, and M. Bumin Yenmez. 2019a. “Affirmative Action in India via Vertical
  and Horizontal Reservations.” Working paper.

Sönmez, Tayfun, and M. Bumin Yenmez. 2019b. “Constitutional Implementation of Ver-
  tical and Horizontal Reservations in India: A Unified Mechanism for Civil Service Allocation
  and College Admissions.” Working paper.

Sönmez, Tayfun, and M. Utku Ünver. 2010. “Course Bidding at Business Schools.” Inter-
  national Economic Review, 51(1): 99–123.

Sönmez, Tayfun, and Tobias Switzer. 2013. “Matching with (Branch-of-Choice) Contracts
  at the United States Military Academy.” Econometrica, 81(2): 451–488.

Sönmez, Tayfun, Utku Ünver, and M. Bumin Yenmez. 2020. “Incentivized Kidney
  Exchange.” forthcoming, American Economic Review.

Tong, Rosemarie, and Leah Devlin. 2007. “Stockpiling Solutions: North Carolina’s Ethical
  Guidelines for an Influenza Pandemic.” North Carolina Institute of Medicine, Department of
  Health and Human Services Division of Public Health.

Truog, Robert D., Christine Mitchell, and George Q. Daley. 2020. “The Toughest
  Triage – Allocating Ventilators in a Pandemic.” New England Journal of Medicine, March 23.

Varian, Hal R. 2007. “Position Auctions.” International Journal of Industrial Organization,
 25(6): 1163–1178.

Vawter, Dorothy E., J. Eline Garrett, Karen G. Gervais, Angela Witt Prehn,
 Debra A. DeBruin, Carol A. Tauer, Elizabeth Parilla, Joan Liaschenko, and
 Mary Faith Marshall. 2010. “For the Good of Us All: Ethically Rationing Health Re-
 sources in Minnesota in a Severe Influenza Pandemic.” Minnesota Pandemic Ethics Project,
 Minnesota Department of Health.

Vincent, J. L., R. Moreno, J. Takala, S. Willatts, A. De Mendonça, H. Bruining,
 C. K. Reinhart, P. M. Suter, and L. G. Thijs. 1996. “The SOFA (Sepsis-related Organ
 Failure Assessment) score to describe organ dysfunction/failure. On behalf of the Working
 Group on Sepsis-Related Problems of the European Society of Intensive Care Medicine.”
 Intensive Care Medicine, 22: 707–710.

Westkamp, Alexander. 2013. “An Analysis of the German University Admissions System.”
 Economic Theory, 53(3): 561–589.

White, Douglas B., and Bernard Lo. 2020. “A Framework for Rationing Ventilators and
 Critical Care Beds During the Covid-19 Pandemic.” Journal of the American Medical Asso-
 ciation. doi:10.1001/jama.2020.5046.


                                             44
White, Douglas B., Mitchell H. Katz, John M. Luce, and Bernard Lo. 2009. “Who
 Should Receive Life Support During a Public Health Emergency? Using Ethical Principles to
 Improve Allocation Decisions.” Annals of Internal Medicine, 150(2): 132–138.

White, Douglas B., Mithcell Katz, John M. Luce, and Bernard Lo. 2020. “Allocation of
 Scarce Critical Care Resources During a Public Health Emergency.” University of Pittsburgh,
 Department of Critical Care Medicine, March 26.

Whyte,        Liz    Essley.   2020.    “State Policies    May   Send       People   with
 Disabilities     to  the    Back    of    the Line     for   Ventilators.”    April   8,
 https://publicintegrity.org/health/coronavirus-and-inequality/
 state-policies-may-send-people-with-disabilities-to-the-back-of-the-line-for-ventilators/.

Zucker, Howard A, Karl P. Adler, Donald P. Berens, Rock Brynner, Karen Butler,
 Yvette Calderon, Carolyn Corcoran, Nancy Neveloff Dubler, Paul J. Edelson,
 Joseph J. Fins, Rev. Francis H. Geer, Samuel Gorovitz, Cassandra Henderson,
 Hassan Khouli, Fr. Joseph W. Koterski, Hugh Maynard-Reid, John Murnane,
 Karen Porter, Robert Swidler, Sally True, Stuart C. Sherman, Susia A. Han, and
 Valier Gutmann Koch. 2015. “Ventilator Allocation Guidelines.” New York State Task
 Force on Life and the Law, New York Department of Health.




                                            45
