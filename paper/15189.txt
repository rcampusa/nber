                                NBER WORKING PAPER SERIES




                                      MARKET SELECTION

                                          Leonid Kogan
                                           Stephen Ross
                                            Jiang Wang
                                        Mark M. Westerfield

                                        Working Paper 15189
                                http://www.nber.org/papers/w15189


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                      July 2009




The views expressed herein are those of the author(s) and do not necessarily reflect the views of the
National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2009 by Leonid Kogan, Stephen Ross, Jiang Wang, and Mark M. Westerfield. All rights reserved.
Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.
Market Selection
Leonid Kogan, Stephen Ross, Jiang Wang, and Mark M. Westerfield
NBER Working Paper No. 15189
July 2009
JEL No. D51,D53,G1,G11,G12,G14

                                                ABSTRACT

The hypothesis that financial markets punish traders who make relatively inaccurate forecasts and
eventually eliminate the effect of their beliefs on prices is of fundamental importance to the standard
modeling paradigm in asset pricing. We establish necessary and sufficient conditions for agents making
inferior forecasts to survive and to affect prices in the long run in a general setting with minimal restrictions
on endowments, beliefs, or utility functions. We show that the market selection hypothesis is valid
for economies with bounded endowments or bounded relative risk aversion, but it cannot be substantially
generalized to a broader class of models. Instead, survival is determined by a comparison of the forecast
errors to risk attitudes. The price impact of inaccurate forecasts is distinct from survival because price
impact is determined by the volatility of traders’ consumption shares rather than by their level. Our
results also apply to economies with state-dependent preferences, such as habit formation.


Leonid Kogan                                            Jiang Wang
MIT Sloan School of Management                          E52-456, MIT
50 Memorial Drive, E52-434                              50 Memorial Drive
Cambridge, MA 02142                                     Cambridge, MA 02142-1347
and NBER                                                and NBER
lkogan@mit.edu                                          wangj@mit.edu

Stephen Ross                                            Mark M. Westerfield
Sloan School of Management                              Department of Finance & Business Economics
Massachusetts Institute of Technology                   Marshall School of Business
50 Memorial Drive, E52-450                              Hoffman Hall 602D, Mailcode 1427
Cambridge, MA 02142-1347                                701 Exposition Blvd
and NBER                                                Los Angeles, CA 90089-1427
sross@mit.edu                                           mwesterf@usc.edu
1     Introduction

It has long been suggested that evolutionary forces work in ﬁnancial markets: agents who
are inferior at forecasting the future will either improve through learning or perish as their
wealth diminishes relative to those superior in forecasting. This argument was ﬁrst made in
Friedman (1953), although much of the recent work stems from De Long, Shleifer, Summers,
and Waldman (1991) and Blume and Easley (1992). If such an evolutionary mechanism
works eﬀectively, then in the long run only those agents with the best forecasts will survive
the market selection process and determine asset prices. This “market selection hypothesis”
(MSH) is one of the major arguments behind the assumption of rational expectations in
neoclassical asset pricing theory. After all, if agents with more accurate knowledge of funda-
mentals do not determine the price behavior in the market, there is little reason to assume
that prices are driven by fundamentals and not by behavioral biases. More generally, it
may be comforting that markets select for those agents with more accurate forecasts, even
if agents with less accurate forecasts are replenished over time (e.g. in overlapping genera-
tions economies). We show that in frictionless, complete-market exchange economies, both
parts of the MSH – that traders with inferior forecasts do not survive and that extinction
destroys their price impact – are false in general. With minimal restrictions on endowments,
preferences, and beliefs, we develop necessary and suﬃcient conditions for the validity of the
market selection hypothesis.

    Despite the appeal and importance of the market selection hypothesis, its validity has
remained ambiguous. Existing literature provides a number of examples in which agents
with biased beliefs may or may not survive and/or inﬂuence prices. Relying on partial
equilibrium analysis, De Long, Shleifer, Summers, and Waldman (1991) argue that agents
making inferior forecasts can survive in wealth terms despite market forces exerted by agents
with objective beliefs. Using a general equilibrium setting, Sandroni (2000) and Blume and
Easley (2006) show that only agents with beliefs closest to the objective probabilities will
survive and have price impact. Their results are obtained in economies with a limited range of




                                              1
primitives, speciﬁcally in those with bounded aggregate consumption.1 Kogan, Ross, Wang,
and Westerﬁeld (2006) demonstrate in a setting without intermediate consumption that if
aggregate endowment is unbounded, agents with incorrect beliefs can survive. Moreover,
they show that even when such agents do not survive in the long-run, their impact on prices
can persist. In other words, survival and price impact are two independent concepts and
need to be considered separately. However, the absence of intermediate consumption leaves
it less clear how important this distinction may be in more general models.

      Existing analysis relies on specialized models, mostly for tractability and convenience,
making it diﬃcult to understand the economic mechanism behind the MSH and the scope
of its validity. In this paper, we perform a comprehensive analysis of the MSH and its
pricing implications in a general complete-market setting with time-separable preferences
(including state-dependent preferences, e.g., catching up with the Joneses), not limiting
ourselves to commonly used parametric speciﬁcations. We thus sharpen our understanding
of the degree of robustness of the survival and price impact results and their connection
to the economic fundamentals. For instance, in models with constant relative risk aversion
(CRRA) preferences (e.g., Dumas, Kurshev, and Uppal (2008), Yan (2008)), the market
selection hypothesis holds, and agents with inferior forecasts fail to survive or aﬀect prices in
the long run. However, as we discuss below, models with CRRA preferences are eﬀectively a
knife-edge case for the validity of the MSH. The MSH may be violated for utility functions
arbitrarily close to CRRA, but with risk aversion depending on the consumption level.

      We examine the MSH in frictionless and complete-market economies because common
arguments in favor of its validity rely on unrestricted competition, the lack of limits to
arbitrage, etc. To isolate the impact of disagreement, we populate our economies with
competitive agents who only diﬀer in their beliefs. We then analyze how survival and price
impact properties of the economy depend on the primitives, such as errors in forecasts,
endowment growth, and risk aversion.
  1
    A signiﬁcant body of work exists examining pricing implications of heterogeneous beliefs in speciﬁc
parameterized models, including Dumas, Kurshev, and Uppal (2008), Fedyk and Walden (2007), Xiong and
Yan (2008), and Yan (2008).




                                                  2
   We ﬁnd that if agents have bounded relative risk aversion or if the aggregate endowment
is bounded, then agents with more accurate forecasts eventually dominate the economy and
determine price behavior. Otherwise, if relative risk aversion is unbounded, the survival of
agents with less accurate forecasts and their impact on state prices are eﬀectively determined
by the asymptotic growth rates of risk aversion and forecast errors: if forecast errors do not
disappear fast enough compared to the growth rate of risk aversion, agents with less accurate
forecasts can maintain a nontrivial consumption share and aﬀect prices. Our results and
counter-examples suggest it is not possible to substantially generalize the market selection
hypothesis beyond the class of models with bounded relative risk aversion or aggregate
endowment.

   Intuitively, survival depends on the tradeoﬀ between the forecast errors and the growth
rate of risk aversion. Agents with heterogeneous beliefs trade with each other to share
consumption across states. When two agents disagree in their probability assessment of
a particular state, the more optimistic agent buys a disproportionate share of the state-
contingent consumption. If two agents have diverging beliefs, they end up with extreme dis-
agreement asymptotically over most states. Whether this extreme disagreement leaves one
of the agents with a vanishing consumption share depends on agents’ preferences. Pareto
optimality implies that the ratio of agents’ marginal utilities in each state must be in-
versely proportional to the ratio of their belief densities, and therefore, asymptotically, di-
vergence in beliefs leads to divergence in marginal utilities. Whether or not large diﬀerences
in marginal utilities correspond to small diﬀerences in consumption depends on the sensitiv-
ity of marginal utility to consumption, which is the same as the coeﬃcient of relative risk
aversion: d ln U  (C)/d ln C = CU  (C)/U  (C) = −γ(C). If risk aversion of the two agents
grows fast enough compared to their belief diﬀerences, their marginal utility diﬀerences may
not translate into large consumption diﬀerences. In fact, as we show below (in Example 3.3),
the two agents may consume equal consumption shares asymptotically despite their growing
disagreement.

   We show that in models with bounded relative risk aversion, the agent with inferior
forecasts has no long-run impact on prices of Arrow-Debreu securities. This is not the case


                                              3
for models with unbounded relative risk aversion. In addition to the possibility that the
agent making inferior forecasts maintains a nontrivial consumption share and thus aﬀects
prices in the long run, the precise conditions for survival and price impact are in general
diﬀerent. Therefore, certain economies may exhibit one without the other. This phenomenon
was ﬁrst observed by Kogan, Ross, Wang, and Westerﬁeld (2006), and here we re-establish
their result under a stricter deﬁnition of price impact and in much more general settings.

       To gain intuition for why lack of survival does not always imply lack of price impact,
consider the following exchange economy with two agents. Let Dt be the endowment, and
let the agents have preferences given by e−ρt U(Ct ). Assume that belief diﬀerences imply that
the second agent consumes a share wt of the aggregate endowment. Then, the ﬁrst agent
consumes Ct = Dt (1 − wt ). Assume that wt vanishes asymptotically, and thus the second
agent does not survive in the long run. Next, compare the stochastic discount factor in this
economy to the one in an identical economy without the second agent, i.e., with wt = 0.
Assuming that all quantities are driven by Ito processes, in the second economy the volatility
of the stochastic discount factor equals γ(Dt )vol(dDt /Dt ), where γ(D) = −DU  (D)/U  (D).
This compares to γ(Ct )vol(dCt /Ct ) in the ﬁrst economy, where vol(dCt /Ct ) = vol(dDt /Dt −
dwt /(1 − wt )). Therefore, if the volatility of the consumption share wt does not vanish
relative to the volatility of endowment growth, the two discount factors may exhibit diﬀerent
volatilities.2 Thus, in contrast to the concept of survival, which is deﬁned by the magnitude
of the consumption share, price impact depends on the volatility of the consumption share,
   2
    As an example, we specify exogenously a pair of processes (Dt , wt ) and a utility function U (C), such
that the second agent has a vanishing consumption share but maintains price impact.
  Let Zt and Zt be two independent Brownian motions, let f (t) = (1 + t)−1 , and deﬁne Dt and ωt as

          Dt   =   exp(t + Zt ),
          wt   =   f (t)Xt ,
         dXt   =   f (t)−1 Xt (1 − Xt ) dZt .

Assume that the utility function U (C) = ln(C). It is easy to check that in the economy without the second
agent,
     the volatility   of the stochastic discount factor equals one, while in the economy with the second agent,
            Xt2 (1−Xt )2
it is 1 + (1−f (t)Xt )2 , which does not converge to one. Thus, as time goes to inﬁnity, wt vanishes, but the
ratio of volatilities of the two pricing kernels does not converge to one.
   In the above example, demand of the second agent is speciﬁed in reduced form, instead of being derived
from his beliefs and preferences. As we show below, to obtain price impact without survival in an economy
in which agents’ demands diﬀer only due to their disagreement, one must consider utility functions with
unbounded relative risk aversion. We describe one such economy in Example 3.5.


                                                       4
and therefore lack of survival does not imply lack of price impact.

    Our results cover general state-dependent preferences, such as external habit formation
and catching-up-with-the-Joneses. State-dependent preferences change the risk attitudes of
the agents in the economy, but they do not change how those risk attitudes aﬀect survival
or price impact. We are therefore able to apply the necessary and suﬃcient conditions for
the validity of the MSH to models with state-dependent preferences that are commonly used
in the literature. This aspect of our analysis is new to our knowledge, and provides a ﬁrst
exploration of the market selection hypothesis in the context of “behavioral” preferences.

    The paper is organized as follows. Section 2 sets up the model and deﬁnes survival and
price impact. Section 3 presents several examples of how survival and price impact results
depend on the primitives of the economy. Sections 4 and 5 present our main results on
survival and price impact. Section 6 covers economies with state-dependent preferences.
Section 7 concludes. Proofs and derivations are in the Appendix.


2     The Model

We consider an inﬁnite-horizon exchange (endowment) economy. Time is indexed by t, which
takes values in t ∈ [0, ∞). Time can either be continuous or discrete. While all of our general
results can be stated either in discrete or continuous time, some of the examples are simpler
in continuous time. We will use integrals to denote aggregation over time. When time is
taken as discrete, time-integration will be interpreted as summation. We further assume
that there is a single, perishable consumption good, which is also used as the numeraire.


Uncertainty and the Securities Market


The environment of the economy is described by a complete probability space (Ω, F , P). Each
element ω ∈ Ω denotes a state of the economy. The information structure of the economy
is given by a ﬁltration on F , {Ft }, with Fs ⊂ Ft for s ≤ t. The probability measure P is
referred to as the objective probability measure. The endowment ﬂow is given by an adapted



                                              5
process Dt . We assume that the aggregate endowment is strictly positive: Dt > 0, P − a.s.

       In addition to the objective probability measure P, we also consider other probability
measures, referred to as subjective probability measures. Let A and B denote such measures.
We assume that A and B share zero-probability events with P. Denote the Radon-Nikodym
derivative of the probability measure A with respect to P by ξtA . Then
                                           
                                   ξsA
         EAt   [Zs ] =   EPt           Zs                                                              (1)
                                   ξtA

for any Fs -measurable random variable Zs and s ≥ t, where Et [Z] denotes E [Z|Ft ]. In
addition, ξ0A ≡ 1 The probability measure B has a similar Radon-Nikodym derivative ξtB .
The random variable ξtA can be informally interpreted as the density of the probability
measure A with respect to the probability measure P conditional on the time-t information
set.

       We use A and B to model heterogeneous beliefs. We deﬁne the ratio of subjective belief
densities

                 ξtB
         ξt =        .                                                                                 (2)
                 ξtA

Since both ξ A and ξ B are nonnegative martingales, they converge almost surely as time tends
to inﬁnity (e.g., Shiryaev (1996, §7.4, Th. 1)), and therefore the process ξt also converges.
Our results are most relevant for models in which the limit of ξt is either zero or inﬁnity,
implying that the agents’ beliefs, described by subjective measures A and B, are meaningfully
diﬀerent in the long run. To see that convergence to a ﬁnite limit implies that beliefs are
not meaningfully diﬀerent in the long run, consider the subset of the probability measure
                                                              A
                                                             ξt+T /ξtA
where ξt converges to a ﬁnite limit. Then, the ratio         ξt+T /ξtB
                                                              B        ,   T > 0, converges to one, so the
ﬁnite-period forecasts implied by the two subjective measures converge asymptotically.3 We
examine the asymptotic condition on subjective beliefs in more detail in Section 3.

       We assume that there exists a complete set of Arrow-Debreu securities in the economy,
so that the securities market is complete.
   3
       See Blume and Easley (2006) for further discussion.


                                                       6
Agents


There are two competitive agents in the economy. They have the same utility function, but
diﬀer in their beliefs. The ﬁrst agent has A as his probability measure while the second
agent has B as his probability measure. We refer to the agent who uses A as agent A and
the agent who uses B as agent B. It is clear from the context when we refer to an agent as
opposed to a probability measure.

   Until stated otherwise, we assume that the agents’ utility function is time-additive and
state-independent with the canonical form
            ∞
                 e−ρt u(Ct )dt
         0


where Ct is an agent’s consumption at time t, ρ is the time-discount coeﬃcient and u(·) is
the utility function. We consider more general forms of the utility function in Section 6.
The common utility function u(·) is assumed to be increasing, weakly-concave, and twice
continuously diﬀerentiable. We assume that u(·) satisﬁes the standard Inada condition at
zero:


        lim u (x) = ∞.                                                                          (3)
        x→0


We use A(x) ≡ −u (x)/u(x) and γ(x) ≡ −xu (x)/u (x) = xA(x) to denote, respectively,
an agent’s absolute and relative risk aversion at the consumption level x.

   Let CA,t and CB,t denote consumption of the two agents. Each agent maximizes his
expected utility using his subjective beliefs. Agent i’s objective is
                    ∞                           ∞                     
                          −ρt                 P
        Ei0               e     u(Ci,t) dt = E0          e−ρt ξtiu(Ci,t ) dt   ,   i ∈ {A, B},   (4)
                  0                              0


where the equality follows from (1). This implies that the two agents are observationally
equivalent to the two agents with objective beliefs P but state-dependent utility functions
ξtA u(·) and ξtB u(·) respectively.



                                                               7
   The two agents are collectively endowed with a ﬂow of the consumption good. Let the
initial share of the total endowment for agent A and B be 1 −  and , respectively.


Equilibrium


Because the market is complete, if an equilibrium exists, it must be Pareto-optimal. In such
situations, consumption allocations can be determined by maximizing a weighted sum of the
utility functions of the two agents. The equilibrium is given at each time t by


          max         (1−α) ξtAu(CA,t) + α ξtBu(CB,t )                                       (5)
        CA,t , CB,t


           s.t.       CA,t + CB,t = Dt


where α ∈ [0, 1].

   Concavity of the utility function, together with the Inada condition, imply that the
equilibrium consumption allocations satisfy the ﬁrst-order condition

      u (CA,t )
                 = λ ξt ,                                                                    (6)
      u(CB,t )

where we denote α/(1−α) by λ.
                         CB,t
   We deﬁne wt =         Dt
                                as the share of the aggregate endowment consumed by agent B. The
ﬁrst-order condition for Pareto optimality (6) implies that wt satisﬁes
                                                                (1−wt )Dt
                                                 
      − ln(λξt ) = − ln u ((1 − wt )Dt ) + ln u (wt Dt ) =                   A(x) dx,        (7)
                                                             w t Dt


since A(x) = − dx
                d
                  ln u(x). This equation relates belief diﬀerences (ξt ) to individual risk
aversion (A(x)) and the equilibrium consumption allocation (wt and Dt ), and will be our
primary analytical tool.




                                                      8
Deﬁnitions of Survival and Price Impact


Without loss of generality, we focus on the survival of agent B and that agent’s impact on
                                                                1
security prices in the long run. If one replaces λξt with      λξt
                                                                     in our analysis, our results instead
describe the survival and price impact of agent A.

    We ﬁrst deﬁne formally the concepts of survival and price impact to be used in this paper
and examine their properties.


Deﬁnition 1 [Extinction and Survival] Agent B becomes extinct if

          CB,t
       lim     = 0, P−a.s.
      t→∞ Dt


Agent B survives if he does not become extinct.


    The above deﬁnition provides a weak condition for survival: an agent has to consume a
positive fraction of the endowment with a positive probability in order to survive.

    We deﬁne price impact in terms of the state-price density mt . Our deﬁnition formalizes
the notion that agent B has no price impact as long as his beliefs do not aﬀect the state-price
density asymptotically. Our deﬁnition of price impact in terms of the state-price density is
natural for a complete-market economy. Long-lasting distortions of the state-price density
imply that some long-lived assets, which can be replicated as portfolios of primitive Arrow-
Debreu securities (state-contingent claims), must also be mispriced. However, the reverse
implication does not hold, and some portfolios of primitive Arrow-Debreu securities may
reveal price impact even if the state-price density is not aﬀected by agent B’s beliefs in the
long run.4 Formally, this reﬂects the possibility that almost sure convergence of random
variables may not imply convergence of their moments. Thus, our deﬁnition of price impact
   4
     For instance, as we show below, in models with CRRA preferences the agent making inferior forecasts
has no price impact according to the above deﬁnition. This ﬁnding may appear to be at odds with the
results in Kogan, Ross, Wang, and Westerﬁeld (2006), who also consider a model with CRRA preferences.
However, note that in addition to the diﬀerences in settings –Kogan, Ross, Wang, and Westerﬁeld (2006) do
not allow for intermediate consumption, while here we do – we adopt a stricter deﬁnition of price impact in
this paper.



                                                    9
is relatively strict, and the set of economies in which agent B’s beliefs aﬀect prices of some
long-lived assets is potentially larger than our deﬁnition suggests.

   Pareto optimality and the individual optimality conditions imply that

                  ξtA u ((1 − wt )Dt )         B 
                                           −ρt ξt u (wt Dt )
      mt = e−ρt                         = e                  .                                (8)
                   u ((1 − w0 )D0 )            u(w0 D0 )

In general, mt depends on λ, the relative weight of the two agents in the economy, through
their initial endowments. Thus, we write mt = mt (λ). We denote by mt (λ) the state-price
density in the economy in which both agents have beliefs described by the measure A and
hence ξt = 1. We deﬁne mt (0) to be the state-price density in an economy in which all
wealth is initially allocated to agent A. We identify the price impact exerted by agent B by
comparing mt to m .


Deﬁnition 2 [Price Impact] Agent B has no price impact if there exists λ ≥ 0, such that
for any s > 0,

           mt+s (λ)/mt (λ)
      lim                   = 1, P−a.s.                                                       (9)
      t→∞ m         
           t+s (λ )/mt (λ )


Otherwise, he has price impact.


   In contrast to the notion of long-run survival, equations (8) and (9) show that price
impact is determined by changes in consumption over ﬁnite time intervals relative to a
benchmark economy. In particular, we compare the state price density in the original econ-
omy, mt+s (λ)/mt (λ), to the one in a reference economy where both agents maintain the same
beliefs, but, possibly, have a diﬀerent initial wealth distribution, mt+s (λ)/mt (λ ). We deﬁne
the price impact in this way for two reasons. First, we wish to focus on the price impact
of diﬀerences in beliefs, not the asymptotic distortion of the wealth distribution caused by
diﬀerences in beliefs during the earlier time periods. Thus, we allow the relative weight of the
two agents in the reference economy, λ , to be diﬀerent from that in the original economy.
In addition, this deﬁnition of price impact remains applicable when both agents survive in
the long run.

                                                     10
    The above deﬁnition may seem diﬃcult to apply because the condition (9) must be
veriﬁed for all values of λ . However, for economies in which agent B does not survive it is
often suﬃcient to verify the deﬁnition for λ = 0. In that case, since
                                                  
      u (D(1 − w))                  D
                    = exp                    A(x) dx ,                                          (10)
           u (D)                   D(1−w)


a suﬃcient condition for the absence of price impact is
                           Dt+s                         Dt
      ∀s>0:       lim                    A(x) dx −                    A(x) dx = 0, P−a.s.       (11)
                  t→∞   Dt+s (1−wt+s )                   Dt (1−wt )



    When agent B survives in the long run, it is natural to consider λ > 0 for the reference
economy. We ﬁnd that the case of λ = 1 is often suﬃcient. Under this assumption, the
two agents in the reference economy consume equal amounts and we obtain the following
suﬃcient condition for the absence of price impact
                           Dt+s (1−wt+s )                  Dt (1−wt )
      ∀s>0:       lim                        A(x) dx −                    A(x) dx = 0, P−a.s.   (12)
                  t→∞       1
                              D                              1
                                                               D
                            2 t+s                            2 t




3     Examples

In this section we use a series of examples to illustrate how survival and price impact prop-
erties depend on the interplay of the model primitives and to provide basic intuition for the
more general results in the next section. Our examples are organized in four sets. The ﬁrst
three sets of examples compare economies diﬀering from each other with respect to only
one of the primitives, namely, beliefs, endowment, or preferences. The last set of examples
focuses on state-dependence of preferences, such as habit formation.


3.1    Beliefs

Our ﬁrst set of examples illustrates extinction and survival in an economy with two Bayesian
learners.



                                                     11
Example 3.1 Consider a continuous-time economy with the aggregate endowment given by
a geometric Brownian motion:

        dDt
            = μ dt + σ dZt ,       D0 > 0.
        Dt

Assume that the two agents have logarithmic preferences: U(c) = ln(c). Assume that the
agents do not know the growth rate of the endowment process. They start with a Gaussian
prior belief about μ, N (μ̂i, (ν i )2 ), i ∈ {A, B}, and update their beliefs based on the observed
history of the endowment process according to the Bayes rule. Then, if both agents have
non-degenerate priors, min(ν A , ν B ) > 0, then both agents survive in the long run. If agent A
knows the exact value of the endowment growth rate but agent B does not, i.e., ν B > ν A = 0,
then agent B fails to survive.


      In the above example, both agents’ beliefs tend to the true value of the unknown param-
eter μ asymptotically. What determines survival is the rate of learning. If both agents start
not knowing the true value of μ, then, regardless of the bias or precision of their prior, they
both learn at comparable rates. Formally, the ratio of the agents’ belief densities converges
to one, limt→∞ ξt = 1. However, if one agent starts with perfect knowledge of the true
parameter value, the rate of learning of the other agent is not suﬃcient to guarantee that
agent’s survival.5 Formal derivations are presented in the Appendix.

      Our second example is motivated by Dumas, Kurshev, and Uppal (2008), who study an
economy with an irrational (overconﬁdent) agent who fails to account for noise in his signal
during the learning process. We do not model the learning process of the overconﬁdent agent
explicitly, as Dumas, Kurshev, and Uppal (2008) do, but instead postulate a qualitatively
similar belief process exogenously.


Example 3.2 Consider a discrete-time economy with the aggregate endowment given by


        Dt = Dt−1 exp (μt−1 + σ t ) ,        D0 > 0,
  5
      See Blume and Easley (2006) for further discussion of Bayesian learning and its implications for survival.



                                                       12
where   t   are i.i.d with   t   ∼ N(0, 1) and the conditional growth rate of the endowment, μt−1 is
a stationary moving average of the shocks          t−1 , t−2 , ....   Assume that agent A knows the true
value of μt , but agent B, who is an overconﬁdent learner, observes it with noise. Speciﬁcally,
agent B’s estimate of the current growth rate of the endowment is given by μt−1 + δt−1 , where
δt follows a stationary moving average process driven by an independent series of standard
normal random variables ut . Assume that both agents have logarithmic preferences. Then
agent B fails to survive in the long run.


   Mathematically, the moving-average representation of the expected growth rate of the
endowment in the above example captures the special case of a Bayesian learner confronted
with an unobservable expected growth rate following a low-order autoregressive process,
which is the setting considered in Dumas, Kurshev, and Uppal (2008). Thus, one can
interpret the objective distribution of the endowment process in our example as the beliefs
of a Bayesian learner A. In contrast, agent B does not follow the Bayes rule, and we capture
his mistakes by adding noise to his forecasts of endowment growth. Agent B’s errors follow
a stationary process and thus do not diminish over time. As we show in the Appendix,
agent B’s beliefs diverge from the Bayesian learner’s probability measure asymptotically,
limt→∞ ξt = 0, and therefore he fails to survive.


3.2     Endowments

The following set of examples illustrates the dependence of survival and price impact results
on the endowment process. We consider three economies with identical preferences and
beliefs but diﬀerent endowment processes. In our ﬁrst example agent, B survives and aﬀects
prices. In the second example, he does not survive and has no price eﬀect. In the last
example, agent B fails to survive but does exert a long-run impact on prices.

   Consider a continuous-time economy with uncertainty described by a Brownian Motion
Zt . Both agents have the same utility function described by the absolute risk aversion




                                                     13
function
              ⎧ −1
              ⎨ x  0<x≤1
     A(x) =                                                                                (13)
              ⎩
                  x−α      x>1

where 0 ≤ α < 1. The utility function thus deﬁned exhibits constant relative risk aversion at
low levels of consumption with increasing relative risk aversion at high levels of consumption.
We assume that the two agents have constant disagreement δ about the drift of the Brownian
motion Z, and therefore the diﬀerence in agents’ beliefs is described by the density process
                        
               1 2
     ξt = exp − δ t + δZt .                                                                (14)
               2

Agents’ beliefs thus diverge asymptotically, with limt→∞ ξt = 0. We set the relative utility
weight λ to one. The relevant endowment processes are speciﬁed in each of the following
examples.

   It is critical that in the endowment examples, as the economy grows, agents’ risk aversion
increases. As we show in Corollary 4.2 to Theorem 4.1, agent B does not survive in an
economy with bounded relative risk aversion. If relative risk aversion of the agents is not
bounded, one can observe both survival and price impact in the long run, as the following
examples illustrate. As we show formally in Sections 4 and 5, survival and price impact
results depend on the relation between the asymptotic growth rate of agents’ risk aversion
relative and the rate of divergence of their beliefs. Our three examples represent the cases
when risk aversion rises faster, slower, or at the same rate that the agents’ beliefs diverge.

   Our ﬁrst example illustrates that agent B may survive if risk aversion in the economy rises
fast enough compared to the rate at which agents’ beliefs diverge. In particular, the agent
with the higher consumption share is also more risk averse asymptotically, which explains
why agent A does not dominate the economy in the long run. Informally, as A pulls ahead
of B in his consumption share, he also becomes suﬃciently more risk averse to allow B to
catch up. Thus, the two agents increase their consumption at the same asymptotic rate.


Example 3.3 Let the endowment process be a Geometric Brownian motion with a positive

                                              14
drift,

         dDt
             = μdt + σdZt ,                            μ > 0, D0 > 0.                                        (15)
         Dt

Then agent B survives in the long run, moreover, his consumption share approaches 1/2
asymptotically. Agent B exerts long-run impact on prices.


                                          40
                                                                                                 w = 0.97


                                          30                                                     w = 0.87


                                                                                                 w = 0.76
                                          20
              Belief Divergence (ln ξ)




                                                                                                 w = 0.66
                                          10

                                                                                                 w = 0.55
                                           0
                                                                                                 w = 0.45

                                         −10
                                                                                                 w = 0.34


                                         −20                                                     w = 0.24


                                         −30                                                     w = 0.13


                                                                                                 w = 0.025
                                         −40
                                               0   5     10    15       20   25   30   35   40
                                                                Endowment (D)

    Figure 1: Survival. This ﬁgure illustrates survival results in Examples 3.3 through 3.5. Aggregate
    endowment D is plotted on the horizontal axis, while belief divergence, ln(ξ) is plotted on the vertical
    axis. Solid lines are the level curves for the consumption share of agent B, so that each solid line
    plots pairs (D, ln(ξ)) that give rise to a given consumption share w. These pairs can be found by
    ﬁxing w and plotting the value of ln(ξ) as a function of D, with the function given by the Pareto
    optimality condition (7). Labels for agent B’s consumption share are shown alone the right margin.
    The marked lines show the median path (Zt = Zt = 0) of (Dt , ln(ξt )) for each example. The
    paths corresponding to Examples 3.3, 3.4, and 3.5 are marked with circles, squares, and triangles
    respectively. We choose the following parameter values: α = 0, λ = 1, μ = 0.02, σ = 0.05, δ = 0.5.
    In Example 3.5, we set X0 = 1.5.



    Figure 1 shows the median path of the economy in Example 3.3, plotted against level
curves for the consumption share of agent B (solid lines). Each level curve represents pairs

                                                                        15
(D, ln(ξ)) that give rise to a particular consumption share w. These lines depend only on
preferences, and they can be found by ﬁxing w and plotting the value of ln(ξ) as a function
of D, with the function given by the Pareto optimality condition (7). We assume that
α = 0 so that the agents’ utilities have constant absolute risk aversion when consumption
is greater than one. This assumption explains why the level curves tend to be spaced wider
at higher endowment levels. Because of constant absolute risk aversion at high consumption
levels, a given diﬀerence in consumption shares requires a larger diﬀerence in beliefs at
higher endowment levels. In addition, relative risk aversion is asymptotically proportional
to consumption, and therefore the growth rate of risk aversion in this economy is the same
as the growth rate of the endowment process.

   The median path of the economy in Example 3.3 is obtained by setting the driving
Brownian motion Zt equal to zero, and it is shown by a line marked with circles. The
economy illustrated in Figure 1 is growing, since μ − σ 2 /2 > 0, and so the median path
is traced from left to right as time passes. We can see that the median path crosses the
level curves from below (for large t), which shows that as the economy grows over time, the
consumption share of agent B along the median path increases.

   In our next example, aggregate endowment grows slower than in the previous exam-
ple, and therefore risk aversion of the two agents rises suﬃciently slowly compared to the
divergence rate of their beliefs that agent B becomes extinct and has no price impact.


Example 3.4 Let the endowment process be given by Dt = ln(1 + exp(Xt )), where Xt is an
arithmetic Brownian motion with a positive drift, Xt = μt + σZt , μ > 0. Then agent B does
not survive and has no price impact in the long run.


   In Figure 1, the median path for Example 3.4 (marked with squares) crosses consumption-
share level curves from above, showing that as the economy grows, agent B’s consumption
share vanishes. Since the rate for belief divergence is identical in all three examples in
this section, the only reason why the median paths in our examples have diﬀerent slopes is
because of the diﬀerent growth rates of the endowment process. Slow endowment growth


                                            16
(and hence slow growth of risk aversion) generates a steep median path, leading to agent B’s
extinction.

   Together, Examples 3.3 and 3.4 suggest that agent B’s survival depends on the tradeoﬀ
between the rate of divergence of beliefs in the market and the growth rate of risk aversion.

   Our last example in this set illustrates that survival and price impact are distinct con-
cepts. In this example, risk aversion grows at an intermediate rate: slower than in Example
3.3 but faster than in Example 3.4. With the appropriate choice of the endowment process,
we demonstrate that an agent can exert long-term price impact despite of becoming extinct.
In addition, we highlight the challenges in obtaining a sharp characterization of economies
satisfying the market selection hypothesis: economies for which agents making relatively
inaccurate forecasts have no long-run impact on prices.


Example 3.5 Let Xt be a positive stationary process


       dXt = (Xt − a)(Xt − b) dZt ,      X0 ∈ (a, b)                                        (16)


where b > a > 0 and Zt is a Brownian motion independent of Zt . Assume that the aggregate
endowment is given by

                                                 1−α
                                                    1
                            | ln ξt |
       Dt =                                              .                                   (17)
                  (1 − α) − Xt1−α | ln ξt |α−1
                         −1



Then agent B becomes extinct asymptotically but maintains long-run impact on prices.

   If α = 0 and A = P, then the maximum achievable instantaneous Sharpe ratio (the stan-
                                                                                                     1
dard deviation of the state price density) is asymptotically equal to δ 2 + 14 (Xt − a)2 (Xt − b)2   2
                                                                                                         .
In contrast, in the benchmark homogeneous-beliefs economy with λ = 0, the maximum Sharpe
                                                             1
ratio is asymptotically equal to δ 2 + (Xt − a)2 (Xt − b)2   2
                                                                 . Thus, the price impact of agent
B’s relatively inaccurate forecasts creates persistent changes in the investment opportunity
set.


   The construction of Example 3.5 formalizes our intuitive discussion of price impact in

                                                     17
                                                   1
the introduction. For t large, wt ≈ (1 − α) 1−α | lnXξt t | , which is close to zero because | ln ξt |
converges to inﬁnity. However, wt Dt is volatile enough to aﬀect the volatility of the marginal
utility of agent A, U  (Dt − wt Dt ). Because the agents are suﬃciently risk averse, a small
but variable consumption share of agent B translates into variable prices, generating price
impact without survival.

   In Figure 1, the median path for Example 3.5 (marked with triangles) crosses consumption-
share level curves from above, showing that as the economy grows, agent B’s consumption
share vanishes. The diﬀerence between Examples 3.4 and 3.5 is in the rate at which agent
B’s consumption share vanishes. This process is slower in Example 3.5, and the relatively
slow rate of extinction allows agent B to retain impact on prices in the long run.


3.3      Preferences

We now illustrate how survival depends on preferences. We consider a family of economies
with state-independent preferences that diﬀer only with respect to the agents’ utility func-
tion.

Example 3.6 Consider a continuous-time economy with the aggregate endowment given by
a geometric Brownian motion:

        dDt
            = μ dt + σ dZt ,   D0 > 0,    μ, σ > 0.
        Dt

Assume that agent A uses the correct probability measure, A = P, but agent B has a constant
bias, δ = 0, in his forecasts of the growth rate of the endowment:
                          
                   δ2   δ
        ξt = exp − 2 t + Zt .
                  2σ    σ

Let the relative risk aversion function of the two agents be given by


        γ(x) = (1 + x)α ,   α ≤ 1.


Then, if relative risk aversion is non-increasing, α ≤ 0, agent B does not survive and does not

                                                 18
aﬀect prices asymptotically. If agents’ preferences exhibit increasing relative risk aversion,
α ∈ (0, 1], agent B survives and has price impact in the long run.


    In this family of preferences, relative risk aversion is decreasing for negative values of α,
increasing for positive values, and constant for α = 0. The example shows that the case
of constant relative risk aversion (e.g., Yan (2008)) is a knife-edge case: agent B becomes
extinct if risk aversion is decreasing or constant, and survives otherwise. In particular, any
positive rate of growth in risk aversion over time can generate survival.


4     Survival

In this section we present general necessary and suﬃcient conditions for survival. The
following theorem shows formally that survival depends on how the asymptotic rate of growth
of aggregate relative risk aversion compares to the rate of belief divergence.


Theorem 4.1 A necessary condition for agent B to become extinct is that for all ∈ (0, 12 ),

                 (1−)Dt
                Dt
                           A(x) dx
      lim sup                        ≤ 1, P−a.s.                                               (18)
        t→∞        | ln(λξt )|

A suﬃcient condition for his extinction is that the inequality is strict, i.e., for all   ∈ (0, 12 ),

                 (1−)Dt
                Dt
                           A(x) dx
      lim sup                        < 1, P−a.s.                                               (19)
        t→∞        | ln(λξt )|


    From the conditions in Theorem 4.1, it is clear that survival depends on the joint prop-
erties of aggregate endowments (Dt ), preferences (in particular, risk aversion A(x)), and
beliefs (ξt ). Survival is determined by the relation between the growth rates of belief diver-
gence and risk aversion. Theorem 4.1 formalizes the informal discussion in the introduction.
If risk aversion grows too rapidly, the numerator in (18) dominates and agent B survives.
Intuitively, the numerator captures the relation between diﬀerences in consumption and dif-
ferences in marginal utilities between the two agents. The Pareto optimality condition (6)

                                                   19
implies that if beliefs of the two agents diverge, so must their marginal utilities evaluated at
their equilibrium consumption. But if risk aversion grows too fast, increasing diﬀerences in
marginal utilities fail to generate large diﬀerences in consumption. Equation (18) provides
the precise restriction on the growth rate of risk aversion necessary for agent B’s extinction.

   The following straightforward applications of Theorem 4.1 identify a broad class of models
in which agent B does not survive. These results replace the joint condition on the primitives
in Theorem 4.1 with an easily veriﬁable condition on only one of the primitives: the utility
function in Corollary 4.2 and the endowment process in Corollary 4.3.


Corollary 4.2 If relative risk aversion is bounded and limt→∞ ξt = 0, then the B agent
never survives.


   If risk aversion is bounded, large diﬀerences in marginal utilities imply large diﬀerences in
consumption, therefore when beliefs diverge, agent B does not survive. The class of models
with bounded relative risk aversion is quite large. It includes, for instance, all utilities of
HARA (hyperbolic absolute risk aversion) type, except for the CARA (constant absolute
risk aversion) utility.

   If the endowment process is bounded, so will be the level of risk aversion, therefore models
with bounded endowments have the same survival properties as the models with bounded
risk aversion. Sandroni (2000) and Blume and Easley (2006) study models with bounded
endowment and diverging beliefs and ﬁnd that agent B fails to survive regardless of the exact
form of preferences. We replicate this result as a consequence of Theorem 4.1.


Corollary 4.3 If the aggregate endowment process is bounded away from zero and inﬁnity
and limt→∞ ξt = 0, then the B agent never survives.


   If the endowment process is not bounded (away from zero or away from inﬁnity), then
the precise relation between the primitives is important in determining agent B’s survival.
We simplify the conditions of Theorem 4.1 for the class of utilities with decreasing absolute


                                              20
risk aversion (DARA), which is generally considered to be the weakest a priori restriction on
utility functions.


Proposition 4.4 Suppose that the utility function exhibits DARA. Then, for the B agent to
go extinct it is suﬃcient that there exists a sequence        n   ∈ (0, 12 ) converging to zero such that
for any n

         γ( n Dt )
      lim           = 0, P−a.s.                                                                          (20)
      t→∞ | ln ξt |


For the B agent to survive, it is suﬃcient that for some            ∈ (0, 12 )

                γ( Dt )
      lim sup             = ∞, P−a.s.                                                                    (21)
       t→∞      | ln ξt |

If, in addition,

          γ(Dt )
      lim           = ∞, P−a.s.                                                                          (22)
      t→∞ | ln ξt |


then limt→∞ wt = 12 , P−a.s.


   This result shows that all the survival-relevant information about preferences is cap-
tured by the relative risk aversion coeﬃcient evaluated at the constant fractions of aggregate
endowment. This formally deﬁnes the asymptotic growth rate of risk aversion.

   To illustrate how the model primitives jointly determine survival, consider a special family
of DARA utilities with unbounded relative risk aversion. Agent B may or may not survive,
as shown in the following corollary of Theorem 4.1.


Corollary 4.5 Assume that relative risk aversion satisﬁes


      γ(x) = k1 + k2 xa ,   k1 , k2 > 0,        a ∈ [0, 1].

                                       Dta                                               Dta
Then agent B survives if limt→∞     | ln ξt |
                                                = ∞ and becomes extinct if limt→∞     | ln ξt |
                                                                                                  = 0.



                                                      21
To ensure survival, the endowment must grow rapidly enough that the aggregate risk aversion
(Dta ) outpaces the divergence of beliefs (ln |ξt |).

   We ﬁnally consider a generalization of the setting analyzed in Kogan, Ross, Wang, and
Westerﬁeld (2006) and Yan (2008), where endowment follows a Geometric Brownian motion
and agent B is persistently optimistic about the growth rate of the endowment. We make a
weaker assumption that the endowment and belief diﬀerences grow at the same asymptotic
                     ln Dt
rate, i.e. limt→∞   | ln ξt |
                                = b < ∞.


                                                         ln Dt
Corollary 4.6 Consider an economy with limt→∞           | ln ξt |
                                                                    = b < ∞ and limt→∞ ξt = 0, P−a.s.
Assume that the utility function is of DARA type. Then agent B becomes extinct if

                 γ(x)
       lim                   = 0.                                                                (23)
       x→∞ k1 + k2 ln(1 + x)


for some positive constants k1 and k2 . The B agent survives if

                 γ(x)
       lim                   = ∞,                                                                (24)
       x→∞ k1 + k2 ln(1 + x)



   We thus identify two broad classes of preferences for which survival does and does not
take place under the above assumption on the endowment and beliefs. Agent B becomes
extinct if risk aversion at high consumption levels grows slower than logarithmically, and
he survives if risk aversion grows faster than logarithmically. This, again, illustrates the
interplay between assumptions about endowments, beliefs, and preferences. For instance, if
we leave endowments and beliefs unrestricted, then we can have extinction of agent B for
relative risk aversion with faster-than-logarithmic growth, as in Corollary 4.5. However, this
is not possible if the endowment and belief diﬀerences grow at the same rate, as in Corollary
4.6.




                                                 22
5     Price Impact

We now consider the inﬂuence agent B has on the long-run behavior of prices and how this
inﬂuence is related to his survival. As pointed out by Kogan, Ross, Wang, and Westerﬁeld
(2006), survival and price impact are two separate concepts. We show that in general survival
is neither a necessary nor a suﬃcient condition for price impact. We then provide examples
of suﬃcient and necessary conditions for price impact.

    As we have seen, when beliefs diverge and endowments are bounded from above and
below, agent B does not survive (see Corollary 4.3). In this case, agent B also has no price
impact in the long run.


Proposition 5.1 If relative risk aversion is bounded and limt→∞ ξt = 0, then the B agent
has no price impact.


    The relation between Arrow-Debreu prices and marginal utilities means that agent B
can aﬀect prices if he has nontrivial impact on the marginal utility of agent A. When risk
aversion is bounded, this requires him to have signiﬁcant impact on consumption growth of
agent A asymptotically, which is impossible since agent B does not survive.

    As with survival, the result for bounded risk aversion is similar to that of a bounded
endowment:


Proposition 5.2 If aggregate endowment is bounded above and below away from zero and
limt→∞ ξt = 0, then agent B has no price impact.


The above propositions show that for a broad class of economies agent B agent does not
survive and does not exert price impact in the long run.

    When endowments or risk aversion are unbounded, the situation becomes more compli-
cated. Now it is possible for agent B to aﬀect the marginal utility of agent A without having
nonvanishing eﬀect on agent A’s consumption growth, which means that price impact may
be consistent with agent B’s extinction. We have described such an economy in Example

                                             23
3.5. We show below that the reverse is also possible: agent B may survive without aﬀect-
ing prices. But ﬁrst, we formulate a set of suﬃcient conditions under which agent B both
survives and aﬀects prices.


Proposition 5.3 Consider an economy with DARA preferences in which

         γ( 12 Dt )
      lim           = ∞, P−a.s.                                                           (25)
     t→∞ (ln ξt )2


and limt→∞ ξt = 0. Then agent B survives and asymptotically consumes a half of the aggre-
gate endowment.


   As a by-product of our analysis, we obtain a general result for consumption sharing
rules in economies with unbounded relative risk aversion: if beliefs are homogeneous, the
asymptotic consumption distribution is independent of the initial wealth distribution.


Proposition 5.4 Consider an economy with homogeneous beliefs, growing endowment pro-
cess, Dt → ∞ as t → ∞, and monotonically increasing, unbounded relative risk aversion
γ(x). Then, for any initial allocation of wealth between the agents, their consumption shares
become asymptotically equal. Moreover, the state price density in this economy is asymptot-
ically the same as in an economy in which the agents start with equal endowments.


   We now state the necessary and suﬃcient conditions for price impact.


Proposition 5.5 In the economy deﬁned in Proposition 5.3, agent B has long-run price
impact if and only if the belief process ξt has non-vanishing growth rate asymptotically, i.e.,
there exists s > 0 and   > 0 such that
                                     
     Prob lim sup |ln ξt+s − ln ξt | > > 0.                                               (26)
              t→∞


Moreover, asymptotically the state price density does not depend on the initial wealth distri-
bution, i.e., does not depend on λ.


                                              24
    Proposition 5.5 shows that survival does not necessarily lead to price impact. Since under
condition (25) the asymptotic consumption allocation does not depend on the initial wealth
distribution (each agent consumes one half of the aggregate endowment), in the long run,
the state price density does not depend on the initial wealth distribution.

    Proposition 5.4 sheds light on why the survival and price impact properties of various
economies are connected to whether risk aversion of the agents is bounded or increasing.
Economies with bounded relative risk aversion exhibit simple behavior: agent B does not
survive and has no asymptotic impact on the state-price density. When relative risk aversion
is increasing and therefore unbounded, we know from Proposition 5.4 that in a homogeneous-
belief economy consumption shares of the agents tend to become equalized over time no
matter how uneven the initial wealth distribution is. Similarly, the state-price density does
not depend (asymptotically) on the initial wealth distribution. This mechanism remains at
work in economies with heterogeneous beliefs. However, there is another force present now:
agent B tends to mis-allocate his consumption across states due to his distorted beliefs, which
reduces his asymptotic consumption share. The tradeoﬀ between these two competing forces
is intuitive: distortions in consumption shares caused by belief diﬀerences tend to disappear
over time, unless the belief diﬀerences grow suﬃciently rapidly. This explains the result in
(26)

    Proposition 5.5 completes our taxonomy of models with respect to survival and price
impact. Corollaries 4.2 and 4.3 and Propositions 5.1 and 5.2 show general conditions under
which there is neither survival nor price impact. Example 3.5 in Section 3.2 describes an
economy with price impact but no survival. Completing the set, Proposition 5.5 describes
economies in which there is survival both with and without price impact.


6      State-Dependent Preferences

In this section, we generalize our results on survival and price impact to models with state-
dependent preferences. Let the utility function take the form u(C, H), where C is agent’s
consumption and H is the process for state variables aﬀecting the agent’s utility. We assume


                                              25
that H is an exogenous adapted process. This speciﬁcation covers models of external habit
formation, or catching-up-with-the-Joneses preferences, as in Abel (1990) and Campbell and
Cochrane (1999), in which case the process H is a function of lagged values of the aggregate
endowment.

   Theorem 4.1 extends to the case of state-dependent preferences. Let A(C, H) and γ(C, H)
denote, respectively, the coeﬃcients of absolute and relative risk aversion at consumption
level C. Then we obtain an analog of Proposition 4.4.


Proposition 6.1 Assume that the utility function u(C, H) exhibits DARA: the coeﬃcient
of absolute risk aversion A(C, H) is decreasing in C. Then, for agent B to go extinct it is
suﬃcient that there exists a sequence   n   ∈ (0, 12 ) converging to zero such that for any n

          γ( n Dt , Ht )
      lim                = 0, P−a.s.                                                            (27)
      t→∞    | ln ξt |

For agent B to survive, it is suﬃcient that for some      ∈ (0, 12 )

                γ( Dt , Ht )
      lim sup                = ∞, P−a.s.                                                        (28)
       t→∞        | ln ξt |

If, in addition,

          γ(Dt , Ht )
      lim             = ∞, P−a.s.                                                               (29)
      t→∞   | ln ξt |

then limt→∞ wt = 12 , P−a.s.


   In a growing economy (Dt → ∞, P − a.s.) with diverging beliefs and state-independent
preferences, survival of agent B requires that the coeﬃcient of relative risk aversion is un-
bounded at large levels of consumption, namely, that lim supx→∞ γ(x) = ∞ (see Proposition
4.4). This is not the case if preferences are state-dependent. In many common models of
external habit formation, the process Ht is such that the process for relative risk aversion
in the economy is stationary. In such cases, survival and price impact results are sensitive
to the distributional assumptions on the beliefs and endowment. In order for agent B to


                                                26
survive, the stationary distribution of risk aversion must have a suﬃciently heavy right tail,
so that the condition (27) is violated. As an illustration, consider the following example of
two economies which diﬀer only with respect to the distribution of endowment growth.


Example 6.2 Consider two discrete-time economies with external habit formation. Let the
relative risk aversion coeﬃcient of the two agents be

                       x
       γ(x, H) = 1 +          ,
                         H

where Ht = Dt−1 . Thus, agents’ external habit level equals the lagged value of the aggregate
endowment. Assume that the disagreement process follows

                1    t
       ln ξt = − t +     Zn
                2    n=1


where Zn are distributed according to a standard normal distribution and are independent
of the endowment process. Endowment growth is independently and identically distributed
over time in both economies. Assume that the endowment process Dt is independent of
the disagreement process ξt , which means that agents A and B disagree on probabilities of
payoﬀ-irrelevant states.67 In the ﬁrst economy, endowment growth has bounded support,
0<g≤       Dt
          Dt−1
                 ≤ g < ∞. In the second economy, endowment growth is bounded from below
but unbounded from above. Moreover, the distribution of endowment growth is heavy-tailed,
namely, there exists a positive constant a such that, for suﬃciently large x,
                   
             Dt
       Prob      > x > ax−1/3 .
            Dt−1

Then, agent B becomes extinct in the ﬁrst economy, and survives in the second economy.
   6
      Another example of an economy in which belief diﬀerences are independent of the aggregate endowment
is a multi-sector economy in which agents agree on the distribution of the aggregate endowment, but disagree
about the distribution of sectors’ shares in the aggregate endowment.
    7
      Survival results in this example do not depend on the joint distribution of the endowment process and
the disagreement process. Thus, one may assume that the two agents disagree about the probabilities of
payoﬀ-relevant states by specifying DDt−1t
                                           to be a nonlinear function of Zt . The assumption of independence
of endowment and beliefs makes it easy to establish price impact results below.




                                                    27
      In the ﬁrst economy, it is clear that condition (27) is satisﬁed for any positive             n,   and
thus agent B does not survive. In the second economy, the distribution of endowment growth
is such that relative risk aversion exhibits frequent large spikes, namely
                                                         
                             3                 Dt
        Prob γ( Dt , Ht ) > t    ≥ Prob            > t3       >a   1/3 −1
                                                                      t
                                              Dt−1

                                                                                                8
Such spikes in risk aversion occur frequently enough that the condition (28) holds.

      The following propositions extends our results on price impact to economies with state-
dependent preferences. Their proofs follow closely the results of Sections 4 and 5.


Proposition 6.3 There is no price impact or survival in models with bounded relative risk
aversion.


      In the model with state-independent preferences, bounding the endowment implied bound-
ing relative risk aversion. This, in turn, implied a lack of price impact. With state-dependent
preferences, a bounded endowment no longer implies that relative risk aversion is bounded.


Proposition 6.4 Consider a model with the utility function of DARA type, and let the
coeﬃcient of relative risk aversion be monotonically increasing in its ﬁrst argument. Assume
that

             γ( 12 Dt , Ht )
         lim                 = ∞, P−a.s.,                                                                (30)
        t→∞    (ln ξt )2

Then agent B survives and asymptotically consumes a half of the aggregate endowment. He
has price impact if and only if the disagreement process ξt is such that its growth rate does
not vanish asymptotically, i.e., there exists s > 0 and            > 0 such that
                                        
        Prob lim sup |ln ξt+s − ln ξt | > > 0.                                                           (31)
                t→∞

  8
           ∞ −1                                                               Dt −3
    Since     t=1 t = ∞, the Borel-Cantelli lemma implies that lim supt→∞     Dt−1 t   ≥ 1 P − a.s. Since
                 −3
limt→∞ | ln ξt |t = 0 P − a.s., (28) follows.




                                                  28
Moreover, asymptotically the state-price density does not depend on the initial wealth distri-
bution, i.e., does not depend on λ.


        Returning to Example 6.2, note that agent B has no price impact in the ﬁrst economy
but exerts price impact in the second economy. The ﬁrst result follows immediately from
Proposition 6.4, since bounded dividend growth implies bounded relative risk aversion in
this economy. The second result can be established using a slight modiﬁcation of the proof
of Proposition 5.5.9


7         Conclusion

In this paper we examine the economic mechanism behind the Market Selection Hypothesis
and establish necessary and suﬃcient conditions for its validity in a general setting with
minimal restrictions on endowments, beliefs, or utility functions. We show that the MSH
holds in economies with bounded endowments or bounded relative risk aversion. The com-
monly studied special case of constant relative risk aversion preferences belongs to this class
of models. However, we show that the MSH cannot be substantially generalized to a broader
class of models. Instead, survival is determined by a comparison of the forecast errors to risk
attitudes. The price impact of inaccurate forecasts is distinct from survival because price
impact is determined by the volatility of traders’ consumption shares rather than by their
level. Our results also apply to economies with state-dependent preferences, such as habit
formation.




    As we show above, lim supt→∞ DDt−1
    9                                     t
                                            t−3 ≥ 1, P−a.s., while limt→∞ | ln ξt |2 t−3 = 0, P−a.s., implying
that lim supt→∞ γ(Dt , Ht )/| ln ξt |2 = ∞, P−a.s. The price impact result then follows from independence of
Dt and ξt and the assumption that increments ln ξt − ln ξt−1 are independent across time.

                                                     29
A      Examples

A.1      Example 3.1

Deﬁne δtA = μ̂At − μ. Then, using the Kalman Filter,

                                                           2
      dδtA = −δtA νtA dt + νtA dZt      and dνtA = − νtA       dt

and therefore

                   δ0A      ν0A
      δtA =             +          Zt
               ν0A t + 1 ν0A t + 1

Next, from the deﬁnition of ξtA , we have
                                    t
         A       1 t A 2
     ln ξt = −           δ    ds +       δsA dZs
                 2 0 s                0
                  t                                                                             
                        1 A 2          1         1 A       2         1      2   A A      1
            = −            δ0                  +   ν                       Z + δ0 ν0 A          Zs ds
                  0     2        (ν0 s + 1)2 2 0
                                   A
                                                               (ν0A s + 1)2 s       (ν0 s + 1)2
                  t
               +     δsA dZs
                        0

In addition, direct integration by parts shows us that
      t               t                             
          A                      δ0A            ν0A
         δs dBs =                       +            Zs dZs
       0               0     ν0A s + 1 ν0A s + 1
                      1 ν0A          2        δ0A
                  =                Z   +            Zt
                      2 ν0A t + 1    t
                                          ν0A t + 1
                          t                                                                       
                                   1 ν0A               1      1 A         2
                      +         − A              + A            ν             Zs2   +   δ0A ν0A Zs        ds
                          0        2 ν0 s + 1 (ν0 s + 1) 2 0
                                                          2


Plugging the last equation into the expression for ln ξtA leaves us with
                                                    t                                      
                 1 ν0A                δ0A               1       2         1       1 ν0A
      ln ξtA   =            Z 2
                                +           Zt +       − δ0A                    −              ds
                 2 ν0A t + 1 t    ν0A t + 1         0   2           (ν0A s + 1)2 2 ν0A s + 1

Since the sum of the ﬁrst three does not converge to a constant, but the fourth grows as
ln(t), we have that ν A = 0 implies

            ξtA
      lim          =1
      t→∞ −2 ln(t)


with the same result for agent B.

                                                     30
   If min(ν A , ν B ) > 0, then ξt → 1, and so (7) with A(x) = x1 implies that both agents
survive. If ν B > ν A = 0, then ξ B = ξt → 0, and so Proposition 4.4 implies that B does not
survive.


A.2      Example 3.2

Agent B’s beliefs are characterized by the density process
                                               
                        
                        t      2
                              ηs−1
      ξt = exp              −      + ηs−1   s
                        s=1
                               2

                                                                                  t
                                                                                      η2
where ηt = δt /σ. The process Mt = ts=1 ηs−1 s is a martingale. Since limt→∞ s=1t s−1 =
E[ηt2 ], the quadratic variation process of Mt converges to inﬁnity almost surely under P,
                             t      2
and therefore limt→∞ Mt /       s=1 ηs−1 = 0 P − a.s. (see Shiryaev 1996, §7.5, Th. 4 ). This
implies that limt→∞ ξt = 0 a.s. and hence the condition (20) in Proposition 4.4 is satisﬁed.
We conclude that agent B does not survive in the long run.


A.3      Example 3.3

The suﬃcient condition for survival (22) in Proposition 4.4 is satisﬁed, since γ(Dt ) = Dt1−α
grows exponentially, thus, according to the Proposition, agent B survives with asymptotic
consumption share equal to 12 . Proposition 5.4 implies that agent B exerts price impact
asymptotically, since the condition (26) is clearly satisﬁed by the belief process (14) and (25)
follows from the exponential growth rate of γ(Dt ).


A.4      Example 3.4

The Pareto optimality condition (7) cannot be satisﬁed for wt Dt ≥ 1 for large enough t. To
see this, assume the contrary. Then, (7) implies that

                     1
      | ln ξt | =      D 1−α (1 − wt )1−α − wt1−α
                    1−α t

which is impossible, since the | ln ξt | increases asymptotically linearly in time, while Dt1−α
grows at the rate of t1−α . Thus, we conclude that lim supt→∞ wt Dt ≤ 1 and therefore
limt→∞ wt = 0 P − a.s. and agent B does not survive.



                                                    31
   To show that there is no price impact in this economy, we consider the reference economy
with λ = 0 and verify the condition (11). Since asymptotically wt Dt < 1,
         Dt
                                 1
                   A(x)dx =          D 1−α 1 − (1 − wt )1−α = Dt1−α (wt + o(wt2 )),       (A1)
       (1−wt )Dt              (1 − α) t

which clearly converges to zero, since Dt1−α wt = (wt Dt )Dt−α , Dt tends to inﬁnity, and wt Dt
is asymptotically bounded.


A.5       Example 3.5

We look for the solution to (7) under the assumption that wt Dt > 1. Assuming wt Dt > 1,
for large enough t, (7) implies that

      (1 − wt )1−α − wt1−α = 1 − (1 − α)Xt1−α | ln ξt |α−1

and therefore wt → 0, P − a.s. Using the Taylor expansion in wt around zero, we ﬁnd that

      wt1−α − (1 − α)wt + o(wt2 )
                                  = 1,
        (1 − α)Xt1−α | ln ξt |α−1

which in turn implies that limt→∞ wt | ln ξt |/Xt = (1 − α)1/(1−α) , P − a.s. This implies that
agent B becomes extinct. To complete the ﬁrst part of the proof we must verify that,
asymptotically, wt Dt exceeds one. This follows immediately since | ln ξt |Dtα−1 → (1 − α)−1 ,
P − a.s. and Xt ≥ a > 0.

   To verify that agent B exerts price impact, we consider separately the case reference
economies with λ = 0 and λ > 0.

  To see that there is price impact in this economy relative to the reference economy with
 
λ = 0, note that, for large enough t,
         Dt
                               1
                   A(x)dx =      D 1−α 1 − (1 − wt )1−α = Dt1−α (wt + o(wt ))
       (1−wt )Dt              1−α t

From the limiting results established above, we conclude that, asymptotically, Dt1−α wt be-
haves as (1 −αα/(1−α) ) Xt . Since the process Xt is stationary and has non-vanishing variance,
this implies that the condition (9) is violated and hence there is price impact relative to the
reference economy with λ = 0. The case of λ > 0 follows a similar argument.


                                                 32
A.6      Example 3.6

Survival results follow from Proposition 4.4, since the logarithm of the belief density ratio
ln ξt exhibits linear grows, while the aggregate endowment Dt grows exponentially. Price
impact results follow from Proposition 5.5.


B      Proofs

B.1     Proof of Theorem 4.1

Suppose that the agent with beliefs Q becomes extinct, i.e., wt = CDn,tt converges to zero almost
surely. For each element of the probability space for which wt vanishes asymptotically, one
                                                                (1−w)D
can ﬁnd T ( ), such that wt < for any t > T ( ). Since wD                A(x) dx is a decreasing
function of w, the ﬁrst-order condition (7) implies that for all t > T ( )

             (1−wt )Dt                        (1−)Dt
             w t Dt
                         A(x) dx             Dt
                                                        A(x) dx
      1=                              ≥                           .
                  − ln(λξt )                   − ln(λξt )

Thus, the desired result follows by applying lim supt→∞ to both sides of the inequality.

    We now prove the suﬃcient condition. Consider the elements of the probability space for
                         (1−)Dt
                                   A(x) dx
which lim supt→∞ Dt| ln(λξt )|              < 1 for any      > 0. For each such realization, we can deﬁne
T ( ) and δ > 0, such that

        (1−)Dt
       Dt
                  A(x) dx
                             ≤1−δ
           | ln(λξt )|

for all t > T ( ). If lim supt→∞ wt = 0, then one can always ﬁnd                   > 0 and t > T ( ), such
that wt > . But then

             (1−wt )Dt                        (1−)Dt
             w t Dt
                         A(x) dx             Dt
                                                        A(x) dx
      1=                              ≤                           .
                  − ln(λξt )                   − ln(λξt )

Taking lim supt→∞ on both sides, implies 1 ≤ 1 − δ, which is a contradiction.




                                                             33
B.2       Proof of Corollary 4.2

Let γ(x) = xA(x) < γ̄ for all x and γ̄ > 0. Then,

           (1−)Dt
          Dt
                      A(x) dx             ln − ln(1 − )
                                   ≤ γ̄
              | ln(λξt )|                    | ln(λξt )|

which converges to zero almost surely as t → ∞.


B.3       Proof of Corollary 4.3

Let Dm and DM denote the upper and lower bound of Dt . Then, 0 < Dm ≤ DM . Let Ā
                                                     (1−)D
denote the max of A(x) on [Dm , DM ]. We then have Dt t A(x)dx ≤ (1 − 2 )(DM − Dm )Ā
which is ﬁnite. Given that ξt → 0 as t → ∞ and hence | ln ξt | goes to inﬁnity, we immediately
conclude that (19) holds, and agent B does not survive.


B.4        Proof of Proposition 4.4

Since A(x) is a non-increasing function,
          (1− )D                                                                   
                                           D
                                                                                   −
                      A(x) dx ≥                  A(x) dx ≥ A( D)D( −  ) = γ( D)           ,
        D                                D

                
where 0 <           < . Condition (21) then implies that

                       (1− )Dt
                        Dt
                                   A(x) dx
      lim sup                                    = ∞, P−a.s.,
          t→∞             | ln(λξt )|

and hence a necessary condition for extinction is violated. Thus, agent B survives.

   Next, for any              ∈ (0, 1/2) , ﬁnd          n   < . Then, since since A(x) is a non-increasing
function,
          (1−)D
                      A(x) dx ≤ A( D)D(1 − 2 ) ≤ A( n D)D(1 − 2 )
       D




                                                              34
Then,

         (1−)Dt
        Dt
                   A(x) dx       A( n Dt ) n Dt (1 − 2 )   γ( n Dt )(1 − 2 )
                             ≤                           =                   ,
              | ln(λξt )|              n | ln(λξt )|          n | ln(λξt )|


and the result follows from (19).

   Lastly, since the utility function is of DARA type, condition (7) implies that

      | ln(λξt )| ≥ A((1 − wt )Dt )Dt (1 − 2wt ) ≥ γ(D)(1 − 2wt )

and therefore, using condition (22), limt→∞ wt = 1/2.


B.5      Proof of Corollary 4.5

Follows directly from Proposition 4.4.


B.6      Proof of Corollary 4.6
                                                                   ln Dt
Consider a set (of measure one) of ωs for which limt→∞            | ln ξt |
                                                                              = b and limt→∞ ξt = 0. On this
set,

              γ( Dt )          k1 + k2 ln(1 + Dt )       γ( Dt )
        lim             = lim
      t→∞     | ln ξt |   t→∞        | ln ξt |     k1 + k2 ln(1 + Dt )
                                         γ( Dt )
                        = bk2 lim                      =0
                              t→∞ k1 + k2 ln(1 + Dt )


for any positive . Thus, by Propsition 4.4, agent B becomes extinct as long as the risk
aversion coeﬃcient satisﬁes (23). According to the the same corollary, if the risk aversion
coeﬃcient satisﬁes (24), then then agent B survives.


B.7      Proof of Propositions 5.1 and 5.2

As we show in corollary 4.2, there is no survival in models with bounded relative risk aversion.
Thus, wt converges to zero almost surely. Consider now the ﬁrst term in (11). By the mean
value theorem, this term equals

                                         Dt+s wt+s
      A(xt+s )Dt+s wt+s = γ(xt+s )               ,
                                           xt+s

                                                       35
for some xt+s ∈ [(1 − wt+s )Dt+s , Dt+s ]. Since, almost surely, the ratio xDt+s
                                                                               t+s
                                                                                  ∗
                                                                                    converges to
                                                                           
one, wt+s converges to zero, and the relative risk aversion coeﬃcient γ(xt+s ) is bounded, we
conclude that the ﬁrst term in (11) converges to zero. The same argument implies that the
second term converges to zero almost surely, and therefore there is no price impact. This
proves proposition 5.1. Proposition 5.2 follows from the fact that bounding the endowment
implies bounding relative risk aversion.


B.8       Proof of Propositions 5.3, 5.4, and 5.5

Since the utility function is of DARA type, condition (7) implies that

      | ln(λξt )| ≥ A((1 − wt )Dt )Dt (1 − 2wt ) ≥ γ(Dt )(1 − 2wt )                        (A2)

and therefore, using condition (25), limt→∞ wt = 1/2. Thus, agent B survives. This proves
Proposition 5.3.

   Continuing, condition (6) and limt→∞ ξt = 0 a.s. imply that there exists a T so that for
t > T , we have wt ≤ 12 a.s. We will consider in this proof such times t > T .

   Finally, recall that A(x) is decreasing and γ(x) is increasing in x.

   Next, to show that there is price impact, we verify that the diﬀerence
                        Dt+s (1−wt+s )                       Dt (1−wt )
      P I(t, s) ≡                         A(x) dx −                         A(x) dx
                         1                                     1
                           D
                         2 t+s
                                                                 D
                                                               2 t



does not converge to zero almost surely. This corresponds to κ = 1 in the deﬁnition of price
impact.

   First, the upper bound: DARA and condition (7) imply that
          D(1−w)                        D(1−w)
                              1                             1
                    A(x) dx ≤                      A(x) dx = | ln(λξ)|
          1
          2
            D                 2      Dw                     2


   Second, the lower bound. A preliminary from (A2):
                                                                 
                                                       D       1
      | ln(λξ)| ≥ γ (D) (1 − 2w) ≥ γ                        2    −w
                                                       2       2




                                                                 36
implies
                          2  
                    1          D    1 |ln (λξ)|2
     0≤               −w     γ    ≤              → 0 a.s.                                 (A3)
                    2          2    4 γ D2

Next, a Taylor expansion shows that
          D(1−w)                         D(1−w)   D(1−w)  
                                             1                  D 1
                     A(x) dx =          γ(x) dx ≥           γ         dx                  (A4)
          1
            D                    1
                                   D         x      1
                                                      D         2   x
          2
                                   
                                 2
                                                 2 
                                    D            1
                             ≥ γ       ln 1 + 2    −w
                                     2           2
                                                                         2 
                                    D       1                 2           1
                             ≥ γ         2     −w −                   2     −w
                                     2      2          1 + 2 1 − w2
                                                                          2

                 
where w  ∈ w, 12 . However, (A3) implies that the last term in the third line of (A4)
approaches zero almost surely as t approaches ∞, and so
          D(1−w)                                     
                                           D        1
                     A(x) dx ≥ 2γ                     − w + o(t)                          (A5)
          1
          2
            D                              2        2

Next, another Taylor expansion shows that

                        D(1−w)                D    D
                                D    1             2 γ
                                                         2
| ln (λξ) | =       A(x) dx ≤ A        −w D+               dx                             (A6)
                                2    2                  x
               Dw
                                          Dw
                                                     
                  D   1          D             1
            ≤ 2γ        −w −γ       ln 1 − 2     −w
                  2   2           2            2
                                                                                    2 
                  D   1          D        1                  2                         1
            ≤ 2γ        −w −γ         −2    −w −                               2         −w
                  2   2           2       2           1 − 2 12 − w                    2

                 
where w  ∈ w, 12 . However, (A3) implies that the last term in the third line of (A6)
approaches zero almost surely as t approaches ∞, and so
                                            
                                 D        1
     | ln (λξ) | ≤ 4γ                       − w + o(t)                                    (A7)
                                 2        2

We combine (A5) and (A7) to obtain our lower bound
          D(1−w)
                              1
                     A(x) dx ≥ | ln(λξ)| + o(t)
          1
          2
            D                 2


                                                          37
   We can now impose bounds on price impact:
                 1
     P I(t, s) ≥   (ln(λξt+s ) − ln(λξt )) + o(t)                                     (A8a)
                 2
                 1
     P I(t, s) ≤   (ln(λξt+s ) − ln(λξt )) + o(t)                                     (A8b)
                 2
We therefore conclude that there is an asymptotic diﬀerence in state-price densities between
the original economy and the benchmark economy with κ = 1 if and only if the increments
of ln(λξt ) do not vanish. Moreover, asymptotically, the state-price density does not depend
on λ (or κ). This also shows that it is impossible to ﬁnd a value of κ that would eliminate
the diﬀerences between the state-price density in our economy and the benchmark. This
proves Proposition 5.5.

   Proposition 5.4 follows by setting ξt ≡ 1.




                                                38
References
Abel, Andrew B., 1990, Asset prices under habit formation and catching up with the Joneses,
  American Economic Review 80, 38–42.

Blume, Lawrence, and David Easley, 1992, Evolution and market behavior, Journal of Eco-
  nomic Theory 58, 9–40.

Blume, Lawrence, and David Easley, 2006, If you’re so smart, why aren’t you rich? Belief
  selection in complete and incomplete markets, Econometrica 74, 929–966.

Campbell, John Y., and John H. Cochrane, 1999, By force of habit: a consumption based
  explanation of aggragate stock market behavior, Journal of Political Economy 107, 205–
  251.

De Long, J. Bradford, Andrei Shleifer, Lawrence H. Summers, and Robert J. Waldman,
  1991, The survival of noise traders in ﬁnancial markets, Journal of Business 64, 1–19.

Dumas, Bernard, Alexander Kurshev, and Raman Uppal, 2008, Equilibrium portfolio strate-
  gies in the presence of sentiment risk and excess volatility, Journal of Finance forthcoming.

Fedyk, Yuriy, and Johan Walden, 2007, High-speed natural selection in ﬁnancial markets
  with large state spaces, Working Paper, SSRN.

Friedman, Milton, 1953, The case for ﬂexible exchange rates, in Essays in Positive Economics
  (University of Chicago Press, Chicago ).

Kogan, Leonid, Stephen A. Ross, Jiang Wang, and Mark M. Westerﬁeld, 2006, The price
  impact and survival of irrational traders, Journal of Finance 61, 195–229.

Sandroni, Alvaro, 2000, Do markets favor agents able to make accurate predictions?, Econo-
  metrica 68, 1303–134.

Shiryaev, Albert, 1996, Probability vol. 95 of Graduate Texts in Mathematics. (Springer-
  Verlag New York) second edn.

Xiong, Wei, and Hongjun Yan, 2008, Heterogeneous expectations and bond markets, Work-
  ing Paper, NBER.

Yan, Hongjun, 2008, Natural selection in ﬁnancial markets: does it work?, Management
  Science 54, 1935–1950.



                                              39
