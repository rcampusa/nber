                                 NBER WORKING PAPER SERIES




                      SOCIAL LEARNING AND SELECTIVE ATTENTION

                                             Andrew Caplin
                                               John Leahy
                                              Filip Matějka

                                         Working Paper 21001
                                 http://www.nber.org/papers/w21001


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                      March 2015




We thank Sourav Bhattacharya, Nobuhiro Kiyotaki, Juan Pablo Nicolini, Alessandro Pavan, Avner
Shaked, Chris Tonetti, Xavier Vives, and Krešo Žigič for helpful discussions. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2015 by Andrew Caplin, John Leahy, and Filip Matějka. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.
Social Learning and Selective Attention
Andrew Caplin, John Leahy, and Filip Matějka
NBER Working Paper No. 21001
March 2015
JEL No. D83

                                            ABSTRACT

Popularity is self reinforcing. The attention garnered by popular options propels further interest in
them. Yet rather than blindly follow the crowd, most pay attention to how well these items match their
tastes. We model this role of social learning in guiding selective attention and market dynamics. We
confirm that attention focuses on options that quickly achieve popularity. Information externalities
render the chosen set smaller than socially optimal. This rationalizes antitrust policies that encourage
early experimentation. When attention costs are based on Shannon entropy, optimal policies are
computable. With rich data, optimal choices can be identified for all consumer types.


Andrew Caplin                                      Filip Matějka
Department of Economics                            CERGE-EI
New York University                                Filip.Matejka@cerge-ei.cz
19 W. 4th Street, 6th Floor
New York, NY 10012
and NBER
andrew.caplin@nyu.edu

John Leahy
Department of Economics
New York University
19 W. 4th Street, 6th Floor
New York, NY 10012
and NBER
john.leahy@nyu.edu
1    Introduction
Popularity is to some extent self-reinforcing. The attention garnered by books, …lms, and
restaurants that quickly achieve popularity raises further interest in them. Many readers
pay particular attention to books that are New York Times Best Sellers, high grossing
movies attract additional viewers (as in Moretti (2010)), and musicians regard rising to the
top in the music charts as important in terms of attracting further fan interest. Indeed the
value of such social signals may be higher than ever in the era of “choice overload” that
the Internet heralds (Iyengar and Lepper (2000)).
    Social learning theory considers the e¤ect that early adaptors have on subsequent market
participants (Banerjee (1992), Bikhchandani, Hirshleifer, and Welch (1992), Caplin and
Leahy (1994, 1998), and Chamley and Gale (1994)). In these models popularity typically
acts as one of several signals available to agents. The examples above, however, suggest
that social learning not only provides direct information, but also determines the form
and selectivity of subsequent private learning. Rather than blindly following the crowd,
many agents work to sort out how well popular options match their tastes. Market shares
guide their private choice of where to direct their attention, as these agents rationally
choose to learn more about popular options than unpopular ones. This attentional channel
is absent in current models of social learning, which either rule out additional private
learning following observation of market share, or restrict such learning to be independent
of market shares. These models are therefore silent on how social learning shapes private
learning.
    We develop a simple, dynamic model of market share that highlights interactions be-
tween social learning and private attentional choice. The key role of social learning in our
model is to guide buyers not only on how much total attention to allocate to each decision,
but also on precisely how to divide this attention up in an optimal manner. We show that
allowing the agents the opportunity to gather information selectively after observing mar-
ket behavior has a fundamental e¤ect on individual learning and on the resulting market
dynamics.
    In technical terms, the key innovation in our model is introduction of a ‡exible learning
technology. Given that our focus is on how social learning shapes subsequent private
learning, we do not restrict the structure of the chosen private signals. Instead we specify
a cost to information acquisition in which more attentive strategies are more costly as in
rational inattention theory (Sims (2003)). Note that private costs of learning are essential
to the social learning literature. If private learning was in fact costless, there would be no

                                              2
need for social learning.
    As in Conlisk and Smallwood (1979), Becker (1981), and Caminal and Vives (1996), we
consider a market in which new buyers observe all past market shares. However, unlike these
earlier models, agents in our model have an unrestricted choice of additional information.
Since such private learning is costly, its intensity and form depends on past market shares.
Informational e¤ort is allocated across alternatives optimally, and agents optimally balance
the costs and bene…ts of additional private learning. While past popularity shapes private
learning, individual di¤erences are also evident in market behavior.
    Our …rst result establishes convergence of market shares to a stable steady-state distri-
bution. In this steady state, we show that attention is commonly restricted to only a small
subset of available options, as in Matµejka and Sims (2011). Products that do not receive
signi…cant market share in early periods may be ignored by future buyers, as their low mar-
ket share encourages agents to direct their attention elsewhere. Such products might then
easily be missed even by consumers who would very much prefer them to the best sellers.
Costs of private learning also increase market concentration even among goods that are
chosen. Long run market shares may greatly exaggerate the demand for the most popular
options as individual choice con‡ates private and social preferences. This has implications
for the distribution of bene…ts across types: learning from market share helps those who
prefer popular items over less common types.
    When costs of private information are based on Shannon entropy, we establish an “as if”
result on long-run market shares. In the long run, market shares are those that would arise
if agents were perfectly informed about the distribution of tastes, but were restricted to
choose from the set of options with positive long-run market share. In fact, conditional on
options with positive market share, social learning is optimal in the long run. This implies
that the only long run failure of social optimality arises when potentially popular options
remain unchosen. Note that such failures are hard to spot in practice, since unchosen
options are absent from the market place.
    The possibility that potentially popular items may never be chosen provides a new
rationale for antitrust policies that reduce initial market share disparities. Unlike many
existing policies, which are typically based on considerations of lower prices, these policies
aim at limiting initial market share of popular options to increase the quality of selected
products. We show that information revelation and long run market e¢ ciency may be
improved by an appropriate handicapping scheme. This scheme involves more ex ante
popular items being initially taxed and ex ante unpopular items being subsidized in a


                                              3
manner that moves prior popularities toward equality.
    On the empirical front, our model introduces a non-standard information asymmetry.
An outside observer with access to suitably rich data on market shares may be better able to
understand preferences than are decision makers themselves. Availability of such enriched
data is the rule rather than the exception in the era of big data. When learning costs
are based on the reduction in Shannon entropy, a simple test reveals optimal choices by
type. This suggests possible ways to generalize current methods of recovering information
on preferences from data on market shares (McFadden (1974), Berry, Levinsohn and Pakes
(1995)).
    We discuss related literature in the next section. The model is introduced and the
general convergence result established in Section 3. In Section 4 we consider the case
in which costs of information acquisition depend on Shannon’s mutual information and
establish our “as if” result. A series of examples in Section 5 illustrate both the basic
workings of the model, including the property that only a small number of options are
typically chosen. We consider issues of welfare in section 6. Issues of inference are addressed
in section 7. Section 8 concludes.


2    Related Literature
This paper contributes to the branch of the social learning literature that studies how agents
learn from the actions of others. The …rst generation of such models (Banerjee (1992),
Bikhchandani, Hirshleifer, and Welch (1992), Caplin and Leahy (1994, 1998), Chamley
and Gale (1994)) focused on the externalities associated with learning from others: the
incentive to wait for others to act and the possibility that the market fails to converge to
the …rst best due to the suppression of private information.
    While social learning theory has since progressed in many important directions, it re-
mains largely focused on cases with few choice options, limited private information ac-
quisition strategies, and limited consumer heterogeneity. The vast majority of papers fall
into one of two modelling traditions. One such tradition involves binary choice, two pay-
o¤ relevant states, and agents who receive idiosyncratic Bernoulli signals of the true state
prior to observing choices of others. The other involves a continuum of actions choices, a
continuous state space, a quadratic loss function, and normal signals from a pre-speci…ed
distribution. These cases are studied more for their analytic tractability than for their
economic realism. These are the two classic settings in which agents’beliefs maintain the


                                              4
same functional form from period to period, a property that greatly simpli…es the recursive
solution of these models (Chamley, 2004).
    Our model departs in two key respects from the prior social learning literature. First,
we stress individual di¤erences: consumers want to choose goods that match their own
preferences about which the choices of others are only imperfectly informative. In the
applied literature on social learning, the practical importance of individual di¤erences is
evident in such disparate areas as technology adoption (Munshi (2003)), audience dynamics
(Moretti (2010)), and market share dynamics (Sorenson (2006)). Second, we apply rational
inattention theory to stress the rich learning opportunities that may be open after receiving
social information.
    Our use of the rational inattention framework for private gathering of information con-
nects us with the pioneering work of Sims (1998), and subsequent work by Sims (2003), Luo
(2008), Woodford (2009), Mackowiak, Wiederholt (2009), Van Nieuwerburgh and Veldkamp
(2010), Mondria (2010), Matµejka (2010), Matµejka and McKay (2015), Caplin, Dean and
Leahy (2015). The departure from this literature is introduction of social learning. In our
model successive generations of agents make choices from a …xed set of available options.
Each generation costlessly observes the choices of past agents and these observations shape
their prior. Given this prior, agents then gather additional information that tailors their
choice to their own tastes.
    We follow rational inattention theory and model the cost of private information acqui-
sition as proportionate to Shannon’s mutual information. This results in a surprisingly
tractable model. This simplicity allows us to consider cases beyond the two-act-two-state-
two-signal case and the continuous-act-continuous-state-normal-signal case, and to consider
general action sets and general forms of heterogeneity in the individual payo¤s to actions.
That our model is tractable despite its richness derives from the unlimited ‡exibility of in-
formation acquisition that rational inattention theory embodies. We show that rationally
inattentive agents choose to receive signals of a particular form. The desired form of signals
“twists”the unconditional probability of choosing an option in the direction of options with
higher payo¤s to the agent. With the Shannon cost function, this twist has a logit form
that connects with the empirical discrete choice literature. Since the twist depends only
on beliefs about chosen alternatives and not on the realized states, one only needs to solve
for the unconditional probability of choosing an option to solve for the state dependent
probabilities. In a market with N options chosen, only (N 1) degrees of freedom are
needed to fully specify the choice behavior regardless of the number of states of the world.


                                              5
Moreover, at the steady state the (N 1) degrees of freedom coincide with the market
share, and thus provide useful conditions for the choice behavior at the steady state.
    Our approach draws from a small yet important prior literature on the feedback e¤ects of
market share on choice. Smallwood and Conlisk (1979) study the dynamics of a market with
non-rational consumers who use adaptive strategies in which the probability of purchasing
a good depends on its market share. The idea is that consumers tend to imitate other
consumers. Becker (1991) assumes that individual demand for a product depends on market
demand. He justi…es this reduced form as representing either learning or a preference for
conformity. Caminal and Vives (1996) is the closest in spirit to our paper. They construct
a model in which homogeneous consumers choose among products of heterogeneous quality.
Consumers receive private signals on quality and observe market shares. They show that
as time passes, market shares reveal true qualities.
    There is another branch of the social learning literature in which market share plays an
indirect role. In this literature, agents meet other agents randomly and exchange informa-
tion. Market share a¤ects the types of agent that any individual is likely to meet. Ellison
and Fudenberg (1995) ask whether word-of-mouth communication aggregates information
in an environment in an environment with exogenously speci…ed rules of behavior. Burn-
side, Eichenbaum, and Rebelo (2013) study asset bubbles in a model in which “optimistic”
agents may “infect”other agents through bilateral meetings.
    As indicated in the introduction, our model has implications for inference. Interestingly,
the political science literature has begun to grapple with the problem of inferring prefer-
ences when there is incomplete information processing. Bartles (1996) and Delli Carpini
and Keeter (1996) show that more informed voters vote di¤erently than ill-informed vot-
ers after controlling for observable characteristics such as age, race, education and party
a¢ liation. They attempt to uncover the “true”distribution of preferences over candidates
by projecting the votes of better informed voters on less informed voters. In our model,
this approach is conceptually correct so long as the more informed voters are in fact fully
informed. In all other cases even the choices of the informed voters are biased towards the
most popular choice.


3    Model
We consider a dynamic market in which successive generations of agents make choices from
a …xed set of available options. Agents di¤er in their type, and types di¤er in the payo¤s


                                              6
that they receive from available options. If agents knew their type, they would simply
choose the option best suited to their type. The problem is that agents do not know their
type.1
    In addition to common prior beliefs, agents who enter the market in any period have
access to two sources of information. First, they observe the distribution of past choices.
These choices provide information about the distribution of types in the economy. This
forms their prior. Second, agents privately gather further information on their type. Private
information acquisition is costly.2 The limits on private learning imply that mistakes are
made, so that an individual sometimes ends up with a choice that they would like less than
available alternatives.


3.1     Model structure
Time is discrete and indexed by t 2 f0; 1; : : : g. There is a …xed …nite set A = f1; : : : ; N g
of options in a particular market. Each period a continuum of agents enters the market.
Upon entry each observes the fraction of agents that made each choice in each prior period,
undertakes optimal private learning, and then makes a once-o¤ choice from the set A, at
which point they exit the market never to return.
    To capture heterogeneity, we assume that agents are of a …nite number of distinct
preference types ! 2 , and there is an underlying utility function,

                                           u:A          ! R;

which speci…es the payo¤ of each option to each type. Let ( ) denote the set of densities
over types and let g 2 ( ) denote the true density of preference types in the population.
g (!) is then the share of type ! agents. g is …xed and does not change over time. We
normalize the total population of agents to 1, so that g is a probability density. We place
no restriction on the form of the utility function and how it varies across goods and types.
    Buyers new to the market do not know their type which means that they do not know the
utilities from selecting di¤erent options. The only information freely available to agents
in period t = 0 is their common prior G, which comprises a probability measure over
    1
      It would be equivalent to assume that agents know their type but do not know the match between
their type and the available options and do not know how many people are like them.
    2
      There needs to be some impediment to private learning for social learning to in‡uence behavior as
it appears so often to do in practice. If private learning were costless there would be no need for social
learning.



                                                    7
distributions in ( ). So that marginal distributions of G are well de…ned, we will assume
that G has a continuous density on this simplex. It will be useful in what follows to de…ne
 0    supp(G)      ( ) as the set of possible distributions. We require that g 2int( 0 ).3
Given G and 0 , we can calculate time zero agents’prior beliefs over preference types as
the expected distribution of types,
                                                   Z
                                       0 (!)   =       g(!)dG:

    In addition to relying on the prior, each agent can obtain additional information about
!, and thus about the utilities of available options, by exploring the o¤ered options in more
detail. This might involve personal examination of a product such as test driving a car or a
visit to a store; it might involve a detailed reading of the product reviews in Amazon.com
or in yelp.com; or it might involve discussions with friends, colleagues, or other people that
the agent regards as similar to him or herself.
    We do not place structure on the process of private learning. Rather we allow agents to
choose an arbitrary information structure subject to a cost of choosing more informative
structures. This means that agents can process information in any way they like. They
may choose to learn more about the utility they derive from several of the available options,
or work to compare particular pairs of products, etc. The only structural assumption we
make is that more Blackwell informative information structures are more costly.
    This model can be formulated in a compact way, since the distribution of option choices
conditional on type,
                               P (i; !j ) = Prfi 2 Aj! 2 ; g;                              (1)

describes both the information acquisition and the selection of options. To understand
this formulation, note that an information strategy is described by a joint distribution of
types and signals, which de…nes how likely are agents of each type to receive each signal (see
La¤ont (1989)). In terms of its impact on action choice, one can characterize each signal by
the corresponding posterior belief that it induces. Upon acquiring each particular signal and
identifying the corresponding posterior belief, the agent chooses among available options to
maximize expected utility. Therefore, signals can be associated with corresponding optimal
choices. Since more Blackwell informative information structures are more costly, no option
will be chosen from two distinct signals. Hence a strategy of information acquisition is
  3
   supp(G) is the set of g 2 ( ) such that every open neighborhood of g has positive measure. With
g 2int( 0 ), the continuity of G ensures that the density of G is strictly positive at g .



                                                   8
equivalent to a type-dependent stochastic choice function P (i; !j ). Each such function
speci…es the probability of observing information that prompts the choice of action i when
the agent’s true type is ! and the prior is . We assume that this private learning is
idiosyncratic so that the realized choices i are independent across agents of the same type
!.
    Note that the choice probabilities in (1) depend on the agents’true types. This does
not imply that agents know their types. In fact, conditional on choosing option i, Bayes’
rule implies that the agents’posterior beliefs regarding their own types are,

                                           P (i; !j ) (!)
                                (!ji; ) = P                 ;
                                           j P (j; !j ) (!)


where (!ji; ) is the probability that the agent is type ! conditional on choice of option i
given the prior . What information acquisition does is to improve agents’understanding
of their true types and thereby shift behavior in the direction of choices that on average
are better for them.


3.2    Recursive Learning From Market Share
Agents who enter the market in periods t > 0 can learn about their type in part by
observing past market shares. Since choice probabilities depend on agents’types, realized
market shares may provide information about the distribution of types in the economy. As
we shall see, this form of learning from market share involves winnowing down the set 0
by eliminating distributions that are inconsistent with any observed market shares.
    We now describe this process for an arbitrary period t. Let t      0 denote all densities

in the support of 0 that are consistent with all market shares observed in periods prior
to t. Given t , we can calculate agents’prior beliefs over preference types as the expected
distribution of types conditional t ,
                                                  Z
                                           1
                                   (!) =                   g(!)dG:
                                 t       G( t )   g2   t



The prior t determines the type dependent choice probabilities P (i; !j t ). These choice
probabilities, along with the true density of types g , generate the realized market shares




                                             9
M (ij   t
            ; g ). We assume that learning is conditionally independent across agents, so that:
                                                         X
                                 M (ij        t
                                                ;g ) =        g (!)P (i; !j      t
                                                                                     ):                                     (2)
                                                         !2


    Agents born in period t + 1 observe period t aggregate market shares and eliminate
distributions that are inconsistent with observed market shares.4 t+1 includes all densities
in t that generate M (ij t ; g ),
                                 (                                                                   )
                                              X
                       t+1   =   g2       t        g(!)P (i; !j     t
                                                                        ) = M (ij         t
                                                                                              ;g )       :
                                              !2


Note that if g 2 t then g 2 t+1 as it trivially satis…es this condition. Given                                     t+1   period
t + 1 proceeds in a manner similar to period t completing the recursion.


3.3     Orthogonality and Convergence
Given t , t+1 has a simple structure. According to (2), all g 2 t+1 were elements of t
and generated the same market shares in period t as g . It follows that g 2 t+1 if g 2 t
and for all i 2 A
                          X
                              [g(!) g (!)] P (i; !j t ) = 0:                          (3)
                                     !2

This orthogonality condition enables us to characterize updating precisely as a function of
the chosen probabilities P (i; !j t ).
    A key question concerns whether or not market shares settle down. A set            ( ) is
a steady state of the model if t = implies that t+1 = . A steady state set of possible
beliefs, ; generates a steady state measure over possible distributions of beliefs G, which is
the distribution G conditioned on , as well a steady state prior , which is the expectation
of g 2 G conditional on . This, in turn, pins down the steady state choices P (i; !j ) and
market shares M (ij ; g ). The following proposition establishes the existence of a steady
state and that the market converges to steady state in a …nite number of periods. The
proofs of all propositions are contained in the appendix.

Proposition 1 There exists a set                      ( ) such that         t   ! . Moreover                 j j   = .
   4
    One feature that di¤erentiates our approach from other models of learning from market share such as
Smallwood and Conlisk (1979) is that our agents do not naively treat market share as the prior over acts
but use market share to construct the prior over types.


                                                          10
    The idea behind the proof in the appendix is that since        is …nite each g 2 ( )
can be represented as a point in the j      1j dimensional simplex in Rj j . For each choice
i 2 A that is chosen in period t, there is an orthogonality condition (3) with non-zero
P (i; !j t ). Each such orthogonality condition de…nes a j       1j dimensional hyperplane
Xti in Rj j . Given that A is …nite there are at most jAj such hyperplanes. t+1 is equal to
the intersection of t and these hyperplanes,

                                   t+1   =   t   \ (\i2At Xti );

where At A is the set of options that are chosen with positive probability by some type.
Each additional orthogonality condition either reduces the dimension of t+1 relative to t
or does not. If none of the period t conditions reduce the dimension of t , then a steady
state has been reached and the model has converged. The …nite dimension of guarantees
that the model converges in a …nite number of periods. In fact, if we have as many chosen
options as types and given the prior, the vectors P (i; !j 0 ) are independent, convergence
will be immediate. If the dimension of t falls to zero, then t = g . Otherwise learning is
incomplete. In general complete learning cannot be guaranteed as we show in Section 5.
    What drives convergence is a disconnect between the expected probability of choosing
an option and the observed market shares. To see this note that, in steady state, all
distributions g 2 must give rise to the observed market shares. Otherwise it would be
possible to eliminate some of them and further reduce . It follows that the observed
market share of each good i is equal to the expected probability of choosing good i given
the steady state prior (recall that we have normalized the total population to one). In
particular,
                                      "           Z                          #
                  X                     1                X
        P (ij )        (!)P (i; !j ) =                        g(!)P (i; !j )dG = M (ij ):
                  !2
                                       G( )           g2 !2


where the second equality follows from the de…nition of and Fubini’s theorem, and the last
                                                                X
equality follows from the steady state orthogonality condition,   g(!)P (i; !j ) = M (ij )
                                                                      !2
for all g 2 .

Proposition 2 The steady state market shares M (ij ) are equal to the expected choice
    probabilities,
                                   M (ij ) = P (ij ):                             (4)


                                                 11
    In order to say more about the behavioral and welfare properties of the model we need
to place some structure on type-dependent stochastic choice. In the next section we relate
the cost of information acquisition to the mutual information between act choice and the
agent’s type as in Sims (1998, 2003).


4       Rational Inattention and State Dependent Stochas-
        tic Demand
We follow Matµejka and McKay (2014) and Caplin, Dean and Leahy (2015) in deriving the
optimal type-dependent stochastic choice map P (i; !j ) when the cost of private learning
is proportionate to the mutual information between the choice i and the type !, as in Sims
(2003). Mutual information is a measure of the amount of information ‡ow; it equals the
reduction of agent’s uncertainty about the type !:5
                                                                  !
                        X           X                                      X
            I(i; !) =         (!)          P (i; !j ) ln P (i; !j )              P (ij ) ln P (ij )    (5)
                        !2           i2A                                   i2A

                   X
where P (ij )             (!)P (ij!; ) is the average probability of choosing i conditional on
                   !2
the prior . If the agent does not learn about type !, then the cost is zero; according
to (5), it costs nothing to choose an information structure that yields a strategy P (i; !j )
that is independent of the type !. Learning more about the type is more costly. Given
the concavity of ln P (i; !j ), it is increasingly costly to make P (i; !j ) type-contingent.
This speci…c entropy-based cost of information allows for tractability. Moreover, it can
be derived from not unreasonable axioms (Csiszár (2008)) and can be microfounded using
fairly general assumptions on the technology of information acquisition (Cover and Thomas,
2006).
    The agent maximizes:
    5
    Entropy, Efln Xg, is a measure of the information content of a single random variable, Mutual infor-
mation I(Y ; X) measures the reduction in uncertainty about X from the observation of Y . To see this note
Bayes rule implies that (!; i) = P (!; ij ) (!)=P (ij ) is the posterior probability of state ! conditional
on signal i. Substituting, (5) becomes:
                                   X         X                     X
                        I(P ; ) =    P (ij )     (!; i) ln (!; i)        (!) ln (!)
                                 i2A          !2                      !2

The …rst term is the expected entropy of the posteriors, whereas the second term is the entropy of the
prior. Hence I measures the expected reduction in entropy of beliefs over !.


                                                     12
                                                                                !
                                       X                X
     V (A; ) =           max                      (!)         P (i; !j )u(i; !)                                  (6)
                   fP (!;i)gi2A;!2
                                       !2               i2A
                         "                                                  !                              #
                             X               X                                      X
                                   (!)             P (i; !j ) ln P (i; !j )               P (ij ) ln P (ij ) :
                             !2              i2A                                    i2A


The …rst term on the right-hand side is the expected utility of the strategy fP (i; !j )gi2A;!2 .
The second term is the cost of information acquisition which we take as proportionate to
the mutual information I(i; !). > 0 is the marginal cost of information.
   Matµejka and McKay (2014) and Caplin, Dean and Leahy (2015) show that the resulting
pattern of state dependent stochastic choice is of the form,

                                                     P (ij ) exp(u(i; !)= )
                              P (i; !j ) = P                                   ;                                 (7)
                                                    j2A P (jj ) exp(u(!; j)= )


where,                             (                                       )
                    X                        exp(u(i; !)= )
                             (!)       P                                          1        8i;                   (8)
                    !2                   j2A P (jj ) exp(u(!; j)= )

with equality if P (ij ) > 0. Note that once one recovers the fP (jj )gj2A from (8), the
P (i; !j ) follow directly from (7). All type dependent choices P (i; !j ) are determined by
the average choice probabilities P (ij ), the payo¤s u(i; !) and the cost of information .
    The above solution indicates precisely how optimal policy “twists” the average choice
probabilities P (ij ) in the direction of those choices that yield higher utility to type !
agents. The twisting takes a logit form which depends only on parameters of the utility
function. The higher is u(i; !) relative to u(j; !) the more likely is option i chosen in state
! conditional on P (ij ). This e¤ect is stronger when is lower and learning is easier.
    Using (7), we can rearrange (6) to express the expected utility in terms of fP (ij )g
only:                                                                        !
                                     X             X
                V (A; ) = max             (!) log      P (ij ) exp(u(i; !)= ) :
                              fP (ij )gi2A
                                             !2                 i2A

Given the concavity of the problem, an optimum exists. The solution is unique if the
                          j j
vectors exp(u(i; !)= ) 2 R++ for i 2 A are a¢ nely independent. We assume that this is
the case.

Axiom 1.

                                                         13
                                      j j
 The vectors exp(u(i; !)= ) 2 R++ for i 2 A are a¢ nely independent:
                               X
                                      (i) exp(u(i; !)= ) = 0 =) (i)             0:
                                i2A


   The solution to (6) can be calcuated by applying a simple Blahut-Arimoto algorithm
which involves guessing a function P 0 (ij ), using (7) to obtain P 0 (i; !j ), deriving P 1 (ij ) =
P
  !2    (!)P 0 (i; !j ), and iterating (Cover and Thomas (2006)).



4.1    An “As If” Result
Given the form of type-dependent stochastic choice in (7) we can show that in steady
state agents behave as if they know the true distribution of types g and are choosing
from the steady state set of options. This is the case even though they might be quite
uncertain which distribution of types is in fact generating the observed market shares. Let
A A denote the set of options with positive market shares in steady state. Recall that
Proposition 2 states that steady state choice probabilities are equal to market shares. Using
the de…nition of market share (2) and the optimal policies (7), we have:
                                                                 (                                 )
                         X                          X                  P (ij ) exp(u(i; !)= )
   P (ij ) = M (ij ) =         g (!)P (i; !j ) =         g (!)       P                                 :
                         !2                         !2                j2A P (jj ) exp(u(!; j)= )


Dividing both sides by P (ij ) yields,
                                      (                                   )
                        X                      exp(u(i; !)= )
                              g (!)       P                                   = 1:                         (9)
                        !2                 j2A P (jj ) exp(u(!; j)= )


Equation (9), however, is simply a restatement of the necessary and su¢ cient conditions
(8) for an optimal policy over the choice set A given the prior g . It follows that an agent
with a prior equal g and an option set equal to A, would also choose P (ij ). Agents
therefore act as if they know the true distribution of types.

Corollary 1 In the steady state, P (ij ) satisfy the necessary and su¢ cient conditions for
    optimal choice if the prior were g and the choice set were A.

   The “as if” result helps us out in two ways. First, the fact that agents act as if they
know the true distribution of types in steady state greatly simpli…es the analysis of the

                                                    14
model and limits the range of steady state behavior. If one knows the steady state choice
set A, one can always assume that agents know the true distribution of types. We will use
this in the next section. Second, the result implies that market ine¢ ciency takes a very
limited form. Individual choice is optimal given the observed set of choices A, while the
set of choices itself may not be optimal. We will discuss welfare in Section 6.


5     Solving the Model
5.1    The Two-by-Two Case
While much of our interest is in selective attention in large choice sets, we …rst solve fully
the simplest case with two types, and ; and two choices, a and b. As in the theory
of international trade, the two-by-two case reduces the substitution possibilities among
options, allowing for a clear illustration of the underlying forces at work. Suppose that
type prefers option a while type prefers option b,

                           u(a; ) > u(b; ) = 0 = u(b; ) > u(a; )

Since according to (7) choices depend only on u(i; !) u(!; j), normalizing the value of
option b to zero for both types is without loss of generality.
   Solving (8) assuming that both options are chosen yields the following probability of
choosing option a given the prior :

                                          ( )               1    ( )
                     P~ (aj ) =                                                               (10)
                                  1   exp(u(a; )= )     exp(u(a; )= )      1

If P~ (aj ) 2 [0; 1] then this equation gives the true choice probabilities and P (aj ) = P~ (aj ).
The type-dependent choice probabilities then follow directly form (7). If instead P~ (aj ) >
1, then only option a is chosen and P (aj ) = 1, while if P~ (aj ) < 0, only option b is chosen
and P (aj ) = 0. Hence prior beliefs determine whether or not both options are chosen.
     In the two-by-two case, the market converges to steady state in either period zero or
period 1. If prior beliefs are such that only one option is chosen in period zero, agents learn
nothing about the population from market share and no learning takes place. The period
0 choices repeat themselves in subsequent periods. If both options are chosen in period 0,
(7) implies that type are more likely to choose option a. Since these probabilities are
known, period zero market share perfectly reveals the share of type agents. In this case,

                                                15
the steady state is reached in period 1.
    The two-by-two case has well-behaved comparative statics. It is immediate from (10)
and (7) that an increase in either u(a; ) or u(a; ) will increase the probability that each
type will choose option a. In each case, the increase in the payo¤ to act a to type ! increases
the probability that type ! chooses a, which then increases the average probability that a
is chosen and thereby increases the probability that the other type chooses a as well. In
a similar fashion an increase in ( ) will cause the probability of choice a to rise. Finally,
as learning costs rise, the in‡uence of the ex ante optimal choice grows. When learning
is costless, each agent chooses the option that is best for them and the market share of
each choice is then equal to the proportion of agents who prefer that choice. As learning
costs rise, agents tend to rely more and more on their prior. Eventually, rises so high
that P (aj ) hits either zero or one and only the ex ante optimal option is taken. Since
M (aj ; g ) = P (aj ) in steady state, these comparative statics apply to the steady state
market share as well.


5.2    How Many Goods are Chosen?
In the general case, we have seen that market performance depends on how many options
are chosen. A simple example illustrates a phenomenon noted by Matµejka and Sims (2011)
whereby it is optimal to entirely ignore options that are ex ante unlikely to be best. We
remove all heterogeneity beyond the distribution of types and we consider the steady state
of a class of symmetric models with = A = f1; ::; N g. Each agent would like to choose
the option matched to their type i = !. The payo¤s are:
                                             (
                                                 x(1 + ) if i = !;
                          exp(u(i; !)= ) =                                                (11)
                                                    x    if i =
                                                              6 !;

with x > 0 and        0. Note that 1 + = exp u(i;i) u(i;j) so that increases in the utility
di¤erential or reductions in learning costs are associated with increases in .
   We consider a market that has settled to steady state and order goods according to
their perceived likelihood in steady state beliefs , with lower indexed types perceived as
more likely
                                       (!)     (! + 1):

We leave unspeci…ed the process of converging to steady state beliefs. In practice this
depends intricately on the nature of initial beliefs, which priors ultimately determine the

                                              16
evolution of market shares.
    The necessary and su¢ cient conditions for the rational inattention model enable us to
fully characterize demand for any prior (see Caplin, Dean, and Leahy (2015) and hence is
steady state. The key is to identify K, the highest index action that is chosen in steady
state. If (N ) > N1+ . then K = N . If (N ) < N1+ , then K < N is the unique integer
such that,                          PK
                                      !=1 (!)
                               K >                  (K + 1):                          (12)
                                      K+
Having identi…ed chosen actions, the associated choice probabilities satisfy,
                                                       PK
                                    (i)(K + )             !=1     (!)
                          P (ij ) =       PK                            >0                (13)
                                                 !=1    (!)

for i K, with P (ij ) = 0 for i > K. Note that x merely scales utility without a¤ecting
behavior as choice depends only on through u(i;i) u(i;j) , a large value of u(i;i) u(i;j) being
associated with a large value of delta.
    One phenomenon that arises in this setting is that conditions for all actions to be chosen
are highly restrictive. If is small or there are many choices, it takes only a small deviation
from uniformity for (N ) < N1+ , resulting in some actions being unchosen. This opens the
door for ine¢ cient learning. For example if N = 2 and (2) < 1+1 , then P (1j ) = 1 and
there is no way for the market to learn how many ! = 2 types there are in the population.
    A second important phenomenon is that information on market share tends to exag-
gerate demand for “popular”choices. Consider (13) and consider the di¤erences in choice
probabilities among options that are chosen. The key observation is that this di¤erence is
strictly proportionate to the di¤erence in prior probabilities. Given options i; j K,
                                                              "              #
                                                                  (K + )
                     P (ij )   P (jj ) = ( (i)         (j))       PK       :              (14)
                                                                   !=1 (!)


Note that the term in square brackets is strictly greater than one (the denominator is
no greater than while the numerator is strictly larger than delta). Choice is skewed
towards the options with higher prior probability of success. In fact, the unconditional
probability of the most likely popular choice P (1j ) is easily seen to be greater than the
prior probability (1), and the probability of the least popular choice P (N j ) is less than
the share of type N agents (N ). The following numerical example illustrates this skewing
of choice probabilities.


                                              17
Example 1 Suppose that              = 1 and that in steady state the …ve most probable states
    satisfy,
                                                              10 9     8   7   6
                      ( (1); (2); (3); (4); (5)) =               ;   ;   ;   ;               :
                                                              100 100 100 100 100
        In this case K = 4,          P4
                                        !=1   (!)       0:34       7   6
                                                    =        2       ;         :
                                        4+               5        100 100
        The existence of any additional options beyond these most likely …ve are therefore
        irrelevant. Equation (13) implies

                                                                                           5    5
            P (1j )    P (2j ) = P (2j )       P (3j ) = P (3j )       P (4j ) = 0:01          = :
                                                                                          0:34  34

        Hence,
                                                                16 11 6 1
                                                                  ; ; ; ):
                           (P (1j ); P (2j ); P (3j ); P (4j )) = (
                                                                34 34 34 34
        This illustrates the great twist in favor of the likely more popular option.



6       Welfare and Policy
6.1      Social Welfare
In our model there are agents of di¤erent types who often choose options that they would
prefer not to take if they had more information. This would normally complicate welfare
calculations (see Bernheim and Rangel (2009)). Our agents, however, solve a well-de…ned
maximization problem (6) that is common across types. The corresponding value function
V (A; ) therefore provides a universal measure of subjective wellbeing. We can therefore
analyze the perceived e¤ect of any policy by studying the response of V (A; ). A look at (6)
shows that there is a sense in which our agents make interpersonal comparisons of utility.
They must imagine the payo¤ of each option to each type in order to learn optimally about
their type.6
    There is another interesting notion of welfare. Since our agents may hold incorrect
    6
     The optimal policies (7) depend only on the di¤erences in utility across options, u(i; !) u(j; !). Agents
therefore must be able to evaluate the utility of each type up to an additive constant. Since this constant
is a …xed e¤ect tied to the type and does not a¤ect choice it can be ignored in most policy experiments.




                                                     18
beliefs, a social planner who knew the true population distribution would want to calculate,
                                                                                       !
                                             X                 X
       V~ (A; ; g ) =         max                    g (!)           P (i; !j )u(i; !)
                         fP (!;i)gi2A;!2
                                             !2                i2A
                             "                                                     !                            #
                                 X                X                                      X
                                         (!)              P (i; !j ) ln P (i; !j )             P (ij ) ln P (ij )
                                 !2               i2A                                    i2A


Note that here we retain in the information cost as we interpret the learning cost as
subjective.7 However, since in steady state choice is made as if the prior were g , steady
state policy maximizes both V and V~ on the observed steady state choice set A. This
together with expression above for the objective implies the following proposition.

Proposition 3 In steady state, given a set of chosen options A, the agent maximizes the
    following expected utility.
                                                                                                       !
                                                     X                  X
                   V (A; g ) =           max               g (!) log          P (ijg ) exp(u(i; !)=        ;        (15)
                                      fP (ij )gi2A
                                                     !2                 i2A


         which also equals social welfare.

       The immediate implication is:

Corollary 2 In steady state, given A, the market shares M (ij ) are such that they max-
    imize (15).

    This statement holds since in steady state M (ij ) = P (ij ), and P (ij ) maximize the
expected utility and thus also welfare. Similarly, since market shares maximize welfare
given the set of chosen options, it follows directly that an expansion of the set of chosen
options weakly cannot reduce long run social welfare.
   7
     The expected probability of choosing option i, P (ij ), may di¤er from the realized frequency with
which the option is actually taken, M (ij ), which raises the question of what the agent is actually choosing
in (6) and what exactly the information cost represents. Our interpretation of the maximization problem
(6) is the following. The individual chooses fP (!; ij )gi2A;!2 to maximize the expected payo¤ net of
costs of entropy reduction. The cost of entropy reduction is subjective. Given prior beliefs, the agent
chooses the strategy of gathering information that for a given expected payo¤ minimizes the expected cost
of information. The realized cost can be di¤erent since it depends on the true type. The expected cost
is proportional to the expected loss of entropy in moving the agent’s prior to the posterior i (!) =
P (!; ij ) (!)=P (ij ) where the latter follows directly from Bayes’rule.




                                                              19
Corollary 3 Let A; B be two sets of chosen options such that A        B. Then

                                      V (A; g )   V (B; g ):


6.2    Handicapping Policies
Given the set of chosen options and the constraints on publicly available information, mar-
ket shares are e¢ cient. Hence the only steady state ine¢ ciency comes from the possibility
that some good options may not be selected at all. We now consider policy settings in
which the social planner may be able to improve the choice set.
    One such setting involves antitrust policies. Typical arguments for such policies are
based on the level of prices. When competition is low, the …rms tend to charge higher
prices. By contrast, our model provides a rationale for policies that address the nature and
quality of chosen options more than their prices. Speci…cally, a policy that limits market
shares of the market leaders provides room for new entrants whose quality would be tested
by heterogeneous buyers. Selection decisions of agents testing these new entrants would
generate positive information externalities for future generations of agents. An appropriate
antitrust policy would incentivize experimentation to expand the set of chosen products,
and thereby increase long run welfare.
    If the true population is known, it is generally the case that welfare increases with the
set of considered choices. Hence for long run purposes an ideal policy would be to induce
full learning in the …rst period from choice on an unrestricted choice set. In certain cases,
just such a policy of improving long run market performance by increasing knowledge and
expanding the initial set of chosen options is available. Direct computation reveals this
to be so in example 1. In this example, the policy maker can make it equally likely in
the …rst period that all options are most preferred by appropriate use of tax and subsidy
schemes. This would result in all options that are preferred by a positive mass of agents
being chosen with strictly positive probability. While possibly raising attention costs for
the …rst generation and diminishing the quality of their choices, this policy would bene…t
all future generations since the actual market shares would then reveal g (!). At this
point all taxes and subsidies could be removed and the market would settle to the social
optimum. Note that this would involve choice only of the most popular goods according
to (!) = g (!), precisely as in our general solution.
    The example above is not general. If there are fewer goods than types, then there will
not be full revelation of the population distribution based on a single prior. How best

                                             20
to induce experimentation in this general case is an open question. It may for example
involve inducing a dynamic and state dependent system handicapping policy that aims
sequentially to uncover remaining aspects of uncertainty. Another issue to be borne in
mind in the full solution is the appropriate rate of discount as between the early group
who are induced to experiment and the later groups who bene…t from their incremental
policy-induced experimentation. To fully address optimal handicapping policies is beyond
the scope of this paper.


6.3    Regulation
Smallwood and Conlisk (1979) suggest the possibility that product market regulation in
the form of minimum standards can reduce welfare. The idea is that in a model in which
agents learn from market share improving minimum quality may raise the market share of
low quality products thereby reducing average quality in the market place in steady state.
They model minimum standards as an increase in the reliability of products and model
learning as a mechanical feedback between market share and product choice.
    In our model the closest analogy to the Smallwood and Conlisk thought experiment
would be an increase in the minimum u(i; !) across products and agents. While such
an increase will tend to increase the market share of good i for all agents, the increase
in any u(i; !) will typically increase the expected utility net of information cost of all
market participants in steady state. Unlike in Smallwood and Conlisk (1979), welfare in
(15) obviously achieves a higher value after such a change to u(i; !) in case all previously
chosen goods are still chosen. Again, full consideration of the role of regulation is beyond
the scope of the paper.


6.4    Heterogeneity and Welfare
The form of type-speci…c stochastic demand in equation (7) implies that agents of a given
type are more likely to choose their preferred choice than are agents in general. Hence
not only are more commonly desired choices proportionately more likely to be chosen, but
more common types are more likely to make these common choices than the average type.
This skewing of choice has obvious welfare implications. Common types tend to do better
than uncommon types. By way of illustration, we can calculate type speci…c demands in
example 1 above. Direct computations shows that type 1 chooses correctly 64% of the
time, type 2 does so 49% of the time, while types three and four choose correctly 30% and


                                            21
6% of the time respectively. The remaining types (66% of the population) never choose the
correct option. They would be better o¤ choosing randomly.


7    Enriched Choice Data and Inference
The rational inattention model introduces a non-standard information asymmetry. An
outside observer with access to suitably rich data on market shares may be better able
to understand preferences than are decision makers themselves. Agents in the model are
learning optimally given their limited resources. They focus their attention on matters
that concern them directly, but their powers are limited. One could imagine that a large
agent, such as the government, Google, Amazon, or a market research …rm such as J. D.
Power and Associates or Consumer Reports, might have greater access to large amounts
of detailed choice data as well as greater incentives process this information. Governments
and research …rms collect a broad range of statistics. Google sees the search behavior of
a large fraction of agents. Amazon directly observes consumer choice. In this era of big
data such an agent might be able to put together detailed market data and might be able
to learn type-dependent market shares M (!; ij ). Because agents tend to choose options
that they prefer, these type-dependent market shares will be very informative about agents’
preferences.
    The following proposition shows how to use type-dependent market shares to recover
preferences. A simple ratio test allows one to infer agents’preferences and reveals optimal
choices by type.

Proposition 4 In the steady state,

                        u(i; !)   u(j; !)           M (!; ij )   M (ij )
                                            = log                          :            (16)
                                                    M (!; jj )   M (jj )

    The proposition follows directly from type-speci…c stochastic choice (7) and the obser-
vation that in steady state the unconditional choice probabilities P (ij ) are equal to the
market shares M (ij ).
    Proposition 6 implies that an outside observer can infer preferences from detailed market
share data. Learning from market share skews choice in the direction of popular choices,
and for this reason popular choices tend to be popular for all types. That being said,
optimal private learning also skews choices in the direction of individual payo¤s. One can


                                               22
infer whether an agent of type ! prefers choice i to good j by comparing the frequency
by which agents of type ! choose these goods to the average frequency of purchase in the
population. Even if an agent of type ! chooses option i very rarely and option j quite
frequently, if they choose i relatively more frequently than does the average agent, one can
infer that they in fact prefer option i to option j.
    Note that since choice depends only on u(i;!) u(!;j) we can normalize the payo¤ to one
choice to zero for all types !. Normalizing u(!; j) to zero:

                          u(i; !)           M (!; ij )           M (ij )
                                    = log                                  :
                                            M (!; jj )           M (jj )

which identi…es utility up to the learning cost (and the utility of option j). Notice that
this inference does not depend on knowledge of the agents’beliefs or of the initial prior G.
Moreover, the observer does not even need to know the true distribution of types in the
population g .
    In most other models, e.g. with optimal deterministic choice, type-speci…c choice would
not be very informative as it would reveal the most preferred option only. Here, on the
other hand, the choice is probabilistic with probabilities re‡ecting the preferences. Type-
dependent choices reveal not only the most preferred option, but the entire ranking of
observed choices.
    It is interesting to note that the term in brackets on the right-hand side of (16), which
emerges from the model, is very similar to Balassa’s (1965) measure of “revealed” com-
parative advantage. Belassa measures comparative advantage as the ratio of the share of
country a’s exports of good i in the total exports of country a to the share of world exports
of good i to total world exports,
                                         Pexportsai
                                           j exports aj
                                         P                   :
                                        P Pn exports ni
                                         n    j exports nj


A country has a comparative advantage in good i if it exports relatively more of good i
than the average country. In our setting an agent prefers option i to option k if the ratio of
individual to market choice for that agent is higher for option i than for option k. In both
cases the presence of the average in the denominator controls for common forces that tend
to raise exports in all countries or increase the probability of an option across all agents.
    The above characterization relates to a long tradition in industrial organization of using
market shares to infer utility parameters. Prominent examples include McFadden (1974)
and Berry, Levinsohn and Pakes (1995). This literature normally takes as its starting

                                               23
point observation of the aggregate market shares M (i). Inference from market share is
not straight forward in our setting, since the market shares con‡ate the demands of many
types of consumer and exaggerate the in‡uence of popular types, thereby biasing inference.
Inference is more straightforward from the type-dependent demands M (!; i). To capture
this in our setting, we associate the choices A with di¤erentiated products and the types
with groups of heterogeneous consumers. We then let the utility of each product depend
on the value of the product and its market price,

                                                         i
                                          u(i; !) =      !    pi :

Note that we assume that agents see and understand prices. Their inference problem is one
of …guring out which product is right for them. To match prominent speci…cations in the
di¤erentiated product setting, we suppose that the value of product i to an agent of type
! depends on a vector of product characteristics X i ; so that i! = X i ! . Consider now a
regression that projects type-speci…c market shares onto product characteristics:

                         M (!; i)     M (i)                          !
                   log                          = (X i       Xj)         (pi   pj ) + :                (17)
                         M (!; j)     M (j)

where is a regression error re‡ecting measurement error or omitted factors.8 The re-
gression is similar to the standard logit model of McFadden (1974).9 If one had data on
type-speci…c market participation, one could identify one of the products with the outside
option. Alternatively, one may normalize the utility of one product for each type of agent
to zero without a¤ecting behavior.
    The main di¤erence between (17) and the logit model is that the values of characteristics
and the sensitivity of market share to price re‡ect a combination of utility parameters, ! ,
and the cost of learning, . This will not matter much in situations in which learning
costs are stable. In other cases, however, changes in learning costs will look like changes in
tastes.
    Another di¤erence between the logit model and our model of type-speci…c demand with
social learning lies in the e¤ect of changes in prices on market shares. In the logit model
   8
     While straight forward in principle this regression su¤ers from all of the endogeneity issues that gen-
erally plague demand estimation.
   9
     Note the model provides an alternative interpretation of stochastic choice data. Stochastic choice of
one speci…c type in data is typically taken to refect unobserved heterogeneity. In our model such patterns
may instead be driven by randomness in the outcome of attentional e¤ort and the resulting pattern of
choice mistakes.



                                                    24
the e¤ect of price on market share is completely captured by market share itself,

      dMLogit (i)                                       dMLogit (i)
                  =    MLogit (i)[1   MLogit (i)] and               = MLogit (i)MLogit (j).
        dpi                                               dpj

In our setting, both social and private learning alter this relationship. In steady state,

   pi dM (!; i)                                    pi dP (ij )    X                   pi dP (jj )
                =         pi [1   M (!; i)] +                           M (!; j)                  :
 M (!; i) dpi                                   P (ij ) dpi       j2A
                                                                                   P (jj ) dpi

The …rst term re‡ects the direct e¤ect of prices on market share. Higher learning costs
tend to dampen this e¤ect. The remaining terms re‡ect the e¤ect of prices on the average
choice probabilities. As a rise in pi tends to reduce P (ij ) and increase P (jj ), these terms
tend to increase the elasticity of demand relative to the logit benchmark. Out of steady
state there is an additional channel by which pi may a¤ect demand as the change in market
shares may provide additional information on the possible distributions of types, thereby
further a¤ecting P (ij ) through .
    As in industrial organization, it is common practice to infer political preferences from
opinion polls and vote share. In this setting the in‡uence of di¤erences in information
are increasingly under investigation. Bartels (1996) and Delli Carpini and Keeter (1996)
show that the expressed opinions and voting behavior of informed voters di¤ers greatly
from those of uninformed voters even after controlling for observable di¤erences such as
age, gender and education. These authors distinguish between choice and true preference,
associating true preference with a hypothetical choice under full information. They then
attempt to reconstruct the distribution of true preferences by projecting the choice behavior
of informed voters of each observable type on the set of uninformed voters. This exercise
sometimes shifts the results with the true preference favoring a di¤erent candidate or policy
proposal than the poll (see also Althaus (1998)). The underlying assumptions are that the
informed are fully informed and that there is no bias in their voting behavior or opinions. If
the informed have = 0, then according to our model informed agents in fact choose their
most preferred option and, absent other measurement issues, this approach would recover
true preferences. If > 0 that above suggests that richer methods of inference are required,
as observed choice tends to be skewed in the direction of choices that are perceived to be
popular.




                                                25
8    Conclusion
We characterize the evolution of market share when agents freely observe past shares and
also engage in costly private learning. Our characterization of steady state behavior in
particular opens the doors to analysis of market behavior, policy, and to issues of inference
from suitably rich data.




                                             26
References
 [1] Althaus, Scott L. (1998),“Information E¤ects in Collective Preferences,” The Ameri-
     can Political Science Review 92, 545-558.

 [2] Balassa, Bela (1965), “Trade Liberalization and Revealed Comparative Advantage,”
     The Manchester School 33, 99-123.

 [3] Banerjee, Abhijit (1992), “A Simple Model of Herd Behavior,” Quarterly Journal of
     Economics 107, 797-817.

 [4] Bartles, Larry (1996), “Uninformed Votes: Information E¤ects in Presidential Elec-
     tions,”American Journal of Political Science 40, 194-203.

 [5] Becker, Gary (1981), “A Note on Restaurant Pricing and other Examples of Social
     In‡uences on Price,”Journal of Political Economy 99, 1109-1116.

 [6] Bernheim, Douglas, and Antonio Rangel (2009), “Beyond Revealed Preference:
     Choice-Theoretic Foundations for Behavioral Welfare Economics,” Quarterly Journal
     of Economics 124, 52-104.

 [7] Berry, Steven, James Levinsohn and Ariel Pakes (1995), “Automobile Prices in Market
     Equilibrium,”Econometrica 63, 841-890.

 [8] Bikhchandani, Sushil, David Hirshleifer, Ivo Welch (1992), “A Theory of Fads, Fash-
     ion, Custom, and Cultural Change as Informational Cascades,” Journal of Political
     Economy 100, 992-1026.

 [9] Burnside, Craig, Martin Eichenbaum, and Sergio Rebelo (2013), “Understanding
     Booms and Busts in Housing Markets,”Northwestern University Working Paper.

[10] Caminal, Ramon, and Xavier Vives (1996), “Why Market Shares Matter: An Infor-
     mation Based Theory,”Rand Journal of Economics 27, 221-239.

[11] Caplin, Andrew, Mark Dean and John Leahy (2015), “Rational Inattention, Optimal
     Consideration Sets, and Stochastic Choice,”NYU working paper.

[12] Caplin, Andrew and John Leahy (1994), “Business as Usual, Market Crashes, and
     Wisdom after the Fact,”American Economic Review 84, 548-565.



                                          27
[13] Caplin, Andrew and John Leahy (1998), “Miracle on Sixth Avenue: Information Ex-
     ternalities and Search,”Economic Journal 108, 60-74

[14] Chamley, Christophe (2004), Rational Herds, Cambridge: Cambridge University Press.

[15] Chamley, Christophe and Douglas Gale (1994), “Information Revelation and Strategic
     Delay in a Model of Investment,”Econometrica 62, 1065-1085.

[16] Cover, Thomas and Joy Thomas (2006), Elements of Information Theory, Second
     Edition, Hoboken, NJ: John Wiley & Sons.

[17] Csiszár, I. (2008), “Axiomatic characterizations of information measures,” Entropy,
     10(3), 261-273.

[18] Delli Carpini, Michael X, and Scott Keeter (1996), What Americans Know about Pol-
     itics and Why It Matters, New Haven, CT: Yale University Press.

[19] Ellison, Glenn, and Drew Fudenberg (1995), “Word-of-Mouth Communication and
     Social Learning,”Quarterly Journal of Economics 110, 93-125.

[20] Iyengar, Sheena S., and Mark R. Lepper (2000), “When choice is demotivating: Can
     one desire too much of a good thing?,”Journal of personality and social psychology
     79.6, 995.

[21] La¤ont, Jean-Jacques (1989), The Economics of Uncertainty and Information, Cam-
     bridge, MA: MIT Press.

[22] Luo, Yulei (2008), “Consumption dynamics under information processing constraints,”
     Review of Economic Dynamics, 11(2):366-385.

[23] Maćkowiak, Bartosz and Mirko Wiederholt (2009), “Optimal sticky prices under ra-
     tional inattention,”The American Economic Review 99, 769-803.

[24] Matµejka, Filip (2010), “Rationally inattentive seller: Sales and discrete pricing, ”
     CERGE-EI Working Paper No. 408.

[25] Matµejka, Filip, and Alisdair McKay (2015), “Rational Inattention to Discrete Choices:
     a New Foundation for the Multinomial Logit Model,” American Economic Review,
     105(1),272-98.



                                            28
[26] Matµejka, Filip, and Christopher A. Sims (2011), “Discrete Actions in Information-
     Constrained Tracking Problems,”CERGE-EI Working Paper No. 441.

[27] McFadden, Daniel (1974), “Conditional Logit Analysis of Qualitative Choice Behav-
     ior,”in P. Zarembka (ed.), Frontiers in Econometrics, 105-142, Academic Press: New
     York, 1974.

[28] Mondria, Jordi (2010), “Portfolio choice, attention allocation, and price comovement,
     Journal of Economic Theory, 145(5):1837-1864.

[29] Moretti, Enrico (2010), “Social Learning and Peer E¤ects in Consumption: Evidence
     from Movie Sales,”Review of Economic Studies 78, 356–393.

[30] Munshi, Kaivan (2003), “Social Learning in a Heterogeneous Population: Technology
     Di¤usion in the Indian Green Revolution,”Review of Economic Studies 73, 175-203.

[31] Sims, Christopher A. (1998), “Stickiness,” Carnegie-Rochester Conference Series on
     Public Policy 49, 317–356.

[32] Sims, Christopher A. (2003), “Implications of Rational Inattention,”Journal of Mon-
     etary Economics 50, 665–690.

[33] Smallwood, Dennis, and John Conlisk (1979), “Product Quality in Markets where
     Consumers are Imperfectly Informed,”Quarterly Journal of Economics 93, 1-23.

[34] Sorenson, Alan (2006), “Social Learning and Health Plan Choice,”RAND Journal of
     Economics 37, 929-945.

[35] Van Nieuwerburgh, Stijn, and Laura Veldkamp (2010), “Information Acquisition and
     Under-Eiversi…cation,”The Review of Economic Studies 77, 779–805.

[36] Woodford, Michael (2009), “Information-Constrained State-Dependent Pricing,”Jour-
     nal of Monetary Economics 56, 100-124.




                                           29
A      Proofs.
Proof of Proposition 1:
    There are a …nite number of types ! 2 . Hence each g may be represented by a point
in the j j 1 dimensional simplex in Rj j . 0 is a subset of this simplex. Hence 0 is the
subset of an j j 1 dimensional hyperplane in Rj j . This plane is the plane through g
that is orthogonal to the unit vector

                                               (g    g ) 1=0

De…ne E 0 as the subspace generated by the unit vector.
   Consider period t, with t and E t . Choice in period t givers rise to a set of type speci…c
choice probabilities P (!; i). Let Z i 2 Rj j denote the vector with Z!i = P (!; i). Now the
orthogonality conditions can be written as

                        (g    g ) Zi = 0             8i such that P (!; i) > 0.

Each orthogonality condition de…nes a j j 1 dimensional hyperplance Rj j .
     There are two possibilities in period t. First, all the Z i lie in E t . In this case there are
no new restrictions placed on the set of possible distributions. t+1 = t . Learning stops
and the the market has converged. Alternatively, there exists Z i 62 E t . E t+1 is now the
space generated by E t and the Z i 62 E t . The dimensionality of E t+1 is strictly greater than
E t . t+1 is the subset of t that is orthogonal to all vectors in E t+1 . The dimension of t+1
is therefore strictly less than that of t . Note, by construction, g 2 t+1 if g 2 t .
     As j j is …nite t converges in a …nite number of periods.

Proof of Corollary 1:
  Let us …rst de…ne the following mapping f :                ( ) ! R:

                                          X          g(!) exp(u(i; !)= )
                          f (g; i; t) =         P        t
                                                                             :                 (18)
                                          !2        j2A P (j) exp(u(!; j)= )


Equations (7) and (2) imply that for all i such that M t (i) > 0, then P t (i) is also positive
and the following holds:
                                                 M t (i)
                                   f (g ; i; t) = t :                                     (19)
                                                 P (i)
Similarly, (7) together with the fact that the sum of probabilities in a distribution equals

                                                      30
1 implies:
                                          f ( t ; i; t) = 1:                                    (20)

The agent in period t+1 knows M t as well as P t , and thus the agent does not deem possible
those population distributions g that do not satisfy f (g; i; t) = M t (i)=P t (i) for some i such
that M t (i) > 0,
                                                        t        t
                          t+1 = fg 2 t ; f (g; i; t) = M (i)=P (i)g:


    Now, if f (g; i; t) = 1 for all g 2 t and all i such that M t (i) > 0, then g 2 t implies
f (g ; i; t) = 1 and thus also M t (i) = P t (i). In this case f (g; i; t) = M t (i)=P t (i) for all
g 2 t so that t+1 = t and we have converged to a steady state :
    If, on the other hand, there exist g 2 t and i such that M t (i) > 0 for which f (g; i; t) 6= 1,
then since f ( t ; i; t) = 1, f (g; i; t) is linear in g and t is the population distribution
conditional on t , then there must exist g 0 2 t for which f (g 0 ; i; t) 6= M t (i)=P t (i) whatever
M t (i)=P t (i) is. Such g 0 then does not belong to t+1 . Hence t+1          t.

    The set of possible population distributions thus shrinks in every period, or reaches a
steady state, where M (i) = P (i). therefore converges pointwise in ( ).
    Finally, in steady state f (g; i; t) = 1 for all g 2 and all i such that M (i) > 0. Let
N = fi 2 AjM (i) > 0g. Since g 2 , f (g ; i; t) = 1 for i 2 N . But then

                        X      g (!) exp(u(i; !)= )
                             P                          = 1;        8i 2 N;
                        !2     j2A P (j) exp(u(!; j)= )


which means that P satis…es the necessary and su¢ cient conditions for optimality for the
prior equal to g and an option set N .
Proof of Proposition 4:
    According to (7)
                                        P (i) exp(u(i; !)= )
                          P (!; i) = P
                                       j2A P (j) exp(u(!; j)= )

where we have suppressed the prior to simplify notation. It follows that given, P (i); P (j) >
0
                              P (!; i)   P (i) exp(u(i; !)= )
                                       =
                             P (!; j)    P (j) exp(u(!; j)= )
So that
                                 P (!; i)=P (i)   exp(u(i; !)= )
                                                =
                                 P (!; j)=P (j)   exp(u(!; j)= )
In steady state P (i) = M (i) and the result follows.


                                                 31
