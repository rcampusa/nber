                                NBER WORKING PAPER SERIES




                ESTIMATING NETWORK ECONOMIES IN RETAIL CHAINS:
                       A REVEALED PREFERENCE APPROACH

                                         Paul B. Ellickson
                                        Stephanie Houghton
                                        Christopher Timmins

                                        Working Paper 15832
                                http://www.nber.org/papers/w15832


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                     March 2010




The authors would like to thank Arie Beresteanu, Tim Bresnahan, Jeremy Fox, Tom Holmes, Shakeeb
Khan, and Andrew Sweeting for their helpful comments. We have also greatly benefited from the
thoughtful suggestions of participants in the NBER Winter IO Meetings, Duke University Applied
Microeconometrics Lunch, the Minnesota Applied Micro Workshop, the Triangle Econometrics Conference,
and seminar participants at Rochester, Texas A&M, Texas-Austin, Wisconsin, Virginia Tech, and
the Yale SOM. Any remaining errors and omissions are our own. The views expressed herein are those
of the authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2010 by Paul B. Ellickson, Stephanie Houghton, and Christopher Timmins. All rights reserved.
Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.
Estimating Network Economies in Retail Chains: A Revealed Preference Approach
Paul B. Ellickson, Stephanie Houghton, and Christopher Timmins
NBER Working Paper No. 15832
March 2010
JEL No. L0

                                              ABSTRACT

We measure the effects of chain economies, business stealing, and heterogeneous firms' comparative
advantages in the discount retail industry. Traditional entry models are ill-suited for this high-dimensional
problem of strategic interaction. Building upon recently developed profit inequality techniques, our
model admits any number of potential rivals and stores per location, an endogenous distribution network,
and unobserved (to the econometrician) location attributes that may cause firms to cluster their stores.
In an application, we find that Kmart and Target benefit most from local chain economies; Wal-Mart's
advantage is more global. We explore these results with counterfactual simulations highlighting these
offsetting effects.


Paul B. Ellickson                                     Christopher Timmins
Simon School of Business Administration               Department of Economics
University of Rochester                               Duke University
Rochester, NY 14627                                   209 Social Sciences Building
paul.ellickson@simon.rochester.edu                    P.O. Box 90097
                                                      Durham, NC 27708-0097
Stephanie Houghton                                    and NBER
Texas A&M University                                  christopher.timmins@duke.edu
TAMU 4228
College Station, TX 77843-4228
houghton@econmail.tamu.edu
1        Introduction

Over the past few decades, “big box” chain stores have come to dominate many sectors of
retail trade. While the chain store format dates back to the early 1900s, the “big box”phe-
nomenon is more recent, relying on the di¤usion of the automobile and the great American
migration to the suburbs. Just as the much larger supermarket format replaced corner gro-
cers in the 1950s, “big box”superstores replaced smaller “mom n’pop”sporting good, book,
and hardware stores in the 1980s and 1990s. The leading example is Wal-Mart, which alone
accounted for 9.6% of U.S. retail sales in 2008, excluding automobile and gasoline sales.
In the discount retail sector speci…cally, Wal-Mart, Kmart and Target now comprise three-
quarters of total sector sales and show few signs of slowing down. The chain store advantage
is both national and local: chains take advantage of scale economies in purchasing and logis-
tics, as well as more local “density”economies that arise from sharing local knowledge and
pooling advertising resources. Despite the increasing dominance of chain superstores, there
is relatively little empirical work quantifying the size and sources of the chain advantage.1
This is the goal of our paper.
        In part, the lack of empirical research re‡ects the scale and complexity of the chain
store’s decision problem: building a massive network of outlets and distribution centers
that move products to consumers as e¢ ciently as possible, recognizing that their rivals are
doing the same. Until recently, a complex strategic game on such a high dimensional space
was thought impossible to solve, much less estimate.2 Furthermore, many retail sectors are
dominated by as few as two or three …rms, begging the question of how one can recover
rich systems of parameters with the observed behavior of so few players. Building on the
pro…t inequalities approach developed by Pakes et al. (2006) and Bajari et al. (2007), we
propose a scalable empirical framework for analyzing network entry problems that does not
require solving for an equilibrium, or even that the equilibrium be unique or played in pure
strategies. Rather, it simply requires enforcing the equilibrium condition that the observed
choices yield higher expected payo¤s than any feasible alternatives, holding rivals’actions
    1
     Jia (2008) and Holmes (2008) are two notable exceptions, discussed in detail below. Earlier, Smith
(2004) applied discrete choice demand estimation to analyze mergers between supermarket chains.
   2
     Jia (2008) exploited the lattice structure of a two-…rm game to reduce the computational burden of
solving for equilibria, while Fox (2007) and Bajari and Fox (2009) use the tools of maximum score and
revealed preference to avoid solving for choice probabilities at all.


                                                  2
…xed. We apply our estimator to the discount retail sector, isolating the comparative
advantages of each of the three players and quantifying the relative importance of the
local chain e¤ect. Moreover, given the relative simplicity of our estimation approach, this
framework could easily be applied in other multi-store or multi-product settings such as
airline hub and spoke networks or automobile product line decisions.
       Our empirical framework builds on the pro…t inequalities (henceforth, PI) framework de-
veloped in Pakes et al. (2006) and Bajari el al. (2007), incorporating the pairwise maximum
score approach to large scale decision problems proposed by Fox (2007) and implemented
by Bajari and Fox (2009). Rather than attempting to fully solve a complex discrete game
for empirical choice probabilities that are then matched to data3 , the PI approach relies
on a revealed preference argument that involves comparing actual choices to a large set of
counterfactual actions that each …rm could have chosen. Since the actual decisions arose
from equilibrium play, these counterfactual choices must be payo¤ reducing, creating a
large set of pro…t inequalities on which to base estimation. By relying on pro…t inequalities
rather than equilibrium choice probabilities, the PI approach avoids solving for equilibria,
mitigating concerns over multiplicity and eliminating the need to impose (or estimate) a se-
lection rule. It also places relatively weak restrictions on the content of player’s information
sets, allowing for (but not requiring) asymmetric or incomplete information. This simpli…ed
structure makes the framework scalable: it can handle any number of players, subject only
to memory and data constraints. In contrast to the alternative choice probability frame-
work, a complex choice space works to the advantage of the PI approach, providing more
inequalities with which to pin down parameter estimates.
       In practice, we consider a large number of “local” perturbations to the observed chain-
network structure that involve swapping pairs of stores owned by rival …rms between
matched pairs of markets. Along with creating the pro…t equalities on which we base
estimation, this swapping of matched pairs serves a second purpose: eliminating any com-
   3
     This is the approach utilized in the “generalized discrete choice” (Pakes (2008)) framework proposed by
Tamer (2003) and extended by Ciliberto and Tamer (2009), Andrews, Berry, and Jia (2004), and Beresteanu
et al. (2009). In these settings, partial identi…cation often obtains due to the possibility of multiple equilibria:
the model can only provide bounds on the range of permissible choice probabilities. Alternatively, the
researcher can impose or estimate a selection rule to restore point identi…cation (Bajari, Hong, and Ryan
(2009)), although this still requires solving for all the equilibria. Partial identi…cation can also arise in the
PI framework if certain support conditions do not hold. These conditions are discussed in detail below.



                                                         3
mon sources of unobserved market heterogeneity. In particular, by considering only matched
swaps of rival stores between pairs of markets, these di¤ erence-in-di¤ erence inequalities al-
low us to eliminate a common, market-level unobservable, which is key to obtaining unbiased
estimates of local chain and competition e¤ects. Because we control for the structural error
in this way, and because the markets from which stores are swapped are chosen randomly,
the pro…t inequalities satisfy a rank-ordering property and can be estimated using pair-
wise maximum score (Fox (2007)), a conditional median inequality analog of the moment
inequality methods utilized by Pakes et al. (2006).
   Intuitively, the PI approach exploits the complexity of the decision space to o¤set the
small number of market participants noted above. Even though the number of players is
small (in this case three), the number of possible alternative con…gurations (and pairwise
deviations) is immense, allowing us to exploit asymptotics in the number of choices, rather
than the number of agents. However, the small number of players does impose a cost when
it comes to recovering and decomposing the …xed e¤ects that dropped out of the di¤erence-
in-di¤erence inequalities. Doing so is critical for using the parameter estimates to learn
about marginal e¤ects of speci…c common drivers of …rm behavior (e.g., population) or for
simulating counterfactual equilibria resulting from a change in the underlying primitives.
Employing another set of inequalities, based this time on the …rst order conditions from
the pro…t maximization problem, we recover ranges in which these …xed e¤ects can lie,
and then project them onto additional covariates using set inference techniques developed
by Beresteanu and Molinari (2008). Set identi…cation follows from the limited number of
inequalities available given the small number of players observed in this industry.
   We apply our estimator to the store location choice problem faced by Wal-Mart, Kmart,
and Target. Treating the decision of where (and how many stores) to locate in each of 1351
markets as a static discrete game, we …nd that each …rm has individual preferences and
unique strengths. Consistent with conventional wisdom, we …nd that Wal-Mart favors rural
locations and Target more urban settings, with Kmart in between. We …nd that Wal-Mart
imposes the strongest competitive pressure on its rivals, followed by Target and then Kmart.
Notably, to o¤set the presence of an additional rival …rm, Kmart requires an increase in
market population that is 25-35 percent greater than the size of the increase required for
Target or Wal-Mart. More subtly, we …nd that Kmart and Target bene…t the most from


                                              4
local scale economies, the elimination of which would cause each …rm to exit 522 and 35
markets respectively. While Wal-Mart would also su¤er from the elimination of these local
chain e¤ects, the impact is much smaller, suggesting that their advantage is more global in
nature.
   Our paper builds on and extends the static entry literature that started with Bresnahan
and Reiss (1990, 1991) and Berry (1992).4 We also contribute to a growing literature on Wal-
Mart itself, which includes Basker (2005, 2007), Hausman and Leibtag (2005), Neumark,
Zhang, and Ciccarella (2008), and Zhu, Singh, and Manuszak (2009).
   While most authors have focused on isolated entry decisions by single-product …rms, the
…rst structural papers to address the chain store network problem directly are Jia (2008),
Nishida (2008), and Holmes (2008). Jia (2008) examines the strategic store placement
decisions of Kmart and Wal-Mart, using a full solution method that exploits a supermod-
ular representation of the two-player game. Her elegant, lattice-based solution mechanism
comes at a cost, restricting her analysis to only two national players and requiring that
the net chain e¤ects be non-negative (i.e. that business stealing not outweigh the bene…ts
of agglomeration). She models network economies as positive spillovers occurring across
nearby locations (de…ned as counties), inferring the chain e¤ect from the extent to which
…rms cluster their own stores. However, she is only able to consider counties that contain
a single store per …rm. Nishida (2008) extends Jia’s approach to allow any number of
stores to be placed in a location, but requires the model to exhibit positive spatial spillovers
across locations and can only accommodate two competing …rms. Both approaches require
imposing an equilibrium selection rule prior to estimation. Our analysis relaxes these re-
strictions, so that we may consider the full set of potential locations, allow for any number
of competing …rms, and place no restrictions on the number of stores per location or the
net impact of spatial spillovers. We are also able to control for proximity to endogenously
placed distribution centers and remain agnostic with regard to equilibrium selection.
   Holmes (2008) examines the spatial structure of Wal-Mart’s national network from the
perspective of dynamic discrete choice, using Wal-Mart’s sequential decisions over where to
   4
     Other notable papers include Mazzeo (2002), Tamer (2003), Seim (2006), and Ackerberg and
Gowrisankaran (2006). Zhu and Singh (2009) and Zhu, Singh, and Manuszak (2006) use a discrete game
approach to examine entry by Wal-Mart, Kmart and Target, but ignore the network aspects of their entry
decisions.



                                                  5
open additional stores to infer the importance of economies of density. In particular, the
degree to which Wal-Mart passed up early entry into desirable locations to build additional
stores closer to a distribution center reveals their preference for such proximity. Holmes also
incorporates information on store-level revenues, further identifying density economies from
the extent to which Wal-Mart tolerates cannibalization of sales by its own nearby stores.
However, in acknowledging the dynamic aspects of Wal-Mart’s decision process, Holmes
does not model (or control for) reactions to (or by) Wal-Mart’s rivals.
       Like Jia, we abstract from the dynamics of the chain problem to focus on strategic
interaction.5 However, in contrast to both Jia and Holmes, our identi…cation strategy turns
on the degree to which …rms prefer to face another one of their own outlets rather than an
additional outlet of a rival.
       As noted above, our framework draws heavily upon the pro…t inequality approach devel-
oped by Pakes et al. (2006) and Bajari el al. (2007). We extend their analysis, however, by
employing set estimation techniques to recover and decompose the error component which
is di¤erenced out of the pro…t inequalities. Doing so is critical for recovering the full drivers
of …rm behavior and performing subsequent counterfactuals. Our …rst-stage estimation pro-
cedure uses the pairwise maximum score method of Fox (2007), but is closer in structure
to Bajari and Fox (2009), who consider competitive bidding for packages of mobile phone
“spectrum”licenses. The application in Bajari and Fox is similar to ours in that it involves
an extremely high-dimensional choice problem. It di¤ers in that they are able to re-cast
their problem as a one-to-many two-sided matching game, whereas our problem retains
the features of a standard entry model with endogenous competitive agglomeration and
own-business stealing e¤ects.
       The remainder of this paper proceeds as follows. Section 2 presents details about the
data and provides background on the discount store industry, which motivates our model-
ing and estimation approach. Section 3 presents a model of …rm pro…t as a function of the
attributes of markets where they place their stores. We then outline a three-part estima-
   5
    While the dynamic aspects of retail competition are clearly important, incorporating them into a strate-
gic model of competition is greatly complicated by the non-stationary structure of the discount store industry.
Wal-Mart has never exited a market and Kmart hasn’t opened a new store in over six years. While there are
some signs that the industry has stabilized in recent years, the available data currently re‡ect the process
of expanding to equilibrium, as opposed to the ergodicity of a stationary Markov process. See Beresteanu
and Ellickson (2006) for an attempt to address some of these issues.


                                                      6
tion algorithm used to recover these payo¤ functions. In the …rst stage, we estimate the
strategic components of store-level pro…ts via pairwise maximum score. In the second and
third stages, we recover set-valued estimates of the common, market-level …xed e¤ect and
decompose that …xed e¤ect to estimate the remaining components of …rm pro…t. Section 4
presents the empirical results and further explores their implications by applying them to a
counterfactual scenario in which the positive bene…ts of clustering chain stores are removed.
Section 5 concludes.


2    The Discount Store Industry

While the segment of retail now served by chain discount stores was once quite fragmented,
in the past few decades it has come to be dominated by three main players: Wal-Mart,
Kmart, and Target. While each …rm is essentially national in scope, there are some fairly
obvious distinctions in the types of markets they choose to serve, partly driven by the types
of consumers they target. Consistent with its rural beginnings and choice of merchandise,
Wal-Mart favors rural locations and smaller cities, avoiding the largest cities almost com-
pletely (not always by choice). Target, on the other hand, prefers urban locations, consistent
with its trendier, “up-market”focus. Finally, Kmart is somewhat less focused, having stores
both in major cities and rural towns. In addition to proximity to consumers, location choice
is also constrained by logistical concerns - stores have to be stocked with merchandise from
a regional distribution center, and so may bene…t from being close to that hub and close to
one another. These economies of density may also come in the form of shared advertising,
shared local market knowledge, and managerial spillovers between stores in the same mar-
ket. All three …rms balance these economies of scale and density against the idiosyncratic
preferences of individual consumers by designing an optimal network of stores.
    Before verifying these stylized facts and motivating our speci…c modeling choices, we
…rst introduce our dataset and choose a sensible de…nition of a “local market”. In retail
industries, location choice essentially dictates the types of consumers you are going to serve,
as individuals tend to sort themselves into reasonably homogeneous neighborhoods. While
such sorting could (and probably does) occur on a very local level, from the researcher’s
perspective, there is a trade-o¤ between choosing a …ne geographic grid and obtaining mean-



                                              7
ingful demographic covariates. With this trade-o¤ in mind, we chose Core Based Statistical
Areas (CBSAs) as our basic building block, which we will call a market or location. CBSA
refers collectively to metropolitan statistical areas and smaller “micropolitan” statistical
areas. Firms choose which locations to enter and how many stores to build in each. While
this coarse-grained market de…nition ignores more nuanced aspects of spatial di¤erentiation,
it allows us to account for correlated, market-level unobservables, which are key to correctly
identifying network and competition e¤ects. In addition to these local characteristics, an
important determinant of store location choice is the distance to suppliers, which we capture
using detailed information on distribution centers unique to our dataset.
   The data on discount stores are drawn from the Trade Dimensions Retail Tenant Data-
base for 2006. Both the dataset and the construction of local markets are described in
detail in Appendix A. Figure 1 illustrates the locations of all the discount stores in our
data set, along with the locations of all distribution centers. Target’s tendency to cluster
in urban locations is clear, providing a sharp contrast with the more uniform distribution
of Wal-Mart and Kmart locations. Figure 2 focuses in on the upper Midwest, bringing this
contrast into sharper focus. Note that Target tends to place distribution centers close to
large cities, which is consistent with supporting its generally accepted upscale, urban focus.
Wal-Mart, on the other hand, places its distribution centers so as to best serve stores which
are themselves located in the interstices between major markets.
   Overall, Wal-Mart has a presence in 97% of these markets, compared to 44% and 26% of
the markets for Kmart and Target, respectively (see Tables 6 and 7 in Appendix A). In part,
this is expected because there are more than twice as many Wal-Mart stores included in the
data (3345) as there are Kmart or Target stores (1362 and 1443, respectively). However, it
also appears that these …rms follow quite di¤erent strategies when locating stores. This is
illustrated clearly in Table 7, which summarizes the location characteristics for each store.
Over 95% of Target’s stores are located in metropolitan statistical areas, compared to only
68% of Wal-Mart’s stores and 78% of Kmart’s stores.
   Finally, Figure 3 examines the relationship between the number of discount stores lo-
cated in each market and population. The top left panel, which is in levels and includes the
…tted regression line from a simple quantile (median) regression, reveals that the relation-
ship is fairly linear, at least up until the very largest markets (Los Angeles and New York


                                              8
9
                                            Figure 1: The Discount Store Industry

    Target stores are denoted by solid black circles, Wal-Mart stores are denoted by gray stars, and Kmart stores are
    denoted by white diamond shapes. Distribution centers appear as squares inset with the operating …rm’s initial. The
    shaded regions indicate the boundaries of metropolitan statistical areas. Micropolitan statistical areas and isolated
    counties, which also serve as markets in our model, have been left o¤ this particular map to improve clarity.
                          Figure 2: Competing in the Midwest




Target stores are denoted by solid black circles, Wal-Mart stores are denoted by gray
stars, and Kmart stores are denoted by white diamond shapes. Distribution centers
appear as squares inset with the operating …rm’s initial. The shaded regions indicate the
boundaries of metropolitan statistical areas, while the unshaded regions indicate smaller
micropolitan statistical areas.



                                            10
City), indicating that population is the primary driver of demand. The top right panel
includes only those markets with population under 500,000, along with the …tted values
from the median regression. Again, the relationship is linear, and fairly tightly clustered
around the regression line at these low values of population. Following Bresnahan and Reiss
(1990), we use order statistics from markets that contain only a single store to get a ball-
park estimate of the minimum e¢ cient scale (MES), in population units, that is required to
support the …rst entrant. The median population (26,450) and interquartile range (18,420;
38,240) for markets that contain just one store suggest that it takes about 25,000 people to
induce the initial entry.
   Nonetheless, there are several markets whose population is well below this critical level
and yet contain one or more stores, and several more whose population is well above it yet
contain just a single store (note that we are only plotting those markets that contain at
least one store). Undoubtedly, the small markets with multiple outlets contain unobserved
features (e.g. proximity to an interstate or highway interchange) that draw consumers from
a larger geographic basin, while the larger markets with relatively few stores have o¤setting
unobservables (e.g. higher land prices and tighter zoning restrictions) that dampen entry.
This heterogeneity, especially at the lowest levels of population, clearly illustrates why we
need to control for market-level unobservables. There is often little in the data to explain
why a market with 40,000 people has three discount stores but a market with 80,000 has
just one. If we simply conditioned on the presence of own or rival stores, we would be biased
toward …nding a preference for agglomeration. This is exactly what we …nd below.
   The bottom left panel returns to the full set of markets but switches the relationship
from levels to logs, revealing a fairly tight, but heteroskedastic linear relationship (in logs).
The …tted value line, which is from a restricted cubic spline regression, demonstrates a
sharp kink near the level of ln(population) where we would expect to see a second store
(ln(2   25000)    10:8), re‡ecting the inherent indivisibility of the big box format. A similar
relationship holds …rm by …rm, as is demonstrated in the lower right panel, which contains
…tted values from restricted cubic spline regressions for each …rm. This obvious non-linearity
further motivates our use of non-parametric …xed e¤ects to control for features of the market
which are common to all three …rms. These empirical features will also motivate our choice
of functional form in the following structural model of entry.


                                               11
      Figure 3: Stores versus Population




(a)                                        (b)




(c)                                        (d)




                     12
3       Model

Since we do not have information on prices and quantities (or detailed store characteristics),
we follow the standard convention of the entry literature in assuming that each …rm’s pro…t
function is known up to a vector of parameters. We have chosen a functional form that
is ‡exible in the number of own stores in order to accommodate net “chain” e¤ects that
may be either positive or negative. Consistent with the determinants of behavior described
above, we begin by modeling the per-store payo¤ to …rm f = fT; K; W g of each store in
market j as:


                                                                                       2
        K              K;Own
        j       =                ln NjK + 1 +       K;Own2
                                                                   ln NjK + 1              +       K;Own3
                                                                                                            (ln(P op)) ln NjK + 1
                          K;Other
                      +             ln NjW + NjT + 1 +             K;HQ
                                                                            ln HQK
                                                                                 j +                K;DC
                                                                                                            ln DCjK +         K;X
                                                                                                                                       Xj +       j

                                                                                   2
        T              T;Own
        j       =                ln NjT + 1 +       T;Own2
                                                                  ln NjT + 1            +      T;Own3
                                                                                                           (ln(P op)) ln NjT + 1
                          T;Other
                      +             ln NjK + NjW + 1 +             T;HQ
                                                                          ln HQTj              +    T;DC
                                                                                                           ln DCjT    +   T;X
                                                                                                                                      Xj +    j

                                                                                           2
        W              W;Own
        j       =                ln NjW + 1 +           W;Own2
                                                                   ln NjW + 1                  +   W;Own3
                                                                                                             (ln(P op)) ln NjW + 1
                          W;Other
                      +             ln NjT + NjK + 1 +             W;HQ
                                                                            ln HQW
                                                                                 j             +    W;DC
                                                                                                            ln DCjW       +   j



where Njf is the total number of stores …rm f operates in market j, DCjf is the dis-
tance from market j to …rm f ’s nearest distribution center, HQfj is the distance from
market j to …rm f ’s headquarters,6 Xj is a vector of exogenous attributes of market j
(e.g., income, population, household size, regional dummies),                                                 is a vector of parameters
    f;Own           f;Own2       f;Own3       f;Other       f;HQ       f;DC       f;X                   W;X
            ;                ;            ;             ;          ;          ;                with            = 0; and           j   is a market-
speci…c …xed e¤ect that is common to all …rms. We further decompose this …xed e¤ect as
a combination of observable and unobservable market characteristics:

                                                                              X
                                                            j   = f (Xj ;         )+       j


where       j   is an additively separable unobserved (to the econometrician) attribute of market
j; that is assumed to be scalar, common across …rms, and uncorrelated with Xj . Note that
    6
    As Holmes (2008) demonstrates, Wal-Mart’s outward expansion began from its headquarters in Ben-
tonville, Arkansas. Target has had a historical presence near its parent-company (Dayton-Hudson) head-
quarters in Minneapolis, Minnesota. Kmart’s ties to its original headquarters in Troy, Michigan are less
apparent in it spatial layout.


                                                                       13
f (Xj ;    X)   captures the way in which the Xj variables a¤ect Wal-Mart’s pro…ts and is also
important for determining how these variables impact the pro…ts of the other two …rms. In
particular, if f (Xj ;        X)   were a simple linear function                  XX
                                                                                       j,   the impact of Xj on Kmart’s
                                                 K;X          X )X
pro…ts could be represented by (                          +          j,   while the e¤ect of Xj on Target’s pro…ts
would follow from a comparable expression.
                                   f;DC       f;HQ
       We expect to …nd                   ;          < 0, the former providing evidence that costly trans-
portation creates incentives for …rms to place stores closer to their distribution centers, and
the latter documenting other coordination costs and the historical pattern of expansion from
                                                                                                 f;Own       f;Own2       f;Own3
a …rm’s home base. The most important strategic parameters are                                           ;            ;            ,
          f;Other
and                 , which capture the net impact of own and rival stores on …rm pro…ts. While
                                                                               f;Other
the impact of rival stores should clearly be negative (                                     < 0), the choice of functional
form is designed to allow for ‡exibility in the e¤ect of nearby own-stores on pro…ts, leaving
open the possibility of recovering either net agglomeration or business stealing e¤ects over
the range of store counts.
       Since ex ante, per-store pro…ts are the same at every store in a given market, calculating
total …rm-level pro…ts involves summing over all J markets:7
                                                              J
                                                              X
                                                      f
                                                          =         Njf      f
                                                                             j;
                                                              j=1

This is, ultimately, the quantity that …rms are maximizing through the choice of Nj and
the location of distribution centers (which in turn determines DCjf in per-store pro…ts).
                          f
The derivative of         j   with respect to Njf reveals the presence of net agglomeration or own-
                                                                                                       f
                                                                                                     d
business stealing e¤ects. In particular, over the range of Njf where                                   j
                                                                                                             is positive, …rm
                                                                                                     dNjf
f experiences net agglomeration e¤ects in location j (i.e., adding another store raises the
                                                                                                               f
                                                                                                             d j
marginal pro…tability of all stores in the location). Over the range where                                          is negative,
                                                                                                             dNjf
own-business stealing e¤ects dominate agglomeration e¤ects, and additional stores decrease
the pro…tability of the …rm’s other stores in the market.
       An important feature of our modeling framework is the inclusion of the unobserved
market attribute,          j,   which serves as our structural error.                       From a practical standpoint,
   7
    Note that our model only requires a …rm’s expectation of the pro…t at each store in a market to be the
same at the time of siting. Pro…ts will likely vary across stores after entry. We need only require that …rms
cannot predict these deviations.


                                                                14
it is unlikely that our vector of observable market attributes, Xj , will capture everything
about a market that is relevant to pro…tability. If we ignore these unobservable charac-
teristics, we will likely arrive at biased estimates of a number of parameters –particularly
those associated with Njf . Of course, explicitly including           j   as part of the error structure
creates potential endogeneity problems since Njf is an equilibrium construct: Njf is a direct
function of     j   as well as an indirect function of   k   8 k 6= j: In solving this problem, we rely
on three identi…cation assumptions. First, the endogenous attributes of each market are
…rm-speci…c (i.e., the number of own-stores, stores operated by other …rms, and distance
to distribution center are di¤erent for each …rm in each location). Second, the unobserved
attribute   j   is common across …rms and additively separable in the pro…t function. Third,
after controlling for the common unobservable            j,   any remaining errors are median inde-
pendent of Njf , Nj f , and DCjf when evaluated at the true parameter vector. The …rst
two assumptions are common in both the sorting and discrete choice (demand) literature.
The …nal assumption is closely related to the error decomposition described in Pakes et
al. (2006). These disturbances could represent di¤erences between the agent’s ex ante ex-
pected pro…ts and their realized values and/or measurement error in observable covariates
or simple speci…cation error.8 The essential requirement is that this error component is
median independent of the information that the agent bases its decisions upon. In contrast
to the alternative generalized discrete choice approach (Tamer (2003), Ciliberto and Tamer
(2009)), it is di¢ cult to give this error a structural interpretation as an additive component
of the pro…t function; it is more naturally de…ned in di¤erences (see below). However, it
does eliminate the need to specify the content of agent’s information sets or solve for equi-
libria conditional on all possible realizations of rival’s choices (see Pakes (2008)), the latter
of which is key for scalability.
    It is crucial that we include key attributes of each market that might be valued dif-
ferently by di¤erent …rms. One obvious candidate is simply geography – the locations of
corporate headquarters can explain much of Wal-Mart’s prominence in the South and the
ubiquitousness of Target in the upper Midwest. We model the equilibrium locations of all
   8
     For example, we measure observable demographics like population and income using their 2006 values,
but most of the entry decisions we model were taken over the previous 25 years. It seems reasonable to
assume that …rms may have incorrectly predicted how these variables would evolve over time.




                                                  15
Targets, Wal-Marts, and Kmarts as of 2006.9 The locations of each …rm’s distribution cen-
ters are important determinants of these siting decisions, but are certainly not exogenously
determined. There is a potentially complicated model of …rms’ decisions about where to
place these distribution centers that we do not attempt to specify. Instead, we deal econo-
metrically with the fact that DCjf is endogenous, allowing us to recover unbiased estimates
of …rm preferences.

3.1      Estimation of Strategic, Firm-Speci…c Parameters

Our estimator is based on a revealed preference approach that uses pairwise comparisons
between the observed location decisions made by …rms and speci…c “single-store”deviations.
The assumption is that a single-store deviation (i.e., taking a single store and moving it to
a new location, holding the location decisions of other …rms …xed) is a deviation from the
observed Nash equilibrium strategy and is, therefore, payo¤ reducing for the …rm.
       Recall that the per-store pro…t of a given …rm (say Target) in market j is given by

                                                                     2
         T           T;Own
         j   =               ln NjT + 1 +    T;Own2
                                                        ln NjT + 1       +       T;Own3
                                                                                            (ln(P op)) ln NjT + 1
                      T;Other
                 +              ln NjK + NjW + 1 +       T;HQ
                                                                ln HQTj      +       T;DC
                                                                                            ln DCjT   +   T;X
                                                                                                                Xj +       j



       Since the ex ante per-store pro…t is the same for every store in a given market, Target’s
total pro…t in market j can be written

                                            T
                                            j   = NjT      VjT NjT +             j

where
                                                                             2
   VjT NjT       =      T;Own
                                ln NjT + 1 +     T;Own2
                                                           ln NjT + 1            +    T;Own3
                                                                                                (ln(P op)) ln NjT + 1
                           T;Other
                       +             ln NjK + NjW + 1 +     T;HQ
                                                                   ln HQTj           +   T;DC
                                                                                                ln DCjT   +     T;X
                                                                                                                      Xj


       Note that NjW and NjK are implicitly held at their observed values in VjT NjT , as
we only consider unilateral deviations. The logic of the estimator is to consider “swaps”
of a single store from one market to another. For example, consider moving a single Tar-
get store from market a (e.g., Minneapolis), which currently contains NaT Target stores,
   9
    Following the standard practice in the static entry literature, we treat the entire network of each …rm
as being determined simultaneously in a one-shot game. In contrast, Holmes (2008) models the dynamics of
store di¤usions, albeit from the perspective of only a single …rm.


                                                           16
to market b (e.g., Chicago), which currently contains NbT Target stores. Since the ob-
served con…guration NaT ; NbT             is part of an equilibrium, Target’s total pro…ts must be
higher under the observed con…guration than under the proposed counterfactual con…gura-
tion NaT    1; NbT + 1 . Note that since all “spillovers”(i.e., congestion e¤ects or economies
of density) are assumed to occur within, but not across, CBSA markets (i.e., pro…ts are
additively separable across markets) the change in total …rm pro…ts only depends on the in-
cremental changes associated with the two markets exchanging stores, yielding the following
relatively simple pro…t inequality


  NaT VaT NaT   + NaT       a   + NbT VbT NbT    + NbT          b


                NaT     1       VaT NaT    1 + NaT          1       a   + NbT + 1   VbT NbT + 1 + NbT + 1          b



Simplifying this expression yields
                    T                            T
                 gV a NaT ; NaT            1 +gV b NbT ; NbT + 1 + (                 a       b)      0             (1)
             f
where the gV j ( ; ) notation represents the decrease (or increase) in pro…ts associated with
removing a single store from (or adding a single store to) a particular market.
   An impediment to using this simple inequality to recover the structural parameters
of Target’s payo¤ function is the di¤erence in …xed e¤ects, (                            a    b ),   which, if treated
as the econometric error, would clearly be correlated with the included regressors. In
addition to the valuation of the exogenous features of the market which are common to
all players (represented here as Wal-Mart’s preferences over population, for example), these
…xed e¤ects capture the parameters           a   and   b,   which are common knowledge of the …rms, but
unobserved by the econometrician. To obtain unbiased estimates of the pro…t parameters,
we must eliminate these common unobservables from the pro…t inequality. Therefore, we
consider another hypothetical store movement that will allow us to di¤erence these …xed
e¤ects away. In particular, consider moving one Kmart store from b to a. This yields an
inequality similar to the one above, but with an o¤setting di¤erence in the …xed e¤ect term:
                   K                    K
                gV a NaK ; NaK + 1 + gV b NbK ; NbK                           1 +(       b   a)      0             (2)

Adding Equation (2) to Equation (1) yields another inequality that is free from this prob-

                                                         17
lematic term:10

     T                        T
  gV a NaT ; NaT        1 +gV b NbT ; NbT + 1
                                                K                    K
                                            +gV a NaK ; NaK + 1 + gV b NbK ; NbK                   1      0 (3)

       Using the same logic, we construct many “o¤setting”swaps of stores between the three
retailers.11 By considering many such “minor perturbations” to the observed spatial net-
work of stores, we are able to construct a pairwise maximum score objective function with
which to estimate the          parameters. (The remaining (common) parameters,                     X,   are esti-
mated in a second step.) Because we have explicitly controlled for the structural error in
 j,    we now assume that any remaining idiosyncratic error in Inequality (3) is i.i.d. across
stores, …rms, and markets. Continuing with the example of our Target-Kmart swap:

     T                        T
  gV a NaT ; NaT        1 +gV b NbT ; NbT + 1
              K                    K
          +gV a NaK ; NaK + 1 + gV b NbK ; NbK                 1      ("Ta   "Tb ) + ("K
                                                                                       b     "K
                                                                                              a )=
                                                                                                        TK
                                                                                                        ab    (4)

       This error explains why the inequality will not necessarily hold for every store swap that
we consider. As noted above, it represents either speci…cation or measurement error in the
latent pro…t function that is median independent of the conditioning variables.12                         Under
  10
      It would also have been possible to apply this di¤erencing procedure to inequalities involving a single
location, rather than pairs of locations. For example, instead of creating an alternative con…guration with
one less Target store in location a and one more Target store in location b, we might have considered an
alternative with simply one less Target store in location a. This alternative would also be pro…t-reducing.
Then, an o¤setting inequality could be generated by adding one Kmart store to location a (also pro…t-
reducing for Kmart). When combining the inequalities, the common a would drop out. The current
approach of double-di¤erencing has the (small) advantage of holding the total number of stores …xed. This
is important in that we do not attempt to model (nor does our approach require) the …rm’s decision about
how many stores to build in total.
   11
      In particular, we randomly select 15,000 pairs of locations (with replacement) from the full set of existing
stores. This e¤ectively weights the draws by population, since more populated areas will have more stores. In
addition, because there are twice as many Wal-Mart stores as Kmart or Target stores, a higher percentage of
the inequalities will involve Wal-Mart-Kmart or Wal-Mart-Target pairings, than will involve Target-Kmart
pairings. The choice of 15,000 itself is somewhat arbitrary; similar results were obtained using fewer and
using more random pairs.
   12
      In the notation of Pakes (2008), 1;i plays a role analogous to fab1 f2 . Pakes describes this error as
being composed of two terms. The …rst represents “the di¤erence between the agent’s expectation of pro…ts
at the time the agent makes its decision and the realization of pro…ts. It is a result of uncertainty in the
exogenous variables that will eventually help determine pro…ts.”He describes the second component as “that
part of the error in our measure of pro…ts that is mean independent of the information the agent bases its
decision on. It will be generated by speci…cation error in our pro…t functions and/or measurement error in



                                                       18
this assumption, the rank-ordering property de…ned by Manski (1975) and further described
by Fox (2007) is preserved, and consistent estimates of the parameters can be obtained using
only this subset of the almost uncountable number of alternative con…gurations. Manski
(1985) established that point identi…cation of the            parameters requires at least one regressor
with absolutely continuous support on the real line. This regressor is needed to “break ties”
between candidate       ’s, winnowing the identi…ed set to a point. Distances to the nearest
distribution center and the …rm’s headquarters, which will always vary across locations and
players, are natural candidates for such a regressor since we only consider switching stores
from one market to another. In the absence of this special regressor, maximum score could
still be used to trace out the identi…ed set, but a di¤erent inference procedure would be
required to construct con…dence sets.
    In practice, the non-smoothness of the maximum score objective function makes opti-
mization di¢ cult, so we use smoothed maximum score with a normal kernel, and bootstrap
with sub-sampling to obtain standard errors.13 We also note that when estimating with
these inequalities in a maximum score or smoothed maximum score framework, we must
normalize one of the coe¢ cients; for the results presented in Section 4, the coe¢ cient on
Wal-Mart’s distance to its headquarters in Bentonville, Arkansas is normalized to -1. All
of the other parameter estimates are therefore expressed in this metric.
    Finally, it is important to note what has happened with the endogenously determined
local attributes (Njf;Own ; Njf;Other ; DCjf ) in this system. We would expect each of these to
be correlated with      j.   That is, places that are desirable owing to unobserved factors are
likely to have more stores in them, both Own and Other). Locations surrounded by loca-
tions with desirable unobservables are, similarly, more likely to be close to a distribution
center (assuming distribution centers are placed with the goal of serving a large number
of attractive markets). The key to our estimation strategy is that              j   no longer appears in
our objective function when it comes time to estimate the parameter vector                   . However,
the other elements of        j   (apart from   j ),   which are clearly critical to giving a meaningful
the variables used to construct pro…ts.” One possible reason to expect such an unobservable to be present
in our model is that the observable, exogenous determinants of pro…ts in 2006 may be very di¤erent (in
an unpredictable way) from what the …rm expected when it originally sited its stores. It could also re‡ect
asymmetric information regarding the unobserved “types” of one’s rivals.
  13
     We use a simulated annealing algorithm to search for the global optimum. Formal proofs of consistency
are provided in Fox (2007) and Bajari and Fox (2009), which build on the arguments laid out in Han (1987).


                                                        19
economic interpretation to several of the parameters recovered in the …rst stage, have also
been di¤erenced away. This is an issue in any procedure that involves di¤erencing out com-
mon unobservables. An important contribution of our framework is a method for recovering
these additional parameters in a second stage. We turn to this exercise next.

3.2   Decomposing the Market-Level Fixed E¤ects

Crucial to our understanding of …rm entry behavior is the recovery of the parameters                       X,

which are included in        j;   the …xed e¤ect terms that were di¤erenced out of Equation (3).
Recall from above that these parameters describe how the demographic variables included
in Xj a¤ect Wal-Mart’s pro…ts. The impact of Xj on Kmart’s and Target’s pro…ts are
                             X)           K;X                                T;X
represented by f (Xj ;            + Xj0         and f (Xj ;    X)    + Xj0         , respectively. Although we
                                                K;X            T;X
have already obtained estimates of                      and          in the …rst stage, we clearly need to
know Wal-Mart’s values (captured only by f (Xj ;                     X ))   in order to determine the overall
value that any …rm places on an attribute like per-capita income or population. Because we
were concerned that      j   would be correlated with all the N ’s, we included it in the …xed e¤ect
( j ) and di¤erenced it out in the …rst stage. A key advantage of our two-stage approach
is that estimates of the …rst-stage parameters can be recovered without having to specify a
particular functional form for f (Xj ;          X ).    However, if we want to learn the baseline e¤ects
of Xj on all …rms’pro…tabilities, we need to commit to a particular functional form; here,
we use Xj0   X.   We can then use our …rst stage estimates, along with an assumption on …rm
behavior, to recover (set valued) estimates of the …xed e¤ects. We can then project these
interval estimates onto X using Beresteanu and Molinari’s (2008) techniques for set valued
random variables.
   We begin this process by recovering estimates for the market-speci…c …xed e¤ects. With
only three …rms and without making explicit distributional assumptions, we are unable
to recover point estimates of each              j.     There is simply not enough information in data
describing the store siting decisions of just three …rms to identify the precise values of this
many parameters. However, we can recover ranges in which those parameters must lie and
use these intervals to set-identify         X.         In order to do so, we make use of an additional
assumption about …rm behavior similar to that employed by Pakes et al. (2006).                              In



                                                          20
particular, we begin with each …rm’s marginal pro…tability of stores in each market j:
                                          NjT
                       @ T                            T;Own         T;Own2                 T;Own3
                                     =            [           +2             ln(NjT +1)+            ln(P op)]+     T
                                                                                                                   j
                       @N T              N T +1
                         j                j
                                          NjK
                       @ K                            K;Own         K;Own2                  K;Own3
                                     =            [           +2             ln(NjK +1)+             ln(P op)]+        K
                                                                                                                       j
                       @N K              N K +1
                         j                j
                                          NjW
                      @ W                             W;Own          W;Own2                 W;Own3
                                     =            [           +2              ln(NjW +1)+             ln(P op)]+           W
                                                                                                                           j
                      @N W               N W +1
                        j                 j


       Note that we will not attempt to recover the determinants of the total number of stores
that each …rm builds. This will be a¤ected by capital constraints and cash reserves, long-
run business plans, access to foreign suppliers, and so forth.                                            Instead, we assume only
that each …rm allocated whatever stores it did build in an optimal fashion – that is, they
added stores to each market until the marginal pro…tability of the last store added was
equalized across markets, up to an integer constraint. In particular, for each …rm f , there
is a constant value cf such that observed marginal pro…ts in each market with at least one
store must be greater than cf , while the marginal pro…ts from one additional store must be
less than cf :

                                   Njf      h                                                                  i
                                                T;Own              T;Own2
                                                         +2                 ln NjT + 1 +     T;Own3
                                                                                                      ln (P op)
                               Njf     +1                                                                                      (5)
                                                                                           +VjT     NjT    +   j       c   f


                               Njf     +1 h     T;Own              T;Own2
                                                                                                               i
                                                         +2                 ln NjT + 2 +     T;Own3
                                                                                                      ln (P op)
                               Njf     +2                                                                                      (6)
                                                                                     +VjT    NjT    +1 +       j   <c      f



            f;X
where               = 0 if f = W . Note that in markets where the …rm has zero stores, it is at a
corner solution and only Equation (6) must hold. We de…ne the following components of
…rm f ’s marginal pro…ts in market j :

                         Njf       h                                                                    i
              f                          T;Own          T;Own2
              1;j                                 +2                ln NjT + 1 +      T;Own3
                                                                                               ln (P op) + VjT NjT
                        Njf + 1

              f         Njf + 1 h        T;Own          T;Own2
                                                                                                        i
              2;j                                 +2                ln NjT + 2 +      T;Own3
                                                                                               ln (P op) + VjT NjT + 1
                        Njf   +2

       Since we have estimated all the                         parameters in the …rst stage (and observe everything
else), we can treat this component of marginal pro…ts as known.14 Because payo¤s are only
  14
       We will correct for the fact that these are estimates in the second stage standard errors.


                                                                        21
identi…ed up to an additive scale parameter in any discrete choice framework, we have one
free normalization. Setting the value of                        j   equal to zero for some base location, we have:15

                                                      f                       f
                                                      2;base    < cf          1;base


         With these bounds on cf for each …rm, we can now use Equations (5) and (6) to bound
 j   for each …rm:

                             f             f                         f           f
                             2;base        1;j   <    j     <        1;base      2;j ;   if Njf > 0
                                                                     f           f
                                                      j     <        1;base      2;j ;   if Njf = 0

         Assuming that the        j ’s   are the same for all …rms, the intersection of these bounds
describes the set of admissible values that                           j   can take for each market j.16   Note that
if we had point estimates of the                  j ’s,   we could simply project them onto X using a linear
regression. However, because the                  j ’s    are set identi…ed, our dependent variable now comes in
interval form:      j   2[   Lj ; U j ].    Therefore, we rely on the methods developed by Beresteanu
and Molinari (2008), which use a transformed Minkowski average of the data to recover
bounds and con…dence sets for                    X.      This is described in detail in Appendix B.


4         Results

Our main empirical results are presented in Tables 1 and 3 for several alternative speci…ca-
tions of the model. Table 1 reports the parameter estimates for the …rm-speci…c components
of per-store pro…ts, which were recovered in the …rst stage of our two-step procedure. The
results from the second stage are presented in Table 3. Column I of Table 1 contains the
results from our main (preferred) speci…cation, which we discuss in detail below. Column
II reports results from a speci…cation that does not include location-speci…c unobservables
( ’s), while Column III is a speci…cation that only includes stores sited after 2000 (as a
robustness check).
    15
      In practice, the base location used is the Albany, Georgia Metropolitan Area. Kmart, Target, and Wal-
Mart each have one store there. The area’s population is around the 75th percentile and the population
density is close to the median value of all metro and micropolitan areas in our sample.
   16
      Note that we drop from the j decomposition exercise seven locations where the sets of j ’s are disjoint
(i.e., where no value of j can satisfy all three …rms inequalities). This is an indication of model mis-
speci…cation. Because this only happens with a small fraction of our overall locations, we ignore any
possible resulting sample selection in the decomposition of j .


                                                                    22
       Focusing on the main results from the …rst stage (Column I of Table 1), several features
are worth noting. Since this is a highly non-linear speci…cation, we begin with a simple
discussion of signs and signi…cance and then present marginal e¤ects for the main variables
of interest. The signs of all coe¢ cients are as expected and most are signi…cant at the usual
levels. In particular, we …nd that rival stores have a negative and signi…cant impact on own
pro…tability that is strongest for Kmart and weakest for Wal-Mart. This implies that Wal-
Mart (and to a lesser extent, Target) is better able to keep customers in the face of entry by
a rival …rm in the same market; Kmart tends to lose more customers to that new entrant.
This is consistent with aspects of the di¤ering business models adopted by each company.
Wal-Mart emphasizes “every day low prices” and chooses locations in which customers are
willing to drive long distances to get those low prices. Target markets an upscale product,
typically choosing higher income, urban locations in which to do so. It makes sense that
either …rm would be well-positioned to fend o¤ entry by the other (or by Kmart) and
maintain its customer base. Kmart, on the other hand, has adopted a mixed strategy
of low prices (epitomized by their (in)famous “blue light” specials) and celebrity brand
names (e.g. Martha Stewart and Kathy Ireland), making their product more substitutable
with both Wal-Mart and Target, depending on the location they are in. Looking at the
remaining parameters, distance to headquarters is negative, but signi…cant only for Kmart,
while distance to the closest distribution center is negative, but insigni…cant. The e¤ect
of own stores involves three coe¢ cients, requiring an analysis of marginal e¤ects. As we
will see below, their net e¤ect is negative, implying that business stealing outweighs local
density economies at the margin.
       An attractive feature of our model is that it allows …rms to pro…t di¤erently from
observable characteristics of the market. This …rm-level heterogeneity is apparent in the
coe¢ cient estimates. Target, which is located primarily in metropolitan areas, has the
strongest preference for higher population relative to both Kmart and Wal-Mart, while
Wal-Mart has the weakest. This is consistent with conventional wisdom regarding each
…rm’s preferred demographic.17
       Finally, the smoothed maximum score as a fraction of the total number of comparisons
  17
    Other speci…cations not reported here include measures of population density, median income, and
average household size. The results for the competitive and own-…rm e¤ects showed a similar pattern, but
the coe¢ cients on the demographic characteristics were insigni…cant.


                                                  23
can be used as a measure of …t. The value here is 97%, indicating a very tight …t (note
the sharp contrast with the speci…cation in Column II that does not include the market-
level unobservable ). This implies that the store-speci…c idiosyncratic errors ("fj ’s) play
a relatively minor role in explaining observed choices. This likely re‡ects the fact that
population alone captures most of the relevant di¤erences in demand across markets, while
the common unobservables (the              j ’s)   account for the bulk of the rest.


                                      Table 1: First Stage Estimates
                                                      I                    II                  III
                                                          S.E.                  S.E.                 S.E.
              Kmart-Speci…c Covariates
              ln(Nown + 1)                -225.738      10.54    -57.120        15.66      x
              (ln(Nown + 1))2              -10.439       0.68     -1.887        0.94
              ln(P op)(ln(Nown + 1))        17.291       0.85      4.139        1.17
              ln(Nother + 1)              -121.331       7.81    -59.124        15.92
              ln(Distance to HQ)            -1.779       0.43    -11.277        4.96
              ln(Population)                 9.987       3.75     18.576        7.06
              Target-Speci…c Covariates
              ln(Nown + 1)                -201.378       5.03    -24.189        13.77   -207.799      7.35
              (ln(Nown + 1))2               -8.290       0.46      3.650        1.42     -11.456      0.65
              ln(P op)(ln(Nown + 1))        14.361       0.50     -1.052        0.83      13.572      0.68
              ln(Nother + 1)              -105.965       6.64    -24.118        9.23    -184.839     12.94
              ln(Distance to HQ)            -0.094       0.28     -8.994        3.59      -9.553      0.49
              ln(Population)                13.056       2.83     20.523        15.00     29.530      5.27
              Wal-Mart-Speci…c Covariates
              ln(Nown + 1)                -223.268       8.06     16.529        5.27    -224.161     10.32
              (ln(Nown + 1))2              -10.887       1.18      6.203        1.94     -17.666      1.02
              ln(P op)(ln(Nown + 1))        16.045       0.70     -4.252        1.28      15.957      0.70
              ln(Nother + 1)               -85.222       5.95    -11.613        3.80    -131.678      9.71
              ln(Distance to HQ)              -1y                   -1y                    -1y
              Common Covariates
              ln(Distance to DC)            -0.265       0.30    -0.935      0.36        1.347     0.55
              ln(Pop) up to ln(50,000)         z                  3.178      1.82          z
              ln(Pop) over ln(50,000)          z                 23.675      6.95          z
              Number of Comparisons               15000                30000                 15000
              Smoothed Maximum Score            14518.88             22105.89               14327.72

y Maximum score estimation requires the normalization of one parameter. In all models shown here, the
Wal-Mart-speci…c coe¢ cient on distance to headquarters is normalized to -1. The standard errors for the remaining
estimated coe¢ cients are reported in italics.
z These common components of the pro…t function are di¤erenced out as part of the location …xed e¤ect. They are
estimated in a separate second stage, the results of which are reported in Table 3. In Speci…cation II, because we
have dropped the unobservable location-speci…c characteristic, there is no need to use the di¤erencing approach; all
parameters can be recovered in a single stage.
x Speci…cation III estimates the model using only stores placed since 2000 to construct inequalities. Since Kmart did
not open any new stores between 2000 and 2006, we do not estimate coe¢ cients for this …rm.




    To further unpack the nature of network competition, Table 2 presents the marginal
e¤ects of own and rival stores on per-store pro…t. These …rst derivatives are evaluated at


                                                          24
       Table 2: Comparing Marginal E¤ects of Own and           Rival Stores on Per-Store Pro…t
           Evaluated at                       Kmart               Target       Wal-Mart
                                          Own Rival            Own Rival Own Rival
           1 own store, 1 rival store     -27.2 -60.7          -29.2 -53.0 -32.9 -42.6
                (population=46,610)
           2 own stores, 2 rival stores   -14.7 -40.4           -16.5   -35.3    -19.1    -28.4
                (population=137,991)
           5 own stores, 5 rival stores    -6.5 -20.2           -7.5    -17.7     -9.0    -14.2
                (population=431,904)
           10 own stores, 10 rival stores -3.7 -11.0            -4.1     -9.6     -5.2     -7.7
                (population=816,811)

The population values used to evaluate these marginal e¤ects are the median populations
for markets with the given number of total stores.



several values of own and rival stores and at the median level of population for markets
with the chosen number of stores. As noted above, we …nd that Wal-Mart is hurt the least
by increased competition from rivals, re‡ecting either its well-planned marketing strategy
or simply its widely-perceived global cost advantages and better overall brand awareness.
However, Kmart and Target su¤er less than Wal-Mart from the introduction of additional
own stores.18 Moreover, the local chain e¤ect, captured by the wedge between the “own”and
“other”e¤ects, is strongest for Kmart and weakest for Wal-Mart. This implies that Kmart
and Target enjoy a comparative advantage in local density economies, particularly in areas
with high population. This is consistent with well-documented di¤erences in the …rms’
business models: Kmart and Target rely more on local price promotion and advertising
than Wal-Mart, a strategy more suited to urban (or high density) markets where costs
can be spread across multiple outlets and consumers can visit stores more frequently (to
take advantage of deals). Wal-Mart’s more di¤use layout complements its “every day low
price” positioning, which requires less promotion and allows customers to make fewer trips
to the store. Kmart also tailors its products more closely to local tastes, explicitly courting
Hispanic and African American customers in areas in which these demographic groups are
  18
    The marginal e¤ects are all monotonically decreasing in population, which simply re‡ects the fact that
adding a single store to a market with 50,000 consumers has a much larger impact on per store pro…ts than
adding that same store to a market of …ve million.




                                                   25
well-represented. Overall, these results suggest that Wal-Mart’s comparative advantage is
more global, perhaps tied to the well-known logistical advantages and buying power with
suppliers, while Kmart and Target bene…t more from local economies of density. After
decomposing the market-level …xed e¤ects and discussing robustness, we will return to this
point with a detailed counterfactual.

                                   Table 3: Second Stage Estimates
                                                      I(a)                       I(b)
                  ln(Population)                ( 28.35 , 64.95 )         ( 15.57 , 70.29 )
                                                [ 14.71 , 78.58 ]          [ 1.12 , 84.74 ]
                  ln(Median Income)                                     ( -182.41 , 154.84 )
                                                                         [ -208.47 , 180.9 ]
                  Avg. Household Size                                    ( -163.61 , 87.48 )
                                                                         [ -184.4 , 108.27 ]
                  % Urban                                               ( -106.56 , 212.22 )
                                                                        [ -134.45 , 240.11 ]
                  Constant                    ( -735.41 , -299.78 )    ( -1000.83 , 282.45 )
                                              [ -892.25 , -142.94 ]    [ -1190.96 , 472.58 ]
                  Number of Observations              1344                      1344

Speci…cations I(a) and I(b) use the …rst-stage estimates from speci…cation I in Table 1. The intervals
appearing in square brackets represent the largest 95% con…dence collection, i.e., the largest set that, when
speci…ed as a null hypothesis for the true value of the population identi…cation region, cannot be rejected
by a 95% test.



    The results from the second stage are reported in Table 3. The bounds and 95% con-
…dence sets for the coe¢ cient for log population are positive in all our speci…cations, in-
dicating, as expected, that larger markets are more pro…table.19 We also note that, while
the …rst-stage estimates indicate Wal-Mart’s pro…tability from population is lower than
Kmart’s or Target’s, the net e¤ect (captured by            pop )   is still positive. The set estimates for
the other market characteristics are generally neutral; that is, they cover both positive and
negative values. It is therefore di¢ cult to draw conclusions about these …rms’preferences
for income or household size, after controlling for the impact of high values of population.
This is likely due to the relatively coarse market de…nition we have employed. However,
pinning down the baseline impact of population does allow us to quantify the impact of own
  19
     Note that the bounds recovered from the set-inference procedure are conservative in that they represent
the outer envelope of values that the parameter can take for all possible values of the remaining parameters.
Our results therefore imply that, no matter what value is taken by the vector of other parameters, log
population always has a positive e¤ect on pro…ts. The same cannot be said of the other covariates.


                                                     26
and rival stores in terms of required changes in population (the main driver of demand).

              Table 4: Increase in Population Required to O¤set or Induce Entry
    Initial # of Own Stores, Population      Change               Kmart     Target    Walmart
    Originally 1 own store,                  1 ! 2 own stores     18,001    19,329     27,353
         population of 50,000                1 ! 2 rivals         52,408    42,650     40,937
    Originally 2 own stores,                 2 ! 3 own stores     26,509    30,233     41,980
         population of 150,000               2 ! 3 rivals         87,973    74,641     69,658
    Originally 5 own stores,                 5 ! 6 own stores     31,543    37,422     51,863
         population of 450,000               5 ! 6 rivals         107,086    94,811    85,653
    Originally 10 own stores,                10 ! 11 own stores   36,903    45,533     64,211
         population of 1,200,000             10 ! 11 rivals       136,351   123,477   109,225


   Table 4 presents the increase in population required to o¤set the entry of a rival store or
induce the entry of another own store, evaluated for a few representative market con…gura-
tions. The local chain e¤ect is again re‡ected in the wedge between these two quantities.
For the smallest market category, an additional 18,000 to 27,000 people are needed to in-
duce these …rms to build another store, which brackets the “back of the envelope”minimum
e¢ cient scale calculation discussed in Section 2. Note that this “required” level of popula-
tion increases with market size, as discount stores likely face more and better substitutes
in larger markets.
The Role of Unobserved Location Attributes
   One of the key advantages of our modeling strategy is the ability to account for spatial
unobservables, which we denote by      j,   that might be important determinants of …rms’siting
decisions. If …rms site more stores in locations with attractive unobservables, but those un-
observables are ignored in estimation, the researcher could mistake them for positive spatial
spillovers (or will at least understate the role of business stealing e¤ects – both between a
…rm’s own stores and with those of its rivals).        In order to illustrate the important role
played by these unobservables, we re-estimate the model used above under the restriction
that   j   = 0 8j. All parameters can therefore be estimated in a single-stage using the max-
imum score procedure. To accommodate the kinked impact of population on store counts
(recall the spline …gures in Section 2), we allow the baseline impact of population (on Wal-
Mart’s pro…ts) in the model without         to follow a simple spline with a knot at ln(50; 000) -
roughly the population required to support a second store (see Section 2). Note that we did


                                                 27
not need to do this for the main speci…cation, as the …xed e¤ects could accommodate this
(or any other) feature of the data non-parametrically in the …rst stage. This is an additional
bene…t of our di¤erencing approach to estimation.
   Column II of Table 1 reports these results. The e¤ects of competition from rivals are all
biased towards zero. Rival stores are clearly proxying for unobserved spikes in the relative
desirability of particular markets. The coe¢ cient on the distance to the nearest distribution
center is biased away from zero, implying that distance to DC and unobserved characteristics
are negatively correlated. This suggests that …rms site their distribution centers closer to
the unobservably ‘good’places to locate a store, an intuitive result. Finally, the own e¤ects
are also biased toward zero, but this again requires an analysis of the marginal e¤ects since
it involves three parameters. Table 9 (in Appendix A) repeats the marginal e¤ect analysis
presented in Table 2, focusing exclusively on own e¤ects and presenting results both with
and without : As with the rival e¤ects, we …nd that net chain e¤ects are biased toward
zero when one ignores the presence of market-level unobservables. Without ; the model
confounds unobserved features of the market which are attractive to all three …rms with a
desire to cluster their stores.
   Finally, the importance of unobservable characteristics can also be seen by comparing
the value of the score function under di¤erent speci…cations. When the unobserved market
characteristic is ignored (Column II), the estimator correctly satis…es approximately 74% of
the sampled inequalities. This score jumps to 97% when the unobservable is accounted for,
highlighting the role of common market-level unobservables in explaining entry behavior.
Robustness Check: Estimation Based on Only Recent Store Placement
   While the inherent non-stationarity of the discount store industry makes a fully dynamic
model of retail competition intractable using current methods, we can examine the robust-
ness of our static framework by focusing on recently placed stores, taking the pre-existing
locations as given. In particular, we re-estimate the model using only those stores sited af-
ter 2000 (the earliest date for which would could obtain data from Trade Dimensions). As
noted earlier, Kmart has not opened any stores in past decade, so this part of the analysis
will focus only on the actions of Wal-Mart and Target (although we do condition on the
presence of existing Kmart stores). Both Wal-Mart and Target were quite active during



                                             28
this period (2000-2006), with Wal-Mart adding 760 new stores in 294 markets and Target
adding 471 new stores in 168 markets.
       The estimates from this speci…cation are reported in Column III of Table 1. The own
and rival e¤ects are qualitatively similar to those of the full model, providing some degree
of cross-validation. The coe¢ cients and marginal e¤ects (not reported) are all larger in
magnitude. This is to be expected since the most recently placed stores are constrained
by the fact that many of the best locations were already …lled in prior periods. Similarly,
the coe¢ cient on distance to the nearest distribution center is now positive and signi…cant,
re‡ecting the fact that the newest stores are mostly on the periphery of the existing networks.

4.1      Counterfactual: Illustrating the Role of Positive Spillovers within a
         Chain

The previous section characterized the relative magnitude of rival and own (chain) e¤ects
using comparative statics. We now address the full equilibrium implications of the local
chain e¤ect though a counterfactual exercise. In particular, we use the …rst order conditions
described in Section 3.2 to solve for the new con…guration that obtains when local chain
e¤ects are “turned o¤”. This exercise highlights two important sources of ‡exibility in
our modeling strategy. First, we can accommodate any number of …rms, while previous
approaches were restricted to either a single …rm (Holmes (2008)) or a pair of …rms (Jia
(2008), Nishida (2008)). Second, since our model does not require that spatial spillovers
be positive, we can handle cases (such as this) in which business stealing overwhelms local
chain e¤ects on net. To capture the equilibrium impact of local chain e¤ects, we construct
a counterfactual scenario in which each …rm views its other stores symmetrically to those
of its rivals when siting a new store. In other words, the chain e¤ect no longer dampens
the impact of increasing the portfolio of own stores. The di¤erence in the resulting store
distributions quanti…es the local network e¤ect.20
       To simulate this counterfactual scenario, we return to the set of inequalities described
in Section 3.2, which are based on the assumption that each …rm equates the marginal
  20
    In practice, the di¤erence between this result and reality may understate the e¤ect of agglomeration
e¤ects, because the business stealing e¤ects associated with rivals’ stores are likely to be smaller than the
business stealing e¤ects associated with a …rm’s own stores, as its own stores will be closer substitutes for
one another. In this counterfactual, we have set own = other even though eliminating all agglomerative
bene…ts would likely imply own < other :


                                                     29
pro…tability of the last store in each market up to an integer constraint. Recall from
Inequalities (5) and (6) that this implies:

            f     f
            2;j (Nj    + 1; Njf ; ) +         j    < cf           f     f    f
                                                                  1;j (Nj ; Nj ;   )+   j;   if Njf > 0
            f     f
            2;j (Nj    + 1; Njf ; ) +         j    < cf ;                                    if Njf = 0; 8j; f

       In general, we can construct counterfactual equilibria by solving for the store con…gura-
tions that satisfy these inequalities under alternative values of the                         parameters (or any of
the covariates).21 However, two complications arise in practice. First, there may be more
than one set of con…gurations that satisfy this set of inequalities, re‡ecting a multiplicity
of equilibria in the underlying game. For example, consider a market that initially has
two Target stores and two Wal-Mart stores. Under the counterfactual scenario, without
the bene…ts arising from being part of a chain, one store may exit, but that store could
either be a Target or a Wal-Mart store. In the exercises that follow, we will resolve this
problem using a selection rule. Second, because there are only three players, we could only
bound the values of cf and                j       in estimation, creating an additional source of slackness.
The second source of slackness implies that any counterfactual equilibrium con…guration
(N K ; N T ; N W ) must satisfy a set of inequalities that takes these intervals into account:

           f
           2;j   +   j;low   < cfhigh and cflow             f
                                                            1;j   +    j;high ;               if Njf > 0          (7)
           f
           2;j   +   j;low   < cfhigh ;                                                       if Njf = 0; 8j; f   (8)

       Under a counterfactual scenario that imagines each store’s pro…t is a¤ected equally by ri-
val stores and by stores in the same chain (i.e., no agglomeration bene…ts), the con…guration
                                                             f;Other
of stores will satisfy the above inequalities with f;Own = ^         and T;Own2 = T;Own3 =
0. To …nd these con…gurations, we …rst solve for the real-valued choices (N K ; N T ; N W ) that
  21
    Here we have held the marginal pro…tability of the last store, cf constant for each …rm. In essence,
this assumes that the …rm’s access to capital remains …xed in the counterfactual scenario. Because stores
themselves become more or less pro…table in the counterfactual scenario, the total number of store built will
change. An alternative approach would have been to hold the total number of stores owned by each …rm
…xed, and allow them to allocate those stores so that the marginal pro…tability of the last store is the same
across locations, but takes on a di¤erent value than the cf we observe.
  Without a speci…c model for how …rms construct their distribution networks, we cannot simulate how
these networks might change under di¤erent counterfactual scenarios. Here, we have held these networks
…xed. However, the e¤ect of distance to the nearest distribution center was not signi…cant in our estimates,
so we cannot predict whether and how this restriction in‡uences our results.


                                                                  30
exactly solve a related system of equalities formed by using values of cf and                j   at the mid-
points of their respective intervals. We then search over a grid of discrete values near this
real-valued solution.22 For example, if the real-valued solution has 0.3 Kmart stores, 1.4
Target stores, and 3.2 Wal-Mart stores, we search over the 8 possible con…gurations where
Kmart has 0 or 1 stores, Target has 1 or 2 stores, and Wal-Mart has 3 or 4 stores. This
algorithm succeeds in …nding at least one con…guration of stores that satis…es all inequalities
in the markets we consider.23
       Not surprisingly, in many markets there are several con…gurations of stores that can
satisfy all (2    # …rms) equalities. In the results presented below, we have selected the
con…guration of stores that is closest to the original observed equilibrium con…guration.24
Ties in this measure are broken by favoring Wal-Mart (allowing it to expand the most or
contract the least), followed by Target, then Kmart. The results are qualitatively similar
when using alternative equilibrium selection rules.
       Table 5 summarizes the results of this counterfactual simulation. When we eliminate
the local bene…ts associated with being a chain, leaving only the congestion or business
stealing e¤ect, all three …rms either maintain or reduce the number of stores they operate.
In over half of the small markets (those with population less than 200,000), the observed
con…guration of stores still satis…es the new set of inequalities. These are markets where
…rms have one or two stores at most, where …rms are not currently taking much advantage
of positive spillovers and removing these bene…ts does not change siting behavior. However,
nationwide the number of stores falls by 47% from 5,886 to 2,761 stores in the markets
considered. Kmart’s reduction is especially dramatic, as it exits 522 markets entirely. This
suggests that their presence in many markets is driven by the ability to take advantage
of local chain economies. The same can be said for Target, which experiences signi…cant
declines especially in the metropolitan areas with populations’over 1 million. These seem to
be precisely the markets where Target currently takes the most advantage of agglomeration.
  22
     The task of searching for con…gurations that satisfy all inequalities is simpli…ed considerably by the
speci…cation of our model. Because there are no cross-market spillovers, the (2 #…rms) inequalities can be
solved separately for each of the L locations, rather than solving (2 #…rms L) inequalities simultaneously.
  23
     We simulate the counterfactual equilibria for 1344 of the 1351 markets, dropping the 7 markets where
the market-speci…c j intervals that satisfy the individual …rms’inequalities fail to overlap. See footnote 16
in Section 3.2.
  24
     We de…ne the “closest” equilibrium as the one with the minimum absolute di¤erence between counter-
factual and observed numbers of stores.


                                                     31
                      Table 5: Counterfactual 1: Change in Number of Stores
 Type of Market           #            Population                Markets with                  Average Change in
                                   min          max               No Change     Total Stores      Kmart     Target   Wal-Mart
 Non-Metropolitan y      993      3,643       193,035                683               -0.34       -0.27     -0.01       -0.06
                                                                                    -15.3%       -88.1%    -12.7%       -3.0%
 Small Metropolitan      159     55,289        198,848                5                -1.36       -0.93     -0.15       -0.28
                                                                                    -37.2%      -98.8%     -17.3%     -10.1%
 Metro > 200,000         101     202,902       497,640                0                -3.82       -1.84     -0.60       -1.38
                                                                                    -51.0%       -99.1%    -33.2%     -27.9%
 Metro > 500,000         45      512,138       994,551                0                -9.36       -3.76     -2.60       -3.00
                                                                                    -61.3%     -100.0%     -61.2%     -36.1%
 Metro >1 million        46     1,024,678    18.8 million             0               -38.28      -10.67    -15.57      -12.04
                                                                                    -70.1%       -95.6%    -82.5%     -47.9%
 Total                  1344      3643       18.8 million            688               -2.33       -0.94     -0.69       -0.70
                                                                                    -24.0%       -93.4%    -33.9%       -8.5%

y Includes 554 micropolitan statistical areas and 439 isolated counties.
Figures in italics represent the mean of the percentage declines for each …rm in each market.




5     Conclusions

Many of the most important sectors in the U.S. economy are characterized by a small
number of …rms making many interlinked entry decisions over a large choice set (i.e., a
high-dimension network game).               This market structure creates considerable di¢ culty for
the economic modeling of entry behavior.                     In particular, the large number of possible
con…gurations available to …rms rules out using the traditional likelihood-based approaches
(assuming either complete or incomplete information) to modeling games. In this paper,
we propose an alternative approach based on pro…t inequalities (Pakes et al. (2006), Bajari
et al. (2007)).        Basing identi…cation only on the premise that the …rm chose its best
possible con…guration (given the equilibrium play of its rivals), this approach avoids ever
having to solve for an equilibrium or even specify a selection mechanism. Nor does it ever
require that we solve for the probability of seeing each of an almost uncountable number
of con…gurations.        Implementing this estimator is complicated by the fact that we need
to control for the e¤ect on entry of market attributes, many of which are unobserved. We
show how this can be accomplished by using the logic of a di¤erence-in-di¤erences estimator
nested inside these inequalities.
    We conclude by noting two limitations of our analysis (or, alternatively, opportunities

                                                            32
for future research).   First, we model entry behavior as a static game.       Even with the
methods described above, this is a challenging exercise, but it is clearly ignores the dynamics
that unfolded over the long time frame over which Target, Kmart, and Wal-Mart built
their stores. Adding dynamics while maintaining our full strategic environment, focus on
distribution network, and choice set de…nition poses serious challenges.      Second, we are
forced to restrict our structural errors to only allow for a market-level unobservable that
is common across all …rms.     It would be desirable to allow …rms to have heterogeneous
preferences for market features that are unobserved by the econometrician. Doing so in the
present context would, however, invalidate our “double di¤erence” approach to handling
market-level unobservables.




                                              33
References

 [1] Ackerberg, D. and G. Gowrisankaran. (2007). “Quantifying Equilibrium Network
    Externalities in the ACH Banking Industry,”RAND Journal of Economics, 37(3): 738-
    761.

 [2] Andrews, D., S. Berry, and P. Jia. (2004). “Con…dence Regions for Parameters in
    Discrete Games with Multiple Equilibria,” Working Paper: Yale University.

 [3] Aguirregabiria, V. and P. Mira. (2007). “Sequential estimation of dynamic discrete
    games,” Econometrica, 75(1): 1-53.

 [4] Bajari, P., L. Benkard, and J. Levin (2007). “Estimating dynamic models of
    imperfect competition,” Econometrica, 75(5): 1331-1370.

 [5] Bajari, P. and J. Fox (2009). “Complementarities and Collusion in an FCC Spectrum
    Auction,” Working Paper: University of Chicago.

 [6] Bajari, P., J. Fox, and S. Ryan (2008). “Evaluating Wireless Carrier Consolidation
    Using Semiparametric Demand Estimation,” Quantitative Marketing and Economics,
    6(4): 299-338.

 [7] Bajari, P., H. Hong, J. Krainer, and D. Nekipelov (2006). “Estimating Static
    Models of Strategic Interactions,” Forthcoming in the Journal of Business and Eco-
    nomic Statistics.

 [8] Bajari, P., H. Hong, and S. Ryan (2009). “Identi…cation and Estimation of a
    Discrete Game of Complete Information,” Forthcoming in Econometrica.

 [9] Basker, E. (2005). “Job creation or destruction? Labor market e¤ects of Wal-Mart
    expansion,” Review of Economics and Statistics, 87: 174–183.

[10] Basker, E. (2007). “The Causes and Consequences of Wal-Mart’s Growth,”Journal
    of Economic Perspectives, 21(3): 177-198.




                                          34
[11] Beresteanu, A., I. Molchanov, and F. Molinari (2009). “Sharp Identi…cation
    Regions in Models with Convex Predictions: Games, Individual Choice, and Incomplete
    Data, ” Cenmap Working Paper #CPW27/09.

[12] Beresteanu, A. and F. Molinari (2008). “Asymptotic Properties for a Class of
    Partially Identi…ed Models, ” Econometrica, 76(4): 763-814.

[13] Berry, S. (1992). “Estimation of a Model of Entry in the Airline Industry,” Econo-
    metrica, 60(4): 889-917.

[14] Berry S. (1994). “Estimating Discrete Choice Models of Product Di¤erentiation,”
    RAND Journal of Economics, 25(2): 242-262.

[15] Berry, S., J. Levinsohn, and A. Pakes (1995). “Automobile Prices in Market
    Equilibrium,” Econometrica, 63(4): 841-890.

[16] Bresnahan, T. and P. Reiss (1990). “Entry in Monopoly Markets,”Review of Eco-
    nomic Studies, 57(4): 531-553.

[17] Bresnahan, T. and P. Reiss (1991). “Entry and Competition in Concentrated Mar-
    kets,” Journal of Political Economy, 99(5): 977-1009.

[18] Ciliberto, F. and E. Tamer (2009). “Market Structure and Multiple Equilibria in
    Airline Markets,” Econometrica, 77(6): 1791-1828.

[19] Ellickson, P. (2007). “Does Sutton Apply to Supermarkets?,”RAND Journal of Eco-
    nomics, 38(1): 43-59.

[20] Fox, J. (2006). “Estimating Matching Games with Transfers,” Working Paper: Uni-
    versity of Chicago.

[21] Fox, J. (2007). “Semiparametric Estimation of Multinomial Discrete Choice Models
    Using a Subset of Choices,” RAND Journal of Economics, 38(4): 1002-1019.

[22] Han, A. (1987). “Nonparametric Analysis of a Generalized Regression Model: The
    Maximum Rank Correlation Estimator,” Journal of Econometrics, 35(2-3): 303-316.



                                           35
[23] Hausman, J. and E. Leibtag (2005). “Consumer Bene…ts from Increased Competi-
    tion in Shopping Outlets: Measuring the E¤ect of Wal-Mart,” NBER Working Paper
    No. 11809.

[24] Holmes, T. (2008). “The Di¤usion of Wal-Mart and Economies of Density,”Working
    Paper: University of Minnesota.

[25] Jia, P. (2008). “What Happens When Wal-Mart Comes to Town: An Empirical Analy-
    sis of the Discount Retail Industry,” Econometrica, 76(6): 1263-1316.

[26] Manski, C. (1975). “Maximum Score Estimation of the Stochastic Utility Model of
    Choice,” Journal of Econometrics, 3(3): 205-228.

[27] Manski, C. (1985). “Semiparametric Analysis of Discrete Response,” Journal of
    Econometrics, 27(3): 313-333.

[28] Manski, C. and E. Tamer (2002). “Inference on Regressions with Interval Data on
    a Regressor or Outcome,” Econometrica, 70(2): 519-546.

[29] Mazzeo, M. (2002). “Product Choice and Oligopoly Market Structure,”RAND Jour-
    nal of Economics, 33(2): 221-242.

[30] Neumark, D., J. Zhang, and S. Ciccarella (2008). “The E¤ects of Wal-Mart on
    Local Labor Markets,” Journal of Urban Economics, 63(3): 405-430.

[31] Nishida, M. (2008). “Estimating a Model of Strategic Store-Network Choice,”Work-
    ing Paper: Johns Hopkins University.

[32] Pakes, A. (2008). “Theory and Empirical Work on Imperfectly Competitive Markets,”
    Working Paper: Harvard University.

[33] Pakes, A., M. Ostrovsky, and S. Berry. (2007). “Simple estimators for the pa-
    rameters of discrete dynamic games (with entry-exit examples),” RAND Journal of
    Economics, 38(2): 373-399.

[34] Pakes, A., J. Porter, K. Ho, and J. Ishii (2006). “Moment Inequalities and Their
    Application,” Working Paper: Harvard University.

                                           36
[35] Pesendorfer M. and P. Schmidt-Dengler. (2008). “Asymptotic least squares es-
    timators for dynamic games,” Review of Economic Studies, 75(3): 901-928.

[36] Seim, K. (2006). “An Empirical Model of Firm Entry with Endogenous Product-Type
    Choices,” RAND Journal of Economics, 37(3): 619-640.

[37] Smith, H. (2004). “Supermarket Choice and Supermarket Competition in Market
    Equilibrium,” Review of Economic Studies, 71(1): 235-265.

[38] Sinnott, R.W. (1984). “Virtues of the Haversine,” Sky and Telescope, 68(2): 159.

[39] Tamer, E. (2003). “Incomplete Simultaneous Discrete Response Model with Multiple
    Equilibria,” Review of Economic Studies, 70(1): 147-165.

[40] Zhu, T., and V. Singh. (2009). “Spatial Competition with Endogenous Location
    Choices - An Application to Discount Retailing,” Quantitative Marketing and Eco-
    nomics, 7(1): 1-35.

[41] Zhu, T., V. Singh, and M. Manuszak. (2009). “Market Structure and Competition
    in the Retail Discount Industry,” Journal of Marketing Research, 46: 453–466.




                                          37
A        Additional Description of Data

The data for the discount store industry are taken primarily from the Trade Dimensions
Retail Tenant Database for 2006. This proprietary dataset contains all 6,150 Wal-Mart,
Kmart, and Target stores in operation in the continental United States as of August 2006.
These include both pure discount stores that carry general merchandise and newer super-
center formats that also carry full grocery lines.25 Because of the additional di¢ culty in
modeling a …rm’s choice of store format, we do not distinguish between these two types of
stores in our current application.
       Stores are assigned to markets based on the county in which they are located. Where
possible,26 adjacent counties are grouped together into single markets according to the 2005
Census de…nitions for CBSAs. These statistical areas contain an average of 1.9 counties and
include both a core urban area and any adjacent counties that are closely linked economically
and socially. Metropolitan areas are those with a core urban area with a population of at
least 50,000, and micropolitan areas are those with a core urban area with a population
from 10,000 to 50,000.
       We believe that using CBSA’s to de…ne markets is more appropriate than using counties
alone since they typically de…ne a more natural “shopping area” by grouping interrelated
counties together. The same criticism that applies to using large counties (e.g., Los Angeles
County) to measure markets also applies here –all stores in the largest metro areas probably
do not compete equally with one another. However, this broad market de…nition allows us
to capture any positive supply-side spillovers that may potentially occur between stores of
the same chain located in the same MSA.
       We have collected demographic and economic data on each market from the U.S. Census
Bureau. The most recent population estimates at the CBSA and county levels are available
from the Census Population Division for July 2006. Household median income and average
household size are aggregated from the county level from the 2000 Census. We also include
the percentage of the metro or micro area population that is located in an urban area,
  25
     We exclude Sam’s Club stores, owned by Wal-Mart, because these warehouse clubs do not compete
directly with Kmart and Target stores. Furthermore, they are served by separate distribution facilities from
those that serve Wal-Mart stores.
  26
     A total of 439 counties with discount stores are relatively isolated and are not included as part of any
Census-de…ned CBSA. These counties are included as individual markets in our estimation.


                                                     38
collected from the website of the Missouri Census Data Center.
   The Trade Dimensions database contains the locations of each of the 113 distribution
centers that serve the stores in our analysis. Wal-Mart is vertically-integrated, owning
all 70 distribution centers that supply its stores. Kmart and Target operate most of the
distribution centers that supply their stores, 13 and 24 centers, respectively. However, a
small number of their stores rely on third-party distributors. We include the locations of
one Merchants Distributors center and …ve SuperValu distribution centers that serve Kmart
and Target stores, respectively. Using the Haversine formula, we calculate the distance from
the population-weighted centroid of each market to the county of the closest distribution
center for each …rm.
   Summary statistics for these markets are provided in Tables 6 and 7. Of the 1351
markets that contain at least one discount store, 358 are metro areas, 554 are micro areas,
and 439 are counties outside a metro or micro area. Population estimates for 2006 range
from 3,643 (in Norton, VA) to over 18.8 million (in New York-Northern New Jersey-Long
Island). The number of discount stores per market ranges from 1 to 161 stores (in the
Chicago market), but this distribution is highly skewed. The median number of stores per
market is 1, and 75% of markets have 3 or fewer stores. Table 8 documents the expansion
of Target and Wal-Mart between 2000 and 2006. Kmart did not add stores in any markets
during this time period; instead it closed 710 stores following its bankruptcy in early 2002.




                                             39
                           Table 6: Summary Statistics by Market
                                                   Obs       Mean     Std. Dev.       Min          Max
    Population in 2006                            1351     213,424      860,138      3,643   18,818,536
    Land area (in sq. miles)                      1351    1,448.41     1,961.37       5.67    27,259.87
    Population density                            1351      119.23       199.60       1.76     2,797.94
    Average household size                        1351        2.53         0.18       2.18         3.75
    Median income                                 1351     $34,742       $6,816    $16,271      $73,874
    Percentage urban population                   1351        0.52         0.22          0            1
    Metropolitan Statistical Area                 1351        0.26         0.44          0            1
    Micropolitan Statistical Area                 1351        0.41         0.49          0            1
    Northeast                                     1351        0.08         0.28          0            1
    Midwest                                       1351        0.32         0.46          0            1
    South                                         1351        0.46         0.50          0            1
    West                                          1351        0.14         0.34          0            1
    Distance to closest Kmart DC (in miles)       1351      192.08       113.45       0.14       661.64
    Distance to closest Target DC (in miles)      1351      144.20        96.81       0.70       682.44
    Distance to closest Wal-Mart DC (in miles)    1351       90.53        62.76       0.75       507.60
    Number of discount stores                     1351        4.55        11.84          1          161
    Number of Kmart stores                        1351        1.01         2.89          0           43
    Number of Target stores                       1351        1.07         4.53          0           72
    Number of Wal-Mart stores                     1351        2.48         5.34          0           85




                                Table 7: Summary Statistics by Store
                                          Kmart                   Target                    Wal-Mart
                                       Mean   Std. Dev.        Mean    Std. Dev.          Mean   Std. Dev.
Population in 2006                 2,254,909  3,926,236    3,523,082   4,301,172      1,671,212  2,993,719
Land area (in sq. miles)             3515.56    3795.60      4922.78     4200.67        3417.85    3719.22
Population density                    513.46     634.61       700.23      717.17         371.05      495.78
Average household size                  2.56       0.20         2.62        0.20           2.57        0.19
Median income                     $41,640.98  $7,578.02   $45,519.59   $7,475.11     $39,731.92  $8,038.29
Percentage urban population             0.76       0.20         0.86        0.13           0.70        0.23
Average Weekly Sales Volume         $241,942    $85,461     $670,149    $184,103       $991,846   $346,157
Metropolitan Statistical Area           0.78       0.42         0.95        0.21           0.68        0.47
Micropolitan Statistical Area           0.17       0.38         0.04        0.20           0.19        0.39
Northeast                               0.18       0.38         0.12        0.33           0.11        0.32
Midwest                                 0.31       0.46         0.28        0.45           0.25        0.43
South                                   0.33       0.47         0.34        0.47           0.49        0.50
West                                    0.18       0.39         0.26        0.44           0.15        0.36
Distance to HQ (in miles)             713.24     567.09       913.92      428.08         695.32      368.72
Distance to closest own DC            153.17     121.57       117.83       95.08          75.93       52.57
    (in miles)
Number of Stores                          1362                       1443                     3345




                                                    40
        Table 8: Comparing All Markets with Markets of Recently Placed Stores
                  Firm                          Target    Walmart
                  # Stores                       1443       3345
                  # Markets                      381        1309
                  # Net New Stores               471         760
                  # Locations with New Stores    168         294

                  All Markets where Firm is Present
                  Avg. Population                648,895      219,059
                  Percent Metro                    83%         27%
                  Percent Micro                    15%         41%

                  Markets with Expansion Since 2000
                  Avg. Population               1,042,212     743,352
                  Percent Metro                    91%         70%
                  Percent Micro                    7%          17%


               Table 9: Marginal E¤ect of N own on   Own Per-Store Pro…ts
                 Population Model         Kmart      Target Wal-Mart
                    50000     with         -26.6      -28.7    -30.8
                              without       -7.5      -15.3     -9.2

                    100000     with         -20.6     -23.8    -20.8
                               without       -6.0     -15.6     -6.3

                    500000     with         -6.9      -9.0      -7.2
                               without      -2.0      -7.0      -1.7

                   1200000     with         -3.5      -4.4      -3.4
                               without      -1.0      -3.0      -0.4

                   2500000     with         -1.8      -2.2      -2.3
                               without      -0.4      -1.1      -0.3


Marginal e¤ects are evaluated at the number of stores the …rm typically has in markets
with the given level of population. For example, in markets with 50,000, Target and
Kmart typically have just 1 store if they are present in the market, while Wal-Mart
typically has 2 stores. The marginal e¤ects are evaluated at these levels.



                                           41
B       Decomposing Market-Level Fixed E¤ects with Beresteanu
        and Molinari (2008)

After recovering interval estimates of market-level …xed e¤ects using the bounding procedure
described in Section 3.2, we estimate the parameters for the best linear predictor of                                      in
the interval [     L; U ]    conditional on X. Suppose X were to consist of two variables, x1 and
x2 . Then the population set-valued best linear predictor is de…ned as
         (                                                                                                          )
                                                         1
               1        1        E(x21 )    E(x1 x2 )        E(x1 )
       =          :          =                  2                      ; 2[                              L; U ]
               2        2        E(x2 x1 ) E(x2 )            E(x2 )

    The estimate b is obtained by using the sample analogs of the above expectations. The
                                                             1
third term in brackets can simply be estimated by 1 X 0 X      , which we will denote ^ 1 .
                                                                            J
The last term in brackets can be written as E(G), where G is a set-valued random variable
re‡ecting all possible values of X 0 , given that                      is bounded by   L   and   U:

                                                     x1
                                       G=                      :       2[   L; U ]
                                                     x2
                                                                                                                1   LJ
    The sample analog to this expectation is given by the Minkowski average GJ =                                J       j=1 Gj :
That is, for each observation j, Gj is a line segment with endpoints (x1;j                            Lj ; x2;j Lj )     and
(x1;j   U j ; x2;j U j ).   The Minkowski sum of Gj , from j = 1::J, adds all these segments to
form a many-sided polygon. Figure 4 illustrates the Minkowski sum of line segments cor-
responding to ranges of           for two di¤erent markets (in our application, we would sum over
all 1351 markets).
    The polygon generated by the Minkowski sum is then transformed by (X 0 X)                               1   to obtain
an estimate of the set           =[   1;   2 ].   Therefore,

                                                      b=^          1
                                                                       GJ                                                 (9)

    In general, if there are K covariates in X, this estimated set b will be a K-dimensional
polytope. In our application, the X variables include a constant term and various location-
speci…c characteristics, such as the natural log of population and median income, the av-
erage household size, the percent of the area’s population living in urban areas, the pop-
ulation density, and regional dummies. It is computationally di¢ cult (if not impossible)
to Minkowski sum such a high-dimensional set-valued random variable. However, we can

                                                          42
                                         Figure 4: Minkowski Summation

estimate a subset of the parameters of the best linear predictor using the same logic as the
Frisch-Waugh-Lovell Theorem for partial regression in point-identi…ed models. For exam-
ple, to estimate the set of possible coe¢ cients on ln(population) and ln(median income), we
…rst obtain the residuals from a linear regression of ln(population) on all other X variables
besides ln(median income) and the residuals from a linear regression of ln(median income)
on all other X variables besides ln(population). We then denote these x
                                                                      ~1 and x
                                                                             ~2 and use
them in place of x1 and x2 above.
      By the same partial regression logic, we can also estimate one-dimensional projections of
the identi…cation region. For example, the identi…cation region of the best linear predictor
coe¢ cient for a single               can be estimated by the interval      27
                                  k
                              2                                                                     3
                                 J
                                 X                                      J
                   1          41                                      1X
      ^k =   1   PJ                min f~
                                        xk;j        Lj ; x
                                                         ~k;j   Ujg ;     max f~
                                                                               xk;j        ~k;j U j g5
                                                                                      Lj ; x             (10)
                      ~2k;j
                  j=1 x
                               J                                      J
             J                        j=1                             j=1

      ~k;j is the residual from the j th observation in a regression of xk on the other x
where x                                                                                                    k,

including the constant term.
      For both the one-dimensional and two-dimensional projections, con…dence sets can be
formed by bootstrapping and computing the Hausdor¤ distance between the estimated set
for the original sample and the estimated set for each bootstrapped sample, H( b ; ^ ).28
 27
  This simple result comes from Corollary 4.5 of Beresteanu and Molinari (2008).
 28
  We account for the estimation error from the …rst stage by incorporating the bootstrapped estimates of
 when forming the intervals for j .


                                                         43
Under standard regularity conditions, Beresteanu and Molinari (2008) show that r =
p
  nH( b ; ^ ) is asymptotically normally distributed. Therefore, we can use the 95th per-
centile of the empirical distribution of r to construct bounds on the collection of all sets
that, when speci…ed as the null hypothesis for the true value of the population identi…cation
region for , cannot be rejected at a 95% con…dence level. This is analogous to forming a
95% con…dence interval for a point estimate.




                                             44
