                              NBER WORKING PAPER SERIES


            A WELFARE ANALYSIS OF TAX STRUCTURES WITH LOVE-OF-
                          VARIETY PREFERENCES

                                          Kory Kroft
                                    Jean-William P. Laliberté
                                       René Leal Vizcaíno
                                    Matthew J. Notowidigdo

                                      Working Paper 28838
                              http://www.nber.org/papers/w28838


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                     May 2021

This paper extends and replaces a previously-circulated 2017 working paper by the same authors
titled "Quantifying the welfare gains of variety: A sufficient statistics approach." We thank
Simon Anderson, Raj Chetty, Julie Cullen, Amy Finkelstein, Nathan Hendren, Louis Kaplow,
Henrik Kleven, Nicholas Li, Jesse Shapiro, Rob Porter, Aviv Nevo, Stephen Coate, and
numerous seminar participants for helpful comments. We thank Eileen Driscoll, Robert French,
Adam Miettinen, Boriana Miloucheva, Pinchuan Ong, Shahar Rotberg, Marc-Antoine Schmidt,
Stephen Tino, Jessica Wagner, Ting Wang, and Haiyue Yu for extremely valuable research
assistance. We gratefully acknowledge funding from the Social Sciences and Humanities
Research Council (SSHRC). Any opinion, findings, and conclusions or recommendations
expressed in this material are those of the authors(s) and do not necessarily reflect the views of
the SSHRC. This research is based in part on data from The Nielsen Company (US), LLC
and marketing databases provided through the Nielsen Datasets at the Kilts Center for
Marketing Data Center at The University of Chicago Booth School of Business. The
conclusions drawn from the Nielsen data are those of the researchers and do not reflect the
views of Nielsen. Nielsen is not responsible for, had no role in, and was not involved in
analyzing and preparing the results reported herein. The views expressed herein are those of
the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2021 by Kory Kroft, Jean-William P. Laliberté, René Leal Vizcaíno, and Matthew J.
Notowidigdo. All rights reserved. Short sections of text, not to exceed two paragraphs, may be
quoted without explicit permission provided that full credit, including © notice, is given to the
source.
A Welfare Analysis of Tax Structures with Love-of-Variety Preferences
Kory Kroft, Jean-William P. Laliberté, René Leal Vizcaíno, and Matthew J. Notowidigdo
NBER Working Paper No. 28838
May 2021
JEL No. H20,H22,H71

                                          ABSTRACT

This paper reassesses the general trade-off between ad valorem and specific taxation using an
economic model that features love-of-variety preferences and encompasses a wide range of
market conduct ­including both quantity and price competition ­ while allowing for firm entry
and exit. We derive formulas for efficiency and incidence of both types of taxes that depend on
the responsiveness of product variety to taxes and the effect of a change in product variety on
consumer surplus. We use our formulas to derive a desirability condition for when ad valorem
taxes are more efficient than specific taxes and a condition for when ad valorem taxes lead to
greater pass-through than specific taxes. We identify and estimate the model parameters using a
quasi-experimental ``county border pair'' research design that uses state-level and county-level
variation in sales taxes combined with detailed scanner data covering grocery stores in the U.S.
Our empirical results indicate that sales taxes are slightly overshifted onto consumer prices, have
a large effect on quantity demanded, and have a more modest effect on the variety of products
available to consumers. Using the estimated parameters, we recover consumers' love-of-variety,
infer whether or not product variety is socially optimal (at current tax rates), and implement our
desirability condition. We find that specific taxes are more efficient at the margin than ad
valorem taxes given the estimated love-of-variety. This suggests that policymakers should
consider using specific taxes and tariffs in markets with substantial product differentiation.

Kory Kroft                                       René Leal Vizcaíno
Department of Economics                          Bank of Mexico
University of Toronto                            Avenida 5 de Mayo 2
150 St. George Street                            Colonia Centro
Toronto, ON M5S 3G7                              Código postal 06000
CANADA                                           Alcaldía Cuauhtémoc
and NBER                                         Ciudad de México
kory.kroft@utoronto.ca                           México
                                                 rlealv@banxico.org.mx
Jean-William P. Laliberté
Department of Economics                          Matthew J. Notowidigdo
University of Calgary                            University of Chicago
2500 University Drive NW                         Booth School of Business
Calgary, Alberta, T2N 1N4                        5807 S Woodlawn Ave
CANADA                                           Chicago, IL 60637
jeanwilliam.lalibert@ucalgary.ca                 and NBER
                                                 noto@chicagobooth.edu



A data appendix is available at http://www.nber.org/data-appendix/w28838
1         Introduction
One of the longstanding questions in economics concerns the relative efficiency and incidence
of ad valorem taxation versus specific taxation. Starting with Wicksell (1896, 1959), a volu-
minous literature has found that in models featuring monopoly and oligopoly markets with
homogeneous products, ad valorem taxes are more efficient than specific taxes and are asso-
ciated with lower consumer prices both in the short run with a fixed number of firms and
in the long run with free entry (Suits and Musgrave 1953, Cournot 1960, Dierickx, Matutes
and Neven 1988, Delipalla and Keen 1992, Myles 1996, Skeath and Trandel 1994, Keen 1998,
Denicolò and Matteuzzi 2000, Auerbach and Hines 2001, Blackorby and Murty 2007). Sim-
ilar results that compare ad valorem tariffs to specific tariffs exist in the international trade
literature (see Helpman and Krugman 1989 and Kowalczyk 1990).
        While several influential papers have shown that specific taxes can dominate ad valorem
taxes in the long run when consumers exhibit love-of-variety preferences (see, for example,
Anderson, De Palma and Kreider 2001b and Hamilton 2009), they consider specific settings;
for example, they assume a particular type of market structure and/or class of preferences.
They also do not attempt to derive general formulas that connect the efficiency cost or pass-
through of a tax with economic fundamentals, as in Chetty (2009) (efficiency) and Weyl and
Fabinger (2013) (pass-through). The remark in Keen (1998) thus still remains relevant today:
"The models of imperfect competition used in the [taxation] literature are ... special cases ...
[T]here remains much to be done ­ for example, exploring richer models ... and examining
empirically the impact of tax structure on product quality and variety."
        Beyond this academic interest, understanding the efficiency and incidence of different tax
structures is also practically relevant since governments rely on both ad valorem taxes and
specific taxes as major sources of tax revenue. For example, in the U.S. in 2019, roughly
336 billion dollars in state tax revenue was collected through ad valorem taxes (retail sales
taxes) and 77 billion dollars was collected via specific taxes.1 Given the prevalence of both
types of taxes, it is important to evaluate the robustness of the theoretical results derived in
special settings and to derive formulas characterizing the efficiency cost and incidence of each
tax that are tightly connected to estimable reduced-form elasticities (or "policy" elasticities,
in the language of Hendren 2016). Such formulas facilitate empirical implementation using
quasi-experimental tax variation, and thus can shed light on the welfare effects of alternative
    1
     See the U.S. Census Bureau's 2019 State Government Tax Tables. About 100 billion dollars is collected
in federal excise tax revenue, a fraction of which is levied through specific taxes (e.g. gasoline) and another
through ad valorem taxes (e.g. airline tickets). See https://www.taxpolicycenter.org/briefing-book/what-are-
major-federal-excise-taxes-and-how-much-money-do-they-raise for details.


                                                      1
tax structures that are available to policymakers.
       In this paper, we reassess the general trade-off between ad valorem and specific taxation
using an economic model that features love-of-variety preferences and encompasses a wide
range of market conduct ­ including both quantity and price competition ­ while allowing for
firm entry and exit. We derive formulas for efficiency and incidence of specific and ad valorem
taxation that depend on the responsiveness of product variety to taxes and the effect of a
change in product variety on consumer surplus ­ hereafter referred to as the "variety effect".
Our formulas allow us to derive a straightforward desirability condition for when ad valorem
taxes are more efficient than specific taxes and a condition for when ad valorem taxes lead to
greater pass-through than specific taxation.
       We estimate the inputs into our formulas using quasi-experimental variation in ad valorem
taxes (sales taxes), use the resulting parameters estimates to calibrate the welfare cost of an ad
valorem tax, and consider two additional applications. First, we use the estimated parameters
to counterfactually calibrate the efficiency cost and pass-through rate of specific taxes ­ even
though we do not actually observe independent variation in specific taxes in our empirical
setting. This is possible because our theory of taxation shows that the efficiency cost and
pass-through rate of an ad valorem tax and a specific tax are functions of the same set of
model parameters. This facilitates the implementation of our desirability condition in order
to assess whether ad valorem or specific taxes dominate in our specific empirical setting with
differentiated products, and our findings point to the welfare superiority of specific taxes, in
contrast to the conventional wisdom. We also implement our pass-through comparison and
find that specific taxes lead to greater pass-through than ad valorem taxes, which corroborates
existing results on pass-through in the literature. Second, we use the estimated parameters
to recover the "business-stealing" effect which arises in our model since the marginal entrants
do not internalize the sales that they capture from other firms in the market (Mankiw and
Whinston 1986). Comparing the estimated business-stealing effect to the estimated variety
effect, our findings indicate that variety is below the socially optimal level.2
       Section 2 characterizes the objectives of consumers and firms. Consumers exhibit love-of-
variety preferences and we allow them to misoptimize with respect to taxes following Chetty,
Looney and Kroft (2009), Taubinsky and Rees-Jones (2018), Farhi and Gabaix (2020), and
Kroft et al. (2020a).3 Our model of firm behavior follows Weyl and Fabinger (2013) and spans
   2
     For papers on socially optimal variety, see Spence (1976), Dixit and Stiglitz (1977), Vives (2001), Parenti,
Ushchev and Thisse (2017) and Dhingra and Morrow (2019). Relative to this work, we show how to combine
our model with reduced-form estimates of the effects of taxes in order to assess whether variety is socially
optimal at current tax rates.
   3
     Our results on how tax salience interact with the welfare cost and incidence of taxes in the long run mirror


                                                       2
a wide range of market conduct permitting both price-setting and quantity-setting models of
competition using conjectural variations. The equilibrium number of firms is determined by
the free-entry condition that profits are equal to zero in the long run. Finally, the government
has a revenue requirement and tax revenues (and profits) are rebated to consumers in a lump-
sum fashion.
    In Sections 3 (specific taxes) and 4 (ad valorem taxes), we derive formulas for the marginal
excess burden and pass-through of specific taxation (Proposition 1) and ad valorem taxation
(Proposition 2). We show that the marginal excess burden depends on the following reduced-
form effects: (1) the causal effect of taxes on output, (2) the causal effect of taxes on producer
prices and (3) the causal effect of taxes product variety. The effect of taxes on output is
scaled by the baseline tax rate as well as a measure of tax salience. The effect of taxes on
prices is scaled by output, and the effect of taxes on product variety is scaled by the variety
effect. While the first two terms are standard in models with homogeneous products (with
the exception of the salience parameter) (see, for example Besley 1989 and Delipalla and
Keen 1992), the last term is new and comes from product differentiation and love-of-variety
preferences.4 Intuitively, if firms react to taxation by reducing product variety, there will be
a negative externality since firms do not take into account consumer surplus at the margin
when deciding whether to offer a new product; they only internalize the effects of the tax on
profits.
    Our pass-through formulas with free entry build on results in Sullivan (1985), Bulow and
Pfleiderer (1983), Weyl and Fabinger (2013), Adachi and Fabinger (2017) and Kroft et al.
(2020a), who link pass-through rates of taxes to economic fundamentals such as the elasticity
of market demand, the elasticity of the firm's marginal cost, the curvature of the firm's own
demand, and the market conduct parameter. We extend these analyses of pass-through by
taking into account the endogeneity of product variety to taxes and present formulas in terms
of the same set of economic fundamentals alongside the variety effect.5 In the same way that
Weyl and Fabinger's pass-through formula for imperfect competition nests the homogeneous
the results in Kroft et al. (2020a) and so we do not emphasize them as much in this paper.
    4
      See de Meza (1982), Seade (1985), Stern (1987), Myles (1987) and Myles (1989) for papers studying
specific taxation in the short run (i.e., without allowing for free entry and exit).
    5
      Strictly speaking, we show that the pass-through rate for both specific and ad valorem taxation depends on
the variety effect, which enters into the marginal excess burden formulas under a parallel demands assumption
following Kroft et al. (2020b). This assumption requires that the inverse market demand curve shifts in
parallel when new varieties are added or removed from the market. This assumption allows us to empirically
implement our welfare formulas and assess whether variety is socially optimal; however, it is not necessary for
other exercises such as using the full structure of the model to construct valid estimates of the counterfactual
reduced-form effects of a specific tax (such as the pass-through rate).




                                                       3
product "short run" (fixed variety) conjectural analysis of Delipalla and Keen (1992) and
the differentiated products Bertrand pricing analysis in Anderson, De Palma and Kreider
(2001a), our formula with free entry nests the corresponding "long run" analyses in each of
these papers.6
       Using our new formulas, we characterize the conditions for when introducing a small tax
in an untaxed market increases welfare and producer prices (Corollaries 1 and 2 for specific
taxation and Corollaries 3 and 4 for ad valorem taxation). For both taxes, we find that
under certain conditions taxes can increase welfare.7 The logic is that provided that the
variety effect is not too large, there will be an excessive number of firms in the market due to
business stealing, and taxes can correct this distortion and thus improve welfare ­ an intuitive
application of the theory of second-best. Turning to pass-through, we show that the condition
for the overshifting of specific taxes onto consumer prices depends on the curvature of the
firm's own demand, and the condition for the overshifting of ad valorem taxes depends on the
curvature of the firm's own demand, the price elasticity of demand, and the variety effect. We
also compare the short-run and long-run effects of taxation on prices (Corollary 3 for specific
taxation and Corollary 6 for ad valorem taxation).
       Section 5 presents our desirability condition and a comparison of pass-through rates of
specific taxes and ad valorem taxes (Proposition 3). For welfare, we find that the desirability
condition depends on the variety effect, the elasticity of demand and the conduct parameter.
In particular, when the love-of-variety is large relative to the firm's markup, specific taxa-
tion dominates ad valorem taxation. Intuitively, when consumers have a sufficiently strong
preference for variety and there is insufficient variety in the market (relative to the social
optimum), a tax increase that reduces variety imposes additional efficiency costs. Since ad
valorem taxes tend to reduce variety more than specific taxes through what Keen (1998) calls
a "multiplier effect", this implies that specific taxation has a more favorable effect on welfare
when consumers have a strong love-of-variety.8
       Turning to pass-through, the condition for whether specific taxes are shifted more (or
   6
      Throughout this paper we use the terminology in Anderson, De Palma and Kreider (2001a) and refer
to analyses for a fixed number of varieties as "short run", and analyses allowing for endogenous number of
varieties with respect to taxes as "long run".
    7
      Besley (1989) previously demonstrated this possibility for specific taxation in a model of Cournot quantity
competition with homogeneous products.
    8
      To see this logic, consider an increase in the fixed cost of production of F and suppose that profits are
initially 0. In order for the firm to break even with a specific tax (holding constant demand responses so that
  q = 0), it has to increase the consumer price by p = F/q . However, with an ad valorem tax, the firm
has to increase the consumer price by p = F/q (1 -  ). Thus, ad valorem taxation is likely to lead to lower
product variety than specific taxation.




                                                       4
less) to prices than ad valorem taxes depends on the variety effect and the price elasticity of
demand. If the variety effect is large enough, ad valorem taxes correspond to higher consumer
and producer prices than specific taxes, contrasting with the results in Delipalla and Keen
(1992) as well as Anderson, De Palma and Kreider (2001a). It is noteworthy that our results
are different than Anderson, De Palma and Kreider (2001a) since they consider a setting with
differentiated products and Bertrand competition. We show that this discrepancy comes from
the fact that Anderson, De Palma and Kreider (2001a) impose an important assumption of
business stealing. We show that if one relaxes this restriction and allows entry to be "business
augmenting", then there exist parameter regions where the variety effect can be large enough
to reverse the ranking of pass-through across the tax structures (Corollary 7). Put a slightly
different way, our results are consistent with Anderson, De Palma and Kreider (2001a) when we
impose the same assumption of business stealing, but our analysis shows that this restriction
is not necessary for stability and ­ perhaps surprisingly ­ we show it is exactly this restriction
that ends up ruling out parameter regions where ad valorem taxes have both larger efficiency
costs and lead to higher consumer and producer prices relative to specific taxes.
   In Section 6, we use our tax formulas to organize our empirical analysis, which focuses on
estimation of the following reduced-form effects of ad valorem taxation: (1) the causal effect
of taxes on pre-tax prices ( p ), (2) the causal effect of taxes on quantity demanded ( Q ),
and (3) the causal effect of taxes on product variety ( J ). Using Nielsen Retail Scanner data
covering grocery stores selling consumer goods in the U.S. combined with detailed product-
level and county-level retail sales tax data, we estimate these causal effects by implementing
a cross-sectional "county border pair" research design (Holmes 1998, Dube, Lester and Reich
2010). This design exploits tax rate differentials between taxed and tax-exempt products
(including products taxed at reduced rates) across nearby stores located in contiguous counties
across state borders and thus controls flexibly for store-level heterogeneity as well as product-
level heterogeneity that is common across stores within a county border pair. Our estimates
indicate that sales taxes are slightly overshifted onto consumer prices and have a large effect on
quantity demanded. We also find that sales taxes meaningfully reduce the variety of products
available to consumers, with the magnitude being about one-third of the effect of sales taxes
on aggregate quantity demanded.
   Lastly, in Section 7, we recover the model parameters, calibrate the welfare formula for ad
valorem taxes, and consider several applications. We start with identification of the model
parameters. Under the assumption of constant marginal cost, our theoretical formulas for the
reduced-form effects of ad valorem taxes on equilibrium prices, market output, and product



                                                5
variety depend on (1) the price elasticity of demand (           D ),   (2) the tax salience parameter ( ),
(3) the conduct parameter (q /J ), (4) the elasticity of inverse marginal surplus (                 ms ),   which
governs the curvature of demand, and (5) the variety effect (). We calibrate                        D   = 1.223
and  = 0.528 using estimates from Kroft et al. (2020a).9 This leaves q /J ,                        ms ,   and ,
which we identify using the model-based expressions for the reduced-form effects of taxes on
prices, market output, and variety which are functions of these three parameters. As a result,
we can solve for the parameters that make the model exactly match the three corresponding
reduced-form estimates ( p ,  Q ,  J ).
    A key advantage of our identification approach is the transparent connection between the
reduced-form empirical estimates and the underlying model parameters. Specifically, we show
that the long-run free-entry condition determines the markup in terms of the reduced-form
estimates (i.e., the markup is given by - p /( Q -  J )). We then use the estimated markup to
pin down q /J , given       D,   through the firm's first-order condition. Next, given q /J , we show
that the pass-through rate pins down            ms   independently of       D   (as in Bulow and Pfleiderer
1983). Lastly,  is pinned down by the relative magnitude of the reduced-form effects of taxes
on variety and the total quantity demand (i.e.,  Q / J ). Intuitively, when  Q increases relative
to  J (holding     D   fixed), demand falls a lot for a given change in variety, which in turn reveals
that consumers have a high willingness-to-pay for variety.
    Turning to our empirical results, we estimate a conduct parameter of q /J = 0.096 (where 0
is perfect competition and 1 is perfect collusion), which suggests a high degree of competition,
as would be expected in our setting of retail grocery stores. We estimate the elasticity of inverse
marginal surplus to be        ms   = -0.935. According to our theoretical analysis, this parameter
must be negative whenever there is overshifting of ad valorem taxes, as we find empirically.
Finally, we estimate the variety effect to be  = 0.133, which is modest given that we find a
small effect of taxes on variety relative to the effect on total quantity. This can be given a
willingness-to-pay interpretation ­ i.e., an exogenous 10 percent reduction in variety reduces
average willingness-to-pay by 1.33 percent.10 Combining these model parameter estimates
with our reduced-form estimates ( p ,  Q ,  J ), we calculate a marginal excess burden of ad
valorem taxes of about 9 percent of total firm revenues, which is several times larger than a
standard Harberger benchmark that is adjusted for tax salience (about 1.3 percent of total
   9
     In Kroft et al. (2020a), we identify D using a Two-Stage Least Squares estimator, and  is identified by
taking the ratio of the tax elasticity to the price elasticity of demand, adjusted for pass-through of taxes onto
consumer prices.
  10
     One way to benchmark this magnitude is to note that it is much smaller than what would be implied by
CES-logit preferences, where the variety effect is pinned down by the inverse price elasticity of demand. This
would imply an estimate of the variety effect of around 0.818.



                                                       6
firm revenues). This estimate is almost twice as large as an alternative benchmark that
accounts for imperfect competition but ignores consumers' love-of-variety preferences, which
comes from our extension of Besley (1989) to ad valorem taxation.
      We conclude with two additional counterfactual exercises that use the full structure of
the model. First, we calibrate the business-stealing effect which requires an estimate of the
markup and the responsiveness of firm demand to new varieties. Comparing the estimated
business-stealing effect to the variety effect allows us to assess whether the privately optimal
product variety is insufficient or excessive relative to the socially optimal variety. We find
that the variety effect is larger than the business-stealing effect, which implies that variety
is lower than the social optimum. The love-of-variety parameter we estimate is about twice
the value that would lead us to conclude that variety was socially optimal (holding all other
model parameters constant).
      Second, we calibrate the marginal cost of public funds and pass-through rates for ad val-
orem taxes and counterfactual specific taxes, and we illustrate the sensitivity of the incidence
and efficiency costs of both types of taxes to the variety effect. Without any love-of-variety,
we find less overshifting and lower efficiency costs for ad valorem taxes (relative to a counter-
factual specific tax that raises the same revenue). At the actual love-of-variety estimated in
our data, we still find less overshifting for ad valorem taxes, but we find that ad valorem leads
to higher efficiency costs. This illustrates the practical relevance of the novel theoretical re-
sults. Specifically, both our theoretical analysis and the model calibrations point towards the
conclusion that in differentiated product markets with meaningful love-of-variety, we should
not be surprised to find specific taxes are more efficient than ad valorem taxes.
      Our theoretical analysis generalizes and unifies several existing results in the literature
on taxation. Our main contribution is to build on the papers which consider the welfare
and incidence effects of taxation (specific taxation and ad valorem taxation) in the long-run
when entry and exit are allowed. Our key innovation relative to this literature is to consider
a theory of taxation that nests various forms of market competition (quantity and price
competition) and allows for love-of-variety preferences and tax salience. Our pass-through
formulas generalize Bulow and Pfleiderer (1983), Anderson, De Palma and Kreider (2001a),
Weyl and Fabinger (2013), Adachi and Fabinger (2017) and Kroft et al. (2020a). Our welfare
analysis builds on Anderson, De Palma and Kreider (2001b) who demonstrate through the use
of counterexamples featuring Bertrand competition and differentiated products the possibility
that specific taxation can dominate ad valorem taxation with free entry and exit.11 To focus on
 11
      Kay and Keen (1983) consider a model of monopolistic competition with Dixit-Stiglitz preferences and



                                                     7
the distortion to product variety, they assume that demand is completely inelastic to taxes and
thus, abstract from the "static" distortionary effect of taxation. Our desirability condition
accounts for distortions to both output and product variety. Interestingly, we show that
when demand is more elastic, specific taxation is more likely to be a preferable form of excise
taxation than ad valorem taxation which contrasts with the speculation of Anderson, De Palma
and Kreider (2001b). Hamilton (2009) considers a specific model of retailer competition and
emphasizes the role of multi-product firms demonstrating that one can get overshifting of taxes
even with log concave demand which is ruled out in most models with single product firms.
Hamilton also demonstrates that with multi-product firms, specific taxation can dominate ad
valorem taxation with free entry. In our setting, we show that one can get specific taxation
to dominate ad valorem taxation even with single product firms depending on the strength of
consumers' preferences for variety.
   Our empirical analysis builds on the literature evaluating the reduced-form effects of sales
taxes on prices and output (see Barzel 1976, Johnson 1978, Delipalla 1995, Poterba 1996,
Besley and Rosen 1999, Delipalla and O'Donnell 2001, Chetty, Looney and Kroft 2009, Einav
et al. 2014, Baker, Johnson and Kueng forthcoming, and Kroft et al. 2020a). Our main
innovation to this literature is to empirically examine the effect of sales taxes on product
variety. Our empirical results are consistent with Cawley et al. (2020), who find that a
beverage tax in Philadelphia resulted in fewer taxed products available in stores. A second
innovation of our paper is to show that one can use the reduced-form effects of ad valorem
taxes along with the ad valorem tax formulas to counterfactually estimate the effects of specific
taxes ­ even though we do not actually observe independent variation in specific tax rates in
our empirical setting. This broadly relates to Zoutman, Gavrilova and Hopland (2018) who
use an insight from taxation theory to show that when a market is perfectly competitive,
one can identify both the elasticity of demand and elasticity of supply using a single tax
rate. Intuitively, both the reduced-form effects of ad valorem taxes and specific taxes on
economic outcomes depend on the same set of economic fundamentals. Provided that one
can structurally recover the primitives using variation in one type of tax (ad valorem), one
can then simulate the reduced-form effects associated with the other tax (specific). This
shows that under the model assumptions, one does not require exogenous variation in both ad
valorem taxes and specific taxes to compare their welfare and price effects. This "shortcut"
is quite useful in empirical settings where the researcher does not observe a specific tax,
fixed aggregate demand and show that specific taxation can dominate ad valorem taxation as the taste for
variety becomes infinitely strong.




                                                   8
but is interested in comparing the efficiency costs and incidence between the alternative tax
structures.
    Throughout our analysis, we assume that product quality is fixed with respect to taxation
and thus abstract from the "upgrading effects" of specific taxation (Keen 1998). Important
papers that consider endogenous product quality are Cremer and Thisse (1994), Delipalla and
Keen (2006), and Gillitzer, Kleven and Slemrod (2017). We also abstract from uncertainty in
prices and thus the tax base (Kay and Keen 1983) and externalities (Pirttilä 1997). Finally,
our analysis assumes that consumers are identical and thus does not take into account dis-
tributional considerations. As Keen (1998) argues, this is a feature of much of the economic
literature in this area, since it is generally thought that the distributional effects of commodity
taxes are determined by their levels and not the overall structure of the tax.




2     The Model
We consider a differentiated product market (the "inside market") which is subject to a specific
tax t on consumers that applies to each product in the market. We assume that markets for
other goods are perfectly competitive and are not subject to taxation, implying that taxes in
the inside market have no indirect welfare effects on other markets in the economy.



Consumers
Following Auerbach and Hines (2001), we abstract from population heterogeneity and thus
consider a single representative individual with exogenous income Z . Preferences when there
are J varieties available are given by the quasilinear utility function uJ (q1 , . . . , qJ ) + y , where
qj is the quantity consumed of variety j = 1, . . . , J and y  R is the numeraire (representing
consumption in the outside market). We assume that the subutility function, uJ , which repre-
sents preferences for the differentiated products, is strictly quasi-concave, twice differentiable
and symmetric in all of its arguments. The pre-tax or producer price for product j is given
by pj and the post-tax or consumer price is given by pj + t for all j = 1, ..., J . We define
u(Q, J )  uJ (Q/J, . . . , Q/J ) to be the compact notation of utility for the symmetric case
                                          Q
where the individual consumes q =         J
                                              units of each variety j = 1, . . . , J . Furthermore, we
assume that u(Q, J ) is concave in J, so variety has diminishing returns, which ensures that
the planner's problem is well-behaved.



                                                    9
     Following Chetty, Looney and Kroft (2009), consumer demand for product variety j is
given by qj = qj (p1 , ..., pJ , t) which is a function of both prices and the tax. In the neoclassical
full-optimization model, demand depends only on the total tax-inclusive price: qj = qj (p1 +
t, ..., pJ + t, 0). In this case, equal changes in prices and taxes affect demand symmetrically. We
allow for tax salience by considering the possibility that qj (p1 , ..., pJ , t) = qj (p1 + t, ..., pJ + t, 0).
     In order to connect our tax formulas to empirically estimable objects, it is necessary to
relate observed demand qj (p1 , . . . , pJ , t) to consumer willingness-to-pay. We begin with the
following assumptions which mirror assumptions A1 and A2 in Chetty, Looney and Kroft
(2009) and Kroft et al. (2020a).

Assumption 1. Taxes affect utility only through their effects on the chosen consumption
bundle. Indirect utility is given by:

V (p1 , . . . , pJ , t, Z ) = u(q1 (p1 , . . . , pJ , t), . . . , qJ (p1 , . . . , pJ , t))+Z -(p1 + t)q1 - ··· -(pJ + t)qJ

     Assumption 1 requires that taxes or salience have no impact on utility beyond their effects
on consumption.

Assumption 2. When tax-inclusive prices are fully salient, the agent chooses the same allo-
cation as a fully-optimizing agent.

(q1 , . . . , qJ )(p1 + t, . . . , pJ + t, 0) = arg max uJ (q1 , . . . , qJ ) + Z - (p1 + t)q1 - ··· - (pJ + t)qJ
                                                 (q1 ,...,qJ )


     Assumption 2 implies that when tax-inclusive prices are fully salient, agents maximize
utility. We allow for salience effects by considering the possibility that qj (p1 , ..., pJ , 0) >
qj (p1 , ..., pJ , t) > qj (p1 + t, ..., pJ + t, 0). In what follows, we assume that the "observed"
demand function qj (·) is symmetric and twice differentiable and denote by q J (p, t) demand
corresponding to symmetric prices and J firms: q J (p, t)  qj (p, ..., p, t). We define market
demand as Q(p, t, J ) = Jq J (p, t) and the inverse market demand wtp(Q, J )  P (Q, J ) 
Q-1 (p, 0, J ) which corresponds to willingness-to-pay when taxes are fully salient. For a fully
salient tax, market demand is Q(p + t, 0, J ) and inverse market demand is P (Q, J ). For
a non-salient tax, we define the degree of inattention to the tax, t , as the ratio of the tax
                                                                                                   Q/t
elasticity of market demand and the price elasticity of market demand t                            Q/p
                                                                                                          =    Dt
                                                                                                               D
                                                                                                                    , where
 D    - Q p+t
        p Q
              is the price elasticity of market demand and                   Dt    - Q p+t
                                                                                     t Q
                                                                                           is the tax elasticity of
                                                                                               u
market demand. Under symmetry, Assumption 2 implies that P (Q, J ) =                           Q
                                                                                                 (Q, J )   through the
first-order condition for Q. Assuming t is constant over (p, t, J ) it can be shown that Q(p, t, J )


                                                                 10
                                                                        p+t                                       wtp
satisfies wtp(Q(p, t, J ), J ) = p + t t; moreover            D   = - Qmwtp (Q)
                                                                                where mwtp(Q) =                   Q
                                                                                                                      (Q, J )
                                                                                          p
where we drop the J argument for simplicity and we let                          D        p+t D
                                                                                               .   Next, the elasticity of
                                                        ms(Q)
inverse marginal surplus is given by           ms      ms (Q)Q
                                                               ,      where ms(Q)  -mwtp(Q)Q is marginal
consumer surplus. Finally, we define the "variety effect" as the effect of a change in varieties
on consumer surplus (holding prices and output constant):

Definition 1. Let  be the variety effect which captures the effect of a change in varieties J on
consumer surplus CS = u(Q, J ) - (p + t)Q, keeping p and Q fixed. In this case, since P (Q, J )
                                                                                                   Q
is the inverse of Q(p, 0, J ) and CS (Q, p, t, J ) = u(Q, J ) - (p + t)Q =                         0   P (s, J )ds - (p + t)Q
then
                                                    CS                Q   P (s, J )
                                        (Q, J )        =                            ds
                                                    J             0        J
   For some of our results below, we assume that P (Q, J ) shifts in parallel when variety J
changes.

Assumption 3. Inverse aggregate demands shift in parallel. Then                               P
                                                                                              J
                                                                                                (Q, J )     =   P
                                                                                                                J
                                                                                                                  (Q   , J ) for
all Q, Q > 0.

   In particular, under Assumption 3, P (Q, J ) is linearly separable in Q and J . In this case
P               (Q,J )             2P
J
  (Q, J )   =    Q
                         and       JQ
                                        = 0. This assumption has been thoroughly analyzed in Kroft
et al. (2020b) for discrete choice models, and in the Appendix we present a microfoundation
for parallel demands in our continuous choice model.



Firms
On the supply side, there is an infinite pool of identical potential entrants. Each firm has
the cost function cj (qj ) = c(qj ) + F , where c(·) is the variable cost of production which is
increasing and twice differentiable with c(0) = 0 and F > 0 is the fixed cost of production. A
given firm makes two decisions. First, each firm decides whether to produce given the fixed
cost F . Second, each firm chooses pj to maximize profits j :

                          max
                           p
                              j = pj qj (p1 . . . , pJ , t) - c(qj (p1 . . . , pJ , t)) - F
                               j

                                      pk
                               s.t.      = p for k = j
                                      pj

   The term p is the conjectural price variation of the other firms' price as a function of pj .




                                                         11
The first-order condition for pj is given by:
                                                                                
                                                           qj         qj 
                                       qj +(pj - mc(qj ))     + p         =0
                                                           pj     k=j pk


                                                                                                               c (q )
where mc(q )  c (q ), and we will make use of the following definition                              S         c (q )q
                                                                                                                      .   In a
symmetric equilibrium, pj = p solves:

                                             qj (pj , p, . . . , p, t)           qj (pj , p, . . . , p, t)
 qj (pj , p, . . . , p, t)+(pj - mc(qj ))                              +(J - 1)p                               = 0, k = j
                                                      pj                                 pk

                         j
We assume that           pj
                            (pj , p)   is strict single crossing (from above) in pj and decreasing in p so
                                                                                           1             1          1
that a unique symmetric equilibrium p(t) exists.12 By letting q                          mwtp(Q)
                                                                                                   ×    dqj   =   mwtp(Q)
                                                                                                                            ×
                                                                                                        dpj
          1
qj                qj   we can rewrite the first-order condition as a generalized Lerner index:
pj
     +p       k=j pk



                                                  p - mc(q )    q
                                                             =                                                             (1)
                                                    p+t        J D

Setting q = J yields the monopoly (perfect collusion) outcome and setting q = 0 gives the
perfect competition (marginal cost pricing) solution. Setting q = 1 corresponds to Cournot
competition when goods are homogeneous and setting p = 0 yields the Bertrand-Nash equi-
librium. The model thus captures a wide range of market conduct.13
       We treat the number of firms as a continuous variable, a standard procedure in this lit-
erature following Seade (1980), Besley (1989) and Delipalla and Keen (1992). In the "long
run", the number of firms J (t) in the symmetric equilibrium is determined by the free-entry
condition j (p(J, t), J, t) = 0:

                            p(J (t), t)q J (p(J (t), t), t) - c(q J (p(J (t), t), t)) - F = 0                              (2)

Moreover, we impose assumptions that give uniqueness for the firm pricing decision and entry
problem, so that there is a unique solution J (t).
  12                                                      j 
     The case of strategic complementarities, where pj      (pj , p) is increasing in p allows for the existence of
multiple symmetric equilibria. However, in that case if we assume there is a continuous and symmetric
equilibrium selection p(t), the same results follow.
  13
     The conjectural variation term is a reduced-form version of a Nash equilibrium only when it corresponds
to static solution concepts (e.g. p = 0 or q = 1, J ) or are reduced-forms of truly dynamic models (Vives 2001,
Riordan 1985) or supply function equilibria (Hart 1982). We do not take a stand on the dynamic model that q
captures in reduced-form, instead proving that our evaluation of welfare is robust to any of the specifications
that can be modeled this way.



                                                            12
Assumption 4. We require that j (pj , p-j , J, t) is concave in pj and decreasing in J . We also
assume that the conduct parameter q is constant, which implies                                        dq
                                                                                                       dt
                                                                                                             = 0. Let14

                                             q           q                    P        2P                               q
                q                  D   -                             DJ       J
                                                                                   +   JQ
                                                                                          qq                  D   -             1
                                             J           J                                                              J
           = 2-   +                      q       +            -                                      1+             q       +
                J                      S J               ms              (p(1 +  ) + t)                           S J           ms

                                                                                                                                      - q
The two stability conditions for the firms' problem are respectively equivalent to 1 +                                               D
                                                                                                                                      S
                                                                                                                                        J
                                                                                                                                            +
 q
 J
 ms
       > 0 and  > 0, where              
                                        D    =       p(1+  )
                                                     p(1+ )+t D
                                                                .15

       Lastly, we define the long-run demand as QL (t) = Q(p(t), t, J (t)).16 The effect of taxes
on long-run demand, taking into account the endogeneity of variety to taxes, is given by
dQL        Q       Q dJ       Q dp
 dt
       =   t
               +   J dt
                          +   p dt
                                   .




3        Welfare, Pass-through and Entry Effects of a Specific
         Tax
In this section, we consider the marginal welfare gain, pass-through and entry effects associated
with a small increase in the specific tax t which applies to all goods in the inside market. We
extend previous theoretical results on taxation with imperfect competition in two ways: first,
we allow for "behavioral" agents that need not optimize with respect to taxes following Chetty,
Looney and Kroft (2009), Taubinsky and Rees-Jones (2018), Farhi and Gabaix (2020), and
Kroft et al. (2020a); second, we allow taxes to affect product variety through the free-entry
decision of firms following Besley (1989) and Delipalla and Keen (1992). In this section, we
first present results for the general case and then consider several specialized cases, in order
to connect our results with the literature on taxation.
       We assume throughout that tax revenue R = tQ and profits J are redistributed to the
representative consumer as a lump-sum transfer. As is standard in this literature, the con-
sumer treats profits and tax revenue as fixed when choosing consumption, failing to consider
the external effects on the lump-sum transfer. Given the assumption of quasilinear utility,
                                                             q       q                                   q
  14                                             q       D- J                          D             D- J          1
       Under Assumption 3,  = 2 -                J   +      q    +   J
                                                                     ms
                                                                              -   (p(1+ )+t)q   1+      q    +    ms
                                                                                                                        .
                                                          S J                                         S J
  15                  
      Here,  and      D are written in the general form that depends on the specific tax rate t and the ad
valorem tax rate  for convenience, anticipating our results in Sections 4 and 5. The ad valorem tax rate  and
corresponding salience parameter  are introduced below, but at this point can be shut down by assuming
 = 0 and  = 1.
   16
      Here we use the assumption that for each tax t there is a unique symmetric price equilibrium p(t) where J (t)
firms enter the market. The notation QL serves to mathematically differentiate the functions Q(·, ·, ·) : R3  R
and QL (t) : t  Q(p(t), t, J (t)).


                                                                         13
the consumer will choose to allocate the lump-sum transfer to the outside market y . Total
welfare, W , is given by the sum of consumer surplus (CS ), profits (J ), and government tax
revenues (R):

                                                                        Q
                     W (p, t, J ) = u(Q, J ) - (p + t)Q + pQ - Jc         - JF + tQ                   (3)
                                                                        J
                                                CS                                        R
                                                                      J


       Consider a small increase in the tax starting from t0 . Under Assumptions 1 and 2, a
first-order approximation to the marginal excess burden of taxation is:

             dW (p(t), t, J (t))                         dQL                               dJ
                                 = (t t0 + p0 - c (q0 ))     + (0 + 0 - [p0 - c (q0 )]q0 )            (4)
                    dt                                    dt                               dt
                                              Quantity effect              Diversity effect


where p0 , q0 , Q0 , J0 , 0 , 0 are all variables evaluated at the equilibrium corresponding to t0 .17
       Equation (4) shows that the marginal excess burden of taxation is a combination of two
main terms. The first term represents the standard distortionary effect of taxation on output.
Intuitively, the social marginal value of output is given by the difference between willingness-
to-pay p0 + t t0 and the social marginal cost c (q0 ). With no pre-existing taxes (t0 = 0) or when
t = 0, the first term depends only on the markup which represents a distortionary "wedge"
in output due to the presence of market power. The second term represents the distortion to
product variety. To see the intuition for this expression, consider the case of constant marginal
cost. The second term becomes (0 - F ) dJ
                                       dt
                                          . Thus, whether the change in variety induced
by taxes lowers (increases) welfare along this margin depends on whether the love-of-variety
exceeds (is less than) the fixed cost. The term 0 - F thus represents the distortionary wedge
on the entry margin due to free entry. This discussion shows that welfare is maximized when
there are no wedges in the economy either due to taxation, market power or free entry. As we
show in the Appendix, this occurs when t0 = 0, p0 = c (q  ) and 0 = -0 .
       Equation (4) nests canonical formulas in public economics for: homogeneous or differenti-
ated products, perfect or imperfect competition, fixed or endogenous variety, fully optimizing
or behavioral agents. First, in the case of perfect competition where p = c (q ) and J is fixed,
equation (4) reduces to          dW
                                  dt
                                       = t t0 dQ
                                               dt
                                                 L
                                                   . The simple case with fully optimizing agents (t = 1)
corresponds to the classic analysis by Harberger (1964), while the extension to behavioral
agents corresponds to the analysis in Chetty, Looney and Kroft (2009). Next, Auerbach and
Hines (2001) consider a model of homogeneous products (0 = 0) with imperfect competition
  17
       See Appendix for proof.



                                                            14
and fixed variety ( dJ
                    dt
                       = 0) and fully optimizing consumers (t = 1). In this case, the marginal
excess burden of taxation is given by        dW
                                              dt
                                                   = (p0 + t0 - c (q0 )) dQ
                                                                          dt
                                                                            L
                                                                              . This formula also holds in
the case of second-best variety : a central planner chooses J optimally considering that pricing
decisions are left to firms.18
       In the case where goods are homogeneous (0 = 0), consumers optimize (t = 1) and
the marginal cost is constant (c (q ) = c0 ) and taxation may affect the equilibrium number of
firms when J is determined by the free-entry condition as in Besley (1989), the tax formula
collapses to    dW
                 dt
                      = (p0 + t0 - c0 ) dQ
                                         dt
                                           L
                                             - F dJ
                                                 dt
                                                    .19 In this case, the direct entry effect enters as a
negative. The intuition is easiest to see in the case where there is a reduction in taxes which
induces entry of new firms. Since firms are symmetric and marginal cost is constant, it is
more efficient to produce output with existing firms than to have new firms enter and incur
the fixed cost of production.20
       Clearly, for taxes to increase welfare, it must be the case that there is a market failure in the
baseline equilibrium. The market failure in this case arises from non-convexities due to fixed
costs. We can also connect the market failure to the concept of externalities by re-expressing
equation (4) in terms of the responsiveness of firm output to taxation by substituting for
                                            dQL
aggregate demand using the relation          dt
                                                   = J dqL
                                                        dt
                                                           + q dJ
                                                               dt
                                                                  to get the following       dW
                                                                                              dt
                                                                                                   = (p0 + t t0 -
c (q0 ))J0 dqL
            dt
               + (0 + t t0 q0 + 0 ) dJ
                                    dt
                                       . It is noteworthy that the first term resembles the "business
                                                                        q
stealing" term in Mankiw and Whinston (1986) which is J0 (p0 - c (q0 )) J . In the economy
without taxes, there may be "too much" entry in the market equilibrium relative to the social
optimum since firms do not internalize the effect of entry on other firms' profits. Interestingly,
this raises the possibility that taxes can increase social welfare. To see the connection to
                                                             dqL       q dJ
business stealing and inefficient entry, we note that         dt
                                                                   =   J dt
                                                                              + dq | where
                                                                                dt J
                                                                                             dq
                                                                                                |
                                                                                             dt J
                                                                                                       q dp
                                                                                                       p dt
                                                                                                              + q
                                                                                                                t
                                                                                                                  .
Assuming for simplicity that 0 = t0 = 0, we may decompose the formula for marginal excess
burden as:
                       dW                      q     dJ                  dq
                           = J0 (p0 - c (q0 ))   + 0    + (p0 - c (q0 ))J |J                                    (5)
                        dt                     J     dt                  dt
                                                                                <0
                                              0

  18
    The proof is the following: the planner seeks to maximize maxJ W (Q, J ) = u(Q, J ) - Jc Q J - JF taking
the pricing decisions of firms as given. When the planner solves for the second-best variety, she chooses J to
set dWdJ
       (Q,J )
              = W  dQ     W
                Q dJ + J = 0. Then:

                  dW       W dQ W          dJ   W dQL   W dQL                      dQL
                      =         +             +       =       = (p + t t - c (q ))
                   dt      Q dJ   J        dt   Q dt    Q dt                        dt

  19
     Besley (1989) assumes Cournot competition but the formula is valid for other types of competition through
the conduct parameter.
                                      dQL                  dqL
  20
     One can also show that dW
                             dt = t t0 dt + (p0 - c (q0 ))J dt .



                                                       15
   The first term in parentheses in equation (5) is the marginal welfare gain of an additional
                                                                          q
variety. It is negative if the business-stealing effect J0 (p0 - c (q0 )) J < 0 dominates the
variety effect (0 > 0) in which case there is excessive entry. The second term is the standard
distortionary output effect of the tax and is negative. Note that this is an application of the
theory of second-best. There is a market distortion due to excessive firm entry in the economy
without taxes and introducing a tax, which is a second type of distortion, counteracts the first
distortion leading potentially to a more efficient outcome. If the business-stealing effect is
                              dqL              0          dJ
sufficiently strong so that    dt
                                    > - J0 (p0 - c (q0 )) dt
                                                             > 0 , then taxes can actually increase welfare.
A necessary condition is for firm-level output to rise in response to an increase in the tax so
that the "competition effect" due to fewer firms dominates the standard distortionary effect
of taxation.
   In practice, equations (4) or (5) may be difficult to implement empirically since it is
challenging to measure marginal cost c (q0 ), and hence the markup p0 - c (q0 ). We now
show how one may exploit the long-run free-entry condition to provide a remarkably simpler
representation for the marginal excess burden that maps more easily to empirically estimable
objects. We begin with the following lemma.

Lemma 1. In the long run (when the free-entry condition (2) is satisfied), for any tax rate
t, the following envelope condition holds:

                                                  p,t    p - c (q )
                                                      =-                                                (6)
                                                  q,t       p

where p,t      t dp
               p dt
                      and q,t    t dq
                                 q dt
                                        are respectively the long-run elasticities of producer prices and
firm-level output with respect to specific taxes.

Proof. See Appendix.

   This condition follows by totally differentiating the zero-profit condition in equation (2)
                            d
with respect to the tax,    dt
                                 = 0. In economic terms, it requires that entry is such that after
the tax change, the zero-profit condition continues to hold.
   We now restate the tax formula in equation (4) using Lemma 1. It is first useful to define
                                           dp
the pass-through rate as t  1 +            dt
                                              .

Proposition 1. Assume q  (0, J ]. Under Assumptions 1, 2, 3 and Lemma 1, the marginal
excess burden, pass-through and the entry effects of a small change in the specific tax t are




                                                         16
given respectively by21

                                             dW       dJ       dp    dQL
                                                 = 0     - Q0 + t t0                                                 (7)
                                              dt      dt       dt     dt
                                               t = 1 - (1 - t ) t                                                    (8)
                                                                       - q
                                                                                      
                                                                      D J0       1
                                             dJ    t J D       1 +    q      +   ms   
                                                                      J0 S
                                                =-                                                                   (9)
                                                                                      
                                                                                      
                                             dt    p0 + t0                            


                    
                  + Jq [1-   1
                                  ]
where t =              0     ms
                                      is the pass-through formula when there is full optimization (t = 1).

Proof. See Appendix.

       Equation (7) extends the welfare formulas of Harberger (1964), Besley (1989), Auerbach
and Hines (2001), Chetty (2009), Chetty, Looney and Kroft (2009), Taubinsky and Rees-
Jones (2018), Farhi and Gabaix (2020), and Kroft et al. (2020a) to the case of love-of-variety
preferences and endogenous entry with imperfect competition. In order to develop intuition
for this formula, consider a tax decrease as represented in Figure 1. Let (p, Q) be the starting
equilibrium producer price and aggregate quantity for a specific tax t > 0 and note that if the
tax is not fully salient, then t  (0, 1). In this case, the willingness-to-pay for the marginal
                                                                                                            
aggregate unit is wtp(Q) = p + t t. For the purpose of this example, assume                                 t
                                                                                                                < 0, so
that when the tax disappears increasing profits drives the entry of new firms J > J , which
in turn shifts the aggregate demand curve out and a new equilibrium is reached at (p , Q ).
Note that before and after the tax change the long-run free-entry condition is satisfied and
so the average total cost is equal to the producer price in each case. Additionally, note that
welfare is given by the area between below aggregate demand and above equilibrium price
up to the equilibrium quantity. Finally, the difference in welfare between the two scenarios
can be represented by the sum of three terms: the area between the inverse aggregate demad
curves (0 ), an additional trapezoid with base Q - Q and height t t t t0 dQ
                                                                          dt
                                                                            L
                                                                              , minus the
price effect (p - p)Q (Q0 dp
                          dt
                             ). Thus, this graphical representation of the marginal welfare gain
connects with equation (7).
       To develop intuition for our other expressions, we consider several special cases. We begin
by considering the case where t = 1, 0 = 0 and t0 = 0 in order to connect our results to the
literature.
  21                                   dW
       While the welfare formula        dt   does not depend on Assumption 3, without Assumption 3 the term 0 that
                                             dJ                                          P       2P
appears in the formulas for t and            dt   would have to be substituted by Q      J   +   JQ qq   . See Appendix.



                                                               17
Corollary 1. Assume q  (0, J ]. Consider the case of full-optimization ( = 1), homo-
geneous products (0 = 0) and no pre-existing taxes (t0 = 0). The marginal excess burden,
pass-through, and entry formulas are given by the following:

                                 dW        dp
                                     = -Q0                                                                  (10)
                                  dt       dt
                                                         - q
                                                        D J0
                                                 2+        q
                                                         SJ
                                                            0
                                    t =                  - q         q                                      (11)
                                               q        D J0         J0
                                          2-   J0
                                                    +     q      +   ms
                                                         SJ
                                                           0
                                                                  - q
                                                                                        
                                                                 D J0         1
                                                        1+       q        +
                                   dJ    J D        
                                                                 J0 S         ms        
                                      =-                                                                    (12)
                                                                                        
                                                                     - q           q    
                                   dt     p0                q       D J0           J0
                                                       2-        +            +
                                                                                        
                                                                    q
                                                            J0      J0 S           ms



Proof. See Appendix.

       Corollary 1 shows that the welfare cost of taxation depends only on the price effect, as
in Besley (1989) and Delipalla and Keen (1992).22 Intuitively, firm profits are always 0 so
whether social welfare increases depends on the effects on consumer surplus and government
revenue. The mechanical effect of a dollar increase in taxes is a loss of $1 for consumers but a
gain of $1 for the government and so is neutral for welfare. Thus the net effect on consumers
and social welfare depends on whether producer prices rise or fall with the tax increase. In
the case where producer prices fall, consumers are better off and social welfare increases.
       Our formula in Proposition 1 generalizes the marginal excess burden formula in these
papers to allow for a love-of-variety and pre-existing taxes. When consumers have a preference
for variety, there is an additional effect on consumer surplus since varieties are affected by the
tax change. Intuitively, when firms decide to enter (or exit) the market, they do not internalize
the positive effects of product creation (or product destruction) on consumer surplus. Thus,
there is a new term that depends on the variety effect and the responsiveness of varieties to
a change in taxes. Finally, when there are pre-existing taxes, one must account for the fiscal
externality on government revenue.
       Turning to pass-through, while Besley (1989) and Delipalla and Keen (1992) considered
                                         dp                    dq
  22
     Note that in this case, dW
                              dt =-Q0 dt = J (p0 - c (q0 )) dt which is the formula in Besley (1989). Since
dq    q dJ     dq
 dt = J dt + dt |J , whether welfare rises or falls with the tax depends on whether the improvement in welfare
                                                                 q dJ
along the entry and exit margin due to less business stealing ( J   dt > 0) dominates the standard distortionary
quantity response to the tax ( dt |J < 0) so that the total output effect is positive, dq
                               dq                                                                              dq
                                                                                       dt > 0. The formula for dt
is provided in the Appendix. This is because behavioral responses do not have a first-order effect on consumer
surplus and do not have a "fiscal externality" on the government's budget since there are no pre-existing taxes
in the baseline economy.



                                                        18
comparative statics with respect to local changes in taxes, their focus was primarily on deriving
conditions for overshifting and undershifting of taxes onto prices (which we consider below)
as opposed to deriving interpretable formulas in terms of sufficient statistics, as in Weyl and
Fabinger (2013) and Kroft et al. (2020a).23 Our contribution relative to these papers is to
better highlight the economic forces by connecting the expressions for pass-through and entry
effects to intuitive concepts such as the conduct parameter, the elasticity of demand and
supply, and the elasticity of the inverse marginal surplus (Corollary 1), as well as generalize
by allowing for differentiated products and a love-of-variety (Proposition 1). Our general
formula in Proposition 1 indicates that a lower t leads to a lower incidence on consumers so
long as demand is log concave as in Kroft et al. (2020a). When t = 0, we see that t = 1 so
that incidence is full on consumers.
       Finally, we see that the effects of taxes on entry/exit depend on the price elasticity of
market demand. In the extreme case of perfectly inelastic demand                  D   = 0 (or t = 0 and
             dJ
 D   > 0),   dt
                  = 0. Intuitively if consumers are completely inelastic with respect to the tax, then
firms do not bear any burden of the tax and so there is no change in profits and thus no entry or
exit. This is the reason that the variety effect 0 enters the pass-through formula in (8) scaled
by     D   in Proposition 1. Roughly speaking,     D   characterizes the strength of the effect of taxes
on variety and 0 characterizes the strength of changes in variety on prices.
                                                                          
                                                                             When
                                                                              
                                                                                                       D   >0
                                                                                       - q        q
             1                                                               q        D J0       J0
and 1 -      ms
                  > 0, a higher 0 leads to higher pass-through whenever      J0
                                                                                  +    S
                                                                                             +   ms
                                                                                                      > 0. We
show below that this condition is satisfied whenever taxes lower short-run profits and formally
establish the relationship between the short-run and long-run effects of taxation.
       Next, we derive conditions for when taxes increase welfare and lead to overshifting or
undershifting in a model with a love-of-variety.

Corollary 2. Assume q  (0, J ], t  [0, 1], and 0 = 0.
       1. Overshifting: a small specific tax increases producer prices if and only if:

                                              dp
                                                 0
                                              dt
                                                            1
                                              1-                 0
                                                            ms


       2. Starting from no tax t0 = 0, introducing a small specific tax, increases welfare if and
  23
    In the Appendix, we formally establish the connection between the pass-through formulas in our paper
and Delipalla and Keen (1992).




                                                       19
only if:

                        dW    0 dJ
                            0        t - 1
                         dt   Q0 dt
                                                                            q
                               1       0 D          1               D   -   J0
                                  -1          q 1 +    +                  q
                               ms     p 0 q 0 J0    ms                  S J0


      3. Therefore, if 0 = 0, starting from no tax t0 = 0, introducing a small specific tax,
increases welfare if and only if there is no overshifting:


                                dW    dp   1
                                    0    0    -10
                                 dt   dt   ms


Proof. See Appendix.
                                                                                        dW
      In Besley (1989) and Delipalla and Keen (1992), the condition for whether          dt
                                                                                               0 is
 1
 ms
      -1  0. Thus, we see that the taste for variety 0 now enters into the generalized condition.
Intuitively, when 0 is large, there is likely to be insufficient entry in the market and a tax that
causes less variety lowers welfare further. On the other hand, the condition for overshifting is
unchanged when there are differentiated products and a taste for variety. For more intuition
on the overshifting condition, note that the Lerner condition from the firms' optimization can
                                                                                         1
be used to interpret the elasticity of marginal surplus as follows: q mwtp(Q) =         q     implies
                                                                                        pi
                               q2          2q
        1
1-      ms
             = q Q  mwtp2 (Q) pp i
                                   where   ppi
                                                 is the cross-partial derivative of individual firm
                                                                                  1
demand with respect to individual price and market price. Therefore, 1 -          ms
                                                                                       is a measure
of the degree of "strategic complementarity" in the oligopoly pricing game. As such, we can
expect that the stronger the strategic complementarity, the stronger the multiplier effect of
an increase in taxes due to each firm increasing its own price as a function of taxes and as a
result of each of the other firms increasing their prices.
      The pass-through formula contained in Proposition 1 extends results in Kroft et al. (2020a)
and Weyl and Fabinger (2013) to the case of free entry. Our final corollary compares the
short-run pass-through formula in Kroft et al. (2020a) to the long-run pass-through formula
in Proposition 1 and highlights the key economic forces differentiating them. Note in this
case:
                                                      p dJ
                                        t - SR
                                            t  =
                                                      J dt
where we define SR
                t   1 - (1 - SR ) t as the pass-through of a specific tax in the short run




                                                 20
                          1
and SR                - q         q    as the pass-through of a specific tax in the short run when consumers
                     D   J        J
                1+            +
                       S          ms
fully optimize (Kroft et al. 2020a). The following Lemma is useful for comparing the short-run
and long-run effects of taxation on prices.

Lemma 2. The effect of competition on prices and output is given respectively by:

                                         p     p+t         J q
                                           =    -       1+
                                         J    Q   J D      q J
                                       J q            q      1      D
                                           = -SR 1 -     1-     -
                                       q J            J      ms   (p + t)q

       Thus, in the case of constant marginal cost (                 S   = ),      p
                                                                                   J
                                                                                       < 0 if and only if        1
                                                                                                                ms
                                                                                                                       D
                                                                                                                     (p+t)q
                                                                                                                              <1
and there is business stealing               q
                                             J
                                                 < 0 whenever          D
                                                                     (p+t)q
                                                                              +   q
                                                                                  J
                                                                                       1-      1
                                                                                               ms
                                                                                                    < 1.

       One can see in Lemma 2 that there is a connection between business stealing and pass-
through of a specific tax. This relates to results in Weyl and Fabinger (2013) who demonstrate
that when there is a per-firm exogenous quantity that enters the market, the increase is
equivalent to a reduction in cost (or increase in the tax).24 We also see from Lemma 2 that,
conditional on the business-stealing effect, a stronger variety effect implies that adding new
varieties to the market leads to a greater increase in prices. Intuitively, new varieties raise
the marginal utility of existing products and thus increase the willingness-to-pay for these
products. On the other hand, there is an indirect effect which works in the opposite direction
as a stronger variety effect lowers business stealing with the strength of this effect depending on
                                                                                                        p
pass-through of specific taxes. Thus, a larger  can increase or decrease                                J
                                                                                                            and consequently
increase or decrease long-run pass-through.

Corollary 3. Entry and short-run versus long-run pass-through:
       Assume    D   > 0. The following three conditions are equivalent:

                                                                                  q        q
                                  dJ             q                        D   -   J        J
                                     < 0    < 0    +                                   +           >0
                                  dt      t      J                            S            ms


       Moreover, assume constant marginal cost (                 S   = ) and assume that the variety effect 
is bounded by        1
                     ms
                            D
                          (p+t)q
                                   < 1 so that    p
                                                  J
                                                      < 0 holds by Lemma 2. Then

                                                  
                                                    < 0  t > SR
                                                             t
                                                  t
  24
    In Weyl and Fabinger (2013), the thought experiment is to increase the quantity of each of the goods
produced by the firms in the market; thus, there is no new variety. In our case, there is a new variety that is
introduced which is why the variety effect is present. When  is larger, there is less business stealing; intuitively,
a stronger love-of-variety implies that goods are less substitutable and dampens the business-stealing effect.


                                                            21
Proof. See Appendix.

       Corollary 3 shows that when taxes reduce profits, there are fewer varieties in the market
and this acts to increase prices further due to a competition effect.25




4        Welfare, Pass-through and Entry Effects of an Ad
         Valorem Tax
In this section, we consider the marginal welfare gain, pass-through and entry effects associated
with a small increase in the ad valorem tax  . The pre-tax or producer price for product j
is still pj and the post-tax or consumer price is now given by pj (1 +  ) for all j = 1, ..., J .
We continue to assume that tax revenue and profits are redistributed to the representative
consumer as a lump-sum transfer.
       Analogous to the specific tax case, consumer demand for product variety j is given by
qj = qj (p1 , ..., pJ ,  ) which is a function of both prices and the commodity tax and we allow for
tax salience by considering the possibility that qj (p1 , ..., pJ ,  ) = qj (p1 (1 +  ), ..., pJ (1 +  ), 0).
We assume that the "observed" demand function qj (·) is symmetric and twice differentiable
and denote by q J (p,  ) demand corresponding to symmetric prices and J firms: q J (p,  ) 
qj (p, ..., p,  ). Market demand is given by Q(p, , J ) = Jq J (p,  ) and the willingness-to-pay for
unit Q when variety is J is the inverse market demand wtp(Q, J )  P (Q, J )  Q-1 (p, 0, J ).
                                                                           Q(p,0,J )
                                                                                        1
We define the degree of inattention to the ad valorem tax,                   
                                                                           Q(p,0,J )   ×p , as the ratio of the
                                                                             p
demand responses to the tax and price starting from  = 0, normalized by p. Assuming  is
constant over (p, , J ) it can be shown that Q(p, , J ) satisfies wtp(Q(p, , J ), J ) = p(1 +   );
                                  p(1+ )                              wtp
moreover, we define       D    - Qmwtp(Q)
                                          where mwtp(Q) =             Q
                                                                          (Q, J )      where we drop the J
                                                p(1+  )                                          ms(Q)
variable for simplicity and we let       D       p(1+ ) D
                                                          .   Finally, as before,       ms      ms (Q)Q
                                                                                                        ,   where
ms(Q)  -mwtp(Q)Q is marginal consumer surplus. In the interest of space, we do not
characterize Assumptions 1 and 2 for the case of an ad-valorem tax but the exact same logic
  25                                                                     1
    It is also useful to compare the long-run overshifting condition 1 - ms  0 with the short-run overshifting
                 1
condition 0  ms that applies in the simple case with constant marginal cost S =  and full salience t = 1.
A corollary of this, is that overshifting in the short run implies overshifting in the long run. In a similar
model, Anderson, De Palma and Kreider (2001a) provide formulas for overshifting in the short run and long
run. To obtain their Proposition 2 (short run) for instance, one can substitute DD = - D , 1 - E     ~ = 1
                                                                                                            ms
       q
              1
and J D
        = - dd  . However a translation of their overshifting long-run condition is not as a straightforward;
moreover our overshifting conditions in Corollaries 2 and 5 are more easily comparable to the analogous
short-run overshifting conditions.




                                                     22
holds replacing qj (p1 , ..., pJ , t) with qj (p1 , ..., pJ ,  ) and qj (p1 + t, ..., pJ + t, 0) with qj (p1 (1 +
 ), ..., pJ (1 +  ), 0).
                                                                       dQ                wtp(Q)
    On the supply side, using the short hand q =                       dq
                                                                            and p =      1+ 
                                                                                                ,   we can differentiate
 = pq - c(q ) - F to get the analogous first-order condition as a generalized Lerner index:

                                                             q      
                                          p - mc(q )        J
                                                     =                                                             (13)
                                          p(1 +  )     (1 +   )             D


                                                               c (q )
    Similar to the previous section, define          S        c (q )q
                                                                      .   Total welfare, W , with an ad valorem
tax is given by:

                                                                                   Q
                  W (p, , J ) = u(Q, J ) - p(1 +  )Q + pQ - Jc                       - JF +  pQ
                                                                                   J
                                              CS                                                      R
                                                                                 J


Consider a small increase in the ad valorem tax rate starting from 0 . Under the analogous
Assumptions 1 and 2 for ad valorem taxation, a first-order approximation to the marginal
excess burden of ad valorem taxation is:

                 dW                            dQL                               dJ
                    = (p0 (1 +  0 ) - c (q0 ))     + (0 + 0 - [p0 - c (q0 )]q0 )                                   (14)
                  d                             d                                d
                                   Quantity effect                              Diversity effect


where p0 , q0 , Q0 , J0 , 0 , 0 are all variables evaluated at the equilibrium corresponding to 0 .

Lemma 3. In the long run (when the free-entry condition (2) is satisfied), for any tax rate
 , the following envelope condition holds:

                                               p,    p - c (q )
                                                  =-                                                               (15)
                                               q,       p

where p,          dp
                 p d
                       and q,        dq
                                    q d
                                          are respectively the long-run elasticities of producer prices
and firm-level output with respect to ad valorem taxes.

Proof. See Appendix.

    Next, we characterize welfare and pass-through by again exploiting the long-run free-entry
condition in Lemma 2. In order to do so, we first define the pass-through for an ad valorem
               1 d(p(1+ ))         1+ dp
tax as         p     d
                             =1+    p d
                                         .

Proposition 2. Assume q  (0, J ]. Under the analogous Assumptions 1 and 2 for ad valorem
taxation, and Assumption 3, the marginal excess burden, pass-through and the entry effects of


                                                         23
a small change in the ad valorem tax  are given respectively by:26

                                dW      dJ      dp         dQL
                                   = 0     - Q0    +  0 p0                                                                         (16)
                                 d      d       d           d
                                                 (1 + 0 )
                                   = 1 - (1 -  )                                                                                   (17)
                                                  1 +  0
                                                                         - q                    1- Jq
                                                                                                     
                                                                                                             
                                                                        D J0         1
                                                            1 +                  +        +              0
                                                                        q                            
                               1 dJ       J D                           J0 S         ms              D
                                                                                                             
                                    =-                                                                                             (18)
                                                                                                             
                                                                                                             
                               p0 d    (1 + 0 )p0                                                            



                                         
                      + Jq 1-   1
                                   + (1+ 0 )p q - 1
                                                  
       where  =                                             is the pass-through formula when there is full op-
                           0    ms       0 0 0    D


timization ( = 1).

Proof. See Appendix.
       The formulas derived in Proposition 2 are straightforward extensions of the case of specific
taxes. We only briefly interpret the formulas here and discuss differences between specific
taxation and ad valorem taxation in the next section. Before we do that, we present the main
corollaries that follow the special cases considered in Section 3.

Corollary 4. Consider the case of full-optimization ( = 1), homogeneous products (0 = 0)
and no pre-existing taxes (0 = 0). The marginal excess burden and pass-through formulas are
given respectively by:

                                    dW       dp
                                       = -Q0                                                                                       (19)
                                     d       d
                                                            - q       q
                                                           D J0       J0
                                                 2+          q      -  
                                                            SJ         D
                                                              0
                                         =                    -    q     q                                                         (20)
                                                   q         D J0        J0
                                              2-   J0
                                                        +       q       +ms
                                                               SJ
                                                                 0
                                                                  - q                         
                                                                                          1- Jq
                                                                                                     
                                                                 D J0        1
                                                        1 +                 +        +           0
                                                                     q                      
                                   1 dJ    J D                     SJ       ms              D
                                                                                                     
                                        =-              
                                                                     0
                                                                           - q             q         
                                                                                                     
                                                                                                                                   (21)
                                   p0 d     p0                    q       D J0             J0
                                                            2-          +            +
                                                                                                     
                                                                            q
                                                                  J0       SJ              ms
                                                                             0



Proof. See Appendix.

       We see that the pass-through expression in Corollary
                                                       
                                                            3 is the same as the one in Corollary
                                                                             q
                                                                            J0
1 for the specific tax except for the extra term -                               in the numerator which implies that
                                                                             D

  26                               dW
       While the welfare formula   d    does not depend on Assumption 3, without Assumption 3 the term  that
                                        dJ                                                           P           2P
appears in the formulas for  and        d    would have to be substituted by Q                       J       +   JQ qq   . See Appendix.



                                                               24
 < t whenever 0 = 0. This is a standard result in the literature. To see the intuition
for why ad valorem taxes lead to lower consumer prices, consider a marginal increase in the
producer price. In the case of a specific tax, the firm gets full amount of the price increase on
the inframarginal units; however, with an ad valorem tax, the firm only keeps the part of the
extra revenue on the inframarginal units that does not go to the government. Thus, firms face
less of an incentive to increase prices at the margin under an ad valorem tax. Note that unlike
                                                                                                 dJ
the specific tax case, even if demand is inelastic so that          D   = 0, we can still have   d
                                                                                                      < 0. This
is the reason that there is an additional 0 term in the numerator of  compared to t where
it only enters through    t   and is always scaled by         D.   Thus, ad valorem taxes have stronger
effects on entry and exit and we will see below can lead to greater long-run effects on prices
than specific taxes.
   Now we characterize the conditions under which a small change in the ad valorem tax
increases welfare and producer prices.

Corollary 5. Assume q  (0, J ],   [0, 1], and 0 = 0.
   1. Overshifting: a small tax increases producer prices if and only if:

                                dp
                                   0
                                d
                                         1       1                  0
                                 1-              
                                                     -
                                         ms      D          p0 q0 (1 +  0 )

   2. Starting from no tax 0 = 0, introducing a small specific tax, increases welfare if and
only if:

                dW    0 dJ
                   0            - 1
                 d   p0 Q0 d
                                                                                           q
                      1     1      0 D          1  1                               D   -   J0
                      +        -1         q 1 +  +    +                                  q
                      D     ms    p 0 q 0 J0    D  ms                                  S J0


   3. Therefore, if 0 = 0, starting from no tax 0 = 0, introducing a small tax, increases
welfare if and only if there is no overshifting:

                              dW   dp   1  1
                                 0    0  +    -10
                               d   d    D  ms


Proof. See Appendix.

   The overshifting condition for ad valorem taxes shows that when 0 = 0, producer prices
                                                        1          1
increase and welfare is reduced whenever 1 -            ms
                                                                        which is the same condition as in
                                                                   D




                                                   25
Delipalla and Keen (1992) and Anderson, De Palma and Kreider (2001a). Note also that
                       dp                    dp                       
in this case, if       d
                             0, then         dt
                                                   0 since            D    > 0. While it might appear at first glance
from our condition that overshifting is possible when demand log concave (for sufficiently
large values of 0 ), infact this is not true. The reason is that the parameter region featuring
                            1       1              0                                                             1
overshifting 1 -            ms
                                        -   p0 q0 (1+ 0 )
                                                               and log-concave demand                            ms
                                                                                                                      - 1  0 violates the
                                    D

stability condition  > 0. Interestingly, in the general case, our results show that there are
                       dp               dp
scenarios where        d
                             0, but     dt
                                               0 for sufficiently large 0 . This is in contrast to the results
in Anderson, De Palma and Kreider (2001a) which we elaborate on below.
         The pass-through formula contained in Proposition 2 extends results in Kroft et al. (2020a)
and Weyl and Fabinger (2013) to the case of free-entry. Our final corollary compares the
short-run pass-through formula for an ad valorem tax in Kroft et al. (2020a) to the long-run
pass-through formula in Proposition 2 and highlights the key economic forces differentiating
them.27 For concreteness, we define SR
                                        1 - 1 - SR mc
                                                   p
                                                       as the pass-through of an ad
valorem tax in the short run.

Lemma 4. The effect of competition on prices and output is given respectively by:

                                   p      1   p (1 +  )     J q
                                     =         -        1+
                                   J   1 +   Q    J D       q J
                                 J q           q      1      D
                                     = -SR 1 -   1-     -
                                 q J           J     ms   (1 +  )pq

         Thus, in the case of constant marginal cost (                        S   = ),      p
                                                                                            J
                                                                                                    < 0 if and only if          1
                                                                                                                                ms
                                                                                                                                            D
                                                                                                                                         p(1+ )q
                                                                                                                                                   <
1 and there is business stealing                  q
                                                  J
                                                      < 0 whenever                    D
                                                                                   (1+ )pq
                                                                                                +   q
                                                                                                    J
                                                                                                         1-      1
                                                                                                                 ms
                                                                                                                        < 1.

Proof. See Appendix.

Corollary 6. Entry and short-run versus long-run pass-through:
         The following three conditions are equivalent:

                                                                                        q                        q
                         dJ                                                   D   -     J       1        1-      J
                            < 0   < 0  1 +                                          q       +        +       
                                                                                                                      >0
                         d                                                        S J           ms           D


         Moreover, assume constant marginal cost (                        S   = ) and assume that the the variety effect
    27                                                                                                         0           1         1
         It is also useful to compare the long-run overshifting condition 1 +                           p0 q0 (1+ 0 )           +    ms
                                                                                                                                          with the
                                                                                                                            D
                                                  1       1
short-run overshifting condition 0                    +   ms
                                                               that applies in the simple case with constant marginal cost
                                                  D
                                                                                                                 dJ             
S  =  and full salience  = 1. Note that even if                   D   = 0 we are able to recover                 d    < 0 and       < 0, which is
not the case for specific taxation.




                                                                      26
 is bounded by          1
                        ms
                                D
                             p(1+ )q
                                       < 1 so that   p
                                                     J
                                                         < 0 holds by Lemma 4. Then

                                             
                                              < 0   > SR
                                                      
                                             

Proof. See Appendix.




5     Comparing the Welfare, Pass-through and Entry Ef-
      fects of Specific and Ad Valorem Taxes
In this section we discuss the relationship between ad-valorem and specific taxation. We gen-
eralize the basic setup by letting qj = qj (p1 , ..., pJ , , t) be a function of prices and both (, t)
and allow for tax salience by considering the possibility that qj (p1 , ..., pJ , , t) = qj (p1 (1 +
 ) + t, ..., pJ (1 +  ) + t, 0). As before, we assume that the "observed" demand function
qj (·) is symmetric and twice differentiable and denote by q J (p, , t) demand corresponding
to symmetric prices and J firms: q J (p, , t)  qj (p, ..., p, , t). We define market demand as
Q(p, , t, J ) = Jq J (p, , t) and the willingness-to-pay for unit Q when variety is J as the inverse
market demand wtp(Q, J )  P (Q, J )  Q-1 (p, 0, 0, J ). We define the degree of inattention to
                                                                      Q(p,0,0,J )
                                                                                        1            Q/t
ad valorem and specific taxation respectively as                         
                                                                      Q(p,0,0,J )   ×   p
                                                                                            and t    Q/p
                                                                                                         ,   the ratio
                                                                         p
of the demand responses to the tax and price starting from  = t = 0.
    Assuming that  and t are constant over (p, , t, J ), we can show that Q(p, , t, J ) satisfies
wtp(Q(p, , t, J ), J ) = p(1+   )+ t t. As above, we have the following definitions: mwtp(Q) =
wtp                      ms(Q)
 Q
    (Q, J ),   ms       ms (Q)Q
                                , where ms(Q)         -mwtp(Q)Q is marginal consumer surplus,                    D   
  p(1+ )+t             p(1+  )
- Qmwtp(Q) ,   D
               
                       p(1+ )+t D
                                   and S  cc ((q
                                               q)
                                                 )q
                                                         The generalized Lerner condition in this setup is
the following:
                                                               q  
                                           p - mc(q )         J
                                                       =
                                          p(1 +  ) + t   (1 +   )          D

To be able to compare the welfare effects of taxation, we first define the marginal cost of
public funds for each form of taxation as:

                                                                dW
                                                                 dt
                                               M CP Ft  -       dR
                                                                 dt



                                                                dW
                                                                 d
                                               M CP F  -        dR
                                                                 d




                                                          27
Proposition 3. Let t =   [0, 1] and q  (0, J ]. Consider the long-run free-entry condition
 = 0. Then:
       1. Starting from 0 = t0 = 0 , the ranking of pass-through for both forms of taxation is
given by:
                                                            0 D
                                               > t                 >1
                                                            p0 q 0
       2. Independent of (0 , t0 ), the effect of each form of taxation on entry is ranked by:

                                                    1 dJ   dJ
                                                         <
                                                    p0 d   dt

       3. Starting from 0 = t0 = 0, the marginal costs of public funds satisfy:

                                                          0 dJ
                                         M CP Ft = -            + t - 1
                                                          Q0 dt


                                                          0 dJ
                                       M CP F = -                +  - 1
                                                         p0 Q0 d

       4. Starting from 0 = t0 = 0, the desirability condition ranking M CP F and M CP Ft is
given by:28

                                                   0 D     q
                     M CP F > M CP Ft                    >     0 > (p0 - mc(q0 )) q0
                                                   p0 q0   J0

Proof. See Appendix.

       This analysis permits a comparative evaluation between ad valorem and specific taxes.
There are several noteworthy results from Proposition 3. First, we see that when 0 = 0,
pass-through for ad valorem taxes is always less than pass-through for specific taxes and ad
valorem taxes are more efficient than specific taxes which is well known in the literature (see
Delipalla and Keen 1992 and Anderson, De Palma and Kreider 2001a;b). Second, we see that
if the variety effect is sufficiently strong, both of these results can be overturned. In particular,
if consumers have a strong preference for variety, then consumer prices might be higher under
ad valorem taxation and welfare might be lower. Additionally, we see that if consumer prices
  28                                                                                                          
    It is worth noticing that in the knife edge case where D = 0, the Lerner condition implies Jq              0
                                                                                                                  = 0,
and so the expression in the middle should not be taken into account; instead one might apply the last
condition M CP F > M CP Ft  0 > (p0 - mc(q0 )) q0 . Moreover, D = 0 and equation (4) imply dW                    dt =
(0 - [p0 - c (q0 )]q0 ) dJ
                        dt where W
                                 J    =   0 - [ p0 - c ( q0 )] q0 ; therefore ad valorem taxation is to be preferred if
and only if there is over-entry of firms (or excessive product variety).




                                                          28
are higher under ad valorem taxation, then welfare is higher under specific taxation, but the
converse need not be true.
       Anderson, De Palma and Kreider (2001b) contains what appears to be the first coun-
terexample that ad valorem is not always to be preferred to specific taxation in a setting
with love-of-variety and endogenous entry. They consider a model of Bertrand competition
without an outside good so that demand is completely inelastic with respect to taxation (see
footnote (28)). This eliminates the static distortionary effect of taxation which tends to favor
ad valorem taxation. They show that in a discrete choice model with exponentially distributed
match values (Proposition 5), that in the absence of taxation, variety is efficient and that spe-
cific taxation is more efficient than ad valorem taxation. This result comes from the fact that
with completely inelastic demand (           D   = 0), variety does not change with a specific tax (as
can be seen from equation (12) by setting            D   = 0) and so continues to be efficient even with
taxation; on the other hand, variety is reduced below the efficient level with an ad valorem tax
even with inelastic demand. Importantly, this logic implicitly assumes that the tax increase
is large; for a small tax change, our results indicate that if variety is efficient, when demand is
perfectly inelastic (so that there is no static distortionary effect of taxation) the welfare cost
of taxation and hence the marginal cost of public funds is 0 for both specific and ad valorem
taxation.
       Our desirability condition accounts for both the static distortion to output and the distor-
tion to product variety and highlights the role of the the variety effect (0 ) and the markup
(p0 - mc(q0 )). Intuitively, if the variety effect is large relative to the markup, there is insuf-
ficient entry. Given that ad valorem taxes cause more of a distortion on the entry margin
due to the multiplier effect (Keen 1998) (result 2 in Proposition 3),29 it follows that when
the variety effect is large, specific taxation has more favorable welfare effects than ad valorem
taxation. Our results imply that in markets with stronger love-of-variety and more elastic
demand, specific taxation is more likely to be a preferable form of excise taxation than ad
valorem taxation. It is noteworthy that this contrasts with the speculation of Anderson, De
Palma and Kreider (2001b) who argue in their conclusion that specific taxation is likely to be
more desirable on inelastic commodities and ad valorem may be preferable on elastic prod-
ucts where losses associated with the static demand distortion may outweigh the distortion
to product variety.
       On the other hand, it is less well known that consumer prices can be higher under ad
  29
    In particular, starting from 0 = t0 = 0, for a given initial J (0) it can be shown that for revenue equivalent
t and  , result 2 in Proposition 3 implies that J ( ) < J (t).




                                                         29
valorem when the variety effect is large. In fact, Anderson, De Palma and Kreider (2001a)
demonstrate in a model of Bertrand pricing with differentiated products, that in the long run
consumer prices are always lower with ad valorem prices, similar to results in models featuring
homogeneous products and Cournot quantity competition. So what explains the discrepancy
in results? The next corollary sheds light on this.

Corollary 7. Consider the ranking of pass-through for the two tax structures ( and t ).
Then  > t implies      q
                       J
                           > 0 and 1 -   1
                                         ms
                                              > 0 so that t > 1.

Proof. See Appendix.

    Thus, while Proposition 3 shows that we can obtain a rank reversal in the pass-through
of specific versus ad valorem taxation if the variety effect is sufficiently strong, Corollary 7
establishes the scenario where this is satisfied. In particular, in order for ad valorem taxes to
have a larger effect on prices than specific taxes, there must be a business-augmenting effect
          q
so that   J
              > 0 which is a violation of the restriction imposed in Anderson, De Palma and
Kreider (2001a). On the other hand, when        q
                                                J
                                                    < 0 is satisfied,  < t which is the common
result reported in the literature but only a particular case of our model.




6     Estimation of Reduced-form Effects of Taxation
This section discusses the estimation of the reduced-form effects of sales taxes on (pre-tax)
prices, quantity demanded, and product variety. We first describe the data used in the empir-
ical analysis, and we then describe the empirical strategy. Lastly, we discuss the reduced-form
estimates that we will then use as inputs into our model-based estimation and calibrations in
Section 7.



6.1       Data Description
We combine the Nielsen Retail Scanner (RMS) data for the years 2006 - 2014 with data on
state- and county-level sales tax rates and tax exemptions. The RMS data records weekly
prices and quantities by product at the barcode level designated as Universal Product Codes
(UPCs) for 35,000 stores in the United States (excluding Hawaii and Alaska). Products are
organized in a hierarchical structure: there are over 2.5 million different UPCs, which are
categorized into approximately 1,200 product-module s (e.g. fresh eggs, milk, aluminum foil,


                                                 30
batteries, frozen desserts). For computational reasons, we restrict our analytical sample to the
top 20 percent of modules in terms of total U.S. sales. To address the concern that sales taxes
are spatially correlated across regions of the U.S. in ways that may endogenously reflect the
geographic distribution of consumer preferences, we also restrict our sample to grocery stores
located in contiguous counties on opposite sides of a state border to implement a "county
border pair" research design following Holmes (1998) and Dube, Lester and Reich (2010).
Grocery stores typically sell both food and nonfood products, and effective tax rates on food
and nonfood products differ in most states. This provides us with cross-sectional variation
in tax rates across produce-modules within stores, and we primarily rely on this source of
variation in taxes in our reduced-form analysis to estimate the causal effects of sales taxes.30
       We define all of our variables at the level of module (m), store (r), and year (n), which
requires aggregating the data over time and across products. In the RMS data, we first
aggregate weekly revenue and quantities sold to the yearly level separately for each UPC. The
average yearly price for product j in store r is calculated by dividing the total yearly revenue
(from the sales that product) by the number of units sold. To obtain a module-level price
index (aggregating average yearly prices across all of the products in a module), we follow
Handbury and Weinstein (2015) and regress log average yearly price on UPC fixed effects and
store fixed effects, separately for each module and each year. The estimated store fixed effects
serve as the pre-tax price. To measure quantity demanded, we re-calculate yearly revenue
replacing the price of each product j in store r by the average national price (across all stores
in our sample), and then aggregate across products within a module-by-store-by-year cell.
This effectively constitutes a price-weighted quantity demanded index based on prices that
are common across stores, an approach that is similar to the real consumption index developed
by Kaplan, Mitman and Violante (2020). We measure product variety as the simple count of
UPCs with positive sales within a module-by-store-by-year cell.
       Finally, we assign each module-store-year observation a tax rate based on the rate effective
on September 1st in the county in which a store is located. For each module, the effective
tax rate, mcn , depends on county and state sales tax rates and product-specific exemptions.
Table 1 presents the summary statistics for our final sample, which includes more than 11
million module-store-year observations covering 3,822 grocery stores, 198 modules, and 543
counties over 9 years. Two contiguous counties located in different states form a county-pair
d, and counties are paired with as many cross-state counties as they are contiguous with. The
  30
    We use cross-sectional variation to approximate steady-state, "long-run" adjustments to tax policy in
prices, quantity demanded, and product variety. Atkin, Faber and Gonzalez-Navarro (2018) similarly use
cross-sectional variation in store-level prices to estimate long-run elasticities of substitution across stores.



                                                      31
counties in our sample are part of 497 different county border pairs. For estimation purposes,
the original dataset is rearranged by stacking all pairs. For instance, a module-store cell
located in county c appears as many times as the number of counties county c is paired with.
       The sample average tax rate in our sample is 3.4 percent (calculated as a weighted average
weighting each observation by the inverse of the number of pairs that a store is part of),
which is considerably below average legislated sales tax rates since our sample includes a large
number of tax exempt products for which the tax rate is 0. Because prices are calculated
from fixed effects regressions, the sample mean of this variable is normalized to 0 in the
underlying UPC-level data.31 In our final border-county sample, the mean (log) price is 0.005
and the standard deviation is 0.114. For quantity and product variety, the mean and standard
deviation (in parentheses) are equal to 10.241 (1.372) and 4.241 (0.969), respectively. Table 1
also reports summary statistics split by above-median and below-median tax rates (based on
the median tax rate within each module-by-year cell). Average pre-tax prices are roughly the
same for above-median and below-median tax rate cells, while quantity and product variety
is slightly lower in above-median tax rate cells.



6.2       Estimation Strategy
We estimate the effects of sales taxes using the following "county border pair" regression
model:


                                2014
                 log ymrdn =              y,z [log(1+ mcn ) × 1{z = n}]+  mdn +  rn + mrdn                  (22)
                               z =2006


where the outcome ymrnd is either pre-tax prices p, quantity Q, or product variety J for module
m, store r, and year n, and each county belongs to one or more county border pairs indexed
by d. The term mcn is the sales tax rate that applies to module m in county c in calendar
year n. All regressions are weighted by the inverse of the number of county pairs that a store
is part of.
       From equation (22), we obtain one coefficient estimate per year. We then summarize
the estimated effect of sales taxes on outcome y ,  y , by taking a simple average of all the
coefficient estimates  y,z , putting equal weight on all 9 yearly cross-sectional estimates (i.e.,
          1
y =       9
               y,z for y  {p, Q, J }). This econometric approach is numerically equivalent to
  31
    The sample used in these regressions also includes grocery stores in non-border counties. Statistics reported
in Table 1 are calculated for our border-county subsample only.


                                                       32
estimating the model separately for each year and then averaging the coefficients. To account
for spatial auto-correlation as well as the fact that some counties border multiple states and
therefore appear multiple times in the data, standard errors are two-way clustered by border-
pair-by-module and state-module in all specifications (Boone et al. 2016, Cameron, Gelbach
and Miller 2011).
   The terms mdn and rn are module-by-border-pair and year-specific store fixed effects,
respectively. The effects of sales taxes (on prices, quantity and product variety) are therefore
identified under the assumption that tax rates are uncorrelated with unobservable deter-
minants of demand conditional on these fixed effects. The identifying assumption is that
governments do not set local tax rates on products based on their relative market shares. For
example, our estimate of the effect of taxes on quantity demanded would be biased upwards
for  Q if jurisdictions where the consumption share of unhealthy food products (e.g., candy,
soft drinks) is relatively high responded to this high demand by specifically subjecting these
goods to higher sales taxes. The inclusion of module-by-border pair fixed effects accounts for
broad spatial differences in tastes and tax rates for specific modules, effectively restricting
comparisons to nearby stores that are in different states and therefore face different sales tax
rates and exemptions for reasons that are plausibly unrelated to demand factors. Any store
and county-level differences that do not vary across modules are absorbed by the store fixed ef-
fects. Our approach therefore mimics a cross-sectional difference-in-differences strategy, where
the first difference is across products and the second difference is across stores within county
border pairs.
   One concern with interpreting the OLS estimates as the causal effect of sales taxes is
that there is existing evidence that border counties adjust local sales tax rates strategically
to compensate for cross-border differences in state-level sales tax rates (Agrawal 2015). In
supplementary analyses, we assess whether this is an important source of bias in our empirical
setting by instrumenting the statutory tax rate mcn with the state-level average ¯mc(s)n , which
we calculate as the average tax rate across stores in the same state excluding all stores located
in county c, separately for each module and year.



6.3    Reduced-form Estimates
The main results from estimating equation (22) are reported in Table 2. The dependent
variable is the average pre-tax price in column (1), quantity demanded in column (2), and
product variety in column (3). Since we use pre-tax prices in column (1), a coefficient estimate


                                               33
of zero corresponds to full pass-through of sales taxes to consumers (i.e., a pass-through rate
equal to one).
   We report OLS estimates of the model in equation (22) in Panel A of Table 1. We find a
small amount of overshifting of taxes on consumer prices with a coefficient of ^p = 0.038 (s.e.
0.016), implying a pass-through rate slightly greater than one. We find that the elasticity of
quantity demanded with respect to sales taxes is ^  Q = -0.676 (s.e. 0.155). This estimate is

very similar to previous work studying tax salience using the same scanner data; for example,
Kroft et al. (2020a) estimate an output elasticity of -0.650 (s.e. 0.084) using a different source
of tax variation.32
   Lastly, we find that the estimated elasticity of product variety with respect to sales taxes is
equal to ^J = -0.236 (s.e. 0.074). We are not aware of existing estimates of the effects of taxes
on product variety for a broad cross-section of product-modules, so we cannot benchmark this
estimate to the previous literature. One way to interpret the magnitude is to note that the
                                                                            d log(Q)         d log(J )
overall effect of taxes on quantity demand can be decomposed as            d log(1+ )
                                                                                        =              + d log(q) ;
                                                                                            d log(1+ ) d log(1+ )
i.e., the total elasticity is the sum of the variety elasticity and the "quantity demanded per
variety" elasticity. Using this decomposition, we find the variety elasticity accounts for about
one-third of the overall effect of taxes on quantity demanded. Another way to interpret the
magnitude is using the formula for the variety elasticity in terms of structural parameters,
and then inspecting the parameters that are consistent with this reduced-form estimate; we
do this in Section 7 below and find that it leads to reasonable estimates of the underlying
structural parameters governing the love-of-variety, the shape of demand curve, and the market
conduct parameter. Panel B reports 2SLS estimates using the state-level average tax rate as
an instrument, and we find results that are very similar to the OLS results, suggesting that
product-specific endogenous sales tax rates within county border pairs are not a substantial
source of bias in our setting.
       We also assess the reliability and robustness of these main results in two ways. First,
we report the yearly OLS and 2SLS estimates for each of the main outcomes reported in
Table 2 (i.e., pre-tax prices, quantity, and variety) for each year in Figures OA.1 and OA.2.
These figures show that the county border pair estimates are fairly stable across years and
clustered around the across-year simple average. We gain precision by pooling the OLS and
2SLS estimates across years, and these figures show that our model-based estimates are not
  32
    The estimates in this paper are based on a pooled cross-sectional research design comparing across counties
that share a state border, while Kroft et al. (2020a) used within-county variation in tax rates over time. One
reason we focus on a cross-sectional research design is that we see the long-run free-entry condition in the
theory as potentially taking a long time to emerge. Future work could try to combine the sources of variation
to trace out the dynamic adjustments of product variety to sales taxes over time.


                                                      34
sensitive to the specific choice of years in the sample.
       Second, we implement placebo tests that exploit the difference in average tax rates between
food and nonfood products that arise due to local tax exemptions. While nonfood tax rates
generally exceed food tax rates in most counties, the gap between average food and nonfood
tax rates varies substantially within county border pairs. We examine how prices, quantity,
and product variety vary with the tax rate they are subject to (on the basis of whether
they are food or nonfood products) versus the tax rate that applies to other products in the
same jurisdiction. To implement these tests, we residualize the outcome and tax variables
on module-by-border pair-by-year fixed effects and calculate the difference in mean residuals
between the two counties in each county-pair d in each year n, separately for food and nonfood
products. We obtain a dataset with two observations per county-pair-year cell, one for food
products and one for nonfood products. All variables (outcomes and tax rates) are measured
as within-cell (between-county) differences in mean residuals. These results are reported in
Appendix Table OA.1, and they represent a kind of "horse race" model that exploits residual
variation across food and nonfood products. Formally, we regress log(p), log(Q) and log(J )
on their own tax rate (i.e., average food tax rates for food products and average nonfood tax
rates for nonfood products) as well as on the other category's tax rate. In column (1) only
the "own" tax rate is included, in column (2) only the "other" tax rate is included, and in
column (3) both average tax rates are included simultaneously. For quantity and variety, the
placebo (other) tax rate has no residual explanatory power: the between-county differences
in quantity and variety are unrelated to differences in tax rates that apply to other products.
By contrast, prices appear to increase both as a function of own and other tax rates, but the
coefficient on own tax rate is larger in magnitude. This suggests stores raise all prices when
taxes increase on some products, and raise prices even more for products for which the tax
increase directly applies.33 Finally, in column (4), we include cell fixed effects to mimic our
main results that include store fixed effects. Here, the coefficient on own taxes is identified
by differencing between food and nonfood products within counties. Overall, the reported
coefficients are similar to the preferred estimates of the effects of taxes reported in Table 2.
       Overall, we conclude that taxes have a clear effect on overall quantity demanded, and we
also find some evidence of a small amount of overshifting of taxes and a modest reduction
in product variety. These reduced-form effects are robust to alternative specifications and
stable over time, and they are useful for calibrating the marginal excess burden of ad valorem
  33
   Note that our main results that do not take into account such cross-product spillovers may therefore
understate the true extent of overshifting.




                                                  35
taxation, as well as identifying the main model parameters.




7      Model calibrations
This section considers identification and estimation of the deeper model parameters and cali-
brates the main welfare formula. We also show how estimating the deeper parameters allows
us to learn about whether or not variety is socially optimal at current tax rates and compare
the incidence and efficiency costs of the existing ad valorem taxes to a counterfactual specific
tax.



7.1    Identifying and Estimating Model Parameters from the Reduced-
       Form Results
This subsection describes how we identify and estimate the deeper model parameters using
the reduced-form estimates. We rely on the formulas in Section 4 above that define each
of the reduced-form effects of taxes (on prices, variety, and total quantity) in terms of the
model parameters. We assume constant marginal costs (so that S = ), and we calibrate
the baseline tax rate of 0 = 0.034 based on the average tax rate in our data (see Table 1).
We calibrate the price elasticity of demand to be    D   = 1.223 and the tax salience parameter
to be  = 0.528, based on the estimates in Kroft et al. (2020a). Both of these parameters are
estimated using similar retail scanner data. This leaves three remaining unknown parameters:
the love-of-variety parameter (  ~ 0  0 J ), the elasticity of inverse marginal surplus (ms ),
                                         pQ
and the conduct parameter (vq /J ). We can then solve for the values of the three unknown
parameters that make the model-implied effects of taxes exactly match the reduced-form
estimates in Table 2.
    Before solving for the parameter estimates, we can build on the theoretical analysis in
Section 4 to provide an intuitive discussion of how each parameter is identified. The conduct
parameter is identified by the long-run free-entry condition (Lemma 3), which implies that
the markup is equal to the ratio of the effects of taxes on pre-tax prices to the effect of taxes
on the quantity demanded per firm. In terms of the reduced-form estimates, this means that
the markup is equal to -^p /(^Q -  ^J ). Using the reduced-form estimates in Table 2, Panel
C of Table 3 reports the markup estimate of (p - c (q ))/p = 0.080. Given this estimate of the
markup, we can then use the generalized Lerner index defined in equation (13) to recover the



                                               36
conduct parameter using the (calibrated) values of the tax rate, the tax salience parameter,
and the price elasticity of demand. This results in an estimate of vq /J = 0.096 (where 0 is
perfect competition and 1 is perfect collusion). This implies that there is a high degree of
competition in our sample of retail grocery stores, which is plausible given that retail stores
are typically thought to operate under fairly small margins (see Kroft et al. (2020a) for more
detailed discussion).34
       With the conduct parameter in hand, we can identify the elasticity of inverse marginal
surplus using the formula for the pass-through of taxes into consumer prices (see Proposi-
tion 2). Corollary 4 shows that ignoring love-of-variety, the parameter                        ms   is identified by
the pass-through rate given knowledge of the conduct parameter (recovered in the previous
step). Importantly, Corollary 4 shows that varying the demand elasticity does not affect
what we infer about the curvature parameter holding constant the pass-through estimate
and conduct parameter. This is consistent with previous work that emphasizes that, under
constant marginal costs, it is the demand curvature rather than the demand elasticity that
determines pass-through (Bulow and Pfleiderer 1983, Weyl and Fabinger 2013). Our analysis
shows that this logic extends to allowing for love-of-variety preferences and free entry. To see
this more formally, we can use the definition of  and the expression for dJ/d to solve for
the following expression of the love-of-variety parameter in terms of                  ms ,   the conduct param-
eter, the reduced-form effects of taxes on variety and total quantity demanded, and the other
(calibrated) parameters:

                       ~ 0 = k1 + k2  (1/
                                                 ms )                                                          (23)
                                                                                         
                                                        ^
                                                                     q            q
                                                         Q    1-     J            J
                                 k1  (1 +   )              1+   
                                                                              +   
                                                                                      - 2
                                                        ^J
                                                                D                 D

                                                   ^Q
                                 k2  (1 +   )
                                                   ^J
                                                   

The formula above shows there is an affine mapping from 1/               ms   to ~ 0 , and so we can substitute
this expression into the pass-through expression, leaving only                ms   as the remaining unknown
  34
    Kroft et al. (2020a) estimates a somewhat smaller mark-up of around 3 percent, but that analysis does not
allow for endogenous entry, and the estimates are based on relative short-run responses to quarterly variation
in sales taxes. The present paper instead uses cross-sectional variation, which one can loosely interpret as
corresponding to steady-state, "longer run" effects of taxes allowing for endogenous entry. As a result, our
preferred interpretation of the mark-up in the present paper is a "longer run" mark-up that would need to
cover additional fixed costs that would be relevant for product entry decisions. We therefore view it as fairly
reassuring that the reduced-form effects of taxes on quantity is similar across the two papers, but the implied
mark-up is larger given that the mark-up in the "longer run" has to cover additional (fixed) costs that would
plausibly be interpreted as "sunk" in in the shorter run (quarterly) analysis in Kroft et al. (2020a).



                                                        37
parameter (as a function of the three reduced-form effect estimates and the other calibrated
parameters). We can then use this expression to solve for                ms ,   and Panel C of Table 3 reports
 ms    = -0.936.35 According to our theoretical analysis, this parameter must be negative
whenever there is overshifting of ad valorem taxes, which is what we find empirically (see
Table 2).
      Lastly, given estimates of conduct parameter and curvature parameter, we can then use
the affine mapping in equation (23) to identify and estimate . This shows that the identifi-
cation of the love-of-variety parameter comes primarily through the ratio (^Q /^J ). The larger
the ratio, the larger the inferred love-of-variety. Intuitively, when  Q increases relative to  J
(holding the price elasticity of demand fixed), this means that demand falls a lot for a given
change in variety, which in turn reveals that consumers have a high willingness-to-pay for
variety. Using equation (23), we estimate the variety effect to be ~ 0 = 0.133. This parameter
can be given a willingness-to-pay interpretation: an exogenous 10 percent reduction in variety
reduces average willingness-to-pay by 1.33 percent. This magnitude is smaller than the recip-
rocal of the demand elasticity (0.818), which is the love-of-variety value that would occur in
a logit model of consumer demand (and which is often thought to substantially overstate the
true love-of-variety).36



7.2      Calibrating the Marginal Excess Burden of Ad Valorem Taxes
With the love-of-variety parameter estimate in hand, we can now calibrate the main welfare
formula using the reduced-form empirical estimates presented in Section 6. Since the estimates
  35
     Formally, there will always be two values of ms since the pass-through formula can be re-written as a
quadratic in 1/ ms . One of the solutions to the quadratic violates the necessary condition that dJ/d = 0. This
condition is necessary for identification to ensure that (^Q / ^J ) exists. The other solution to the quadratic will

not violate this condition, and that is the solution we solve for numerically. Note that there is no guarantee
the resulting solution will satisfy the stability condition (i.e.,  > 0). As discussed above in Section 4, the
stability condition will be violated whenever the estimate of  is very large, which will generally be the case
whenever (^  Q / ^J ) is very large.
  36
     Since we calibrate the tax salience parameter and the price elasticity of demand, Appendix Table OA.2
shows the sensitivity of our results to alternative values of these parameters. Interestingly, varying both
parameters but holding constant the product of the two terms leads to very similar values of the variety effect.
Increasing the demand elasticity while holding constant the tax salience parameter leads to a larger change
in the variety effect than the curvature parameter, while decreasing the demand elasticity actually leads to a
negative love-of-variety parameter estimate. If such "hate-of-variety" preferences are ruled out a priori, then
this implies that our model puts a lower bound on the demand elasticity given our reduced-form empirical
estimates. The calibrated value of the price elasticity of demand comes from relatively "short run" variation
in local prices, and our analysis in the present paper focuses on "long run" effects of taxes allowing for entry
and exit of products, it is probably more likely that the calibrated demand elasticity is an under-estimate
rather than over-estimate since demand curves are generally more elastic over time (Samuleson 1947).



                                                        38
above are based on ad valorem taxes, we calibrate the marginal excess burden formula for the
case of an ad valorem tax ( ). To obtain an expression in terms of the reduced-form elasticities,
we normalize the welfare formula by total firm revenues:

             dW  dW 1 +         d log QL      d log p    ~ 0 d log J .
                         =  0             -             +
              d   d pQ        d log(1 +  ) d log(1 +  )     d log(1 +  )

The reduced-form estimates ^Q, ^p , and ^J reported in Table 2 can be used to calibrate
 d log QL
          , d log p ,
d log(1+ ) d log(1+ )
                        and      d log J
                              d log(1+ )
                                         ,   respectively. Using these estimates, we calculate dW /d =
-0.085 (see Panel D of Table 3). This is larger in magnitude than a standard Harberger
benchmark adjusted for salience effects (dW /d = -0.013), which is one useful benchmark for
comparison. Ignoring love-of-variety (i.e., assuming ~ 0 = 0), but accounting for endogenous
product variety through free entry leads to a marginal excess burden of dW /d = -0.052.
This is the estimate one would calibrate based on our extension of the theoretical results in
Besley (1989) to cover ad valorem taxes. The reason we find a larger negative effect of taxes on
welfare (relative to a Besley (1989)-style benchmark) is that we find a positive love-of-variety
estimate and a negative effect of taxes on product variety ­ and according to the full marginal
excess burden (MEB) formula, the MEB is increasing in the product of these two terms.



7.3     Welfare analysis of product variety
Using the full structure of the model, we can infer whether or not variety is socially optimal.
To see how this is achieved, we first re-write the marginal excess burden formula that connects
to equation (5) as follows:

       dW                                  d log(J )    (p0 - c (q0 )) d log(q )
              =     W / log(J )                       +                            |J
        d                                d log(1 +  )        p0       d log(1 +  )
                                    0                                <0

                    (p0 - c (q0 ))  log(q ) ~     d log(J )    (p0 - c (q0 )) d log(q )
              =                             + 0              +                            |J
                         p0         log(J )     d log(1 +  )        p0       d log(1 +  )

   The first term in parentheses multiplying the effect of taxes on variety ( W / log(J ))
provides a direct test for whether or not variety is socially optimal because it balances the
business stealing costs of additional variety from the love-of-variety benefits. In order to
calibrate the expression, we need an estimate of the love-of-variety parameter and the mark-
                                                                     log(q )
up (see subsection 7.1 above), along with an estimate of             log(J )
                                                                             .   Lemma 4 above shows that



                                                        39
this partial elasticity can be defined in terms of the conduct parameter, demand elasticity,
and inverse elasticity of marginal surplus. Using all of the estimated parameters described in
                                                          log(q )
previous subsection and listed in Table 3, we estimate    log(J )
                                                                    = -0.728 (see Panel B of Table
4). Multiplying this partial elasticity by the average mark-up and adding the love-of-variety
parameter leads to an estimate of  W / log(J ) = 0.075, which is greater than zero and thus
implies that there is inefficient entry ­ i.e., that product variety is too low relative to social
optimum.
    In column (2) of Table 4, we hold all other parameters constant and calculate the value
of the love-of-variety parameter such that  W / log(J ) = 0; this leads to  ~ 0 = 0.065, or
roughly half of the actual estimate. In this case, the business-stealing effect and variety effect
exactly cancel out, which zeroes out the first term in the formula above. As a result, the
marginal excess burden collapses to the standard formula for excess burden under imperfect
competition, with the quantity elasticity scaled by the mark-up (see, e.g., Auerbach and
Hines Jr 2002). This shows that our main formula provides an alternative way to calibrate
the marginal excess burden without using the mark-up (since the mark-up is not one of the
sufficient statistics in the full welfare formula). Instead, our formula requires a pass-through
estimate and a love-of-variety estimate, along with the effect of taxes on variety. This formula
is robust to allowing for the level of product variety to be governed by free entry, and we do
not need to assume that variety is socially optimal.
   Lastly, column (3) in Table 4 reports results when there is no love-of-variety. In this case,
variety is clearly above the social optimum because the remaining model parameters imply
business-stealing costs of additional variety (which are social costs), but no social benefits of
additional variety. In this scenario, there is excessive entry as in Besley (1989).



7.4    Comparing ad valorem taxes to specific taxes
In this subsection, we compare the incidence and efficiency costs of existing ad valorem taxes
to the incidence and efficiency costs of a counterfactual specific tax. That is, suppose a given
amount of revenue is raised by a specific tax instead of an ad valorem tax. Would that generate
larger changes in pre-tax prices? Larger efficiency costs? And how do these conclusions vary
with the magnitude of the love-of-variety (holding other parameters constant)?
   In order to compare the efficiency costs of ad valorem and specific taxes, we use the
marginal cost of public funds (M CF P ) concept defined above; i.e., the ratio of the effect of
taxes on welfare to the effect of taxes on revenue (- dW/dt
                                                      dR/dt
                                                            ). Table 5 reports the counterfactual


                                               40
results. Column (1) reports the estimated pass-through ( ) and M CF P at current average
(ad valorem) tax rate of 0.034. The pass-through rate that is reported in column (1) closely
matches the reduced-form empirical estimate in Table 2 and indicates a small amount of
overshifting. The M CF P of 0.083 is very similar in magnitude to the marginal excess burden
reported in the bottom of Table 3 (of -0.085).37
       We next estimate the pass-through (t ) and marginal cost of public funds (M CF Pt ) of
a counterfactual specific tax, which we estimate by using the theoretical formulas for t and
M CF P of a specific tax, holding constant all of the model parameters estimated above.
The results in column (2) show that this counterfactual specific tax would lead to even more
overshifting (i.e., greater magnitude of pass-through), but a smaller efficiency cost (0.067,
compared to 0.083 in column (1)).
       For comparison, in columns (3) and (4) we redo the same calculations at the same values
of all of the model parameters except for the love-of-variety parameter, which we set to zero in
these two columns. In this case, we continue to find more overshifting in the case of a specific
tax, but a larger efficiency cost. In other words, we are able to replicate the longstanding
result that ad valorem taxes dominate specific taxes in terms of efficiency cost when there is
no love-of-variety. By contrast, we find that the actual love-of-variety we estimate (which we
view as fairly modest in size and well below the love-of-variety parameter one would estimate
using a standard logit choice model) "flips" this result and leads us to conclude that ad valorem
taxes actually lead to greater ­ not lower ­ efficiency costs.
       In the final two columns (columns (5) and (6)), we increase the love-of-variety parameter
from the baseline value in the first two columns (and continue to hold all of the other model
parameters constant). As in the first two columns, we find larger efficiency costs of ad valorem
taxes, but we now find greater overshifting for specific taxes. These results reinforce the
conclusions from the theoretical analysis: while the conventional view is that ad valorem
taxes "dominate" specific taxes on efficiency grounds and have lower pass-through, we find
that both of these can be overturned when love-of-variety is strong enough.
       The remaining panels of Table 5 give additional statistics that provide further economic
intuition behind these results. Panel C shows that the short-run (fixed-variety) pass-through
rate is smaller in magnitude for all values of the variety effect for ad valorem taxes, but is
slightly larger in magnitude for specific taxes. Panel D shows that the difference between the
short-run and long-run pass-through can be understood as a consequence of the (long-run)
  37
    This is not surprising since the pre-existing tax level is small and the amount of overshifting is also small,
which together imply that d log(R)/d log(1 +  ) is very close to 1.




                                                       41
effect of taxes on variety and the (short-run) effects of taxes on firm profits. Both of these
effects are negative for ad valorem taxes and positive for specific taxes. Lastly, Panel E shows
                                                                                               log(q )
that there are larger business-stealing effects when there is no love-of-variety (comparing    log(J )
in columns (3) and (4) to columns (1) and (2)), and in the final two columns with a large love-
of-variety the business-stealing effect switches sign and becomes positive (i.e., increased entry
actually raises demand for existing products). This is also the scenario where pass-through
of ad valorem taxes is larger than pass-through of specific taxes in the long run, in contrast
to previous theoretical analyses that restrict the sign of the business-stealing effect to rule
out this possibility (e.g., Anderson, De Palma and Kreider 2001a). The final row shows that
all of these scenarios continue to satisfy the stability condition that        > 0 (see Proposition
2), which implies that the restrictions in previous work are not necessary for stability, and
our more general formulas show that these restrictions would lead to incorrect conclusions
regarding the ranking of pass-through when love-of-variety is large.
   In the Appendix we report additional calibration results covering alternative counterfactual
scenarios. Appendix Table OA.3 shows sensitivity to alternative values of the inverse elasticity
of marginal surplus and reports results for even greater love-of-variety. By decreasing       ms ,   we
are able to find combinations where increases in counterfactual specific taxes also lead to
reductions in variety, similar to the baseline scenario studying ad valorem taxes. In this case,
we find lower pass-through in the short run, as well as short-run reductions in profits from
larger taxes. The final two columns show that the stability condition can be eventually violated
when   ms   is decreased and the love-of-variety is very large. Lastly, Appendix Table OA.4 shows
how pass-through varies with love-of-variety when     ms   is increased (rather than decreased, as
in OA.3). We find that at baseline parameter estimates greater love-of-variety leads to larger
pass-through, but we find this comparative static is reversed when        ms   = -0.468 (i.e., half
the magnitude of the baseline estimate). In this case, both types of taxes now encourage
entry and raise profits in the short run, and in this case greater love-of-variety leads to lower
­ rather than higher ­ pass-through in the long run.
   Taken together, we conclude from our empirical calibrations that even a relatively modest
love-of-variety is enough to overturn the standard efficiency cost ranking, implying that ad
valorem taxes may be suboptimal tax instruments when applied to product markets with
substantial product differentiation.




                                                42
8     Conclusion
In this paper, we develop new formulas to study the efficiency cost and incidence of ad valorem
taxes relative to specific taxes. On the firm side, our framework allows for both price and
quantity competition and entry and exit. On the consumer side, our framework incorporates
love-of-variety preferences and tax salience. Our formulas are stated in terms of the relative
elasticities of demand and supply, the curvature of the firm's own demand, market conduct,
and the causal effect of a change in variety on consumer surplus. To obtain estimates of these
parameters, we derive expressions for the causal effects of taxes on output, producer prices
and product variety in terms of the full set of model parameters. We then combine retail
scanner data from the U.S. with quasi-experimental variation in (ad valorem) sales taxes
to estimate these three reduced-form terms and find values of the model parameters that
cause the expressions to match the reduced-form empirical estimates. We use the resulting
parameter estimates to calibrate the marginal excess burden of ad valorem taxes, and we carry
out additional calibrations to assess whether or not variety socially optimal (at current tax
rates) and to determine the efficiency costs and incidence of existing ad valorem taxes relative
to a counterfactual specific tax.
    The theory comparing ad valorem to specific taxes has been applied to tariffs as well
as taxes, and so we believe our modeling and calibration approach should also be useful in
international trade contexts. Our identification approach can be implemented using large
data sets covering a very large number of distinct products (like many existing approaches
in international trade), and we believe our approach has a unique advantage in transparently
connecting the reduced-form empirical estimates of the effects on prices, variety, and total
quantity demanded to the underlying model parameters. Additionally, by disconnecting the
love-of-variety from the demand elasticity, the curvature of demand, and the market conduct
parameters, we believe our identification approach is particularly clear and intuitive. The av-
erage markup pins down the conduct parameter given the demand elasticity. The pass-through
estimate pins down the curvature of demand, which is identified freely from the demand elas-
ticity (as in Bulow and Pfleiderer 1983). The variety effect can be recovered given estimates
of the other parameters and the relative magnitude of the reduced-form effects of taxes on
variety and the total quantity demanded. The larger the reduced-form variety response to
taxes (holding constant the other parameters and the other reduced-form estimates), the larger
the love-of-variety. While there are many natural extensions to our model (e.g., allowing for
multi-product firms, as in Hamilton 2009), we believe the identification approach in this paper
is likely to extend naturally to many richer settings.


                                               43
   Lastly, we believe our framework can be used to study particular commodity markets
subjected to "sin taxes" (e.g., soda taxes) as well as products that are currently subjected to
specific taxes (such as gasoline, cigarettes, and alcohol). In all of these cases, there are often
policy considerations that are outside the scope of our analysis (e.g., addressing externalities
and "internalities"); however, we conjecture that many of the economic trade-offs we highlight
in this paper will still be relevant for these settings, as well. For example, if the social cost of the
externality scales with the responsiveness of output to the tax (alongside the markup), then it
is separable from the variety effect. As a result, extended versions of our formulas that account
for these kind of externalities (i.e., situations where taxed products generate externalities from
consumption) are still likely to point towards the relative efficiency of ad valorem versus specific
taxes depending on the strength of love-of-variety preferences, alongside the market demand
elasticity and market conduct. Overall, we conclude from both our theoretical results and
calibrations that love-of-variety and the degree of product differentiation should inform how
policymakers think about the optimal design of tax structure in a broad range of settings.




References
Adachi, Takanori, and Michal Fabinger. 2017. "Multi-Dimensional Pass-Through and
 Welfare Measures under Imperfect Competition." Working Paper.
Agrawal, David R. 2015. "The tax gradient: Spatial aspects of fiscal competition." American
 Economic Journal: Economic Policy, 7(2): 1­29.
Anderson, Simon P, Andre De Palma, and Brent Kreider. 2001a. "Tax incidence in
 differentiated product oligopoly." Journal of Public Economics, 81: 173­192.
Anderson, Simon P, Andre De Palma, and Brent Kreider. 2001b. "The efficiency of
 indirect taxes under imperfect competition." Journal of Public Economics, 81: 231­251.
Atkin, David, Benjamin Faber, and Marco Gonzalez-Navarro. 2018. "Retail Glob-
 alization and Household Welfare: Evidence from Mexico." Journal of Political Economy,
 126(1).
Auerbach, Alan J, and James R Hines Jr. 2002. "Taxation and economic efficiency." In
 Handbook of Public Economics. Vol. 3, 1347­1421. Elsevier.
Auerbach, Alan J., and James R. Jr. Hines. 2001. "Perfect taxation with Imperfect
 Competition." NBER Working Paper.
Baker, Scott R, Stephanie Johnson, and Lorenz Kueng. forthcoming. "Shopping for
 Lower Sales Tax Rates." American Economic Journal: Macroeconomics.


                                                  44
Barzel, Yoram. 1976. "An Alternative Approach to the Analysis of Taxation." Journal of
 Political Economy, 84(6): 1177­97.

Besley, Timothy. 1989. "Commodity Taxation and Imperfect Competition: A Note on the
 Effects of Entry." Journal of Public Economics, 40: 359­367.

Besley, Timothy J ;, and Harvey S Rosen. 1999. "Sales taxes and prices: An empirical
 analysis." National Tax Journal, 52(2): 157.

Blackorby, Charles, and Sushama Murty. 2007. "Unit versus ad valorem taxes:
  Monopoly in general equilibrium." Journal of Public Economics, 91(3-4): 817­822.

Boone, Christopher, Arindrajit Dube, Lucas Goodman, and Ethan Kaplan. 2016.
 "Unemployment Insurance Generosity and Aggregate Employment."

Bulow, Jeremy I, and Paul Pfleiderer. 1983. "A note on the effect of cost changes on
 prices." Journal of Political Economy, 91(1): 182­185.

Cameron, A Colin, Jonah B Gelbach, and Douglas L Miller. 2011. "Robust Inference
 With Multiway Clustering." Journal of Business & Economic Statistics, 29(2): 238­249.

Cawley, John, David Frisvold, Anna Hill, and David Jones. 2020. "The Impact of the
 Philadelphia Beverage Tax on Prices and Product Availability." Journal of Policy Analysis
 and Management, 39(3): 605­628.

Chetty, Raj. 2009. "Sufficient Statistics for Welfare Analysis: A Bridge Between Structural
 and Reduced-Form Methods." Annual Review of Economics, 1(1): 451­488.

Chetty, Raj, Adam Looney, and Kory Kroft. 2009. "Salience and Taxation: Theory and
 Evidence." American Economic Review, 99(4): 1145­1177.

Cournot, A. 1960. Researches into the Mathematical Principles of the Theory of Wealth.
 London:Frank Cass & Co.

Cremer, Helmuth, and Jacques-Francois Thisse. 1994. "Commodity Taxation in a Dif-
 ferentiated Oligopoly." International Economic Review, 35(3): 613­633.

Delipalla, S. 1995. "Specific versus ad valorem taxation: empirical evidence from the Euro-
 pean cigarette industry." mimeo, University of Kent.

Delipalla, Sofia, and Michael Keen. 1992. "The comparison between ad valorem and
 specific taxation under imperfect competition." Journal of Public Economics, 49: 351­367.

Delipalla, Sofia, and Michael Keen. 2006. "Product quality and the optimal structure of
 commodity taxes." Journal of Public Economic Theory, 8(4): 547­554.

Delipalla, Sophia, and Owen O'Donnell. 2001. "Estimating tax incidence, market power
 and market conduct: The European cigarette industry." International Journal of Industrial
 Organization, 19(6): 885­908.



                                            45
de Meza, David. 1982. "Generalized Oligopoly Derived Demand with an Application to Tax
  Induced Entry." Bulletin of Economic Research, 34(1): 1­16.

Denicolò, Vincenzo, and Massimo Matteuzzi. 2000. "Specific and Ad Valorem Taxation
 in Asymmetric Cournot Oligopolies." International Tax and Public Finance, 7: 335­242.

Dhingra, Swati, and John Morrow. 2019. "Monopolistic competition and optimum prod-
 uct diversity under firm heterogeneity." Journal of Political Economy, 127(1): 196­232.

Dierickx, I., C. Matutes, and D. Neven. 1988. "Indirect taxation and cournot equilib-
 rium." International Journal of Industrial Organization.

Dixit, Avinash K., and Joseph E. Stiglitz. 1977. "Monopolistic Competition and Opti-
 mum Product Diversity." American Economic Review, 67(3): 297­308.

Dube, Arindrajit, T William Lester, and Michael Reich. 2010. "Minimum wage effects
 across state borders: Estimates using contiguous counties." The Review of Economics and
 Statistics, 92(4): 945­964.

Einav, Liran, Dan Knoepfle, Jonathan Levin, and Neel Sundaresan. 2014. "Sales
  Taxes and Internet Commerce." American Economic Review, 104(1): 1­26.

Farhi, Emmanuel, and Xavier Gabaix. 2020. "Optimal Taxation with Behavioral Agents."
  American Economic Review, 110(1): 298­336.

Gillitzer, Christian, Henrik Jacobsen Kleven, and Joel Slemrod. 2017. "A Character-
 istics Approach to Optimal Taxation: Line Drawing and Tax-Driven Product Innovation."
 Scandinavian Journal of Economics, 119(2): 240­267.

Hamilton, Stephen F. 2009. "Excise taxes with multiproduct transactions." American Eco-
 nomic Review, 99(1): 458­71.

Handbury, Jessie, and David E Weinstein. 2015. "Goods prices and availability in cities."
 The Review of Economic Studies, 82(1): 258­296.

Harberger, Arnold C. 1964. "The Measurement of Waste." American Economic Review,
 54(3): 58­76.

Hart, Oliver. 1982. "Reasonable Conjectures." Working Paper.

Helpman, Elhanan, and Paul Robin Krugman. 1989. Trade Policy and Market Struc-
 ture. Cambridge, MA:The MIT Press.

Hendren, Nathaniel. 2016. "The policy elasticity." Tax Policy and the Economy, 30(1): 51­
 89.

Holmes, Thomas J. 1998. "The effect of state policies on the location of manufacturing:
 evidence from state borders." Journal of Political Economy, 106(4): 667­705.

Johnson, Terry R. 1978. "Additional Evidence on the Effects of Alternative Taxes on
  Cigarette Prices." Journal of Political Economy, 86(2): 325­8.


                                           46
Kaplan, Greg, Kurt Mitman, and Giovanni L Violante. 2020. "Non-durable consump-
 tion and housing net worth in the great recession: Evidence from easily accessible data."
 Journal of Public Economics, 104176.

Kay, John A, and Michael J Keen. 1983. "How should commodities be taxed?: Market
 structure, product heterogeneity and the optimal structure of commodity taxes." European
 Economic Review, 23(3): 339­358.

Keen, Michael. 1998. "The balance between specific and ad valorem taxation." Fiscal Stud-
 ies, 19(1): 1­37.

Kowalczyk, Carsten. 1990. "Monopoly and trade policy." National Bureau of Economic
 Research.

Kroft, Kory, Jean-William Laliberté, René Leal Vizcaíno, and Matthew No-
 towidigdo. 2020a. "Salience and Taxation with Imperfect Competition." NBER Working
 Paper.

Kroft, Kory, René Leal-Vizcaíno, Matthew J. Notowidigdo, and Ting Wang. 2020b.
 "Parallel Inverse Aggregate Demand Curves in Discrete Choice Models." NBER Working
 Paper.

Mankiw, N Gregory, and Michael D Whinston. 1986. "Free Entry and Social Ineffi-
 ciency." The RAND Journal of Economics, Spring, 17(1): 48­58.

Myles, Gareth D. 1989. "Product Variety and Tax Policy." Working Paper.

Myles, Gareth D. 1996. "Imperfect Competition and the Optimal Combination of ad val-
 orem and Specific Taxation." International Tax and Public Finance, 3: 29­44.

Myles, G. D. 1987. "Optimal Commodity Taxation with Imperfect Competition." Warwick
 Economic Research Papers.

Parenti, Mathieu, Philip Ushchev, and Jacques-François Thisse. 2017. "Toward a
 theory of monopolistic competition." Journal of Economic Theory, 167: 86­115.

Pirttilä, J. 1997. "Aspects of environmental taxation under imperfect competition." mimeo,
  University of Essex.

Poterba, James M. 1996. "Retail price reactions to changes in state and local sales taxes."
 National Tax Journal, 49(2): 169­179.

Riordan, Michael H. 1985. "Imperfect Information and Dynamic Conjectural Variations."
 The RAND Journal of Economics, 16(1): 41­50.

Samuleson, Paul. 1947. "Foundations of economic analysis." Harvard University Press, Cam-
  bridge, Mass.

Seade, J. 1985. "Profitable Cost Increases and the Shifting of Taxation: Equilibrium Re-
  sponses of Markets in Oligopoly." Working Paper.


                                            47
Seade, Jesus. 1980. "On the Effects of Entry." Econometrica, 48(2): 479­489.

Skeath, Susan E., and Gregory A. Trandel. 1994. "A Pareto comparison of ad valorem
  and unit taxes in noncompetitive environments." Journal of Public Economics, 53(1): 53­71.

Spence, Michael. 1976. "Product Differentiation and Welfare." Source: The American Eco-
  nomic Review, 66(2): 407­414.

Stern, Nicholas. 1987. "The Effects of Taxation, Price Control and Government Contracts
  in Oligopoly and Monopolistic Competition." Journal of Public Economics, 32: 133­158.

Suits, D. B., and R. A. Musgrave. 1953. "Ad valorem and unit taxes compared." Quarterly
  Journal of Economics, 67(4): 598­604.

Sullivan, Daniel. 1985. "Testing Hypotheses about Firm Behavior in the Cigarette Industry."
  Journal of Political Economy, 93(3): 586­598.

Taubinsky, Dmitry, and Alex Rees-Jones. 2018. "Attention variation and welfare: The-
  ory and evidence from a tax salience experiment." Review of Economic Studies, 85(4): 2462­
  2496.

Vives, Xavier. 2001. Oligopoly Pricing: Old Ideas and New Tools. MIT Press.

Weyl, E. Glen, and Michal Fabinger. 2013. "Pass-through as an economic tool: Principles
 of incidence under imperfect competition." Journal of Political Economy, 121(3): 528­583.

Wicksell, K. 1896, 1959. "Taxation in the Monopoly Case (Translation from the original)." In
 Readings in the Economics of Taxation. , ed. R. A. Musgrave and C. S. Shoup. London:Allen
 & Unwin.

Zoutman, Floris T., Evelina Gavrilova, and Arnt O. Hopland. 2018. "Estimating
  Both Supply and Demand Elasticities Using Variation in a Single Tax Rate." Econometrica,
  86(2): 763­771.




                                             48
                  Figure 1: Welfare Effect of a Tax Decrease in the Long Run




Notes: In this figure (p, Q) is the starting equilibrium producer price and quantity for a specific tax
t > 0. When the tax disappears, entry of new firms J > J drives the aggregate demand out and a
new equilibrium is reached at (p , Q ). The welfare change is represented in the picture by the sum
of the red and orange areas minus the blue area which correspond to equation (7), up to a first-order
approximation.




                                                  49
                                         Table 1: Summary statistics
                                                                       Above-median             Below-median
                                               Full sample                 tax rate                 tax rate
                                                      Standard                  Standard                 Standard
                                            Average deviation        Average deviation        Average deviation

Tax rate,  mcn                               0.034        0.032       0.055        0.027       0.018        0.026

Key outcomes in reduced-form analysis:
log Prices (pre-tax)                         0.005        0.114       0.002        0.111       0.006        0.115
log Quantity                                 10.241       1.372       10.024       1.370       10.414       1.349
log Product Variety                          4.241        0.969       4.229        0.957       4.251        0.978

Sample size statistics:
N (module-store-year observations)              11,624,918                4,764,127                6,860,791
N (stores)                                          3,822                   3,554                     3,662
N (modules)                                          198                     198                       198
N (years)                                             9                       9                         9
N (counties)                                         543                     509                       513
N (border pairs)                                     497                     490                       495
Notes: The sample is derived from the Nielsen Retail Scanner data covering the years 2006-2014 and is
restricted to modules above the 80th percentile of the national distribution of sales. Sales tax rates efffective on
September 1. Prices, quantity, and variety are measured yearly. Median tax rates are calculated separately for
each module-year cell. For many modules that are generally tax exempt, the median rate is zero, which results
in fewer observations above the median (strictly above zero) than below (equal to zero). All outcomes are
entered in logs, and the price variable is normalized to be mean zero in the broader sample of stores that
include non-border counties. See main text and Data Appendix for more details.




                                                         50
    Table 2: Effect of Sales Taxes on Prices, Quantity, and Product Variety
Dependent Variable:                                    Prices        Quantity        Variety
                                                        (1)            (2)             (3)

                        Panel A: County Border Pair OLS Estimates
log(1 +  mcn )                                     0.038        -0.676               -0.236
                                                  (0.016)      (0.155)               (0.074)

            Panel B: 2SLS Estimates Using State-Level Tax Rate as Instrument
log(1 +  mcn )                                    0.039         -0.731       -0.243
                                                 (0.016)       (0.154)       (0.075)
Specification:
Store fixed effects                                 y              y            y
Module × County Border Pair fixed effects           y              y            y

Notes: Sales tax rates efffective on September 1. Sales, prices and variety are measured
yearly. The Retail Scanner data is restricted to modules above the 80th percentile of the
national distribution of sales. All coefficients are linear combinations of nine coefficients --
 one for each year from 2006 to 2014. The sample is restricted to border counties and
observations are weighted by the inverse of number of pairs a store belongs to. Standard
errors are clustered two-way at the state-module level and at the border pair by module
level. In panel B, the tax rate is instrumented with the state-level, leave-county-out,
average tax rate.




                                               51
    Table 3: Estimating Variety Effect and Calibrating Welfare Formulas
                              Panel A: Calibrated parameters
Average tax rate,  0                                                                0.034
Tax salience parameter,                                                             0.528
Demand elasticity,  D                                                               1.223

                               Panel B: Reduced-form estimates
Pass-through of taxes into pre-tax prices, d log(p )/d log(1+  )                     0.039
Quantity response, d log(Q )/d log(1+  )                                            -0.731
Variety response, d log(J )/d log(1+  )                                             -0.243

        Panel C: Model parameters estimated by matching reduced-form estimates
Markup, (p - c' (q ))/p                                                       0.080
Implied conduct parameter, v q /J                                             0.096
Inverse elasticity of marginal surplus,  ms                                  -0.936
Variety effect parameter, 0                                                   0.133

                          Panel D: Calibrated welfare formulas
Full marginal excess burden (MEB) formula, dW/d                                     -0.085
Alternative MEB formula benchmarks:
 Harberger / Chetty-Looney-Kroft benchmark,   * 0 *d log(Q )/d log(1+  )            -0.013
 Besley(1989)-style benchmark; i.e., full MEB formula with 0 = 0                    -0.052

Notes: This table reports structural parameter estimates by finding parameters that allow the
model to match the reduced-form estimates. The model parameters in Panel C are estimated by
matching the reduced-form estimates of effects of taxes on prices, quantity, and variety by
choosing variety effect parameter, inverse elasticity of marginal surplus, and markup. These
parameters can then be used to calibrate the main welfare formula. The final rows show the
effect of taxes on welfare using the main welfare formula, and compare the results from main
formula with benchmarks from Harberger/Chetty-Looney-Kroft and Besley (1989). See text for
details.




                                             52
                             Table 4: Socially Optimal Variety Calibrations
                                                                                                  Counterfactual
                                                                             Baseline                scenarios
                                                                               (1)                (2)          (3)
                                       Panel A: Variety effect parameter, 0
                                                                     Estimated variety
                                                                      effect parameter
                                                                            0.133                0.065        0.000

                                Panel B: Socially optimal variety calculations
 log(q )/log(J )                                                         -0.728                  -0.819      -0.907
Business-stealing effect, log(q )/log(J ) * (p - c' (q ))/p              -0.058                  -0.065      -0.072
W/log(J) = Variety effect (0 ) + business-stealing effect                 0.075                   0.000      -0.072
  (>0 implies variety is below the social optimum)

Notes: This table reports results using the parameter estimates from Table 3 to calibrate whether or not variety is
above or below the social optimum. Column (1) uses the baseline estimate of the variety effect and the other
parameters in Table 3, while columns (2) and (3) report results using other values of the variety effect but hold
other parameters constant. Column (2) finds the exact value such that the business-stealing effect and the variety
effect are equal (so that variety is socially optimal at current tax rate), and column (3) sets variety effect to 0.




                                                          53
                 Table 5: Counterfactual Scenarios Comparing Ad Valorem and Unit Tax Taxes
                                                           Baseline variety           No variety effect         Large variety effect
Variety effect parameter, 0                                 effect estimate,           counterfactual,             counterfactual,
                                                              0 = 0.157                  0 = 0.000                   0 = 1.000
                                                           Ad                         Ad                          Ad
                                                         valorem      Specific      valorem     Specific        valorem    Specific
                                                         tax (d )      tax (dt )    tax (d )     tax (dt )      tax (d )    tax (dt )
                                                            (1)           (2)          (3)          (4)            (5)         (6)
                                      Panel A: Pass-through of taxes into pre-tax prices
d log(p )/d log(1+  ) or d log(p )/dt                 0.039       0.058          0.035       0.058                0.061         0.056
  Difference b/w ad valorem and specific tax               -0.019                      -0.023                           0.005

                                      Panel B: Marginal cost of public funds (MCPF )
MCFP  or MCPF t                                     0.083       0.067         0.047      0.070                    0.311         0.045
 Difference between ad valorem and specific tax           0.017                    -0.023                               0.267

                                              Panel C: Short-run pass-through
d log(p )/d log(1+  ) | J or d log(p )/dt | J         0.013       0.061       0.013                0.061          0.013       0.061
  Difference between SR and LR pass-through           0.026      -0.003       0.022               -0.002          0.047      -0.005

                                        Panel D: The effects of taxes on variety and profits
d log(J )/d log(1+  ) or d log(J )/dt                    -0.243       0.024        -0.244          0.024         -0.234         0.023
 log( )/log(1+  ) or  log( )/t                           -0.041       0.004        -0.041          0.004         -0.041         0.004

                                               Panel E: Competitive effects of entry
 log(p )/log(J )                                         -0.108    -0.106          -0.092         -0.091         -0.209      -0.205
 log(q )/log(J )                                         -0.728    -0.717          -0.907         -0.893          0.432       0.426
Stability condition (must be >0)                          1.812     1.812           1.801          1.801          1.882       1.882

Notes: This table reports counterfactual estimates of reduced-form effects of specific taxes under different assumptions on variety
effect based on using the model parameter estimates of Table 3. The difference between the ad valorem and specific tax MCPF
estimates (MCPF  - MCPF t ) switches sign as the variety effect increases (comparing columns (1) and (2) to (3) and (4)). The
difference between ad valorem and specific tax pass-through rate is less sensitive to the variety effect and only switches sign when
variety effect is large (columns (5) and (6)).




                                                                  54
