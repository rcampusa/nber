                                NBER WORKING PAPER SERIES




     PARALLEL INVERSE AGGREGATE DEMAND CURVES IN DISCRETE CHOICE
                              MODELS

                                            Kory Kroft
                                       René Leal Vizcaíno
                                      Matthew J. Notowidigdo
                                            Ting Wang

                                        Working Paper 27437
                                http://www.nber.org/papers/w27437


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                      June 2020




This is a heavily revised version of paper that circulated under the same title and now contains
some of the theoretical results from another paper that previously circulated under the title "A
New Empirical Method for Product Variety" and now is titled "Identifying and Estimating the
Value of Product Variety Using Instrumental Variables". That paper has been heavily revised to
focus primarily on instrumental variables estimates of the "variety effect" and does not contain
any of the material on parallel demands in the current paper. We thank Simon Anderson, Costas
Arkolakis, Alex Frankel, Marti Mestieri, and Rob Porter for helpful comments. We gratefully
acknowledge funding from the Social Sciences and Humanities Research Council (SSHRC). Any
opinion, findings, and conclusions or recommendations expressed in this material are those of the
authors(s) and do not necessarily reflect the views of the SSHRC, nor of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2020 by Kory Kroft, René Leal Vizcaíno, Matthew J. Notowidigdo, and Ting Wang. All rights reserved.
Short sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.
Parallel Inverse Aggregate Demand Curves in Discrete Choice Models
Kory Kroft, René Leal Vizcaíno, Matthew J. Notowidigdo, and Ting Wang
NBER Working Paper No. 27437
June 2020
JEL No. D01,D11,L0

                                          ABSTRACT

This paper highlights a previously-unnoticed property of commonly-used discrete choice models,
which is that they feature parallel demand curves. Specifically, we show that in random utility
models, inverse aggregate demand curves shift in parallel with respect to variety if and only if the
random utility shocks follow the Gumbel distribution. Using results from Extreme Value Theory,
we provide conditions for other distributions to generate parallel demands asymptotically, as the
number of varieties increase. We establish these results in the benchmark case of symmetric
products, illustrate them using numerical simulations and show that they hold in extended
versions of the model with correlated tastes and asymmetric products. Lastly, we provide a "proof
of concept" of parallel demands as an economic tool by showing how to use parallel demands to
identify the change in consumer surplus from an exogenous change in product variety.


Kory Kroft                                       Matthew J. Notowidigdo
Department of Economics                          Northwestern University
University of Toronto                            Department of Economics
150 St. George Street                            2001 Sheridan Road
Toronto, ON M5S 3G7                              Evanston, IL 60208-2600
CANADA                                           and NBER
and NBER                                         noto@northwestern.edu
kory.kroft@utoronto.ca
                                                 Ting Wang
René Leal Vizcaíno                               Northwestern University
Bank of Mexico                                   Department of Economics
Avenida 5 de Mayo 2                              2001 Sheridan Road
Colonia Centro                                   Evanston, IL 60208-2600
Código postal 06000                              tingwang@u.northwestern.edu
Alcaldía Cuauhtémoc
Ciudad de México
México
rlealv@banxico.org.mx
1     Introduction

This paper shows that some commonly-used discrete choice models satisfy a parallel inverse

aggregate demand property ­ hereafter referred to as "parallel demands". Specifically, inverse

aggregate demand curves shift vertically in parallel in response to an exogenous change in

the number of varieties in a market. While this property of aggregate demand curves would

appear at first glance to be a special case, in this paper we show that this property holds in

random utility models featuring i.i.d. random utility shocks when the random utility shocks

are distributed according to the Gumbel distribution. In fact, we show that the Gumbel

distribution is both a necessary and sufficient condition for parallel demands in random utility

models. As far as we know, this is a previously-unnoticed feature of this class of models, and

as a result this paper focuses on characterizing this property theoretically and showing how it

can be used in an economic application to identify the change in consumer surplus associated

with an exogenous change in product variety.

    In order to develop and build intuition, section 2 considers a discrete choice model with

symmetric products and prices and an outside option. Theorem 1 establishes that the Gum-

bel distribution is necessary and sufficient for parallel demands. Next, we show that for a

broad set of distributions of the random utility shock, inverse aggregate demand curves are

asymptotically parallel ­ that is, the aggregate demand curves approach parallel demands as

the number of varieties increases (Theorem 2). This result comes directly from Extreme Value

Theory (EVT): when the random utility shocks are independent and identically distributed,

the distribution of the maximum order statistic converges to a Gumbel distribution for a wide

range of distributions. This means that assuming parallel demands may be a useful approxi-

mation in many markets featuring a large number of varieties. We illustrate the accuracy of

this approximation result using numerical simulations, and we find that convergence happens

fairly quickly.

    In section 3, we extend the results in Theorems 1 and 2 in several ways. First, we extend

the baseline model to allow for correlated tastes, which allows for differential substitutability



                                               1
within the market that has product variety, relative to the outside option. This extension

allows us to accommodate the standard Nested Logit model as a special case (McFadden 1978;

Cardell 1997). We show that in this extended model the Gumbel distribution is necessary

and sufficient for parallel demands (Proposition 1). Second, we extend our results to allow

for asymmetric (or heterogeneous) products, since our baseline model assumes symmetric

products and prices for simplicity. This extension allows us to accommodate a random util-

ity model with unobserved product heterogeneity (e.g., Berry 1994). The inverse aggregate

demand curve is straightforward to define in the symmetric products model. When prices are

asymmetric, however, we instead rely on the distribution of the maximal willingness-to-pay

for any of the available varieties rather than the aggregate demand curve, and we provide

necessary and sufficient conditions for when this distribution shifts in parallel, just as the

inverse aggregate demand curve shifted in parallel in our baseline symmetric products model

(Theorem 3). Theorem 4 extends the the asymptotic result of Theorem 2 to the asymmetric

case.

   Lastly, in section 4, we show how to use the parallel demands property to identify the

change in consumer surplus from an exogenous change in variety. In our baseline model

with symmetric products, graphically the change in consumer surplus is the area between the

inverse aggregate demand curves before and after a change in variety. Thus, identification of

the change in consumer surplus ­ what we call the "variety effect" ­ reduces to the geometric

problem of calculating the area between these curves. Intuitively, a key feature of the parallel

demands property is that identifying the "vertical gap" between the two inverse aggregate

demand curves (at two different variety levels) at any one location on the demand curve is

sufficient to identify the full area between the two demand curves. Proposition 3 provides a

graphical representation of the identification of this vertical gap under parallel demands. It

shows that several reduced-form statistics are sufficient to calculate the variety effect. First,

one needs to identify the sensitivity of demand to price, holding variety fixed. Second, one

needs to identify the change in price and output in response to an exogenous change in

variety. Jointly, under parallel demands, these two reduced-form parameters are sufficient to


                                               2
identify the change in consumer surplus. Thus, the parallel demands property ­ which has

a rigorous microfoundation based on the theoretical results in this paper ­ can be used to

identify the change in consumer surplus stemming from a change in variety. We next extend

these results to cover the case of asymmetric products. When products are heterogeneous,

we require an additional technical assumption that prices move uniformly after a change

in variety. We show that under this assumption, a similar set of parameters identify the

variety effect (Proposition 5). Since our approach to identifying changes in consumer surplus

is based on aggregate demand, it is perhaps not surprising that we obtain identification

by either assuming symmetric products or correlated prices ­ these are precisely the two

scenarios highlighted in Nevo (2011) when discussing identification of aggregate demand and

the problem of dimensionality.

   This paper contributes to research that explores the theoretical properties of discrete choice

models and the theoretical connections between these models and other economic properties

(see, e.g., Matejka and McKay (2015) for an application to rational inattention). Perhaps

most closely related to this paper is Anderson et al. (1987), which describes the formal

connection between a logit random utility model and an aggregate demand system featuring

a representative agent with Constant Elasticity of Substitution (CES) preferences. This paper

provides a formal connection between specific assumptions on the distribution of the shocks in

random utility models and the resulting aggregate inverse demand curve that shifts in parallel

with exogenous changes in product variety. Our theoretical approach makes use of Extreme

Value Theory, which has been used in a random utility context in Gabaix et. al. (2016) to

show that there can exist high markups in large markets in equilibrium that are insensitive to

the degree of competition (i.e., as the number of firms increases). Lastly, our application of

these theoretical results to identifying the benefits to consumers from greater variety relates to

a large theoretical and empirical literature in international trade and industrial organization

(see, e.g., Spence 1976a; Spence 1976b; Dixit and Stiglitz 1977; Mankiw and Whinston 1986;

Feenstra 1994; Romer 1994; Berry and Waldfogel 1999; Broda and Weinstein 2006; Arkolakis

et al 2008; Dhingra and Morrow 2019).


                                                3
2     Parallel Demands: Symmetric Products

In this section, we consider a discrete choice model with symmetric products and derive

necessary and sufficient conditions under which inverse market demand curves, evaluated at

different levels of product variety, are exactly parallel. Next, we characterize a class of models

where parallel demands is likely to be a good approximation.


2.1     Necessary and Sufficient Conditions

Consider a unit mass population of ex ante identical and independent consumers indexed by

i. Consumers either choose to purchase a single product in the market j  {1, ..., J } ­ where

J is defined as the number of product varieties available ­ or choose the outside option j = 0.

    Preferences. The indirect utility of individual i who purchases product j is given by:

                                   uij (yi , pj ) = (yi - pj ) + j + ij                                (1)

where the scalar  is the marginal utility of income, yi is consumer i s income, pj is the price

of good j , j is the quality of product j which captures vertical differentation and ij is an

idiosyncratic match value between consumer i and product j which captures heterogeneity in

tastes across consumers and products and the degree of horizontal differentiation. The utility

of individual i who chooses the outside option is given by ui0 = yi + i0 .

    Product-Level Demand. The indirect utility function in equation (1) generates demand for

product j , qj (p1 , . . . , pJ ) : RJ
                                     +  R+ , which we express as


                      qj (p1 , . . . , pJ ) = P uij (yi , pj ) =          max         uij (yi , pj )   (2)
                                                                       j {0,...,J }

    Aggregate Demand. We express aggregate demand for all products excluding the outside

good, when J varieties are available, as Q(p1 , . . . , pJ ) : RJ
                                                                +  R+ , which takes the form
                                                               J
                                   Q(p1 , . . . , pJ ) =           qj (p1 , . . . , pJ )               (3)
                                                           j =1

    The share of the outside good is q0 = 1 - Q. We now impose the following symmetry

assumption.



                                                           4
Assumption 1. We assume that (1) the random utility shocks (ij )j =1 are continuously,

independently, and identically distributed (i.i.d.), and are independent of the distribution of

 i0 ,   yi , and (j )j =1 ; (2) product qualities are symmetric, j =  .


        Assumption 1 implies that product prices will be identical in equilibrium (pj = pk , j, k 

{1, ..., J }) under the additional assumption of identical production costs.1 With symmetric

prices, we can express the demand function as q (p, J ) : R2
                                                           +  R+ and the aggregate demand

function Q(p, J ) : R2
                     +  R+ respectively as


                              q (p, J ) = P uij (yi , p) =     max          uij (yi , p)
                                                             j {0,...,J }


                             Q(p, J ) = Jq (p, J )

        Next, noting that Q(p, J ) is a strictly decreasing function with respect to p, we can invert

it to obtain the inverse aggregate demand function P (Q, J ) : R2
                                                                +  R+ . We now introduce

our definition of parallel demands with symmetric products.

Definition 1. The discrete choice model in equation (1) with symmetric products is said to

give rise to parallel demands if for all J0 , J1 = J0 , and Q
                                         P            P
                                           (Q, J0 ) =   (Q, J1 )                                              (4)
                                         Q            Q
where P (Q, Jt ), t  {0, 1} is the inverse aggregate demand function, and J0 and J1 are any

numbers of product varieties. An equivalent definition of parallel demands that we will make

use of below is Q(p, J0 ) = Q(p + d(J0 , J1 ), J1 ); in other words, there exists some index d(J0 , J1 ),

such that output is the same when the price is p with J0 varieties or the price is p + d(J0 , J1 )

with J1 varieties.

        We now state our first theorem using Definition 1 and Assumption 1.

Theorem 1. Suppose that Assumption 1 holds, prices are symmetric and i0 follows a contin-

uous distribution. Then a necessary and sufficient condition for parallel demands (Definition
                                                                                                        x-µ
                                                                                                    -
                                                                                                         
1) is that the random utility shocks      (ij )j =1   follow a Gumbel distribution G(x) = e    -e
                                                                                                              for

some location and scale parameters µ  R and  > 0.
    1
     We do not explicitly model market equilibrium in this paper, but symmetric prices are achieved in equi-
librium (Nash in prices) when firms have identical costs as shown in Anderson and de Palma (1992a).


                                                       5
Proof. See Appendix.

   As an illustration, in equation (1), if i0 is also Gumbel, then this model corresponds to

a multinomial Logit model in which there are J0 + 1 products including the outside option.

For any j  {1, ..., J0 }
                                                          e-p
                                       q (p, J0 ) =
                                                       1 + J0 e-p

Aggregate demand is equal to
                                                         J0 e-p
                                      Q(p, J0 ) =
                                                       1 + J0 e-p

Thus, the inverse aggregate demand curve of the Logit model is given by
                                             1        1     Q
                           P (Q, J0 ) =     + log J0 - log
                                                           1-Q
                 P               1 1 1           P
We verify that   Q
                   (Q, J0 )   = -  Q 1-Q
                                         =       Q
                                                   (Q, J1 )    and so Definition 1 is satisfied. Equiva-
                                 J0 e-p         J1 e-(p+d(J0 ,J1 ))
lently, note that Q(p, J0 ) =   1+J0 e-p
                                           =   1+J1 e-(p+d(J0 ,J1 ))
                                                                       = Q(p + d(J0 , J1 ), J1 ) for d(J0 , J1 ) =
1       J1

  log   J0
             .


2.2      Asymptotic Approximation as J Grows Large

The previous section showed that Gumbel random utility shocks is both necessary and suffi-

cient for parallel demands in the case of symmetric products. Using Extreme Value Theory,

we now show that there is a large class of random utility shocks beyond Gumbel that admit

parallel demands asymptotically (as J grows large). The random utility models in this class

have in common that the distribution of the maxima of the shocks is asymptotically Gumbel,

which implies that the inverse aggregate demand curves are asymptotically parallel. We now

define a class of models that admit this asymptotic approximation, and we provide a sufficient

condition to show that a given random utility model is in this class.

Definition 2. Let (ij ) be i.i.d. distributed according to a continuous CDF F. We say that F

is in the domain of attraction of the Gumbel distribution if and only if there exist sequences
                                                                                                       -x
(an , bn ) of real numbers such that F n (an x + bn )  G(x) for all x, where G(x) = e-e                     is the

standard Gumbel distribution.

                                                       6
Lemma 1. Let x0 be the supremum of the support of a CDF F that is twice continuously
                                        F (x)(1-F (x))
differentiable. If F satisfies limxx0        F 2
                                                         = -1 then F is in the domain of attraction

of the Gumbel distribution.

   See Resnick (1987) for a proof of Lemma 1 and a full characterization of the domain

of attraction of the Gumbel distribution. Although the characterization of the domain of

attraction is outside the scope of the paper, it is worth mentioning the important result in

statistics (the Fisher­Tippett­Gnedenko theorem) that plays a role akin to the Central Limit

Theorem for Extreme Value theory. The result states that for a sequence of i.i.d. random

variables Xi , letting Mn = max {X1, X2, . . . , Xn } then if a sequence of real numbers (an, bn )
                              Mn -bn
exists such that limn P        an
                                        = F (x), where F is a non-degenerate CDF, then F is

either Gumbel, Fréchet or Weibull. A useful intuition is that if the tails of the random utility

shocks (ij ) are "very thin" the resulting converging distribution is Weibull, while if they are

"heavy" the distribution of the maxima converges to Fréchet. Gumbel is the intermediate

case that gives rise to parallel demands,. For our purposes Lemma 1 is enough to show that

some common distributions fall into the Gumbel domain of attraction.

   Two distributions that are in the domain of attraction of the Gumbel distribution are

the normal distribution N (µ,  2 ) and the exponential distribution. The next theorem shows

that inverse aggregate demands become "asymptotically" parallel as variety increases, for any

random utility model with shocks in the Gumbel domain of attraction.

Theorem 2. Let the random utility shocks (ij ) be i.i.d. and distributed according to F in

the domain of attraction of the Gumbel distribution. Then for any            > 0, there exists large

enough J0 such that for all J1 > J0 , there exists d(J0 , J1 ) such that for all p  R+ we have

                              |Q(p, J0 ) - Q(p + d(J0 , J1 ), J1 )| < .

Therefore the inverse demands are approximately parallel P (Q, J1 )  P (Q, J0 ) + d(J0 , J1 ) for

all Q, for large enough J0 and J1 .

Proof. See Appendix.


                                                   7
    Later in the paper we assess the approximation result in Theorem 2 by numerically sim-

ulating different random utility models and considering the effect of an exogenous change in

the number of varieties on consumer surplus, using the exact formulas for consumer surplus in

random utility models and using a reduced-form approach that assumes demands are parallel.



3     Generalizations and Extensions: Correlated Tastes

      and Asymmetric Products

In this section, we generalize the model in 2.1 to a Logit model with correlated tastes, and

we also consider a model with asymmetric products. While preserving the Extreme Value

distribution of consumers' tastes within the inside market, the model with correlated tastes

in many cases better captures the substitution patterns of products by allowing different

substitutability within the variety market relative to the outside option and correlated tastes

across products within the variety market. We show that in this model, we continue to obtain

parallel demands when the distribution of random utility shocks satisfies the necessary and

sufficient condition in Theorem 1. When we extend to asymmetric products, we are also able

to obtain analogous results.


3.1    Logit Model with Correlated Tastes

Similar to the multinomial Logit model, we consider a population of statistically identical and

independent consumers indexed by i of mass unity who choose to purchase a single product

j  {1, ..., J } or the outside option j = 0. We extend the baseline model to allow preferences

across products to be correlated within individuals.

    Preferences. The indirect utility of individual i who purchases product j is given by:

                        uij (yi , pj ) = (yi - pj ) + j + (1 -  )i + ij                      (5)

where (1 -  )i + ij is the idiosyncratic match value between consumer i and product j ,

which captures heterogeneity in tastes across consumers and products, and correlation in


                                               8
tastes across products. When  = 1, we obtain the logit model and when  = 0, consumer

tastes for all products in the inside market are perfectly correlated. Thus, the parameter

 captures the degree of correlation in consumer preferences across products of the inside

market. The utility of individual i who chooses the outside option is given by ui0 = yi + i0 .

Similar to the Logit model, we make the following assumption.2

Assumption 2. We assume that (1) for j = 0, the random utility shocks (ij ), j = 1...J are

continuously, independently and identically distributed (i.i.d.) and independent of i0 , yi , i ,

and j , j = 1...J , but we allow i0 to be correlated with i ; (2) product qualities and prices are

symmetric j =  and pj = p.

       The next proposition extends the result in Theorem 1 to cover correlated tastes.

Proposition 1. Suppose that Assumption 2 holds. Then, a necessary and sufficient condition

for parallel demands (Definition 1) is that the random utility shocks (ij ) follow a Gumbel

distribution.

Proof. See Appendix.

The logic of the proof is the following: since the term (1 -  )i does not vary across products,

we can use a location normalization for utility and move this term into the outside option.

Then, we can apply the same arguments in the proof of Theorem 1. This explains why it is

not necessary to impose a specific functional form assumption on the distribution for (1 -  )i .

While the proposition does not require a specific distribution, we can use the Nested Logit

model as a special case of this model to illustrate this result.

       In the Nested Logit model, the random utility shocks (ij ) in equation (5) are drawn from

the Gumbel distribution, and (1 -  )i has the distribution derived in Cardell (1997). In our

case, there are two nests: one which includes j = 1, ..., J , and another nest which includes
   2
    As in Section 2, we do not model the market equilibrium. Instead, we assume symmetric prices directly,
which would be achieved as an equilibrium outcome in a Nested Logit demand model when firms have identical
costs, following Anderson and de Palma (1992b).




                                                    9
only the outside option j = 0.3 In the Nested Logit model, product demand is:
                                                       J -1 e-p
                                        q (p, J ) =              .
                                                      1 + J  e-p
In turn, aggregate demand is equal to:
                                                        J  e-p
                                        Q(p, J ) =               .
                                                      1 + J  e-p
Inverting aggregate demand, the inverse aggregate demand curve is given by:
                                                     1     Q
                             P (Q, J ) =    + log J - log     .
                                                          1-Q
Thus, we see that the Nested Logit model (like the symmetric products Logit model above)
                                P               1 1 1          P
satisfies Definition 1 since    Q
                                  (Q, J0 )   = -  Q 1-Q
                                                        =      Q
                                                                 (Q, J1 )   or equivalently d(J0 , J1 ) =
          J1

 log      J0
               .


3.2        Asymmetric Products

Assumptions 1 and 2 impose symmetric products and prices, which leads to clean results but

may limit the generality of the model. We now extend our results by considering asymmetric

products so that j = k and pj = pk for j = k , and we continue to allow for an outside option

as in the previous sections. In order to characterize parallel demands in this general model,

we impose a technical assumption that we use in Theorem 3 below.

Assumption 3. We assume that (1) for j = 0, the random utility shocks (ij )j =1 are con-

tinuously, independently and identically distributed (i.i.d.) and independent of i0 which has

a continuous distribution; (2) (j )j =1 is a deterministic sequence of real numbers, and there

exists a real number K > 0 such that all the quality parameters are bounded: j  [0, K ] for

all j .

       In the case of symmetric products and prices considered above, we were able to invert the

aggregate demand since there was a mapping from aggregate quantity to a single (uniform)

price at a given level of product variety. This inverse aggregate demand curve corresponded to
   3
    See Cardell (1997) for the class of C (·) distributions. This specified class of distributions makes the
combined idiosyncratic shocks distributed Type I Extreme Value, and thus allows us to write the demand in
a closed form.


                                                      10
the distribution across consumers of their maximum willingness-to-pay (WTP) for any level

of product variety. When prices and products are asymmetric it is no longer straightforward

to characterize the inverse aggregate demand curve. Thus, with asymmetric products we

instead state our results in terms of the distribution of WTP rather than in terms of aggregate

demand. In particular we study the distribution of the random variable maxj {0,...,J } wtpij ,
                     j +ij -i0
where wtpij (j )        
                               .   We now introduce the definition of parallel shifts in WTP.

Definition 3. Let W T Pi (J )  maxj {1,...,J } wtpij (j ). The discrete choice model in equation

with asymmetric products is said to give rise to parallel shifts in willingness-to-pay (WTP) if

for all J1 = J0 , there exists d(J0 , J1 )  R, such that for all x  R:

                       P (W T Pi (J0 )  x) = P (W T Pi (J1 )  x + d(J0 , J1 )) .

In particular, when J1 > J0 , if consumers value variety, then we expect that d(J0 , J1 ) > 0.

   With this definition of parallel WTP shifts, we can now state the theorem that generalizes

Theorem 1 to the case of asymmetric products.

Theorem 3. A discrete choice model with asymmetric products satisfying Assumption 3.1

gives rise to parallel shifts in WTP (Definition 3) for all models satisfying Assumption 3.2 if

and only if the random utility shocks (ij )j =1 follow a Gumbel distribution (independently of

the distribution of i0 ).

Proof. See Appendix.

   Note that Theorem 3 lets us reinterpret Definition 3 in terms of aggregate demand. As-

suming Gumbel shocks, Theorem 3 implies that we also get parallel shifts in consumer surplus

maxj {1,...,J } wtpij (j - pj ) (by substituting ^j = j - pj ) and so the shift d(J0 , J1 ) can be

seen as either a horizontal shift in the CDF of W T Pi (J0 ) or a vertical shift of the following

function:

            Q(s)  Q(p1 + s, . . . , pJ + s, J0 ) = P      max wtpij (j -  (pj + s))  0
                                                        j {1,...,J }




                                                   11
which maps aggregate demand as a function of the price index s. Lastly, as in the symmetric

case, we can also use Extreme Value Theory to show that there is a larger class of models

that admit parallel WTP asymptotically (i.e., as J grows large).

                                                                
Theorem 4. Suppose Assumption 3 holds. Let (                ij )j =1   be i.i.d. and distributed with CDF

F in the domain of attraction of the Gumbel distribution. Furthermore, assume there exists

(n , n ) and a nondegenarate CDF H such that n
                                             j =1 F (n x + n - j )  H (x) for all x.
                                                                                    4


Then for any > 0, there exists large enough J0 such that for all J1 > J0 , there exists d(J0 , J1 )

such that for all x  R

                     |P (W T Pi (J0 )  x) - P (W T Pi (J1 )  x + d(J0 , J1 ))| < .

Proof. See Appendix.

       The technical result in Theorem 4, extends Theorem 2 to the maxima of non i.i.d. ran-

dom variables. In the mathematics and statistics literature, it has proven difficult to extend

the Fisher­Tippett­Gnedenko theorem to non i.i.d sequences of random variables. In par-

ticular, Kreinovich et. al. (2015) show the impossibility of a simple generalization of the

Fisher­Tippett­Gnedenko theorem when random variables are not identically distributed and

contrast it to the Central Limit Theorem where this is possible. In our particular case, we are

able to show that when the sequence of random variables is composed of mean shifts of the

same CDF in the domain of attraction of the Gumbel distribution, the asymptotic theorem

obtains.

       The results thus far demonstrate a connection between discrete choice models featuring

Gumbel-type preferences and parallel demands. The next section provides an example where

parallel demands are valuable as an economic tool.
   4
    This second assumption is satisfied automatically for at least one subsequence of n
                                                                                      j =1 F (n x + n - j ) by
taking lim sup, however need not hold for the full sequence. A counterexample can be constructed by taking
 = 0 or  = K for alternate periods of increasing length.




                                                     12
4       Parallel Demands as an Economic Tool: Identifica-

        tion of the Variety Effect

In this section, we show how to use parallel demands to identify the change in consumer

surplus from an exogenous change in variety. Measuring the change in consumer surplus due

to a change in variety has been studied in many branches of economics, including international

trade and industrial organization (see, e.g., Feenstra 1994; Berry and Waldfogel 1999; Broda

and Weinstein 2006; Dhingra and Morrow 2019). We begin with the standard definition

of consumer surplus and derive the variety effect in the general case. When there are new

varieties introduced into the market, the variety effect depends on all of the demands for

the new goods. When there are many differentiated products, as is typically the case in

economic applications, this is a high dimension problem with a large number of parameters

to be estimated and we need to impose some form of dimension reduction. We consider

two complementary approaches: symmetry and aggregation. First, we consider a symmetric

product environment, as is typically assumed in models in macro and trade, and show that we

can characterize the variety effect as the area between two inverse aggregate demand curves.

Second, we allow for heterogeneity in demands and prices but assume that prices are correlated

which allows us to aggregate; specifically, we assume that prices shift in uniform after the

introduction of new varieties. This results relates to Hicks (1936) that in order to aggregate

goods into commodities, prices of the goods must be highly correlated. The advantage of

aggregation is that it permits one to be more flexible on functional forms without having to

specify underlying preferences. The disadvantage is that prices may not be highly correlated.5


4.1     Variety Effect

Consider the general discrete choice model in section 3.2 with J asymmetric products and

prices which are denoted by the vector pJ . There are no income effects which means that con-
    5
   See discussion in Nevo (2011) for the dimensionality problem and alternative approaches to identifying
demand.



                                                   13
sumer surplus is a valid measure of welfare and we can avoid the problem of path dependence

of price changes.

Definition 4. Let QJ (p) be the aggregate demand when there are J differentiated products

and prices are given by pJ = (p1 , p2 , ..., pJ ). In this case, consumer surplus is defined:


                                                           
                                      CS (pJ , J ) =          QJ (pJ + s1J )ds                             (6)
                                                       0


       When new varieties are introduced into the market, there are two effects on consumer

surplus. First, there is a "price effect" that arises since market prices may change when firms

enter or exit the market. Second, there is a "variety effect" which captures how much a new

variety increases consumer surplus, holding prices constant.6 In this section, we focus on the

"variety effect" which we define as follows.

Definition 5. Let pJ0 = (p1 , p2 , ..., pJ0 ) and pJ1 = (pJ0 , pJ0 +1 , . . . , pJ1 ). The "variety effect"

when the number of products goes from J0 to J1 (with J1 > J0 ) is defined as:


                                                                      
                        =             QJ1 (pJ1 + s1J1 )ds -              QJ0 (pJ0 + s1J0 )ds               (7)
                               0                                  0


       From Definition 5 we see identifying the variety effect requires identification of aggregate

demand before and after the change in varieties. In order to make the problem more tractable,

we focus on two special cases: symmetric products and asymmetric products with correlated

prices (aggregation).7
   6
      We also assume that the outside option is fixed with respect to changes in variety. Thus, this analysis
can be considered more partial equilibrium.
    7
      In Kroft et al. (2020), we also define the variety effect and we show how to estimate the variety effect
using Two Stage Least Squares regression based on specific structural models of demand that permit income
effects. In this paper, we show how to identify the variety effect using a strictly reduced-form approach along
with the parallel demands property. For empirical estimates of the variety effect, see Kroft et al. (2020) -
which does not rely on the parallel demands property - but instead estimates the variety effect using different
structural models of consumer demand drawn from the recent literature in international trade.




                                                           14
4.2     Symmetry

When all potentially existing products are symmetric pj = pk , j, k , we can use the definitions

and foundations laid in Section 2 to simplify the expressions of consumer surplus and the

variety effect as follows. First, consumer surplus is defined as the integral of aggregate demand:
                                                            
                                      CS (p, J ) =             Q(s, J )ds                     (8)
                                                        p

   Next, using the inverse demand P (Q, J ) we can adapt Definition 5 for the variety effect

when variety in the market changes from J0 to J1 to:
                                             Q
                                   =             P (s, J1 ) - P (s, J0 ) ds                   (9)
                                         0

where instead of holding fixed prices, we are holding fixed quantity, as this will prove more

useful in this section. The next result shows that, the variety effect can be calculated exactly

in a simple form when we assume parallel demands.

Proposition 2. Starting from equilibrium quantity Q0 and price p0 , under the assumption of

parallel demands (Definition 1), when variety changes from J0 to J1 , the variety effect can

be equivalently expressed as:

                                              = Q0  d(J0 , J1 )                              (10)

where d(J0 , J1 ) is such that P (Q, J0 ) + d(J0 , J1 ) = P (Q, J1 ).

Proof. See Appendix.

   The price effect and variety effect are illustrated in Figure 1 which considers a reduction

in product variety in the market from J0 to J1 . The price effect is represented by the area

ef gh and the variety effect is given by the area abcd, so that -CS = abcd - cdg + ef gh,

where cdg is an adjustment that is second-order relative to Q  J . Intuitively, when the

number of varieties is reduced, some consumers will no longer be able to purchase their most

preferred option. Thus, the maximum willingness-to-pay for purchasing an inside good will

be lower for these consumers. This is represented as a downward shift in the inverse aggregate

demand curve. The area between the inverse aggregate demand curves abcd before and after


                                                       15
the change in varietyup to initial quantity Q0 corresponds exactly to the variety effect.

   We can now state our next Proposition, which uses Definition 1.

Proposition 3. Denote the equilibrium quantity Q0 and market price p0 when initial variety

is J0 . Consider an exogenous increase in varieties from J0 to J1 and denote the new equilibrium

quantity Q1 and market price p1 . Under the assumption of parallel demands (Definition 1):
                                                  dp
                                                           P (Q, J )   dQ
              d(J0 , J1 ) = p1 - P (Q1 , J0 ) =   dJ
                                                  dQ   -                  J + O(( J )2 )           (11)
                                                  dJ
                                                             Q         dJ
        P (Q,J )                                                                                 dp dQ
where    Q
                   denotes the slope of inverse demand when variety J is held fixed and            /
                                                                                                 dJ dJ

denotes the slope of inverse demand when J is variable.

Proof. See Appendix.

   When variety changes from J0 to J1 , prices change from p0 to p1 . However, this is not

sufficient to recover d(J0 , J1 ). This is because the counterfactual price P (Q1 , J0 ) is not directly

observable since it depends on the market price that would prevail at the final level of output

but on the original demand curve. To see how to recover an expression for d(J0 , J1 ) , we note

from Figure 1 that it must satisfy the following relationship Q(p1 , J1 ) = Q(p1 - d(J0 , J1 ), J0 ).

Thus, we can identify d(J0 , J1 ) as follows:

                             dQ = Q(p1 , J1 ) - Q(p0 , J0 )

                             dQ = Q(p1 - d(J0 , J1 ), J0 ) - Q(p0 , J0 )
                                 Q(p, J )
                             dQ           |p=p0 (-d(J0 , J1 ) + p1 - p0 )
                                   p
                                 Q                       dP
                             dQ=        (-d(J0 , J1 ) +       dQ)
                                 p p=p0                  dQ
The first equality holds by definition. The second equality holds by Definition 1. The third

approximation holds by doing a Taylor expansion of Q(p, J ) around p0 . The fourth equality

holds by definition. Rearranging and solving for d(J0 , J1 ) yields:
                                                             P
                                       d(J0 , J1 )  dp -       dQ
                                                             Q
   In economic terms, d(J0 , J1 ) can be interpreted as the reduction in the willingness-to-pay

for the marginal unit. Under Definition 1, it can further be interpreted as the change in

                                                   16
willingness-to-pay for inframarginal units. In order to identify d(J0 , J1 ), two causal effects are
                                                                                           dp
required. First, one requires the effecs of an exogenous change in variety on prices       dJ
                                                                                                and
          dQ                                                                                    P
output    dJ
               . Second, one requires the effect of prices on demand, holding variety fixed,    Q
                                                                                                  .
                                  P
Intuitively, when we multiply     Q
                                    Q    we are implicitly calculating the counterfactual price

that would hold when J0 varieties are available and quantity is adjusted to Q1 .


4.3      Numerical Simulations

From Theorem 1 we know that when we have preferences in the form of (1) and the random

utility shocks follow the Gumbel distribution, we can apply the parallel demands and compute
P
J
  (Q   , J ) for any Q on the support of the aggregate demand function. This saves us from

integrating over the whole support. Moreover, from Theorem 2 we have that as long as

the random utility shocks (ij ) are distributed according to F in the domain of attraction

of the Gumbel distribution, for any large enough varieties, we have parallel demands as an

approximation. In this subsection we show these results in Monte Carlo simulations. We assess

the parallel demands assumption by simulating a model of a large number of consumers with

utility over products given by equation (1). We choose  = 1 and y = 1 in the simulation, and

we consider four different shock distributions (Gumbel, Normal, Exponential, and Pareto).

For each distribution, we consider a hypothetical 20 percent increase in the number of products

(from an initial value of J ), and we compute the exact change in consumer surplus resulting

from this change in variety by numerically integrating the increase in consumer surplus across

each consumer. Then, we compute the change in consumer surplus implied by assuming

parallel demands following equations (10) and(11).

   The results in Figure 2 show that the bias that arises from assuming parallel demands

is a function of the number of varieties in the market, measuring the bias as the difference

between the estimated and the exact change in consumer surplus. The benchmark distribution

is Gumbel, where we know from Theorem 1 that the demand curves are exactly parallel, and

therefore the bias is 0 for all initial values of J . For both the Normal and Exponential

distributions, we find that the bias is small in magnitude and converges to 0 fairly quickly

                                                17
as the number of varieties increase. On the other hand, with a Pareto distribution, there is

a bias of roughly 20 percent, which does not vanish as varieties increase. In this case, the

change in consumer surplus from assuming parallel demands is a lower bound on the true

change in consumer surplus, and it does not converge to 0 because the Pareto distribution is

not in the domain of attraction of the Gumbel distribution.


4.4       Aggregation

The previous results focus on the special case symmetric products, which allows for a clear

graphical representation since the inverse aggregate demand curve can be defined for a uniform

(symmetric) price. We now consider the case of asymmetric products. The main objective in

what follows is to give plausible and parsimonious sufficient conditions to identify the variety

effect using reduced-form methods based on local information.

       We first note that under the assumption of parallel shifts in WTP (Definition 3), there

exists some price index d(J0 , J1 ) such that QJ1 (pJ1 + s1J1 ) = QJ0 (pJ0 + (s - d(J0 , J1 ))1J0 )

for all s  R.8 In other words, increase prices starting from pJ0 by some constant amount

d = d(J0 , J1 ) until total quantity demanded equals quantity demanded when there are J1

products in the market. Under this assumption, it follows that the variety effect can be

expressed as:
                                            d
                                  =             QJ0 (pJ0 + (s - d)1J0 )ds.
                                        0


       Next, by the mean value theorem for integrals, there exists d  [0, d] such that

                                        = Q(pJ0 - d 1J0 )  d.

       This leads to the following result.

Proposition 4. Under the assumption of parallel shifts in WTP (Definition 3), when variety

changes from J0 to J1 , there exists d  [0, d(J0 , J1 )] such that
   8
    This is related to the price index in Feenstra (1994). However, in Feenstra (1994), the price index is
defined as the (common) price reduction that would have to occur when there are J0 goods in the market in
order to give the same utility as when there are J1 goods.



                                                       18
                                         = QJ0 (pJ0 - d 1J0 )  d(J0 , J1 ).                                       (12)

       All that remains is to develop a method to identify d(J0 , J1 ). To do this, we introduce an

additional technical assumption.

Assumption 4. The prices of the existing products in the market (j = 1, ..., J0 ) shift in

uniform after the introduction of new varieties, i.e. p1    0    1    0
                                                       j - pj = pk - pk for all products j, k

available in both periods of time.

       With this assumption in hand, we can now state our main result for asymmetric products.9

Proposition 5. Suppose that the assumption of parallel shifts in WTP (Definition 3) and

Assumption 4 holds. Let the post-entry equilibrium prices be pJ1 and define P    R to

be the change in price of any of the existing products before and after entry of new varieties.

Letting Q = QJ1 (pJ1 ) - QJ0 (pJ0 ), we have:
                                                 P    dP
                              d(J0 , J1 ) =        -                 Q + O ( - d)2                                (13)
                                                 Q   dQJ0       J0

           dP             dQJ0 (pJ0 +t1J0 ) -1
where     dQJ0
                      =          dt
                                                       .
                 J0                              t=0

Proof. See Appendix.

       Several features of Proposition 5 are worth highlighting. First, observe that the key step

for the Proposition to hold is to be able to find a  and d such that QJ1 (pJ1 ) = QJ0 (pJ0 +

( - d)1J0 ). This requires both that all prices adjust uniformly after the introduction of

the new varieties (Assumption 4) and that aggregate demands shift in parallel (Definition

3). Restricting prices to adjust in the same direction 1J0 as the vertical shift d allows us to

identify d by a simple application of the Taylor approximation theorem.
                                                                     dQJ0         dQ(pJ0 +t1J0 )       J0 QJ0
       Second, we interpret the directional derivative                dP J0
                                                                              =        dt
                                                                                                   =   j =1 pj   as the

short-run slope of aggregate demand in the direction of uniform price changes, that connects
   9
    A class of models for which we obtain symmetric pass-through is that of linear-quadratic revenues with
constant marginal costs and Bertrand pricing. However, it might be unreasonable to assume uniform price
adjustments in some cases e.g., when there is one large incumbent with several products and several small
entrants with one product each.


                                                           19
the interpretation of (13) with equation (11) in the symmetric model. Furthermore, if we

observe the change in aggregate demand QJ0 when all prices are increased simultaneously,

one does not need to identify each partial derivative separately; instead it is sufficient to
           dQJ0
identify    dP J0
                  .



5     Conclusion

This paper highlights a previously-unnoticed feature of a class of discrete choice models,

which is that they feature parallel demand curves. Specifically, we show that in random

utility models, inverse aggregate demand curves shift in parallel with respect to variety if and

only if the random utility shocks follow the Gumbel distribution. While it may seem that the

parallel demands property is a special case, our theoretical results suggest instead that parallel

demands are a general property of many discrete choice models. Specifically, using results

from Extreme Value Theory, we provide conditions for other distributions to generate parallel

demand asymptotically, as the number of varieties increases. We illustrate these results using

numerical simulations and extend them to cover correlated tastes and asymmetric products.

    Given the generality of our theoretical results, we provide an application and show that

parallel demands are useful to identifiy the change in consumer surplus from a change in

variety. In this application, parallel demands provide a straightforward identification approach

­ intuitively, identifiying the "vertical gap" at one point in the aggregate demand curve is

sufficient for identifying the entire area between the inverse aggregate demand curves before

and after the change in variety. Because of this, we view the parallel demands property as a

tool that can potentially be used for both producing theoretical results on the value of variety

(which can be an input into theoretical analysis of whether the equilibrium level of variety is

socially optimal) as well as a tool for empirical work, where the parallel demands assumption

may be used as an alternative "reduced-form" identification approach (instead of relying on

specific structural models of consumer demand for identification).

    We conclude by speculating that parallel demands may also be a useful property when


                                               20
studying other economic questions. Discrete choice models are widespread in economics, and

our theoretical results may therefore be useful in other economic settings, such as the choice

of neighborhood (McFadden 1978; Bayer, Ferreira and McMillan 2007), occupation (Hsieh

et al 2013), firm (Card et al 2018; Chan, Kroft and Mourifie 2019; Lamadon, Mogstad and

Setzler 2020), and school (Dinerstein and Smith 2014). In all of these settings, as long as

the parallel demands assumption holds, the welfare effects corresponding to changes in the

number of available choices (or "varieties") may be calculated using the approach described

in this paper.



References

  1. Anderson, Simon P., Andre De Palma, and Jacques-Francois Thisse (1987). "The CES is a
     discrete choice model?," Economics Letters , 24(2): 139-140.
  2. Anderson, Simon P. and Andre de Palma (1992a). "The Logit as a Model of Product
     Differentiation," Oxford Economic Papers, 44: 51-67.
  3. Anderson, Simon P. and Andre de Palma (1992b). "Multiproduct Firms: A Nested
     Logit Approach," The Journal of Industrial Economics, 40(3): 261-276.
  4. Arkolakis, Costas, Svetlana Demidova, Peter J. Klenow, and Andrés Rodríguez-Clare
     (2008). "Endogenous Variety and the Gains from Trade," American Economic Review:
     Papers & Proceedings, 98(2): 444-450.
  5. Berry, Steven and Joel Waldfogel (1999). "Free Entry and Social Inefficiency in Radio
     Broadcasting," The RAND Journal of Economics, 30(3): 397-420.
  6. Bayer, Patrick, Fernando Ferreira and Robert McMillan (2007). "A Unified Frame-
     work for Measuring Preferences for Schools and Neighborhoods," Journal of Political
     Economy, 115(4): 588-638.
  7. Berry, Steven (1994). "Estimating Discrete-Choice Models of Product Differentiation," RAND
     Journal of Economics , 25(2): 242-262.
  8. Broda, Christian and David E. Weinstein (2006). "Globalization and the Gains From Variety,"
     The Quarterly Journal of Economics , 121(2): 541-585.
  9. Card, David, Ana Rute Cardoso, Joerg Heining, and Patrick Kline (2018). "Firms and
     labor market inequality: Evidence and some theory," Journal of Labor Economics 36,
     no. S1: S13-S70.
 10. Cardell, Scott (1997). "Variance Components Structures for the Extreme-Value and Logistic
     Distributions with Application to Models of Heterogeneity," Econometric Theory , 13(2): 185-
     213.



                                               21
11. Chan, Mons, Kory Kroft, and Ismael Mourifie (2019). "An Empirical Framework for
    Matching with Imperfect Competition," Working Paper.
12. Dhingra, Swati and John Morrow (2019). "Monopolistic Competition and Optimum
    Product Diversity under Firm Heterogeneity," Journal of Political Economy, 127(1):
    196-232.
13. Dinerstein, Michael, and Troy Smith (2014). "Quantifying the supply response of private
    schools to public policies". SIEPR Working Paper.
14. Dixit, Avinash K. and Joseph E. Stiglitz (1977). "Monopolistic Competition and Optimum
    Product Diversity," American Economic Review , 67(3): 297-308.
15. Feenstra, Robert C. (1994). "New Product Varieties and the Measurement of International
    Prices," American Economic Review , 84(1): 157-177.
16. Gabaix, Xavier, David Laibson, Deyuan Li, Hongyi Li, Sidney Resnick, and Casper G.
    de Vries (2016). "The impact of competition on prices with numerous firms." Journal
    of Economic Theory, 165: 1-24.
17. Hicks, J.R. (1936). "Value and Capital", Oxford University Press.
18. Hsieh, Chang-Tai, Erik Hurst, Charles I. Jones, and Peter J. Klenow (2013). "The
    allocation of talent and us economic growth," National Bureau of Economic Research.
19. Kreinovich, Vladik; Nguyen, Hung T.; Sriboonchitta, Songsak; and Kosheleva, Olga
    (2015). "Modeling Extremal Events Is Not Easy: Why the Extreme Value Theorem
    Cannot Be As General As the Central Limit Theorem," Departmental Technical Reports
    (CS). Paper 923. http://digitalcommons.utep.edu/cs_techrep/923
20. Kroft, Kory, René Leal-Vizcaíno, Jean-William P. Laliberté, and Matthew J. Notowidigdo
    (2020). "Identifying and Estimating the Value of Product Variety Using Instrumental
    Variables," Working paper.
21. Lamadon, Thibaut, Magne Mogstad, and Bradley Setzler (2020). "Imperfect Competi-
    tion, Compensating Differentials and Rent Sharing in the U.S. Labor Market," Working
    Paper.
22. Mankiw, N. Gregory, and Michael Whinston (1986). "Free Entry and Social Inefficiency,"
    RAND Journal of Economics , 17 (Spring): 48-58.
23. Matejka, Filip and Alisadair McKay (2015). "Rational Inattention to Discrete Choices:
    A New Foundation for the Multinomial Logit Model", American Economic Review,
    105(1): 272-298.
24. McFadden, Daniel (1978). "Modeling the choice of residential location." Transportation
    Research Record 673.
25. Nevo, Aviv (2011). "Empirical Models of Consumer Behavior," Annual Review of Eco-
    nomics, 3: 51-75.
26. Resnick, Sidney I. (1987). "Extreme Values, Regular Variation and Point Processes". Springer,
    New York.
27. Romer, Paul (1994). "New goods, old theory, and the welfare costs of trade restrictions,"
    Journal of Development Economics, 43(1): 5-38.


                                              22
28. Spence, Michael (1976a). "Product Differentiation and Welfare," American Economic Review ,
    66(2): 407-14.
29. Spence, Michael (1976b). "Product Selection, Fixed Costs, and Monopolistic Competition,"
    Review of Economic Studies , Vol. 43, No. 2, pp. 217-235.




                                             23
                                  Figure 1: Variety Effect

                 P
                 a

                  b


                       e             h
                P1                                 d
                P0
                       f               g
                                                   c            P J0 (Q)

                                                                P J1 (Q)
                                 Q1            Q0                      Q
Notes: This figure shows the result of a decrease in variety (from J0 to J1 ). The shaded area
abcd between the two demand curves represents the variety effect.
              Figure 1: This figure shows the result of a decrease in
              The shaded area abcd between the two demand curv
              effect.




                                              24
                                                                 Figure 2: Approximate Parallel Demand Curves




                                                                30
                 Variety effect bias assuming parallel demand

                                                                20
                      [%difference, estimated vs. actual]
                                                                10
                                                                0
                                                                -10
                                                                -20
                                                                -30




                                                                      0            50        100            150        200
                                                                                          Variety (J)

                                                                          Gumbel        Expon.          Normal    Pareto


Notes: This figure reports results from numerical simulations that are designed to evaluate
the quality of the key approximation theorem (Theorem 2) in the main text. By simulating
simple discrete choice models under different assumptions about distribution of the i.i.d. error
terms and increasing number of varieties in the market, we calculate (exact) variety effect
numerically and compare it to variety effect we would infer from assuming parallel demands.
Consistent with result of Theorem 2, for distributions that satisfy assumptions of theorem,
as J increases, the bias in variety effect from assuming parallel demands approaches zero.




                                                                                        25
Appendix:

Proofs of Claims, Propositions, and Theorems

Proof of Theorem 1

Proof. Assuming symmetric prices the inverse demands when there are J0 and J1 varieties

are parallel if and only if there exists a d(J0 , J1 ) such that for all p then Q(p, J ) = Q(p +

d(J0 , J1 ), J1 ); that is

               P(0m <  - p + max j ) = P(0m <  - (p + d(J0 , J1 )) + max j ).
                                    1j J0                                          1j J1

       Since 0m is independent of max1j J0 j this can only be true if the distribution of the

maxima for J0 and J1 of j for j  1 is the same, that is

                                                d
                                   max j        =    -d(J0 , J1 ) + max j
                                  1j J0                                1j J1

       Let F be the CDF of , then the equation above implies that for all natural number n

there exists t(n) such that for all x:

                                             F (x) = F n (x + t(n)).

Iterating on both sides implies

                                 F nm (x + t(nm)) = F nm (x + t(n) + t(m))

we recognize an instance of the functional equation t(nm) = t(n) + t(m) which has the unique

solution t(n) = c log(n).10 Therefore:

                                            F (x) = F y (x + c log y ),
  10
       It is easy to extend the formula for real numbers through rationals, note

                                      F (x) = F n (x + t(n)) = F m (x + t(m))

implies
                                          F (x) = F n/m (x + t(n) - t(m)),
so we can consistently define t(n/m) = t(n) - t(m).




                                                        A-1
                                                       s/c
letting x = 0, s = c log y , we get F (0) = F e (s), and so:
                                                                     -s/c
                                               F (s) = elog F (0)e          ,

which is a Gumbel distribution with location parameter c log(- log F (0)) and dispersion pa-

rameter c. This derivation proves that the parallel demands condition implies that the ran-

dom utility shocks (ij )j =1 follow the Gumbel distribution. Moreover, if the random util-
                                                                                            -x/c
ity shocks (ij )j =1 follow the Gumbel distribution then F (x) = e
                                                                  log F (0)e
                                                                                                   and F n (x) =
          log (n)-x/c
elog F (0)e             = F (x - clog (n)) and so parallel demands hold:

     P 0m <  - p + max j = P 0m <  - (p + clog (J1 ) - clog (J0 )) + max j .
                               1j J0                                                               1j J1




Proof of Theorem 2

Proof. Let the random utility shocks (j ) be i.i.d. and distributed according to F in the

domain of attraction of the Gumbel distribution. Let G(x) = exp[-exp(-x)] be the Gumbel

distribution. Then there exist sequences (an , bn ) such that

                                             F n (an x + bn )  G(x),

                               an                      bn -b[nt]
Furthermore, limn             a[nt]
                                      = 1 and limn       a[nt]
                                                                   = -c log(t) for any t > 0 and some c  R

where [nt] is the integer part of nt (see Resnick (1987) Chapter 1). Since the convergence

F n (an x + bn )  G(x) is uniform (see Resnick (1987) Chapter 0) and F n is uniformly continu-

ous, then for any > 0 there exists  and N (, ) such that for all x  R and all J0 , J1 > N (, )
               aJ1
we have        aJ0
                     - 1   and

              F J0 (aJ0 x + bJ0 ) - F J1 (aJ0 x + bJ1 )  F J0 (aJ0 x + bJ0 ) - F J1 (aJ1 x + bJ1 )

                                                             + F J1 (aJ1 x + bJ1 ) - F J1 (aJ0 x + bJ1 )

                                                       <




                                                         A-2
Therefore, for any p  R

    |Q(p, J0 ) - Q (p + bJ1 - bJ0 , J1 )|

    = P         max          uij (p) > ui0 - P          max          uij (p + bJ1 - bJ0 ) > ui0
             j {1,...,J0 }                           j {1,...,J1 }


    =        F J1 (i0 - (y - p) -  + (bJ1 - bJ0 )) - F J0 (i0 - (y - p) -  ) f0 (i0 )di0
         R

    <

where f0 is the probability density of i0 . We conclude that the inverse aggregate demands

are asymptotically parallel.


Proof of Proposition 1

Proof. Redefine i0 = i0 - (1 -  )i . Then the proof follows from Theorem 1.


Proof of Theorem 3

Proof. Let F be the CDF of the random utility shocks. Define Condition A as: for all

(n )J                                                                   J0
    n=1 bounded vector of real non-negative numbers there exists f ((n )n=1 ) such that F (x) =
      0



n=1 F x - n + f ((n )J
                     n=1 ) . Theorem 1 applies for vectors of constants (, . . . ,  ) of any size,
                      0



and shows that the only possible candidate CDF F that satisfies condition A must be Gumbel.

Therefore if Condition A is going to hold for any (n )J
                                                      n=1 bounded vector of real non-negative
                                                        0



numbers, then F must be Gumbel. Condition A is a rephrasing of parallel WTP CDFs and

so, Gumbel is necessary for parallel WTP CDFs.
                             
   Moreover, if (       ij ) j =1   are i.i.d. Gumbel then j +              ij    Fj (µj ,  ) are also Gumbel, where

µj is the position parameter of the Gumbel distribution and  is the scale parameter ({µj } is

well defined, because {j } is bounded.) Then

                                    P (j +   ij   < x) = Fj (x)
                                                                                 µj - x
                                                       = exp -exp                         .
                                                                                    




                                                             A-3
Let j  = argmaxj J0 {j +     ij },   we have

                                Fj  (x) = j J0 Fj (x)
                                                        µj - x
                                         = exp(-j J0 exp(      ))
                                                           
                                                     µ-x
                                         = exp(-exp(     )),
                                                      
where µ = log j J0 exp( µ
                        
                         j
                           ).

   Similarly, let j  = argmaxj J1 {j +         ij }   for J1 = J . We have


                                                               µ -x
                                Fj  (x) = exp -exp
                                                                 

where µ = log j J1 exp( µ
                        
                          j
                            ). The above derivation shows that we have parallel WTP distri-

butions by letting

                                       tJ1 = µ - µ
                                                      j J1 exp( µ
                                                                
                                                                  j
                                                                    )
                                          = log                         .
                                                      j J0 exp( µ
                                                                
                                                                  j
                                                                    )




Proof of Theorem 4

Proof. Take (n , n ) and the nondegenarate CDF H such that n
                                                           j =1 F (n x + n - j )  H (x)

for all x. Because

                     F n (n x + n )  n                       n
                                     j =1 F (n x + n - j )  F (n x + n )


and by continuity, there exists n  [0, K ] such that n                        n
                                                     j =1 F (n x + n - j ) = F (n x + n ) 

H (x). But because F is in the domain of attratcion of the Gumbel, by Proposition 0.2 of

Resnick (1987) there exists a and b such that H (x) = G(ax + b) is a rescaling of the Gumbel

distribution.

   The rest of the proof follows exactly the same steps as the proof of Theorem 1, starting
                                                                 an                    n -[nt]
from n
     j =1 F (n x + n - j )  G(x). We have limn                  a[nt]
                                                                        = 1 and limn    a[nt]
                                                                                                 = -c log(t)

for any t > 0 and some c  R where [nt] is the integer part of nt (see Resnick (1987) Chapter


                                                      A-4
1).

      Since the convergence n                        n
                            j =1 F (n x + n - j ) = F (n x + n )  G(x) is uniform (see

Resnick (1987) Chapter 0) and F n is uniformly continuous, then for any                      > 0 there exists 
                                                                                   aJ1
and N (, ) such that for all x  R and all J0 , J1 > N (, ) we have                 aJ0
                                                                                         - 1   and

          F J0 (aJ0 x + J0 ) - F J1 (aJ0 x + J1 )  F J0 (aJ0 x + J0 ) - F J1 (aJ1 x + J1 )

                                                          + F J1 (aJ1 x + J1 ) - F J1 (aJ0 x + J1 )

                                                     <

      there exists d(J0 , J1 ) such that for all x  R:

                          |P (W T Pi (J0 )  x) - P (W T Pi (J1 )  x + d(J0 , J1 ))| < .

Therefore, for any p  R
                                                         J 1 - J 0
       P (W T Pi (J0 )  x) - P W T Pi (J1 )  x +
                                                             
                               j + ij - i0                               j + ij - i0    J - J 0
      = P         max {                    }x -P             max {                   }x+ 1
               j {1,...,J0 }                             j {1,...,J1 }                     

      =        F J1 (x + i0 - j + J1 - J0 ) - F J0 (x + i0 - j ) f0 (i0 )di0
           R

      <

where f0 is the probability density of i0 . We conclude that the willingness-to-pay densities

are asymptotically parallel.


Proof of Proposition 2

Proof. Assume parallel demands (Definition 1) and let d(J0 , J1 ) be such that P (Q, J0 ) +
                                          Q
d(J0 , J1 ) = P (Q, J1 ). Then  =         0   P (s, J1 ) - P (s, J0 ) ds = d(J0 , J1 )  Q.




                                                       A-5
Proof of Proposition 3

Proof. Observe:

                            d(J0 , J1 ) = p1 - P (Q1 , J0 )
                                            p1 - p0   P (Q1 , J0 ) - p0
                                      =             -                   (Q1 - Q0 )
                                            Q1 - Q0      Q1 - Q0
   Now assume (p(J ), Q(J ))J R is a continuously differentiable interpolation of (p(J ), Q(J ))J N

which exists by the Stone-Weierstrass theorem. Then by the Taylor approximation theorem:
                                            p1 - p 0   P (Q1 , J0 ) - p0
                            d(J0 , J1 ) =            -                   (Q1 - Q0 )
                                            Q1 - Q0       Q1 - Q0
                                            dp
                                                     P (Q, J )   dQ
                                      =     dJ
                                            dQ   -                  J + O(( J )2 )
                                            dJ
                                                       Q         dJ




Proof of Proposition 4

Proof. In the text.


Proof of Proposition 5

Proof. Let d = d(J0 , J1 ). Observe by assumption QJ1 (pJ1 ) = QJ0 (pJ0 + ( - d)1J0 ), then the

second part of the theorem follows directly from the first-order Taylor approximation:
                                                          dQJ0 (pJ0 + t1J0 )
                  QJ1 (pJ1 ) = QJ0 (pJ0 ) + ( - d)                           + O ( - d)2
                                                                 dt
        dQJ0 (pJ0 +t1J0 )
where          dt
                            is the directional derivative in the direction 1J0 . And so
                                                                      
                                                                 -1
                             dQJ0 (pJ0 + t1J0 )                        Q + O ( - d)2
                      d=   -
                         Q          dt




                                                         A-6
