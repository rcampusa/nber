                             NBER WORKING PAPER SERIES




             CHOICES AND OUTCOMES IN ASSIGNMENT MECHANISMS:
                THE ALLOCATION OF DECEASED DONOR KIDNEYS

                                       Nikhil Agarwal
                                      Charles Hodgson
                                       Paulo Somaini

                                     Working Paper 28064
                             http://www.nber.org/papers/w28064


                    NATIONAL BUREAU OF ECONOMIC RESEARCH
                             1050 Massachusetts Avenue
                               Cambridge, MA 02138
                                  November 2020




We are grateful to UNOS for facilitating access to the data. We thank Adam Kapor, Ariel Pakes,
Daniel Waldinger, and seminar participants at NYU, Stanford, Berkeley, and (IO)^2 for helpful
comments and feedback. We benefited from multiple discussions with Yusuke Narita during
early stages of the project. Andrew Komo, Raymond Lee, and Lingjun (Lotus) Xia provided
excellent research assistance. The authors acknowledge support from the National Science
Foundation (SES-1948714) and the Alfred P. Sloan Foundation (FG-2019-11484). The data
reported here have been supplied by UNOS as the contractor for the Organ Procurement and
Transplantation Network (OPTN). The interpretation and reporting of these data are the
responsibility of the author(s) and in no way should be seen as an official policy of or
interpretation by the OPTN or the U.S. Government. The views expressed herein are those of the
authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2020 by Nikhil Agarwal, Charles Hodgson, and Paulo Somaini. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Choices and Outcomes in Assignment Mechanisms: The Allocation of Deceased Donor Kidneys
Nikhil Agarwal, Charles Hodgson, and Paulo Somaini
NBER Working Paper No. 28064
November 2020
JEL No. C36,D47,I14

                                         ABSTRACT

While the mechanism design paradigm emphasizes notions of efficiency based on agent
preferences, policymakers often focus on alternative objectives. School districts emphasize
educational achievement, and transplantation communities focus on patient survival. It is unclear
whether choice-based mechanisms perform well when assessed based on these outcomes. This
paper evaluates the assignment mechanism for allocating deceased donor kidneys on the basis of
patient life-years from transplantion (LYFT). We examine the role of choice in increasing LYFT
and compare equilibrium assignments to benchmarks that remove choice. Our model combines
choices and outcomes in order to study how selection induced in the mechanism affects LYFT.
We show how to identify and estimate the model using quasi-experimental variation resulting
from the mechanism. The estimates suggest that the design in use selects patients with better
post-transplant survival prospects and matches them well, resulting in an average LYFT of 8.78,
which is 0.92 years more than a random assignment. However, the aggregate LYFT can be
increased to 13.84. Realizing the majority of the gains requires transplanting relatively healthy
patients, who would have longer life expectancies even without a transplant. Therefore, a
policymaker faces a dilemma between transplanting patients who are sicker and those for whom
life will be extended the longest.

Nikhil Agarwal                                  Paulo Somaini
Department of Economics, E52-460                Stanford Graduate School of Business
MIT                                             Knight Management Center
50 Memorial Drive                               655 Knight Way E372D
Cambridge, MA 02142                             Stanford, CA 94305
and NBER                                        and NBER
agarwaln@mit.edu                                soma@stanford.edu

Charles Hodgson
Yale Department of Economics
37 Hillhouse Avenue
New Haven, CT 06511
cbchodgson@gmail.com
                                                                                                   1


1       Introduction

Assignment mechanisms are commonly used to allocate scarce resources without using
monetary transfers. Examples include public schools, public housing, and organ allo-
cation. An influential theoretical and a growing empirical literature study the design
of these mechanisms. In this literature, notions of efficiency derived from choices are
central to evaluating a design. This desideratum often differs from objectives empha-
sized by policymakers. As examples, school districts emphasize student achievement
and organ transplant systems emphasize patient survival.

Because canonical choice-based mechanisms are not designed with these outcomes in
mind, it is unclear whether they perform well on this dimension. Choices made by agents
who may not be well-informed about the benefits of various options and co-ordination
failures may undercut this objective.1 If so, a planner who can dictate assignments based
on benefits estimated using extensive administrative data on outcomes may be able to
do better. On the other hand, agents may also have private information about the likely
outcomes and using a choice-based mechanism may serve policymakers' objectives.

This paper evaluates the assignment mechanism used to allocate kidneys from deceased
donors on the basis of survival outcomes. We compare the performance and distribu-
tional consequences of the mechanism to two benchmarks: the survival maximizing
assignment and the random assignment. We also assess the role of choice by examining
its relationship to survival and considering alternatives that dictate assignments using
observables alone.

We make several methodological and empirical contributions here. First, we build on
the literature on Roy selection to analyze a joint model of choices and outcomes in an
assignment mechanism. We show how to identify and estimate the effects of counterfac-
tual assignments by using variation generated by the mechanism and instruments that
only affect choices but are excluded from outcomes. Second, we estimate the Life-Years
from Transplantation (LYFT), defined as the difference between median survival with
    1
   Moreoever, in the kidney allocation context that we study below, surgeons who advise patients
may suffer from agency problems that can misalign decisions relative to maximizing survival outcomes.
                                                                                      2

and without a transplant, as a function of patient/donor-specific observed and unob-
served characteristics. Third, using these estimates we compare the mechanism used in
practice to alternative assignments to assess its performance and identify the scope for
further improvements.

Organs from deceased donors are a scarce and valuable resource that need to be al-
located efficiently. Approximately 100,000 patients suffering from kidney failure are
currently waiting for a life-saving transplant. Only one-sixth receive a transplant in a
typical year, and thousands die while waiting.

When a kidney becomes available, patients on the waitlist are offered the organ in
a priority order. Patients may choose to reject an offer in order to wait for a more
preferable one. This decision may therefore depend on the perceived benefits of a
transplant from the offered organ. Weconsider the decision to accept or refuse an
offer along with the potential survival outcomes and then incorporate the potential for
selection.

Our model has three components. The first component models the choices patients
make as a function of the patients' and organs' attributes; the second governs patient
survival without a transplant; and the third models post-transplant surivival with the
offered organ. Our method allows for unobserved attributes that are correlated across
the equations.

The model can generate selection into transplantation along three important margins
from the perspective of evaluating assignments. Transplanted patients can be selected
on untransplanted survival, post-transplant survival from an average kidney, or patient-
kidney match-specific survival. Selection on these margins can be induced for two
reasons. First, the priority types and waiting times built into the mechanism induce
selection. For example, the mechanism prioritizes patients who have waited longer,
thereby selecting patients with high untransplanted survival into transplantation. Sec-
ond, patient choice may induce selection. Organs that are particularly well-suited to a
patient may be more likely to be accepted by that patient.

These sources of selection create an identification challenge because they may be driven
                                                                                           3

by unobservables. We prove that our model is non-parametrically identified if two
sources of variation are available. The first source of variation is randomness in the offers
made to a given patient, conditional on the patient's priority-type in the mechanism.
This source of variation allows us to compare the outcomes of patients whose final
assignments differed due to variation in which organs were offered to them. Therefore,
this source of variation identifies a local-average treatment effect ­ a difference between
the survival outcomes for the select group of patients whose assignment is affected by
an offer.

An important limitation of using only this first source of variation is that it does
not readily allow us to predict survival from counterfactual assignments. Doing so is
necessary in order to consider changes in the set of patients who are transplanted or
changes in the kidneys to which a patient is matched. To fill this gap, we show that
an instrument that shifts choices while holding the (distribution of) outcomes fixed can
be used to identify the model. A related approach has been used in other settings by
Geweke et al. (2003); Heckman and Navarro (2007); Walters (2018); Hull (2018); van
Dijk (2019) to correct for selection and to estimate marginal treatment effects Heckman
and Vytlacil (2005). For our application, we use variation in scarcity across geography
and time after showing that our measures are balanced on patient-specific observables.
We estimate the model using a Gibbs' sampler similar to Geweke et al. (2003).

Our estimates suggest that choices and assignments are positively correlated with sur-
vival outcomesdue to both observed and unobserved factors. Patients are more likely
to accept kidneys that result in longer survival and those with match-specific benefits.
These patterns are also reflected in the final transplants: transplanted patients have a
higher LYFT from the average organ as compared to untransplanted patients. Taken
together, these results suggest that prior approaches that do not account for selection
on unobservable factors (e.g. Wolfe et al., 2008, 2009) yield biased estimates.

Next, we benchmark this assignment from the perspective of a planner interested in
maximizing survival effects as measured by LYFT. We focus on survival as an objective
                                                                                                        4

because it is a focal outcome in our empirical context.2 We compare the observed
assignment to alternatives ranging from a random assignment to one that maximizes
LYFT by reallocating patients and donors. The latter represents the maximum LYFT
achievable by assigning patients to organs. Because distributional constraints may limit
the ability to select which patients get a transplant, we also consider an alternatives
that assigns organs to different patients while fixing the set of transplanted patients.
Finally, we measure the LYFT increase that can be achieved by a planner who can
dictate assignments based on observed patient and donor characteristics.

Our results suggest that the mechanism does better than random allocation, but that
there is significant room for improvement. A random assignment yields an average
LYFT of 7.87, much lower than an average of 8.78 in the mechanism used during our
sample period. Compared to a random assignment, the equilibrium assignment selects
patients who benefit more from the transplant and matches these patients to donors
who are more suitable for them.

Most of this gain in LYFT comes from allowing patient choice. Assignment to patients
based on existing priority rules without allowing for choice only achieves an average
LYFT of 8.01. However, LYFT could be increased to 13.84 by changing the assignment.
A significant portion of these gains can be achieved if a planner can dictate assignments
using observables in our dataset. The drop from the optimal assignment suggests that
choice may not be dispensible if the unobserved types are private information.

These improvements in LYFT have important distributional consequences that may
present real-world challenges. Specifically, we find that realizing higher LYFT requires
transplanting patients who are relatively healthy and will live longer without a trans-
plant. Such re-distribution is necessary because we find that benefits from transplant
and survival without a transplant are strongly correlated, and most of the heterogeneity
in LYFT is across patients. Therefore, the planner faces a dilemma between maximizing
survival benefits and transplanting urgently sick patients.
   2
     Observe that there is no natural numeraire good that is transferable in the organ allocation context.
This fact poses challenges to utilitarian objectives that are often justified based on a Kaldor-Hicks
criteria.
                                                                                                 5

Related Literature

This paper contributes to several literatures. We provide an alternative perspective for
evaluating assignments to the literature studying assignment mechanisms (Abdulka-
diroglu and Sönmez, 2003; Pathak, 2017). This literature typically uses student pref-
erences as the welfare-relevant object. For example, the empirical literature, which
has focused on school choice problems, uses a willingness to travel measure for welfare
comparisons (see Agarwal and Somaini, 2020, for a survey).

A large theoretical literature has studied the design of living donor kidney exchanges
(e.g. Roth et al., 2004, 2007). Despite growth in this market, kidney exchanges account
for less than ten percent of all kidney transplants (see Agarwal et al., 2019a). The most
closely related paper,on deceased donor organ assignment (Agarwal et al., 2019b), uses
a decision-theoretic notion of welfare by comparing a change in the mechanism to an
equivalent increase in donor supply.

Our work contributes a quasi-experimental approach to a medical literature that con-
structs LYFT measures (Wolfe et al., 2008), which are commonly used to guide organ
policy design3 and to calculate cost savings from transplantation. Few papers within
economics study survival outcomes, focusing instead on the total number of transplants
(see Teltser, 2019; Dickert-Conlin et al., 2019, for exceptions).

Our paper also relates to recent approaches that leverage quasi-experimental variation
in school choice mechanisms to estimate school quality (e.g. Abdulkadiroglu et al.
2011; Abdulkadiroglu et al., 2017). The focus of this literature has been to estimate a
local average treatment effect. In our context, this estimand would preclude analyzing
outcomes from alternative assignments because the set of compliers would change. Our
model explicitly incoporates choices in the mechanism as a means to estimate the
distribution of effects.

The techniques we use build on a large literature studying selection models (Roy, 1951;
Heckman and Honore, 1990). Our methods are most closely related to papers that
   3
   The U.S. considered a priority system based on LYFT in the past, and the U.K. uses a "transplant
benefit score" to allocate kidneys (Watson et al., 2020).
                                                                                                    6

combine outcomes with choice models to correct for selection when estimating treatment
effects (e.g. Geweke et al., 2003; Heckman and Navarro, 2007; Walters, 2018; Hull, 2018;
van Dijk, 2019). In particular, Geweke et al. (2003) use a Gibbs' sampling in a model
that allows for selection on gains, and Heckman and Navarro (2007) study a setting with
dynamic treatments. Our use of a Bayesian approach is, as far as we know, new in the
literature on estimating survival models with quasi-experimental variation (e.g. Abbring
and Van den Berg, 2003). The main difference relative to the aforementioned papers is
that we use our methods to estimate heterogenous treatment effects in order to evaluate
alternative assignments.4 This requires us to simultaneously estimate selection on three
margins: baseline outcomes, average outcomes under an assignment, and match-specific
effects. Our results avoid relying on identification at infinity arguments by combining
variation in the offers received by an agent with a choice shifter.


Overview

Section 2 describes the institutions, introduces the data, and presents descriptive ev-
idence. Section 3 explains the model. Section 4 outlines the instruments. Section 5
demonstrates our identification results and specifies the empirical model that we take
to the data. Section 6 explores our estimates. Section 7 presents our results on LYFT
generated by the mechanism, and section 8 compares it to alernatives. Section 9 con-
cludes.



2       Background, Data, and Descriptive Evidence

This section begins with the basics of kidney transplation before describing the alloca-
tion system. We then detail our data and present key descriptive facts to motivate our
study.
    4
     Evaluating counterfactual treatment assignment is related to recent work by Kitagawa and Tetenov
(2018), who study the statistical properties of assignments that maximize treatment outcomes con-
ditional on observable covariates in a setting without selection on unobservables. A difference in our
setting is that treatments are also differentiated.
                                                                                                 7

2.1     Institutional Features

2.1.1    Basics of Kidney Transplantation

Approximately 750,000 patients are afflicted with End-Stage Renal Disease (ESRD) in
the United States (USRDS, 2018). Medicare provides these patients, irrespective of
age, with near universal coverage for costs related to ESRD. This program cost the
federal government $35.4 billion in 2016, accounting for 7.2 percent of overall Medicare
paid claims (USRDS, 2018) or approximately 1 percent of the federal budget.

Transplantation is considered the best treatment for ESRD and is estimated to extend
an average patient's life by approximately seven years for a patient who is more than
50 years old and eleven years for a young adult (Wolfe et al., 2008). In addition, a
transplant also saves on expensive dialysis treatment. Current estimates suggest that
each transplant is expected to save $195,000 ­ $400,000 over the life of a transplanted
patient, depending on insurance status (Irwin et al., 2012; Held et al., 2016; USRDS,
2018). These estimates are based on survival models that control for patient and donor
characteristics and a comparison of healthcare costs for patients with and without a
transplant. Our methods improve the estimates of the former set of components by
relying on quasi-experimental variation.

There is significant potential for heterogeneity in survival effects along several important
dimensions, even amongst compatible patient-donor pairs.5 First, survival both with
and without a transplant can differ based on the patient's health conditions. Some
patients may tolerate dialysis better than others. Similarly, the underlying cause of
kidney disease and other co-morbidities can affect a patient's post-transplant survival
prospects. Second, donor quality can significantly influence transplants. For example,
the circumstances of the donor's death, kidney function, and the donor's heath prior to
   5
    To receive a kidney transplant, the patient must be considered biologically compatible with the
donor. Compatibility requires that a patient does not have a pre-existing immune response to the
donated organ's cells. After transplantation, medications can limit new immune responses. We hold
medical practices related to determining compatibility and post-transplant management as constant
when we measure survival benefits. Danovitch (2009) provides further details about kidney biology
and medical practices.
                                                                                                   8

death are considered important determinants of organ quality. Finally, there are match-
specific factors that affect post-transplant survival. Examples include size and weight
match as well as tissue-protein similarity between patient and donor. Our methods will
estimate the effects of these factors on life-year benefits.


2.1.2   The Allocation of Deceased Donor Kidneys

The allocation of organs from deceased donors is organized using a prioritized waiting
list through which patients receive offers when an organ becomes available and may
choose to accept or reject it. This allocation system is co-ordinated using a system
called UNet. It collects detailed information about the donor's medical history and
organ characteristics and transmits it to biologically compatible patients who are being
offered the kidney. Each donor's kidneys are allocated to the highest-priority patients
on the waitlist who are willing to accept the organs.

Prior to 2014, patient priority in the kidney assignment system was based primarily
on waiting time and tissue-type similarity between the patient and donor. Specifically,
each kidney is first offered to patients with a perfect tissue-type match, then to patients
from the local area in which the organs were recovered, then regionally, and finally
nationally.6 Within each priority group, the points system is based on tissue type
similarity, whether or not the patient is pediatric, patient sensitization, and waiting
time (see OPTN, 2014, for details).

A new kidney allocation system aimed at improving survival benefits was implemented
on December 4, 2014. The most important change gives greater priority to the healthiest
patients for the highest quality organs because these patients are believed to have the
largest survival benefit from these organs. In addition, the system also increases priority
for extremely hard to match patients and reduces emphasis on wait time. We refer the
reader to OPTN (2017) for a detailed description of the priorities and points used.
   6
    The local regions are defined along state boundaries in most cases with exceptions to make sure
that a metropolitan area is not split into two regions. This was done, in part, because some regions
did not want to disadvantage their patients if others had a high demand for organs. Local allocation
also helps reduce the amount of time an organ needs to be preserved using specialized equipment while
outside the donor's body.
                                                                                                       9

Using survival models that control for patient and donor covariates, Israni et al. (2014)
predict that this change should increase post-transplant survival and improve access
for highly sensitized candidates.

There are two features of the kidney allocation system that are worth highlighting.
First, unlike the assignment systems for some other organs (for example, livers), the
kidney assignment system does not use patient urgency to determine priority. Second,
patients who reject an offer remain on the list and may choose to accept the next offer
with no penalty in priority for refusing an offer.


2.2     Data and Descriptive Analysis

2.2.1    Data Sources

This study uses data from the Organ Procurement and Transplantation Network (OPTN).
The OPTN data system includes data on all donors, wait-listed candidates, and trans-
plant recipients in the US, submitted by the members of the OPTN. The Health Re-
sources and Services Administration (HRSA), U.S. Department of Health and Human
Services provides oversight to the activities of the OPTN contractor.

The data include detailed information on patient and donor characteristics, survival,
and graft failure outcomes from the Standard Transplantation Analysis and Research
dataset. They also include all offers made by the system and accept/reject decisions
from the Potential Transplant Recipient dataset. These data are populated using in-
formation gathered in UNet and forms submitted by transplant centers from patient
follow-ups after a transplant is performed.

We restrict attention to patients who first joined the kidney waiting list between Jan-
uary 1st, 2000 and December 31st, 2010.7 From this set, we exclude patients who needed
multiple organ transplants and those that received a living donor kidney. Correspond-
ingly, we only use data on donor offers and acceptance decisions for these patients.
   7
    For patients with multiple listings, we keep the earliest registration if the patients never received
a transplant; otherwise, we keep the earliest registration with transplant record.
                                                                                                                      10

The data allow us to measure survival outcomes using information on patient death
merged from social security records and transplant center reports. These records are
consistently populated until December 31st, 2015.8 For patients without death records,
we use information from the waitlist for untransplanted patients and from annual post-
transplant follow-ups for transplanted patients to construct a censored measure of pa-
tient survival.


2.2.2     Descriptive Analysis

Patients and Donors


                                      Table 1: Patient Characteristics
                                   Table 1: Patient Characteristics and Outcomes
                                                                                            Received Deceased
                                                            All Patients                     Donor Transplant
                                                         Mean          S.D.                 Mean         S.D.
       New Patients per Year                                    15956                               8393
                                                   Panel A: Outcomes
       Died by Year Five (%)                            27.4        44.6                     9.3             29.1
       Survived Five Years (%)                          64.2        47.9                     86.2            34.4
       Censored by Year Five (%)                         8.4        27.7                     4.4             20.6
       Transplanted by Year Five (%)                    47.2        49.9                     89.7            30.4
                                                Panel B: Characteristics
       Age at Registration                             51.4           14.2                   48.9            15.2
       On Dialysis at Registration (%)                 77.3           41.9                   75.1            43.2
       Diabetic Patient (%)                            42.9           49.5                   33.4            47.2
       BMI at Registration                             28.2           5.9                    27.6            5.7
Sample includes 175518 patients who registered between 2000 and 2010. Transplant and survival data are available
     Notes:
through       202,364
         12/31/2015.    patients
                      Patients forregistered
                                    whom we do    notfirst
                                               their       wait
                                                       observe   list listing
                                                                death         between
                                                                        are censored.  The2000  and 2010.
                                                                                            observed  survival duration is
     Transplant
computed          records
           based on the date      status ofdata
                             andsurvival
                           and                   are available
                                            the patient  when wethrough      12/31/2015.
                                                                  last observe              Patients
                                                                                 her. See A.4          from
                                                                                              for detailed   whom of
                                                                                                           computation
observed  do not observe
     we survival. Durationsdeath         censored,
                                    are in
                             presented     Panel A are  time observed
                                                     which                survival duration computed differently
                                                             since registration.
       for each patient based on the dates and status when we last observe the patient. Outcomes
       presented in Panel A are measured by time are since registration.
Patients on the waiting list face extreme scarcity, with a significant portion of patients
dying while waiting for a transplant. Table 1 describes the sample of patients and
their transplant and survival outcomes. An average of 15956 patients from our sample
registered each year on the kidney waiting list. Panel A shows that 27.4% of patients
   8
    Our data use agreement allows for periodic updates, which we plan to include in future iterations
of the paper.
                                                                                                                     11

who join the list die within five years of registering, while only 47.2% receive a transplant
during this time period. The chances of receiving a transplant decline after the first
five years as only 54% of the full sample of patients ultimately receive a deceased donor
kidney. The remaining patients either still await a kidney or leave the list.

Panel B shows that patients receiving a transplant from a deceased donor are younger
and appear to have been in better health at the time of registration. Transplanted
patients are less likely to be on dialysis at the time of registration, are less likely to be
diabetic, and have a lower body mass index. These observations are consistent with
long waiting times and the hypothesis that differences in these characteristics correlate
with longer survival without a transplant.
                                     Table 2: Donor Characteristics
                              Table 2: Donor Characteristics and Kidney Recipient Outcome
                                                All Donors                         Any Kidney Discarded
                                                                               Yes                      No
                                            Mean             S.D.        Mean            S.D.      Mean             S.D.
 Number of Donors per Year                           6181                        1169                        5012
 Median Number of Offers per Donor                    51                          482                         40
 Average Number of Offers per Donor          543.5          1927.9      1890.5          3684.3     229.3            946.7
 Donor Age                                   39.2            18.4        52.0            16.6      36.2             17.5
 Cause of Death -- Head Trauma (%)           39.7            48.9        19.5            39.6      44.5             49.7
 Hypertensive Donor (%)                      28.6            45.2        55.4            49.7      22.4             41.7
 Donor Creatinine                             1.2             1.0        1.4             1.1        1.1              0.9
 Non-Heart Beating Donor (%)                  7.9            26.9        10.4            30.6       7.3             26.0
 KDPI                                         0.5             0.3        0.8             0.2        0.4              0.3
Notes:
 Notes:Sample
         Panel includes deceased
                A contains        donors
                           statistics for donors  between
                                          offered whose   2000 and
                                                         kidneys   2010
                                                                 were   to patients
                                                                      recovered     in the sample.
                                                                                 between    2000 and 2010.


Patients exercise choice despite scarcity, often rejecting undesirable organs. Table 2
shows that across donors, the mean number of biologically compatible offers is 543.5, but
the median is much lower, at 51. This skewed distribution arises because undesirable
kidneys are rejected by many patients, while desirable kidneys are accepted quickly.
Indeed, 18.9% of donors have at least one viable kidney discarded. Organs from these
donors were refused by an average of 1890.5 patients.

Predictors of organ quality are correlated with number of offers and discards in expected
ways. Table 2 summarizes select donor characteristics by the allocation outcome for a
donor's kidneys. Donors whose kidney(s) was/were discarded are older, less likely to
                                                                                     12

die of head trauma, more likely to be diabetic or hypertensive, have higher creatinine
levels (an indicator of lower kidney function), and more likely to have donated after
cardiac death. The transplantation community aggregates these and other indicators
of quality into the Kidney Donor Profile Index (KDPI), which is the percentile of the
                                        9
estimated quality of a donor's organ.


Survival

Our study will focus on survival as the primary outcome of interest for several reasons.
First, this outcome is arguably the most important one from the perspective of the
patient and also the policy-makers. Predicted LYFT from observational models was
explicitly used by the OPTN Kidney Transplantation Committee to evaluate proposed
designs. As we will show below, ESRD patients who do not receive a transplant have
a life expectancy of about half of those that do. Second, moving an ESRD patient
from dialysis to transplantation saves on expensive dialysis treatment. While we do
not directly evaluate this component, future research can use our estimates to revisit
cost-benefit analyses. Third, this outcome can be measured relatively easily. The other
most commonly discussed effect is on quality of life, which is hard to quantify.

Figure 1 shows survival curves for patients who receive a transplant and those who
do not using the (non-parametric) Kaplan-Meier estimator. We separate the survival
curves for young and old patients (above/below the median age of 54) and for donors
that had at least one kidney discarded, which indicates that the transplanted organ was
likely undesirable. The vertical dashed lines depict the average waiting time for organs
from the two donor types. Donors who had at least one kidney discarded are much
more likely to have undesirable organs as compared to those that did not. Indeed, the
average waiting time for a patient who receives a kidney from a donor without a discard
is higher than that for a donor with a discard.

These survival curves show that transplanted patients live significantly longer than pa-
  9
   See                          https://optn.transplant.hrsa.gov/resources/guidance/
kidney-donor-profile-index-kdpi-guide-for-clinicians/.
                                                                                                                  13

                                         Figure 1: Patient Survival




Notes: The figure shows Kaplan-Meier survival curve for young and old patients (above/below the median age of 54)
who registered on the waitlist between 2000 and 2010. Survival with transplant is measured as time since registration.



tients who do not receive a transplant. Moreover, these survival curves are substantially
different for young versus old patients and for patients transplanted with a desirable
versus undesirable organ. Only about half of the young patients who do not receive
a transplant survive more than 7.9 years, but more than half of the young patients
who receive a transplant from a donor with desirable organs live past 16 years. These
statistics are 5.4 and 11.3 years, respectively, for older patients, indicating that older
patients have shorter half-lifes both with and without a transplant. In fact, some young
patients survive more than eighteen years, which is rare for an older patient.10 For both
  10
     In our sample, 61.2% young patients and 21.0% old patients who received a desirable organ survived
more than 16 years. We cannot track survival outcomes for any longer than sixteen years because the
earliest cohort in our study registered in the year 2000, and our survival data are up to date as
                                                                                                     14

groups of patients, a transplant using an undesirable organ is associated with half-lives
that are shorter by about a year or more.

Taken together, these observations point to the potential for choices and assignments
to be correlated with survival outcomes. Choices are important because discards occur
only when many patients have refused the organ. Next, we turn to a model that
incorporates these sources.



3     A Model of Decisions and Outcomes

Our model considers assignment mechanisms in which objects, indexed by j , are as-
signed to agents, indexed by i. When an object arrives, offers are made to agents on
a waiting list who must decide to accept or reject it. These decisions translate into
an assignment, and an outcome is realized. We now describe the mechanism, observed
outcomes, and the primitives of our model in further detail.


3.1    Assignment Mechanism and Observed Outcomes

Objects arrive sequentially, their index j denotes their arrival order, and the mechanism
assigns each one as follows. It orders agents on the waiting list according to a priority
score that may be object specific and depend on the time that an agent has waited.
Offers are made in priority order and each agent may decide to accept or reject the
object. We denote acceptance with Dij = 1. Objects are assigned to the highest
priority agents that accept the offer. The mechanism may elicit multiple decisions at
once, but agents may not be skipped. Finally, agents that have been assigned an object
are removed from the list. Other agents may also leave the list.

Now consider the set of objects that are feasible for a given agent. Holding fixed the
decisions of the other agents, define Ji to be the sequence of objects offered to agent i
of December 31, 2015. This fact also motivates our focus on median survival half-lives instead of
expected life-years ­ the former does not depend on the right-tail of survival outcomes. This focus is
also consistent with prior work measuring the life-year benefits from transplantation (see Wolfe et al.,
1999, 2008, for example).
                                                                                       15

if the agent refuses all offers made to her and the agent participated in the mechanism
indefinitely. Because we allow agents to depart from the list prior to assignment due
                                                                             ~i be this
to death or other reasons, an agent may only receive a subset of offers. Let J
                 ~i is an ordered set of objects that the agent would have been offered
subset. That is, J
prior to departure from the list if she refused all objects.

The object that an agent is assigned depends both on the feasible set of objects and
her decisions. Specifically, let Tij = 1 denote agent i being assigned object j . Indexing
objects in sequence of arrival, we have that


                               Tij =                  (1 - Dij ) Dij ,
                                                 ~i
                                         j <j, j J


where Dij = 1 if agent i accepts object j . Therefore, each agent i is assigned to the
                                           ~i .
first object that she accepts from the set J

The outcomes we observe are determined by whether or not an agent is assigned and
to which object she is assigned. The observed outcome is
                                                                      

                           Yi =          Tij Yij + 1 -             Tij  Yi0 ,
                                    ~i
                                  j J                         ~i
                                                            j J


where Yij is the outcome of agent i from being assigned object j , and Yi0 is the outcome
for agent i if the agent is not assigned any object.

This formulation abstracts away from potential truncation of the observed survival
outcome for simplicity of notation. That is, if agent i is assigned to object j then we
observe Yij . Otherwise, we observe Yi0 . In our empirical context, we observe a censored
survival outcome for some set of patients. For these patients, we will be able to deduce
          ¯i , where Y
that Yi > Y          ¯i is the censoring time. Our approach will account for the fact that

we have access to censored data on outcomes. Throughout, we will make the standard
assumption that the duration for censoring is independent of the true duration (see
equation 20.22 in Wooldridge, 2010).
                                                                                                   16

3.2    Latent Outcomes and Decisions

There are three key sets of primitives in our model:

Unassigned Outcome: The outcome for agent i if the agent is not assigned any object
       is given by
                                            Yi0 = g0 (xi , i,0 ) ,                              (3.1)

       where xi  Rdx are agent-specific observables; i,0  R denotes a vector of agent-
       specific unobservables; and Yi0  R.

Assignment Outcome: The outcome of agent i from being assigned object j is given
       by
                                       Yij = g1 (qj , xi , i,1 , ij,1 ) ,                       (3.2)

       where xi  Rdx is a vector of agent-specific observed characteristics; qj  Rdq
       denotes the type for each object j ; i,1  R denotes a vector of agent-specific
       unobservables; ij,1  R denotes unobservables that are agent- and object-specific;
       and Yij  R.

The main restriction for the purposes of our application is that the survival curve
for a given patient does not evolve over time.11 That is, the agent-level unobserved
heterogeneity terms i1 and i0 do not vary with time. It is difficult to relax this
restriction because we only observe a single survival outcome for each patient (see Unkel
et al., 2014; Heckman and Navarro, 2007). The model and our empirical specification
do allow for survival to depend on time waited prior to transplant since xi and qj can
include the dates on which patient i and organ j arrive.

Decision Equation: We model the acceptance decision as


                                Dij = gD (qj , xi , zi , i,D , ij,D )  {0, 1}                   (3.3)
  11
    Since Yij and Yi0 denote survival outcomes in our application, they can be written as arising from
survival models with time-varying hazard rates that depend on unobservables.
                                                                                              17

           where Dij = 1 denotes accept; i,D  R denotes unobserved selectivity of agent i;
           ij,D  R is a shock that is specific to the agent and the object; and zi  Rdz are
           observables that influence the decision on an agent. Without loss of generality,
           we assume that gD is non-increasing in vi,D and non-decreasing in ij,D .

The primary restriction in the choice model is that an agent's decision does not depend
                                                                          ~i . Nonetheless,
directly on the specific decisions of other agents or on the feasible set J
the model does accomodate agents refusing an offer in expectation of the future offers
the agent may receive in equilibrium. Although we do not need to commit to a spe-
cific equilibrium model of choice, Agarwal et al. (2019b) describe an optimal stopping
problem that yields our decision equation as the optimal choice rule. Specifically, an
offer is accepted if the (perceived net present) value from accepting the organ exceeds
the option value of waiting.

The main difference between Xi and Zi is that the latter is excluded from the outcome
equations described above.12 For example, Zi could include variables that influence this
decision, say through the distribution of future offers, but is unrelated to the benefits of
accepting the given organ. This exclusion restriction, combined with Assumption 1(i)
below, introduces instruments in the model that we will use in the empirical strategy.
Identification results and the specific instruments Zi used in our application are further
discussed in Section 4.

Throughout the paper, we will make the following assumptions:

Assumption 1. (i) {ij }j , i , and Zi are mutually independent conditional on xi and
(qj )j .

(ii) The random vector i = (i,0 , i,1 , i,D ) is distributed iid across i.

(iii) The random vector ij = (ij,1 , ij,D ) is distributed iid across i and j .

Assumption 1(ii) and 1(iii) above are currently without loss of generality but will imply
restrictions when we restrict the functions g0 (·), g1 (·), and gD (·). In our specifications,
  12
    We use uppercase letters to denote the random variables that describe the process of sampling
from the patient population and reserve lowercase letters to denote their realized values.
                                                                                                18

dependence between the components of i and the components of ij will allow Yij and
Yi0 to be correlated with each other and with Dij .


3.3    Sources of Selection

The model allows for selection on three dimensions: untransplanted survival Yi0 ; sur-
                                  ¯i =
vival from the average transplant Y         1
                                                j   Yij ; and selection on match-specific survival
                                            J
      ¯i . There may be selection on these dimensions due to either choice or the mech-
Yij - Y
anism.

Selection due to choice occurs if agents' choices Dij are correlated with survival out-
comes Yi0 or Yij . For example, such selection occurs if patients with higher expected
survival without a transplant due to unobserved health conditions are more selective.
This type of selection can occur due to either observables or unobservables. For exam-
ple, if E (Yi0 |i,D , xi ) varies with xi or i,D there is selection on untransplanted outcomes.
Similarly, patients may be more likely to accept an organ with an idiosyncratic survival
benefit. These sources of selection are generalized versions of Roy (1951) selection.

Selection due to the mechanism occurs for two reasons, even after conditioning on
decisions Dij . First, an organ that arrives after the patient's survival outcome without
                                         ~i can only include organs that arrive prior to the
a transplant is not feasible. Therefore, J
untransplanted survival duration, Yi0 . This fact results in selection on untransplanted
survival via both xi and i0 because these attributes may be correlated with transplanted
                  ~i depends on the priorities and the set of patients on the waiting list,
survival. Second, J
which also affects which transplants occur. For example, priority is given to patients
who have a perfect tissue-type match with the kidney because these patients may have
idiosyncratically large survival benefits.13 Similarly, priority for waiting time implies
that transplanted patients may have larger than average values of survival without a
transplant, Yi0 , which may be correlated with transplanted survival, Yij .

Because some of these sources of selection can be driven by unobservables, comparing
  13
    Organs with a perfect tissue-type match are significantly less likely to cause a adverse immune
response, resulting in greater survival benefits.
                                                                                        19

survival with and without a transplant can yield biased estimates of the causal effect of
a transplant. Both sources result in Tij being correlated with unobserved factors that
determine outcomes. The aim of the instruments discussed in Section 4 is to address
the resulting endogeneity concerns.



4      Instruments

Our solution to the selection problems discussed above requires two sources of variation.
We describe each of these in turn. Section 5 will formally prove identification under
these two sources of variation.


4.1    Conditionally Independent Potential Offers

The first source of variation we will exploit arises from randomness in the objects offered
to an agent. Recall that Ji is the sequence of offers to agent i if the agent refuses all
offers made to her and participated in the mechanism indefinitely. We will impose the
following assumption on Ji :

Assumption 2. The sequence of offers Ji is conditionally independent of (i , i ) given
xi .

This assumption is satisfied if xi controls for a sufficiently rich set of agent types such
that the remaining variation in potential offers for an agent is independent of unob-
served determinants of outcomes and decisions. The assumption parallels the exclusion
restriction required for instrument validity.

We now argue that this assumption is plausible in our setting on theoretical and empir-
ical grounds. Our theoretical justification is based on the mechanism used to allocate
deceased donor kidneys and the assumptions on the model made above. The set Ji
depends only on the kidneys that arrive after a patient registers on the waiting list, the
decisions of other patients on the waiting list, and determinants of the agent's priority
and points on the list. It does not depend on the specific decisions made by agent
                                                                                                      20

i. Our knowledge of the mechanism allows us to construct rich controls xi for each
patient's priority. Conditional on these controls, the remaining variation in Ji is only
due to the stochastic arrival of organs and the decisions of agents other than i. It is
plausible to assume that the former is independent of (i , i ) because organ availability
depends primarily on deaths in the local area. And, as we argued in Section 3 above,
the latter is independent of (i , i ) in a natural equilibrium model of the the waiting
list.

While we will use the full set of offers to estimate the model, we now use a specific
function of Ji to investigate this source of variation. To do this, we construct a set of
desirable donors that are achievable for patient i in the two years following the patient's
registration. Specifically, we calculate whether a patient, denoted i, would be placed
above the patient in the 10th position on the list for a given donor. A patient is highly
likely to receive an offer for an organ from such a donor because only 22.7% of deceased
donors are offered to fewer than ten patients. We then calculate the number of donors
in a given category that satisfy this criteria for each patient in the two years following
the patient's registration date.14

The variation in this variable comes from two sources: variation in the organs that
arrived in the two years following patient i's registration and variation in the patients
on the waiting list when the organ arrived. Moreover, the results below use fixed effects
to control for differences in a patient's priority, geographical area, and time trends. We
therefore need to argue that Assumption 2 is satisfied for this variable conditional on
these controls. We claim that the first source of variation is independent of patient
i's decisions because specific patients are not considered in organ donation decisions.
The second source of variation is also plausibly exogenous because a given patient's
decision is unlikely to affect the priority of the patient ranked in the tenth position.15
  14
     We include a donor in the calculation irrespective of whether the patient accepted a prior offer or
departed from the list during the period. Throughout, we restrict attention to blood type-compatible
donors that arrived in the same donor area and assume a fixed waiting time of two years.
  15
     The only potential effect is if patient i, in our sample, accepts a kidney that would otherwise have
been accepted by another patient who would been pivotal in determining whether i would be in the
top ten positions for a different donor.
                                                                                         21

Consistent with these claims, Table D.5 in the appendix shows that our measures are
not significantly correlated with the vast majority of various patient characteristics (age,
diabetes, female, height, and weight).

Given this exclusion restriction, we now turn to showing how this measure of a patient's
potential offers is related to transplant and survival. These correspond to the first-stage
and reduced-form relationships in a linear instrumental variables model. Columns (1) to
(4) in Table 3 present estimates from linear probability models to examine the relation-
ship between the number of potential top 10 offers from donors that are either above or
below median quality (as measured by KDPI) and transplant outcomes. Columns (5)
and (6) show the survival effects of these potential offers using estimates from a Cox
proportional hazards model. All models include fixed effects for the patient's donor
service area (DSA), year of registration, blood type, and determinants of priority.

The first conclusion from Table 3 is that potential offers strongly influence whether or
not a patient receives a transplant as well as the type of organ transplanted. Columns
(1) and (2) show that the number of offers in both donor categories are positively related
to the probability of a transplant, whether or not we control for a rich set of patient
characteristics. Columns (3) and (4) show that the type of organ transplanted depends
on the number of potential offers from the corresponding type of donor. Specifically, a
patient with a greater number of potential offers from above median quality organs is
more likely to receive a transplant from such an organ. Conversely, the probability of
a transplant from a below median organ decreases with more offers from above median
quality organs. An analogous relationship holds for offers from below median quality
donors. The F-statistic is large and much higher than the conventional cutoff of 10
used to assess whether an instrument is strong (Stock and Watson, 2012). Therefore,
the evidence points to a strong first-stage relationship.

The second conclusion from Table 3 is that having a high potential number of offers
from organs that are above median quality, as measured by KDPI, improves survival.
Column (5) shows results that do not control for patient characteristics. Offers from
higher quality organs reduce the hazard rate of departure, thereby increasing survival.
                                                                                                                             22

                                      Table 3: Top KDPI
                                                    10 log(1+num)
                                                        offers: First     Stage
                                                                  cond FS+RF



                                                           Transplant                                    Hazard Rate
                                                                             KDPI > 50% or
                                      Any Kidney   Any Kidney    KDPI <= 50%   Missing
                                          (1)          (2)           (3)          (4)              (5)                 (6)
log(1 + # Top 10 Offers in 2 Years)
    KDPI <= 50%                       0.0322***    0.0334***     0.0439***     -0.0105***       -0.0163*        -0.0321***
                                      (0.00441)    (0.00441)      (0.00306)     (0.00287)      (0.00730)         (0.00736)
    KDPI > 50% or Missing             0.0303***    0.0297***     -0.0128***    0.0425***       0.0000307         -0.00321
                                      (0.00475)    (0.00478)      (0.00314)     (0.00294)      (0.00711)         (0.00715)

DSA FE, year FE, and blood type FE        x            x                x          x                x                  x
Control for Pediatric at Listing          x            x                x          x                x                  x
CPRA Category Controls                    x            x                x          x                x                  x
Patient Characteristics                                x                x          x                                   x

F-statistic                             93.20        92.23          108.0        130.6
Number of Observations                 132715       131105         131105       131105           132715          131105
R-Squared                               0.210        0.219          0.171        0.065


Notes: * p<0.05, ** p<0.01, *** p<0.001. The sample restricts to patients who registered between 2000 and 2008
because the instrument is calculated using offers in the two years post registration. Columns (5) and (6) use the Cox
proportional hazards model. Survival duration is measured since the date of registration. All regressions control for
donor service area (DSA) fixed effect, registration year fixed effect, blood type fixed effect, an indicator for pediatric
at registration, and indictors for CPRA = 0, 20 <= CPRA < 80, CPRA >= 80, and CPRA missing at registration.
Patient characteristics include an indicator for female; indicators for age 18-35, 35-50, and 50-65; indicators and linear
controls for dialysis time 1-3, 3-5, 5-10, and >10 years; and an indicator for diabetes. Standard errors, clustered by
DSA, registration year, and blood type in Columns (1) through (4), are in parentheses. F-test tests against the null
hypothesis that the coefficients on the instruments are zero.



However, both columns suggest that potential offers from a lower than median quality
organ do not affect survival. Column (6) shows that this relationship is robust to
controlling for patient characteristics. Under Assumption 2, these relationships can
only occur through the transplant a patient ultimately receives. Therefore, together
with the results in columns (1) to (4), the results suggest that patients that receive an
above median quality kidney have improved survival outcomes significantly.


4.2      A Choice Shifter: Scarcity

The second source of variation that we leverage is based on instruments that alter an
agent's acceptance decision but are independent of latent outcomes. In the model, the
variables zi affect the decisions, Dij , but are excluded from the functions g 1 (·) and
g 0 (·). Moreover, Assumption 1(i) requires that, conditional on xi , (i , i ) is distributed
                                                                                      23

independently of zi . Therefore, these instruments are useful in identifying the model
as they can be used to vary the selectivity of patients while holding survival outcomes
fixed.

The instruments that we construct for our setting are motivated by the observation
that patients face an optimal stopping problem (Agarwal et al., 2019b). Therefore,
two otherwise identical patients who place different option values on waiting will make
different acceptance decisions even when offered the same type of organ. In particu-
lar, patients who expect greater transplant opportunities in the future (lower scarcity)
should be less willing to accept a given kidney than otherwise identical patients with
fewer opportunities (higher scarcity). The scarcity instruments we need to construct
must be correlated with decisions but independent of latent outcomes.

We construct two measures of scarcity as choice shifters. The first is a predictor of
offers a patient can expect in the future. Fix an offer for donor j made to patient i
in the calendar quarter tij . Consider the set of offers made in the four quarters before
tij to other patients in a comparison group consisting of other patients with the same
blood type as i that registered in the same DSA as i. We count the subset of offers
made to this group of patients when they had the same number of waiting time priority
points as patient i when she received the offer for donor j . The second is a predictor
of donor supply, which is constructed analogously to the first but counts the number of
donors instead.

Our analysis will include fixed effects for the DSA, blood-type, and the calendar year of
the assignment. Therefore, both instruments exploit variation in the relative scarcity
of organs in a patient's location while controlling for secular trends across locations.
In order to evaluate the assumption that (i , i ) are distributed independently of zi ,
conditional on xi , we investigated whether variations in our measures of scarcity sig-
nificantly correlate with the characteristics of patients that register in a given year.
Reassuringly, Table D.6 in the appendix shows that our scarcity instruments are not
significantly correlated with patient characteristics (age, diabetes, female, height, and
weight). The threat to the instrument therefore needs to be a DSA-specific trend in
                                                                                                                                          24

scarcity that correlates with outcomes for some reason that is not reflected in patient
characteristics.

                                     Table 4: Scarcity all
                                                       Instruments:
                                                           KDPI FS+RF First Stage


                                                          Acceptance                                              Hazard Rate
                                (1)         (2)         (3)         (4)        (5)        (6)        (7)         (8)        (9)       (10)
Log(1 + No. Donors)        -0.0632***              -0.0480***             -0.0361***              -0.0107                -0.0328
                            (0.00373)               (0.00338)              (0.00323)              (0.0207)               (0.0208)
Log(1 + No. Offers)                     -0.0640***             -0.0528***            -0.0409***              -0.0156              -0.0371**
                                         (0.00203)              (0.00183)             (0.00182)              (0.0113)             (0.0115)

Offer Year FE                  x            x          x           x          x          x
Registration Year FE                                                                                 x           x          x         x
DSA FE and blood type FE       x            x          x           x          x          x           x           x          x         x
Years Waited at Offer FE       x            x          x           x          x          x           x           x          x         x
Patient Characteristics                                x           x          x          x           x           x          x         x
Donor Characteristics                                                         x          x                                  x         x
Match Characteristics                                                         x          x                                  x         x

F-statistic                  287.8        991.0      201.2      829.8       125.0      506.3
Number of Observations      912761       912761     912761     912761      900669     900669       64703       64703     63959      63959
R-Squared                    0.101        0.109      0.169      0.174       0.265      0.268


Notes: * p<0.05, ** p<0.01, *** p<0.001. For Columns (1) through (6), we use the first 100 offers from each donor
between 2000 and 2009, and the dependent variable is accpetance of an offer. For Columns (7) through (10), we use
patients who received a transplant through deceased donor offers between 2000 and 2009. All regressions control for DSA
fixed effect, blood type fixed effect, and a fixed effect for the number of years waited at the offer. Patient characteristics
include Calculated Panel Reactive Antibody (CPRA) via indicators for CPRA=0, 0.8>CPRA>=0.2, CPRA>=0.8,
and CPRA missing; an indicator for female; indicators for age <=18, 18-35, 35-50, and 50-65; indicators and linear
controls for dialysis time 1-3, 3-5, 5-10, >10 years; and an indicator for diabetes. Donor characterstics include linear age,
indicators and linear controls for donor creatinine > 0.6 and >1.8, and indicators for diabetes, donation after cardiac
death, and expanded criteria donor. Match characteristics include the number of Human Leukocyte Antigen (HLA)
mismatches via indicators for 0 HLA mismatch, 0 and 1 DR antigen mismatch, identical blood type, local offers, and
                                                                Page 1 CPRA indicators and # HLA mismatches, donor age
linear controls for (+) and (-) age difference, interactions between
over 40 and pediatric patient, donor age over 55 and patient age 18-35, donor age over 60 and patient age 35-50, and
donor age below 60 and patient age 50-65. Columns (1) through (6) report standard errors clustered by DSA, offer year,
number of years waited at offer, and blood types in parentheses.



These instruments are relevant to decisions if these ex-post measures are correlated with
beliefs about future offer probabilities. Columns (1) to (6) of Table 4 show the results
from a linear probability model that regresses a dummy on whether an offer is accepted
on two measures of scarcity and a variety of controls. The sample is restricted to the
first one hundred offers made for a donor. Both measures of scarcity are negatively
correlated with acceptance. Columns (3) and (4) show that the number of donors or
number of offers to patients in the comparison group in the four quarters is negatively
correlated with acceptance rates, controlling for patient characteristics, and fixed effects
for DSA, allocation year, and years waited. This relationship is strong and robust to
                                                                                                25

adding an extensive set of controls for donor and match-specific characteristics. Figure
D.1 in the appendix shows a residualized binscatter plot suggesting that this relationship
is monotonic.

These results indicate that our measure of scarcity has the expected relationship with
patient acceptance decisions while satisfying the required exclusion restrictions.


5     Identification and Estimation

The previous section introduced two sources of variation that are orthogonal to an
agent's latent outcomes Yi0 and Yij ­ the potential offers that an agent could receive
and the scarcity faced by an agent, zi . We now show that these two sources of variation
can be used to identify the decision model and measure the sources of selection discussed
in Section 3. Our results condition on the agent type xi and omit it for simplicity of
notation. We assume the analyst observes the offer sequence Ji , the object types qj ,
the choices Dij and the survival outcomes.

The argument proceeds in four parts. First, we show that variation in the offers received
by an agent can be used to learn the expected outcomes conditional on the value of
scarcity, assignment status, and the sequence of offer types. Second, we show that the
choice model described in equation (3.3) is identified conditional on scarcity. Third, we
use the variation in scarcity to identify the effect of selection on unobservables. The
second and third parts consider the case when all objects arrive at the same time as
the agent. The fourth part relaxes this restriction. All proofs are in Appendix C.


5.1   Identifying Conditional Expected Outcomes

The first result shows what can be learned about expected outcomes using variation in
offers. Let ji,n denote the n-th offer received by i, and let qji = qji,1 , . . . , qji,|j | be the
                                                                                       i

associated sequence of offer types. We have the following result:

Lemma 1. Suppose that Assumptions 1 and 2 are satisfied, and qji,1 , . . . , qji,n and
 qji,1 , . . . , qji,n-1 belong to the support of the distribution of offer-types induced by the
                                                                                                   26

distribution of Ji . If P Tiji,n = 1|qji , z > 0, then the quantities E Yiji,n |Tiji,n = 1, qji , z
and E Yi0 |Tiji,n = 1, qji , z are identified.

This result shows that we can identify the expected outcomes with and without assign-
ment for agents with an offer-type sequence qji who were assigned to the n-th offer. As-
signing agents with the offer sequence qji allows us to directly observe P Tiji,n = 1|qji , z .
Additionally, since we observe the outcome Yiji,n for agents with Tiji,n = 1, we also ob-
serve E Yiji,n |Tiji,n = 1, qji , z . The challenge is to recover the expected value of Yi0
for the group of agents who would have been assigned the n-th offer had they re-
ceived the offer sequence qji . We construct this quantity using the expected outcomes
of unassigned agents with offer-type sequences qji,1 , . . . , qji,n      and qji,1 , . . . , qji,n-1 .
The former group only includes agents with Tiji,n = 0 while the latter group includes
agents with both values of Tiji,n with known probability P Tiji,n = 1|qji , z . These three
quantities can be combined to recover E Yi0 |Tiji,n = 1, qji , z .

Although our formal result is stated for the conditional expectations of the outcome
variables, we can identify the whole distribution of Y . This follows from Lemma 1
because we can identify the conditional expectation of  (Y ) for any bounded function
 . This result is similar in spirit to those in the treatment effects literature (e.g. Imbens
and Angrist 1994; Heckman et al., 2010). A similar estimand has been the target in
Abdulkadiroglu et al. (2017) where offers in a school choice mechanism are used as
instruments to estimate treatment effects.

A limitation of this result is that only the expected outcomes for a selected set of
agents are identified. In particular, the assignment status, the types of offers an agent
receives, and the scarcity z introduce selection on the distribution of i,D conditional
on transplant. For example, two agents with the same offer sequence who are assigned
to the n-th and the (n + 1) -st offers likely differ in their selectivity, i,D . Identifying
E Yiji,n |Tiji,n = 1, qji , z and E Yi0 |Tiji,n = 1, qji , z is therefore not sufficient for evalu-
ating the expected values of Yiji,n and Yi0 under a counterfactual assignment of kidneys
to patients. Obtaining counterfactual predictions requires recovering the distribution
of outcomes conditional on unobservables, as we do below.
                                                                                                    27

5.2    Identifying the Choice Model

Our next result shows that we can use the variation in offers also to identify the function
gD (·).16 To fix ideas, focus on donor types whose arrival time coincides with the patient
arrival time. That is, if tij denotes the time difference between donor arrival and patient
arrival, we focus on the case when tij = 0 so that the distribution of i is not selected
due to survival while waiting on the list. This assumption is relaxed in section 5.4
below. We normalize the marginal distributions of i,D and ij,D to be uniform and
assume that z is supported in the unit interval. These normalizations are without loss
of generality because we have not yet placed restrictions on the functional form of gD (·).

We need to introduce more notation in order to develop our result. For each value
of z and donor type qj , consider two sets of pairs (D , D ) such that one set yields
gD (qj , z, D , D ) = 0 and the other yields gD (qj , z, D , D ) = 1. Figure 2 illustrates
the regions for two representative values of z  {zlow , zhigh }. The function v (D ; qj , z )
separates these two sets.17 Therefore, identifying the function v (D ; qj , z ) is equivalent
to identifying gD (·).

Our results make the following assumptions on v (·; qj , z ):

Assumption 3. For each qj and z , the function v (·; qj , z ) is differentiable and its image
is the unit interval.

This assumption implies that extreme values of D move any agent's decision from
accept to reject or vice-versa given a fixed value of zi and D  (0, 1). Because gD is
non-increasing in D and non-decreasing in D , v (·; qj , z ) is a weakly monotone function.
We can interpret v (D ; qj , z ) as the fraction of agents that reject an offer of type qj with
probability at least D when faced with scarcity z . Therefore, the assumption requires
that agent selectivity cannot overwhelm the effects of idiosyncratic preferences. If it did,
then there would be (interior) values of D that would yield a degenerate acceptance
  16
     The function gD (·) can be derived from micro-funded binary choice models with mean utilities
that depend on (qj , xi , zi , i,D ) and additive errors (Cosslett, 1983; Matzkin, 1991).
  17
     Formally, define v (D ; qj , z ) = sup D  0, 1 : gD (qj , z, D , D ) = 1 , where we adopt the con-
vention that the supremum of the empty set is 0.
                                                                                               28




                                                                                 (1,1)
                                       Reject

                                                  (;  ,  )


                         Selectivity




                                                                   (;  ,  )




                                                                        Accept

                         (0,0)                   Offer-specific shock



                          Figure 2: Acceptance and Rejection Regions


probability for a given value of z . In addition, the assumption places a weak smoothness
restriction on v (·; qj , z ).

With these assumptions, we show that variation in offers can be used to identify the
function gD (·):

              n
Lemma 2. Let qj be a sequence composed by n offers of type qj with tij = 0, and
let vn-1 (·; qj , z ) be the (n - 1)-st order Fourier-Legendre approximation of v (·; qj , z ). If
                                      n
Assumptions 1 - 3 are satisfied, and qj is in the support of the distribution of offer-types
induced by Ji , then vn-1 (·; qj , z ) is identified for each z  (0, 1) and qj . In particular,
if the hypotheses hold for all n, then v (·; qj , z ) and therefore P ( Dij = 1| i,D = D ) are
identified.

The main challenge for identification is that there are two latent reasons that drive an
agent's decisions, namely i,D and ij,D . We must also identify how each of these map to
                                                                                           n
acceptance decisions. For any n, we observe the probability P Diji,1 = . . . = Diji,k = 0|qj ,z
                                                                                                       29

for all k  n. Because v (D ; qj , z ) is equal to the fraction of agents that reject an offer
of type qj with probability at most D when faced with scarcity z , we can write

                                                                  1
                                                     n
             P Diji,1 = Diji,2 = . . . = Diji,k = 0|qj ,z =           k
                                                                      D dv (D ; qj , z ) .
                                                              0


                                                                n
Therefore, the quantity P Diji,1 = Diji,2 = . . . = Diji,k = 0|qj , z is the k -th moment
of a random variable with cumulative distribution function v (·; qj , z ). The problem
of recovering this function is therefore equivalent to solving the Hausdorff moment
problem (Casella and Berger, 2002). That is, we need to learn the CDF v (·; qj , z ) with
information on its moments. This can be done if infinitely many moments are known.

In fact, our result is stronger: it shows that observing decisions of finite n is informative
even without variation in the number of offers. Formally, our result implies that v (·)
can be well-approximated by observing decisions from a given sequence of offer-types
 n
qj . We accomplish this by showing that the moments described above determine the
n-th order Fourier-Legendre approximation of v (·). Using a result in Pollard (1947),
we show that as n becomes large, this approximation converges to the true function
v (·; qj , z ) in the L2 norm.


5.3    Identifying Selection on Unobservables

Next, we turn our attention to identifying the components that determine selection on
unobservables. This result requires an additional regularity assumption:

                                                                                         
Assumption 4. (i) For each z  (0, 1) and qj , the derivative v (·; qj , z )=             D
                                                                                           v   (·; qj , z )
is a continuous, bounded, and strictly positive function of D  (0, 1).

(ii) For each z and qj , the functions E (Yi0 |D ) and E (Yij |D , ij,D  D , qj ) are con-
tinuous, and the first and second moments of Yi0 and Yij exist.

The first part strengthens the monotonicity and differentiability of v (D ; qj , z ) imposed
in Assumption 3 by requiring a strictly positive and bounded derivative. Given our
interpretation of v (·), observe that v (·; qj , z ) is the density function of the distribution
                                                                                                     30

of the probability with which an agent rejects an offer of type qj . Therefore, the
assumption requires that this density function is bounded and is non-zero for all interior
values of D and z . The second part imposes weak regularity assumptions on conditional
expectations and the moments of Yi0 and Yij .

With this assumption, we can identify the components resulting in selection:

Theorem 1. Suppose that Assumption 4 and the hypotheses for Lemma 2 hold for all n.
Then, the quantities E [Yi0 |i,D = D ] and E [Yij |i,D = D , ij,D  D ] are identified for
all D  (0, 1) and D  (0, 1) such that there exists z in the support of its distribution
with D = v (D ; qj , z ).

This result shows non-parametric identification of the expected value of outcomes con-
ditional on values of selectivity and idiosyncratic preferences. The proof begins by using
results in Lemma 1 to identify the conditional expectations given scarcity z , offer-types
and assignment. Next, the proof rewrites these quantities in terms of the primitives
and uses arguments similar to those in Lemma 2 to recover quantities that depend on
both the outcomes model and the choices model. Next, we use the identification results
for v (·) in Lemma 2 to recover the objects of interest. For example, Lemma 1 implies
                          k
that E Yi0 × 1 {Ti = 0} |qj , zi is identified from variation in offers. This quantity can
be re-written as

                                           1
                           k
      E Yi0 × 1 {Ti = 0} |qj , zi =            E (Yi0 |D = v (D ; zi , qj )) k
                                                                             D dv (D ; zi , qj ) .
                                       0


If we observe this quantity for all k  n, then we can recover the n-th order Fourier-
Legendre approximation of E (Yi0 |D = v (D ; qj , z )) v (D ; qj , z ) when viewed as a func-
tion of D . Under the maintained assumptions, results in Talenti (1986) and Freud
(1971) imply that the Cesàro mean of this series converges uniformly to the true func-
tion. Finally, since v (D ; qj , z ) > 0 and bounded and the function v (D ; qj , z ) is iden-
tified (Lemma 2), we can identify E (Yi0 |D ) for all D  (0, 1) if we can find values of z
and D such that v (D ; qj , z ) = D . The intuition for identifying E (Yij |D , ij,D  D )
                                                                                                         31

is similar in spirit, although a little more notationally involved.18

In this way, the scarcity instrument is used to "trace-out" the expected values of Yi0 and
Yij conditional on D and D (see also Heckman and Vytlacil, 2005; Lewbel, 2007; Heck-
man and Navarro, 2007). Notice that our results do not rely on values of z that push
choice probabilities to degenerate values that obviate the selection problem. Therefore,
we do not rely on an "identification at infinity" argument. As is common, however,
we can only identify the expected outcomes conditional on the latent variable D for
values of D that are spanned by variation in the observable z . Moreover, it is easy to
see that if the image of v (D ; ·, qj ) across values in support of z is the unit interval,
then we can identify the unconditional values of the latent outcomes, namely E [Yi0 ]
and E [Yij ]. Recall that this exercise implies identifying the analogous quantities for
any bounded transformation  (Y ) of the outcome, thereby implying identification of
the full distribution, not just the mean.


5.4        Dynamic Selection

The results in Lemma 2 and Theorem 1 above apply to objects qj that arrive at the
same time as the agent (tij = 0). We now extend our results to the case when tij > 0.
Considering negative values of tij is not necessary because patients cannot be assigned
donors that arrived before them. The main challenge in considering the case when
tij > 0 is that the distribution of i,D conditional on waiting until tij is no longer uns-
elected. In our empirical example, selectivity may be correlated with survival without
a transplant. Therefore, we cannot normalize the marginal distribution to be uniform,
except at tij = 0.

We now extend the identification results to account for this type of dynamic selec-
tion. While the results in the previous subsection allow Yij and Yi0 to denote arbitrary
  18                                                      k
       Again, Lemma 1 implies that E Yij × 1 Tiji,k = 1 |qj , zi is identified. It can be re-written
       1                                                   -1
as 0 E (Yij |D = v (D ; zi , qj ) , ij,D  D ) (1 - D ) k  D dv (D ; zi , qj ) . As done above, we use this
expression to identify E (Yij |D = v (D ; zi , qj ) , ij,D  D ) (1 - D ) v (D ; qj , z ) and finally recover
E (Yij |D , ij,D  D ) by finding a value of z such that D = v (D ; qj , z ). One qualitative difference
is that identifying E (Yi0 |D ) allows us to use variation in either z or D to trace-out D , whereas the
result for E (Yij |D , ij,D  D ) must condition on D .
                                                                                                32

outcomes of interest, the results in this subsection explicitly assume that Yi0 denotes
survival. Therefore, we will assume that agent i may be assigned object j only if
Yi0 > tij . Using waiting time in the mechanism allows for selection in transplanted
survival outcomes.

Our main result requires an additional mild restriction on the conditional distribution
of Yi0 :

Assumption 5. For any interval I  R+ , P ( Yi0  I | D ) is a continuous function of
D .

With this assumption, we show the identification in the presence of dynamic selection:

Theorem 2. Suppose that Assumption 5 and the hypothesis of Theorem 1 hold, allowing
for tij > 0. Then, the probability P ( Dij = 1| i,D = D , Yi0  tij ) and the expectation
E ( Yij | i,D = D , ij,D  D , Yi0  tij ) are identified for all D  (0, 1) and D  (0, 1)
such that there exist z in the support of its distribution with D = v (D ; qj , z ) and
P ( Yi0  tij | D ) > 0.

The argument is developed in two steps. In the first step, we identify the conditional
distribution of D for agents that survive until time t. Lemma 6 in Appendix C.5 shows
that this function is identified. The proof applies Theorem 1 to show identification of
P (Yi0  t|D ) = E [ 1 {Yi0  t}| D ], which implies the identification of the conditional
distribution of D for agents that survive until time t.

The second step takes this conditional distribution and combines it with the arguments
in Lemma 2 and Theorem 1. Specifically, we first identify the function v (D ; qj , zi ),
which delimits the acceptance region in the (D , D )-space, by using the cdf of the
probability that a patient who survives until tij > 0 rejects a kidney of type qj .19 This
result is analogous to Lemma 2 for the case when tij > 0. Then, we use arguments
similar to those in Theorem 1.
  19
    These two quantities were identical when i,D was uniformly distributed on the unit interval, as
in the previous subsections. This was the relevant case when tij = 0.
                                                                                                 33

Taken together with Theorem 1, the result implies the identification of the quantities
E ( Yij | i,D = D , ij,D  D , Yi0  tij ) and E ( Yi0 | i,D = D , Yi0  tij ) where the condi-
tioning on xi and qj has been subsumed for simplicity. These quantities are sufficient
for evaluating the expected survival with and without a transplant for any agent under
a counterfactual in which the agent is assigned object j by fiat. Because we have also
identified P ( Dij = 1| i,D = D , Yi0  tij ), we can use Bayes' rule to identify the condi-
tional distribution of vD for agents that have or have not received an assignment under
the current mechanism by conditioning on their decisions and observed survival time.
Combined with E ( Yij | i,D = D , ij,D  D , Yi0  tij ) and E ( Yi0 | i,D = D , Yi0  tij ),
we can obtain the expected survival with and without a transplant conditional on ob-
served decisions and survival duration. This latter quantity allows us to measure the
selection induced in the current mechanism.


5.5    Estimation

Non-parametric estimation is cumbersome because we would like to use a rich set of
observables when estimating the model. Moreover, our outcome data are censored. We
therefore estimate a parametrized version of equations (3.1) ­ (3.3).


                    yi0 = B (Yi0 ; 0 ) = xi x + i.0                                           (5.1)

                    yij = B (Yij ; 1 ) =  (xi , qj ) x,q +  j + i,1 + ij,1                    (5.2)

                   Dij = 1 { (xi , qj ) x,q + zi z + j + i,D + ij,D > 0} ,                    (5.3)


where Yi0 is survival since registration without a transplant; Yij is survival since trans-
plantation if patient i is transplanted organ j ; B (·; ) denotes a Box-Cox transformation
of the argument with parameter  (Box and Cox, 1964);20  (xi , qj ) is a flexible func-
                                                                         2
tion of agent observables xi and object types qj ; j is distributed N 0,   with the
                                                                                
  20
    The Box-Cox transformation of y with parameter  is given by B (Y ; ) = Y -1 . A special case
when  = 0 is B (Y, ) = log Y . We set  by comparing an estimated survival curve using the non-
parametric Kaplan-Meier estimator to those implied by assuming that B (Y, ) is normally distributed.
Robustness of our headline results to our chosen values is presented in Table D.14.
                                                                                                     34

          2
parameter   to be estimated; ij = (ij,D , ij,1 ) is distributed N (0,  ) where ,11 is
normalized to 1 without loss of generality; and i is a mean-zero multi-variate normal
with a distribution induced by the following factor structure:


                                  i,1 = 1,D i,D + i,f                                             (5.4)

                                  i,0 = 0,D i,D + 0,f i,f + ~i,0 ,                                (5.5)


where i,D , i,f and ~i,0 are independently distributed mean-zero normal random vari-
ables with variances to be estimated. This factor stucture is without loss given the
normality of i .

This empirical model maps the patient and kidney types into characteristic space, which
allows us to keep the dimension of the parameter space manageable.21 It also allows us
to include j , which represents unobserved heterogeneity in organ quality. This term
can be seen as capturing the cumulative effect of organ characteristics observed by
patients and surgeons but not included in the empirical specifications.22

This choice of functional form is motivated by several considerations. First, we wish to
allow for and interpret the correlations between i,0 , i,1 , and i,D and between ij,1 and
ij,D . For example, the factor i,f captures the component of a patient's unobserved
frailty that is not correlated with decisions. If 0,f is small or negative, then, all else
being equal, transplanting a patient with lower fraility (higher i,f ) results in higher
survival benefits.

Second, the decision model is similar to the probit binary choice used in Agarwal et al.
(2019b) for the kidney waitlist. These two considerations direct us to use multivariate
normals to model the distributions of i and ij .

Third, we are interested in analyzing (censored) survival data, and appropriately fit-
  21
     Our framework can also accomodate coarsely defined patient and donor types. In this case, xi
and qj would be a vector indicating to which a patient or donor belongs. As is common, introducing
a very large number of types would result in imprecise results.
  22
     Agarwal et al. (2019b) argue, using an analogy to measurement error models (see Kotlarski's
Theorem in Rao, 1992; Hu and Schennach, 2008), that the distribution of this variable can be identified
based on the correlation between acceptances of a given donor's first and second kidney. For consistency
with the formal results presented in this paper, we will also estimate models that exclude this term.
                                                                                             35

ting the shape of the survival curve is important for obtaining meaningful estimates.
Box-Cox transformations yield a tractable likelihood function while generalizing the
functional form (see Spitzer 1982, for example). We hold the Box-Cox transformation
parameters 0 and 1 fixed and conduct robustness analysis to alternative choices.

Estimating this model via maximum likelihood is difficult because the likelihood for
each patient's data depends on the decisions over many donors as well as (potentially
censored) survival outcomes. Computing this requires integrating a nonlinear function
over a high dimensional space. Instead, we estimate the parameters of the model using
a Gibbs' sampler (McCulloch and Rossi, 1994; Geweke et al., 2003; Gelman et al., 2014).
This method generates a sequence of draws of the model's parameters, collected in , and
the latent variables i , ij , and j given the parameters from their respective posterior
distributions. Our chosen parametrization is amenable to this approach because the
latent variables can be partitioned so that each group has a posterior distribution given
the draws of the other groups that can be solved in closed form.23 The distribution
this method generates is asymptotically equivalent to that of the maximum likelihood
estimator (see van der Vaart, 2000, Theorem 10.1 (Bernstein-von-Mises)). Details on
the method are provided in Appendix B.1.

An advantage of our approach is that it allows a rich set of patient-level covariates
xi and organ types qj , to be included in the model. This richness is important for
understanding the extent to which observables can capture the selection on outcomes
induced by choices. The cost of this approach is its somewhat heavier reliance on
parametric assumptions and computational burden. For example, Hull (2018) studies a
semi-parametric model and proposes a indirect inference method that targets a subset
of quasi-experimental moments that can be identified directly in a first step. The main
drawback of this alternative for our purposes is that the number of moments that need
to be estimated in the first step increases with the dimension of the parameter space,
making it hard to include the covariates xi and types qj .
  23
    These considerations also motivate Geweke et al. (2003) to use a similar parametrization and
estimation approach when studying hospital quality in a selection model.
                                                                                        36


6     Survival and Choice Estimates

We present estimates from four different specifications. The first specification only
relies on offer randomness and does not employ the scarcity instruments. The second
specification, which is our preferred one, includes the number of past donors as the
scarcity instrument. To assess robustness, we estimate a third specification with our
past offers instrument and a fourth one using future donors. All specifications include
a rich set of patient and donor covariates to capture medical history and match quality.
These include all characteristics used in the leading models for predicting pre- and post-
transplant survival for patients with kidney failure (see Wolfe et al., 2008, for example)
as well as characteristics used to determine patient priority on the transplant list.


6.1   Choice

Table 5 presents the marginal effects of select characteristics on the probability of
acceptance, equation (3.3). The table reports the effects for a one standard deviation
increase in a continuous characteristic or a unit change in an indicator.

Our results suggest that proxies for donor quality and match-specific benefits are posi-
tively correlated with acceptance. Patients are significantly more likely to accept kidney
offers from younger donors and donors who died of head trauma and less likely to ac-
cept offers from donors with a history of hypertension. Patients are also significantly
more likely to accept kidneys with which they have a perfect tissue-type match. Note
that patients are also significantly more likely to accept kidneys which have higher
unobservable quality, j , suggesting that decisions respond to information that is not
perfectly captured by the observable organ characteristics included in the model. This
information includes results from various medical tests and physical examination of the
kidney.

The last two rows record the scarcity instruments' effects on the probability of accep-
tance. Consistent with the results in Table 4, each instrument has a significant negative
effect on the probability of acceptance. Other parameter estimates are similar across
                                                                                                   37

the three instrumented specifications. These co-efficients' robustness across the last
three columns suggests that the choice between these two instruments is unlikely to be
an important driver of our final results.


6.2    Survival

In Table 6, Panels A and B present estimates for survival without and with a trans-
plant, respectively, as equations (3.1) and (3.2), showing the marginal half-life effects
associated with select characteristics.24

Observable proxies for baseline patient health predict survival both with and without
a transplant. A patient who is older, diabetic, or on dialysis at registration has a
significantly shorter half-life without a transplant. These patient characteristics also
have lower survival with a transplant, with effects that are slightly larger in magnitude.
For example, a diabetic patient's half-life without transplant is lower than a non-diabetic
patient by 1.36 years and their half-life with a transplant is lower by 2.98 years.

We also find that the proxies for donor quality, waiting time, and tissue-type similarity
predict post-transplant survival, but donor characteristics have lower estimated effects
as compared to tissue-type matching and patient characteristics. For example, a donor
with a history of hypertension results in a lower half-life by 0.34 years, which is much
smaller than the patient effects described above. Receiving a kidney with a perfect
tissue-type match has a large effect on half-life, which is consistent with the fact that
an adverse immune reaction post-transplantation is less likely. These estimates are
quite stable across our instrumented specifications.

A comparison of estimates in Tables 5 and 6 indicates that many organ quality measures
positively affect both choice and survival. Tissue -ype match and donor death by head
trauma are both strongly associated with both choice and survival. That said, the
association is not perfect: organs from younger donors are more likely to be accepted
even though the survival effects are not significant. Likewise, the kidney unobservable
  24
    We avoid marginal expected life-years in order to limit extrapolation into extremely long survival
durations. Our current dataset allows us to observe a patient for 16 years at most. This approach is
consistent with the medical literature (e.g. Wolfe et al., 2008).
                                                                                           38

characteristic, j , has a significant effect on choice but a small, insignificant effect on
survival.


6.3   Selection on Unobservables

An advantage of our framework is that it can be used to measure the correlation be-
tween survival and choice induced by unobservable characteristics. The correlation on
observable characteristics discussed above suggests this channel may also be important.

Table 7 presents these effects for the three specifications that use the scarcity instru-
ments. The top panel shows how increased selectivity affects acceptance and survival.
We measure these effects by raising i,D in equation (3.3) by one standard deviation.
The effects on survival are measured by computing the changes on unobserved frailties
i,0 and i,1 induced by their estimated correlation with i,D . The bottom panel shows
the correlation between unobserved match-specific determinants of choice and survival.
We present these effects by reporting how one standard deviation higher ij,D impacts
choices and post-transplant half-lives.

We find that selective patients typically survive longer without a transplant and benefit
less from the typical transplant. A one standard deviation rise in i,D selectivity lowers
the probability of acceptance by 3.9 percentage points. This magnitude is of a similar
order as the effect of a kidney from a donor with a history of hypertension. Therefore,
there is positive selection into treatment on the patient-specific component of survival
benefits. Comparing the specifications shows that our conclusion is not sensitive to
instrument choice.

In contrast to selectivity, patient-donor specific factors do not induce significant selec-
tion via choices. While we estimate the covariance between ij,D and ij,1 to be positive,
the effect is not statistically significant. This suggests there is limited positive selection
into specific treatments based on unobservable match-level benefits.
                                                                                                                        39



                                             Table 5: Choice Estimates
                                     Acceptance Model (lambda = 0.6 for Y1 and 0.5 for Y0)


                                                    (1)               (2)                (3)                 (4)
    Patient Characteristics
       Diabetic                                   -0.003            -0.005             -0.005              -0.006
                                                  (0.000)           (0.001)            (0.001)             (0.001)
       CPRA                                       -0.008            -0.008             -0.008              -0.013
                                                  (0.000)           (0.000)            (0.000)             (0.001)
       On Dialysis at Registration                 0.001             0.003              0.003               0.003
                                                  (0.001)           (0.001)            (0.001)             (0.001)
       Age at Registration                         0.002             0.004              0.004               0.003
                                                  (0.000)           (0.001)            (0.001)             (0.001)
    Donor Characteristics
       Age < 18                                    0.140             0.153              0.154               0.152
                                                  (0.008)           (0.008)            (0.008)             (0.009)
       Age 18-35                                   0.079             0.098              0.098               0.134
                                                  (0.008)           (0.008)            (0.008)             (0.010)
       Age 50+                                    -0.060            -0.071             -0.069              -0.072
                                                  (0.002)           (0.003)            (0.003)             (0.003)
       Cause of Death - Head Trauma                0.057             0.065              0.064               0.068
                                                  (0.006)           (0.007)            (0.007)             (0.007)
       History of Hypertension                    -0.025            -0.029             -0.028              -0.029
                                                  (0.001)           (0.001)            (0.001)             (0.002)
       Unobservable (j)                            0.000             0.224              0.219               0.219
                                                  (0.000)           (0.002)            (0.002)             (0.002)
    Offer Characteristics
       Perfect Tissue Type Match                   0.146             0.143              0.145               0.114
                                                  (0.008)           (0.009)            (0.009)             (0.008)
       Log Waiting Time (Years)                    0.010             0.026              0.016               0.024
                                                  (0.000)           (0.001)            (0.001)             (0.001)
    Scarcity
       Log(1+#Past Donors)                                          -0.010
                                                                    (0.001)
       Log(1+#Past Offers)                                                             -0.020
                                                                                       (0.001)
       Log(1+#Future Donors)                                                                               -0.009
                                                                                                           (0.001)

    Instruments                               No Instruments     # Past Donors      # Past Offers     # Future Donors

Notes: This Table presents selected estimates of the marginal effect on the probability of acceptance of a one standard
deviation increase in each continuous covariate and a unit increase in each binary covariate. Marginal effects are computed
at the median value of observable covariates, integrating over the distribution of all unobservables. We generate 850000
draws and burn-in the first 50000 draws. We thin the chain by selecting every 10 draws. All columns control for DSA
fixed effects, blood type fixed effects, and registration year fixed effects. Other patient characteristics include dialysis
time at registration, BMI at departure, patient serum albumin, and indicators for female, diabetic, CPRA=0, and prior
transplant. Donor characteristics include indicators for other causes of death, expanded criteria donor, donation after
cardiac death, male, and bins of creatinine levels. Other offer characteristics include indicators for 2 A, 2 B, 2 DR
mismatches, not the same blood type but compatible, regional offer, local offer, and interactions between several patient
and donor characteristics. See Appendix Table D.11 through D.13 for detailed estimates.
                                                                                                                              40




                                              Table 6: Survival Estimates
                                            Survival Model (lambda = 0.6 for Y1 and 0.5 for Y0)

                                                          (1)                (2)                  (3)             (4)
                                                   Panel A: Survival without Transplant
          Patient Characteristics
              Diabetic                                  -1.380              -1.361             -1.361           -1.378
                                                        (0.030)            (0.030)            (0.030)           (0.030)
              CPRA                                       0.089              0.089              0.089             0.082
                                                        (0.031)            (0.031)            (0.031)           (0.030)
              On Dialysis at Registration               -1.019              -1.013             -1.013           -0.902
                                                        (0.042)            (0.041)            (0.041)           (0.039)
              Age at Registration                       -1.070              -1.060             -1.060           -1.052
                                                        (0.025)            (0.025)            (0.025)           (0.024)
                                                     Panel B: Survival with Transplant
          Patient Characteristics
              Diabetic                                  -2.959              -2.980             -2.977           -3.212
                                                        (0.099)            (0.113)            (0.111)           (0.110)
              CPRA                                      -0.027              -0.026             -0.031           -0.064
                                                        (0.098)            (0.098)            (0.097)           (0.096)
              On Dialysis at Registration               -2.384              -2.395             -2.389           -2.075
                                                        (0.118)            (0.125)            (0.123)           (0.115)
              Age at Registration                       -3.183              -3.192             -3.181           -3.416
                                                        (0.118)            (0.126)            (0.124)           (0.121)
          Donor Characteristics
              Age < 18                                   1.595              1.604              1.647             0.784
                                                        (0.906)            (0.916)            (0.916)           (0.830)
              Age 18-35                                 -0.267              -0.282             -0.249           -0.547
                                                        (0.973)            (0.981)            (0.980)           (0.930)
              Age 50+                                    3.383              3.381              3.296             0.635
                                                        (2.243)            (2.252)            (2.241)           (1.864)
              Cause of Death - Head Trauma               0.662              0.665              0.691             0.673
                                                        (0.313)            (0.316)            (0.314)           (0.317)
              History of Hypertension                   -0.340              -0.342             -0.357           -0.410
                                                        (0.122)            (0.124)            (0.123)           (0.125)
              Unobservable (j)                                              0.107              0.181             0.194
                                                                           (0.183)            (0.177)           (0.176)
          Offer Characteristics
              Perfect Tissue Type Match                  2.272              2.269              2.322             1.946
                                                        (0.944)            (0.959)            (0.954)           (0.896)
              Log Waiting Time (Years)                  -0.487              -0.543             -0.539           -0.646
                                                        (0.062)            (0.168)            (0.161)           (0.155)

          Instruments                               No Instruments      # Past Donors       # Past Offers   # Future Donors

Notes: Select estimates of the marginal effect on half-life of a one standard deviation increase in each continuous covariate
and a unit increase in each binary variable. Marginal effects are computed at the median value of observable covariates,
integrating over the distribution of all unobservables. The specifications have the same patient, donor, and offer covariates
as in Table 5 other than the scarcity instruments. Standard errors are in parentheses. See Appendix Table D.7 through
D.10 for detailed estimates.
                                                                                                                      41




                                          Table 7: Correlation Table
                          Unobservables Table (lambda = 0.6 for Y1 and 0.5 for Y0)


                                                        (1)                    (2)                     (3)
      Selectivity ( i,D)
         Probability of Acceptance                   -0.039                  -0.039                 -0.044
                                                     (0.001)                 (0.001)                (0.001)
         Post-Transplant Survival                     0.008                  -0.025                 -0.121
                                                     (0.138)                 (0.134)                (0.136)
         Survival without a Transplant                0.330                   0.323                  0.229
                                                     (0.060)                 (0.059)                (0.059)
      Match value ( ij,D)
         Probability of Acceptance                    0.068                   0.066                  0.068
                                                     (0.001)                 (0.001)                (0.001)
         Post-Transplant Survival                     0.022                   0.122                  0.091
                                                     (0.258)                 (0.251)                (0.253)

      Instruments                                # Past Donors           # Past Offers         # Future Donors


Notes: Estimates of how one standard deviation increase in choice unobservables affects acceptance and survival proba-
bilities. Survival durations are calculated using half-lives. Survival effects from changes in ij,D are computed using the
expected change in ij,1 from a one standard deviation rise in ij,D from zero, given the estimated covariance between
ij,D and ij,1 . Likewise, survival effects from changes in i,D are computed using the expected changes in i,1 and
i,0 from a one standard deviation increase in i,D from zero, given the estimated covariances between i,D , i,1 , and
i,0 . All effects are computed at the median value of observable covariates. Columns (1) through (3) use specifications
corresponding to columns (2) through (4) in Tables 6 and 5.
                                                                                                     42


7        LYFT in the Current Mechansism

7.1      Calculating Life Years from Transplant

Our model measures survival benefits for every potential transplant. For each patient-
donor pair, we compute the difference between the median survival time with a trans-
plant and median survival time without a transplant, measured from the date of trans-
plant. This measure is widely used in the literature on organ transplantation (Wolfe et
al., 2008) and is arguably the focal outcome for patients with kidney failure.

Specifically, for each pair (i, j ), we define LYFT conditional on a set of covariates
Iij = {xi , qj , Dij , j , i,D , i,f } in our model as follows:


                    LY F T (Iij ) = M (Yij |Iij ) - M (Yi0 - tij |Iij , Yi0 > tij ),              (7.1)

where M (Y |X ) is the median of random variable Y conditional on X and tij is the
time between patient i's registration and the arrival of kidney j . We then use a Gibbs'
sampler to compute the expectation of LY F T (Iij ) by drawing j , i,D , and i,f from
their conditional distributions given observables, decisions, and observed survival out-
comes.25 Therefore, this measure accounts for selection on unobservables induced by
the mechanism.

In order to assess the role of selection due to choices and due to other unobservables,
we also calculate expected LY F T (Iij ) given only the observables xi and qj . In this
case, we integrate LY F T (Iij ) over the unconditional distributions of j , i,D , i,f and
Dij .


7.2      Life Years from Transplant in the Mechanism

Table 8 presents the average estimated LYFT over all realized transplants. The first row
presents the average LYFT accounting for patient- and kidney-specific unobservables
    25
     The sampler provides us with simulated draws of LY F T (Iij ) from its distribution. To do this, we
generate a chain that fixes the parameters at the estimate ^. We generate 200,000 draws, burn-in the
first half, and take one of every 1,000 draws.
                                                                                                                         43

and the decision to accept. The second row presents the results conditioning only
on the observables. The columns correspond to the specifications in Tables 5 and 6.
The average LYFT from our preferred specification is 8.64 years (column 2). Ignoring
selection on unobservables yields an an average LYFT of 7.94 years. This difference
suggests there is positive selection on LYFT of patients into transplantation based on
unobservables. Column (1) reports analogous estimates from a specification that does
not use quasi-experimental variation from our scarcity instruments. The estimated
LYFT is biased and about two-thirds of a year less than our preferred estimate. This
suggests observational methods such as those in Wolfe et al. (1999) may underestimate
gains from transplantation.

                                    Table 8: Life-Years from Transplant
                    lambda = 0.6 for transplanted survival; lambda = 0.5 for untransplanted survival

                                                  (1)                  (2)                  (3)                   (4)

Life Years from Transplant
     Accounting for Unobservables                7.98                 8.64                 8.63                  8.63
     Observables Only                            7.95                 7.94                 7.83                  7.71

Untransplanted Survival
     All Patients                                6.89                 6.95                 6.95                  6.86
     Transplanted Patients                       7.24                 7.21                 7.21                  7.17

Post-Transplant Survival                        15.22                15.84                 15.84                15.80

Instruments                                No Instruments        # Past Donors        # Past Offers       # Future Donors


Notes: Life years from transplant and survival durations presented in the table are calculated using half-lives. Future
donors (offers) is defined as the number of donors (offers) in the next 4 quarters (see Table 4 for detailed definition). All
columns control for patient, donor, and offer characteristics, which are defined analogously as in Table 6 Panel B and
Table 5.



The second pair of rows of Table 8 report average survival without a transplant, sep-
arately, for all patients and the subset of patients who received a transplant. Across
specifications, the untransplanted survival for patients who are transplanted is higher
than for patients who are not. This postive selection on untransplanted survival aggre-
gates selection due to both choice and the mechanism.
                                                                                                                                                              44



                                45                                                                         0.07
                                                                                                                                                     Untransplanted Patients
                                                                                                                                                     Transplanted Patients
                                40
                                                                                                           0.06

                                35
Average Transplanted Survival




                                                                                                           0.05
                                30


                                25                                                                         0.04


                                20                                                                         0.03

                                15
                                                                                                           0.02
                                10

                                                                            Binned Means                   0.01
                                 5
                                                                            25th to 75th Percentile
                                                                            1st to 99th Percentile
                                 0                                                                            0
                                     2     4    6       8      10      12         14         16       18          -5     0       5      10     15     20      25       30      35
                                                    Untransplanted Survival                                                  LYFT from Potential Transplant


                                     (a) Transplanted and Untransplanted Survival                                      (b) LYFT by Transplant Status

                                                                       Figure 3: Patient Selection


7.3                                      Selection and LYFT

The positive selection on LYFT and untransplanted survival reported in Table 8 above
can take place along two margins: patients who are transplanted and kidneys to which
they are matched. This subsection further investigates these sources.


7.3.1                                    Patient Selection

To understand the importance of patient selection, we present the relationship between
(median) untransplanted survival and the average (median) transplanted survival from
all potential donors for each patient. Figure 3(a) presents the joint density between
these two quantities overlayed with a binscatter plot. Transplanted and untransplanted
survival are strongly correlated with a slope of the conditional mean that is larger than
one. Therefore, patients who are expected to live longer without a transplant also have
the largest life-year gains from a transplant. This result implies strong complementar-
ities between baseline health and transplantation.
                                                                                      45

When combined with the observation in Table 8 that transplanted patients have higher
baseline survival, this complementarily suggests that patients who are transplanted
likely have higher LYFT due to selection on baseline health. However, there are ad-
ditional components of patient selection, from choice and from the priorities in the
mechanism.

The overall selection on LYFT by observed transplant status is presented in Figure 3(b).
This figure plots the distribution of predicted LYFT across all potential transplants.
This distribution is shifted to the right for transplanted patients. The mean LYFT for
this group is 1.2 years more than the untransplanted group.

Taken together, these results show that the mechanism selects patients with larger
average LYFT and that some of this selection comes from transplanting patients who
are relatively healthy at baseline. One way in which the mechanism achieves this is by
making patients wait, which induces positive dynamic selection.


7.3.2   Patient-Kidney Matching

The realized allocation also matches patients to kidneys from which they receive greater
survival benefits as compared to the average kidney. Figure 4(a) plots the joint dis-
tribution of LYFT from the realized donor for a transplanted patient against LYFT
from all potential donors. The binscatter is below the 45-degree line, indicating that
the realized transplants generate greater than average LYFT for a patient. This find-
ing that matches are selected advantageously complements the finding, described by
Figure 3, that the mechanism selects patients with higher than average gains from
transplantation.

The estimates of the choice and survival equations reported in Section 6 suggest that
part of this advantageous matching comes from the correlation of patients' acceptance
decisions with LYFT. Figure 4(b) summarizes this relationship in binscatter plots of
kidney-patient acceptance probability against LYFT for all potential transplants, show-
ing two features. First, transplanted patients have a higher predicted probability of ac-
ceptance than untransplanted patients. This pattern is expected given that acceptance
                                                                                                                                                                                                       46



                                         35                                                                                                0.44
                                                Binned Means                                                                                           Binned Means for Transplanted Patients
                                                25th to 75th Percentile                                                                                Binned Means for Untransplanted Patients
                                         30                                                                                                0.42
                                                1st to 99th Percentile
Average LYFT from Potential Transplant




                                                                                                                                            0.4
                                         25




                                                                                                          Average Acceptance Probability
                                                                                                                                           0.38
                                         20
                                                                                                                                           0.36

                                         15
                                                                                                                                           0.34

                                         10                                                                                                0.32

                                                                                                                                            0.3
                                          5

                                                                                                                                           0.28
                                          0
                                                                                                                                           0.26
                                         -5
                                           -5   0         5         10    15     20        25   30   35                                           -5      0            5           10             15        20   25
                                                           LYFT from Realized Transplant                                                                   Average LYFT from Potential Transplant


(a) Transplanted Survival from Potential and Realized                                                                                                             (b) LYFT and Choice
Donors

                                                                           Figure 4: Patient-Kidney Matching


is necessary for a transplant to occur.

Second, the predicted probability of accepting an offer increases in LYFT. As our esti-
mates suggest, patients are more likely to accept kidneys with greater life-year benefits
(based on both observable and unobservable characteristics). A regression of acceptance
probability on average LYFT, controlling for patient and donor fixed effects, underlines
this point.26 A one standard deviation increase in the match-specific component of
LYFT raises the probability of acceptance by 0.59 percentage points.

In sum, we find that the allocation matches kidneys to patients based on LYFT and
that at least some of this selection is induced by choices in the mechanism.
                                 26
     Specifically, we regressed the expected value of LY F Tij conditional on {xi , qj , j , i,D , i,f } on the
probablility of acceptance given these same covariates, controlling for patient- and donor-specific fixed
effects.
                                                                                                 47

7.3.3   Patient Selection vs. Rematching

Figure 4(a) also provides insight into which of these two assignment margins dominates.
The heterogeneity in survival across patients swamps the heterogeneity across donors
within a patient. In fact, a decomposition of the total variance in LYFT into patient-
specific, donor-specific, and match-specific components (the latter is the remainder)
shows that the patient-specific component contributes to 6.58 years of the standard
deviation in LYFT. The donor-specific and match-specific components are much smaller,
accounting for 1.04 years and 0.48 years, respectively.27

These results suggest that the potential for increasing life-years by improving the match
between patients and donors without changing which patients are transplanted (re-
matching) is limited. Therefore, distributional constraints may limit the potential
gains from improved matching. In particular, maximizing life-year gains may mean
reallocating transplants away from the most urgent cases towards patients with longer
expected survival without a transplant, suggesting a potential trade-off between equity
and efficiency.



8    Potential for Further Increasing LYFT

We now turn to evaluating the performance of the mechanism on LYFT and quantifying
the importance of patient selection versus rematching. We do this by comparing the
average LYFT achieved by the realized assignment to alternatives, ranging from a
random assignment to one that maximizes LYFT. To ease computation throughout
this exercise, we restrict the sample to the set of patients who registered in 2005.28

As we argued in Section 2, extending patients' lives is a prima facie objective of the
medical profession. However, a planner's objective may depend on other factors, or
the weights the planner places on life year gains may depend on how urgently sick a
  27
     The standard deviation in LYFT is 6.68 years, which is the Pythagorean sum of the three compo-
nents.
  28
     One of our exercises requires simulating the mechanism, a task not necessary during estimation.
The year 2005 is the earliest year for which we were able to do so reliably.
                                                                                                     48

patient is. To address this issue, we will compare the types of patients who are trans-
planted under the alternative assignments. The results provide insight into the trade
off between maximizing LYFT and distributional or ethical motivations for evaluating
an assignment.

We focus on results from our preferred specification. These results are not sensitive to
choice of instrument and to varying the Box-Cox shape parameters of our specification.
Detailed estimates from the alternative specifications are provided in Table D.14.


8.1    Comparison with Benchmark Assignments

We start with two extremal benchmarks: random assignment and optimal assignment:

   · Random assignment is simulated by sorting patients in a random order and
       successively assigning patients to kidneys at random from the set of feasible kid-
       neys. For a kidney to be feasible for a patient, it must be biologically compatible
       and should arrive between the patient's registration date and a simulated death
       date without a transplant. The latter is drawn from that patient's predicted
       survival distribution.

   · Optimal assignment is computed by maximizing the total LYFT from all trans-
       plants. This benchmark considers an omniscient planner who knows xi , qj , i,D ,
       i,f , j , each patient's arrival and death dates, and each kidney's arrival date.
       The planner computes LYFT conditional on these characteristics and can dictate
       assignments. Only feasible transplants are allowed and each patient can receive
       at most one transplant.29

Comparison to the random assignment allows us to measure the increase in LYFT
achieved by the mechanism. Both selecting patients and advantageously matching kid-
  29
     Specifically, we simulate the unobservables i,D , i,f , j from the distribution of these random
variables conditional on the estimated parameters and the decisions observed in the data. We also
draw a death date from the estimated untransplanted survival distribution. Call a simulated draw
                                        s
for each patient/donor pair LY F Tij      . Let aij = 1 if i is assigned j and aij = 0 otherwise. Let
cij = 1 if i is feasible for j and cij = 0 otherwise. We solve the problem maxa i,j aij LY F Tij subject
to aij (1 - cij ) = 0,      i aij  kj , where kj is the number of kidneys available from donor j , and
    a
   j ij    1 .
                                                                                                    49

neys to patients drove the difference. To decompose these sources, we evaluate an
alternative that allocated kidneys randomly among patients who were actually trans-
planted:

   · The random amongst transplanted assignment is simulated by sorting trans-
      planted patients in a random order and successively assigning only these patients
      to a kidney at random from the set of feasible kidneys.

The increase in LYFT due to the mechanism results from both the mechanism's priority
rules for kidney offers and the choices made by patients on the waiting list. To separate
theLYFT gain over the random allocation achieved by the mechanism targeting patients
from the LYFT gain from choice, we evaluate a counterfactual assignment with no
patient choice.

   · The no choice assignment is computed by assigning each kidney to the pa-
      tient with the highest priority among untransplanted patients. Offers cannot be
      rejected by patients. Kidneys are assigned in a random order, and priority is
      computed as in the existing mechanism.

Comparing the realized assignment to the optimal assignment reveals the maximum
theoretical gain in LYFT that could be achieved over the existing mechanism. As with
the comparison of the realized and random assignments, this gain is driven both by
selecting patients and matching patients to kidneys. To decompose these sources, we
evaluate an alternative that only reassigns kidneys among transplanted patients:

   · The optimal rematching assignment is computed by maximizing the total
      LYFT from all transplants under the same information set as in the optimal
      assignment. In addition to the feasibility constraint, a patient in this assignment
      can be transplanted only if she was transplanted in the data.30
  30
     As in calculations of average LY F T (Iij ), we simulate the unobservables from their conditional
                                                                                  s
distributions given the data of these random variables to generate draws LY F Tij   . We then solve the
problem in footnote 29 above with the additional constraint aij = 0 if i was not transplanted in the
data.
                                                                                                       50


            Random Assignment among
              Transplanted Patients


                                 Optimal Assignment among                         Optimal Assignment
                 No Choice         Transplanted Patients                          among All Patients


                 7.87            8.78                   10.48

                     8.01 8.23             9.51                                         13.84

                        Realized Assignment


           Random Assignment                Optimal Assignment among All
            among All Patients            Patients Based on Only Observables



                        Figure 5: LYFT Under Counterfactual Allocations


The theoretical bounds based on optimal assignments use information about factors
that induce selection, i,D , i,f , and j . However, the factors i,D and i,f may not be
observed by the planner and may be hard to ellicit in a mechanism. Similarly, j may
be difficult to condition on. These observations motivate a benchmark that uses only
the information in the current set of observables:

   · The optimal assignment based on observables is computed by maximizing
      the total expected LYFT conditional on xi and qj by assigning patients to a feasi-
      ble kidney. For tractibility, we assume the planner has foresight on when patients
      arive and depart and when kidneys arrive.3132 The solution describes the highest
      possible LYFT that can be achieved by a planner who can dictate assignments
      based on this information.

Figure 5 presents the results. The average LYFT for the realized assignment amongst
patients who registered in 2005 is 8.78 years. This is analogous to the results in Table
8 above.
  31
     Relaxing foresight would require solving a dynamic assignment problem with uncertainty about
the future.
  32                                                          s
     We modify the problem in footnote 29 by replacing LY F Tij with its expectation given xi and qj .
The factors i,D , i,f , and j are drawn from their unconditional distributions.
                                                                                                    51

The realized assignment achieves about 0.92 years or 11.6% improvement in average
LYFT over random assignment. Both selecting patients and matching patients to kid-
neys are important. If the transplanted patients were assigned a random kidney, then
the increase would only be 4.4 months. This quantity represents the rise relative to
random assignments that is accounted for by patient selection. The remainder is due
to patient-kidney matching.

Patient choice is a key contributor to the mechanism's gains in LYFT over random as-
signment. The no choice assignment results in similar LYFT as the random assignment.
Thus, assignment to patients based on the existing priority rules without allowing pa-
tients to decline kidneys would achieve only 15.8% of the LYFT increase achieved by
the realized assignment.

Although the mechanism does better than a random assignment, there is significant
scope for further increasing LYFT. Under the optimal assignment, average LYFT is
13.84 years, about 5.1 years longer than the LYFT achieved in the realized assignment.
A significant fraction, 14.4%, of these potential gains only requires rematching patients
and kidneys while keeping the set of transplanted patients fixed. However, consistent
with Figure 4(a), most of the potential gains from the optimal allocation come from
changing the set of patients who are transplanted.

Finally, we find that a planner who can dictate assignments using the observable char-
acteristics could achieve a significant fraction, but not all, of the potential increase.
The observables in our model have been either used to determine priority or consid-
ered explicitly in proposed reforms.33 The average LYFT under the optimal assignment
based on observables is 10.48 years. Although this is 3.4 years less than the theoretical
maximum, it is about 1.7 years more than the average LYFT achieved by the mecha-
nism. Therefore, in principle, average LYFT could be substantially raised by targeting
transplants using observed characteristics rather than choices.
  33
   This claim is based on the minutes of the OPTN Kidney Transplantation Committee. Determining
whether other health conditions can be used in the assignment system is beyond the scope of this paper.
                                                                                                                                 52

                              Table 9: Characteristics of Transplanted Patients

                                                Random Assignment          No Choice             Realized Assignment      Optimal Assignment
                              All Patients   Transplanted           Transplanted              Transplanted             Transplanted
                                               Patients     LYFT      Patients         LYFT     Patients       LYFT      Patients      LYFT
                                  (1)            (2)         (3)        (4)             (5)        (6)          (7)         (8)         (9)
Age < 18                        3.1%           3.2%         13.29     5.9%         13.70        5.4%          14.89      5.4%          15.87
Age 18 - 35                     11.6%          12.3%        10.63     11.9%        11.61        13.0%         12.45      16.8%         12.02
Age 36 - 59                     54.8%          55.8%        7.50      53.0%        8.17         54.7%         8.86       57.5%         9.09
Age >= 60                       30.5%          28.8%        4.64      29.2%        5.11         26.9%         5.61       20.3%         5.51
Diabetic                        41.4%          40.2%        5.34      37.7%        5.80         33.3%         6.51       31.6%         6.45
On Dialysis at Registration     83.0%          82.3%        6.99      82.0%        7.74         80.2%         8.50       80.7%         8.90
0 HLA Mismatches                   -           0.0%         10.18     15.5%        8.18         12.5%         8.59       8.1%          11.16
0 DR Mismatches                    -           4.2%         7.35      35.6%        8.11         21.9%         8.86       13.1%         10.26
HLA Mismatches                     -            4.75          -        3.62          -           3.92           -         3.80           -
Untransplanted Survival          6.68           6.75          -        6.72          -           6.81           -         7.27           -




8.2       The Planner's Dilemma

An important conclusion from Figure 5 is that LYFT could be increased by up to 57.6%.
However, acheiving this would require changing the set of patients who are transplanted.
We now argue that this change shifts the demographics and health conditions of trans-
planted patients, creating a potential barrier due to distributional considerations and
the need to weigh patient urgency.

The LYFT increases, from random assignment to the mechanism and finally to the
optimal solutions, require transplanting relatively healthy patients. Table 9 presents the
distribution of patient age, health, and untransplanted survival for patients transplanted
under the random assignment, the no choice assignment, the actual assignment, and
the optimal assignment. Patients who are transplanted under the realized assignment
are healthier than average ­ they are younger, less likely to be diabetic, less likely to be
on dialysis, and have longer untransplanted survival. Similarly, transplanted patients
are also healthier under the optimal assignment than under the realized assignment.

Comparing the realized assignment and the no choice assignment illustrates the role
of choice in increasing LYFT. The existing priority rules target transplants between
patients and donors with no HLA mismatches. Under the no choice assignment, 15.5%
of assignments are to zero-mismatch patients. Only 12.5% of assignments are to such
patients under the realized assignment and 8.1% under the optimal assignment. Yet
choice also dramatically changes the selection of who is transplanted, shifting the age
                                                                                       53

distribution towards younger patients and those with longer untransplanted survival.
Both factors are correlated with higher LYFT. Therefore, while patients benefit from
kidneys with a perfect tissue-type match, reassigning kidneys to the right set of patients
without perfect tissue-type matches can increase LYFT.

These shifts highlight the distributional effects of optimizing LYFT. The realized out-
come increases LYFT over random assignment in part by selecting younger, health-
ier patients to transplant. The optimal assignment exacerbates these distributional
changes. These results are driven by the strong correlation between survival with and
without a transplant, illustrated in Figure 3(b). Thus, in order to maximize LYFT
given the scarcity of kidneys available, the planner must transplant healthier patients
and let sicker patients go untransplanted.

This stark trade-off represents a moral dilemma for several reasons. First, society may
have a moral imperative to transplant sick patients who may soon die, even if doing so
implies reducing total life years gained from transplantation. Second, there are concerns
about discriminating based on patient characteristics Our results suggest an optimal
assignment should target transplants for younger patients, thoughproposed age-based
priorities have conflicted with concerns about age discrimination when previous reforms
were being considered.



9   Conclusion

An hitherto overlooked goal in designing assignment mechanisms is to produce matches
that improve associated outcomes such as patient survival or student achievement. We
take a first step towards an empirical analysis that incorporates these outcomes by
studying the LYFT generated using the pool of deceased donor organs. To do this,
we show how to use variation generated in an assignment mechanism to estimate and
identify a model that jointly considers choices and outcomes.

We find that the waitlist mechanism used to allocate deceased donor kidneys does better
than a random allocation but leaves much scope for improvement. The mechanism
                                                                                       54

transplants patients for whom life would be extended longer, as compared to the average
patient, and matches them to more suitable than average kidneys. However, average
LYFT could be boosted by a total of 5.1 years per kidney. The potential economic value
of realizing these gains is enormous. Approximately 14.4% of these benefits could be
accomplished if it were possible to dictate assignments based on observed patient and
donor characteristics. Aldy and Viscusi (2007) place the value of a statistical life year
at $300,000. At even half this value and ignoring costs savings on dialysis, the potential
benefits from 1 more year of life from the approximately 13,000 deceased donor kidneys
transplanted each year accrues to almost $2 billion per year.

Achieving most of these gains will require confronting important distributional consid-
erations. Specifically, we find that survival with and without a transplant is strongly
correlated and that most of the heterogeneity in benefits from a transplant is across
patients rather than match-specific. Therefore, the planner faces a dilemma between
transplanting the sick and transplanting those for whom life will be extended the longest.

Through this work we open several important avenues for further research. First, our
current approach evaluates benchmark assignments rather than the equilibria of alter-
native mechanisms that allow agents to express choice. It would be useful to combine
recent approaches for analyzing equilibria of alternative mechanisms with a model of
outcomes. Such a model would allow us to consider the selection induced via choices in
a counterfactual environment. Second, we focus on an aggregate measure of LYFT that
abstracts away from distributional considerations. Formalizing these constraints and
incorporating them into the design problem is valuable. Solving these two challenges
would allow a design approach that better speaks to the considerations central to poli-
cymaking. This trade-off between equity and efficiency, which is particularly central to
designing mechanisms when outcomes are the target, deserves further research in other
contexts as well.


References

Abbring, Jaap H. and Gerard J. Van den Berg, "The nonparametric identifica-
                                                                                  55

  tion of treatment effects in duration models," 2003.

Abdulkadiroglu, Atila and Tayfun Sönmez, "School Choice: A Mechanism Design
 Approach," American Economic Review, may 2003, 93 (3), 729­747.

  , Joshua D. Angrist, Susan M. Dynarski, Thomas J. Kane, and Parag A.
  Pathak, "Accountability and flexibility in public schools: Evidence from boston's
  charters and pilots," Quarterly Journal of Economics, 2011.

  , , Yusuke Narita, and Parag A. Pathak, "Research Design Meets Market
  Design: Using Centralized Assignment for Impact Evaluation," Econometrica, 2017,
  85 (5), 1373­1432.

Agarwal, Nikhil and Paulo J. Somaini, "Revealed Preference Analysis of School
 Choice Models," Annual Review of Economics, 2020, 12 (1).

  , Itai Ashlagi, Eduardo Azevedo, Clayton Featherstone, and Omer Karad-
  uman, "Market Failure in Kidney Exchange," American Economic Review, 2019,
  109 (11), 4026­70.

  , , Michael Rees, Paulo Somaini, and Daniel Waldinger, "An Empirical
  Framework for Sequential Assignment: The Allocation of Deceased Donor Kidneys,"
  Technical Report, National Bureau of Economic Research, Cambridge, MA feb 2019.

Aldy, J. E. and W. K. Viscusi, "Age Differences in the Value of Statistical Life: Re-
 vealed Preference Evidence," Review of Environmental Economics and Policy, 2007.

Box, G. E. P. and D. R. Cox, "An Analysis of Transformations," Journal of the
 Royal Statistical Society: Series B (Methodological), 1964.

Casella, G. and R. L. Berger, "Statistical Inference, Second Edition," Duxbury-
 Thomson Learning, 2002.

Cattaneo, Matias D., Richard K. Crump, Max Farrell, and Yingjie Feng,
 "On Binscatter," SSRN Electronic Journal, 2019.

Cosslett, Stephen R., "Distribution-Free Maximum Likelihood Estimator of the Bi-
 nary Choice Model," Econometrica, may 1983, 51 (3), 765.

Danovitch, Gabriel M, Handbook of kidney transplantation, Lippincott Williams &
 Wilkins, 2009.

Dickert-Conlin, Stacy, Todd Elder, and Keith Teltser, "Allocating scarce organs:
 How a change in supply affects transplant waiting lists and transplant recipients,"
 American Economic Journal: Applied Economics, oct 2019, 11 (4), 210­239.

Freud, Géza, Orthogonal Polynomials, Budapest, Pergamon, Oxford, 1971.
                                                                                 56

Gelman, Andrew, John B Carlin, Hal S Stern, and Donald B Rubin, Bayesian
 data analysis, third ed., Chapman & Hall/CRC Boca Raton, FL, USA, 2014.
Geweke, John, Gautam Gowrisankaran, and Robert J. Town, "Bayesian Infer-
 ence for Hospital Quality in a Selection Model," Econometrica, 2003, 71 (4), 1215­
 1238.
Heckman, James J. and Bo E. Honore, "The Empirical Content of the Roy Model,"
 Econometrica, 1990.
   and Edward Vytlacil, "Structural equations, treatment effects, and econometric
  policy evaluation," Econometrica, may 2005, 73 (3), 669­738.
   and Salvador Navarro, "Dynamic discrete choice and dynamic treatment effects,"
  Journal of Econometrics, feb 2007, 136 (2), 341­396.
  , Daniel Schmierer, and Sergio Urzua, "Testing the correlated random coefficient
  model," Journal of Econometrics, 2010.
Held, Philip J, F McCormick, A Ojo, and John P Roberts, "A cost-benefit
 analysis of government compensation of kidney donors," American Journal of Trans-
 plantation, 2016, 16 (3), 877­885.
Hu, Yingyao and Susanne M. Schennach, "Instrumental Variable Treatment of
 Nonclassical Measurement Error Models," Econometrica, 2008, 76 (1), 195­216.
Hull, Peter, "Estimating Hospital Quality with Quasi-Experimental Data," Working
 Paper, 2018.
Imbens, Guido W. and Joshua D. Angrist, "Identification and Estimation of
  Local Average Treatment Effects," Econometrica, 1994.
Irwin, F D, A F Bonagura, S W Crawford, and M Foote, "Kidney paired
  donation: a payer perspective," American Journal of Transplantation, 2012, 12 (6),
  1388­1391.
Israni, A. K., N. Salkowski, S. Gustafson, J. J. Snyder, J. J. Friedewald,
  R. N. Formica, X. Wang, E. Shteyn, W. Cherikh, D. Stewart, C. J.
  Samana, A. Chung, A. Hart, and B. L. Kasiske, "New National Allocation
  Policy for Deceased Donor Kidneys in the United States and Possible Effect on Pa-
  tient Outcomes," Journal of the American Society of Nephrology, aug 2014, 25 (8),
  1842­1848.
Kitagawa, Toru and Aleksey Tetenov, "Who Should Be Treated? Empirical Wel-
 fare Maximization Methods for Treatment Choice," Econometrica, 2018, 86 (2), 591­
 616.
Lewbel, Arthur, "Estimation of average treatment effects with misclassification,"
  2007.
                                                                                   57

Matzkin, Rosa L., "Semiparametric Estimation of Monotone and Concave Utility
 Functions for Polychotomous Choice Models," Econometrica, sep 1991, 59 (5), 1315.

McCulloch, Robert and Peter E Rossi, "An exact likelihood analysis of the multi-
 nomial probit model," Journal of Econometrics, 1994, 64 (1-2), 207­240.

OPTN, "Organ Procurement and Transplantation Network Policies," Technical Report
 2014.

  , "Organ Procurement and Transplantation Network Policies," Technical Report
  2017.

Pathak, Parag A., "What Really Matters in Designing School Choice Mechanisms,"
 in "Advances in Economics and Econometrics" 2017.

Pollard, Harry, "The Mean Convergence of Orthogonal Series. I," Transactions of
 the American Mathematical Society, jul 1947, 62 (3), 387­403.

Rao, Prakasa B. L. S., Identifiability in Stochastic Models: Characterization of Prob-
 ability Distributions, New Delhi, India: Academic Press, Inc., 1992.

Roth, Alvin E., Tayfun Sonmez, and M. Utku Ünver, "Kidney Exchange," The
 Quarterly Journal of Economics, 2004, 119 (2), 457 ­ 488.

Roth, Alvin E, Tayfun Sönmez, and M. Utku Ünver, "Efficient Kidney Ex-
 change: Coincidence of Wants in Markets with Compatibility-Based Preferences,"
 American Economic Review, jun 2007, 97 (3), 828­851.

Roy, A. D., "Some thoughts on the distribution of earnings," Oxford Economic Papers,
 1951.

Spitzer, John J., "A Primer on Box-Cox Estimation," The Review of Economics and
  Statistics, 1982.

Stock, James H and Mark W Watson, Introduction to Econometrics Third Edition
  2012.

Talenti, Giorgio, Rearrangements of functions and partial differential equations 1986.

Teltser, Keith F., "Do kidney exchanges improve patient outcomes?," American Eco-
  nomic Journal: Economic Policy, 2019, 11 (3), 427­453.

Unkel, Steffen, C. Paddy Farrington, Heather J. Whitaker, and Richard Pe-
 body, "Time varying frailty models and the estimation of heterogeneities in trans-
 mission of infectious diseases," Journal of the Royal Statistical Society. Series C:
 Applied Statistics, 2014, 63 (1).
                                                                                    58

USRDS, United States Renal Data System, 2018 USRDS annual data report:
 Epidemiology of kidney disease in the United States, National Institutes of Health,
 National Institute of Diabetes and Digestive and Kidney Diseases, Bethesda, MD,
 2018.

van der Vaart, A. W., Asymptotic Statistics, Cambridge University Press, 2000.

van Dijk, Winnie, "The socio-economic consequences of housing assistance," 2019.

Walters, Christopher R., "The demand for effective charter schools," Journal of
 Political Economy, dec 2018, 126 (6), 2179­2223.

Watson, Christopher J E, Rachel J Johnson, and Lisa Mumford, "Overview
 of the Evolution of the UK Kidney Allocation Schemes," Current Transplantation
 Reports, 2020, 7, 140­144.

Wolfe, R A, K P McCullough, and A B Leichtman, "Predictability of survival
 models for waiting list and transplant patients: calculating LYFT," American Journal
 of Transplantation, 2009, 9 (7), 1523­1527.

Wolfe, R. A., K. P. McCullough, D. E. Schaubel, J. D. Kalbfleisch, S. Mur-
 ray, M. D. Stegall, and A. B. Leichtman, "Calculating Life Years from Trans-
 plant (LYFT): Methods for Kidney and Kidney-Pancreas Candidates," American
 Journal of Transplantation, apr 2008, 8 (4p2), 997­1011.

Wolfe, R.A., V.B. Ashby, E.L. Milford, A.O. Ojo, R.E. Ettenger, and Others,
 "Comparison of mortality in all patients on dialysis, patients on dialysis awaiting
 transplantation, and recipients of a first cadaveric transplant.," New England Journal
 of Medicine, 1999, 341 (23), 1725­1730.

Wooldridge, Jeffrey M, "Econometric Analysis of Cross Section and Panel Data,"
 MIT Press Books, 2010, 1.
                                                                                      1

 Appendix for "Choices and Outcomes in Assignment Mechanisms"

                  Nikhil Agarwal, Charles Hodgson, Paulo Somaini.



A     Data Appendix

A.1   Obtainting Original Data Files

The data reported here have been supplied by UNOS as the contractor for the Organ
Procurement and Transplantation Network (OPTN). The interpretation and reporting
of these data are the responsibility of the author(s) and in no way should be seen as an
official policy of or interpretation by the OPTN or the U.S. Government.

We will retain copies of the data until permitted by our Data Use Agreement with the
Organ Procurement and Transplantation Network (OPTN). Further, we plan to send
OPTN a copy of our replication archive if and when we are required to destroy our
dataset. Researchers interested in using our dataset should directly contact OPTN to
obtain permission: https://optn.transplant.hrsa.gov/data/request-data/ We are happy
to provide copies of our data to researchers with permission and a data use agreement
with the OPTN.


A.2   Data Description

Our data on patients, donors, transplants, and offers are based on information submit-
ted to the Organ Procurement and Transplant Network (OPTN) by its members. The
main datasets are the Potential Transplant Recipient (PTR) dataset and the Standard
Transplantation Analysis and Research (STAR) dataset.

The PTR dataset contains offers made to patients on the deceased donor kidney wait-
list that were not automatically rejected based on pre-specified criteria. Information
includes identifiers for the donor, patient, and patient history record that generated
the offer; the order in which the offers were made; each patient's acceptance decision;
                                                                                         2

and if the offer was not accepted, a reason of rejection. Each offer record also contains
certain characteristics of the match, including the number of tissue type mismatches.

The STAR dataset contains separate files on deceased donor characteristics, patient
histories, patient characteristics and transplant outcomes, and follow-up data, which
are collected at six months and then annually, for kidney transplants. The patient and
donor characteristics from these datasets are used to estimate our models of acceptance
behavior and patient survival. The patient characteristics and transplant outcomes
dataset contains patient death information. For patients who received a transplant
through the deceased kidney donor waitlist, the follow-up dataset records whether the
patient is still alive at the follow-up point. This information allows us to compute
a survival duration for each patient. UNOS also provided supplemental information,
including the ordering of distinct match runs conducted for the same deceased donor;
the transplant centers of donors and patients in our dataset; and dates of birth for
pediatric candidates, who joined the waitlist before turning 18 years of age.

The data contain identifiers that allow us to link the offer and acceptance data to pa-
tient and donor characteristics. Each deceased donor has a unique identifier. Similarly,
each patient registration generates a unique patient waitlist identifier. Because patients
may move to different transplant centers or be registered in multiple centers simulta-
neously, some individual patients have multiple waitlist identifiers. For this study, we
focus on the earliest registration of each patient. The follow-up data contain a unique
identifier for each transplant, allowing us to connect the follow-up information to each
transplanted patient. The patient history file contains a unique patient record identifier
corresponding to a particular state of the patient on the waitlist, including the patient's
CPRA, activity status, and pre-set screening criteria. Each offer in the PTR dataset
contains the identifiers for the donor, the patient registration, and the patient history
record that were used in the match run. When appropriate, we de-duplicate offers so
that each patient can receive at most one offer from each donor.
                                                                                                 3

A.3    Sample Selection

We consider the first waiting period for patients who were actively waiting for a deceased
donor kidney between January 1, 2000 and December 31, 2010. This restriction is to
avoid selection arising from patients that remain on the list at the begining of the
sample period. We omit patients who received a living donor transplant as their first
transplant or were cross-registered for other organs simultaneously. Most patients that
can receive a living donor receive one within the first year of registration and would
prefer such a transplant to a deceased donor transplant. The latter restriction is made
to focus on a more homogeneous group of patients.

In addition, we made a number of other more minor adjustments to work with a more
cohesive sample of patients. The number of patients that survive each step of the
sample selection process is described in Table A.1.

A small minority of patients are simultaneously registered in multiple donor service
areas ­ our analysis keeps only one waitlist record from each patient. If the patient
received a kidney transplant through the deceased donor waitlist before December 31,
2015, we keep the waitlist record with the earliest transplant date; if the patient re-
mained untransplanted as of December 31, 2015, we keep the waitlist record with the
earliest registration date.34 Next, we exclude a small number of patients who received
a prior kidney transplant to focus on survival effects from the first transplant. We also
exclude patients removed for administrative reasons. These are patients who were listed
on the waitlist by error, who departed because transplant took place but no transplant
was recorded in the STAR dataset, and who could no longer be contacted while waiting
on the waitlist. These departure reasons are recorded in the STAR patient and the
transplant outcome dataset.

Then, we keep the waitlist records with registration dates between Janurary 1, 2000 and
December 31, 2010 because we do not have data on offers prior to 2000. For example,
an untransplanted patient active between 2000 and 2010 may not be included in the
  34
    We use transplant data through December 31, 2015 to be consistent with the sample period during
which we observe patient survival.
                                                                                                                       4

final sample because said patient's first waitlist registration is before 2000. This step
amounts to be one of the largest cuts.
Finally, we exclude patients who received a transplant through non-standard allocations
rules. This can occur, for example, if the donor is an armed service member; if the donor
specified a particular recipient (directed donation); if there is a medical emergency or
expedited placement attempt; if the kidney is not offered due to operational issue.
We identify these cases by analyzing the PTR data as a large number of offers will
be bypassed with a code indicating one of these reasons. In some cases, there is also
text specifying specific circumstances justifying a rejection, which we parse to identify
invalid offers in cases where the refusal code does not provide a specific reason.
                                 Table A.1: Sample Selection: Patients


                                                                                          Number of   Number of Wait
                                                                                           Patients    List Records
   Patient's first waiting period that intersects the period 2000-2010                    308,370        372,681
   Exclude patients who received living donor transplants in their first waiting period   241,209        295,075
   Exclude patients were waiting for other organs in their first waiting period           213,685        244,580
   Keep one kidney waitlist record for each patient                                       213,685        213,685
             Patients with multiple waitlist records                                       32,191         32,191
             Patients with single waitlist record                                         181,494        181,494
   Exclude patients who had a previous kidney transplant                                  212,258            -
   Exclude patients with administrative waitlist removal reason                           207,316            -
   Restrict to patients whose remaining waitlist registration is between 2000 and 2010    178,944            -
   Exclude patients who received non-standard kidney allocations                          175,518            -
                                                                                                             -



Our sample of deceased kidney donors comes from the intersection of the STAR deceased
donor dataset and the PTR dataset. These are deceased donors whose kidneys were
allocated between January 1, 2000 and December 31, 2010 to patients on the waitlist.
We further exclude donors allocated using non-standard rules and restrict to donors
who were offered to patients in the sample.
Table A.2 details the number of donors that survive each filter. The largest cuts come
from the last step. This is because the priority for waiting time implies that many offers
are only given to patiens that registered prior to 2000.
We consider a sample of offers made betwee January 1, 2000 and December 31, 2010
that could have resulted in transplants between our patient and donor samples. The
                                                                                                            5

                               Table A.2: Sample Selection: Donors


                                                                                         Number of Donors
       Deceased donors offered to any kidney waitlist patients between 2000 and 2010         71,738
       Exclude deceased donors offered through non-standard kidney allocations               67,993
       Restrict to deceased donors offered to patients in the sample                         61,453



PTR dataset includes records of all initial patient contacts and patients skipped due to
administrative reasons irrespective of whether an offer was made. This happens mainly
for three reasons. First, some patients that were contacted have lower priority than the
patients that accepted and were transplanted the kidneys from a donor. In this case, we
determine the cutoff point for each donor, and exclude all offers made after the cutoff.
Second, some match runs were abandoned due to logistical reasons, and were re-run.
We only keep the offers from the last match run for a donor. Third, in some cases,
the PTR dataset records administrative or logistical reasons for skipping patients in
the offer sequence. This can occur, for example, if the kidney has antigens that would
result in an immune response; a patient was bypassed due to logistical reasons; or if the
kidney does not meet the patient's minimum criteria. We also exclude non-responsive
offers, for example, because either the surgeon or the patient is unavailable or because
the patient is temporarily inactive/unsuitable for transplantation. Finally, we restrict
to offers made to the patients in the sample. This step cuts the offer sample by 41%
because many offers are made to patients that were not in our sample, for example, to
patients that registered prior to 2000. Table A.3 describes how we arrive at the final
sample of offers.

                                Table A.3: Sample Selection: Offers


                                                                                       Number of Offers
             Offers made between 2000 and 2010 from donors in the sample                 14,888,539
             Exclude non-responsive offers                                               14,239,214
             Restrict to offers made to patients in the sample                            8,444,106
                                                                                         6

A.4    Patient Survival

The patient characteristics and transplant outcomes dataset collects patient death dates
from the waitlist record and periodically from the social security master file. In a small
minority of cases, death dates are inconsistent across multiple waitlist records for a
patient, in which case we assume that earlier death dates take precedence over later
ones. Transplant dates and death dates are truncated on December 31, 2015, because
death records after this date are inconsistently populated. For patients who received a
transplant or died after December 31, 2015, we treat them as untransplanted or alive,
respectively, as of December 31, 2015.
Among 175518 patients in the sample, we observe death dates before December 31,
2015 for 80168 of them. Of these, 55476 are untransplanted patients and 24692 are
transplanted. Patients from whom we do not observe death are censored with an
observed survival duration needs to be computed. The rules differ for transplanted
and untransplanted patients. For transplanted patients, we censor on the date of the
second transplant if a second transplant took place before December 31, 2015; on the
day after transplant if there is no follow-up information for the patient corresponding
to the transplant; on the date when the patient is lost to follow-up if the patient is lost
to follow-up prior to December 31, 2015; and on Decmeber 31, 2015 if the patient is
known to be alive as of December 31, 2015. For untransplanted patients, we censor on
December 31, 2015 if the patient is known to be alive as of December 31, 2015; and on
the date when the patient exits the waitlist if no death date is available and the exit
day is prior to December 31, 2015.
Table A.4 presents a break down of censor reasons and their corresponding censor dates
for the patient sample. Nearly one half of the patient sample is uncensored, and among
censored patients, the vast majority (73%) are censored on December 31, 2015. Since
December 31, 2015 is an exogenously determined date, patients censored on the date
should be similar to uncensored patients in terms of potential outcomes. We expect
that this censoring date does not induce selection bias that might confound our survival
analysis.
                                                                                                             7

                                         Table A.4: Censor Reason


                                Censor Reason                              Censor Date          # Patients
      Transplanted Patients
         Retransplant before Dec 31, 2015                            Retransplant date            3,581
         No follow-up information                                    One day after transplant      979
         Lost to follow-up before Dec 31, 2015                       Date lost to follow up       5,856
         Known to be alive as of Dec 31, 2015                        December 31, 2015           57,215
      Untransplanted Patients
         Known to be alive as of Dec 31, 2015                        December 31, 2015           12,370
         No death date and depart the waitlist before Dec 31, 2015   Date departing waitlist     15,349




B     Estimation Appendix

B.1     Gibbs' Sampler

Recall that our model is given by




                  yi0 = B (Yi0 ; 0 ) = xi x + i,0

                  yij = B (Yij ; 1 ) =  (xi , qj ) x,q +  j + i,1 + ij,1

                 Dij = 1 {yij,D =  (xi , qj ) x,q + zi z + j + i,D + ij,D > 0} ,


where we allow for i = (i,D , i,1 , i,2 )  N (0,  ) and ij = (ij,1 , ij,D )  N (0,  ).

There are several challenges in estimating this model. First, we often observed censored
values of yi0 and yij . We perform a data augmentation step given the parameters and
the censoring point to solve this issue. For yij , the data augmentation step is necessary
only in cases for which Tij = 1.

Second, Dij is a binary variable. As is standard in discrete choice models, we perform
a data augmentation step to draw yij,D given the observed decisions. This step is
necessary for the observed values of Dij .

Third, the model incorporates rich correlations between the different observations via j ,
i and ij . In particular, due to these terms, the covariance matrix between {yi0 }i {yij }ij
                                                                                           8

and {yij,D }ij conditional on the obserables and the parameters does not have a simple
block-diagonal structure that would allow us to compute simple posterior distributions.
To solve this problem, we re-write these variables using a factor structure such that the
posterior distribution of the parameters of each equation is conditionally independent
of the others given the factors. Specifically, we rewrite i as


                               i,D = fi,1

                                i,f = fi,2

                                i,0 =  1 fi,1 +  2 fi,2 + ~i0


where fi,1 , fi,2 and i0 are each independently distributed mean-zero normal random
                         2   2     2
variables with variances 1 , 2 and ~,0 . This structure places no restrictions on the

covariance matrix  . Similarly, we write ij as


                                    ij,1 =  fij,3 + ~ij,1

                                   ij,D = fij,3 + ~ij,D


where fij,3 , ~ij,1 and ~ij,D are independently distributed mean-zero normal random vari-
                     2   2       2                                2       2
ables with variances 3 , ~,1 and ~,D . We normalize the variances 3 , and ~,D to 1.

Finally, we set
                                          j = fj,4

              2
with variance 4 . The main difference between f· and ~· is that it is sufficient to condition
on the former in order to render the models above as conditionally independent.

Therefore, the parameters we are interested estimating in are the co-efficients in each
equation,  = (x ,  1 ,  2 ),  = (x,q ,  ,  1 ,  ),  = (x,q , z ), and the variances
2              2
~,0 = V (~
         i0 ),          ij,1 ) and l2 = V (fl ) where l  {1, 2, 4} is the l-th factor.
               ~,1 = V (~

For simplicity of notation, we will collect the coefficients in the vector  and the stan-
dard deviations in the vector  , with ~ and f denoting the sub-vectors for ~ and f
respectively. And, with some abuse of notation, we collect yi0 , yij and yij,D for all i and
                                                                                                    9

j in y .

Following standard practice, we assume diffuse conjugate and independent priors for
each of these parameters. Specifically, we model the priors ,  and  using a mean-
zero independent normal distribution with variances equal to 1000 and the prior for
              2     2       2
the variances ~,0 , ~,1 and l using independent inverse-Wishart distributions with

parameters (3, 3). These priors are diffuse; thus, they have a negligible impact on our
estimates.

The Gibbs' sampler starts with an initial draw y 0 , 0 ,  0 and f 0 and generates a chain
of length K by iterating through the following steps for each k  {0, . . . , K - 1}:

                                 k+1    k+1                                k+1
   1. Data Augmentation: Sample yi 0 , yij  for censored observations and yij,D for
       observed decisions given k ,  k and f k from truncated normal distributions.

   2. Sample Coefficients: Sample k+1 given y k+1 , f k , the standard deviations  k
       and the prior distribution from a multi-variate normal distribution.

                               2,k+1     2,k+1
   3. Sample Variances: Sample ~,0   and ~,1   given y k+1 , f k , the parameters
       k+1 and the prior distribution from a inverse-Wishart distribution.

   4. Sample Factors: For each l  {1, 2, 3, 4}, sample f·k
                                                         ,l
                                                           +1
                                                              given y k+1 , the parame-
                  k+1                                 k+1           k+1
       ters k+1 ,     k                                                       k               k
                  ~ , f , and the remaining factors f·,1 , . . . , fl-1 and f·,l+1 , . . . , f4 .


   5. Sample Factor Variances: Sample l2,k+1 for l  {1, 2, 4} given f k+1 and the
       prior distribution from an inverse-Wishart distribution.

We draw a chain of length K =200,000 and burn 50,000 draws to allow the chain to
convergence. We only keep one every 10 draws to save some computation time and
reduce the autocorrelation in the resulting chain. We visually inspect the chains and
ensure that the potential scale reduction factor is below 1.1 for each of the parameters.
The distributions in each step can be solved for in closed-form as detailed below:

   1. Conditional distributions for yi0 , yij and yij,D given , f and  :
                                                                                    10

    (a) For each i, j pair such that Dij is observed, the distribution of yij,D condi-
        tional on , f and Dij is a one-sided truncated with mean E [gij,D |, fij ] and
        unit standard deviation. The distribution is truncated below at 0 if Dij = 1
        and above at 0 otherwise.

   (b) For each i such that yi0 is censored, the distribution of yi0 conditional on
         and f is a one-sided truncated normal with mean E [yi0 |, fi1 , fi2 ] and
        standard deviation ~,0 . The distribution of yi0 is truncated below at the

        censoring duration.

    (c) For each observed transplant such that yij is censored, the distribution of yij
        conditional on k , f k is a one-sided truncated normal with mean E [yij |, f ]
        and standard deviation ~,1 . The distribution of yij is truncated below at

        the censoring duration.

2. Posterior distributions of the co-efficients ,  and  given y , f ,  and the priors.
   Since yi0 , yij and yij,D are mutually independent conditional on f , the parame-
   ters ,  and  are each co-efficients in a linear regression model with normally
   distributed errors. Therefore, the posterior distributions of each of these terms is
   given by a multivariate normal distribution with closed-form means and variances
   (see Gelman et al., 2014, Chapter 14.2).

                              2       2
3. Posterior distributions of ~,0 and ~,1 given y , f ,  and the priors. As argued

   above, yi0 , yij are mutually independent conditional on f . Therefore, the distri-
              2       2
   butions of ~,0 and ~,1 are inverse-Wishart with parameters given in Chapter 14.2

   of Gelman et al. (see 2014).

4. Posterior distributions of f given y ,  and  :

    (a) The distribution of fi,1 conditions on the residual

                                   1        1
                          fi,1 +      ~i0 =
                                               (yi0 - (xi x +  2 fi,2 ))
                                    1        1
                                                                                                   11

            and 1 throughout; on the residual


                          fi,1 + ~ij,D = yij,D - [ (xi , qj ) x,q + zi z + j + fij,3 ]

                                                                                         1
            for all j such that Dij is observed; and on the residual fi,1 +                ~
                                                                                           
                                                                                          1 ij,1
                                                                                                   =
            1
             1
                 [yij - ( (xi , qj ) x,q +  j + +fi,2 +  fij,3 )] if Tij = 1. These residuals
                                               2        2 2 2       2             2
            have prior mean zero and variances 1 + ~,0
                                                   2 ,  1 + 
                                                                        ~,1
                                                            ~,1 and 1 + 2 repectively.
                                                            1                      1

            The mean is the precision-weighted average of the residuals conditioned on,
                                                          -2
            and the variance is the inverse of the sum of 1  and the precisions of each
            residual.

       (b) The distribution of fi,2 is analogous, where we condition on the residual
            1
             2
                 (yi0 - (xi x +  1 fi,1 )) and 2 throughout; and on the residual yij -
            [ (xi , qj ) x,q +  j +  1 fi,1 ] if Tij = 1.

        (c) The distribution of fij,3 is analogous, where we conditions on  throughout;
            on yij,D - [ (xi , qj ) x,q + zi z + j + fi,1 ] for all j such that Dij is observed;
                     1
            and on   
                         (yij - [ (xi , qj ) x,q +  j + fi,2 ]) if Tij = 1. Observe that 3 is
            normalized to 1.

       (d) The distribution of fj,4 is analogous, where we condition on 4 throughout;
            on yij,D - [ (xi , qj ) x,q + zi z + fi,1 + fij,3 ] for all i such that Dij is observed;
                     1
            and on   
                         (yij - [ (xi , qj ) x,q + fi,2 +  fij,3 ]) if Tij = 1.

    5. The variances l2 for l  {1, 2, 4} follow an inverse-Wishart distributions given the
       prior and respectively, {fi,1 }, {fi,2 } and {fj,4 }.



C     Theoretical Appendix

C.1    Proof of Lemma 1

For simplicity of notation, denote qn = qji,1 , . . . , qjn , qn-1 = qji,1 , . . . , qji,n-1 , and
           ~ i,n = Dij , . . . , Dijn . Assumption 2 implies that P Tij = 1|qj , z =
the vector D          i,1                                              i,n    i
                                                                                                  12

  ~ i,n-1 = 0, Dij = 1|qj , z is equal to the observed quantity P Tij = 1|qn , z , and
P D               i,n    i                                           i,n


is therefore identified. Similarly, if P Tiji,n = 1|qji , z > 0, then Assumption 2 implies
that


                                                        ~ in-1 = 0, Dij = 1, qj , z
              E Yiji,n |Tiji,n = 1, qji , z = E Yiji,n |D              i,n     i




is identified because it is equal to E Yiji,n |Tiji,n = 1, qn , z . Therefore, it remains to
show that E Yi0 |Tiji,n = 1, qji , z is identified. First, re-write


  E Yi0 |Tiji,n = 1, qji , z Pr Tiji,n = 1|qji , z

=E Yi0 |Tiji,n = 1, qn , z Pr Tiji,n = 1|qn , z
        ~ i,n-1 = 0, Dijn = 1, qn , z Pr D
=E Yi0 |D                                ~ in-1 = 0, Dijn = 1|qn , z

        ~ i,n-1 = 0, qn , z Pr D
=E Yi0 |D                      ~ i,n-1 = 0|qn , z - E Yi0 |D
                                                           ~ i,n = 0, qn , z Pr D
                                                                                ~ i,n = 0|qn , z

        ~ i,n-1 = 0, qn-1 , z Pr D
=E Yi0 |D                        ~ i,n-1 = 0|qn-1 , z

           ~ i,n = 0, qn , z Pr D
  - E Yi0 |D                    ~ i,n = 0|qn , z


where the last expression is observed. The first equality above follows from Assumption
2, the second equality is definitional, the third equality follows from set inclusion and
the last from Assumption 2. Thefore, since Pr Tiji,n = 1|qji , z is identified and strictly
positive, E Yi0 |Tiji,n = 1, qji , z is identified.


C.2    Proof of Lemma 2

For any k  n, Assumptions 1 and 2 imply that the observed probability that Di,ji,1 =
Di,ji,2 = . . . = Di,ji,k = 0 can be re-written as follows:

                                                                      1
                                                       n
            P Di,ji,1 = Di,ji,2 = . . . = Di,ji,k = 0|qj , zi =           k
                                                                          D dv (D ; qj , zi ) .
                                                                  0
                                                                                                                     13

                      1 k
Observe that ak =     0 D dv   (D ; qj , zi ) is identified for k  {1, . . . , n}. Moreover, 3(i)
and (ii) together imply that

                                                   1
                                a0 =                   1dv (D ; qj , zi ) = 1.
                                               0


Therefore, to complete the proof, we need to show that vn-1 (·; qj , zi ) is determined
                         1 k
by the values of ak =    0 D dv   (D ; qj , zi ) for k  n where vn-1 (·; qj , zi ) is the (n - 1)-
st order Fourier-Legendre approximation of v (·; qj , z ). In what follows, we will drop
                        n
conditioning on zi and qj for simplicity of notiation.

To complete the proof, we write the co-efficients of (n - 1) -st Fourier-Legendre series
of v (·) in terms of ak . Let m (x) be the m-th shifted Legendre Polynomial. Observe
that each m (·) is given by
                                                              m
                                           m (x) =                 m,l xl ,
                                                             l=0

with known co-efficients m,l .35 The m-th co-efficient in the (shifted) Fourier-Legendre
series of v (x) is given by

                                       1
                cm = (2m + 1)              m (x) v (x) dx
                                   0
                                           1                             1       x
                    = (2m + 1)                 m (x) dx -                            m (y ) dy dv (x) ,
                                       0                             0       0


                                                                                                          1
where the second equality follows from integration by parts. Observe that                                 0   m (x) dx =
  35
    The shifted Legendre-Polynomials on [0, 1] satisfy the                                    orthogonality relationship
1
0
   m (x) n (x) dx = 2n1  +1 m,n where m,n is the Kronecker delta.                             The first few polynomials
are 0 (x) = 1, 1 (x) = 2x - 1, 2 (x) = 6x2 - 6x + 1.
                                                                                                                          14

 1
 0   m (x) 0 (x) dx = 0 for m > 0. Therefore, for m > 0,

                                                           1       x
                             cm = - (2m + 1)                           m (y ) dy dv (x)
                                                       0       0
                                                           1       x m
                                = - (2m + 1)                                 m,l y l dy dv (x)
                                                       0       0 l=0
                                                           1 m                1 l+1
                                = - (2m + 1)                           m,l       x dv (x)
                                                       0 l=0                 l+1
                                                       m
                                                                        1            1
                                = - (2m + 1)                   m,l                       xl+1 dv (x)
                                                   l=0                 l+1       0
                                                    m
                                                                        1
                                = - (2m + 1)                   m,l         al+1 .                                      (C.1)
                                                   l=0                 l+1

And, finally, we have

                                                   1
                                      c0 =             0 (x) v (x) dx
                                               0
                                                   1
                                           =           v (x) dx
                                               0
                                                                       1
                                           = v (1) -                       xdv (x) ,                                   (C.2)
                                                                   0


where the last equality follows from integration by parts. The term v (1) = 1 since v (·)
is non-decreasing with image [0, 1]. Equations (C.1) and (C.2) imply that all cm for
m < n can be written in terms of the observed quantities a0 , . . . , an . Therefore, vn-1 (·)
is identified.

Let ~ m (y ) be the m-th unshifted Legendre Polynomial defined over [-1, 1] satisfying
~ m (y ) = m
                   y +1
                          .36 The (n - 1)-st order Fourier-Legendre approximation of v
                                                                                     ~ (y ) =
                     2

v    y +1
               ~n-1 (y ) =
            is v              n-1
                                  ~m ~m   (y ) where,
       2                      k=0 c


                                     (2m + 1)           1
                                                               ~ m (y ) v
                              ~m =
                              c                                         ~ (y ) dy = cm ,
                                        2              -1


                                                                                                  y +1
where the last equality follows after a change of variables x =                                     2
                                                                                                       .   Since the function
    36
     The unshifted Legendre-Polynomials on [-1, 1] satisfy the orthogonality relationship
 1  ~ m (y ) ~ n (y ) dy = 2 m,n where m,n is the Kronecker delta. The first few polynomials are
 0
                              2n+1
~ 0 (y ) = 1, 
               ~ 1 (y ) = y , ~ 2 (x) = 1 3x2 - 1 .
                                        2
                                                                                                           15

~ (·) has a compact domain and image, we have that
v                                                                          1
                                                                           -1   ~ (y )2 dy is bounded. Theorem
                                                                                v
8.1 in Pollard (1947) shows that the Legendre polynomials form a basis in L2 (-1, 1),
                      ~n (y ) converges in the L2 -norm to v
or equivalently, that v                                    ~ (y ) as n  . Therefore,
 vn-1 (·) - v (·)       2     0 as n  . Therefore, v (·) is identified if the hypotheses
of the Lemma are satisfied for all n. Since v (·; qj , zi ) is increasing in its argument,
P ( Dij = 1| i,D = v (D ; qj , zi ) ; qj , zi ) is identified.


C.3     Preliminaries for Theorem 1

Lemma 3. Let fn and gn be sequences of functions such that fn  f and gn  g
pointwise. Assume that f is continuous.

(i) If fn converges to f uniformly in [a, b] and gn (x)  (a, b) for all x, then fn (gn (x))
converges to f (g (x)) for each x in the domain of g .

(ii) If fn and gn respectively converge to f and g uniformly in [a, b] and inf x[a, b] |g (x)| =
               fn (x)                       f (x)
k > 0, then    gn (x)
                            converges to    g (x)
                                                    uniformly in [a, b].

(iii) If fn converges to f uniformly in [a, b] and f is strictly increasing on [a, b], and the
          -1                                                                    -1
function fn  (y ) is defined as inf {x : fn (x) > y }, then for all x  (a, b), fn  (f (x)) 
x.

Proof. Part (i). By the triangle inequality, we have that


        |fn (gn (x)) - f (g (x))|  |fn (gn (x)) - f (gn (x))| + |f (gn (x)) - f (g (x))|

                                            sup |fn (y ) - f (y )| + |f (gn (x)) - f (g (x))| .
                                              x[a,b]


The first term converges to zero since fn converges to f uniformly in [a, b]. The argument
of f in the second term, gn (x), converges to g (x). Since f is continuous, the sequential
definition of continuity implies that the second term also converges to zero. Therefore,
|fn (gn (x)) - f (g (x))|  0 as n  .
                                                                                                               16

Part (ii). By the triangle inequality, we have that

                     fn (x) f (x)                               1        1
            sup            -       sup |fn (x) - f (x)| sup          -       .
           x[a,b]    gn (x) g (x) x[a,b]               x[a,b] gn (x)   g (x)
                                                                        1      1
                                        + sup |f (x)| sup                   -
                                              x[a,b]         x[a,b]   gn (x) g (x)
                                                         1
                                        + sup                 sup |fn (x) - f (x)| .
                                              x[a,b]   g (x) x[a,b]

By assumption, supx[a,b] |fn (x) - f (x)| converges to zero and supx[a,b]                      1
                                                                                             g (x)
                                                                                                     = k -1 is
finite. Further, supx[a,b] |f (x)| if finite because f is continuous and [a, b] is a compact
                                                                                                 1             1
set. Therefore, the left-hand side converges to zero as required if supx[a,b]                  gn (x)
                                                                                                         -   g (x)

converges to zero.

To show this, observe that

                     1      1            1             1
          sup            -       sup           sup          sup |gn (x) - g (x)|
          x[a,b]   gn (x) g (x) x[a,b] gn (x) x[a,b] g (x) x[a,b]



converges to zero. Since limn supx[a,b] |gn (x) - g (x)| = 0 and supx[a,b]                         1
                                                                                                 g (x)
                                                                                                         = k -1
                                                                              1
exists by assumption, it is sufficient to show that supx[a,b]               gn (x)
                                                                                     exists. Let N be such
that for all n > N , we have that supx[a,b] |g (x) - gn (x)|  k
                                                              2
                                                                . Such a value of N exists
because gn converges to g uniformly in [a, b] and inf x[a,b] |g (x)| = k > 0. Hence, for all
                                       -1
                        1          k
n > N , supx[a,b]     gn (x)
                               <   2
                                            , which is finite.
                    -1
Part (iii). Define fn  (y ) = inf {x : fn (x) > y }. Fix x  (a, b). For any  > 0, define
           
~ = min
           2
             ,x    - a, b - x and ~ = min {f (x + ~) - f (x) , f (x) - f (x - ~)} . Observe
that ~ > 0 and ~ > 0 because and f is strictly increasing. Pick N such that for

all n > N supx [a,b] |fn (x ) - f (x )| < ~. Such an N exists because fn converges

to f uniformly in [a, b]. To complete the proof, we will show that for all n > N ,
 -1                     -1
fn  (f (x)) > x -  and fn  (f (x)) < x + .

Since f is strictly increasing, for all x < x - ~, f (x ) + ~ < f (x). Therefore, for all
                                              -1
n > N and x < x - ~, fn (x ) < f (x). Hence, fn  (f (x))  x - ~ > x -  for all n > N .

Similarly, for all x > x + ~, f (x ) > f (x). Therefore, for all n > N and x > x + ~,
                                                                                          17

                             -1
fn (x ) - ~ > f (x). Hence, fn (f (x))  x + ~ < x +  for all n > N.

Lemma 4. Let g  L2 (0, 1) be continuous and sn (g ; x) be its Fourier-Legendre ap-
proximation of degree n evaluated at x. For any [a, b]  (0, 1), the partial average
               1   n-1
Sn (g ; x) =   n   k=0   sk (g ; x) converges to g (x) uniformly in [a, b].

Proof. The result is a corollary of Theorem IV.3.2 in Freud (1971). To apply this result,
we will use the cumulative distribution function of the uniform distribution on [0, 1] as
the function  (x).

Let pn (d; x) for n = 0, 1, 2... be the sequence of orthogonal polynomials defined in
Theorem I.1.2 of Freud (1971). It is straightforward to check that, for our chosen  (x),

                                                 
                                   pn (d; x) =      2m + 1m (x) ,


where m (x) be the m-th shifted Legendre Polynomial on [0, 1],37

satisfied the conditions in Theorem I.1.2 because (i) each m (x) is a polynomial, (ii)
the leading co-efficient of m (x) is positive and (iii) n (x) m (x) dx = mn where mn
is the Kronecker delta. Moreover, pn (d; x) is unique as noted in the remark below
Theorem I.1.2 in Freud (1971).

Therefore, it remains to show that pn (d; x) satisfies requirement (3.2) in Chapter IV
of Freud (1971). As noted following this requirement, it is sufficient to show that for
every pair x2 and x1 in a neighborhood of x0  [a, b]  (0, 1),

                                       (x2 ) -  (x1 )
                                                       m > 0,
                                         x2 - x1

for some constant m. This the case because for our chosen  (x), because the left hand
side is identically equal to 1 for every x1 , x2  (0, 1) .

Finally, sk (g ; x), as defined in equations IV(1.1) and IV(1.2) of Freud (1971) is the k -th
order shifted Fourier-Legendre approximation of g. Therefore, by a direct corollary
  37
   The shifted Legendre-Polynomials on [0, 1] satisfy the orthogonality relationship
 1
 0
  m (x) n (x) dx = 2n1   +1 m,n where m,n is the Kronecker delta. The first few values are
0 (x) = 1, 1 (x) = 2x - 1, 2 (x) = 6x2 - 6x + 1.
                                                                                           18

of Theorem IV.3.2 in Freud (1971), Sn (g ; x) converges to g (x) uniformly in [a, b] 
(0, 1).

Lemma 5. Let vn (·; qj , z ) be the n-th order Fourier-Legendre approximation of v (·; qj , z ).
If the hypotheses of Lemma 2 are satisfied, then vn (·; qj , z ) is identified for each z 
(0, 1) and qj .

Proof. We drop the parameters z, qj for simplicity of notation as they are held fixed.
As argued in the proof of Lemma 2, Assumptions 1 and 2 imply that the quantities

                                             1
                                  ak =           k
                                                 D dv (D ; qj , zi )
                                         0


are identified for all k  n. Let bm be the (shifted) m-th Fourier-Legendre co-efficient
of v (·) defined on [0, 1]

                                                          1
                              bm = (2m + 1)                   m (x) v (x) dx
                                                      0


where m (·) is the m-th shifted Legendre polynomial on [0, 1]. Observe that each
m (·) is given by
                                                          m
                                    m (x) =                    m,l xl ,
                                                       l=0

with known co-efficients m,l . Therefore, the co-efficients

                                                  m                  1
                             bm = (2m + 1)                m,l            xl v (x) dx
                                                 l=0             0
                                                  m
                               = (2m + 1)                 m,l al ,
                                                 l=0


are identified. The second equality follows from the definition of al .


C.4       Proof of Theorem 1

Identification of E (Yi0 | ). Define y0 ( ) = E (Yi0 | ). For a given  , fix z such that
there exists D  (0, 1) with v (D ; qj , z ) =  and drop the conditioning on z in what
                                                                                                   19

follows, for simplicity of notation. As in the main text, we are also conditioning and
dropping xi from the notation.

Let s and s
          ~ be a pair of models satisfying the hypotheses of Theorem 1, and let
{y0 (·) , v (·)} and {y
                      ~0 (·) , v
                               ~ (·)} be features that are associated with s and s
                                                                                 ~ respec-
tively. We will show that if {y0 (·) , v (·)} = {y
                                                 ~0 (·) , v
                                                          ~ (·)}, then there exists n, such that
    k
if qj is in the support of the distribution of offer types for all k  n, then the joint dis-
                                                           k
tribution of Yi0 , Tiji,1 , . . . , Tiji,k conditional on qj differs for some k  n under models
s and s
      ~.

Consider a value of ¯  (0, 1) such that y0 (¯   ~0 (¯
                                            ) = y    ) and        x; qj ) for some x
                                                           ¯ = v (¯                ¯
(0, 1). Lemmas 2 and 5 imply that if either v (¯
                                               x; qj ) = v
                                                         ~ (¯
                                                            x; qj ) or v (¯
                                                                          x; qj ) = v
                                                                                    ~ (¯
                                                                                       x; qj )
         ¯  (0, 1), then there exists N such that for all n > N the joint distribution of
for some x
                                         k
 Tiji,1 , . . . , Tiji,n conditional on qj for some k  n differs for models s and s
                                                                                  ~. Therefore,
it is sufficient to focus on the case when v (¯
                                              x; qj ) = v
                                                        ~ (¯
                                                           x; qj ) and v (¯
                                                                          x; qj ) = v
                                                                                    ~ (¯
                                                                                       x; qj ).
                ¯  (0, 1), we have that v (¯
Moreover, since x                          x; qj ) > 0 (Assumption 4(i)) implying that
it is sufficient to show that that if y0 (v (¯
                                             x; qj )) v (¯
                                                         x; qj ) = y
                                                                   ~0 (v (¯
                                                                          x; qj )) v (¯
                                                                                      x; qj ), then
                                                                               k
the joint distribution of Yi0 , Tiji,1 , . . . , Tiji,k        conditional on qj differs for some k  n
under models s and s
                   ~.

We prove this by showing that if y0 (v (¯
                                        x; qj )) v (¯
                                                    x; qj ) = y
                                                              ~0 (v (¯
                                                                     x; qj )) v (¯
                                                                                 x; qj ), then
                             k
there exists n such that if qj is in the support of the distribution of offer types for all
                                                        k
k  n, thenYi0 , Tiji,1 , . . . , Tiji,k conditional on qj differs for some k  n under models
s and s
      ~.

To do this, we first show that the Fourier-Lebesgue approximation of the function
u (x) = y0 (v (x; qj )) v (x; qj ) can be determined from observables. Assumptions 1 and
2 imply that for each k  n, we can re-write

                                                      1
                                    k
               E Yi0 × 1 {Ti = 0} |qj =                   E (Yi0 |D = v (x; qj )) xk dv (x; qj )
                                                  0
                                                      1
                                             =            xk y0 (v (x; qj )) v (x; qj ) dx.
                                                  0


The argument in the proof of Lemma 5 implies that the n-th order Fourier-Legendre
                                                                                                                          20

approximation of u (x; qj ) = y0 (v (x; qj )) v (x; qj ), denoted as un (x; qj ), is a function of
                                                                 n
                                     k
the observables E Yi0 × 1 {Ti = 0} |qj                                 . Similarly, let u
                                                                                        ~n (x; qj ) be the (shifted)
                                                                 k=1
                                              ~ with associated feature {y
Fourier-Legendre series associated with model s                          ~0 (·) , v
                                                                                  ~ (·)}
such that v
          ~ = v.
                                                                                       1    n-1
Lemma 4 implies that for any subinterval [a, b]  (0, 1),                               n    k=0   uk (x; qj ) converges uni-
formly to u (x; qj ) if u (x; qj ) is square-integrable and continuous. Assumption 4(i) and
(ii) imply continuity of u (x, qj ) since the product of continuous functions is continuous.
To show square-integrability of y0 (v (x; qj )) v (x; qj ) observe that

           1                                               1
               y0 (v (x; qj ))2 v (x; qj )2 dx =               E (Yi0 |v (x; qj ))2 v (x; qj )2 dx
       0                                               0
                                                                                 1
                                                    sup |v (x; qj )|                 E (Yi0 |v (x; qj ))2 v (x; qj ) dx
                                                       x                     0
                                                                              1
                                                   = sup |v (x; qj )|                E (Yi0 | )2 d,
                                                       x                     0


where the second equality follows from a change of variables. Observe that Assumption
4(i) holds that supx |v (x; qj )| is finite. The term                       1
                                                                            0   E (Yi0 | )2 d is finite since

                                 1
                                     E (Yi0 | )2 d = V (E [Yi0 | ]) + E (E (Yi0 |v ))2
                             0

                                                    = V (E [Yi0 | ]) + E (Yi0 )2

                                                     V (Yi0 ) + E (Yi0 )2 ,


where the inequality follows from the law of total variance. 4(ii) implies that the right
hand side is bounded. Therefore, u
                                 ¯n (x, qj ) converges uniformly to u (x; qj ). An identical
                                     1   n-1
argument implies that                n   k=0                                      ~ (x; qj ) over x  [a, b].
                                               ~n (x; qj ) converges uniformly to u
                                               u
      ¯  (0, 1), we can pick [a, b] such that x
Since x                                       ¯  [a, b].

Now, let  = |y0 (v (¯           x; qj ) - y
                    x; qj )) v (¯         ~0 (v (¯           x; qj )| > 0. Pick n such that
                                                 x; qj )) v (¯

                                                                       1 n-1               
                                 y0 (v (¯           x; qj ) -
                                        x; qj )) v (¯                        uk (¯
                                                                                 x; qj ) <
                                                                       n k=0               2
                                                                                                                  21

and
                                                             1 n-1              
                                ~0 (v (¯
                                y                  x; qj ) -
                                       x; qj )) v (¯               ~k (¯
                                                                   u   x; qj ) < .
                                                             n k=0              2
                                                                   1    n-1                     1   n-1
Such an n exists because Lemma 4 implies that                      n    k=0   uk (¯
                                                                                  x; qj ) and   n   k=0   u   x; qj )
                                                                                                          ~k (¯
                                                                                                   k
converge to y0 (v (¯
                   x; qj )) v (¯
                               x; qj ) and y
                                           ~0 (v (¯
                                                  x; qj )) v (¯
                                                              x; qj ) respectively. Therefore, if qj
is in the support of the distribution of offer types for all k  n, then

                                    1 n-1               1 n-1
                                              x; qj ) -
                                          uk (¯                   x; qj ) > 0.
                                                              ~k (¯
                                                              u
                                    n k=0               n k=0

Because each un (¯
                 x; qj ) and u
                             ~n (¯
                                 x; qj ) is determined by the conditional expectations
                                      n
                      k
 E Yi0 × 1 {Ti = 0} |qj                     , we have shows that the joint distribution of Yi0 , Tiji,1 , . . . , Tiji,k
                                      k=1
                k
conditional on qj differs for some k  n under models s and s
                                                           ~.

Identification of E (Yij |D , ij,D  D , qj ). Define y1 (D , D ; qj ) = E (Yij |D , ij,D  D , qj ).
Consider a pair of models s and s
                                ~. As argued above, we can restrict to pairs such that
                 ~ (x; qj , z ) for all x  (0, 1) and all z . For a given   (0, 1) and x
v (x; qj , z ) = v                                                                     ¯  (0, 1),
        ¯ be such that  = v (¯
and let z                    x; qj , z                               x; qj , z
                                     ¯). We will show that if y1 (v (¯       ¯) , x
                                                                                  ¯; qj ) v (¯
                                                                                             x; qj , z
                                                                                                     ¯) =
                                                                             k
~1 (v (¯
y              ¯) , x
       x; qj , z    ¯; qj ) v (¯
                               x; qj , z
                                       ¯), then there exists n such that if qj is in the support of the
distribution of offer types for all k  n, then the joint distribution of Yij , Tiji,1 , . . . , Tiji,k
                k
conditional on qj     ¯ differs for some k  n under models s and s
                  and z                                          ~.

Assumptions 1 and 2 imply that for each k  n, we can re-write the observed quantity

                                        k
                E Yijk × 1 {Tijk = 1} |qj  ¯
                                          ,z
                     1
            =                                    ¯) , ij,D  x, qj ) xk-1 (1 - x) dv (x; qj , z
                         E (Yijn |D = v (x; qj , z                                           ¯)
                 0
                     1
            =            xk-1 (1 - x) y1 (v (x; qj , z
                                                     ¯) , x; qj ) v (x; qj , z
                                                                             ¯) dx.
                 0



Arguments similar to those above imply that for any [a, b]  (0, 1), we can uniformly
approximate the function


                            ¯) = (1 - x) y1 (v (x; qj , z
                 u (x; qj , z                           ¯) , x; qj ) v (v (x; qj , z
                                                                                   ¯) ; qj , z
                                                                                             ¯)
                                                                                                                     22

                                                 1         n-1
over x  [a, b]  (0, 1) with                      n         k=0   un (x; qj , z
                                                                             ¯), where un (x; qj , z
                                                                                                   ¯) is determined as a
                                                            k
function of observed conditional distributions given z
                                                     ¯ and qj for k  n. This claim
required continuity and square-integrability of u (v (x; qj , z
                                                              ¯) ; qj , z
                                                                        ¯) in x. Continuity
follows because y1 (, x; qj ), v (x; qj , z
                                          ¯) and v (x; qj , z
                                                            ¯) are assumed to be continuous
(Assumption 4) and the composition and product of continuous functions is continuous.
Square integrability follows similarly to the argument above because

               1
                   (1 - x)2 y1 (v (x; qj , z                        ¯)2 dx
                                           ¯) , x; qj )2 v (x; qj , z
           0
                                            1
           sup |v (x; qj )|                                                 ¯) , ij,D  x))2 v (x; qj , z
                                                ((1 - x) E (Yij |v (x; qj , z                          ¯) dx
                   x                    0
                                            1        1
          = sup |v (x; qj )|                                                ¯) , )2 1 {  x} v (x; qj , z
                                                         E (Yij |v (x; qj , z                          ¯) dxd
                   x                   0         0
                                            1        1
          = sup |v (x; qj )|                             E (Yij |, )2 1 {v (; qj , z
                                                                                   ¯)   } dd
                   x                   0         0
                                            1        1
           sup |v (x; qj )|                              E (Yij |, )2 dd,
                   x                    0        0


where the second equality follows from a change of variables and the fact that v (x; qj , z )
is strictly monotonic in x. As above, Assumption 4(i) implies that supx |v (x; qj , z )| is
finite and

                              1
                                  E (Yij |, )2 d = V (E [Yij |, ]) + E (E (Yij |v, ))2
                          0

                                                             = V (E [Yij |, ]) + E (Yij )2

                                                              V (Yij ) + E (Yij )2 ,


Therefore, if  = |(1 - x
                       ¯) y1 (v (¯       ¯) , x
                                 x; qj , z                       ¯) - (1 - x
                                                         x; qj , z
                                              ¯; qj ) v (¯                 ¯) y
                                                                              ~1 (v (¯
                                                                                     x; qj , z
                                                                                             ¯) , x
                                                                                                  ¯; qj ) v (¯       ¯)|,
                                                                                                             x; qj , z
then, as argued above, Lemma 4 implies that there exists n such that

                                     1 n-1                  1 n-1
                                           un (¯       ¯) -
                                               x; qj , z          ~n (¯
                                                                  u   x; qj , z
                                                                              ¯) > 0.
                                     n k=0                  n k=0

Because each un (¯
                 x; qj , z
                         ¯) and u
                                ~n (¯
                                    x; qj , z
                                            ¯) is determined by the conditional expecta-
                                                                 n
                                k
tions   E Yijk × 1 {Tijk = 1} |qj  ¯
                                  ,z                                   , we have shown that thejoint distribution of
                                                                 k=1
                                                                                                   23

                                              k
Yij , Tiji,1 , . . . , Tiji,k conditional on qj     ¯ differs for some k  n under models s and
                                                and z
~.
s


C.5    Dynamic Selection

Let ht (v ) be the cdf of D conditional on surviving until t. It is given by

                                            v   Pr ( Yi0  t| D )
                                ht (v ) =                        dD .
                                                 Pr (Yi0  t)

Observe that the types D of surviving patients will be uniformly distributed only if
the event Yi0  t is independent of D .

Lemma 6. Suppose that the hypothesis of Theorem 1 hold. The function ht (v ) =
 v Pr(Yi0 t|D )
    Pr(Yi0 t)
                dD   is identified for every t  0.

Proof. Let qj be a donor-type that arrives at the same time time as patient i. Because
the image of v (·, qj , z ) is the unit interval (Assumption 3), for any D  (0, 1) and
z , there exists D  (0, 1) such that D = v (D ; qj , z ). Theorem 1 implies that for
every t  0, P (Yi0  t|D ) = E [ 1 {Yi0  t}| D ] is identified. Thus, Pr (Yi0  t) and the
function ht (v ) is identified.

Define the cdf of the probability that a patient which survives until tj rejects a kidney of
type qj as vj (D ; qj , zi ) = htj  v (D ; qj , zi ). Our next result shows that vj (D ; qj , zi ) and
v (D ; qj , zi ) are identified under additional smoothness assumptions on the distribution
of Yi0 |D . Lemma 2 discussed the identification of the function v (D ; qj , zi ) for donor
types qj with tj = 0. We extend this result to the case when tj > 0.

Lemma 7. Suppose that Assumption 5 and the hypothesis of Theorem 1 hold. Then,
vj (D ; qj , zi ) and v (D ; qj , zi ) are identified for every D such that


                              P (Yi0  tj |D = v (D ; qj , zi )) > 0.


Proof. Fix D is such that P (Yi0  tj |D = v (D ; qj , zi )) > 0. Note that htj (·) is dif-
ferentiable because P (Yi0  tj |D ) > 0 and Assumption 5 is satisfied. Moreover, it
                                                                                                        24

is increasing in v and has image equal to the unit interval. Therefore, we have that
vj (D ; qj , zi ) satisfies Assumption 3. By arguments identical to those in Lemma 2,
vj (D ; qj , zi ) is identified. Assumption 5 implies that P (Yi0  tj |D ) is also positive
in a neighborhood around D and that htj is strictly increasing at that point. Thus,
v (D ; qj , zi ) = h- 1
                    tj  vj (D ; qj , zi ) is identified because the terms on the right hand side

are identified.

We are now ready to prove our main identification result for donor types that arrive at
any tj > 0:

Proof of Theorem 2:

Proof. Take any D  (0, 1) and D  (0, 1) satisfying the stated hypotheses. As
argued in the proof of Lemma 7, vj (·; qj , zi ) satisfies Assumption 3 and is identified.
Since vj (·; qj , zi ) is increasing in its argument, P ( Dij = 1| i,D = v (D ; qj , zi ) , Yi0  tj )
is identified.
                                                                                      
By the chain rule    v
                     j
                         (D ; qj , zi ) =    h
                                             tj
                                                  (D )  v (D ; qj , zi ). Note that   
                                                                                         v (D ; qj , zi ) is
                                                                          Pr( Yi0 tj |D )
continuous, bounded and strictly positive. Also,            h
                                                            tj
                                                                 (D ) =    Pr(Yi0 tj )
                                                                                          is continous,
bounded and strictly positive because the denominator is strictly positive by the as-
sumption that there exists D with P (Yi0  tj |D , xi ) > 0 and Assumption 5. Therefore,

 v
 j
     (D ; qj , zi ) is continuous and bounded and strictly positive. Therefore, the function

 v
 j
     (·; qj , zi ) it is strictly positive in a neiborhood of D . Arguments identical to those
used for proving Theorem 1 imply that E Yij |htj (i,D ) = htj (D ) , ij,D  D , Yi0  tj
is identified. Because P (Yi0  tj |D , xi ) > 0, we have that htj (D ) is strictly increasing
at D , the event htj (i,D ) = htj (D ) is equivalent to i,D = D .



D     Additional Figures and Tables
                                                                                                                                        25


                                               Table D.5: Top 10 offers:   Balance
                                                                  KDPI Balance log(1+num) cond



                                                            Age      Diabetes                  Female     Weight          Height
                                                            (1)         (2)                      (3)       (4)             (5)
                  log(1 + # Top 10 Offers in 2 Years)
                     KDPI <= 50%                           -0.0479    0.00134                 -0.00158    -0.269*         0.0253
                                                          (0.0772)   (0.00302)                (0.00277)   (0.108)        (0.0732)
                    KDPI > 50% or Missing                  -0.0233   -0.00427                 0.000269     0.104          0.0137
                                                          (0.0683)   (0.00294)                (0.00276)   (0.101)        (0.0819)

                  DSA FE, Year FE, and Blood Type FE         x           x                        x          x               x
                  Control for Pediatric at Listing           x           x                        x          x               x
                  CPRA Category Controls                     x           x                        x          x               x

                  F-test p-Value                           0.499      0.267                    0.787       0.037          0.828
                  Number of Observations                  128949     127414                   128949      127363         126619
                  R-Squared                                0.026      0.022                    0.074       0.038          0.034



Notes: * p<0.05, ** p<0.01, *** p<0.001
The sample for all regressions is patients who registered between 2000 and 2008. Dependent variables are as indicated
in the column headers. All regressions control for DSA fixed effect, registration year fixed effect, blood type fixed effect,
an indicator for pediatric at registration, and indictors for CPRA = 0, 20 <= CPRA < 80, CPRA >= 80, and CPRA
missing at registration. Standard errors, clustered by DSA, registration year, and blood type, are in parentheses. F-test
tests against the null hypothesis that the coefficients on the instruments are zero.




                                     Top 100 Offers                                                              Top 100 Offers
     .06




                                                                                  .15
     .04




                                                                                  .1
        .02
Acceptance




                                                                             Acceptance
                                                                                .05
 0




                                                                                  0
     -.02
     -.04




                                                                                  -.05




              4           4.5          5            5.5      6         6.5                4                 6                       8        10
                                      Log(1 + # Donors)                                                             Log(1 + # Offers)

                                     (a) Donors                                                                     (b) Offers

                                      Figure D.1: Scarcity Instrument: First Stage
Notes: Figures are plotted using binsreg (Cattaneo et al., 2019) with the same specification as Columns (5) and (6) in
Table 4. Dependent variable is acceptance of an offer. Independent variables include DSA fixed effect, offer year fixed
effect, number of years waited at offer fixed effect, blood type fixed effect, patient characteristics, donor characteristics,
and match characteristics.
                                                                                                                     26




                               Table D.6: Scarcity Instruments: Balance
                                                                                 all KDPI Balance


                                                  Age      Diabetes   Female     Weight      Height
                                                  (1)         (2)       (3)       (4)         (5)
            Log(1 + No. Donors)
                 Patients Waited 0-1 years        -0.319  0.00271 -0.00105        0.151      -0.254
                                                 (0.331) (0.0125) (0.0115)       (0.516)    (0.328)
                 Patients Waited 1-2 years         0.135  -0.0129 0.00164         0.330      0.0594
                                                 (0.299) (0.0117) (0.0109)       (0.457)    (0.307)
                 Patients Waited 2-3 years        -0.256 0.000252 0.0130         -0.290     -0.0133
                                                 (0.272) (0.0104) (0.00902)      (0.397)    (0.269)
                 Patients Waited 3-4 years         0.286   0.0160 -0.0272***      0.114       0.109
                                                 (0.223) (0.00910) (0.00800)     (0.348)    (0.225)
                 Patients Waited 4-5 years       -0.0248 -0.0117 0.0120*         -0.393      -0.212
                                                 (0.153) (0.00603) (0.00533)     (0.220)    (0.152)
            Log(1 + No. Offers)
                 Patients Waited 0-1 years        0.395*     0.0165* -0.00352      0.301      0.350
                                                 (0.195)   (0.00817) (0.00765)   (0.323)    (0.218)
                 Patients Waited 1-2 years       -0.0375   0.0000856 -0.00111     -0.228     -0.174
                                                 (0.215)   (0.00847) (0.00764)   (0.328)    (0.228)
                 Patients Waited 2-3 years        0.0897    0.000332 -0.00488      0.300     0.0110
                                                 (0.213)   (0.00817) (0.00698)   (0.315)    (0.223)
                 Patients Waited 3-4 years        -0.123     -0.0124 0.0189**    -0.1000    -0.0956
                                                 (0.196)   (0.00766) (0.00666)   (0.299)    (0.196)
                 Patients Waited 4-5 years        0.0748     0.0125* -0.0130**     0.234      0.114
                                                 (0.133)   (0.00527) (0.00475)   (0.197)    (0.132)

            Year FE, DSA FE, and blood type FE      x          x         x          x          x
            Control for Pediatric at Listing        x          x         x          x          x
            CPRA Category Controls                  x          x         x          x          x

            F-test p-Value                       0.319      0.166     0.201       0.555      0.692
            Number of Observations               87205      87200     87205       86078      85500
            R-Squared                            0.025      0.021     0.076       0.036      0.038


Notes: * p<0.05, ** p<0.01, *** p<0.001
The sample for all regressions is adult patients who registered on the waitlist between 1999Q4 and 2005Q4. Each
regression is on patient level, where the dependant variable is the patient characteristics in the column header at
registration. Each regression has five regressors indexed by k = 0, 1, 2, 3, 4, where the kth regressor for patient i is
computed as the number of unique donors (offers) such that: the offer is made to patients who are in the same DSA as
i, have the same blood type as i, and have waited the same number of years as i; the offer is made between 4k + 1 and
4k + 4 quarters, inclusive, from the quarter when i registers (e.g. if i registers in 2002Q1, then the offer must be made
between 2003Q2 and 2004Q1 for k = 1. All regressions control for DSA fixed effect, registration year fixed effect, blood
type fixed effect, an indicator for pediatric at registration, and indictors for CPRA = 0, 20 <= CPRA < 80, CPRA >=
80, and CPRA missing at registration. Robust standard errors, clustered by DSA, registration year, and blood type, are
in parentheses. F-test tests against the null hypothesis that the coefficients on the five regressors are zero.
                                                                                                              27

                           Table D.7: Survival   Estimates
                                          Survival Model
                                                         (All Covariates)

                                                                (1)               (2)       (3)       (4)

                                               Panel A: Survival without Transplant
   Constant                                                    0.286             0.282     0.282     0.240
                                                              (0.052)           (0.052)   (0.052)   (0.050)
Patient Characteristics
   Diabetic                                                    -0.054           -0.054     -0.054    -0.055
                                                              (0.001)          (0.001)    (0.001)   (0.001)
   CPRA                                                         0.018            0.018      0.018     0.016
                                                              (0.006)          (0.006)    (0.006)   (0.006)
   CPRA >= 0.8                                                  0.000           -0.001     -0.001    -0.004
                                                              (0.008)          (0.008)    (0.008)   (0.008)
   CPRA = 0                                                     0.003            0.003      0.003     0.002
                                                              (0.002)          (0.002)    (0.002)   (0.002)
   CPRA - 0.8 if CPRA >= 0.8                                   -0.073           -0.067     -0.067    -0.035
                                                              (0.053)          (0.053)    (0.053)   (0.051)
   Intial CPRA Missing                                         -0.129           -0.129     -0.129    -0.120
                                                              (0.005)          (0.005)    (0.005)   (0.004)
   Prior Transplant                                            -0.041           -0.041     -0.041    -0.041
                                                              (0.005)          (0.005)    (0.005)   (0.005)
   On Dialysis at Registration                                 -0.039           -0.039     -0.039    -0.035
                                                                0.002            0.002      0.002     0.002
   Blood Type A                                                 0.006            0.006      0.006     0.005
                                                                0.003            0.003      0.003     0.004
   Blood Type O                                                 0.019            0.020      0.020     0.018
                                                                0.003            0.003      0.003     0.003
   Blood Type B                                                 0.027            0.029      0.029     0.027
                                                                0.004            0.004      0.004     0.004
   Age at Registration                                          0.002            0.002      0.002     0.002
                                                              (0.001)          (0.001)    (0.001)   (0.001)
   Age - 18 if Age >= 18                                       -0.003           -0.003     -0.003    -0.004
                                                              (0.001)          (0.001)    (0.001)   (0.001)
   Age - 35 if Age >= 35                                       -0.002           -0.002     -0.002    -0.002
                                                              (0.000)          (0.000)    (0.000)   (0.000)
   Age - 50 if Age >= 50                                        0.000            0.000      0.000     0.000
                                                              (0.000)          (0.000)    (0.000)   (0.000)
   Age - 65 if Age >= 65                                       -0.001           -0.001     -0.001     0.000
                                                              (0.000)          (0.000)    (0.000)   (0.000)
   BMI at Departure                                             0.004            0.004      0.004     0.005
                                                              (0.003)          (0.003)    (0.003)   (0.003)
   BMI - 18.5 if BMI >= 18.5                                    0.001            0.001      0.001     0.000
                                                              (0.003)          (0.003)    (0.003)   (0.003)
   BMI - 25 if BMI >= 25                                       -0.004           -0.004     -0.004    -0.004
                                                              (0.001)          (0.001)    (0.001)   (0.001)
   BMI - 30 if BMI >= 30                                       -0.001           -0.001     -0.001    -0.001
                                                              (0.001)          (0.001)    (0.001)   (0.001)
   BMI Missing                                                  0.050            0.050      0.050     0.076
                                                              (0.053)          (0.053)    (0.053)   (0.052)
   Serum Albumin                                                0.043            0.042      0.042     0.042
                                                              (0.002)          (0.002)    (0.002)   (0.002)
   Serum Albumin - 3.7 if >= 3.7                                0.011            0.011      0.011     0.012
                                                              (0.004)          (0.004)    (0.004)   (0.005)
   Serum Albumin - 4.4 if >= 4.4                               -0.060           -0.059     -0.059    -0.060
                                                              (0.005)          (0.005)    (0.005)   (0.005)
   Serum Albumin Missing                                        0.148            0.147      0.147     0.148
                                                              (0.008)          (0.008)    (0.008)   (0.008)
   Log Dialysis Time at Registration (Years)                   -0.015           -0.015     -0.015    -0.015
                                                              (0.000)          (0.000)    (0.000)   (0.001)
   Log Dialysis Time at Registration x 1{> 5 years}             0.000            0.000      0.000     0.006
                                                              (0.005)          (0.005)    (0.005)   (0.005)
Unobservable Characteristics
  Selectivity                                                                                        0.009
                                                                                                    (0.002)
   Survival                                                                                          0.067
                                                                                                    (0.032)
                                                                                                            28

                  Table D.8: Survival Estimates (Continued)


                                               Panel B: Survival with Transplant
   Constant                                                  0.646             1.778     1.758     0.628
                                                            (0.089)           (0.237)   (0.237)   (0.092)
Patient Characteristics
   Diabetic                                                  -0.097           -0.233     -0.234    -0.100
                                                            (0.003)          (0.010)    (0.010)   (0.004)
   CPRA                                                      -0.010           -0.011     -0.013    -0.011
                                                            (0.017)          (0.041)    (0.041)   (0.017)
   CPRA >= 0.8                                                0.004           -0.011     -0.012     0.004
                                                            (0.021)          (0.051)    (0.051)   (0.022)
   CPRA = 0                                                   0.003            0.007      0.007     0.003
                                                            (0.005)          (0.012)    (0.012)   (0.005)
   CPRA - 0.8 if CPRA >= 0.8                                 -0.072           -0.235     -0.242    -0.075
                                                            (0.144)          (0.347)    (0.347)   (0.144)
   Intial CPRA Missing                                       -0.008           -0.033     -0.031    -0.011
                                                            (0.009)          (0.028)    (0.027)   (0.010)
   Prior Transplant                                          -0.013           -0.044     -0.046    -0.016
                                                            (0.015)          (0.040)    (0.040)   (0.016)
   On Dialysis at Registration                               -0.063           -0.185     -0.185    -0.064
                                                            (0.004)          (0.010)    (0.010)   (0.004)
   Blood Type A                                              -0.007           -0.019     -0.020    -0.008
                                                            (0.007)          (0.017)    (0.017)   (0.007)
   Blood Type O                                               0.001            0.003      0.000     0.000
                                                            (0.007)          (0.018)    (0.018)   (0.007)
   Blood Type B                                              -0.008           -0.005     -0.006    -0.009
                                                            (0.008)          (0.019)    (0.019)   (0.008)
   Age at Registration                                       -0.007           -0.013     -0.013    -0.006
                                                            (0.002)          (0.004)    (0.004)   (0.002)
   Age - 18 if Age >= 18                                      0.006            0.013      0.013     0.005
                                                            (0.002)          (0.005)    (0.005)   (0.002)
   Age - 35 if Age >= 35                                     -0.006           -0.017     -0.017    -0.007
                                                            (0.001)          (0.003)    (0.003)   (0.001)
   Age - 50 if Age >= 50                                     -0.002           -0.004     -0.004    -0.002
                                                            (0.001)          (0.002)    (0.002)   (0.001)
   Age - 65 if Age >= 65                                     -0.001           -0.002     -0.002    -0.001
                                                            (0.001)          (0.002)    (0.002)   (0.001)
   BMI at Departure                                           0.010            0.011      0.010     0.010
                                                            (0.005)          (0.013)    (0.013)   (0.005)
   BMI - 18.5 if BMI >= 18.5                                 -0.007           -0.001     -0.001    -0.007
                                                            (0.005)          (0.014)    (0.014)   (0.005)
   BMI - 25 if BMI >= 25                                     -0.003           -0.012     -0.012    -0.003
                                                            (0.002)          (0.004)    (0.004)   (0.002)
   BMI - 30 if BMI >= 30                                     -0.003           -0.004     -0.004    -0.003
                                                            (0.001)          (0.003)    (0.003)   (0.001)
   BMI Missing                                                0.205            0.271      0.268     0.205
                                                            (0.091)          (0.235)    (0.235)   (0.090)
   Serum Albumin                                              0.026            0.061      0.062     0.028
                                                            (0.006)          (0.015)    (0.015)   (0.006)
   Serum Albumin - 3.7 if >= 3.7                              0.028            0.079      0.079     0.029
                                                            (0.011)          (0.027)    (0.027)   (0.011)
   Serum Albumin - 4.4 if >= 4.4                             -0.056           -0.138     -0.138    -0.059
                                                            (0.010)          (0.027)    (0.027)   (0.010)
   Serum Albumin Missing                                      0.105            0.252      0.253     0.112
                                                            (0.020)          (0.053)    (0.053)   (0.021)
   Log Dialysis Time at Registration (Years)                 -0.016           -0.042     -0.042    -0.016
                                                            (0.001)          (0.004)    (0.004)   (0.001)
   Log Dialysis Time at Registration x 1{> 5 years}          -0.070           -0.171     -0.171    -0.069
                                                            (0.012)          (0.029)    (0.029)   (0.012)
                                                                                          29

                 Table D.9: Survival Estimates (Continued)


Donor Characteristics
  Age < 18                                          0.021     0.116     0.119     0.023
                                                  (0.024)   (0.065)   (0.065)   (0.025)
   Age 18-35                                       -0.017    -0.022    -0.020    -0.016
                                                  (0.029)   (0.074)   (0.074)   (0.029)
   Age 50+                                          0.020     0.235     0.230     0.017
                                                  (0.055)   (0.152)   (0.152)   (0.055)
   Cause of Death - Anoxia                          0.003    -0.001     0.000     0.004
                                                  (0.009)   (0.023)   (0.023)   (0.010)
   Cause of Death - Stroke                          0.002     0.000     0.001     0.003
                                                  (0.009)   (0.023)   (0.023)   (0.009)
   Cause of Death - CNS                             0.010     0.041     0.039     0.009
                                                  (0.019)   (0.050)   (0.050)   (0.019)
   Cause of Death - Head Trauma                     0.018     0.049     0.051     0.020
                                                  (0.009)   (0.023)   (0.023)   (0.009)
   Creatinine 0.5-1.0                              -0.005    -0.002     0.000    -0.004
                                                  (0.007)   (0.018)   (0.018)   (0.007)
   Creatinine 1.0-1.5                              -0.013    -0.023    -0.021    -0.012
                                                  (0.007)   (0.018)   (0.018)   (0.007)
   Creatinine >= 1.5                               -0.012    -0.027    -0.028    -0.013
                                                  (0.008)   (0.020)   (0.020)   (0.008)
   Expanded Criteria Donor (ECD)                   -0.019    -0.047    -0.049    -0.020
                                                  (0.006)   (0.015)   (0.015)   (0.006)
   Donation After Cardiac Death (DCD)              -0.003    -0.007    -0.009    -0.004
                                                  (0.005)   (0.013)   (0.013)   (0.005)
   Male                                             0.001     0.001     0.001     0.001
                                                  (0.003)   (0.007)   (0.007)   (0.003)
   History of Hypertension                         -0.012    -0.026    -0.027    -0.013
                                                  (0.004)   (0.009)   (0.009)   (0.004)
Offer Characteristics
   Perfect Tissue Type Match                        0.053     0.162     0.167     0.054
                                                  (0.025)   (0.067)   (0.067)   (0.026)
   2 A Mismatches                                  -0.002     0.017     0.017    -0.002
                                                  (0.016)   (0.039)   (0.039)   (0.016)
   2 B Mismatches                                   0.001    -0.018    -0.019     0.001
                                                  (0.017)   (0.042)   (0.043)   (0.017)
   2 DR Mismatches                                  0.000    -0.006    -0.006     0.000
                                                  (0.016)   (0.040)   (0.040)   (0.017)
   ABO Compatible                                  -0.008    -0.011    -0.013    -0.009
                                                  (0.012)   (0.030)   (0.030)   (0.012)
   Regional Offer                                  -0.007    -0.014    -0.012    -0.007
                                                  (0.014)   (0.036)   (0.036)   (0.014)
   Local Offer                                      0.035     0.073     0.080     0.038
                                                  (0.021)   (0.057)   (0.057)   (0.022)
   Log Waiting Time (Years)                        -0.003    -0.008    -0.008    -0.003
                                                  (0.002)   (0.005)   (0.005)   (0.002)
   Log Waiting Time x 1{Over 1 Year}               -0.003    -0.026    -0.025    -0.005
                                                  (0.008)   (0.021)   (0.021)   (0.008)
   Log Waiting Time x 1{Over 2 Years}              -0.021    -0.055    -0.055    -0.027
                                                  (0.011)   (0.032)   (0.032)   (0.013)
   Perfect Tissue Type Match x Prior Transplant    -0.003     0.012     0.012    -0.003
                                                  (0.032)   (0.082)   (0.082)   (0.032)
   Perfect Tissue Type Match x Diabetic Patient    -0.008    -0.011    -0.010    -0.007
                                                  (0.008)   (0.019)   (0.019)   (0.008)
   Perfect Tissue Type Match x Patient Age          0.000    -0.002    -0.002     0.000
                                                  (0.000)   (0.001)   (0.001)   (0.000)
   Perfect Tissue Type Match x CPRA                -0.016     0.011     0.012    -0.015
                                                  (0.027)   (0.068)   (0.068)   (0.027)
   Perfect Tissue Type Match x 1{CPRA > 80%}       -0.015    -0.039    -0.039    -0.015
                                                                                                                                        30




                               Table D.10: Survival Estimates (Continued)


                                                                            (0.031)          (0.078)        (0.078)           (0.031)
                    Perfect Tissue Type Match x ECD Donor                     0.019            0.044          0.042             0.018
                                                                            (0.011)          (0.030)        (0.030)           (0.011)
                    Perfect Tissue Type Match x DCD Donor                    -0.014           -0.044         -0.045            -0.014
                                                                            (0.020)          (0.050)        (0.050)           (0.020)
                    Perfect Tissue Type Match x Local Offer                  -0.027           -0.055         -0.056            -0.028
                                                                            (0.020)          (0.052)        (0.052)           (0.020)
                    Perfect Tissue Type Match x ABO Compatible                0.023            0.046          0.047             0.024
                                                                            (0.015)          (0.038)        (0.038)           (0.015)
                    Local Offer x 1{2 A Mismatches}                          -0.001           -0.022         -0.022            -0.002
                                                                            (0.016)          (0.040)        (0.040)           (0.016)
                    Local Offer x 1{2 B Mismatches}                           0.000            0.022          0.022             0.000
                                                                            (0.017)          (0.043)        (0.043)           (0.017)
                    Local Offer x 1{2 DR Mismatches}                         -0.010           -0.011         -0.011            -0.010
                                                                            (0.017)          (0.040)        (0.040)           (0.017)
                    Local Offer x 1{Donor Age < 18}                          -0.036           -0.097         -0.099            -0.037
                                                                            (0.017)          (0.046)        (0.046)           (0.018)
                    Local Offer x 1{Donor Age 18-35}                         -0.017           -0.032         -0.033            -0.018
                                                                            (0.013)          (0.035)        (0.035)           (0.013)
                    Local Offer x 1{Donor Age 50+}                           -0.010           -0.022         -0.022            -0.010
                                                                            (0.014)          (0.035)        (0.035)           (0.014)
                    Patient Age x 1{Donor Age < 18}                           0.000            0.000          0.000             0.000
                                                                            (0.000)          (0.001)        (0.001)           (0.000)
                    Patient Age x 1{Donor Age 18-35}                          0.001            0.003          0.003             0.002
                                                                            (0.001)          (0.002)        (0.002)           (0.001)
                    Patient Age x 1{Donor Age 50+}                           -0.001           -0.008         -0.008            -0.001
                                                                            (0.002)          (0.004)        (0.004)           (0.002)
                    Patient Age - 35 if Age >= 35 x 1{Donor Age 18-35}       -0.001           -0.002         -0.002            -0.001
                                                                            (0.001)          (0.002)        (0.002)           (0.001)
                    Patient Age - 35 if Age >= 35 x 1{Donor Age 50+}          0.002            0.008          0.008             0.001
                                                                            (0.002)          (0.005)        (0.005)           (0.002)
                 Unobserved Covariates
                   Selectivity                                                                0.001          -0.002            -0.004
                                                                                             (0.012)        (0.012)           (0.004)
                    Survival                                                                  1.000           1.000             1.000
                                                                                             (0.000)        (0.000)           (0.000)
                    Match Value                                                               0.002           0.009             0.002
                                                                                             (0.019)        (0.019)           (0.008)
                    Donor Quality                                            0.002            0.003           0.005             0.002
                                                                            (0.001)          (0.005)        (0.005)           (0.002)

                 Instruments                                             No Instruments   # Past Donors   # Past Offers   # Future Donors



Notes: Estimates of the survival equations are presented. The sample includes 7938854 offers made between 2000 and
2009 to patients in the sample. The chain length is 850000, which includes a burn-in of 50000 draws. We thin the chain
by taking every 10 draws. All columns control for dummies for DSA fixed effect, blood type fixed effect, and registration
year fixed effect. Future donors (offers) is defined as the number of donors (offers) in the next 4 quarters (see Table 4
for detailed definition). Standard errors are in parenthese.
                                                                                                       31

                           Table D.11: Choice   Estimates
                                         Acceptance Model
                                                      (All Covariates)

                                                             (1)           (2)       (3)       (4)

   Constant                                                 -4.080        -4.895    -4.071    -5.266
                                                           (0.175)       (0.356)   (0.356)   (0.381)
Patient Characteristics
   Diabetic                                                 -0.043        -0.090    -0.093    -0.111
                                                           (0.006)       (0.011)   (0.011)   (0.013)
   CPRA                                                     -0.721        -1.072    -1.089    -1.504
                                                           (0.032)       (0.064)   (0.065)   (0.067)
   CPRA >= 0.8                                              -0.198        -0.181    -0.132    -0.162
                                                           (0.043)       (0.086)   (0.087)   (0.087)
   CPRA = 0                                                  0.053         0.110     0.110     0.110
                                                           (0.009)       (0.018)   (0.019)   (0.019)
   CPRA - 0.8 if CPRA >= 0.8                                -1.322        -3.142    -3.258    -2.839
                                                           (0.287)       (0.563)   (0.576)   (0.569)
   Intial CPRA Missing                                       0.632         1.178     1.177     1.214
                                                           (0.024)       (0.047)   (0.048)   (0.045)
   Prior Transplant                                         -0.319        -0.468    -0.478    -0.578
                                                           (0.028)       (0.052)   (0.053)   (0.057)
   On Dialysis at Registration                               0.012         0.050     0.054     0.060
                                                           (0.007)       (0.013)   (0.013)   (0.014)
   Blood Type A                                             -0.307        -0.425     0.053    -0.477
                                                           (0.036)       (0.063)   (0.065)   (0.063)
   Blood Type O                                             -0.553        -0.827    -0.183    -0.871
                                                           (0.037)       (0.066)   (0.068)   (0.065)
   Blood Type B                                             -0.149        -0.652    -0.328    -0.713
                                                           (0.040)       (0.067)   (0.067)   (0.070)
   Age at Registration                                       0.057         0.084     0.083     0.082
                                                           (0.003)       (0.005)   (0.005)   (0.005)
   Age - 18 if Age >= 18                                    -0.055        -0.085    -0.083    -0.082
                                                           (0.003)       (0.006)   (0.006)   (0.006)
   Age - 35 if Age >= 35                                     0.002         0.008     0.009     0.008
                                                           (0.002)       (0.004)   (0.004)   (0.004)
   Age - 50 if Age >= 50                                    -0.003        -0.005    -0.005    -0.006
                                                           (0.001)       (0.002)   (0.002)   (0.003)
   Age - 65 if Age >= 65                                    -0.002        -0.002    -0.003    -0.003
                                                           (0.002)       (0.004)   (0.004)   (0.004)
   BMI at Departure                                         -0.011        -0.010    -0.009     0.019
                                                           (0.009)       (0.018)   (0.018)   (0.019)
   BMI - 18.5 if BMI >= 18.5                                 0.007         0.000    -0.002    -0.033
                                                           (0.010)       (0.020)   (0.020)   (0.021)
   BMI - 25 if BMI >= 25                                    -0.007        -0.011    -0.011    -0.008
                                                           (0.003)       (0.007)   (0.007)   (0.007)
   BMI - 30 if BMI >= 30                                    -0.006        -0.008    -0.008    -0.012
                                                           (0.003)       (0.005)   (0.005)   (0.006)
   BMI Missing                                              -0.593        -0.888    -0.860    -0.283
                                                           (0.164)       (0.328)   (0.333)   (0.354)
   Serum Albumin                                             0.001        -0.003    -0.002     0.018
                                                           (0.011)       (0.022)   (0.022)   (0.024)
   Serum Albumin - 3.7 if >= 3.7                             0.067         0.102     0.102     0.115
                                                           (0.020)       (0.040)   (0.041)   (0.042)
   Serum Albumin - 4.4 if >= 4.4                            -0.089        -0.149    -0.151    -0.159
                                                           (0.021)       (0.041)   (0.042)   (0.041)
   Serum Albumin Missing                                     0.082         0.138     0.146     0.216
                                                           (0.039)       (0.078)   (0.078)   (0.084)
   Log Dialysis Time at Registration (Years)                 0.008         0.025     0.027     0.025
                                                           (0.002)       (0.004)   (0.004)   (0.005)
   Log Dialysis Time at Registration x 1{> 5 years}         -0.008         0.050     0.039     0.025
                                                           (0.022)       (0.044)   (0.044)   (0.050)
Donor Characteristics
   Age < 18                                                  1.169         1.930     1.957     1.907
                                                           (0.052)       (0.081)   (0.081)   (0.085)
   Age 18-35                                                 0.752         1.359     1.380     1.728
                                                           (0.059)       (0.095)   (0.094)   (0.098)
   Age 50+                                                  -1.176        -1.987    -1.990    -2.010
                                                           (0.085)       (0.132)   (0.132)   (0.143)
                                                                                          32

                 Table D.12: Choice Estimates (Continued)


   Cause of Death - Anoxia                          0.097     0.156     0.153     0.203
                                                  (0.054)   (0.089)   (0.086)   (0.089)
   Cause of Death - Stroke                          0.409     0.678     0.677     0.736
                                                  (0.053)   (0.088)   (0.086)   (0.090)
   Cause of Death - CNS                            -0.589    -0.894    -0.876    -0.988
                                                  (0.100)   (0.158)   (0.154)   (0.175)
   Cause of Death - Head Trauma                     0.573     0.969     0.967     0.998
                                                  (0.052)   (0.089)   (0.085)   (0.089)
   Creatinine 0.5-1.0                               0.757     1.281     1.273     1.270
                                                  (0.038)   (0.068)   (0.067)   (0.058)
   Creatinine 1.0-1.5                               0.523     0.898     0.890     0.912
                                                  (0.040)   (0.072)   (0.071)   (0.060)
   Creatinine >= 1.5                               -0.577    -0.927    -0.926    -0.839
                                                  (0.041)   (0.076)   (0.074)   (0.064)
   Expanded Criteria Donor (ECD)                   -0.733    -1.203    -1.174    -1.247
                                                  (0.034)   (0.053)   (0.054)   (0.052)
   Donation After Cardiac Death (DCD)              -0.438    -0.734    -0.737    -0.765
                                                  (0.028)   (0.049)   (0.048)   (0.055)
   Male                                             0.108     0.184     0.184     0.175
                                                  (0.016)   (0.027)   (0.027)   (0.027)
   History of Hypertension                         -0.351    -0.591    -0.588    -0.598
                                                  (0.023)   (0.029)   (0.029)   (0.036)
Offer Characteristics
    Perfect Tissue Type Match                       1.208     1.828     1.876     1.520
                                                  (0.053)   (0.091)   (0.092)   (0.091)
   2 A Mismatches                                  -0.027    -0.039    -0.040    -0.110
                                                  (0.013)   (0.021)   (0.020)   (0.025)
   2 B Mismatches                                   0.020     0.031     0.031    -0.022
                                                  (0.013)   (0.023)   (0.023)   (0.026)
   2 DR Mismatches                                 -0.086    -0.143    -0.147    -0.152
                                                  (0.012)   (0.018)   (0.018)   (0.024)
   ABO Compatible                                  -0.492    -0.820    -0.854    -0.866
                                                  (0.039)   (0.066)   (0.067)   (0.066)
   Regional Offer                                   0.477     0.812     0.817     0.134
                                                  (0.017)   (0.025)   (0.025)   (0.030)
   Local Offer                                      1.698     2.783     2.798     2.508
                                                  (0.030)   (0.046)   (0.045)   (0.050)
   Log Waiting Time (Years)                        -0.022     0.034     0.025     0.053
                                                  (0.004)   (0.007)   (0.007)   (0.007)
   Log Waiting Time x 1{Over 1 Year}                0.161     0.441     0.322     0.419
                                                  (0.016)   (0.027)   (0.027)   (0.028)
   Log Waiting Time x 1{Over 2 Years}               0.174     0.484     0.235     0.352
                                                  (0.023)   (0.042)   (0.043)   (0.043)
   Perfect Tissue Type Match x Prior Transplant    -0.262    -0.639    -0.658    -0.598
                                                  (0.076)   (0.148)   (0.148)   (0.147)
   Perfect Tissue Type Match x Diabetic Patient     0.009    -0.037    -0.034    -0.016
                                                  (0.023)   (0.042)   (0.042)   (0.042)
   Perfect Tissue Type Match x Patient Age          0.002     0.005     0.005     0.005
                                                  (0.001)   (0.002)   (0.002)   (0.001)
   Perfect Tissue Type Match x CPRA                 0.059     0.084     0.087     0.365
                                                  (0.073)   (0.137)   (0.137)   (0.143)
   Perfect Tissue Type Match x 1{CPRA > 80%}        0.086     0.057     0.031     0.123
                                                  (0.077)   (0.147)   (0.147)   (0.156)
   Perfect Tissue Type Match x ECD Donor           -0.765    -1.229    -1.266    -1.033
                                                  (0.043)   (0.069)   (0.069)   (0.071)
   Perfect Tissue Type Match x DCD Donor           -0.556    -0.957    -0.963    -1.057
                                                  (0.076)   (0.128)   (0.127)   (0.129)
   Perfect Tissue Type Match x Local Offer          0.147     0.379     0.360     0.699
                                                  (0.039)   (0.061)   (0.060)   (0.063)
   Perfect Tissue Type Match x ABO Compatible       0.482     0.850     0.875     0.908
                                                  (0.048)   (0.085)   (0.085)   (0.082)
   Local Offer x 1{2 A Mismatches}                 -0.007    -0.016    -0.015     0.042
                                                  (0.014)   (0.023)   (0.023)   (0.027)
                                                                                                                                       33




                                Table D.13: Choice Estimates (Continued)


                   Local Offer x 1{2 B Mismatches}                          -0.114           -0.181         -0.183            -0.177
                                                                           (0.015)          (0.025)        (0.026)           (0.028)
                   Local Offer x 1{2 DR Mismatches}                         -0.149           -0.207         -0.211            -0.243
                                                                           (0.014)          (0.020)        (0.020)           (0.026)
                   Local Offer x 1{Donor Age < 18}                          -0.868           -1.416         -1.426            -1.284
                                                                           (0.033)          (0.054)        (0.055)           (0.058)
                   Local Offer x 1{Donor Age 18-35}                         -0.414           -0.706         -0.703            -0.960
                                                                           (0.031)          (0.050)        (0.049)           (0.052)
                   Local Offer x 1{Donor Age 50+}                            0.100            0.134          0.134             0.024
                                                                           (0.028)          (0.043)        (0.043)           (0.050)
                   Patient Age x 1{Donor Age < 18}                          -0.013           -0.021         -0.021            -0.023
                                                                           (0.001)          (0.001)        (0.001)           (0.001)
                   Patient Age x 1{Donor Age 18-35}                          0.003            0.003          0.003             0.000
                                                                           (0.001)          (0.002)        (0.002)           (0.002)
                   Patient Age x 1{Donor Age 50+}                            0.015            0.028          0.028             0.032
                                                                           (0.002)          (0.004)        (0.004)           (0.004)
                   Patient Age - 35 if Age >= 35 x 1{Donor Age 18-35}       -0.011           -0.016         -0.016            -0.014
                                                                           (0.002)          (0.003)        (0.003)           (0.003)
                   Patient Age - 35 if Age >= 35 x 1{Donor Age 50+}         -0.006           -0.014         -0.014            -0.016
                                                                           (0.003)          (0.004)        (0.004)           (0.004)
                Scarcity
                   Log(1+#Past Donors)                                                      -0.289
                                                                                             0.018
                   Log(1+#Past Offers)                                                                      -0.297
                                                                                                             0.008
                   Log(1+#Future Donors)                                                                                     -0.268
                                                                                                                              0.019

                Instruments                                             No Instruments   # Past Donors   # Past Offers   # Future Donors


Notes: Estimates of the choice equation are presented. The sample includes 7938854 offers made between 2000 and 2009
to patients in the sample. The chain length is 850000, which includes a burn-in of 50000 draws. We thin the chain by
taking every 10 draws. All columns control for dummies for DSA fixed effect, blood type fixed effect, and registration
year fixed effect. Future donors (offers) is defined as the number of donors (offers) in the next 4 quarters (see Table 4
for detailed definition). Standard errors are in parenthese.
                                                                                                                  34




                                             Table D.14: Robustness

                                               (1)      (2)      (3)       (4)      (5)       (6)       (7)      (8)      (9)
Realized Assignment                           8.13     8.78     8.72      8.73      8.88     10.07     8.66     8.08     8.93
Random Assignment among
    All Patients                              7.27     7.87     7.71      7.56      7.91     8.92      7.74     7.16     7.81
    Transplanted Patients                     7.60     8.23     8.09      8.12      8.31     9.38      8.09     7.65     8.43
No Choice                                     7.99     8.01     7.90      7.83      8.00     8.85      7.86     7.05     7.56
Optimal Assignment among
    Transplanted Patients                     10.45   10.48     10.35    10.37     10.47     11.91    10.25     9.30     10.39
    All Patients Based on Only Observables    8.74    9.51      9.42     9.29      9.59      10.95    9.39      8.71     9.69
    All Patients                              10.48   13.84     13.68    13.58     13.83     15.97    13.74     12.16    12.90

Box-Cox r
    Survival without Transplant                0.5     0.5       0.5       0.5      0.5       0.5      0.4       0.5      0.6
    Survival with Transplant                   0.6     0.6       0.6       0.6      0.6       0.5      0.6       0.7      0.6
Instruments
    # Past Donors                                       x                            x         x        x         x       x
    # Past Offers                                                 x
    # Future Donors                                                        x
Donor Unobservables                             x       x         x        x                   x        x         x        x
Other Unobservables                                     x         x        x         x         x        x         x        x



Notes: Robustness of the results presented in Figure 5. The baseline specification is presented in column (2). The
remaining specifications vary the instruments, the presence of j , or the Box-Cox shape parameters as indicated in the
table.
