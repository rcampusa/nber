                               NBER WORKING PAPER SERIES




                                  THE I THEORY OF MONEY

                                    Markus K. Brunnermeier
                                       Yuliy Sannikov

                                       Working Paper 22533
                               http://www.nber.org/papers/w22533


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                    August 2016




We are grateful to comments by discussants Doug Diamond, Mike Woodford, Marco Bassetto,
Itamar Drechsler, Michael Kumhoff, Alexi Savov and seminar participants at various universities
and conferences. The views expressed herein are those of the authors and do not necessarily
reflect the views of the National Bureau of Economic Research.

At least one co-author has disclosed a financial relationship of potential relevance for this
research. Further information is available online at http://www.nber.org/papers/w22533.ack

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2016 by Markus K. Brunnermeier and Yuliy Sannikov. All rights reserved. Short sections of
text, not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.
The I Theory of Money
Markus K. Brunnermeier and Yuliy Sannikov
NBER Working Paper No. 22533
August 2016
JEL No. E32,E41,E44,E51,E52,E58,G01,G11,G21

                                         ABSTRACT

A theory of money needs a proper place for financial intermediaries. Intermediaries diversify
risks and create inside money. In downturns, micro-prudent intermediaries shrink their lending
activity, fire-sell assets and supply less inside money, exactly when money demand rises. The
resulting Fisher disinflation hurts intermediaries and other borrowers. Shocks are amplified,
volatility spikes and risk premia rise. Monetary policy is redistributive. Accommodative
monetary policy that boosts assets held by balance sheet-impaired sectors, recapitalizes them and
mitigates the adverse liquidity and disinflationary spirals. Since monetary policy cannot provide
insurance and control risk-taking separately, adding macroprudential policy that limits leverage
attains higher welfare.


Markus K. Brunnermeier
Princeton University
Department of Economics
Bendheim Center for Finance
Princeton, NJ 08540
and NBER
markus@princeton.edu

Yuliy Sannikov
Department of Economics
208 Fisher Hall
Princeton University
Princeton, NJ 08544
sannikov@gmail.com
1     Introduction
A theory of money needs a proper place for financial intermediaries. Financial institutions
are able to create money – when they extend loans to businesses and home buyers, they
credit the borrowers with deposits and so create inside money. Money creation by financial
intermediaries depends crucially on the health of the banking system and the presence of
profitable investment opportunities. This paper proposes a theory of money and provides
a framework for analyzing the interaction between price stability and financial stability. It
therefore provides a unified way of thinking about monetary and macroprudential policy.
    We model money supply and demand, and the role of financial intermediaries as follows.
Households manage productive projects that use capital and expose them to idiosyncratic
risk. They hold money for self insurance against this risk. This creates money demand
- as in Samuelson (1958) and Bewley (1980) money has value in equilibrium even though
it never pays dividends - in other words money is a bubble. Money supply consists of
outside money and inside money created by intermediaries. Intermediaries take stakes in
the households’ risky projects, absorbing and diversifying some of households’ risk. They are
active in maturity and liquidity transformation, as they issue liquid, at notice redeemable,
(inside) money and invest in illiquid long-term assets. The mismatch between assets and
liabilities exposes intermediaries to risk. When intermediaries suffer losses, they shrink their
balance sheets, creating less inside money and financing fewer household projects. In this
case money supply shrinks and money demand rises. Together, both effects lead to increase
in the value of outside money, i.e. disinflation à la Fisher (1933) occurs.
    The relationship between the value of money and the state of the financial system can be
understood through two polar cases. In one polar case intermediaries are undercapitalized
and cannot perform their functions. Without inside money, money supply is scarce and the
value of money is high. Households have a desire to hold money which, unlike the households’
risky projects, is subject only to aggregate, not idiosyncratic, risk. In the opposite polar case,
intermediaries are well capitalized and so well equipped to mitigate financial frictions. They
are able to exploit the diversification benefits by investing across many different projects.
Intermediaries also create inside money and hence the money multiplier is high. At the
same time, since households can offload some of their idiosyncratic risks to the intermediary
sector, their demand for money is low. Hence, the value of money is low in this polar case.
    An adverse shock to end borrowers not only hurts the intermediaries directly, but also
moves the economy closer to the first polar regime with high value of money. Shocks are


                                                2
amplified by spirals on both sides of intermediaries’ balance sheets. On the asset side, in-
termediaries are exposed to productivity shocks of their end-borrowers. End-borrowers’ fire
sales depress the price of physical capital and liquidity spirals further erode intermediaries’
net worth (as shown in Brunnermeier and Sannikov (2014)). On the liabilities side, inter-
mediaries are hurt by the Fisher disinflation. As lending and inside money creation shrink,
money demand rises and the real value of nominal liabilities expands. The “Paradox of
Prudence” arises when intermediaries shrink their balance sheet and households tilt their
portfolio away from real investment towards the safe asset, money. Scaling back risky asset
holding is micro-prudent, but makes the economy more risky, i.e. it is macro-imprudent.
Our Paradox of Prudence is in the risk space what Keynes’ Paradox of Thrift is for the
consumption-savings decision. The Paradox of thrift describes how each person’s attempt to
save more paradoxically lowers overall aggregate savings. In our model attempts to reduce in-
dividual risks increases endogenous risks as the economy’s capacity to diversify idiosyncratic
risk moves around endogenously.
    Monetary policy can work against the adverse feedback loops that precipitate crises, by
affecting the prices of assets held by constrained agents and redistributing wealth. That is,
monetary policy works through wealth/income effects, unlike conventional New Keynesian
models in which monetary policy gains traction by changing intertemporal incentives – a
substitution effect. Specifically, in our model, monetary policy softens the blow of negative
shocks and helps the intermediary sector to maintain the capacity to diversify idiosyncratic
risk. Thus, it reduces endogenous (self-generated) risk and overall risk premia. Monetary
policy is redistributive, but it is not a zero-sum game – redistribution can actually improve
welfare. Unexpected monetary policy redistributes wealth, but anticipated loosening redis-
tributes risk by affecting prices and returns on assets in different states. Thus, monetary
policy can provide insurance.
    Simple interest rate cuts in downturns improve economic outcomes only if they boost
prices of assets, such as long-term government bonds, that are held by constrained sectors.
Wealth redistribution towards the constrained sector leads to a rise in economic activity and
an increase in the price of physical capital. As the constrained intermediary sector recovers,
it creates more (inside) money and reverses the disinflationary pressure. The appreciation
of long-term bonds also mitigates money demand, since long-term bonds are also safe assets
and hence can be used as a store of value as well. As banks are recapitalized, they are able to
take on more idiosyncratic household risks, so economy-wide diversification of risk improves
and the overall economy becomes, somewhat paradoxically, safer. Importantly, monetary


                                              3
policy also affects risk premia. As interest rate moves affect the equilibrium allocations,
they also affect the long-term real interest rate as documented by Hanson and Stein (2014)
and term premia and credit spread as documented by Gertler and Karadi (2014). From an
ex-ante perspective long-term bonds are a good hedging instrument for intermediaries if the
central bank follows an appropriate monetary policy rule. After an adverse shock, central
banks cut short-term interest rates and bonds appreciate.
    Like any insurance, “stealth recapitalization” of the financial system through monetary
policy can potentially create a moral hazard problem. However, moral hazard from monetary
policy is less severe than that associated with explicit bailouts of failing institutions. The
reason is that monetary policy is a crude redistributive tool that helps the strong institutions
more than the weak. The cautious institutions that bought long-term bonds as a hedge
against downturns benefit more from interest rate cuts than the opportunistic institutions
that increased leverage to take on more risk. In contrast, ex-post bailouts of the weakest
institutions create strong risk-taking incentives ex-ante.
    While monetary policy improves welfare, the right amount of risk redistribution is not
always clearcut. It comes with side effects since several quantities adjust endogenously.
Monetary policy cannot control risk separately from risk-taking and risk premia. Policy that
only partially completes the markets need not be welfare-improving, as originally shown in
the famous Hart (1975) example. Monetary policy is just one tool, which cannot perfectly
control the many quantities determined by a system of equilibrium equations, i.e. moral
hazard exists.
    We show that combining monetary policy with macroprudential policy measures that con-
trol individual households’ undiversifiable risk-taking significantly increases welfare. There
are various reasons for this - even without intermediaries household portfolio decisions create
pecuniary externalities, as they affect the price of capital, and thus idiosyncratic risk expo-
sure of others, as well as the rate of economic growth. With intermediaries, macroprudential
policies in addition affect risk premia, and thus earnings and the law of motion of the wealth
distribution.
   Related Literature. Our approach differs in important ways from both the prominent
New Keynesian approach but also from the monetarist approach. The New Keynesian ap-
proach emphasizes the interest rate channel. It stresses the role of money as unit of account
and price and wage rigidities as the key frictions. Price stickiness implies that a lowering of
the nominal interest rate also reduces the real interest rate. Households bring consumption
forward and investment projects become more profitable. Within the class of New Keyne-

                                               4
sian models, Christiano, Moto and Rostagno (2003) is closest to our analysis as it studies
the disinflationary spiral during the Great Depression. More recently, Cúrdia and Woodford
(2010) introduced financial frictions in the new Keynesian framework.
    In contrast, our I Theory stresses the role of money as a store of value and the redistribu-
tive channel of monetary policy. The key frictions are financial. Prices are fully flexible.
The transmission of monetary policy works primarily through capital gains, as in the as-
set pricing channel promoted by Tobin (1969) and Brunner and Meltzer (1972). As assets
are held asymmetrically in our setting, monetary policy redistributes wealth and thereby
mitigates debt overhang problems. In other words, instead of emphasizing the substitution
effect of interest rate changes, the I Theory stresses wealth/income effects of interest rate
changes. Tobin (1982) and Auclert (2016) stress the role of monetary policy in aggregate
demand management by redistributing wealth from households with low to households with
high marginal propensity to consume. In our setting all agents have the same propensity to
consume and monetary policy redistributes wealth towards balance sheet impaired sectors
and affects endogenous risk and risk premia. Also, like in Woodford (1990) and Kehoe,
Levine and Woodford (1992) optimal monetary policy deviates from the Friedman Rule in
our model.
    Like in monetarism (see e.g. Friedman and Schwartz (1963)), an endogenous reduction of
the money multiplier (given a fixed monetary base) leads to disinflation in our setting. While
inside and outside money have identical risk-return profiles and so are perfect substitutes
for individual investors, they are not the same for the economy as a whole. Inside money
serves a special function. By creating inside money, intermediaries diversify risks and foster
economic growth. Hence, in our setting a monetary intervention should aim to recapitalize
undercapitalized borrowers rather than simply increase the money supply across the board.
A key characteristic of our approach is that we focus more on the role of money as a store
of value instead of the transaction role of money. The latter plays an important role in the
“new monetarist economics” as outlined in Williamson and Wright (2011) and references
therein.
    Instead of the “money view” our approach is closer in spirit to the “credit view” à la
Gurley and Shaw (1955), Patinkin (1965), Tobin (1969, 1970), Bernanke (1983) Bernanke
and Blinder (1988) and Bernanke, Gertler and Gilchrist (1999).1
   1
    The literature on credit channels distinguishes between the bank lending channel and the balance
sheet channel (financial accelerator), depending on whether banks or corporates/households are capital
constrained. Strictly speaking our setting refers to the former, but we are agnostic about it and prefer the
broader credit channel interpretation.


                                                     5
    As in Samuelson (1958) and Bewley (1980), money is essential in our model in the sense
of Hahn (1973). In Samuelson (1958) households cannot borrow from future not yet born
generations. In Bewley (1980) and Scheinkman and Weiss (1986) households face explicit
borrowing limits and cannot insure themselves against idiosyncratic shocks. The motive to
self-insure through precautionary savings creates a demand for the single asset, money. In
our model households can hold money and physical capital. The return on capital is risky
and its risk profile differs from the endogenous risk profile of money. Financial institutions
create inside money and mitigate financial frictions. In Kiyotaki and Moore (2008) money
and capital coexist. Money is desirable as it does not suffer from a resellability constraint as
physical capital does. Lippi and Trachter (2012) characterize the trade-off between insurance
and production incentives of liquidity provision. Levin (1991) shows that monetary policy is
more effective than fiscal policy if the government does not know which agents are productive.
The finance papers by Diamond and Rajan (2006) and Stein (2012) also address the role of
monetary policy as a tool to achieve financial stability.
    More generally, there is a large macro literature that also investigates how macro shocks
that affect the balance sheets of intermediaries or end-borrowers become amplified and affect
the amount of lending and the real economy. These papers include Bernanke and Gertler
(1989), Kiyotaki and Moore (1997) and Bernanke, Gertler and Gilchrist (1999), who study
financial frictions using models that are log-linearized near steady state. In these models
shocks to intermediary/end-borrower net worths affect the efficiency of capital allocation and
asset prices. However, log-linearized solutions preclude volatility effects and lead to stable
system dynamics. Brunnermeier and Sannikov (2014) study the full equilibrium dynamics,
focusing on the differences in system behavior near the steady state, and away from it. They
find that the system is stable to small shocks near the steady state, but large shocks make
the system unstable and generate systemic endogenous risk. Thus, system dynamics are
highly nonlinear. Large shocks have much more serious effects on the real economy than
small shocks. Also, Brunnermeier and Sannikov (2014) highlight an important discontinuity.
In the limit as risk goes to zero the steady state does not converge to one that arises in
traditional models in which shocks only occur with zero probability. He and Krishnamurthy
(2013) also study the full equilibrium dynamics and focus in particular on intermediary
asset pricing. In Mendoza and Smith’s (2006) international setting the initial shock is also
amplified through a Fisher debt-disinflation that arises from the interaction between domestic
agents and foreign traders in the equity market. In our paper debt disinflation is due to the
appreciation of inside money. Recently, there is revival of monetary economics, now set


                                               6
frequently in continuous time models. Like in our model, in Drechsler, Savov and Schnabl
(2016) monetary policy also works through the risk premium. Less risk averse bankers lever
up, but also hold more liquid assets in form of reserves as well as a long-term bond, whose
returns are affected by monetary policy. Di Tella and Kurlat (2016) argue that the financial
sector chooses to be exposed to interest rate risk due to dynamic hedging demand. Capital
gains caused by an interest rate cut are a good hedge against the lower future net interest
rate margins. A lower policy rate reduces the supply of (cheap) deposits, as holding currency
at zero interest is less costly. In contrast, in our setting appropriate monetary policy provides
intermediaries a hedge against other balance sheet shocks. For a more detailed review of the
traditional literature we refer to Brunnermeier et al. (2013) and for continuous time models
to Brunnermeier and Sannikov (2016).
    This paper is organized as follows. Section 2 sets up the model and derives equilibrium
conditions without policy intervention. Section 3 characterizes equilibrium without inter-
mediaries in closed form, and discusses idiosyncratic risk as a determinant of the value of
money, as well as motivation for macroprudential policy that distorts money holdings. Sec-
tion 4 presents computed examples and discusses equilibrium properties, including capital
and money value dynamics, the amount of lending through intermediaries, and the money
multiplier for various parameter values. Section 5 introduces long-term bonds and studies
the effect of interest-rate policies as well as open-market operations. It also demonstrates
that in the absence of macroprudential tools, monetary policy alone cannot control asset risk
separately from risk-taking. Section 6 concludes.


2     The Baseline Model Absent Policy Intervention
The economy is populated by two types of agents: households and intermediaries. Each
household can use capital to produce either good a or good b, but can only be active in one
sector at a time. Production carries both idiosyncratic and aggregate sector-specific risk.
The two goods are then combined into an aggregate good that can be consumed or invested.
    Incomplete markets hinder households’ ability to issue risky claims. Specifically, house-
holds can transfer only some of the risk by selling claims to intermediaries. There is asym-
metry, as households in sector b are able to share risk with intermediaries more easily than
those in sector a, so intermediaries end up over-exposed to sector-b aggregate risk. Other-
wise, intermediaries can fully diversify household idiosyncratic risk by pooling risky claims,
while households must keep some of their idiosyncratic risk. Intermediaries obtain funding

                                               7
for the claims they hold by accepting money deposits.
    To protect themselves against idiosyncratic risk, households are able to hold money. In
our model, what is money? Money is infinitely divisible asset available in fixed supply with no
intrinsic value, but with value in equilibrium because households demand it for self insurance
(as in Bewley (1980)). Money could be gold (except for the fact that gold is not intrinsically
worthless as it can be used in jewelry) or currency printed by the monetary authority. This
is outside money - its nominal supply is fixed in the absence of monetary policy in Sections
2, 3 and 4. Intermediaries can also create inside money, promises to pay back outside money
at a later date, by taking deposits. While the nominal supply of outside money is fixed, the
real value of money (and hence the price level) is determined endogenously in equilibrium.
    The dynamic evolution of the economy is driven by the effect of shocks on the agents’
wealth distribution through their portfolio choice. The model is solved using standard port-
folio choice theory, except that asset prices - including the price of money - are endogenous.
   Technologies. All physical capital Kt in the world is allocated between the two tech-
nologies. If capital share ψt ∈ [0, 1] is devoted to produce good b, then goods a and b
combined make A(ψ)Kt of the aggregate good. Function A(ψ) is concave and has an interior
maximum, an example is the standard technology with constant elasticity of substitution s,2
                                                                           s
                                                                          s−1
                                               1 s−1 1        s−1
                               A(ψ) = A          ψ s + (1 − ψ) s                 .
                                               2      2

In competitive markets, prices of goods a and b reflect their marginal contributions to the
aggregate good. Prices must be such that a unit of capital employed in each sector produces
output valued at

                 Aa (ψ) = −ψA0 (ψ) + A(ψ) and Ab (ψ) = (1 − ψ)A0 (ψ) + A(ψ),

respectively.3
   2
     For s = ∞ the outputs are perfect substitutes, for s = 0 there is no substitutability at all, while for
s = 1 the substitutability corresponds to that of a Cobb-Douglas production function.
   3
     If total output is A(ψ)K, then an  amount of capital devoted to technology a would change total
productivity to                                      
                                                  ψK
                                            A           (K + ).
                                                K +
Differentiating with respect to  at  = 0, we obtain

                            −ψK
                                    A0 (ψ)(K + ) + A(ψ)          = −ψA0 (ψ) + A(ψ).
                           (K + )2                         =0


                                                        8
  Physical capital kt is subject to shocks that depend on the technology in which it is
employed. If used in technology a capital follows

                                dkt
                                    = (Φ(ιt ) − δ) dt + σ a dZta + σ̃ a dZ̃t ,                           (2.1)
                                kt

where dZta are the sector-wide Brownian shocks and dZ̃t are project-specific shocks, indepen-
dent across agents, which cancel out in the aggregate. A similar equation applies if capital
is used in technology b. Sector-wide shocks dZta and dZtb are independent of each other. The
investment function Φ has the standard properties Φ0 > 0 and Φ00 ≤ 0, and the input for
investment ιt is the aggregate good.
   Preferences. All agents have identical logarithmic preferences with a common discount
rate ρ. That is, any agent maximizes the expected utility of
                                              Z   ∞                    
                                                       −ρt
                                          E            e       log ct dt ,
                                               0


subject to individual budget constraints, where ct is the consumption of the aggregate good
at time t.
    Financing Constraints. Each household can hold money and invest in either tech-
nology a or technology b. Households can issue risky claims only towards the intermediary
sector (not to each other). However, the amount of risk they can offload to the intermediary
sector is bounded above, with bounds χ̄a and χ̄b satisfying 0 ≤ χ̄a < χ̄b ≤ 1.4 For simplicity,
we set in our baseline model χ̄a = 0, and then denote χ̄ ≡ χ̄b , with χ̄ near 1. Intermediaries
finance their risky holdings (households’ outside equity) by issuing claims (nominal IOUs)
with return identical to the return on money. These claims, or inside money, are as safe
as currency, outside money. In the baseline model, there is a fixed amount of outside fiat
money in the economy that pays zero interest. Figure 1 provides a schematic representation
Likewise, the marginal contribution of capital devoted to technology b would be (1 − ψ)A0 (ψ) + A(ψ). The
weighted sum of the two terms is A(ψ) since the production technology is homogenous of degree 1.
    4
      Notice that if χ̄a = χ̄b , then by holding this maximum fraction of equity of each sector, intermediaries
guarantee that the fundamental risk of their assets is proportional to the risk of the economy as a whole. In
this case, intermediaries end up perfectly hedged, as the risk of money is also proportional to the risk of the
whole economy and the intermediaries’ wealth share follows a deterministic path. In contrast, if χ̄a < χ̄b ,
then intermediaries are always overexposed to the risk of sector b. In this case, they hold the maximum
amount χ̄a of equity of sector a, as this helps them hedge and also helps households in sector a offload
aggregate risk. They also hold more than fraction χ̄a of equity of sector b, as the risk premium they demand
is initially second-order, and households in sector b demand insurance.



                                                           9
of the basic financing structure of the model.5

                                                                            Intermediary sector
                                                         A                                                                    L
                Sector 𝑏                                  Outside Money                                        Pass through                             Sector 𝑎
           A                                         L                                                                            A                                      L
       A                                         L                                                           Inside Money

                                                          Risky Claim
                                                                                                                                      A                                           L




                                                                        Risky Claim

                                                                                          Risky Claim
   A                                         L                                                                 (deposits)                 A                                           L
                                                                                                                                              A                                           L
                                       Risky Claim

       Money                                                                          …
                    Inside equity

                                     Risky Claim




                                                                                                                                                                   HH Net worth
                                    Risky Claim




                                                                                                                                                  Money
                                                                                                              Net worth
           𝑏1
                                                                                                                                                   𝑎1




                                      Figure 1: Schematic Balance Sheet Representation.

    Finally let us offer some additional brief remarks on model interpretation. First, since
outside money and inside money have the same return and risk profile, it is equivalent
whether households hold outside money or the intermediary/financial sector holds outside
money and issues a corresponding amount of inside money. Second, we interpret our in-
termediary/financial sector as a sector that includes traditional banking, but also shadow
banking and other forms of intermediation and risk mitigation. And third, as all households
have some money balances, the model has no clear borrowing or lending sectors. This feature
distinguishes our model from more conventional loanable funds models.
    Assets, Returns and Portfolios. Let qt denote the price of physical capital per unit
relative to the numeraire, the aggregate consumption good. Then the value of all capital
in the economy is qt Kt . Likewise denote by pt Kt the real value of outside money, where Kt
reflects the fact that money is worth more in a bigger economy, and pt reflects the way that
wealth distribution affects the value of money. Then the total wealth of all agents is given
by (qt + pt )Kt . Since inside money is a liability for the intermediary sector and an asset for
the household sector, it nets out overall.
   5
    The model could be easily enriched to allow intermediaries to sell off part of the equity claims up to a
limit χ̄I < 1. This would not alter the qualitative results of the model.



                                                                                                        10
   First, let us discuss return on capital, and later, return on money. We do not consider
equilibria with jumps, so let us postulate for now that qt follows a Brownian process of the
form
                                   dqt
                                       = µqt dt + (σtq )T dZt ,                        (2.2)
                                    qt
where dZt = [dZta , dZtb ]T is the vector of aggregate shocks. Then the capital gains component
of the return on capital, d(kt qt )/(kt qt ), can be found using Ito’s lemma. The dividend yield
is (Aa (ψ) − ιt )/qt for technology a and (Ab (ψ) − ιt )/qt for technology b.
    The total (real) return of an individual project in technology a is

             Aa (ψt ) − ιt
    drta =                 dt + Φ(ιt ) − δ + µqt + (σtq )T σ a 1a dt + (σtq + σ a 1a )T dZt + σ̃ a dZ̃t ,
                                                                 
                  qt

where 1a is the column coordinate vector with a single 1 in position a. The (real) return in
technology b is written analogously. The optimal investment rate ιt , which maximizes the
return of any technology, is given by the first-order condition 1/qt = Φ0 (ιt ). We denote the
investment rate that satisfies this condition by ι(qt ).
   The return on technology b is split between households who hold inside equity and earn
drt and intermediaries who hold outside equity and earn drtbI , so
  bH



                                     drtb = (1 − χt ) drtbH + χt drtbI ,

where χt ≤ χ̄ is the fraction of outside equity issued by households and held by intermediaries.
The two types of equity have identical risks, but potentially different returns. The required
return on inside equity may be higher if households would like to issue more outside equity
but cannot due to the constraint. That is, in equilibrium we have we have drtbH ≥ drtbI , with
equality if χt < χ̄.
    To write down the return on money, let us postulate that pt follows a Brownian process
of the form
                                     dpt
                                         = µpt dt + (σtp )T dZt .                         (2.3)
                                      pt
The law of motion of aggregate capital is

                         dKt
                             = (Φ(ιt ) − δ) dt + ψt σ a dZta + (1 − ψt )σ b dZtb .                      (2.4)
                          Kt                     |             {z             }
                                                               (σtK )T dZt


Since all outside money in the world is worth pt Kt , the return on money, the real interest

                                                     11
rate, is given just by the capital gains rate

                      d(pt Kt )
             drtM =             = Φ(ιt ) − δ + µpt + (σtp )T σtK dt + (σtK + σtp )T dZt .
                                                                
                       pt K t                                         |      {z       }
                                                                            (σtM )T dZt


   When a household chooses to produce good a, its net worth follows

                              dnt
                                  = xat drta + (1 − xat ) drtM − ζta dt,                    (2.5)
                              nt

where xat is the portfolio weight on capital and ζta is its propensity to consume (i.e. con-
sumption per unit of net worth).
   The net worth of a household who produces good b follows

                              dnt
                                  = xbt drtbH + (1 − xbt ) drtM − ζtb dt.                   (2.6)
                              nt

Households can choose whether to work in sector a or b, that is, in equilibrium they must
be indifferent with respect to this choice. Denote by αt the net worth of households who
specialize in sector a, as a fraction of total household net worth.
   The net worth of an intermediary follows

                               dnt
                                   = xt dr̄tbI + (1 − xt ) drtM − ζt dt,                    (2.7)
                                nt

where r̄tbI denotes the return on households’ outside equity drtbI with idiosyncratic risk di-
versified away, i.e. removed. If intermediaries use leverage, i.e. issue inside money, then of
course xt > 1.
   Equilibrium Definition. The agents start initially with some endowments of capital
and money. Over time, they trade - they choose how to allocate their wealth between the
assets available to them. That is, they solve their individual optimal consumption and
portfolio choice problems to maximize utility, subject to the budget constraints (2.5), (2.6)
and (2.7). Individual agents take prices as given. Given prices, markets for capital, money
and consumption goods have to clear.
   If the net worth of intermediaries is Nt , then given the world wealth of (qt + pt )Kt , the




                                                  12
intermediaries’ net worth share is denoted by

                                                   Nt
                                       ηt =                .                               (2.8)
                                              (qt + pt )Kt

    Definition. Given any initial allocation of capital and money among the agents, an
equilibrium is a map from histories {Zs , s ∈ [0, t]} to prices pt and qt , return differential
drtbH − drtbI ≥ 0, the households’ wealth allocation αt , equity allocation χt ≤ χ̄, portfolio
weights (xat , xbt , x) and consumption propensities (ζta , ζtb , ζt ), such that

  (i) all markets, for capital, equity, money and consumption goods, clear,

 (ii) all agents choose technologies, portfolios and consumption rates to maximize utility
      (households who produce good b also choose χt ).

    One important choice here is that of households: each household can run only one project
either in technology a or b. They must be indifferent between the two choices. Households
who choose to produce good b must also choose how much equity to issue. If outside equity
earns less than the return of technology b, these households would want to issue the maximal
amount of outside equity of χt = χ̄. This happens in equilibrium only if intermediaries are
willing to accept this supply of equity at a return discount, i.e. drtbI < drtb , so that inside
equity earns a premium. This is the case only if the intermediaries are well-capitalized.
Otherwise, drtbH = drtbI = drtb , i.e. inside and outside equity of technology b earns the same
return as technology b. In this case, households are indifferent with respect to the amount
of equity they issue, so the equity issuance constraint does not bind.


2.1    Equilibrium Conditions
Logarithmic utility has two well-known tractability properties. First, an agent with loga-
rithmic utility and discount rate ρ consumes at the rate given by ρ times net worth. Thus,
ζt = ζta = ζtb = ρ and the market-clearing condition for consumption goods is

                                ρ(qt + pt )Kt = (A(ψt ) − ιt )Kt .                         (2.9)

Second, the excess return of any risky asset over any other risky asset is explained by the
covariance between the difference in returns and the agent’s wealth.


                                                13
   From (2.5) and (2.6), the wealth of households in sectors a and b is exposed to real
aggregate risk of

         σtN a = xat σ a 1a + σtq − σtM +σtM             and σtN b = xbt σ b 1b + σtq − σtM +σtM ,
                                                                                          
                    |        {z        }                                |        {z        }
                               νta                                                            νtb


and real idiosyncratic risk of xat σ̃ a and xbt σ̃ b , respectively. Note that ν a and ν b are measures
of “nominal” risk, since the negative of σ M is inflation risk. Hence, the difference between
expected returns of technology a and money is given by

                                Et [drta − drtM ]
                                                  = (νta )T σtN a + xat (σ̃ a )2 ,                   (2.10)
                                        dt

where the right-hand side is the covariance of the net worth of a household in sector a with
the excess risk of technology a over money.
    To write an analogous condition for technology b, we have to take into account the split
of risk between households and intermediaries. Note that the net worth of intermediaries is
exposed to risk
                                      σtN = xt νtb + σtM .

Therefore, the expected excess return of technology b must satisfy

                  Et [drtb − drtM ]
                                    = (1 − χt )((νtb )T σtN b + xbt (σ̃ b )2 ) + χt (νtb )T σtN      (2.11)
                          dt

The difference in return of inside and outside equity of households in sector b is then

                        drtbH − drtbI
                                      = (νtb )T σtN b + xbt (σ̃ b )2 − (νtb )T σtN ≥ 0,              (2.12)
                             dt

with equality if χt < χ̄.
   Households must be indifferent between investing in technologies a and b. The following
proposition summarizes the relevant condition

Proposition 1. In equilibrium

                             (xat )2 (|νta |2 + (σ̃ a )2 ) = (xbt )2 (|νtb |2 + (σ̃ b )2 ).          (2.13)




                                                          14
Proof. See Appendix.

    Market clearing for capital implies that portfolio weights, given the net worth shares of
intermediaries and households, have to be consistent with the allocation of the fraction ψt
of capital to technology b. Denote by

                                                             pt
                                                   ϑt =                                                    (2.14)
                                                          qt + pt

the fraction of the world wealth that is in the form of money. Then

                                                     χt ψt (1 − ϑt )
                                              xt =                   .                                     (2.15)
                                                            ηt

Furthermore, the net worth of households who employ technologies a and b, together, must
add up to 1 − ηt , i.e.,

                            (1 − ψt )(1 − ϑt ) ψt (1 − χt )(1 − ϑt )
                                              +                      = 1 − ηt ,                            (2.16)
                                   xat                  xbt

and the fraction household wealth in sector a is given by

                                                   (1 − ψt )(1 − ϑt )
                                            αt =                      .
                                                      xat (1 − ηt )

2.2      Evolution of the State Variable
Finally, we have to describe how the state variable ηt , which determines prices of capital and
money pt and qt , evolves over time. The law of motion of ηt , together with the specification
of prices and allocations as functions of ηt , constitute the full description of equilibrium: i.e.
the map from any initial allocation and a history of shocks {Zs s ∈ [0, t]} into the description
of the economy at time t after that history. The following proposition characterizes the
equilibrium law of motion of ηt .

Proposition 2. The equilibrium law of motion of ηt is given by

      dηt
          = (1 − ηt ) x2t |νtb |2 − (xat )2 (|νta |2 + (σ̃ a )2 ) dt + (xt νtb + σtϑ )T (σtϑ dt + dZt ).
                                                                 
                                                                                                           (2.17)
      ηt




                                                          15
    The law of motion of ηt is so simple because the earnings of intermediaries and households
can be expressed in terms of risks they take and the required equilibrium risk premia. The
first term on the right-hand side reflects the relative earnings of intermediaries and house-
holds. The second term on the right-hand side of (2.17) reflects mainly the volatility of ηt ,
due to the imperfect risk sharing between intermediaries and households.

Proof. The law of motion of total net worth of intermediaries, given the risks that they take,
must be
                   dNt
                        = drtM − ρ dt + xt (νtb )T ((xt νtb + σtM ) dt + dZt ).         (2.18)
                   Nt                               |      {z    }
                                                                          σtN

The law of motion of world wealth (qt + pt )Kt , the denominator of (2.8), can be found from
the total return on world wealth, after subtracting the dividend yield of ρ (i.e., aggregate
consumption). To find the returns, we take into account the risk premia that various agents
earn. We have

                    d((qt + pt )Kt )
                                     = drtM − ρ dt + (1 − ϑt ) (σtK + σtq − σtM )T dZt +
                     (qt + pt )Kt                              |       {z        }
                                                                                 (σtq −σtp )T


(1 − ϑt )((1 − ψt ) ((νta )T σtN a + xat (σ̃ a )2 ) +ψt χt (νtb )T σtN + (1 − χt )((νtb )T σtN b + xbt (σ̃ b )2 ) ) dt.
                                                                                                                 
                    |            {z              }     |                       {z                                }
                                Et [drta −drtM ]                                    Et [drtb −drtM ]
                                       dt                                                  dt


Recall that

                    σtN = xt νtb + σtM ,           σtN a = xat νt + σtM   and σtN b = xbt νtb + σtM

and note that
                                              (1 − ψt )νta + ψt νtb = σtq − σtp .

Therefore, the law of motion of aggregate wealth can be written as6

                  d((qt + pt )Kt )
                                   = drtM − ρ dt + (1 − ϑt )(σtq − σtp )T (σtM dt + dZt )+
                   (qt + pt )Kt                    |        {z          }
                                                                      −(σtϑ )T


       (1 − ϑt ) (1 − ψt )xat (|νta |2 + (σ̃ a )2 ) + ψt χt xt |νtb |2 + (1 − χt )xbt (|νtb |2 + (σ̃ b )2 ) dt =
                                                                                                           

  6
      Ito’s lemma implies that σtϑ = (1 − ϑ)(σtp − σtq ) and µϑt = (1 − ϑ)(µpt − µqt ) − σ ϑ σ p + (σ ϑ )2 .



                                                               16
    drtM − ρ dt − (σtϑ )T (σtM dt + dZt ) + ηt x2t |νtb |2 dt + (1 − ηt )(xat )2 (|νta |2 + (σ̃ a )2 ) dt,   (2.19)

where we used (2.16) and the indifference condition of Proposition 13.
  Thus, using Ito’s lemma, we obtain (2.17).7


3         Model without Intermediaries
The goal of this section is to understand the determinants of the value of money in a model
without intermediaries. The key determinant of the value of money is, of course, the level
of idiosyncratic risk.
    We can anticipate properties of full equilibrium dynamics through our understanding of
the economy without intermediaries. Since intermediaries reduce the amount of idiosyncratic
risk in the economy, the presence of a healthy intermediary sector is akin to a reduction in
idiosyncratic risk parameters in the model without intermediaries.


3.1         Value and Risk of Money
Assume that η = 0. Suppose for the sake of simplicity that σ a = σ b = σ, σ̃ a = σ̃ b = σ̃ and
that maxψ A(ψ) = Ā is maximized at ψ = 1/2. Then half of all households produce good a,
and the rest, good b. Aggregate capital in the economy follows

                                   dKt                    σ      σ
                                       = (Φ(ιt ) − δ) dt + dZta + dZtb .
                                    Kt                    2      2

Prices p and q are constant. The volatility of the money (or the whole economy) and the
incremental risk of a project in either sector (orthogonal to the risk of money) are
                                           p               p
                                    σ̄ ≡    σ 2 /2 and σ̂ ≡ σ̃ 2 + σ 2 /2,
    7
        If processes Xt and Yt follow

                           dXt /Xt = µX       X
                                      t dt + σt dZt      and dYt /Yt = µYt dt + σtY dZt ,

then
                              d(Xt /Yt )
                                         = (µX    Y          X    Y T         Y
                                             t − µt ) dt + (σt − σt ) (dZt − σt dt).
                               Xt /Yt




                                                         17
                                                              √             √
respectively. Note that the total risk of technology a or b is σ̄ 2 + σ̂ 2 = σ 2 + σ̃ 2 .
   Effectively, the economy is equivalent to a single-good economy with aggregate risk σ̄
and project-specific risk σ̂. In this economy, the market-clearing condition for output (2.9)
becomes
                                      Ā − ι(q) = ρ (p + q) .                             (3.1)
                                                    | {z }
                                                          q/(1−ϑ)

Each household chooses a portfolio share of risky capital that is equal to the expected excess
return on capital over money, which equals the dividend yield (Ā − ι(q))/q, since the capital
gains rates are the same, divided by covariance of this excess return with household’s net
worth, which equals by σ̂ 2 . Capital markets clearing implies that the portfolio weight demand
        q
equal p+q  , that is 1 − ϑ. Hence, each household’s net worth is exposed to aggregate risk
σ̄ and project-specific risk (1 − ϑ)σ̂. In other words, the asset-pricing condition of capital
relative to money is

                            Ā − ι(q)                                    √
                                      = (1 − ϑ)σ̂ 2       ⇒     ϑ=1−         ρ/σ̂.                      (3.2)
                                q

Equilibrium in which money has positive value exists only if σ̂ 2 > ρ. As σ̂ increases, the
value of money relative to capital rises.
    For a special form of the investment function Φ(ι) = log(κι + 1)/κ, we can also get
closed-form expressions for the equilibrium prices of money and capital.8 Then (3.1) implies
that                                                        √
                                 κĀ + 1                σ̂ − ρ
                           q= √               and p = √        q.                      (3.3)
                               κ ρσ̂ + 1                    ρ
    There is always an equilibrium in which money has no value. In that equilibrium the
price of capital satisfies Ā − ι(q) = ρq, so that

                                                    κĀ + 1
                                               q=           .                                           (3.4)
                                                    κρ + 1

Then the dividend yield on capital is (Ā − ιt )/q = ρ and expected return on capital is
ρ + Φ(ιt ) − δ. Subtracting the idiosyncratic risk premium of σ̂ 2 the required return on an
   8
     When the investment adjustment cost parameter κ is close to 0, i.e. Φ(ι) is close to 1, then the price of
capital q is goes to 1 (this is Tobin’s q). As κ becomes large, the price of capital depends on dividend yield
Ā relative to the discount rate ρ and the level of idiosyncratic risk that affects the value of money.




                                                     18
asset that carries the same risk as the whole economy, or Kt , is

                                          ρ − σ̂ 2 + Φ(ιt ) − δ.

If this rate is lower than the growth rate of the economy, i.e. Φ(ιt ) − δ, then an equilibrium
in which money has positive value exists. Lemma 1 in the Appendix generalizes these results
to the case when σ a 6= σ b and σ̃ a 6= σ̃ b .
    These closed-form solutions allow us to anticipate how the value of money may fluctuate
in an economy with intermediaries. When ηt approaches 0, households face high idiosyncratic
risk in both sectors, leading to a high value of money. In contrast, when ηt is large enough,
then most of idiosyncratic risk is concentrated in sector a, as households in sector b pass on
the idiosyncratic risk to intermediaries. This leads to a lower value of money.
    Intermediary net worth and the value of money will generally fluctuate due to aggregate
shocks Z a and Z b . Relative to total aggregate wealth - recall that ηt measures the interme-
diary net worth relative to total wealth - intermediaries are long shocks Z b and short shocks
Z a when they invest in equity of households who produce good b. A fundamental assumption
of our model is that intermediaries cannot hedge this aggregate risk exposure. Due to this,
they may suffer losses, and losses force them to stop investing in equity of households who
use technology b. The intermediary sector may become undercapitalized.
    Impossibility of “As If ” Representative Agent Economies. Note that it is impos-
sible to construct an “as if” representative agent economy with the same aggregate output
and investment streams and same asset prices that mimics the equilibrium outcome of our
heterogeneous agents economy. In any representative agent economy, absence of individual-
level idiosyncratic risk, capital returns strictly dominate money and hence money could never
have some positive value.


3.2     Welfare Analysis
We start with a general result, which allows us to compute welfare of agents with logarithmic
utility. Expression (3.6) below is valid for an arbitrary process (3.5), regardless of whether
it arises from a feasible equilibrium trading strategy or not.9
   9
    For example, we can use (3.5) to evaluate welfare of a hypothetical representative agent, who consumes
a portion of world output, to estimate welfare that could be attained without idiosyncratic risk.




                                                   19
Proposition 3. Consider an agent who consumes at rate ρnt where nt follows

                                              dnt
                                                  = µnt dt + σtn dZt                                        (3.5)
                                              nt

Then the agent’s expected future utility at time t takes the form
             ∞                                                         ∞
                                                                                            |σsn |2
        Z                                                   Z                                    
                     −ρ(s−t)                  log(ρnt ) 1                   −ρ(s−t)     n
   Et            e             log(ρns ) ds =          + Et                e           µs −          ds .   (3.6)
         t                                       ρ      ρ          t                          2



Proof. See Appendix.

    Without intermediaries, drift and volatility of wealth for all households are time-invariant.
In general, given portfolio weights 1 − ϑ on capital and ϑ on money, we have

                                    Ā − ι(q)                                  p
                 µn = (1 − ϑ)                 + Φ(ι(q)) − δ − ρ,       σn =     (1 − ϑ)2 σ̂ 2 + σ̄ 2 .      (3.7)
                                        q

   For the equilibrium value of ϑ given by (3.2), we have
                                                                           p
                                    µn = Φ(ι(q)) − δ   and σ n =            ρ + σ̄ 2 .                      (3.8)

   Combining (3) with (3.8), we get the following proposition

Proposition 4. Suppose σ̂ 2 > ρ, so that monetary equilibrium exists in the economy without
intermediaries. Then in this equilibrium, the welfare of a household with initial wealth n0 = 1
is
                                log(ρ) Φ(ι(q)) − δ − (ρ + σ̄ 2 )/2
                         UH =          +                            .
                                   ρ                  ρ2

    Macro-prudential regulation. How does welfare in equilibrium with money compare
to welfare in the money-less equilibrium? If the regulator can control the value of money by
specifying a money holding requirement of the agents, will the money under optimal policy
have greater value than in equilibrium, or lower value? Note that higher value of money
allows agents to reduce their idiosyncratic risk exposure, but creates a distortion on the
investment front, since the value of capital becomes lower.
    What if the regulator can control ϑ by forcing the agents to hold specific amounts of
money? As it turns out, under some mild restrictions on ϑ, it will be optimal for the planner
to force agents to hold more money. Our results are summarized in the following proposition.

                                                       20
Proposition 5. Assume that Φ(ι) = log(κι + 1)/κ. Then if money can have positive equilib-
rium value, welfare in equilibrium with money is always greater than that in the moneyless
equilibrium. Furthermore, relative to the value of ϑ in the equilibrium with money, optimal
policy raises ϑ if and only if
                                                   √
                                     σ̂(1 − κρ) < 2 ρ.                                (3.9)



Proof. See Appendix.

   Condition (3.9) reflects the trade-off between the role of money as an insurance asset, and
the distortionary effect of rising money value on investment. On the one hand, the returns
to money are free of idiosyncratic risk, so individual households have less exposure to their
own individual-specific shocks, improving welfare. On the other hand, in the money equilib-
rium, the price of capital is lower, so investment is lower, so overall growth is lower. When
adjustment costs κ are large enough, these distortions are minimal, so the diversification
benefit dominates, as we see in condition (3.9).


4    Analysis with Intermediaries
In this section, we analyze the full model economy with intermediaries. Intermediaries are
diversifiers, allowing households that invest in technology b to offload some of their id-
iosyncratic risk. The capacity of intermediaries to act as “diversifiers” depends on their
capitalization, and so it is not surprising that aggregate economic activity also depends on
intermediary capitalization. Since intermediaries are exposed (in a levered way) to the risk
of sector b, their wealth share moves over time, as different a-shocks and different b-shocks
hit the economy.

    In the previous section, we considered the extreme polar case when intermediary capi-
talization is 0. In that case, in the money equilibrium, the value of money is high – it is
an attractive insurance vehicle for households invested in either of the two technologies. In
contrast, with a functioning intermediary sector, households that invest in technology b can
offload some of their idiosyncratic risk, so there is less demand for insurance vehicles. As a
result money is less attractive and so its real value is low. At the other end of the spectrum,
ηt can, however, also be too high: When ηt is close to 1 there is too much focus on the sector


                                              21
b good and so aggregate economic activity declines.

   The rest of this section proceeds as follows. First, we provide a full characterization of
the equilibrium of our economy. Second, we conduct welfare analysis.


4.1    Equilibrium
The computational procedure we employ, both with and without monetary policy, is de-
scribed in Appendix A. Consider parameter values ρ = 0.05, A = 0.5 σ a = σ b = 0.1,
σ̃ a = 0.6, σ̃ b = 1.2, s = 0.8, Φ(ι) = log(κι + 1)/κ with κ = 2, and χ̄ → 1. That is, in this
sector sector b households face no fraction in selling off their risk to the (well-capitalized)
intermediary sector.

                                                       1


                                                      0.9


                                                      0.8
              allocation of capital to technology b




                                                      0.7

                                                                  , overall
                                                      0.6


                                                      0.5


                                                      0.4


                                                      0.3


                                                      0.2       intermediated


                                                      0.1


                                                       0
                                                            0     0.1         0.2   0.3   0.4    0.5   0.6   0.7   0.8   0.9   1




                                                                              Figure 2: Equilibrium allocations.

    We start by looking at the allocation of capital. The production of good b depends on
intermediaries, it increases in the net worth share of the intermediary sector η. When η drops,
the risk premia that intermediaries demand for equity stakes in projects of households in
sector b rise, to the point that the households may be willing to sell less than fraction χ̄ of


                                                                                                22
outside equity. See Figure 2.
                           3




                          2.5




                           2
                   p, q




                          1.5
                                                q



                           1



                                                p
                          0.5




                           0
                                0   0.1   0.2       0.3   0.4    0.5   0.6   0.7    0.8   0.9   1




                          Figure 3: Equilibrium prices of capital and money.

    Figure 3 shows the prices p(η) and q(η) of money and capital in equilibrium. At η = 0,
the values of p and q converge to those under the benchmark without intermediaries, q =
1.0532 and p = 3.4151. As η rises, the price of capital rises and the price of money drops
(although the price of capital drops again near η = 1). Money becomes less valuable as η
rises mainly because intermediaries create money. The inside money on the liabilities sides
of the intermediaries’ balance sheets is a perfect substitute to outside money.
    The Volatility of η, Liquidity and Disinflationary Spirals. Figure 4 illustrates
the equilibrium dynamics through the drift and volatility of the state variable η. From
Proposition 2,                                                      
                           η          b b       K        ϑ      xt
                          σt = xt (σ 1 − σt ) + σt 1 −                                (4.1)
                                  |     {z         }          1 − ϑt
                                fundamental volatility |     {z      }
                                                                         amplification

Variable ηt has volatility for two reasons: from the mismatch between the fundamental risk
of assets that intermediaries hold, σ b dZtb , and the overall fundamental risk in the economy
σtK dZt and from amplification. Amplification results from the changes in the price of money
relative to capital, ϑ(ηt ). As long as the intermediaries’ portfolio share of households’ equity
xt is greater than 1 − ϑt , the world capital share, and as long as ϑ0 (η) < 0, amplification


                                                                23
exists.
    Note that σ ϑ = (1 − ϑt )(σtp − σtq ). Amplification arises from two spirals: changes in
the price of capital qt , i.e. the liquidity spiral, and changes in the value of money pt , the
disinflationary spiral. In the region where intermediaries are undercapitalized (i.e. η is low),
negative shocks are amplified both on the asset sides of intermediary balance sheets, as the
price of physical capital q(η) drops following a negative shock, and on the liability sided,
through the Fisher disinflationary spiral, as the value of money p(η) rises. These effects
can be seen for η ∈ (0, 0.1) in Figure 3. Both effects impair the intermediaries’ net worth.
Intermediaries’ response to these losses is to shrink their balance sheets, leading to fire-sales
(lowering the price q) and reduction in inside money (increasing the value of liabilities p).
In other words, intermediaries take fewer deposits, create less inside money, and the money
multiplier collapses.10 This again reduces their net worth, and so on. The “Paradox of
Prudence” emerges. Each individual intermediary micro-prudent behavior to scale back his
risk is macro-imprudent, as it raises endogenous risk.
    Specifically, this feedback effects lead to a geometric series, which can be summed up by
rewriting equation (4.1) as
                                             xt (σ b 1b − σtK )
                                   σtη =                       .
                                              ϑ0 (ηt )   xt ηt
                                          1 + ϑ(ηt ) 1−ϑt − ηt

Amplification becomes greater as ϑ0 (η) becomes more negative, and as intermediary leverage
xt rises. How large can amplification be in this model?
    Figure 4 shows both the fundamental portion of the volatility of ηt and total volatility
that includes the effects of amplification. Amplification becomes prominent when inter-
mediaries are undercapitalized. While the left panel illustrates dynamics for our baseline
parameters, the right panel reduces fundamental risk parameters to σa = σb = 0.03. The
right panel illustrates the volatility paradox: endogenous risk persists due to amplification
even as fundamental risk declines. We see that the maximal volatility of η below the steady
state stays roughly constant as fundamental risk declines, i.e. amplification in this model
can be very large.
       Drift of η. The drift of ηt given in Proposition 2 is

                µηt η = η(1 − η) x2t |νtb |2 − (xat )2 (|νta |2 + (σ̃ a )2 ) + ηt (xt νtb + σtϑ )T σtϑ
                                                                            
                                                                                                         (4.2)
  10
    In reality, rather than turning savers away, financial intermediaries might still issue demand deposits
and simply park the proceeds with the central bank as excess reserves.



                                                         24
                                                               a       b                                                                         a       b
                                                                   =       = 0.1                                                                     =       = 0.03
                                0.08                                                                              0.08

                                            total volatility
                                0.06                                                                              0.06        total volatility


                                0.04                                                                              0.04
      drift and volatility of




                                0.02                                                                              0.02




                                                                                                  volatility of
                                                 fundamental volatility

                                                                                                                              fundamental volatility
                                   0                                                                                 0


                                -0.02                 drift                                                       -0.02


                                -0.04                                                                             -0.04


                                -0.06                                                                             -0.06
                                        0     0.2             0.4           0.6    0.8   1                                0      0.2             0.4           0.6    0.8   1




                                                                             Figure 4: Equilibrium dynamics.

The first term captures the relative risk premia that intermediaries and households earn on
their portfolios relative to money. As intermediaries become undercapitalized, the price of
and return from producing good b rises, leading intermediaries to take on more risk. The
opposite happens when intermediaries are overcapitalized - then the price of good a and the
households’ rate of earnings rises. The stochastic steady state of ηt is the point where the
drift of ηt equals zero - at that point the earnings rates of intermediaries and households
balance each other out. See the left panel of Figure 4.


4.2                             Inefficiencies and Welfare
In this section, we calculate welfare in our model. Before we proceed, let us briefly describe
the sources of inefficiency. In the process, we would like to emphasize relevant trade-offs
with the intention of preparing ground for thinking about policy. First, there is inefficient
sharing of idiosyncratic risk. Some of it can be mitigated through the use of intermediaries
who can hold equity of households producing good b and diversify some of idiosyncratic risk.
Consequently, cycles that can cause intermediaries to be undercapitalized can be harmful.
Inefficiencies connected with idiosyncratic risks are also mitigated with the use of money -
both inside and outside. Money allows households to diversify their wealth, but high value
of money results in lower price of capital and potential inefficiency due to underinvestment.

                                                                                             25
    Second, there is inefficient sharing of aggregate risk, which can cause whole sectors to
become undercapitalized, e.g. intermediaries. If intermediaries become undercapitalized,
barriers to entry into the intermediary sector help the intermediaries: the price of good b rises
when ηt is low, mitigating the intermediaries risk exposures and allowing the intermediaries
to recapitalize themselves. Thus, the limited competition in the intermediary sector creates
a terms-of-trade hedge, which depends on the extent to which intermediaries cut back the
financing of households in sector b, the extent to which those households are willing to
self-finance, and the substitutability s among the intermediate goods.
    Finally, there is productive inefficiency: when intermediaries or households are undercap-
italized, then production may be inefficiently skewed towards good a or good b. Even at the
steady state production can be inefficient due to financial frictions, e.g. imperfect sharing of
idiosyncratic risks.
    To understand the cumulative effect of all these inefficiencies, one needs a proper welfare
measure. Welfare analysis is complicated by heterogeneity. We cannot focus on a repre-
sentative household, since different households are exposed to different idiosyncratic risks.
Some households become richer, while others become poorer.
    Welfare Calculation. Recall that, according to Proposition 3, for a general wealth
process welfare is given by (3.6). We will use this expression to calculate the welfare of
intermediaries, households, as well as a fictitious “representative agent” who consumes a fixed
portion of aggregate output. Intermediaries and households are the focus of our analysis,
while the representative agent is a useful auxiliary construct.

Proposition 6. Welfare of a representative agent with net worth is given by log(ρnt )/ρ +
U R (ηt ), where
                                       ∞
                                                                      Φ(ιs ) − δ |σsK |2
                                  Z                                                     
   R         log(pt + qt )                 −ρ(s−t)
 U (ηt ) = −               + Et            e          log(ps + qs ) +           −         ds . (4.3)
                  ρ                t                                      ρ        2ρ



Proof. See Appendix.

    Besides being an interesting benchmark, as a welfare measure that excludes the effects
of idiosyncratic risk, measure (4.3) can be adjusted to quantify the welfare of intermediaries
and households.


                                                     26
Proposition 7. The welfare of an intermediary with wealth nIt is log(ρnIt )/ρ + U I (ηt ), where
                                                                      Z    ∞                       
                         I               R  log(ηt )                            −ρ(s−t)
                        U (ηt ) = U (ηt ) −          + Et                       e         log(ηs ) ds .                 (4.4)
                                               ρ                        t


The welfare of a household with net worth nH          H        H
                                           t is log(ρnt )/ρ + U (η), where


                                                     U H (ηt ) = U R (ηt )+                                             (4.5)
                ∞
                                                                          |σsϑ |2 − (xas )2 (|νsa |2 + σ̃a2 )
           Z                                                                                                 
    1               −ρ(s−t)             a 2    a 2     2      2 b 2
      Et            e             ηs ((xs ) (|νs | + σ̃a ) − xs |νs | ) +                                      ds .
    ρ       t                                                                             2


    To actually compute intermediary and household welfare, it suffices to note that all
included quantities are functions of the single state variable ηt , and that in general
                                 ∞
                                                                                                     g 00 (η)|ησtη |2
                        Z                                 
       g(ηt ) = Et                   −ρ(s−t)
                                     e         y(ηs ) ds       ⇒ ρg(η) = y(η) + g 0 (η)µηt η +
                             t                                                                               2

    The actual computation of welfare levels thus merely requires us to solve an ordinary
differential equation.
    Welfare in equilibrium and preliminary thoughts on policy. Figure 5 shows
welfare for parameter values we described at the beginning of this section, for an econ-
omy with K0 normalized to 1. The welfare of a representative intermediary is given by
log(ρn0 )/ρ + U I (η0 ) = log(ρη0 (p0 + q0 ))/ρ + U I (η0 ). The welfare of a representative house-
hold is log(ρ(1 − η0 )(p0 + q0 ))/ρ + U H (η0 ).
    The welfare of each agent type tends to increase in its wealth share, but only to a
certain point. At the extreme, one class of agents becomes so severely undercapitalized that
productive inefficiency makes everybody worse off. At those extremes redistribution towards
the undercapitalized sector would be Pareto improving.
    In the next section we discuss policy. Our primary focus is monetary policy, but we
also look at combinations of monetary and macroprudential policies. Before proceeding,
let us reiterate the inefficiencies present in our model, and discuss how policies may affect
these inefficiencies. First, as in the benchmark without intermediaries, the value of money
affects welfare - higher value of money helps hedge idiosyncratic risk but creates investment
distortions. Of course, monetary policy alone affects the value of money only endogenously,
while macroprudential policy can influence the value of money directly. Second, there are

                                                                 27
                    -20

                                          log( (1 - ) (p + q))/ + U H( )

                    -25




                    -30


                                            log(    (p + q))/ + U I ( )
          welfare




                    -35



                              household welfare in autarky
                    -40




                    -45




                    -50
                          0         0.1       0.2       0.3        0.4      0.5   0.6   0.7   0.8   0.9   1




                                                    Figure 5: Equilibrium welfare.

inefficiencies with respect to the sharing of aggregate risk - inefficiencies accompanied by
production and investment distortions when one of the sectors is undercapitalized. Monetary
policy can redistribute risk, and so it can help in this regard. Also, with monetary policy
alone, risk premia, which determine earnings, are determined by the concentration of risk.
Thus, monetary policy cannot be used to target risk premia separately from risk taking.
In contrast, macroprudential policy, through its control of quantities, can affect risk premia
independently of risk-taking.


5     Monetary and Macro-prudential Policy
Policy has the potential to mitigate some of the inefficiencies that arise in equilibrium. It can
undo some of the endogenous risk by redistributing wealth towards compromised sectors. It
can control the path of deleveraging in crisis times and prevent the build-up of systemic risk
in booms.

                                                                           28
    In general, policy is a broad notion, so it is important to make several distinctions.
One is the distinction between ex-post and ex-ante policy. There are important questions
related to crisis management - what are the effective ways to recover if the initial state is in
crisis. Traditional analysis, which applies policy after an unanticipated shock that pushes the
system away from the steady state, is ex-post as ex-ante agents do not anticipate the shock
or the policy. In our setting, ex-post monetary policy operates by redistributing wealth - a
“helicopter drop” of money has real effects only to the extent that it affects the value of η.
In contrast, nominal effects are determined by the value of η as well as change in the money
supply. A drop to intermediaries has different effects from a drop to households, both in
nominal and real terms, even if the increase in money supply is the same, because the effects
on η are different.
    Ex-post monetary policy can be thought of as redistributing risk by affecting the values of
assets directly controlled by the policy. For example, monetary policy can provide insurance
by making certain assets, such as bonds, appreciate in value at times when intermediaries
become undercapitalized. We focus in this paper mostly on ex-post policy.
    While monetary policy affects risk profiles of assets, asset allocation, risk taking and risk
premia remain endogenous. For example, monetary policy that becomes accommodative in
downturns can improve aggregate risk sharing and stabilize the price of money by making in-
termediaries more functional in downturns, but it has side effects. Intermediary leverage rises
in booms, as intermediaries anticipate insurance, and the value of money drops, as states of
the “flight to safety” - where households demand money for self insurance because insurance
through intermediaries is too expensive - become less likely. In contrast, macroprudential
policy can affect risk-taking independently of risk profiles of assets. This has broad potential
implications. For example, in a broader class of models where loose monetary policy can lead
to inflated asset prices and stimulate the formation of bubbles, macroprudential policy can
work against these effects. In our model specifically, monetary policy that provides insurance
to intermediaries can lead to a shortage of money, and macroprudential policy that boosts
the value of money can be beneficial, as it allows households to better self-insure against
idiosyncratic risk. Thus, the effects of macroprudential policy that we discussed in Section
3.2 in the context without intermediaries extend in general.
    Finally, from the point of view of the dual objective of central banks of maintaining price
stability and financial stability, it is interesting to observe not only real, but also nominal
effects of monetary policy. Different policies that have the same real effects can have different
nominal implications. However, generally there is a strong force that the lack of financial


                                               29
stability poses a threat to price stability, as we saw in the context of the disinflationary spiral
in the baseline model.
    To commence discussing policy, we extend the baseline model to allow the central bank
to control money supply. Specifically, we allow the central bank to set the short-term interest
rate it on money. For example, the central bank pays interest rate on reserves (outside money)
held by the intermediary sector. It funds these expenses simply by “printing money” in order
to avoid any fiscal implications.
    The following proposition demonstrates that this alone has no real effects on the economy,
because intermediaries simply pass on the interest earned on reserves to depositors. Policy
has real effects only if there are other assets, e.g. long-term bonds, whose values are affected
by interest rate policy.

Proposition 8. (Super-Neutrality of Money) If the central bank allows the nominal supply
of outside money to grow at rate it by paying interest to holders of outside money, then the
analysis of Section 4 is unaffected. That is, the law of motion of ηt , all real returns and asset
allocation remain unchanged.

Proof. If the outstanding nominal supply of outside money is Mt units at time t, then

                                               dMt
                                                   = it dt.
                                               Mt

Given the value of outside of pt Kt , the return on outside money is given by d(pt Kt )/(pt Kt ).
Inside money has to earn the same return as outside money - otherwise intermediaries can
earn infinite profit by borrowing inside money and investing in outside money/reserves.
Hence, all equations that characterize equilibrium in Section 4 remain unchanged, and since
none of those equations contain the nominal interest rate it , interest rate policy has no real
effects.

   While the interest rate policy alone has no real effects, it does affect inflation. Indeed,
from the basic Fisher equation,11

                                           drtM = it dt − dπt .

Since it does not affect the return on money drtM , a rise in the interest rate leads to an
identical rise in inflation.
  11
       We write dπ instead of π dt because the return on money drtM has a Brownian component.


                                                    30
5.1    Introducing Nominal Long-term Bonds
We now extend the model to allow for a realistic monetary policy with redistributive effects
that matter for real quantities. Specifically, we introduce nominal perpetual bonds, which
pay a fixed interest rate iB in money. The monetary authority sets the total outstanding
quantity of these bonds Lt through open market operations (quantitative easing, or QE in
short). We restrict both interest-rate and QE policies to be revenue neutral – the monetary
authority pays interest and/or performs QE in a way that has no fiscal implications. In other
words, the central bank does not alter its seignorage income when changing its monetary
policy.
    If Bt is the price in money of long-term bonds, per unit of interest, then the quantities
of outstanding long-term bonds and money are affected by interest rate and QE policies as
follows. We have
                            dMt = it Mt dt + iB Lt dt − (iB Bt ) dLt .

That is, the outstanding nominal quantity of money is enhanced by “printing” to pay interest
on money and long-term bonds, and decreases when long-term bonds are sold for money.
    Analytically, rather than counting the number of nominal bonds outstanding, it is useful
to work with real values of outstanding bonds and money. Denote by pt Kt the real value of
all outstanding nominal (safe) assets, outside money and perpetual bonds, and by bt Kt the
real value of all outstanding perpetual bonds, so that

                                       bt     iB Bt Lt
                                          = B            ,
                                       pt   i Bt Lt + Mt

since the ratio must be the same regardless of whether quantities are measured in real or
nominal terms. The central bank controls the pair (it , Lt ), or, equivalently, the pair (it , bt )
since the relationship between Lt and bt is one-to-one given the equilibrium bond price Bt .
    Given the nominal money supply Mt and the real value of money (pt − bt )Kt , the price
level is given by
                                    Mt         iB Bt Lt + Mt
                                             =                                            (5.1)
                                (pt − bt )Kt        pt K t

   Returns. The expressions for the return on capital from Section 2 do not change,
but money earns the return that depends on policy. To derive the returns on money and
bonds and the asset-pricing condition for bonds, we postulate that Bt follows the following



                                                31
endogenous equilibrium process

                                          dBt
                                              = µB        B T
                                                 t dt + (σt ) dZt .                             (5.2)
                                          Bt

   When intermediaries hold bonds, using them as a hedge against their net worth risk,
then the difference between expected returns on bonds drtB and money drtM can be priced
according to
                   Et [drtB − drtM ]
                                     = (σtB )T σtN , σtN = σtM + xt νt + xB  B
                                                                          t σt ,  (5.3)
                           dt
where σtB is the incremental risk of bonds over money and xB
                                                           t is the intermediary portfolio
weight on bonds.
   The return on the world portfolio of bonds and money is
                                                                           
  d(pt Kt )                 p     p T K         K    p T      bt B       bt
                                                                              drtM ,
                                        
            = Φ(ιt ) − δ + µt + (σt ) σt dt + (σt + σt ) dZt = drt − 1 −
   pt K t                                                     pt         pt

bt /pt and 1 − bt /pt are the portfolio weights on bonds and money. Using (5.3), we find that
the return and risk of money, which enters the capital-pricing equations (2.10) and (2.11) as
well as the expressions for νta and νtb , are given by
                                                                                     
                                                         bt B T N                bt B
   drtM                  µpt       (σtp )T σtK                           K    p
                                                 
          = Φ(ι) − δ +         +                     dt − (σt ) σt dt + σt + σt − σt    dZt .   (5.4)
                                                         pt                      pt
                                                                       |      {z      }
                                                                                  σtM


    In all policies we compute as examples, bonds are negatively correlated to the risk that
intermediaries face and intermediaries hold all the bonds using them as a hedge. Then
the intermediaries’ portfolio weight on bonds is xB
                                                  t = ϑt /ηt bt /pt . For this to be the case,
intermediaries must value the insurance that bonds provide the most, i.e.

                    (σtB )T σtN ≤ (σtB )T (σtM + xat νt ), (σtB )T (σtM + xbt νtb ) .
                                          |    {z      }           |    {z       }
                                                         σtN a            σtN b


In general, however, households who use technology b may also choose to hold bonds, but to
a lesser extent. All the formulas can be easily generalized to the case when some households
hold bonds.
    The law of motion of ηt has to be adjusted for the hedge that the intermediaries receive
from bonds. The following proposition provides the relevant expression.


                                                           32
Proposition 9. The equilibrium law of motion of ηt is given by

                  dηt
                      = (1 − ηt ) |xt νtb + xB  B 2     a 2    a 2      a 2
                                                                            
                                             t σt | − (xt ) (|νt | + (σ̃ ) ) dt+               (5.5)
                  ηt
                                                       T
                    xt νtb + σtϑ + (1 − ηt )xB  B
                                                            dZt + σtϑ − ηt xB  B
                                                                                  
                                             t σt                           t σt  dt .



Proof. See Appendix.

   We see that the real impact of policy on equilibrium is fully summarized by the risk
transfer term (bt /pt )σtB , since this term alone enters all the equilibrium conditions. We
summarize this result in a proposition.

Proposition 10. The real effect of monetary policy on equilibrium is fully summarized by
the process (bt /pt )σtB .

    Of course, the values of (bt /pt )σtB depend on the policy (it , bt ), and we characterize the
relationship in Proposition 14 in the Appendix. Since two tools determine a single process,
there are multiple ways to produce the same real effect on equilibrium dynamics, although
of course different policies can have different nominal effects. We study the impact of policy
on equilibrium next. In particular, we highlight that while monetary policy can provide
insurance, it cannot control risk from risk-taking and risk premia separately.
    Mitigated Liquidity and Disinflationary Spiral. Let us consider policies that set
the short-term interest rate it as well as the level of bt as functions of ηt , lowering the interest
rate it when ηt drops. Then the bond price risk σtB exactly opposite from the risk exposure
of intermediaries σ b 1b − σtK or σtη . Intermediaries can use bonds as a hedge. Monetary policy
can be used implement more efficient sharing of aggregate risk, e.g. undo endogenous risk.
    Using (5.5), xB
                  t = (ϑt /ηt )bt /pt and Ito’s lemma, the volatility of ηt , which can be re-
written as
                                               xt (σ b 1b − σtK )
                  σtη =                                                                  .      (5.6)
                               ϑ0 (η)                  bt B 0 (η)
                          1+          (ψt χt − ηt ) −             (xt ηt + (1 − ηt )ϑt )
                               ϑ(η)                    pt B(η)
                               |         {z      } |                   {z             }
                               amplification spirals               mitigation

The numerator reflects the incremental risk of technology b relative to average risk in the
economy multiplied by the intermediaries’ exposure to this risk (i.e. portfolio weight x).
If the relative prices of money, capital and bonds were fully stable, then the volatility of

                                                       33
ηt would equal xt (σ b 1b − σtK ). The denominator of (5.6) contains a term that reflects the
amplification of aggregate risk: ϑ0 (η) < 0 when, following a drop in ηt , the price of money
pt rises relative to the price of capital qt . The denominator also contains a mitigating term
as bonds appreciate when ηt falls. As the mitigating effect −(bt /pt ) B 0 (η)/B(η) rises, σ η
declines and goes to 0 in the limit (i.e. the law of motion of η becomes deterministic).
    Prices of bonds relative to money also affect the incremental risk that agents face when
they add exposure to capital b, given by

                                   σtϑ  bt                                    σtϑ  bt
          νta = σ a 1a − σtK −         + σtB     and νtb = σ b 1b − σtK −         + σtB      (5.7)
                                 1 − ϑ pt                                   1 − ϑ pt

   In this equation −σtϑ /(1 − ϑ) reflects the nominal price of capital, positively correlated
to 1b σ b − σtK , which adds to the risk that intermediaries face. In contrast, bonds stabilize
the value of money, and hence the term pbtt σtB mitigates the risk that intermediaries face.
   In the following section, we provide an example that illustrates the risk transfer effects of
monetary policy by focusing on the mitigating term in (5.6). The one-dimensional function

                                             b(η) B 0 (η)
                                             p(η) B(η)

of η summarizes the effects of two policy tools it and bt , with which any such function can
be implemented in multiple ways.
    Which policy is most natural to focus on, out of the many possibilities? In the next
subsection we illustrate a policy that completely removes amplification in the law of motion
of ηt , so that (5.6) becomes reduced to

                                       σtη = xt (σ b 1b − σtK ).                             (5.8)

This effect is achieved by setting bt /pt σtB appropriately. As a result, endogenous risk in νtb is
offset partially, so that the remaining endogenous risk of capital holdings on the asset sides
of intermediary balance sheets is exactly offset by the hedge that the bonds provide.
    We also discuss the theoretical possibility of what happens in the limit when monetary
policy allows for perfect sharing of aggregate risk. It is natural to ask the question of optimal
welfare that can be attained with monetary policy alone. We do not provide an answer to
this question under the excuse that welfare can be significantly improved if monetary policy
is used in combination with macroprudential policy. The reason is that monetary policy


                                                  34
cannot control risk separately from risk taking. We discuss optimal macroprudential policy
at the end of this section. While we do not want the prescriptions to be taken literally, as our
model is still too stylized, we learn valuable lessons about avenues in which macrorpudential
policy can operate to improve welfare.


5.2    An Example: Removing Amplification

                           2


                          1.8


                          1.6


                          1.4       q, with policy


                          1.2        q, without policy
                   p, q




                           1


                          0.8

                                                      p, without policy
                          0.6


                          0.4
                                                       p, with policy
                          0.2


                           0
                                0       0.1          0.2      0.3         0.4    0.5   0.6   0.7   0.8   0.9   1




Figure 6: Equilibrium prices of capital and money without policy (solid) and with (dashed).

     Consider a policy that sets bt /pt σtB to remove amplification from the law of motion of ηt ,
so that the volatility of ηt is given by (5.8). Here we illustrate what this policy does to our
numerical example of Section 4, i.e. for parameter values ρ = 0.05, A = 0.5 σ a = σ b = 0.1,
σ̃ a = 0.6, σ̃ b = 1.2, s = 0.8, Φ(ι) = log(κι + 1)/κ with κ = 2, and χ̄ → 1. Figure 6 shows
the effect of policy on prices. The price of money falls since the intermediary sector creates
more inside money: it does not need to absorb as much aggregate risk to do that. As a
consequence, the price of capital rises - there is more demand for capital from the sector
producing good b. As Figure 7 illustrates, capital is shifted to sector b with policy.
     Finally 8 shows the drift and volatility of η with and without policy. With policy, the
intermediary net worth is lower at the steady state. Consequently, their leverage is higher.
     Ultimately, monetary policy affects the degree of market incompleteness with respect to


                                                                                35
                                                       1

                                                      0.9

                                                      0.8
              allocation of capital to technology b
                                                      0.7
                                                                         , with policy

                                                      0.6

                                                      0.5
                                                                        , without policy
                                                      0.4

                                                      0.3

                                                      0.2       intermediated allocation to b


                                                      0.1

                                                       0
                                                            0     0.1       0.2          0.3     0.4    0.5     0.6    0.7   0.8   0.9   1




        Figure 7: Equilibrium allocations without policy (solid) and with (dashed).

sharing of aggregate risk, but it cannot disentangle risk and risk-taking. The allocation of
capital, the value of money relative to capital, and earnings rates of sectors a and b as well
as intermediaries are endogenously determined by the risk profiles of available assets.


5.3    Economy with Perfect Sharing of Aggregate Risk
If the mitigation term in (5.6) goes to infinity, then σtη → 0 and we obtain an economy with
perfect sharing of aggregate risk. Households in sector b also hold bonds to offset the risk
of technology b. This is exactly the outcome we would see if intermediaries and households
could trade contracts based on systemic risk, i.e. risk of the form

                                                                                           (σ b 1b − σ a 1a )T dZt .

In this case the aggregate risk exposures of all households and intermediaries is proportional
to σtK , and ηt , pt and qt have no volatility. Also, since intermediaries can trade aggregate
risk freely, households in sector b issue maximal equity shares χ̄ to intermediaries.
    The following proposition characterizes the function ϑ(η) through a first-order differential
equation, together with ψt , household leverage xat and xbt , price qt and the dynamics of η.


                                                                                                       36
                                          0.08


                                                             total volatility without policy
                                          0.06



                                          0.04

                                                      total = fundamental volatility with policy
                drift and volatility of




                                          0.02


                                                                     drift without policy
                                             0



                                          -0.02                         drift with policy



                                          -0.04



                                          -0.06
                                                  0    0.1        0.2         0.3           0.4        0.5   0.6   0.7    0.8      0.9          1




         Figure 8: Drift and volatility of η without policy (solid) and with (dashed).

Proposition 11. The function ϑ(η) satisfies the first-order differential equation

                                                                                              ϑ0 (η) η
                                                                                    µϑt     =       ηµ ,                                                   (5.9)
                                                                                              ϑ(η) t

where
                                                          µηt = −(1 − η)(xbt )2 (σ̃ b )2 ,                   µϑt = ρ + µηt ,                              (5.10)

and ψt , xat , xbt and qt satisfy

                                             ρqt                                                   σ̃ a       1 − ηt
 A(ψt ) − ι(qt ) =                                ,          (1 − χ̄)ψt + (1 − ψt )                   b
                                                                                                        = xbt        ,    xat σ̃ a = xbt σ̃ b       and   (5.11)
                                           1 − ϑt                                                  σ̃         1 − ϑt

               Ab (ψt ) − Aa (ψt )
                                   = ψt (σ b )2 − (1 − ψt )(σ a )2 + (1 − χ̄) xbt σ̃b2 − xat σ̃a2 .                                                       (5.12)
                        qt


Proof. See Appendix.

    Figure 9 compares prices, allocations and dynamics in the baseline model, under policy


                                                                                                  37
                     1                                                                                   1

                                                                                                        0.9
                   0.8




                                                                                    , allocation to b
                                                                                                        0.8       aggregate risk sharing
                   0.6                                                                                  0.7

                                      baseline                                                          0.6           baseline
                   0.4
                                                                                                        0.5
                              policy to eliminate endogenous risk
                   0.2
                                                                                                        0.4
                                  aggregate risk sharing
                     0                                                                                  0.3
                          0     0.2       0.4    0.6       0.8      1                                         0      0.2     0.4      0.6        0.8   1



                  0.06                                                                          0.07

                  0.04         baseline                                                         0.06                 baseline
                                                                                                0.05
                  0.02                                                       volatility of
                                                                                                0.04
       drift of




                     0
                                                                                                0.03
                  -0.02                                                                         0.02

                  -0.04                                                                         0.01
                              aggregate risk sharing                                                                    aggregate risk sharing
                                                                                                         0
                  -0.06
                          0     0.2       0.4    0.6       0.8      1                                         0      0.2     0.4      0.6        0.8   1




                              Figure 9: Comparison on the degree of aggregate risk sharing.

that eliminates endogenous risk, and with perfect risk sharing, in an economy with param-
eters ρ = 5%, A = 0.5, σ a = σ b = 0.1, σ̃ a = 0.8, σ̃ b = 1.2, s = 0.8, Φ(ι) = log(κι + 1)/κ
with κ = 2, and χ → 1. Equilibrium moves further in the direction that it took with the
application of policy that removes endogenous risk. Specifically, the value of money falls, the
allocation of capital becomes more skewed to technology b that intermediaries can facilitate,
the steady state of ηt goes to 0 since intermediaries can fully hedge risks, and the volatility
of ηt becomes 0.
    Qualitatively, what makes perfect aggregate risk sharing different is the fact that the
boundary condition without intermediaries no longer plays a role at η = 0. The absence
of crisis dynamics contributes to the significant is the drop in the relative value of money
ϑ(η).12 Also, leverage of intermediaries rises without bound approaching η = 0 - in normal
 12
      In fact, we raised the idiosyncratic volatility of good b to 0.8 in this example, because otherwise money


                                                                        38
circumstances this would be impossible due to the rise of endogenous risk, since endogenous
risk is generated by the increase in leverage even in environment when exogenous shocks are
small (but not zero).
    It is important to highlight one more time the observation that monetary policy cannot
provide insurance and control risk-taking at the same time. Leverage rises endogenously the
more risk sharing becomes possible. Asset allocation, together with asset prices and risk
premia, are also endogenous and dependent on the insurance that monetary policy provides.
Hence, the value of money ϑ falls with perfect risk sharing, which may be detrimental to
welfare as we observed in the model without intermediaries.
    These links, which cannot be broken without macroprudential policy, have implications
beyond the stylized elements of our model. In particular, loose monetary policy can lead to
excessive leverage in some sectors, reduced risk premia and, consequently, bubbles in some
asset classes. These can pose significant threat to financial stability. Also, with incomplete
markets, improving risk sharing along some dimensions does not necessarily lead to higher
welfare.


5.4         Welfare
We can extend our welfare calculation to allow for policy as follows.

Proposition 12. The welfare of an intermediary with wealth nIt is log(ρnIt )/ρ + U I (ηt ),
where U I (ηt ) is given by (4.5) taking into account the law of motion of ηt under policy. The
welfare of a household with net worth nH                       H        H            H
                                           t is given by log(ρnt )/ρ + U (η), with U (η) given
by a generalized version of (4.5),

                                              U H (ηt ) = U R (ηt )+                                 (5.13)
            ∞
                                                                           |ηs xB  B    ϑ 2     a 2    a 2     2
       Z                                                                                                          
1               −ρ(s−t)          a 2    a 2     2          b    B B 2           s σs − σs | − (xs ) (|νs | + σ̃a )
  Et            e          ηs ((xs ) (|νs | + σ̃a ) − |xs νs + xs σs | ) +                                          ds .
ρ       t                                                                                    2


Proof. See Appendix.

   Figure 10 shows the welfare frontiers that are attainable in equilibrium with various
amounts of aggregate risk sharing. Better sharing of aggregate risk improves the welfare
of households. For the policy that removes endogenous risk, household welfare reaches a
in the equilibrium with perfect aggregate risk sharing would be worthless.


                                                       39
                                        -30
                                                 baseline


                                        -40     remove endogenous risk

                                                perfect sharing of aggregate risk

                                        -50
                intermediary welfare




                                        -60



                                        -70



                                        -80



                                        -90



                                       -100
                                          -80         -70             -60            -50          -40   -30   -20
                                                                              household welfare




               Figure 10: Welfare for different degrees of aggregate risk sharing.

higher level before the “back-bending” portion in the lower right corner, which corresponds
to the crisis region where intermediaries are undercapitalized and a simple transfer from
intermediaries to households is Pareto improving. Under perfect risk sharing, household
welfare is higher only slightly relative to the policy that just removes aggregate risk.
    In contrast, intermediary welfare goes down due to the fact that risk premia, which drive
intermediary earnings in this model, become lower with greater risk sharing. Better sharing
of aggregate risk reduce costs of intermediation, which reduce intermediary profits here due
to perfect competition among intermediaries. Of course, in reality this may not be the case,
depending on the degree of competition in the intermediary sector.13 If we imagine that
agents can self-select whether to become households or intermediaries, then monetary policy
that allows for better sharing of aggregate risk can lead to a smaller and more efficient
intermediary sector, and a welfare improvement.
  13
     Higher competition may not be desirable from a policy perspective, as it leads to greater risk-taking by
intermediaries.




                                                                                    40
5.5    Optimal Macroprudential Policy
Macroprudential policies can achieve significantly higher welfare. Macroprudential policies
can control quantities and affect the allocation of resources independently of the allocation
of risk.
    Here we study the theoretical limit that can be attained when markets for sharing of
aggregate risk are open and the policy maker can control the asset allocation, portfolios and
returns. The regulator cannot, however, control consumption or investment.
    One question that comes up immediately is whether the policy maker should control the
allocation of resources between sectors a and b by forcing some households specialize in either
of these two sectors against their will. The following proposition shows that this is not so.

Proposition 13. To maximize welfare, the policy maker must expose households in sectors a
and b to the same amounts of idiosyncratic risk. It is also welfare-maximizing for households
in the two sectors to earn the same expected returns, and with this, households are indifferent
between specializing in sectors a and b.

Proof. Fix the allocation ψt of capital to technology b and the total earnings of the household
sector, so that the aggregate net worth of households NtH follows

                                   dNtH /NtH = µH        K T
                                                t dt + (σt ) dZt .


For these fixed ψt and µH
                        t , consider the problem of choosing the net worth of households in
each sector, such that Nta + Ntb = NtH , wealth accumulation in each sector µat and µbt such
that
                                  µH    H    a a      b b
                                    t Nt = µt Nt + µt Nt ,

to maximize average household welfare. Then leverage xat and xbt in each sector is given by

                 Nta xat = (1 − ψt )(1 − ϑt ) and Ntb xbt = ψt (1 − ϑt )(1 − χ̄),

since households in sector b must issue the maximal amount of outside equity to minimize
idiosyncratic risk exposure.
    The effect of these choices on the average welfare of households in sectors a and b, from
(3.6), is proportional to

                            (xat )2 σ̃a2 + |σtK |2             (xbt )2 σ̃b2 + |σtK |2
                                                                                   
                Nta     a
                       µt −                             b   b
                                                     + Nt µt −                          =
                                        2                                  2

                                                    41
                         |σtK |2     ((1 − ψt )(1 − ϑt ))2 σ̃a2 (ψt (1 − ϑt )(1 − χ̄))2 σ̃b2
                                
             NtH     H
                    µt −           −                           −                             .
                            2                 2Nta                    2(NtH − Nta )
The first-order condition with respect to Nta is

              ((1 − ψt )(1 − ϑt ))2 σ̃a2 (ψt (1 − ϑt )(1 − χ̄))2 σ̃b2
         0=               a 2
                                        −         H       a 2
                                                                      ⇒ (xat )2 σ̃a2 = (xbt )2 σ̃b2 .
                     2(Nt )                   2(Nt − Nt )

Thus, the policy maker should expose households in the two sectors to the same amounts
of idiosyncratic risk. Notice also that µat = µbt = µH
                                                     t maximizes household welfare, and with
this, households are indifferent between specializing in sectors a and b at any moment of
time.14

     Furthermore, notice that the welfare of intermediaries is given by log(ρη0 (p0 + q0 )K0 )/ρ +
U I (η0 ), where U I (η0 ) is (4.4), whereas the welfare of a hypothetical agent who consumes a
portion of total household net worth is
                                                                Z     ∞                        
                    log(ρ(p0 + q0 )K0 )                                    −ρt
                                        + U R (η0 ) + E0                   e     log(1 − ηt ) dt .                    (5.14)
                            ρ                                      0


Accounting for idiosyncratic risk, the welfare of each household is that minus
                             "Z
                                   ∞
                                                                         2                 #
                                       (1 − ψt )σ̃ a + (1 − χ̄)ψt σ̃ b         (1 − ϑt )2
                        E0                                                                dt ,
                               0                     2ρ                        (1 − ηt )2

since the households’ idiosyncratic risk exposure is

                                                                                     1 − ϑt
                          xat σ̃ a = xbt σ̃ b = ((1 − ψt )σ̃ a + (1 − χ̄)ψt σ̃ b )          .
                                                                                     1 − ηt

Hence the problem of maximizing welfare, with weights λ and 1 − λ on intermediaries and
households, reduces static problems of choosing ηt , ψt and qt to maximize

                                                          Φ(ιt ) − δ |σtK |2
                                   log(A(ψt ) − ιt ) +              −
                                                              ρ        2ρ
                                                                                            2                !
                                              (1 − ψt )σ̃ a + (1 − χ̄)ψt σ̃ b                    (1 − ϑt )2
         +λ log(ηt ) + (1 − λ) log(1 − ηt ) +                                                                     ,
                                                            2ρ                                   (1 − ηt )2
  14
    Strictly speaking, any other distribution of returns is also welfare maximizing, since average return is
always µH                                                                         a    H
         t by the law of large numbers when the household spends a fraction Nt /Nt of time in sector a
      b    H
and Nt /Nt in sector b.

                                                         42
where

                                                                                                          qt                           A(ψt ) − ιt
ιt = ι(qt ),         |σtK |2 = ψt2 σb2 + (1 − ψt )2 σa2 ,                                and ϑt =                   with pt + qt =                 .
                                                                                                      p t + qt                             ρ

Notice that the problem is separable across time points, and results in the identical values
of ηt , ψt and qt for all times t.15
                                         -10


                                         -20                                                     optimal macroprudential


                                         -30
                                                    baseline

                                         -40       remove endogenous risk
                 intermediary welfare




                                                   perfect sharing of aggregate risk

                                         -50


                                         -60


                                         -70


                                         -80


                                         -90


                                        -100
                                           -80         -70            -60              -50     -40         -30             -20   -10
                                                                                  household welfare




                                                 Figure 11: Monetary and Macruprudential Policy.

     This policy can be implemented by imposing these portfolio weight constraints on house-
holds, in addition to taxes/subsidies on goods a and b to achieve an appropriate allocation
ψt . The regulator does not need to control the households’ choice between sectors a and b
or the market for aggregate risk. Figure 11 illustrates the Pareto frontier for intermediaries’
and households’ welfare that can be obtained under optimal macroprudential policy. Welfare
is significantly improved relative to Figure 10 that illustrates monetary policy alone.
  15
     The reader may be wondering why ηt is constant over time, even though households face idiosyncratic
risk while intermediaries do not. Since average marginal utility of households rises relative to that of inter-
mediaries, due to idiosyncratic risk, it is tempting to conjecture that the planner must raise the households’
wealth share over time. However, notice that any redistribution towards households, such as that imple-
mented by raising the households’ share of return, has to be proportional to individual households’ wealth.
As a result, households with higher marginal utility receive a smaller share of wealth redistribution, and it
is this effect that prevents redistribution of this sort from raising welfare.


                                                                                         43
    We obtain an extreme policy which is not very realistic, but, nevertheless, the exercise
leads to important takeaways. Monetary policy can alter the risk profile of assets and pro-
vide natural hedges in incomplete markets, but it cannot control risk taking/risk premia
separately from risk itself. In our model, while monetary policy improves the sharing of
aggregate risk, it stimulates the price of capital relative to money so that households are
overexposed to idiosyncratic risk. As intermediaries are less likely to become undercapital-
ized, they provide better insurance to households to offset idiosyncratic risk as the supply of
inside money rises. It seems like households should become better-insured, but they are not
as the value of outside money falls. Macroprudential policy, which limits the households’
portfolio weights on capital is welfare improving, because it reduces the households’ exposure
to idiosyncratic risk. The cost of this insurance is investment distortion, as we discussed in
the Section 3 without intermediaries.
    Going beyond our model, we can make the following more realistic interpretations. Mon-
etary policy can provide some insurance to the economy, but it is a crude redistributive tool
that can only target some of the aggregate risks. Individual portfolio choices are completely
endogenous with monetary policy alone, and loose monetary policy can easily be accom-
panied by the excessive leverage, bubbles in prices in some asset classes, and overexposure
to risk of these assets on individual level. This can create motivation for macroprudential
tools that control households portfolio choices, such as loan-to-value ratios for household
borrowing against some of the assets. These tools push down the prices of these assets, and
reduce idiosyncratic risk exposure at individual level.


6    Conclusion
In our economy household entrepreneurs and intermediaries make investment decisions.
Household entrepreneurs can invest only in a single real production technology at a time.
Intermediaries are “diversifiers” as they can provide risky funding across a number of house-
hold entrepreneurs. Intermediaries scale up their activity by issuing demand deposits, inside
money, held by household entrepreneurs. In addition, households and intermediaries can
hold outside money provided by the government. Intermediaries are leveraged and assume
liquidity mismatch. Intermediaries’ assets are long-dated and have low market liquidity -
after an adverse shock the price can drop - while their debt financing is redeemable, i.e.
short-term. Endogenous risk emerges through an amplification mechanism in form of two
spirals. First, the liquidity spiral: a shock to intermediaries causes them to shrink balance

                                              44
sheets and “fire sale some of their assets.” This depresses the price of their assets which
induces further fire-sales and so on. Second, the disinflationary spiral: as intermediaries
shrink their balance sheet, they also create less inside money; such a shock leads to a rising
demand for outside money, i.e. disinflation. This disinflationary spiral amplifies shocks, as
it hurts borrowers who owe nominal debt. It works on the liabilities side of the intermediary
balance sheets, while the liquidity spiral that hurts the price of capital works on the asset
side. Importantly, intermediaries’ response to shrink their balance sheet, i.e. to act micropro-
duent, leads to higher endogenous risk in the economy, i.e. is macro-imprudent. We coined
this inconsistency as “Paradox of Prudence”, as it resembles Keynes’ Paradox of thrift, just
in terms of risk instead of savings.
    Monetary policy can mitigate the adverse effects due to both spirals in a world with
(default-free) long-term government bonds. Conventional monetary policy changes the path
of interest rate earned on short-term “money” and consequently impacts the relative value
of long-term government bonds and money. For example, interest rate cuts in downturns,
which are expected to persist for a while, enable intermediaries to refinance their long-bond
holding more cheaply. This recapitalizes institutions that hold these assets and also increases
the (nominal) supply of the safe asset. This reduces endogenous risk, and also enhances
competition among banks, which lowers their rents. Of course, any policy that provides
insurance against downturns could potentially create moral hazard. While intermediaries
do take on higher leverage in the presence of monetary policy, moral hazard is nevertheless
limited. It is not a policy that saves the weakest institutions, thus creating most perverse
incentives ex-ante. Rather, “stealth recapitalization” through a persistent interest rate cut
recapitalizes specifically the institutions that took precaution to hold long-term bonds as
a hedge. The finding that moral hazard is limited might change if one were to include
intermediaries with negative net worth. Including such zombie banks is one fruitful direction
to push this line of research further.
    Combining macruprudential policy with monetary policy can achieve strictly higher wel-
fare. The reason is that, while monetary policy can transfer risk between intermediaries
and households, risk-taking (i.e. portfolio choices) and risk premia are still endogenous.
Macro-prudential instruments allow policy makers to also impact risk taking. Already in
an economy without intermediaries, macroprudential policy can improve welfare of house-
holds by controlling the externality related to money holdings. When households demand
too much money, the price of capital falls, leading to underinvestment. With intermediaries,
macroprudential policy also affects intermediary leverage and their earnings in equilibrium.


                                              45
We have not attempted to disentangle these effects, but rather we considered an extreme
problem of optimal macroprudential policy with perfect sharing of aggregate risk. This gives
us a theoretical upper bound on welfare improvement through a cocktail of policies. Our
analysis shows that the potential welfare improvement from a combination of policies can be
significant. In other words, there are large potential welfare gains from controlling risk and
risk-taking separately.


7    Bibliography
    Auclert, A. (2016) “Monetary Policy and the Redistribution Channel”, Working Paper.
    Bernanke, B. (1983) “Non-Monetary Effects of the Financial Crisis in the Propagation
of the Great Depression”, American Economic Review, Vol. 73, 257-276.
   Bernanke, B. and A. Blinder (1989) “Credit, Money, and Aggregate Demand”, American
Economic Review, Papers and Proceedings, Vol. 78, No. 2, 435-439.
    Bernanke, B. and M. Gertler (1989) “Agency Costs, Net Worth, and Business Fluctua-
tions”, American Economic Review, Vol. 79, No. 1, 14-31.
    Bernanke, B., M. Gertler and S. Gilchrist (1999) “The Financial Accelerator in a Quan-
titative Business Cycle Framework”, Handbook of Macroeconomics (Chapter 21), 1341-1393.
   Bewley, T. (1980) “The Optimum Quantity of Money”, in Models of Monetary Eco-
nomics, eds. J. Kareken and N. Wallace. Minneapolis, Minnesota: Federal Reserve Bank.
   Brunnermeier, M. K., T. Eisenbach, and Y. Sannikov (2013) “Macroeconomics with
Financial Frictions: A Survey”, in Proceedings of the Econometric Society World Congress
2010 in Shanghai, eds. E. Dekkel, Cambridge University Press.
   Brunnermeier, M. K. and Y. Sannikov (2013) “Redistributive Monetary Policy”, Jackson
Hole Symposium 2012.
   Brunnermeier, M. K. and Y. Sannikov (2014) “A Macroeconomic Model with a Financial
Sector”, American Economic Review, 104(2), 379-421.
   Brunnermeier, M. K. and Y. Sannikov (2016) “Macro, Money and Finance: A Continuous-
Time Approach”, in Handbook of Macroeconomics, Vol. 2B, John B. Taylor and Harold
Uhlig, eds., North Holland.
   Cagan, P. (1979) Persistent Inflation: Historical and Policy Essays, Columbia University
Press.


                                             46
   Christiano, L., R. Moto and M. Rostagno (2003) “The Great Depression and the Friedman-
Schwartz Hypothesis”, Journal of Money, Credit and Banking, 35(6), 1119-1197.
   Cúrdia, V. and M. Woodford (2010) “Credit Spreads and Monetary Policy”, Working
Paper, Columbia University.
   Diamond, D. W. (1984) “Financial Intermediation and Delegated Monitoring”, The Re-
view of Economic Studies, 51(3), 393-414.
   Diamond, D. and R. Rajan (2006) “Money in a Theory of Banking”, American Economic
Review, 96(1), 30-53.
   Di Tella, S. and P. Kurlat (2016) “Monetary Shocks and Bank Balance Sheets”, Working
Paper, Stanford University.
   Drechsler, I., A. Savov and P. Schnabl (2016) “A Model of Monetary Policy and Risk
Premia”, Journal of Finance, forthcoming.
    Fisher, I. (1933) “The Debt-Deflation Theory of Great Depression”, Econometrica, Vol.
1, No. 4, 337-357.
   Friedman, M. and A. J. Schwartz (1963) A Monetary History of the United States, 1867-
1960, Princeton University Press.
   Gertler, M. and Karadi (2014) “Monetary Policy Surprises, Credit Costs and Economic
Activity”, American Economic Journal: Macroeconomics, 7(1), 44-76.
   Gurley, J. and E. Shaw (1955) “Financial Aspects of Economic Development”, American
Economic Review, 45(4), 515-538.
  Hahn, F. H. (1973) “On the Foundation of Monetary Theory”, in: M. Parkin and A. R.
Nobay, eds., Essays in Modern Economics, Barnes and Noble, New York, NY, 230-242.
  Hanson, S. G., and J. C. Stein. (2014) “Monetary Policy and Long-Term Real Rates.”
Working Paper, April 2014.
   Hart, O. (1975) “On the Optimality of Equilibrium When the Market Structure Is In-
complete” , Journal of Economic Theory, 11: 418-443.
   He, Z., and A. Krishnamurthy (2013) “Intermediary Asset Prices”, American Economic
Review, 103(2), 732-770.
   He, Z., and A. Krishnamurthy (2012) “A Model of Capital and Crises”, Review of Eco-
nomic Studies, 79(2), 735-777.
   Holmstrom, B., and J. Tirole (1997) “Financial Intermediation, Loanable Funds, and the
Real Sector”, The Quarterly Journal of Economics, 112(3), 663-691.

                                           47
   Kiyotaki, N. and J. Moore (1997) “Credit Cycles”, Journal of Political Economy, Vol.
105, No. 2, 211-48.
   Kehoe, T., D. K. Levine and M. Woodford (1992) “The Optimal Quantity of Money
Revisisted,” in Economic Analysis of Markets and Games: Essays in Honor of Frank Hahn,
P. Dasgupta, D. Gale, O. Hart and E. Maskin, eds., MIT Press.
   Kiyotaki, N. and J. Moore (2008) “Liquidity, Business Cycles, and Monetary Policy”,
working paper, Princeton University.
   Levin, D. K. (1991) “Asset Trading Mechanism and Expansionary Policy”, Journal of
Economic Theory, Vol. 54, No. 1, 148-164.
  Lippi, F. and N. Trachter (2012) “On the Optimal Supply of Liquidity with Borrowing
Constraints”, Working Paper, EIEF.
   Mendoza, E. and K. A. Smith (2006) “Quantitative Implications of a Debt-Deflation
Theory of Sudden Stops and Asset Prices”, Journal of International Economics, Vol. 70,
No. 1, 82-114.
   Patinkin D. (1965) Money, Interest and Prices: An Integration of Monetary and Value
Theory, Harper & Row NY.
   Samuelson, P. A. (1958) “An exact consumption loan model of interest, with or without
the social contrivance of money” Journal of Political Economy, 66, 467-82.
   Stein, J. (2012) “Monetary Policy as Financial-Stability Regulation”, Quarterly Journal
of Economics, 127(1), 57-95.
   Scheinkman, J. A. and L. Weiss (1986) “Borrowing Constraints and Aggregate Economic
Activity”, Econometrica, Vol. 54, 23-45.
  Tobin, J. (1969) “A General Equilibrium Approach to Monetary Theory”, Journal of
Money, Credit and Banking, Vol. 1, No. 1, 15-29.
   Tobin, J. (1982) Asset Accumulation and Economic Activity: Reflections on Contempo-
rary Macroeconomic Theory, University Of Chicago Press, Chicago, IL.
   Wallace, N. (1982), “A Modigliani-Miller Theorem for Open-Market Operations”, Amer-
ican Economic Review, 71: 267-274.
   Williamson, S. and R. Wright (2011) “New Monetarist Economics: Models,” in Handbook
of Monetary Economics, Vol. 3A, B. Friedman and M. Woodford, eds., Elsevier.
  Woodford, M. (1990) “The Optimum Quantity of Money,” in Vol. 2 of Handbook of
Monetary Economics, 1067 - 1152. Elsevier.

                                           48
A      Computing Equilibria: Numerical Details
In this section, we describe computation of equilibria in our model. Essentially, equilibrium
characterization reduces to a single second-order differential equation for ϑ(η), which we refer
to as the “return equation,” but with a number of variables that have to satisfy a separate set
of equations, which we call “asset allocation” equations. In this appendix, we first describe
these equations without and with monetary policy, second, we break them down to simple
algebra, and last, we provide some essential details of numerics.
   Without Policy. Let us collect the asset allocation equations - for seven variables p, q,
ψ, x, xa , xb and χ, we have six equations from (2.9), (2.12), (2.13), (2.14), (2.15), (2.16) and
an additional 7th equation
                                            Ab (ψ) − Aa (ψ)
                                                              =                             (A.1)
                                                   qt
                                                                                   ϑ        
             b  b 2      b 2            b 2     a   a 2      a 2      b b   a a T   σ      K
 (1 − χt )xt (|νt | + (σ̃ ) ) + χt xt |νt | − xt (|νt | + (σ̃ ) ) + (σ 1 − σ 1 )        +σ     ,
                                                                                   1−ϑ
obtained by subtracting (2.10) from (2.11). These equations contain expressions that depend
on ϑ(η) and ϑ0 (η),

                                        σϑ                                              σϑ
          ν a = ψ(σ a 1a − σ b 1b ) −           and ν b = (1 − ψ)(σ b 1b − σ a 1a ) −        ,
                                    | 1{z− ϑ}                                         1 −
                                                                                    | {z } ϑ
                                     σ q −σ p                                         σ q −σ p


where, using Ito’s lemma and (2.17),

                   ϑ0 (η)                            σϑ
                                                            
                θ                      b b   a a             ϑ
               σ =        η x (1 − ψ)(σ 1 − σ 1 ) −       +σ                        ⇒
                   ϑ(η)                             1−ϑ
                           |                {z                 }
                                                         ση


                                 θ  ϑ0 (η) x(1 − ψ)(σ b 1b − σ a 1a )
                                σ =       η         0 (η)             .                          (A.2)
                                    ϑ(η)      1 + ϑϑ(η)   (ψχ − η)
                                            |           {z          }
                                                              ση

This expression captures endogenous risk, given the sensitivity of the price of money ϑ0 (η)/ϑ
relative to capital.
    We obtain a convenient return equation by adding (2.10) and (2.11) with weights 1 − ψ




                                                    49
and ψ, to obtain16

                          ρ = (1 − ηt )(xat )2 (|νta |2 + (σ̃ a )2 ) + ηt x2t |νtb |2 + µϑ − |σ ϑ |2 ,                    (A.3)

where we used the identity µϑ − |σ ϑ |2 = (1 − ϑ)(µp − µq + (σ q − σ p )σ p ). Equation (A.3)
determines µϑ , which we can use to find ϑ00 (η) using Ito’s lemma,

                                                 00    µϑ ϑ(η) − ϑ0 (η)µηt η
                                               ϑ (η) =                       .                                            (A.4)
                                                            η 2 |σ η |2 /2

This equation can be solved as a second-order ordinary differential equation using the “shoot-
ing method” - by starting at η0 ∼ 0 near the autarky solution (i.e. the solution without
intermediaries), and choosing an initial slope ϑ0 (η0 ) such that the resulting solution is non-
explosive and converges as η → 1.
    An alternative “iterative” method of finding the equilibrium involves a partial differential
equation in time, solved backwards from a terminal condition ϑ(η, T ). The iterative method
is attractive because it resembles the familiar discrete-time value function iteration, because
it readily extends to problems that contain a system of second-order differential equations for
several functions, and it avoids the analysis of explosive solutions that arise when employing
the shooting method.
    Adding the time dimension, using Ito’s lemma, we obtain

                                                                 η 2 |σ η |2
                              ϑt (η, t) + ϑη (η, t)µηt η +                   ϑηη (η, t) = µϑ ϑ(η, t),                     (A.5)
                                                                      2

   In this equation, the time derivative ϑt (η, t) is the key unknown, and we solve for ϑ(η, t)
through a parabolic equation backward time on [0, T ].
   With Monetary Policy. Here we describe what happens when only intermediaries hold
bonds (either because only they can hold bonds, or because households in sector b, whose
aggregate risk exposure is similar to but less than that of intermediaries, have lower need
  16
       We have
                               (1 − ψ)Aa (ψ) + ψAb (ψ) − ι
                                                           + µqt − µpt + (σtq − σtp )T σ K =
                                            q
                 ψ(1 − χt )((νtb )T σtN b + xbt (σ̃ b )2 ) + ψχt (νtb )T σtN + (1 − ψ)((νta )T σtN a + xat (σ̃ a )2 ) =
           ψ(1 − χt ) b 2 b 2                    ψχt 2 b 2 1 − ψ a 2 a 2
                     (xt ) (|νt | + (σ̃ b )2 ) +    x |ν | +     (xt ) (|νt | + (σ̃ a )2 ) + (σ q − σ p )T σtM
              xbt                                 xt t t     xat
Hence, using (2.9), (2.13), (2.14), (2.15) and (2.16), we obtain (A.3).


                                                                  50
for insurance than intermediaries).17
    With policy we are still solving a second-order “return equation” for ϑ(η) together with
a set of “asset allocation equations” for 7 additional variables, p, q, ψ, x, xa , xb and χ. Policy
affects the law of motion (5.5) of ηt , so we have

                                     ϑt bt B                                                       σϑ    bt
  σtη = xt νtb + σtϑ + (1 − ηt )           σ ,           where νtb = (1 − ψ)(σ b 1b − σ a 1a ) − t + σtB .
                                     η t pt t                                                    1 − ϑ pt
                                                                                               |      {z    }
                                                                                                                  b
                                                                                                        σ q −σ p + pt σtB
                                                                                                                      t



Hence,

                                                 ϑ0 (η)                    bt B 0 (η)
  σtη = xt (1 − ψt )(σ b 1b − σ a 1a ) −                (ψt χt − ηt )σ η +            (xt ηt + (1 − ηt )ϑt ) σ η            ⇒
                                                 ϑ(η)                      pt B(η)



                        xt (1 − ψt )(σ b 1b − σ a 1a )                                     ϑ0 (η) η             B 0 (η) η
 σtη =                                                                         ,   σtθ =         ησ ,   σtB =          ησ .
         1+   ϑ0 (η)
                     (ψt χt   − ηt ) −   bt B 0 (η)
                                                      (xt ηt + (1 − ηt )ϑt )               ϑ(η) t               B(η) t
              ϑ(η)                       pt B(η)


   Otherwise, equations (2.9) through (2.16) remain valid, except that σtM and σtN are now
given by the expressions

                                                      bt B
                       σtM = σtp + σtK −                σ       and σtN = xt νtb + xB  B    M
                                                                                    t σt + σt .                             (A.6)
                                                      pt t

Notice also that the form of σtM affects ν a = σ a 1a + σtq − σtM and ν b = σ b 1b + σtq − σtM .
Accounting for this, equations (A.1) and (A.3) have to be modified to


  Ab (ψt ) − Aa (ψt )
                      = (1 − χt )xbt (|νtb |2 + (σ̃ b )2 ) + χt (νtb )T (xt νtb + xB  B      a    a 2      a 2
                                                                                   t σt ) − xt (|νt | + (σ̃ ) )
           qt

                                                                     σtϑ
                                                                                           
                                           b b          a a T                   bt
                                   +(σ 1 − σ 1 )                         + σtK − σtB
                                                                    1−ϑ         pt
and

                                                                                  σtϑ
                                                                                     
                                           bt
                                ρ + (1 − ϑ) (σtB )T                  b    B B
                                                                 xt νt + xt σt −        =
                                           pt                                    1−ϑ
  17
    If households in sector b want to hold bonds as well, we have modify the procedure slightly to solve for
the households’ bond portfolios.

                                                                    51
              ηt xt (νtb )T (xt νtb + xB  B                a 2    a 2      a 2     ϑ     ϑ 2
                                       t σt ) + (1 − ηt )(xt ) (|νt | + (σ̃ ) ) + µt − |σt | ,

where we used the following expression for the expected return on money
                                                                                                        
                                                                          bt     1
       E[drtM ]/dt                       µpt       (σtp )T σtK                              B     B T M
                                                                 
                      = Φ(ι) − δ +             +                     dt −           − it + µt + (σt ) σt
                                                                          pt     Bt
                                                                               |            {z           }
                                                                                             (σtB )T σtN



    The Algebra of Asset Allocation Equations. Here we simplify the equations further
into a convenient numerical form. First, letting


             ϑ0 (η)      bt B 0 (η)                                             bt B 0 (η)        ϑ0 (η)
                                                                                                                  
    X1 = 1 −        ηt −            (1 − ηt )ϑt ,              X3 = ηt                     −                           ,
             ϑ(η)        pt B(η)                                                pt B(η)      ϑ(η)(1 − ϑ(η))

   we have
                                               (1 − ψt )xt b b
                                       σtη =                (σ 1 − σ a 1a ),
                                               X 1 − xt X 3
                                                                                                     (1 − ψ)X1
          νtb = y(σ b 1b − σ a 1a ),    νta = (y − 1)(σ b 1b − σ a 1a ) where y =                                 .
                                                                                                     X 1 − xt X 3
   Also, letting

                                 ϑ0 (η)      bt B 0 (η)              bt B 0 (η)
                        X2 = 1 −        ηt +            ηt ϑt = X1 +            ϑt ,
                                 ϑ(η)        pt B(η)                 pt B(η)

we have
                                                                 X2 b b
                                  xt νtb + xB   B
                                            t σ t = xt y            (σ 1 − σ a 1a ).
                                                                 X1
   Given these definitions, we can reduce the asset allocation equations to the following five
equations for z = (y, ψ, x, xb , xb /xa ).
                                                               2
                                                          xb
                                                      
            X1 (1 − ψ) = y(X1 − xX3 ),                               (y 2 σ 2 + σ̃b2 ) = ((y − 1)2 σ 2 + σ̃a2 ),
                                                          xa

                                  (1 − η)xb + xη              xb
                                                 − ψ − (1 − ψ) a = 0
                                      1−ϑ                     x




                                                           52
              −A0 (ψ) κρ + 1 − ϑ                  xb
                                                       
                                                                                            X2 2
                                 =        1 − χ̄ − a        xb (y 2 σ 2 + σ̃b2 ) + χ̄xy 2      σ + σb2 − yσ 2
            κA(ψ) + 1 1 − ϑ                       x                                         X1
            |        {z        }
                 Ab (ψ)−Aa (ψ)
                       q



                                                σ̃b2
                                                                   
                                           b           X1 (1 − ϑ)ψ χ̄
                          and     x = min x 1 + 2 2       ,             ,                                         (A.7)
                                               y σ     X2     η
where σ 2 = σa2 + σb2 . Notice that we have added variable y and removed q, p and χt from the
set described above. Denote this system by F (z) = 0.
    We can write this set of five equations as F1 (z) = 0 in the region where the equity issuance
constraint is binding, i.e. χt = χ̄, and F2 (z) = 0 in the region where χt < χ̄. If z solves
the equations approximately, then we can find a nearly exact solution using the Newton
method. That is, given z, compare values on the right-hand side of (A.7) to determine if
                                                                       −1
the equity issuance constraint is binding. If it binds, then z − ∂F ∂z
                                                                           F (z) approximates the
                                  ∗ 2           ∗
solution with error of O((z − z ) ), where z is the true solution. This procedure of solving
the system F (z) = 0 is useful when solving for ϑ(η) through the shooting method or the
iterative method, because once we have a solution at (η, t) we can use it to find the solution
at (η + , t) or at (η, t − ). Typically, one step of the Newton method is sufficient because
we consider the problem at a nearby point in space or time.
   The PDE for ϑ(η, t). Given the “allocation vector” z, the time derivative ϑt (η, t) can
be found from equation (A.5), where

                                                          X2
                                                                                            
             (1 − ψ)xσ
        η
      |σ | =           ,          η
                                 µ = (1 − η)        x2 y 2 22 σ 2       b 2    2 2
                                                                    − (x ) (y σ +      σ̃b2 )    + (1 − X2 )|σ η |2 ,
             X1 − xX3                                     X1


                                            ϑ    ϑ0 (η) η
                                          |σ | =       η|σ | and
                                                 ϑ(η)

                                           
           X2 − X 1                X2                X2
µϑt   = ρ+          η|σ | (1 − ϑ)xy σ − |σ | −ηx2 y 2 σ 2 −(1−η)(xb )2 (y 2 σ 2 + σ̃b2 )+|σ ϑ |2 .
                       η                  ϑ
              ϑ                    X1                X1

   For the purposes of numeric stability in (A.5) left derivative of ϑ(η) must be used if
µη < 0, and right derivative if µη > 0.
      Numerical Implementation. We solve the PDE (A.5) backwards in time using the

                                                         53
finite difference method, until convergence. For date T, we set ϑ at η = 0 according to the
autarky solution of (1) and at η = 1 according to the asymptotic solution realized when the
intermediary sector overwhelms the economy. We then interpolate ϑ linearly on a grid on
[0, 1]. We choose an unevenly-spaced grid of N + 1 points, with η(n) = 3n2 /N 2 − 2n3 /N 3 ,
for n = 0, . . . N. The spacing in this grid is on the order of min(η, 1 − η), i.e. spacing
becomes finer near 0 and 1 reflecting the decline in the equilibrium volatility of η towards
these endpoints.
     Once we have the grid η(n) and the terminal condition ϑ(η(n), t), we compute ϑt (η(n), t)
using (A.5) for each n. In order to do that, we need to compute z(η(n), t). For t = T, we
find z(η(n), T ) using one step of the Newton method from the guess z(η(n − 1), T ). The
initial solution z(η(0), T ) is the autarky solution of (1), with z = (1 − ψ, ψ, x, xb , xb /xa ),
with x = xb (1 + σ̃b2 /((1 − ψ)2 σ 2 )). For t < T, we find z(η(n), t) using one step of the Newton
method from the guess z(η(n), t + ).
     We solve the PDE using the Euler method, by setting ϑ(η(n), t − ) = ϑ(η(n), t) −
ϑt (η(n), t) for time step , which has to be chosen to be sufficiently small for the equation
to be stable. We do this for n = 1 . . . N − 1, keeping the endpoints n = 0, N fixed. As
mentioned earlier, the Euler method is not as precise as higher-order methods for solving
systems of ODEs, but it is transparent and easy to implement numerically. We chose the
Euler method because we are not looking for the precise time solution, but rather for the
stationary equilibrium - the fixed point at which all time derivatives are 0. For this goal, the
Euler method is as good as any other method.
     We need to evaluate derivatives of ϑ(η, t) with respect to η numerically to implement this
method. The left, right and centered derivatives of ϑ, and the second derivative, are given
by

                      ϑ(η(n), t) − ϑ(η(n − 1), t)                           ϑ(η(n + 1), t) − ϑ(η(n), t)
    ϑLη (η(n), t) =                               ,        ϑR
                                                            η (η(n), t) =                               ,
                          η(n) − η(n − 1)                                       η(n + 1) − η(n)

                  ϑR              L
                   η (η(n), t) + ϑη (η(n), t)                                   ϑR              L
                                                                                 η (η(n), t) − ϑη (η(n), t)
 ϑC
  η (η(n), t) =                               ,   and ϑηη (η(n), t) = 2                                     .
                               2                                                  η(n + 1) − η(n − 1)
We use centered derivative of ϑ to evaluate X1 , X2 and X3 , and appropriate directional
derivative in (A.5).




                                                      54
B     Proofs
Proof of Proposition 13. Consider the law of motion of net worth
                                            (
dnt                                             xat (νta )T ((xat νta + σtM ) dt + dZt ) + xat σ̃ a (xat σ̃ a dt + dZ̃t )
    = µnt dt+σtn dZt = drtM −ρdt+
nt                                              xbt (νtb )T ((xbt νtb + σtM ) dt + dZt ) + xbt σ̃ b (xbt σ̃ b dt + dZ̃t ),

depending on whether the household employs technology a or b.
    According to (3.6), the household gets the same utility from any choice over these two
technologies if and only if µnt − |σtn |2 /2 is the same for both technologies. For technology a,
this is

           E[drtM ]                                                       |xa ν a + σtM |2 + (xat σ̃ a )2
                    − ρ + (xat )2 (|νta | + (σ̃ a )2 ) + xat (νta )T σtM − t t                            =
             dt                                                                        2

                         E[drtM ]       (xa )2 (|νta | + (σ̃ a )2 ) − |σtM |2
                                  −ρ+ t                                       .
                           dt                            2
Equating this for technologies a and b, we obtain the indifference condition (2.13).

Lemma 1. Suppose that η = 0, i.e. there are no intermediaries. The equilibrium is charac-
terized by a single equation for the allocation ψ of capital to technology b

                          Aa (ψ) − Ab (ψ)   ρ   ρ
                                          = a − b + (1 − ψ)(σ a )2 − ψ(σ b )2 ,                                       (B.1)
                                 q         x   x

with the remaining quantities expressed as
             r                                                   r
       a                    ρ                           b                                  ρ
     x =                                        ,     x =                                                         ,   (B.2)
                 ψ ((σ ) + (σ b )2 ) + (σ̃ a )2
                  2   a 2                                            (1 −   ψ)2 ((σ a )2   + (σ b )2 ) + (σ̃ b )2

                                xa xb                ρq                                                ϑ
               1−ϑ=                                     = A(ψ) − ι(q)                and p =              q.          (B.3)
                          (1 − ψ)xb + ψxa           1−ϑ                                               1−ϑ
Household welfare in autarky is characterized by log(ρnt )/ρ + U H (0), where

                                         Φ(ι) − δ ψ 2 σB2 + (1 − ψ)2 σA2    1
                            U H (0) =            −                       −    .                                       (B.4)
                                            ρ2              2ρ2            2ρ



Proof. The aggregate risk of capital is σ K dZt = (1 − ψ)σ a 1a dZta + ψσ b 1b dZtb , incremental


                                                            55
aggregate risks from exposures to technologies a and b are

                    νta = ψ(1a σ a − 1b σ b ) dZt ,     νtb = (1 − ψ)(1b σ b − 1a σ a ) dZt ,

and the risk exposure of households in sectors a and b are

              xa νta dZt + σ K dZt + xa σ̃ a dZ̃t       and xb νtb dZt + σ K dZt + xb σ̃ b dZ̃t ,

respectively. Hence, household indifference condition is

     X ≡ (xa )2 (ψ 2 ((σ a )2 + (σ b )2 ) +(σ̃ a )2 ) = (xb )2 ((1 − ψ)2 ((σ a )2 + (σ b )2 ) +(σ̃ b )2 ).   (B.5)
                 |          {z         }                        |          {z              }
                            |νta |2                                          |νtb |2


The asset-pricing conditions for capital employed in sectors a and b are

                 Aa (ψ) − ι
                            = xa (|νta |2 + (σ̃ a )2 ) + ψ((1 − ψ)(σ a )2 − ψ(σ b )2 ) and
                     q

                 Ab (ψ) − ι
                            = xb (|νtb |2 + (σ̃ b )2 ) + (1 − ψ)(ψ(σ b )2 − (1 − ψ)(σ a )2 ).
                      q
Adding up these two equations with coefficients 1 − ψ and ψ, and using the market-clearing
condition for capital, we obtain
                                                     
                                  ρ          1−ψ    ψ
                                     =             + b X                ⇒    X = ρ.
                                 1−ϑ          xa    x
                                           |     {z   }
                                            1/(1−ϑ) by (2.16)


This, together with (B.5), implies (B.2).
    Equations in (B.3) follow from (2.16), market clearing condition for output and the
definition of ϑ.
    Finally, the difference between the asset-pricing conditions is

       Aa (ψ) − Ab (ψ)
                       = xa (|νta |2 + (σ̃ a )2 ) − xb (|νtb |2 + (σ̃ b )2 ) +(1 − ψ)(σ a )2 − ψ(σ b )2 .
              q          |          {z         } |             {z         }
                                        ρ/xa                     ρ/xb


This yields (B.1).




                                                         56
   To characterize household welfare, notice that by (4.3),

                                              Φ(ι) − δ ψ 2 σB2 + (1 − ψ)2 σA2
                                U R (ηt ) =           −                       ,
                                                 ρ2              2ρ2

since |σ K |2 = ψ 2 σB2 + (1 − ψ)2 σA2 . Furthermore, by (4.5), U H (ηt ) = U R (ηt ) − X/(2ρ2 ), which
implies (B.4).

Proof of Proposition 3. Notice that
                                        Z s                        Z s
                                                     |σsn0 |2
                                                                               
                                               n                  0       n
                            ns = nt exp       µs 0 −            ds +     σs0 dZt ,
                                          t            2              t


since Ito’s lemma implies that then process ns satisfies (3.5) as required.
    Hence,                                         Z s 
                                                                |σsn0 |2
                                                                              
                                                          n                  0
                   Et [log(ρns )] = log(ρnt ) + Et       µs 0 −            ds .
                                                     t            2
Integrating over [t, ∞) and discounting, we obtain
             ∞                                                       ∞             Z s
                                                                                              |σsn0 |2
        Z                                                   Z                                             
                 −ρ(s−t)                  log(ρnt )                      −ρ(s−t)        n                  0
   Et            e         log(ρns ) ds =           + Et                 e             µs 0 −            ds ds ,
         t                                   ρ                   t                  t           2

which yields (3.6) after changing the order of integration.

Proof of Proposition 5. Let us normalize K0 = 1. Consider an economy, in which households
are required to allocate fraction ϑ ∈ [0, 1) of their wealth to money. Then, from the market-
clearing condition for consumption goods, if Φ(ι) = log(κι + 1)/κ, then

                                                      (κĀ + 1)(1 − ϑ)                          log(q)
             Ā − ι(q) = ρ (p + q)           ⇒   q=                            and Φ(ι) =              .
                           | {z }                       κρ + 1 − ϑ                                κ
                               q/(1−ϑ)


   Then (3.7) implies that, given policy,

                                 µn = Φ(ι) − δ,       |σ n |2 = (1 − ϑ)2 σ̂ 2 + σ̄ 2 ,

hence welfare (3.6) is

log(ρ(p + q)) µn − |σ n |2 /2   log(ρ) + log(q/(1 − ϑ)) log(q)/κ − δ − (1 − ϑ)2 σ̂ 2 /2 − σ̄ 2 /2
             +                =                        +
      ρ            ρ2                      ρ                            ρ2


                                                         57
  log(ρ) δ + σ̄ 2 /2 κρ + 1                                                              log(1 − ϑ) (1 − ϑ)2 σ̂ 2
                                                                               
                                            log(κĀ + 1) log(κρ + 1 − ϑ)
=       −           +                                   −                            +             −
    ρ       ρ2         κρ                        ρ              ρ                           κρ2         2ρ2
  Let us show that welfare in the equilibrium with money is greater than in that without
                                              √
money. In the equilibrium with money 1 − ϑ = ρ/σ̂, so we need to show that

            κρ + 1         √         1     √       1    κρ + 1               σ̂ 2
       −           log(κρ + ρ/σ̂) +    log( ρ/σ̂) − ≥ −        log(κρ + 1) −                             ⇔
              κρ                    κρ             2      κρ                 2ρ

                           κρ + 1                        x2    κρ + 1               1
                       −          log(κρx + 1) + log x +    ≥−        log(κρ + 1) +                               (B.6)
                             κρ                          2       κρ                 2
              √
where x = σ̂/ ρ > 1. If we set x = 1, the two sides are equal. Differentiating the left-hand
side with respect to x we obtain

                                  1−x          1−x     1 − x + x2
                                           +x≥     +x=            > 0.
                                (κρx + 1)x      x          x

Hence (B.6) holds for all x > 1, i.e. the equilibrium with money is strictly better.
   Now, consider the optimal policy. Differentiating welfare with respect to ϑ we get

                                κρ + 1   1           1        (1 − ϑ)σ̂ 2
                                               −            +             =
                                 κρ2 κρ + 1 − ϑ κρ2 (1 − ϑ)       ρ2

                                  (1 − ϑ)σ̂ 2                                          (ϑ − 1)2 σ̂ 2
                                                                                                        
          1          ϑ                              1                        −ϑ
        −                       +       2
                                              =                                      +                       ,
          ρ (κρ + 1 − ϑ)(1 − ϑ)       ρ         ρ(1 − ϑ)                  κρ + 1 − ϑ       ρ
                                                                                      √
where the term in parentheses is increasing in ϑ. For the equilibrium level of ϑ = 1 − ρ/σ̂,
this term becomes             √                   √
                                ρ/σ̂ − 1         2 ρ/σ̂ − 1 + κρ
                                   √     +1=             √       ,
                             κρ + ρ/σ̂             κρ + ρ/σ̂
                         √
positive if and only if 2 ρ/σ̂ > 1 − κρ. Thus, the welfare-maximizing policy raises ϑ over
the equilibrium level if and only if condition (3.9) holds.

Proof of Proposition 6. By (3.6), the welfare of an agent who consumes ρKt , where Kt is
aggregate capital, is given by
               ∞                                                  ∞
                                                                                    Φ(ιs ) − δ |σsK |2
       Z                                                   Z                                                  
                   −ρ(s−t)                  log(ρKt )                 −ρ(s−t)
  Et               e         log(ρKs ) ds =           + Et            e                       −                  ds .
           t                                    ρ             t                         ρ        2ρ
                                                                                      (B.7)
Since we are dealing with an agent who consumes log(ρ(ps +qs )Ks ) = log(ρKs )+log(ps +qs ),


                                                       58
with net worth Nt = (pt + qt )Kt , the welfare of this agent can be found by adding
                                           Z       ∞                                 
                                                            −ρ(s−t)
                                       E                e             log(ps + qs ) ds
                                                t


to (B.7) and noting that log(ρKt )/ρ = log(ρnt )/ρ − log(pt + qt )/ρ. This implies that the
agent’s utility is log(ρnt )/ρ + U R (ηt ), with U R (ηt ) is given by (4.3).

Proof of Proposition 7. Since intermediary with net worth nIt = ηt (pt + qt )Kt consumes

                         log(ρηs (ps + qs )Ks ) = log(ηs ) + log(ρ(ps + qs )Ks ),

receiving the same utility flow as a representative household plus log(ηs ), we find the welfare
of an intermediary from (4.3) to be
                                                                          Z         ∞                            
                     log(ρ(pt + qt )Kt )                                                 −ρ(s−t)
                                         +U R (η) + Et                                   e          log(ηs ) ds .
                             ρ                                                   t
                     |      {z         }
                      log(ρnIt )/ρ−log(ηt )/ρ


Hence, we obtain the desired expression.
   To compute the welfare of households, notice that by Proposition 3, if two agents have
wealth processes

                        dnt                                                   dn0t      0        0
                            = µnt dt + σtn dZt                    and           0
                                                                                   = µnt dt + σtn dZt ,
                        nt                                                    nt

then the difference in their utility is
                                                        ∞                                                     0
        log(ρn0t ) − log(ρnt ) 1                                                                |σ n |2 − |σsn |2
                                            Z                                                                               
                                                                −ρ(s−t)          0
                              + Et                          e                 µns    −   µns   + s                        ds       (B.8)
                   ρ           ρ                    t                                                   2

   We can now obtain household utility by adjusting the utility of a representative agent.
Recall that households are indifferent between technologies a and b, so we can focus on
households who use technology a without loss of generality. According to (2.19), world
wealth follows

    dnt
        = drtM − ρ dt − (σtϑ )T (σtM dt + dZt ) + ηt x2t |νtb |2 dt + (1 − ηt )(xat )2 (|νta |2 + σ̃a2 ) dt,
    nt




                                                                    59
while the net worth of a household that uses technology a follows

                dnH
                  t
                  H
                    = drtM − ρ dt + xat ((νta )T (σtN a dt + dZt ) + xat σ̃a2 dt + σ̃a dZ̃t )                      (B.9)
                nt                  |                         {z                           }
                                                xa    a T   M                       a 2    a 2    2
                                                 t ((νt ) (σt dt+dZt )+σ̃a dZ̃t )+(xt ) (|νt | +σ̃a ) dt



Hence,

                    H
                 µnt − µnt = ηt ((xat )2 (|νta |2 + σ̃a2 ) − x2t |νtb |2 ) + (xat νta + σtϑ )T σtM ,

                               H
                |σsn |2 − |σsn |2  |σ M − σtϑ |2 − |σtM + xat νta |2 − (xat )2 σ̃a2
                                  = t                                                            and so
                         2                              2


                               H
     H           |σsn |2 − |σsn |2                                                  |σ ϑ |2 − (xat )2 (|νta |2 + σ̃a2 )
  µnt − µnt +                      = ηt ((xat )2 (|νta |2 + σ̃a2 ) − x2t |νtb |2 ) + t
                          2                                                                         2

   Thus, using (4.3) and (B.8) to value the welfare of households, we obtain the desired
expression.

Proof of Proposition 9. Money has risk σtM = σtK + σtp − bt /pt σtB . Effectively, risk bt /pt σtB is
subtracted from money and is allowed to be traded separately, carrying the risk premium of
bt /pt (σtB )T σtN , since it is the intermediaries that hold bonds. The net worth of intermediaries
follows

         dNt                                                                   bt
             = drtM − ρ dt + (xt νtb + xB  B T   N                    B
                                        t σt ) (σt dt + dZt ), where xt =               .
         Nt                                                               ηt (pt + qt )

World wealth follows


    d((qt + pt )Kt )
                     = drtM − ρ dt − (σtϑ )T (σtM dt + dZt ) + ηt (xB σ B )T (σtN dt + dZt )                      (B.10)
     (qt + pt )Kt                                              | t t         {z           }
                                                                                bonds in the world portfolio



          +ηt xt (νtb )T (xt νtb +          xB   σB )          dt + (1 − ηt )(xat )2 (|νta |2 + (σ̃ a )2 ) dt,
                                            | t {zt }
                                     risk premium adjustment

where we adjusted equation (2.19) for the presence of bonds in the world portfolio, as well
as for the effect of bonds on the risk premium demanded by intermediaries.


                                                          60
   Therefore, using Ito’s lemma,

                     dηt
                         = (1 − ηt )(|xt νtb + xB  B 2     a 2    a 2      a 2
                                                t σt | − (xt ) (|νt | + (σ̃ ) )) dt+
                      ηt

                      (xt νtb + σtϑ + (1 − ηt )xB  B T          θ       B B
                                                t σt ) (dZt + (σt − ηt xt σt ) dt).




Proposition 14. The relationship between the policy (it , bt ) and bond prices as well as the
risk transfer process (bt /pt )σtB is given by the equation

                                       1
                                         − i t + µB     B T M      B T N
                                                  t + (σt ) σt = (σt ) σt                              (B.11)
                                      Bt
                                      |           {z          }
                                             E[drtB −drtM ]/dt




Proof. Since the equilibrium excess return on bonds over money is given by (5.3), it remains
to be shown that the left-hand side of (B.11) is this excess return. Denote by p̂t the law
of motion of the real value of money given by dp̂t /p̂t = rtM dt − it dt. Then the real capital
gains rate on bonds is given by d(Bt p̂t )/(Bt p̂t ). Hence, using Ito’s lemma, the total return
on bonds is

                    1                d(Bt p̂t )   1                             dp̂t
       drtB =          dt        +              =    dt + µB        B T M
                                                           t dt + (σt ) σt dt +      + (σtB )T dZt .
                   Bt                 Bt p̂t      Bt                             p̂t
                   | {z }
                dividend yield


It follows immediately that the excess return on bonds over money is given by (B.11).


Proof of Proposition 11. Equation (5.9) follows directly from Ito’s lemma. Let us justify the
remaining six equations.
   Relative to money, capital devoted to the production of good a earns the return of

                             Aa (ψt ) − ιt
            drta − drtM =                  dt + (µqt − µpt ) dt + (σ a 1a − σtK )T dZt + σ̃ a dZ̃t .
                                  qt

Likewise,

                             Ab (ψt ) − ιt
            drtb − drtM =                  dt + (µqt − µpt ) dt + (σ b 1b − σtK )T dZt + σ̃ b dZ̃t .
                                  qt

                                                            61
    Fraction χ̄ of the risk of good b is borne by intermediaries, who are exposed to aggregate
risk σtK , and fraction 1 − χ̄, by households, who are exposed to aggregate risk σtK and
idiosyncratic risk xbt σ̃ b . Thus,

                 Ab (ψt ) − ιt
                               + µqt − µpt = (σ b 1b − σ K )T σ K + (1 − χ̄) xbt (σ̃ b )2 ,           (B.12)
                      qt

where (σ b 1b − σ K )T σ K is the risk premium for aggregate risk of this investment, and (1 −
χ̄) xbt (σ̃ b )2 is the price of idiosyncratic risk. For good a,

                      Aa (ψt ) − ιt
                                    + µqt − µpt = (σ a 1a − σ K )T σ K + xat (σ̃ a )2 .               (B.13)
                           qt

Now, to the six equations. Since any investment in capital includes a hedge for the aggregate
risk component, νta = νtb = 0 including this hedge, so the indifference condition of households
(2.13) becomes, one,
                                                                 xbt   σ̃ a
                           (xat )2 (σ̃ a )2 = (xbt )2 (σ̃ b )2 ⇔     =      ,            (B.14)
                                                                 xat   σ̃ b
and the law of motion of ηt is, two,

                                     dηt
                                         = −(1 − ηt )(xat )2 (σ̃ a )2 dt,                             (B.15)
                                      ηt

From (2.16), we have, three,

      (1 − χ̄)ψt 1 − ψt   1 − ηt                                                σ̃ a      1 − ηt
           b
                +   a
                        =                     ⇒      (1 − χ̄)ψt + (1 − ψt )        b
                                                                                     = xb        .    (B.16)
          xt       xt     1 − ϑt                                                σ̃        1 − ϑt

   Subtracting (B.13) from (B.12), we get, four,

              Ab (ψt ) − Aa (ψt )
                                  = (σ b 1b − σ a 1a )T σ K + (1 − χ̄)xbt (σ̃ b )2 − xat (σ̃ a )2 .   (B.17)
                       qt

The market-clearing condition for consumption goods is, five,

                                                                ρqt
                                         A(ψt ) − ι(qt ) =           .
                                                              1 − ϑt

Finally, taking a weighted average of (B.12) and (B.13), with weights ψ and 1 − ψ, and using




                                                      62
(B.14) to eliminate xat on the right-hand side, we have

                                                                       σ̃ a
                                                                           
                       A(ψ) − ιt
                                 +µqt − µpt =       (1 − χ̄)ψ + (1 − ψ) b xbt (σ̃ b )2 .
                          q                                            σ̃
                       | {zt }
                         ρ/(1−ϑt )


This, in combination with (B.16), and the identity µϑt = (1 − ϑt )(µpt − µqt ) − σ ϑ σ p + (σ ϑ )2 ,
leads to the last equation, (5.10), six.

Proof of Proposition 12. The derivation of intermediary welfare remains unchanged from the
proof of Proposition 7. For households, we use equation (B.8), but take into account that
the law of motion of world wealth becomes modified to

                          dnt
                              = drtM − ρ dt + (ηt xB  B    ϑ T   M
                                                   t σt − σt ) (σt dt + dZt )
                          nt

                        +ηt |xt νtb + xB  B 2                 a 2    a 2      a 2
                                       t σt | dt + (1 − ηt )(xt ) (|νt | + (σ̃ ) ) dt,

as in (B.10). The law of motion of household net worth (B.9) remains unchanged. Combining
these, we obtain
                          H
   H      |σ n |2   − |σsn |2                                                     |ηt xB  B    ϑ 2     a 2    a 2     2
                                                                                       t σt − σt | − (xt ) (|νt | + σ̃a )
µnt −µnt + s                  = ηt ((xat )2 (|νta |2 +σ̃a2 )−|xt νtb +xB σ
                                                                       t t
                                                                           B 2
                                                                            |  )+                                         .
                     2                                                                              2

Hence, using (B.8), we obtain the desired expression for household welfare.




C      “As If ” Representative Agent Model
Salient features of the various equilibria discussed above can also be achieved through closely
related representative agent economies. Suppose the representative agent is endowed with
                     R1
initial capital K0 ≡ 0 k0i di and that he faces technology-specific, but no purely idiosyncratic
risk. Let us furthermore assume that this representative agent also has log preferences, but
now with discount factor ρ̃. For now, suppose that he can only invest in technologies a and
b (no money is available). In that case his portfolio problem is simple: He will consume a
constant fraction ρ̃ of his wealth, he will invest equal fractions of his capital at each instant




                                                        63
in technologies a and b, and the price of capital will be time-invariant and satisfy

                                                κĀ + 1
                                         qR =
                                                κρ̃ + 1

    For ρ̃ = ρ we exactly recover the no-money equilibrium above, with the sole difference
that welfare of the representative households exceeds welfare of the atomistic households
above (since the representative household need not bear any idiosyncratic risk). It is also in-
                                     √
structive to consider the case ρ̃ = ρσ̂. In that case, the equilibrium with the representative
agent is, as far as real quantities and the price of capital are concerned, exactly the same as
the money equilibrium above. Notice that q R is equal to the price of capital in the economy
with money and discount rate ρ, hence investment rate is the same in both economies. Since
ρ̃ > ρ, we see that the money equilibrium effectively amounts to an decrease in patience. De-
spite the similarity in the investment rate, the welfare is again different in the two economies.

    Finally, it is interesting to consider the question of whether money can have value in a
representative agent economy. Evidently, the answer is no – an asset that never generates
any real payoff cannot be held in positive quantities forever without violating the investor’s
transversality condition. However, let us for the moment assume that the transversality
condition is allowed to be violated. In that case, as long as the representative household has
no purely idiosyncratic risk, there still could be no equilibrium with constant p, q  0, for
money would be a strictly dominated asset. We could of course deal with strict dominance by
re-introducing idiosyncratic risk, but then the aggregate law of motion for capital would be
different (since now idiosyncratic cannot cancel in the aggregate). Only if the representative
agent would perceive the threat of idiosyncratic risk at every period, but without this risk
every materializing, would we recover allocations and prices from the money equilibrium
above – and all of course subject to the proviso of ignoring the representative household’s
transversality condition.




                                                64
