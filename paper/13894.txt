                               NBER WORKING PAPER SERIES




                            PERSISTENT PRIVATE INFORMATION

                                           Noah Williams

                                       Working Paper 13894
                               http://www.nber.org/papers/w13894


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                     March 2008




I thank Dilip Abreu, Narayana Kocherlakota, Chris Sleet, and Ted Temzelides for helpful comments.
Financial support from the National Science Foundation is gratefully acknowledged. The views expressed
herein are those of the author(s) and do not necessarily reflect the views of the National Bureau of
Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2008 by Noah Williams. All rights reserved. Short sections of text, not to exceed two paragraphs,
may be quoted without explicit permission provided that full credit, including © notice, is given to
the source.
Persistent Private Information
Noah Williams
NBER Working Paper No. 13894
March 2008
JEL No. D82,D86,E21

                                              ABSTRACT

This paper studies the design of optimal contracts in dynamic environments where agents have private
information that is persistent. In particular, I focus on a continuous time version of a benchmark insurance
problem where a risk averse agent would like to borrow from a risk neutral lender to stabilize his income
stream. The income stream is private information to the borrower and is persistent. I find that the
optimal contract conditions on the agent's reported endowment as well as two additional state variables:
the agent's utility and marginal utility under the contract. I show how persistence alters the nature
of the contract, and consider an exponential utility example which can be solved in closed form. Unlike
the previous discrete time models with i.i.d. private information, the agent's consumption under the
contract may grow over time. Furthermore, in my setting the efficiency losses due to private information
increase with the persistence of the endowment, and the distortions vanish as I approximate an i.i.d.
endowment.


Noah Williams
Department of Economics
001 Fisher Hall
Princeton University
Princeton, NJ 08544-1921
and NBER
noahw@princeton.edu
                  Persistent Private Information
                                         Noah Williams*
                          Department of Economics, Princeton University
                                 E-mail: noahw@princeton.edu
                                      Revised January 26, 2008


            This paper studies the design of optimal contracts in dynamic environments
        where agents have private information that is persistent. In particular, I focus on
        a continuous time version of a benchmark insurance problem where a risk averse
        agent would like to borrow from a risk neutral lender to stabilize his income stream.
        The income stream is private information to the borrower and is persistent. I find
        that the optimal contract conditions on the agent’s reported endowment as well as
        two additional state variables: the agent’s utility and marginal utility under the
        contract. I show how persistence alters the nature of the contract, and consider an
        exponential utility example which can be solved in closed form. Unlike the previous
        discrete time models with i.i.d. private information, the agent’s consumption under
        the contract may grow over time. Furthermore, in my setting the efficiency losses
        due to private information increase with the persistence of the endowment, and the
        distortions vanish as I approximate an i.i.d. endowment.



                                    1. INTRODUCTION
    Private information is an important component of many economic environments,
and in many cases that information is persistent. Incomes of individuals from one
period to the next are highly correlated, and can be difficult for an outsider to ver-
ify. Similarly, a worker’s skill at performing a task, a manager’s ability in leading a
firm, and a firm’s efficiency in producing goods are all likely to be highly persistent,
and contain at least some element of private information. While models of private
information have become widespread in may areas of economics, with very few excep-
tions previous research has focused on situations where the private information has no
persistence. But estimates suggest that idiosyncratic income streams and individual
skills, which likely have large private information components, are highly persistent.1
In this paper I analyze a benchmark model with persistent private information. In
particular, I focus on a continuous time version of an insurance problem similar to
Green (1987) and Thomas and Worrall (1990), where a risk averse agent would like to
borrow from a risk neutral lender to stabilize his income stream. The income stream
is private information to the borrower and is persistent.
    By casting the model in continuous time, I am able to use powerful tools from
stochastic control. In particular, I adapt the methods developed in Williams (2006)
for hidden action problems to handle models with private information. I employ the
  * I thank Dilip Abreu, Narayana Kocherlakota, Chris Sleet, and Ted Temzelides for helpful comments.
Financial support from the National Science Foundation is gratefully acknowledged.
  1
    See for example Storesletten, Telmer, and Yaron (2004) and Meghir and Pistaferri (2004).
                                                  1
2                                           NOAH WILLIAMS


revelation principle to cast the problem in terms of providing incentives for truthful
reporting. In particular, I apply a stochastic maximum principle due to Bismut (1973)-
(1978) to derive the agent’s optimality conditions facing a given contract, which in turn
provide conditions that an incentive compatible contract must satisfy. I show that
such contracts must be history dependent, but this dependence is encapsulated in two
endogenous state variables: the agent’s promised utility and promised marginal utility
under the contract.2 The promised marginal utility state reflects the persistence of the
private information, and as this persistence vanishes this state is no longer necessary.
    I first lay out a relatively general version of the model with a concave utility function
where the endowment follows a (weakly) mean reverting diffusion process. At this level
of generality, I obtain some partial results characterizing optimal contracts, which
suggest some differences with the previous discrete time i.i.d. models in the literature.
Then I turn to a class of examples with exponential preferences and a linear endowment
process where the optimal contract can be determined explicitly. There I find that
there are indeed some sharp differences between my results and those in the literature.
    In particular, Rogerson (1985a) and Golosov, Kocherlakota, and Tsyvinski (2003)
have shown in discrete time that an “inverse Euler equation” governs consumption
dynamics in private information models. Technically, this implies that the inverse
of the agent’s marginal utility of consumption is a martingale. Closely related are
the “immiserization” results of Thomas and Worrall (1990) and Atkeson and Lucas
(1992) which imply that the agent’s promised utility tends to minus infinity under
the optimal contract. In my examples these results fail – the agent’s promised utility
follows a martingale and consumption has a positive drift under the optimal contract.
    As I discuss in more detail below, these differences rely at least partly on the nature
of the shocks, but also on differences in the environments. In the discrete time version
of my model, when deciding what to report in the current period given a contract, the
agent trades off the current consumption he would get after making his report with the
promised future utility following the report. In my continuous time formulation, the
agent’s endowment follows a process with continuous paths, and the principal knows
this. Thus in the current period the agent only influences the future increments of
the reported endowment.3 Thus in effect current consumption is independent of the
current report, and all that matters for the reporting choice is how future promised
utility evolves under the contract. As the reporting problem and hence the incentive
constraints become fully forward-looking, optimal allocations no longer involve the
balance of current and future distortions which the inverse Euler equation embodies.
    My examples also highlight the relationship between the persistence of the pri-
vate information and the magnitude of the distortions this information causes. The
largest distortions occur when the endowment is permanent, following a Brownian
    2
    The use of promised utility as a state variable is now well known following the work of Abreu, Pearce,
and Stacchetti (1986)-(1990) and Spear and Srivastrava (1987). It used by Green (1987) and Thomas and
Worrall (1990) in settings like mine. Similar marginal utility states have been used by Kydland and Prescott
(1980) and in related contexts by Werning (2001), Abraham and Pavoni (2003), and Kapicka (2006), as well
as my earlier paper Williams (2006).
  3
    As discussed below, this is a requirement of absolute continuity. If the agent were to report a process
which jumped discretely at any instant, the principal would be able to detect that his report was a lie.
                                 PERSISTENT PRIVATE INFORMATION                                                 3

motion with drift. In this case the contract entails no risk sharing, consisting only
of a deterministic transfer which changes the time profile of the agent’s consumption.
However as information becomes less persistent, risk sharing increases and the agent’s
consumption becomes more stable. In particular in the i.i.d. limit I obtain efficiency
and complete stabilization of consumption. This result differs from the discrete time
i.i.d. models in the literature, which clearly have nonzero distortions. However as I
argue below, when the period length shrinks the distortions shrink as well, and thus
the existing results are consistent with my findings.
    Besides my own previous work, the closest paper in terms of technique is DeMarzo
and Sannikov (2006), who also study a continuous time hidden information problem.
My conversion of the reporting problem to a hidden action problem follows their
analysis. However they focus on the case where agents are risk neutral and there is
no persistence in information. My paper is more general along these dimensions. One
particular difference is that given the risk neutrality they are able to define cash flows,
their source of private information, as increments of a Brownian motion with constant
drift.4 Thus private information in their case is i.i.d. However in my environment it is
more natural, and more consistent with the continuous time asset pricing literature, to
define the endowment as the level of a diffusion process. As all diffusions are persistent,
private information is always persistent in my environment.5
    In addition, there are a few recent papers which study models with persistent pri-
vate information. In a discrete time setting, Battaglini (2005) and Tchistyi (2006)
characterize contracts between risk neutral agents when the unobserved types switch
according to a Markov chain. Their results rely heavily on risk neutrality, and thus
do not extend to the classic insurance issues which I address here. In their analysis of
disability insurance, Golosov and Tsyvinski (2006) study a particularly simple form of
persistent information, where the type enters an absorbing state. Again, their results
heavily exploit this particular structure. More closely related to the present paper,
Zhang (2007) studies a continuous time hidden information model with two types that
switch according to a continuous time Markov chain. His model is a continuous time
version of Fernandes and Phelan (2000), who consider a relatively general approach for
dealing with history dependence in dynamic contracting models. Both Zhang (2007)
and Fernandes and Phelan (2000) allow for persistence in the hidden information, at
the cost of a state space which grows with the number of types. In contrast, my
approach deals with a continuum of types, and as discussed above requires two en-
dogenous state variables. This is achieved by exploiting the continuity of the problem
to introduce a state variable which captures the shadow value (in marginal utility
terms) of the hidden information. Thus my approach is analogous to a first-order
approach to contracting.6 Kapicka (2006) considers a related first-order approach in

   4
     Biais, Mariotti, Plantin, and Rochet (2007) study a closely related discrete time model and its continuous
time limit.
   5
     As I discuss in section 2.2 below, the i.i.d. case can be approximated by considering a limit of a mean
reverting process as the speed of mean reversion goes to infinity. In section 6.3.3 I also discuss the implications
of whether the endowment is the level or the increment of a diffusion process.
   6
     See Williams (2006) for more discussion of the first-order approach to contracting in continuous time.
4                                    NOAH WILLIAMS


a discrete time model. He exploits some smoothness conditions to replace a promised
utility function with its level and derivative. Assuming (but not proving) the validity
of the first-order approach, he presents some numerical results with permanent private
information which are broadly similar to one of my examples below.
    The persistence of private information gives the contracting problem an adverse se-
lection component as well. In a continuous time setting, Sannikov (2006) and Cvitanić
and Zhang (2006) study contracting problems with adverse selection. Both focus on
cases where there are two possible fixed types of agents, and apart from the agent’s
type there is no persistence in private information. Sannikov (2006) focuses on the risk
neutral case and shows how the optimal contract can be implemented by an increasing
credit line. Cvitanić and Zhang (2006) consider a somewhat more general model with
risk averse agents, but focus on risk neutral examples. While I do not emphasize the
screening component of contracts, one could apply methods similar to those I use here
to extend their papers to allow the agents’ types to vary over time.
    The rest of the paper is organized as follows. The next section describes the model
and discusses a key change of variables which is crucial in analyzing it. Section 3
then analyzes the agent’s problem of choosing his endowment report when facing a
given contract, deriving necessary optimality conditions. Our two endogenous state
variables arise naturally here. Section 4 characterizes truthful reporting contracts,
deriving necessary conditions they must satisfy and presenting sufficient conditions
for a contract to insure truthful revelation. The sufficient conditions are easy to check
but are a bit stringent, so in many situations to be sure that the contract is indeed valid
one must re-pose the agent’s problem facing the contract. In section 5 we present a
general approach to solve for optimal contracts, and discuss how consumption evolves
under the contract. Unlike the discrete time case, utility need not decline over time in
our environment. Then in section 6 we consider a class of exponential utility examples
where the optimal contract can be determined in closed-form. This allows us to show
how persistence matters for the contract, and we contrast our results with some of the
others in the literature. Finally section 7 offers some brief concluding remarks.

                                    2. THE MODEL
                                     2.1. Overview
    In this section I lay out the model, which is essentially a continuous time version of
Thomas and Worrall (1990) with a continuous endowment process. The model consists
of a risk averse agent who has a privately observable income stream, and he would
like to borrow from a risk-neutral lender to stabilize his income. If the lender could
observe the endowment stream, then he would absorb the risk and the fully stabilize
the agent’s consumption. However with the endowment being the private information
of the agent, the principal must rely on the agent’s reports of his income, and the
agent would have an incentive to lie and report that his income is lower than it really
is. Thus the key problem is to design an optimal lending contract which provides the
agent the incentive to truthfully report his income. Relative to Thomas and Worrall
                                 PERSISTENT PRIVATE INFORMATION                                                 5

(1990) and the subsequent literature, the key innovation in my analysis is to allow for
persistence in the agent’s endowment process.
                                     2.2. Basic Layout
   I start by considering a finite horizon [0, T ], and later let T → ∞. I follow the
convention of using a plain letter to denote a whole path of a variable, thus for in-
stance b = (bt )Tt=0 . It will be convenient in what follows to work with specifications in
which the agent’s endowment is either stationary in levels or in logs. Thus denoting
the agent’s endowment as B, I will work with the transformation b = f (B) which I
assume is increasing, smooth, invertible, and has a smooth inverse. In my examples
below, I focus on the case when f (x) = x, but another natural case is f (x) = log x.
As a simplification but slight abuse of terminology, I will refer to b as the endow-
ment process. I suppose that it is given by a Markov diffusion process defined on a
probability space with a Brownian motion W , which evolves as:

                                          dbt = µ(bt )dt + σdWt .

For simplicity, I assume that σ > 0 is a constant, and that µ : R → R is twice
continuously differentiable. If µ is constant, then the endowment process has i.i.d.
increments, but clearly the level of the endowment is always persistent.7 I focus
on the (weakly) stationary case, where µ is (weakly) decreasing and concave, thus
µ0 ≤ 0, µ00 ≤ 0. Thus with µ0 = 0 an innovation to the endowment has a permanent
effect, while with µ0 < 0 the process is persistent but the effects of innovations die off.
    As my leading example, I suppose that the drift of endowment process is affine:

                                               µ(b) = µ0 − λb.

With λ = 0 we thus have a Brownian motion with drift, and increments to the endow-
ment are i.i.d. and innovations have permanent effects. On the other hand with λ > 0
we have an Ornstein-Uhlenbeck process (see Karatzas and Shreve (1991)). This is a
continuous-time version of a stationary Gausssian autoregressive process, having the
following properties:
                                             µ0 ³        µ0 ´ −λt
                          E(bt |b0 = c) =        + c−         e
                                             λ             λ
                                             σ 2 ¡ −λ|s−t|            ¢
                      Cov(bt , bs |b0 = c) =      e        − e−λ(s+t)
                                             2λ
Thus µ0 /λ gives the unconditional mean of the process, while λ governs the rate
of mean reversion and hence the persistence of the process. As mentioned above, the
endowment
      √    process cannot be i.i.d., but we can approximate an i.i.d. process by setting
σ = σ̄ λ and µ0 = µ̄λ for some σ̄, µ̄ > 0 and letting λ → ∞. The limit is an i.i.d.
normal process with mean µ̄ and variance σ̄ 2 /2.
  7
   As noted above, if we were to follow DeMarzo and Sannikov (2006) bt would be the cumulative endowment
process, and hence i.i.d. increments would correspond to an i.i.d. endowment. However apart from the risk
neutral case which they consider, it is not clear how to define utility over the increments of a diffusion process.
6                                            NOAH WILLIAMS


   The key issue in this model, of course, is that the agent alone observes bt , while the
principal only observes the agent’s report of it, which I denote yt . To simplify matters,
I assume that the agent must deposit a portion of his endowment in an account which
the principal observes. The good is non-storable and the agent cannot manufacture
additional endowments, so we must have yt ≤ bt . Thus the deposit (or report) is a
verifiable statement of at least part of the realized endowment.8 Note that the agent’s
information can be summarized by the paths of W , which induce Wiener measure
on the space C[0, T ] of continuous functions of time. Note that the agent’s reporting
strategy is thus a predictable mapping y : C[0, T ] → C[0, T ]. Denote this mapping
y(ω) and its time t component yt (ω) which is measurable with respect to Bt , the Borel
σ-algebra of C[0, T ] generated by ωt = {Ws : t ≤ t}.
   The principal observes y only, and thus his information at date t can be represented
via Yt , the Borel σ-algebra of C[0, T ] generated by y|t = {ys : s ≤ t}. I assume that the
endowment process is initialized at a publicly known value b0 , and that the principal
knows the process which the agent’s endowment follows (i.e. he knows the function µ
and the constant σ), but he does not observe the realizations of it. However since the
principal obtains continuous reports from the agent, the agent is not free to choose
an arbitrary reporting strategy. In particular, based on the reports the principal can
construct a process Wty which evolves as:
                                                      dyt − µ(yt )dt
                                         dWty =                      .
                                                            σ
Under a truthful reporting strategy yt = bt , clearly we have Wty = Wt . Thus the agent
is restricted to reporting strategies which insure that Wty is a Brownian motion with
respect to the principal’s information set. If he were to choose a reporting strategy
which did not make Wty a Brownian motion, say for instance he reported a constant
endowment for a strictly positive length of time (which has probability zero), then the
principal would detect this lie and would be able punish him.
    Formally, the agent’s report y must be absolutely continuous with respect to his
endowment b. Hence the via the Girsanov theorem and related results (see Chapters
6 and 7 of Liptser and Shiryaev (2000), for example), this means that the agent’s
reporting process is equal to the true endowment process plus a drift:
                                            dyt = dbt + ∆t dt,
where ∆t is a process adapted to the agent’s information set. Since the agent can
report (or deposit) at most his entire endowment, we must have ∆t ≤ 0. Integrating
this evolution, and using that y0 = b0 , we see that the report of the endowment process
is equal to the truth plus the cumulative lies:
                                         Z t
                             yt = bt +       ∆s ds ≡ bt + mt ,
                                                  0
    8
   Restricting reports to be less than or equal to the actual realization facilitates analyzing the incentive
constraints. Removing this restriction at the outset is bit difficult due to the linearity of agent’s reporting
problem. In the previous discrete time models, such a restriction would not bind.
                          PERSISTENT PRIVATE INFORMATION                               7

where we define mt ≤ 0 as the “stock of lies”. With this notation, we can then write
the evolution of the agent’s reporting and lying processes as:

                          dyt = [µ(yt − mt ) + ∆t ]dt + σdWt ,                       (1)
                         dmt = ∆t dt,                                                (2)

with y0 = b0 and m0 = 0. The principal observes yt but cannot separate ∆t from
Wt , and thus cannot tell whether a low report was due to a lie or a poor endowment
realization. Moreover, the stock of lies mt is a hidden state which is unobservable to
the principal, but influences the evolution of the observable report state.
   In our environment, a contract is specification of payments from the principal to
the agent conditional on the agent’s reports. We assume that the principal makes
payments to the agent throughout the period s : C[0, T ] → C[0, T ] which are adapted
to his information {Yt }, as well as a terminal payment ST : C[0, T ] → R adapted to
YT . Note that this is a very general representation, allowing almost arbitrary history
dependence in the contract. We will study the choice of the optimal contract s by the
principal, finding a convenient representation of the report history.
                           2.3. A Change of Variables
   Recall that our baseline process b is the transformed endowment process, and let g
denote the inverse of that transformation: B = g(b). As noted above, in the examples
below we focus on the case g(x) = x, but a convenient alternative is g(x) = exp(x).
Note that for an arbitrary contract, the agent’s consumption at date t is simply his
endowment plus his payment from the principal:

                        ct = g(bt ) + st (y) = g(yt − mt ) + st (y).                 (3)

As the payment is history dependent, the agent’s consumption in general depends on
the whole past history of reports. This makes direct analysis of the agent’s report-
ing problem difficult, as standard dynamic programming methods are not applicable.
However as in Williams (2006), I follow Bismut (1978) and make the problem tractable
by taking the key state variable to be the density of the reporting process instead of
the reporting process directly. In particular, the state variable is the relative density
Γt (y) for the change of measure associated with different reporting policies. As I show
in Williams (2006), it evolves as:
                                    Γt
                            dΓt =      [µ(yt − mt ) + ∆t ]dWt0 ,                     (4)
                                    σ
with Γ0 = 1. Here Wt0 is a Wiener process under the measure P 0 on C[0, T ], and is
interpretable as the agent reporting that his endowment is a martingale. Alternative
reporting strategies change the distribution of outcomes. Thus for each report y we
can define a new measure P (y) via dP  (y)
                                     dP 0
                                           = ΓT (y), and the process
                                      Z t
                            y     0        µ(ys − ms ) + ∆s
                         Wt = Wt −                          ds                   (5)
                                         0         σ
8                                   NOAH WILLIAMS


is a Brownian motion under P (y).
    The covariation between reports and the stock of lies is a key factor in the model.
Thus is it also useful to take zt = Γt mt as the relevant hidden state variable. Simple
calculations show that the evolution of this scaled variable is given by:
                                        zt
                        dzt = Γt ∆t dt + [µ(yt − mt ) + ∆t ]dWt0                    (6)
                                        σ
with z0 = 0. As I show below, this transformation of variables simplifies the analysis
by encapsulating the history dependence in a convenient way.

                 3. THE AGENT’S REPORTING PROBLEM
   In this section I derive optimality conditions for the agent facing a given contract.
The agent’s preferences take a standard time additive form, with a smooth concave flow
utility u and terminal utility U defined over consumption and the terminal payment,
respectively. I suppose that the agent has the option at date zero of rejecting a
contract and remaining in autarky. This gives a participation constraint that the
utility the agent achieves under the contract must be greater than his utility under
autarky, denoted V a (b0 ). However after date zero, both the parties are committed to
the contract and cannot leave it.
   The agent’s preferences for an arbitrary reporting strategy {∆t } can be written:
               ·Z T                                                              ¸
                      −ρt                              −ρT
V (y; s) = Ey        e u (g(yt − mt ) + st (y)) dt + e U (g(yT − mT ) + ST (y))
                  0
               ·Z T                                                                  ¸
                      −ρt                                −ρT
         = E0        e Γt u (g(yt − mt ) + st (y)) dt + e ΓT U (g(yT − mT ) + ST (y)) .
                 0

Here the first line uses the definition of consumption from (3) and takes the expectation
with respect to the measure Py over reporting outcomes discussed above, and the
second line uses the density process defined above. The agent takes the contract s as
given and solves:
                                      sup V (y; s)
                                     {∆t ≤0}

subject to (4)-(6).
   Under the change of variables, the agent’s reporting problem is simply a control
problem with random coefficients. As in Williams (2006), I apply a stochastic maxi-
mum principle from Bismut (1973)-(1978) to derive the agent’s necessary optimality
conditions. Analogous to the deterministic Pontryagin maximum principle, I define
a (current-value) Hamiltonian function which the optimal control will maximize. As
in the deterministic theory, I associate co-state variables with the state variables, and
these co-states have specified terminal conditions. However to respect the information
flow and satisfy the terminal conditions, in the stochastic problem the co-states are
pairs of processes which satisfy backward stochastic differential equations. Thus I in-
troduce (q, γ) as the co-states associated with the state Γ, and (p, Q) associated with
                               PERSISTENT PRIVATE INFORMATION                                          9

the state z. In each pair, the first co-state multiplies the drift of the state while the
second multiplies the diffusion term. Thus the Hamiltonian is given by:

        H(Γ, z) = Γu (g(y − z/Γ) + s(y)) + (Γγ + Qz) (µ(y − z/Γ) + ∆) + pΓ∆

We will derive the optimality conditions and the evolution of the co-states using the
transformed variables (Γ, z), but then substitute back to express everything in terms
of the original variables (y, m).
   The agent’s optimal choice of his report perturbation ∆ ≤ 0 is given by maximizing
the Hamiltonian, and the evolution of the co-state variables is given by differentiating
the Hamiltonian. Instead of considering the optimality and evolution in general, I
invoke the revelation principle and focus on contracts which induce truthful revelation.
Thus we have ∆t ≡ 0, mt ≡ 0, yt = bt . As the Hamiltonian H is linear ∆ and Γ ≥ 0,
in order to have a truthful current report ∆ = 0 be optimal we thus require:

                                          γ + Qm + p ≥ 0.                                             (7)

Moreover, given truthful reporting in the past (so m = 0) it must be optimal to report
truthfully in the present, and thus we can strengthen this to:

                                              γ + p ≥ 0.                                              (8)

Under truthful revelation, the co-state variables evolve as follows:
                         ·                  ¸
                                ∂H(Γ, z)
                 dqt = ρqt −                  dt + γt σdWt0
                                      ∂Γ
                      = [ρqt − u(ct )]dt + γt σdWty ,                                                 (9)
                  qT = U (yT − ST ).
                         ·                  ¸
                                ∂H(Γ, z)
                 dpt = ρpt −                  dt + Qt σdWt0
                                      ∂z
                      = [ρpt + γt µ (yt ) + u0 (ct )g 0 (yt )] dt + Qt σdWty ,
                                    0
                                                                                                    (10)
                  pT = −U 0 (cT )g 0 (yT ).

Here (9) and (10) carry out the differentiation, evaluate the result under truthful
revelation, and change the Brownian motion as in (5). Details of the derivations are in
Appendix A.1. Notice that pt and qt solve backward stochastic differential equations,
as they have specified terminal conditions but unknown initial conditions.
    Below I show that these co-state processes encode the necessary history dependence
that truthful revelation contracts must condition on, in addition to the current report.
In effect, the principal is also able to tune the coefficients γt and Qt in these state
variables. That is, incentive compatible contracts can be represented via specifications
of st (y) = s(t, yt , qt , pt ), γt = γ(t, yt , qt , pt ), and Qt = Q(t, yt , qt , pt ) for some functions
s, γ, Q. Notice as well that the co-state evolution equations do not depend on Γt or zt
and thus the entire system evolution consists of (1) with ∆t = mt = 0, (9), and (10).
10                                      NOAH WILLIAMS


   To help interpret the co-state equations, consider first the co-state (9). As can be
easily verified, we can write its solution as:
                           ·Z T                                        ¯ ¸
                                                                       ¯
                   qt = Ey       e−ρ(s−t) u(cs )ds + e−ρ(T −t) U (cT )¯¯ Ft ,      (11)
                                t

so that q0 = V (y), the agent’s optimal utility under the contract. Thus the agent’s
optimal utility process becomes a state variable for the contracting problem. The idea
of conditioning on utility as a state variable is well-known in the literature following
Abreu, Pearce, and Stacchetti (1986) and Spear and Srivastrava (1987), and has been
widely used in contexts like ours following Green (1987) and Thomas and Worrall
(1990).
   However, when agent’s endowment process is persistent we require an additional
state variable that encapsulates the effect of this persistence. Notice that the agent’s
marginal utility of consumption appears in the evolution of pt , so we refer to it as the
marginal utility state. It is the marginal value in utility terms of the hidden state
variable mt evaluated at mt = 0, and thus gives in essence the marginal cost of not
lying. This additional state is necessary because with a persistent endowment a lie in
the current period affects both the principal’s expectations of future endowments and
the agent’s expected future consumption.
   In particular, suppose that the constraint (8) binds almost everywhere and consider
the affine specification above. Then (10) becomes:
                       dpt = [(ρ + λ)pt + u0 (ct )g 0 (yt )] dt + Qt σdWty .
It is easy to verify that the solution of this equation is:
                ·Z T                                                              ¯ ¸
                                                                                  ¯
      pt = −Ey        e −(ρ+λ)(s−t) 0      0
                                   u (cs )g (ys )ds + e            U (CT )g (yT )¯¯ Ft .
                                                       −(ρ+λ)(T −t) 0      0
                                                                                           (12)
                   t

Thus pt is the negative of the agent’s optimal marginal utility (of additional endowment
yt ) under the contract. As noted in the introduction, similar state variables have been
used in related contexts by Werning (2001), Abraham and Pavoni (2003), Kapicka
(2006), and Williams (2006). Here the persistence of the endowment effectively acts as
an additional discount, since larger λ means faster mean reversion and hence shortens
the effective life of the private information. In the limit as λ → ∞ we approximate an
i.i.d. endowment process, and pt converges to an i.i.d. random variable as well. Thus
in the i.i.d. case, a contract only need condition on the utility process, while persistent
endowments require the marginal utility process as well.
    Notice that γt , the loading of the utility process on the Brownian motion, is a key
means of inducing truthful revelation. Under full information a risk-neutral principal
will fully stabilize the agent’s consumption, and thus set γt = 0. (This should be clear
intuitively, but will be shown explicitly below.) But when the agent’s endowment is
private information, the principal induces truthful revelation by making the agent’s
consumption and hence utility vary with his report. In particular note that (8) im-
plies γt ≥ −pt ≥ 0 so that promised utility qt has a positive loading on the endowment
                             PERSISTENT PRIVATE INFORMATION                                    11

shocks – promised utility increases with higher endowment realizations. With persis-
tent private information, the principal also chooses Qt , the loading of the promised
marginal utility state on the endowment shocks. As we show below, a sufficient con-
dition for truthful revelation is Qt ≤ 0, and thus in this case the promised marginal
utility (−pt ) also has a positive loading on endowment shocks. Thus when considering
whether to lie and report ∆t < 0, the agent must balance the higher utility promise
he would get (consistent with higher consumption overall) with the higher marginal
utility promise (consistent with less current consumption).

                 4. TRUTHFUL REVELATION CONTRACTS
   I now characterize the types of contracts which can induce the agent to truthfully
report his endowment. Instead of considering a contract as a general history-dependent
specification of s(y) as above, I now characterize a contract as processes for {st , γt , Qt }
conditional on the states {yt , qt , pt }. In this section I provide conditions on these
processes that a truthful revelation contract must satisfy.
   In standard dynamic contracting problems, like Thomas and Worrall (1990), con-
tracts must satisfy participation, promise-keeping, and incentive constraints. Similar
conditions must hold in our setting. I have already discussed the participation con-
straint, which must insure that the agent’s utility under the contract is greater than
under autarky. This simply puts a lower bound on the initial utility promise:
                                             q0 ≥ V a (y0 ),                                  (13)
where we use that y0 = b0 . The promise-keeping constraints in our environment simply
state that the contract is consistent with the evolution of the utility and marginal util-
ity state variables (9)-(10). The incentive constraint is the instantaneous truth-telling
condition (8) which insures that if the agent has not lied in the past, he will not do so
in the current instant. However to be sure that a contract is fully incentive compatible,
we must consider whether the agent may gain by lying now and in the future. Such
“double deviations” can be difficult to deal with in general (see Kocherlakota (2003)
and Williams (2006) for example), but I show that in our setting they can be ruled out
via a simple restriction on the contract, namely that Qt ≤ 0. However this restriction
is stronger than necessary, as I show in the examples later in the paper.
    Moreover, in order to show that these conditions are sufficient for truthful revelation
we require some additional curvature assumptions. In particular, we need that the
utility be concave in the transformed endowment yt . That is we define:
                      ũ(yt ) = u(g(yt ) + st ), Ũ (yT ) = U (g(yT ) + sT )
and we assume:
                 ũ00 (yt ) = u0 (g(yt ) + st )g 0 (yt )2 + u0 (g(yt ) + st )g 00 (yt ) ≤ 0
and similarly Ũ 00 (yT ) ≤ 0. When we work with the level of the endowment B = g(y) =
y this is clearly equivalent to requiring u and U be concave. However when we work
12                                   NOAH WILLIAMS


with the log endowment, so B = exp(y), in addition to the concavity of u and U this
clearly requires some further restrictions on {st } and/or (u, U ). In particular, consider
the constant relative risk aversion case u(c) = c1−θ /(1 − θ). Then it is easy to see that
the concavity of ũ requires:
                                     (θ − 1)Bt ≥ st .
Thus we require at a minimum θ > 1, or else this restriction would imply st ≤ 0
which, apart from the trivial contract of st ≡ 0, would not satisfy the participation
constraint. Put differently, this restriction limits how much consumption smoothing
the principal is able to provide for the agent and still insure truthful revelation.
   I now provide the key theoretical result characterizing the class of truthful revelation
contracts. The theorem adapts my previous results from Williams (2006), which in
turn build on Schattler and Sung (1993) and Zhou (1996). However the setting here
leads to simpler sufficient conditions and a more direct proof, which is contained in
Appendix A.2. The idea of the proof is to use the representations of the agent’s
utility and marginal utility processes under the contract, along with the concavity
assumptions on the primitives to bound the gain from deviating from truth-telling.
   Theorem 4.1. Assume that the agent’s utility functions u and U and the trans-
formation g are increasing and concave, and that the drift µ is decreasing and concave.
Then we have:
   1. Any truthful revelation contract {st , γt , Qt } satisfies (i) the participation con-
straint (13), (ii) the promise keeping constraints (9)-(10), and (iii) the incentive con-
straint (8).
   2. Any contract satisfying the conditions (i)-(iii), having Qt ≤ 0 for all t, and
insuring that ũ(yt ) and Ũ (yt ) are concave for all yt is a truthful revelation contract.
   3. If µ0 (y) ≡ 0, then any contract satisfying the conditions (i)-(iii), and insuring
that ũ(yt ) and Ũ (yt ) are concave for all yt is a truthful revelation contract.

     Note that the incentive constraint (8) and Qt ≤ 0 together are sufficient to insure
that the agent’s optimality condition (7) holds, since mt ≤ 0. However these condi-
tions are stronger than necessary, as the agent’s optimality condition only requires (7)
and thus could be consistent with Qt ≥ 0. Note also that when the endowment is
permanent, so µ0 (y) = 0, we do not need this restriction on Qt . Further, the concavity
of ũ and Ũ puts some additional restrictions on the class of contracts, apart from the
special (but important) case where we work with the level of the endowment, in which
case the concavity of preferences is natural. Nonetheless, the theorem provides some
simple sufficient conditions to check whether a given contract does in fact provide
incentives for truthful revelation.
    However the sufficient condition may be overly stringent in some environments,
as in an example below where it fails. (We also consider a permanent endowment
case where the sufficient conditions do hold.) In such cases, to be sure that the
contract does indeed insure truthful revelation, we must re-solve the agent’s problem
facing the given contract. This is similar to the ex-post incentive compatibility checks
                           PERSISTENT PRIVATE INFORMATION                                13

that Werning (2001) and Abraham and Pavoni (2003) conduct. While re-solving the
agent’s problem typically would require numerical methods, as indeed would finding
the contract itself, in the examples below everything can be solved analytically. Thus
in practice the most useful part of the theorem is part 1, which leads to the “relaxed”
principal’s problem in the terminology of Rogerson (1985b). In the cases covered by
parts 2-3 of the theorem the solution of the relaxed problem agrees with the original
problem, but more generally this must be verified.

        5. OPTIMAL CONTRACTS ON AN INFINITE HORIZON
   I now turn to the principal’s problem of optimal contract design. For simplicity, I
consider the infinite horizon contract. Formally, I take limits as T → ∞ in the analysis
above. Thus we no longer have the terminal conditions for the co-states in (9) and
(10) above, but instead we have the transversality conditions limT →∞ e−ρT qT = 0 and
limT →∞ e−ρT pT = 0. For the purposes of optimal contract design, we can effectively
treat the backward equations governing the dynamics of promised utility and promised
marginal utility as forward equations under the control of the principal. Thus the
principal’s contract choice is a standard stochastic control problem.
                                5.1. Basic Layout
   As is standard, I suppose that the principal’s objective function is the expected
discounted value of the transfers:
                                      ·Z ∞         ¸
                                            −ρt
                               J = Ey      e st dt ,
                                            0

where he discounts at the same rate as the agent. The principal’s problem is to choose
a contract to minimize J subject to satisfying: (i) the participation constraint (13),
(ii) the promise keeping constraints (9)-(10), and (iii) the incentive constraint (8). We
focus on the relaxed problem, and do not impose the sufficient conditions for truthful
revelation from Theorem 4.1, but instead check ex-post whether they are satisfied (and
if not, we verify that the contract is incentive compatible). Note also that while the
participation constraint places a bound on q0 , p0 is free and so we treat it as a choice
variable of the principal. Thus a contract consists of {st , γt , Qt } and values for q0 and
p0 .
     As noted above, the principal’s contract choice is a relatively standard stochastic
control problem. Thus we can analyze it either using standard dynamic programming
methods or via a maximum principle. Here I use both for different purposes. Dynamic
programming is useful as a constructive method for finding a solution, either explicitly
in special cases or numerically. I mostly focus on this approach. However the maximum
principle is useful for obtaining some partial characterizations of the dynamics of
optimal contracts, which I consider briefly below.
     Beginning with dynamic programming, and abusing notation slightly, denote the
principal’s value function J(y, q, p), and let Jy (y, q, p) and so on be its partial deriv-
atives. Via standard arguments (see e.g. Yong and Zhou (1999)), the value function
14                                   NOAH WILLIAMS


satisfies the Hamilton-Jacobi-Bellman equation:

ρJ =      min      {s + Jy µ(y) + Jq [ρq − u(g(y) + s)] + Jp [ρp + γµ0 (y) + u0 (g(y) + s)g 0 (y)]
       {s, γ≥−p, Q}
                                                                  ¾
         σ2 £            2       2
                                                                ¤
       +      Jyy + Jqq γ + Jpp Q + 2 (Jyq γ + Jyp Q + Jpq γQ)                                (14)
         2

where we suppress the arguments of J and its derivatives. Given the solution to (14),
the initial value p0 is chosen to maximize J(y0 , q0 , p0 ).
                                5.2. Full Information
    To gain some insight into the problem, consider first the full information case where
the principal directly observes the agent’s endowment. We verify here the typical result
that a risk neutral principal absorbs all the risk, completely stabilizing the agent’s
consumption. In terms of the previous discussion, the principal’s problem in this case
is to maximize J subject only to the participation constraint. It’s possible to simply
to include this as a constraint at date zero, but to make the analysis more comparable
with the previous discussion we include qt as a state variable. The principal’s costs
depend on yt , which determines the cash flow he obtains, and qt , which governs the
amount of utility he must deliver to satisfy the participation constraint, but there are
no direct costs associated with the marginal utility state pt .
    Denoting the full information value function J ∗ (y, q), we see that it solves an HJB
equation similar to (14):
                    ½                                                                 ¾
        ∗                 ∗         ∗                      σ2 £ ∗      ∗ 2       ∗
                                                                                    ¤
     ρJ = min s + Jy µ(y) + Jq [ρq − u(g(y) + s)] +            J + Jqq γ + 2Jyq γ (15)
             {s, γ}                                        2 yy

The optimality conditions are:

                         Jq∗ u0 (g(y) + s) = 1, γ = −Jyq
                                                      ∗    ∗
                                                         /Jqq .

Denoting c̄(q) = u−1 (ρq) as the constant consumption consistent with promised utility
q, it is straightforward to verify that the solution to (15) is given by:

                                                 c̄(q)
                                  J ∗ (y, q) =         + j(y)                           (16)
                                                   ρ

where j(y) solves the second order ODE:
                                                      1
                         ρj(y) = −g(y) + j 0 (y)µ(y) + j 00 (y)σ 2 .                    (17)
                                                      2
Below we provide an explicit solution of this ODE for a particular specification of g
and µ.
   Thus the optimal full information contract indeed calls for complete stabilization,
setting st = c̄(qt ) − g(yt ), and γt = 0. Together these imply that consumption and
                           PERSISTENT PRIVATE INFORMATION                                 15

promised utility are constant under the contract: ct = c̄(q0 ) and qt = q0 for all t. In
addition to being a useful benchmark on its own, the full information solution provides
a lower bound on the principal’s cost in the hidden information case.
                              5.3. Hidden Information
   We now return to the hidden information problem, where it is difficult to charac-
terize the solution in the general case in much detail. However note that it is likely
to be the case that the incentive constraint (8) binds, so that γ = −p. We verify this
conjecture below in particular examples, but conjecture that it holds more generally.
Under full information, the principal need not worry about incentives, and can pro-
vide constant promised utility. With hidden information, utility must vary to provide
incentives, but the principal wants to induce as little volatility in the agent’s utility as
possible in order to induce truthful revelation. In particular, this incentive constraint
ties the current volatility of promised utility γ to the promised marginal utility −p.
Thus a positive innovation in the reported endowment yt leads to an increase in the
promised utility qt (as γt > 0). As well, if Qt ≤ 0 as is sufficient for truthful revelation,
the innovation leads to higher future volatility of promised utility (as pt decreases, and
hence future γt increases).
   The γ choice is constrained, while the other optimality conditions from (14) are:

                       Jq u0 (g(y) + s) − Jp u00 (g(y) + s)g 0 (y) = 1,                 (18)
                                           Jpp Q + Jyp − pJqp = 0.                      (19)

Relative to the full information case, the first order condition for the payment (18)
has an additional term coming from the effect of consumption on the marginal utility
state pt . The condition (19) for Qt balances the effects of the variability of pt with the
covariations of pt with yt and qt .
   A general strategy for solving for the optimal contract, which could form the basis of
a numerical algorithm, is to start with an initial guess J 0 (y, q, p) for J. Then (18) can
be solved to obtain s0 (y, q, p), and (19) can be solved for Q0 (y, q, p). Plugging these
(and γ = −p) back into (14) we can solve the PDE for an updated value J 1 (y, q, p).
This process could then be iterated until convergence. (Usually it is advisable to
include a dampening factor, so that the updated value is a convex combination of J 0
and J 1 .) After finding J we can then find the optimal starting point p0 as discussed
above, and check to see if the sufficient conditions from Theorem 4.1 hold. If not,
we would solve the agent’s reporting problem given the contract in order to verify
incentive compatibility. While such a procedure could be followed numerically, it is
not feasible to obtain explicit analytic solutions except in special cases. We consider
one such case below.
                    5.4. The Dynamics of Optimal Contracts
   We can gain some additional insight into the dynamics of optimal contracts by
applying a stochastic maximum principle (see Yong and Zhou (1999)). Rather than
giving an full treatment, we focus on the aspects of this approach which lead to partial
16                                         NOAH WILLIAMS


characterizations of contracts.9 Defining {(zty , Zty ), (ztq , Ztq ), (ztp , Ztp )} as the principal’s
co-states associated with yt , qt , and pt , the principal’s Hamiltonian can be written:
     H(y, q, p) = z y µ(y) + z q [ρq − u(g(y) + s)] + z p [(ρ − µ0 (y))p + u0 (g(y) + s)g 0 (y)]
                  +σ(Z y − Z q p + Z p Q) − s,
where we’ve assumed that the incentive constraint (8) binds. The principal’s optimal
choice of payment s minimizes the Hamiltonian, giving the optimality condition:
                           −z q u0 (g(y) + s) + z p u00 (g(y) + s)g 0 (y) = 1.                       (20)
Comparing (20) with (18), we can identify z q = −Jq , z p = −Jp .10 By differentiating
the Hamiltonian we obtain the evolution of the principal’s co-states (and thus the
partial derivatives of the value function):
                                  ·            ¸
                             q        q    ∂H
                          dzt = ρzt −            dt + Ztq dWt
                                            ∂q
                               = Ztq dWt ,                                        (21)
                                  ·            ¸
                                           ∂H
                          dztp = ρztp −          dt + Ztp dWt
                                            ∂p
                               = [µ (yt )zt + σZtq ] dt + Ztp dWt .
                                    0      p
                                                                                  (22)
    These conditions have some implications for the dynamics of optimal contracts. In
particular, suppose that ztp = 0, so that the agent’s marginal utility process implies
no cost for principal. We saw above that this was the case in the full information
problem, and we also argued that when the agent’s endowment process is i.i.d. the
principal need not condition on pt . In either case, when ztp = 0 from the optimality
condition (20) we then see that ztq = −1/u0 (ct ) and from (21) we then have that
the inverse of the agent’s marginal utility follows a (local) martingale. (In the full
information case, Ztq = 0 and thus the martingale is a constant process.) This is an
analogue of the “inverse Euler equation” which was shown by Rogerson (1985a) and
Golosov, Kocherlakota, and Tsyvinski (2003) to characterize the dynamics of optimal
contracts with information frictions. The principal’s marginal cost of the agent’s utility
ztq is also a martingale in Thomas and Worrall (1990). Since the promised utility is
the only state variable in their environment, they used this to deduce that promised
utility converges to minus infinity almost surely. Zhang (2007) applied the martingale
convergence theorem to the inverse of the agent’s marginal utility to obtain a similar
conclusion.
    However in our more general environment, neither of these arguments apply. In
general, ztp 6= 0 so that while the principal’s marginal cost of promised utility is a mar-
tingale, this has no direct implications for the level of promised utility. Furthermore,
   9
     Cvitanić, Wan, and Zhang (2007) use a stochastic maximum principle approach to characterize contracts
in a moral hazard setting.
   10
      See Yong and Zhou (1999) for general results linking dynamic programming and the maximum principle,
of which this is a simple example.
                          PERSISTENT PRIVATE INFORMATION                                17


when ztp 6= 0 then we cannot identify ztq with the inverse of the agent’s marginal utility.
So the inverse Euler equation and the related immiserization results need not hold in
our environment. In fact, we provide examples below where they fail.

         6. A CLASS OF EXPONENTIAL UTILITY EXAMPLES
   In this section, we provide a class of examples which allows for explicit solutions. In
particular, we suppose that the agent has exponential utility, and work directly with
the level of the endowment, which we assume has affine drift. In terms of our notation
above, we use the following functional forms:

                   u(c) = − exp(−θc), g(y) = y, µ(y) = µ0 − λy.

As is well known, exponential utility with linear evolution often leads to explicit so-
lutions, and this is once again the case here. In particular, we first suppose that the
endowment is permanent (λ = 0), which leads to some simplifications in the analysis.
We fully solve for the optimal contract, verify that it is indeed incentive compatible,
and discuss the implications of the contract. We then turn to the more general case
where the endowment is persistent (λ > 0), again provide explicit solutions, discuss
how persistence affects the contract, and compare our results to those in the literature.
                              6.1. Full Information
   As a benchmark, we first consider the full information case where full stabilization
of consumption is optimal. It is easy to verify that the solution of the ODE (17)
determining the principal’s cost is:
                                             µ0      y
                               j(y) = −           −      .
                                          ρ(λ + ρ) λ + ρ
Inverting the agent’s utility function, consumption under the contract is:
                                   log(−ρq)   − log(ρ) − log(−q)
                       c̄(q) = −            =                    .
                                       θ               θ
Using the solution for j, we then have that the full information cost function is:
                                       log(−ρq)      µ0      y
                      J ∗ (y, q) = −            −         −      .
                                          ρθ      ρ(λ + ρ) λ + ρ
Thus the principal’s full information cost is linear and decreasing in the endowment y
as well as being linear in the consumption equivalent of the promised utility q, which
here implies that the cost is logarithmic in q.
                          6.2. Permanent Endowment
   We now turn to the case where λ = 0 so that innovations are permanent. In
particular, this implies that the endowment follows a Brownian motion with drift:
yt = y0 + µ0 t + σWty . As we’ll see, this special case leads to some simplifications.
18                                             NOAH WILLIAMS


Moreover, by part 3 of Theorem 4.1 we know that our conditions fully characterize
truthful revelation contracts. We assume throughout this section that µ0 ≥ θσ 2 /2,
so that the drift of the endowment is greater than the agent’s required risk premium.
This insures that the agent’s utility under autarky is bounded for any discount rate
ρ > 0. In particular, the agent’s expected utility under autarky can be found by
solving:
                                                                           σ2 a
                           ρV a (y) = − exp(−θy) + Vya (y)µ0 +               V (y).
                                                                           2 yy
The solution of this can be easily be seen to be:
                                                      1
                               V a (y) = −                        exp(−θy).
                                              ρ + θµ0 − θ2 σ 2 /2

   As we show below, the structure of the principal’s cost function in the hidden
information case is similar to the full information cost. Typically an additional state
variable (pt ) affects the problem. However with exponential preferences utility and
marginal utility are proportional, u0 (c) = −θu(c). Thus when the endowment is
permanent from the representations of the co-state processes in (11) and (12) we get
directly that pt = θqt . Thus we can dispense with pt as a separate state variable.11
Notice that this also implies:

                                     Qt = θγt = −θpt = −θ2 qt ≥ 0.

Thus while the condition that Qt ≤ 0 from part 2 of Theorem 4.1 fails, it is not
required here. Nonetheless, below we directly verify that the optimal contract that we
find does indeed provide incentives for truthful revelation.

6.2.1. The Optimal Contract
   We guess that the principal’s cost function can be written as follows:

                                   J(y, q, p) = j0 + j1 y − j2 log(−q),

for some constants (j0 , j1 , j2 ). We now verify this guess. From the optimality condition
(18) we get:

                                  log(θJq )      log(j2 θ) − log(−q)
                           s =              −y =                     − y.
                                      θ                    θ
Substituting this into the HJB equation (14) and using our guess we get:
                                                                 µ           ¶
                            log(j2 θ) − log(−q)               j2         q       σ 2 j2 θ2
ρ(j0 + j1 y − j2 log(−q)) =                     − y + j1 µ0 +      ρq −        +           .
                                      θ                       q         j2 θ         2
  11
    This does not imply that ztp = 0 as in our discussion above. Rather it implies that we can work with
the concentrated value function J(y, q) = J(y, q, θq), so that Jq (y, q) = Jq (y, q, θq) + θJp (y, q, θq). Thus the
principal’s marginal cost of promised utility is now −(ztq + θztp ), which is typically not a martingale.
                                             PERSISTENT PRIVATE INFORMATION                                                 19


                                             Distributions of Consumption under the Optimal Contract and Autarky
                            18
                                         Mean, Contract
                                         Mean, Autarky
                            16           1 SD, Contract
                                         2 SD, Contract
                                         1 SD, Autarky
                            14           2 SD, Autarky



                            12
              Consumption




                            10


                             8


                             6


                             4


                             2


                             0
                                 0   1          2         3        4         5         6         7        8        9   10
                                                                           Time

      FIGURE 1. Distributions of consumption under the optimal contract and under autarky.



Solving for the constants, we then have:

                                                            log ρ µ0 σ 2 θ
                                                     j0 = −      − 2 + 2,
                                                              ρθ  ρ   2ρ
                                                            1
                                                     j1 = − ,
                                                            ρ
                                                          1
                                                     j2 =    .
                                                          ρθ

Thus we’ve verified the guess.
    Note that this solution is very similar to the full information contract. In particular,
we have the same optimal policy function s = c̄(q) − y. Thus consumption as a
function of promised utility is exactly the same whether the agent’s endowment is
private information or not. However in the hidden information case promised utility
varies, while it is constant with full information. The principal’s cost function is also
nearly the same as the full information case, with the only change being the additional
additive constant term (σ 2 θ)/(2ρ2 ). Thus the additional cost of not observing the
endowment is increasing in the local variance of the endowment, which is a measure
of the “size” of the private information. The cost is also increasing in the agent’s
risk aversion parameter θ, reflecting the additional expected payments which must be
made to compensate for risk, and decreasing in rate of time preference, reflecting the
effective horizon of the payments.
20                                           NOAH WILLIAMS


  The optimal contract has striking implications for the dynamics of consumption
and promised utility. In particular, since γt = −pt = −θqt and ct = c̄(qt ) we have:

                                            dqt = −σθqt dWty ,

and thus promised utility follows a martingale. This equation can be solved explicitly,
leading to an explicit solution for consumption as well:
                            µ 2 2               ¶
                               σ θ            y
              qt = q0 exp −          t − σθWt
                                 2
                       log(−ρq0 ) σ 2 θ                       σ2θ
              ct = −              +      t + σWty = c̄(q0 ) +     t + σWty .
                            θ          2                       2
Therefore consumption tends to grow over time, having an upward trend which pro-
vides risk compensation for the increasing variability. As consumption tends to grow
over time, promised utility tends toward its upper bound of zero. The distributions of
consumption under the optimal contract and under autarky are shown in Figure 1.12
There we see that the contract alters the time profile of consumption, providing more
consumption up front in exchange for a smaller increase in consumption over time.
   Our results stand in sharp contrast to the immiserization results of Thomas and
Worrall (1990), where the agent’s promised utility under the optimal contract tends
toward minus infinity. This seems to be at least partly a consequence of the endowment
process being permanent here as opposed to independently distributed in their setting.
(In section 6.3.3 below we discuss the relationship with previous results in more detail.)
In both our setting and theirs, the distribution of promised utility fans out over time in
order to provide incentives. However in our setting, the distribution of the endowment
itself fans out, so tying promised utility (and hence consumption) to the endowment
accomplishes this. But this comes at the cost of a collapse of risk sharing, as the
contract insures that the agent’s consumption moves one-for-one with innovations to
his endowment. This is seen in Figure 1, where the consumption distribution under
the contract fans out at the same rate under the contract as under autarky.
   Moreover, with an i.i.d. endowment Thomas and Worrall (1990) show that it would
become increasingly costly over time for the principal to allow the agent’s utility to
increase. In our case we do have Jq = 1/q which increases to infinity as q increases
to zero, but this only implies that initial utility promises are increasingly costly. How
the principal’s cost evolves over time depends on yt and qt , and in particular note that
we have:
                                                               µ       ¶
                                                             1 σ2θ
                       J(yt , qt , pt ) = J(y0 , q0 , p0 ) +       − µ0 t.
                                                             ρ   2
As we’ve assumed that the drift of the endowment µ0 exceeds the required risk pre-
mium σ 2 θ/2, the principal’s cost decreases over time, even as the agent’s consumption
tends to increase. Notice as well that the principal’s cost evolves deterministically, as
under the contract the agent now bears the risk.
6.2.2. Verifying Truthful Revelation and Implementation
 12
      The figure uses the following parameters: ρ = 0.1, θ = 0.5, σ = 1, µ0 = 1.
                          PERSISTENT PRIVATE INFORMATION                               21

   Although our sufficient condition from part 3 of Theorem 4.1 holds, it is useful to
also directly verify that the contract is indeed consistent with truthful revelation. This
helps to understand how the contract provides incentives for revelation. As discussed
above, the contract ties the agent’s promised utility and hence his consumption directly
to his reports of the endowment. In particular, notice that there are two parts to the
principal’s payment st to the agent: a transfer from the agent due to yt and a transfer
to him due to qt . If the agent were to deviate from truth-telling and report a lower
endowment, then he would receive a permanently lower promise of future utility and
hence future consumption. This would exactly balance the increased consumption he
would gain due to his lower transfer payment to the principal.
   More formally, note that under the contract but with an arbitrary reporting strategy
we have:

                   ct = s(qt , yt ) + yt − mt
                      = − log(−ρqt )/θ − yt + yt − mt
                                    σ2θ
                      = c̄(q0 ) +       t + σWty − mt
                                     2      Z t
                                    σ2θ
                      = c̄(q0 ) +       t+      [dys − µ0 ds] − mt
                                     2       0
                                            Z t
                                    σ2θ
                      = c̄(q0 ) +       t+      [dbs + (∆s − µ0 )ds] − mt
                                     2       0
                                    σ2θ
                      = c̄(q0 ) +       t + σWt ,
                                     2
where we’ve used bt = b0 + µ0 t + σWt and the definition of mt . Thus the agent’s
consumption is independent of his reporting process yt , depending only on his initial
utility promise, a deterministic transfer, and the underlying shocks to his endowment.
Put differently, the contract insures that the agent receives the same consumption
whatever he reports. Thus the contract is consistent with truthful revelation, although
reporting truthfully is by no means the unique best response of the agent.
   This final depiction of consumption under the optimal contract makes clear that it
can be implemented in a simple way. In particular, rather than depicting the transfers
as st = s(qt , yt ), the principal can implement the optimal contract by simply providing
a deterministic, time-dependent transfer:
                                                    µ 2      ¶
                                                     σ θ
                                st = c̄(q0 ) − y0 +      − µ0 t.
                                                      2
In this form, the contract insures that the participation constraint is satisfied and is
(weakly) consistent with truthful revelation, although the report is actually irrelevant.
                           6.3. Persistent Endowment
   We now consider the more general case when the endowment is persistent but not
necessarily permanent. The solution in this case has much of the same structure as in
the permanent case, but now the contract and thus the cost depend on the ratio of the
promised utility to promised marginal utility. When the endowment is permanent, this
22                                    NOAH WILLIAMS


ratio is necessarily constant. When the endowment is persistent but not permanent,
this ratio may vary over time. But we show that under the optimal contract it is once
again constant, albeit at a different level. We also show that the degree of risk sharing
increases as the endowment becomes less persistent, and in the i.i.d. limit the contract
converges to the full-information solution with complete stabilization of consumption.
Thus the distortions inherent in the discrete time i.i.d. environments of Thomas and
Worrall (1990) and others vanish in continuous time, as we discuss below.
6.3.1. The Optimal Contract with an Arbitrary Initial Condition
   We first consider the contract for an arbitrary initial condition for the marginal
utility state p0 . Later, we consider the choice of initial value, which we find makes
pt and qt remain proportional over time. Thus first consider the principal’s problem
given the states (y, q, p). Similar to above, we guess that the principal’s cost function
can be written as follows:

                       J(y, q, p) = j00 + j10 y − j2 log(−q) + h(p/q),

for some constants (j00 , j10 , j2 ) and some function h. We now verify this guess. First, to
simplify notation define k = p/q. In the permanent endowment case we have kt = θ
for all t, but when λ > 0 this ratio varies over time and becomes a state variable.
From the optimality conditions (18)-(19) and the form of the guess we get:

                      log θ log(Jq + θJp )
                   s =     +               −y
                        θ          θ
                      log θ log(j2 + h0 (k)(k − θ)) − log(−q)
                    =      +                                  − y,
                        θ       µ 0         ¶θ
                      pJqp        h (k)
                  Q =      = −p          + k ≡ −pQ̄(k).
                       Jpp       h00 (k)

Then substituting these into the HJB equation (14) we get:

                                       log θ        µ0
                                 j00 =        −           ,
                                        ρθ       ρ(ρ + λ)
                                            1
                                 j10 = −        ,
                                          ρ+λ
                                        1
                                 j2 =     ,
                                       ρθ

while h(k) satisfies the second order ODE:
                       µ                   ¶                µ             ¶
                  1       1     0               0       σ2k2 1    h0 (k)2
       ρh(k) = log           + h (k)(k − θ) + λh (k)k +          − 00       .           (23)
                  θ       ρθ                             2    ρθ  h (k)

Thus we’ve verified the guess. Notice that the constant j2 is the same as in the
permanent endowment case, while j10 is the same as in the general full information
case and reduces to the constant j1 in the permanent endowment case when λ = 0.
                                PERSISTENT PRIVATE INFORMATION                                            23

The constant j00 is slightly different, but it insures that the solution here reduces to
our previous findings when the endowment is permanent.
   Unfortunately it does not seem feasible to solve for h(k) analytically in general.
Nonetheless, it is relatively simple to solve the ODE (23) numerically.13 Once we have
a solution, it is easy to check whether our sufficient conditions from Theorem 4.1 hold.
In particular, we can be sure that the contract is implementable as long as Qt ≤ 0
which here implies Q̄(k) ≤ 0. However this sufficient condition need not be met, and
thus in general we need to verify whether the candidate optimal contract we find is
indeed consistent with truthful revelation. We do so below after finding the optimal
initial condition.
   Note that the agent’s consumption under the contract can then be written:
                           log(1/ρ + θh0 (k)(k − θ)) log(−q)    log(−qĉ(k))
               c(q, k) =                            −        ≡−
                                      θ                 θ            θ
As in the previously analyzed cases above, the agent’s consumption is independent of
the current endowment y directly, and the direct dependence on the promised utility is
logarithmic.14 However consumption now also depends on the ratio of the utility and
marginal utility promises k, which in general will vary over time when the endowment
is persistent but not permanent.
   We also see that the dynamics of the co-states can be written:
                         dqt = [ρ − ĉ(kt )]qt dt − σpt dWt ,
                         dpt = [(ρ + λ)pt − θĉ(kt )qt ]dt − σpt Q̄(kt )dWt .
Thus by applying Ito’s lemma we have the dynamics of the ratio:
          £                                             ¤
    dkt = ĉ(kt )(kt − θ) + λkt + σ 2 kt2 (kt − Q̄(kt )) dt + σkt (kt − Q̄(kt ))dWt .                   (24)
When λ = 0 this ratio is necessarily constant, but now it may evolve stochastically.
But we show next that if the ratio is initialized optimally, it remains constant.
6.3.2. The Optimal Initial Condition
    Recall that the marginal utility state pt is an endogenous, backward stochastic
differential equation. Thus its initial condition is not specified, but is instead free to be
chosen by the principal. Of course given q0 , which is pinned down by the participation
constraint, choosing p0 is equivalent to choosing k0 . If the optimal choice is interior, we
have h0 (k0 ) = 0. In particular, when λ = 0 and we know that kt = θ for all t, so that
it must be optimal to also start from k0 = θ so h0 (θ) = 0. While the optimal choice
of k0 for λ > 0 is difficult to establish analytically, we verified numerically for a range
                                                                       ρθ
of different λ values that the optimal initial condition is k0∗ = ρ+λ      . One numerical
example is illustrated in Figure 2 which plots the function h(k) when λ = 0.05.15 The
  13
     It is relatively simple, since the equation is a second order ODE. However the equation has singularities
which complicate matters somewhat. In practice solving (23) as an implicit ODE as it is written worked best.
  14
     Obviously consumption does depend on the endowment history through qt and kt . But conditional on
those endogenous variables, there is no further dependence on yt .
  15
     The preference parameters are θ = 1 and ρ = 0.1. For the endowment, we scale the drift and diffusion√so
that we approximate an i.i.d. N (1, 0.152 /2) process as λ → ∞ as discussed above. Thus we set σ = 0.15 λ,
and µ0 = λ.
24                                            NOAH WILLIAMS



                               Component of Principal Cost, h(k), with λ = 0.05




              23.4



              23.3



              23.2



              23.1



                23



              22.9
                  0     0.1     0.2     0.3       0.4     0.5      0.6      0.7   0.8   0.9
    FIGURE 2. The function h(k) from the principal’s cost function with λ = 0.05 The dotted lines show
the optimal choice k0∗ = ρθ/(ρ + λ) and its corresponding value h(k0∗ ).



minimum clearly occurs at k0∗ , with the cost function increasing rapidly for larger k
and quite slowly for smaller k. The consumption rate function ĉ(k) and the component
Q̄(k) of the marginal utility state are shown in Figure 3. For small values of k, the
consumption rate decreases only slightly while the volatility term Q̄ decreases quite
rapidly. The converse happens for larger values of k, with the consumption rate
increasing rapidly while the volatility increases only slightly. The optimal choice k0∗ is
thus right on the cusp of large changes in the underlying functions.
   The choice of the initial condition is significant, as it insures that kt remains con-
stant at k0∗ under the contract, and thus once again the promised utility and marginal
utility states are proportional. In particular, by substituting k = k0∗ and h0 (k0∗ ) = 0 in
our expressions above, we have that the optimal consumption function is:

                                                         log(−ρq)
                                      c(q, k0∗ ) = −
                                                             θ
and thus ĉ(k0∗ ) = ρ, just as we had previously. Making the same substitutions in the
volatility of the marginal utility state gives:

                                               Q̄(k0∗ ) = k0∗ .

Using this and the previous results in (24) we see that the ratio of the utility and
marginal utility states is constant throughout the contract: kt = k0∗ for all t.
   These results imply that, as in the permanent case, the agent’s promised utility is
a martingale under the contract. But now the agent’s exposure to risk depends on the
                                  PERSISTENT PRIVATE INFORMATION                                            25


                        Agent Consumption Rate, ĉ(k)              Component of Volatility of pt , Q̄(k)
                0.12                                           2

               0.115                                           0

                0.11                                          −2

               0.105                                          −4

                 0.1                                          −6

               0.095                                          −8

                0.09                                         −10
                    0      0.2    0.4     0.6     0.8           0        0.2     0.4     0.6       0.8
                                  k = p/q                                        k = p/q
    FIGURE 3. The agent’s consumption rate function ĉ(k) and the component Q̄(k) of the volatility of
the marginal utility state with λ = 0.05 The dotted lines show the optimal choice k0∗ = ρθ/(ρ + λ) and the
corresponding values ĉ(k0∗ ) = ρ and Q̄(k0∗ ) = k0∗ .



persistence of the information:
                                                        σρθ
                                            dqt = −         qt dWty .                                      (25)
                                                        ρ+λ
For λ = 0 we obtain our previous result in the permanent case, where there is no risk
sharing. However as information becomes less persistent the amount of risk sharing    √
increases. In particular, in the limit as we approach an i.i.d. endowment (with σ = σ̄ λ
and λ → ∞) the optimal contract with private information converges to the efficient,
full information allocation.
   As in the permanent case, we can explicitly solve for consumption and the princi-
pal’s cost. For the principal’s cost, note that at k0∗ we have:
                                             µ ¶
                               ∗      1        1        σ2θ
                            h(k0 ) =     log      +              .
                                     ρθ       ρθ     2(ρ + λ)2
In turn, this implies:
                                                                           σ2θ
                                 J(y0 , q0 , p∗0 ) = J ∗ (y0 , q0 ) +             ,
                                                                        2(ρ + λ)2
so that the cost is equal to the full information cost plus a constant, as in the per-
manent case. The additional cost over the full information case from not observing
the endowment goes to zero as the process becomes less persistent. For consumption,
using exactly the same methods as above we have:
                                                   σ 2 θρ2        σρ
                                  ct = c̄(q0 ) +           2
                                                             t +     Wty .
                                                 2(ρ + λ)        ρ+λ
So again consumption has a positive drift and increasing variability, but now both of
these are tied to the degree of persistence.
26                                                         NOAH WILLIAMS



                   Autarky Consumption Distribution, λ = 0.05      Autarky Consumption Distribution, λ = 1
                       1.6                                            1.6

                                   1.4                                           1.4



                     Consumption




                                                                   Consumption
                                   1.2                                           1.2

                                    1                                             1

                                   0.8                                           0.8

                                   0.6                                           0.6

                                     0   10   20 30   40   50                      0   10   20 30   40   50
                                               Time                                          Time
                   Contract Consumption Distribution, λ = 0.05    Contract Consumption Distribution, λ = 1
                        1.6                                          1.6

                                   1.4                                           1.4
                     Consumption




                                                                   Consumption
                                   1.2                                           1.2

                                    1                                             1

                                   0.8                                           0.8

                                   0.6                                           0.6

                                     0   10   20 30   40   50                      0   10   20 30   40   50
                                               Time                                          Time
    FIGURE 4. Distributions of consumption under the optimal contract and under autarky for two dif-
ferent values of λ.



   The results are illustrated in Figure 4 which again plots the distributions of con-
sumption under autarky and under the contract, with two different values of λ. Again
we scale the drift and diffusion parameters with λ to maintain a constant unconditional
mean and variance.16 The top two panels plot the distributions of the endowment, and
hence the consumption distribution under autarky. The endowment is now stationary,
so after being initialized at a common point (which we take to be the unconditional
mean) the variance of the distribution grows until it reaches the stationary distrib-
ution. Clearly with less persistence (larger λ) this convergence is much faster. The
bottom two panels plot the consumption distribution under the optimal contract. Here
we see that early in the contract the distribution of consumption under the contract
is tighter than under autarky, reflecting the risk sharing properties of the contract.
Clearly with less persistence there is more risk sharing, so the consumption distribu-
tion is even more compressed. However now, like the permanent endowment contract
above but unlike the autarky case here, consumption is nonstationary under the con-
tract (following a Brownian motion with drift). Thus consumption has an upward
trend (which is difficult to see in the figure) and its distribution fans out over time.
6.3.3. Relationship with Previous Literature
   Once again, our results are in sharp contrast to the discrete time models with i.i.d.
private information. Again we see that by linking the agent’s promised utility to the
reported endowment shocks, the principal is able to achieve the fanning out of the
  16
       In particular, we choose θ = 1, ρ = 0.1, σ̄ = 0.25, and µ̄ = 1.
                          PERSISTENT PRIVATE INFORMATION                                27

utility distribution which is required to provide incentives, yet still have consumption
increase over time. However here we see that how fast the utility distribution fans
out depends on the persistence of the information. As the endowment becomes less
persistent, the effective life of the private information is shorter, and smaller increases
in the utility dispersion are required to insure truthful reporting.
    The fact that we obtain efficiency in the limit is also due to the difference in
the information structures between our continuous time formulation and the discrete
time models in the literature. Note that we require the principal’s payment to be a
predictable function of the reported endowment process, which is a usual assumption
in stochastic control and is crucial here for consumption to also be predictable. While
this assumption is natural, it also means that the transfer from the principal to the
agent does not respond instantaneously to the innovation in the current report. This
was clear in our formulation above, as the agent’s lies ∆t affect the future transfers
but not current consumption. When the endowment reverts very quickly to its mean,
a current lie has little effect on the future value of the reported endowment.
    ToRprovide a bit more detail, note that we can    R t define the cumulative endowment
         t
Yt = 0 yu du and the cumulative transfers St = 0 su du as ordinary (not stochastic)
integrals. By requiring
                    hR     Yt and S i t to be absolutely continuous we are able to define
                       T −ρt
utility U ◦Y = E 0 e u(yt )dt . If Yt were of unbounded variation, say by specifying
       Rt          Rt
Yt = 0 yu du + 0 σuY dWu then it would be unclear how to define utility, except in
the case of risk-neutrality as studied by DeMarzo and Sannikov (2006). While this
technical difference may seem relatively minor, it insures that as we approach the i.i.d.
limit the information frictions vanish. In particular, our limit result√is driven by fact
the diffusion term in (25) vanishes as λ → ∞ since σ increases with λ. If σ increased
with λ then there would be nonzero frictions in the limit, but the variance of the
endowment process would explode.
    These results are also implicit in Thomas and Worrall (1990). For example, in the
course of establishing that as the discount factor tends to unity the contract converges
to the first best (their Proposition 4), they show that the deviations from efficiency
are tied to the cost of inducing the efficient actions for one period. Rather then letting
discount rates decline as in their limit, we can view our results as letting the period
length shrink so we approach continuous time. But the consequence is the same – the
efficiency gap vanishes. Thus as periods become shorter, deviations from efficiency
are sustainable if either the cumulative endowment has unbounded variation, which
causes conceptual problems, or the endowment is persistent, which is quite natural.
    As a final comparison, note that although the inverse Euler equation does not hold
in our environment, it does indeed hold in the continuous time moral hazard model we
analyzed in Williams (2006). In the moral hazard (hidden effort) setting, the contract
specifies a consumption payment to the agent conditional on realized output. However
effort is costly to the agent, and thus the incentive constraints reflect the instantaneous
effect of the information friction. By contrast, in the hidden information model lying
has no instantaneous effect on the agent – it only affects his future expected transfers.
Thus the incentive constraints are fully forward looking, implying constraints on the
evolution of promised utility. Thus the whether the inverse Euler equation holds does
not depend on whether time is continuous or discrete, but it is sensitive to the source
of the information friction.
28                                  NOAH WILLIAMS


6.3.4. Verifying Truthful Revelation
   We noted above that our sufficient condition for truthful revelation fails, as we have
Q̄(k0∗ ) = k0∗ ≥ 0. So we now verify that the contract does indeed provide incentives
for truthful revelation. While this was relatively trivial in the permanent case, we
now must solve the agent’s problem facing the contract. In particular, the contract
specifies a payment s(yt , qt ) = −log(−ρqt )/θ − yt so that under an arbitrary reporting
strategy the agent’s consumption is ct = −log(−ρqt )/θ − mt . Clearly the agent’s
problem depends on the endogenous state variable qt , which under his information set
evolves as follows:
                        σρθ
                dqt = −     qt dWty
                        ρ+λ
                         ρθ
                    = −     qt (σdWt + [µ(yt − mt ) + ∆t − µ(yt )]dt)
                        ρ+λ
                         ρθ                    σρθ
                    = −     qt (λmt + ∆t )dt −      dWt ,
                        ρ+λ                    ρ+λ
where we’ve used the change of measure from the principal’s information set to the
agent’s as in (5) and (A.3) in the appendix.
   The agent’s problem is then to maximize his utility over reporting strategies subject
to this law of motion for qt and the evolution (2) for mt . The problem no longer depends
on the level of the endowment yt directly. Letting V (q, m) denote his value function,
we see that it satisfies the HJB equation:
             (                                                              µ      ¶2 )
                                            ρθ                         1      σρθ
 ρV = max − exp(−θ[c̄(q) − m]) − Vq             q(λm + ∆) + Vm ∆ + Vqq                  .
         ∆≤0                              ρ+λ                          2      ρ+λ

Truth-telling is optimal if the following analogue of the incentive constraint (7) holds:
                                        ρθ
                                 −Vq       q + Vm ≥ 0.
                                       ρ+λ
It is easy to verify that the following function satisfies the HJB equation with ∆ = 0:
                                           q exp(θm)(ρ + λ)
                              V (q, m) =                    .
                                              ρ + λ + θλm
Moreover, with this function we have:
                              ρθ          q exp(θm)θ2 λ2 m
                       −Vq       q + Vm =                  ≥0
                             ρ+λ          (ρ + λ + θλm)2
so that truth-telling is indeed optimal no matter what m is. In particular, we assumed
that m0 = 0 and since the agent never lies then mt = 0 and V (qt , 0) = qt for all t.
Thus the contract does indeed provide incentives for truthful revelation.
                                PERSISTENT PRIVATE INFORMATION                                            29

                                         7. CONCLUSION
    In this paper I have developed some relatively general methods to study optimal
contracting problems with persistent private information. I have also shown how
the methods lead to explicit solutions in a class of exponential utility examples. By
casting the model in continuous time, I was able to use powerful tools from stochastic
control. These allowed by to deduce that an optimal contract must condition on
two additional endogenous state variables, the agent’s promised utility and promised
marginal utility under the contract. While the use of promised utility as a state
variable is now widely applied, our second state variable is more novel, although it
does have some precedents in the literature. These results are derived from analyzing
the agent’s necessary conditions for optimality, and thus are not guaranteed to insure
that the contract does provide incentives for truthful revelation. While we provide
some simple sufficient conditions which guarantee truthful revelation, they are stronger
than necessary as we illustrate in some examples. Thus to be sure that the contract
is indeed valid, typically one must re-pose the agent’s reporting problem facing the
contract. In the examples we were able to explicitly solve for both the contract and the
agent’s reposed problem, but apart from special cases like these, solutions will require
numerical methods. This is not surprising as typical dynamic decision problems, not
to mention the more complex contracting problems we consider here, require numerical
solution methods. In any case, there are an array of well developed numerical methods
for solving partial differential equations like those which result from our analysis.
    In addition to laying out a framework, I have established some substantive results
on the nature of continuous time contracts with persistent private information. I have
shown that the “inverse Euler equation” of Rogerson (1985a) and Golosov, Kocher-
lakota, and Tsyvinski (2003) need not hold, and the corresponding immiserization
results of Thomas and Worrall (1990) may fail. In my examples the agent’s promised
utility under the contract is a martingale and his consumption increases over time.
The examples also highlight the close link between the persistence of the private in-
formation and the size of efficiency losses this information causes. In particular in the
i.i.d. limit we obtain efficiency. This differs from the discrete time i.i.d. models in the
literature, but the efficiency limit is inherent in those models as period length shrinks.
    In closing, note that a wide variety of applications and extensions of the results
here are worth pursuing. Although the exponential utility examples presented here
are useful in understanding the role of information persistence, more general preference
specifications will be crucial in more applied work seeking to quantify the effects of
information frictions. With more general preferences, promised utility and promised
marginal utility need not remain constant under the optimal contract. This additional
source of variability may have interesting implications for consumption dynamics and
asset prices.17 Another realm of application is to extend models of dynamic optimal
taxation, such as Albanesi and Sleet (2006), to allow for persistent private information.
As discussed above, Kapicka (2006) and Zhang (2007) have taken some steps in this
direction with their related approaches. However there is much yet to be done in this
area, and the tractability and generality of my approach may pay dividends.

  17
    To analyze asset prices, one would like to embed the one-on-one contracting problem in a market setting,
which is task in itself. Kocherlakota and Pistaferri (2007) take a more direct approach and analyze the shadow
asset prices.
30                                    NOAH WILLIAMS


                                       APPENDIX


          A.1. DERIVATION OF THE CO-STATE EVOLUTION
   Given the change of variables, the evolution of the co-states follows from the max-
imum principle in Bismut (1973)-(1978). The maximum principle also requires some
smoothness and regularity conditions, all of which are satisfied under our assumptions
except for a linear growth condition on µ:

                           |µ(y)| ≤ K(1 + |y|), for some K.

Clearly this holds under the affine specification that we mostly focus on.
   Given the definition of the Hamiltonian in the text, for an arbitrary optimal, but not
necessarily truthful, reporting strategy we have the evolution of the co-state variables:
                                ·                ¸
                                        ∂H(Γ, z)
                         dqt = ρqt −               dt + γt σdWt0
                                            ∂Γ
                          qT = U (yT − ST ).
                                ·                ¸
                                        ∂H(Γ, z)
                         dpt = ρpt −               dt + Qt σdWt0
                                            ∂z
                                    0     0
                         pT = −U (cT )g (yT ).

Carrying out the differentiation, we have (suppressing arguments of functions):

         ∂H(Γ, z)                              z                       z
                  = u + γ (µ + ∆) + p∆ + u0 g 0 + (Γγ + Qz) (µ + ∆) µ0 2
           ∂Γ                                  Γ                      Γ
         ∂H(Γ, z)                       ³        z ´
                  = −u0 g 0 + Q(µ + ∆) − γ + Q       µ0 .
           ∂z                                    Γ
Thus under truthful revelation Γ = 1, z = ∆ = 0 we have:

                             ∂H(Γ, z)
                                      = u + γµ
                               ∂Γ
                             ∂H(Γ, z)
                                      = −u0 g 0 + Qµ − γµ0 .
                               ∂z
 Hence substituting these into the above evolution gives and using the change of
measure (5) gives:

             dqt =   [ρqt − u(ct ) − γt µ(yt )] dt + γt σdWt0
                 =   [ρqt − u(ct )] dt + γt σdWty ,
             dpt =   [ρpt + u0 (ct )g 0 (yt ) − Qµ(yt ) + γt µ0 (yt )] dt + Qt σdWt0
                 =   [ρpt + u0 (ct )g 0 (yt ) + γt µ0 (yt )] dt + Qt σdWty

and thus we have (9)-(10) in the text.
                            PERSISTENT PRIVATE INFORMATION                                  31

                          A.2. PROOF OF THEOREM 4.1
   The necessity of the conditions is obvious, as they were derived from the agent’s
necessary optimality conditions. For the converse, we first use the representations
of the agent’s utility and marginal utility under the contract. Then we evaluate the
potential gain from deviating from truth-telling, which involves calculating expected
utility under an alternative reporting strategy. Using the concavity u, U , and µ, we
bound the utility difference by a linear approximation. Finally then we use the incen-
tive constraint and the inequality on Qt to show that the utility gain from deviation
is negative.
   Although it is natural for discussion and computation to work with the discounted
utility and marginal utility processes {qt , pt } defined in (9)-(10), it is easier here to
work with the undiscounted processes: q̃t = e−ρt qt , p̃t = e−ρt pt . Then making this
substitution into (9) and integrating gives:
                                     Z T                        Z T
     −ρT
    e U (g(yT ) − ST ) = q̃T = q0 −       −ρt
                                         e u(g(yt ) + st )dt +      e−ρt γt σdWty . (A.1)
                                         0                           0

Further, using (10) and (2) along with the substitution for p̃t gives:
         Z T                                                             Z T
p̃T mT =      −ρt              0            0               0
             e [pt ∆t + mt γt µ (yt ) + mt u (g(yt ) + st )g (yt )] dt +     e−ρt Qt mt σdWty .
           0                                                              0
                                                                                         (A.2)
Also note that from (5) we have:

                      σdWty = σdWtŷ + [µ(yt − mt ) + ∆t − µ(yt )] dt.                   (A.3)
   Now for an arbitrary reporting policy ŷ = y − m we wish to compute the gain of
deviating from the truthful reporting strategy y (which gives promised utility q0 ):
                   ·Z T                                                Z T            ¸
                         −ρt                                                −ρt     y
 V (ŷ) − q0 = Eŷ      e [u(g(yt − mt ) + st ) − u(g(yt ) + st )]dt +     e γt σdWt
                     0                                                  0
                    £                                                ¤
               +Eŷ e−ρT [U (g(yT − mT ) + ST ) − U (g(yT ) + ST )] ,             (A.4)

where we’ve used (A.1). Now by the concavity of Ũ we have:
   £                                              ¤          £                               ¤
Eŷ e−ρT [U (g(yT − mT ) + ST ) − U (g(yT ) + ST ) ≤ −Eŷ e−ρT U 0 (g(yT ) + ST )g 0 (yT )mT
                                                    = Eŷ [p̃T mT ]                      (A.5)
Hence combining (A.5) and (A.2) with (A.4) we get:
                  ·Z T                                                                           ¸
                         −ρt                                            0               0
V (ŷ) − q0 ≤ Eŷ       e [u(g(yt − mt ) + st ) − u(g(yt ) + st ) + mt u (g(yt ) + st )g (yt )]dt
                    0
                   ·Z T                                  Z T                         ¸
                           −ρt              0                 −ρt                  y
              +Eŷ        e [pt ∆t + mt γt µ (yt )] dt +     e σ[γt + Qt mt ]dWt              (A.6)
                      0                                   0
                  ·Z T                                                                             ¸
                         −ρt              0
            ≤ Eŷ       e [pt ∆t + mt γt µ (yt ) + (γt + Qt mt ) (µ(yt − mt ) + ∆t − µ(yt ))] dt
                     0
32                                               NOAH WILLIAMS


where the second inequality uses the concavity of ũ, the change of variables from (A.3),
and the fact that the stochastic integral with respect to W ŷ has expectation zero with
respect to Pŷ . Next the incentive constraint (8), the assumption that Qt ≤ 0, and the
restriction that mt ≤ 0 insure that (pt + γt + Qt mt )∆t ≤ 0. Using this in (A.6) and
regrouping terms we have:
                    ·Z       T                                                                                      ¸
                                 −ρt                                    0
V (ŷ) − q0 ≤ Eŷ                e     [γt (µ(yt − mt ) − µ(yt ) + mt µ (yt )) + Qt mt (µ(yt − mt ) − µ(yt ))] dt
                         0
                      ·Z         T                     ¸
                                      −ρt     2 0
             ≤ −Eŷ                  e Qt mt µ (yt )dt
                             0
             ≤ 0.

Here the second inequality follows from the concavity of µ, and the final inequality
follows from the assumptions that µ is decreasing and Qt ≤ 0. Hence the gain from
deviating from truthful revelation is non-positive, so it is optimal for the agent to
report his true endowment. Note that when µ0 (yt ) ≡ 0 then the final inequality is
actually an equality for any {Qt } and thus we have part 3 of the theorem.


                                                   References

     Abraham, A. and N. Pavoni (2003). Efficient Allocations with Moral Hazard and
        Hidden Borrowing and Lending. Working paper, University College London.
     Abreu, D., D. Pearce, and E. Stacchetti (1986). Optimal Cartel Equilibria with
        Imperfect Monitoring. Journal of Economic Theory 39, 251–269.
     Abreu, D., D. Pearce, and E. Stacchetti (1990). Toward a Theory of Discounted
        Repeated Games with Imperfect Monitoring. Econometrica 58, 1041–1063.
     Albanesi, S. and C. Sleet (2006). Dynamic Optimal Taxation with Private Informa-
        tion. Review of Economic Studies 73, 130.
     Atkeson, A. and R. E. Lucas (1992). On Efficient Distribution with Private Infor-
        mation. Review of Economic Studies 59, 427–453.
     Battaglini, M. (2005). Long-Term Contracting with Markovian Consumers. Ameri-
        can Economic Review 95, 637–658.
     Biais, B., T. Mariotti, G. Plantin, and J.-C. Rochet (2007). Dynamic Security De-
        sign: Convergence to Continuous Time and Asset Pricing Implications. Review
        of Economic Studies 74, 345–90.
     Bismut, J. M. (1973). Conjugate Convex Functions in Optimal Stochastic Control.
        Journal of Mathematical Analysis and Applications 44, 384–404.
     Bismut, J. M. (1978). Duality Methods in the Control of Densities. SIAM Journal
        on Control and Optimization 16, 771–777.
     Cvitanić, J., X. Wan, and J. Zhang (2007). Continuous-Time Principal-Agent Prob-
        lems with Hidden Action and Lump-Sum Payment. Working paper, Caltech.
                      PERSISTENT PRIVATE INFORMATION                            33


Cvitanić, J. and J. Zhang (2006). Optimal Compensation with Adverse Selection
   and Dynamic Actions. Working paper, Caltech.
DeMarzo, P. M. and Y. Sannikov (2006). Optimal Security Design and Dynamic
   Capital Structure in a Continuous-Time Agency Model. Journal of Finance 61,
   2681–2724.
Fernandes, A. and C. Phelan (2000). A Recursive Formulation for Repeated Agency
   with History Dependence. Journal of Economic Theory 91, 223–247.
Golosov, M., N. Kocherlakota, and A. Tsyvinski (2003). Optimal indirect and capital
   taxation. Review of Economic Studies 70, 569–587.
Golosov, M. and A. Tsyvinski (2006). Designing Optimal Disability Insurance: A
   Case for Asset Testing. Journal of Political Economy 114, 257–279.
Green, E. J. (1987). Lending and the Smoothing of Uninsurable Income. In E. C.
   Prescott and N. Wallace (Eds.), Contractual Arrangements for Intertemporal
   Trade, pp. 3–25. Minneapolis: University of Minnesota Press.
Kapicka, M. (2006). Efficient Allocations in Dynamic Private Information Economies
   with Persistent Shocks: A First Order Approach. Working paper, University of
   California, Santa Barbara.
Karatzas, I. and S. E. Shreve (1991). Brownian Motion and Stochastic Calculus
   (Second ed.). New York: Springer-Verlag.
Kocherlakota, N. (2003). Figuring Out The Impact of Hidden Savings on Optimal
   Unemployment Insurance. Working paper, Stanford University.
Kocherlakota, N. and L. Pistaferri (2007). Asset Pricing Implications of Pareto Op-
   timality with Private Information. Working paper, University of Minnesota.
Kydland, F. E. and E. C. Prescott (1980). Dynamic Optimal Taxation, Rational Ex-
   pectations and Optimal Control. Journal of Economic Dynamics and Control 2,
   79–91.
Liptser, R. S. and A. N. Shiryaev (2000). Statistics of Random Processes (Second
   ed.), Volume I. Berlin: Springer.
Meghir, C. and L. Pistaferri (2004). Income Variance Dynamics and Heterogeneity.
   Econometrica 72, 1–32.
Rogerson, W. P. (1985a). Repeated Moral Hazard. Econometrica 53, 69–76.
Rogerson, W. P. (1985b). The First-Order Approach to Principal-Agent Problems.
   Econometrica 53, 1357–1367.
Sannikov, Y. (2006). Agency Problems, Screening and Increasing Credit Lines.
   Working paper, UC Berkeley.
Schattler, H. and J. Sung (1993). The First-Order Approach to the Continuous-
   Time Principal-Agent Problem with Exponential Utility. Journal of Economic
   Theory 61, 331–371.
34                                   NOAH WILLIAMS


     Spear, S. and S. Srivastrava (1987). On Repeated Moral Hazard with Discounting.
        Review of Economic Studies 53, 599–617.
     Storesletten, K., C. I. Telmer, and A. Yaron (2004). Cyclical Dynamics in Idiosyn-
        cratic Labor Market Risk. Journal of Political Economy 112, 695–717.
     Tchistyi, A. (2006). Security Design with Correlated Hidden Cash Flows: The Op-
        timality of Performance Pricing. Working paper, NYU Stern School of Business.
     Thomas, J. and T. Worrall (1990). Income Fluctuation and Asymmetric Informa-
        tion: An Example of a Repeated Principal-Agent Problem. Journal of Economic
        Theory 51, 367–90.
     Werning, I. (2001). Optimal Unemployment Insurance with Unobservable Saving.
        Working paper, MIT.
     Williams, N. (2006). On Dynamic Principal-Agent Models in Continuous Time.
        Working paper, Princeton University.
     Yong, J. and X. Y. Zhou (1999). Stochastic Controls. New York: Springer-Verlag.
     Zhang, Y. (2007). Dynamic Contracting with Persistent Shocks. Working paper,
        University of Iowa.
     Zhou, X. Y. (1996). Sufficient Conditions of Optimality for Stochastic Systems with
        Controllable Diffusions. IEEE Transactions on Automatic Control AC-41, 1176–
        1179.
