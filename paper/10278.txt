                                 NBER WORKING PAPER SERIES




                 DEMAND ESTIMATION WITH HETEROGENEOUS
            CONSUMERS AND UNOBSERVED PRODUCT CHARACTERISTICS:
                           A HEDONIC APPROACH

                                           C. Lanier Benkard
                                             Patrick Bajari

                                         Working Paper 10278
                                 http://www.nber.org/papers/w10278


                       NATIONAL BUREAU OF ECONOMIC RESEARCH
                                1050 Massachusetts Avenue
                                  Cambridge, MA 02138
                                      January 2004




We would like to thank Daniel Ackerberg, Steven Berry, Richard Blundell, Timothy Bresnahan, Donald
Brown, Ian Crawford, Hidehiko Ichimura, Guido Imbens, John Krainer, Jonathon Levin, Rosa Matzkin,
Costas Meghir, Whitney Newey, Ariel Pakes, Peter Reiss, Marcel Richter, and Ed Vytlacil for many helpful
discussions, as well as three anonymous referees, and seminar participants at Carnegie Mellon, Northwestern,
Stanford, UBC, UCL, UCLA, Wash. Univ. in St. Louis, Wisconsin, and Yale for helping us to clarify our
thoughts. Both authors would also like to thank the Hoover Institution, the NSF, and the Bureau of Economic
Analysis for their support. Any remaining errors are our own. The views expressed herein are those of the
authors and not necessarily those of the National Bureau of Economic Research.

©2004 by Sebastian Edwards. All rights reserved. Short sections of text, not to exceed two paragraphs, may
be quoted without explicit permission provided that full credit, including © notice, is given to the source.
Demand Estimation with Heterogeneous Consumers and Unobserved Product Characteristics:
A Hedonic Approach
C. Lanier Benkard and Patrick Bajari
NBER Working Paper No. 10278
January 2004
JEL No. L0, D0

                                           ABSTRACT

We study the identification and estimation of Gorman-Lancaster style hedonic models of demand

for differentiated products for the case when one product characteristic is not observed. Our

identification and estimation strategy is a two-step approach in the spirit of Rosen (1974). Relative

to Rosen's approach, we generalize the first stage estimation to allow for a single dimensional

unobserved product characteristic, and also allow the hedonic pricing function to have a general,

non-additive structure. In the second stage, if the product space is continuous and the functional

form of utility is known then there exists an inversion between the consumer's choices and her

preference parameters. This inversion can be used to recover the distribution of random coefficients

nonparametrically. For the more common case when the set of products is finite, we use the revealed

preference conditions from the hedonic model to develop a Gibbs sampling estimator for the

distribution of random coefficients. We apply our methods to estimating personal computer demand.

C. Lanier Benkard                                     Patrick Bajari
Graduate School of Business                           Department of Economics
Stanford University                                   Duke University
518 Memorial Way                                      305 Social Science Building
Stanford, CA 94305-5015                               Box 90097
and NBER                                              Durham, NC 27708-0097
lanierb@stanford.edu                                  and NBER
                                                      bajari@econ.duke.edu
1    Introduction


This paper considers the identification and estimation of hedonic models (Gorman (1980),
Lancaster(1966, 1971)) of consumer demand in differentiated products markets. The appli-
cation of hedonic models was pioneered by Rosen (1974). However, Rosen’s approach, while
widely used in the past in some empirical literatures (e.g., housing and labor markets), has
been neglected in many other empirical literatures (e.g., I.O.), and has otherwise drawn some
recent criticisms (e.g., Brown and Rosen (1982), Epple (1987), Bartik (1987), and others)
that have proven difficult to address.


We believe that there are two main reasons that hedonic models have not been used in em-
pirical work more widely. One is that the model as outlined by Rosen (1974) assumes perfect
competition and a continuum of products. While these assumptions may be appropriate in
some markets, such as housing, in many other markets they are not. In I.O. applications,
for example, imperfect (oligopolistic) competition is often specifically a topic of interest. In
imperfectly competitive markets, the existence of the hedonic price function is not gener-
ally guaranteed, and in cases where it does exist it is not likely to have a simple additively
separable form. It is also rare for oligopolistic markets to contain more than a few hundred
products, making the continuous product space assumption less palatable. Thus, we relax
these assumptions. We begin the paper by showing that if demand is given by the hedonic
model, then even if there is imperfect competition or a finite number of products, there exists
a hedonic price surface. We also generalize Rosen’s model such that the price function can
take on a general nonseparable form. Finally, we develop estimators for consumers’ preference
parameters for the case when there are a small (finite) number of products in the market.


The other reason that hedonic models have not been more widely used is perhaps even more
important: it is the strict assumption that all product characteristics are perfectly observed.
In practice, typically only a very small number of product characteristics are observed. As a
result, it is common for the perfect observability assumption to lead to revealed preference
violations. For example, it is common for data sets to contain two products with positive



                                               1
demand in the same period, where one of the products is “better” in every dimension of
characteristics space, and also has a lower price. In our data on computer demand this
is true for 357 of the 695 products. In such cases, there is no set of parameters under
which the hedonic model can rationalize the observed demands. This problem has led to
the wide use of discrete choice econometric models (such as logit, probit, etc.) that allow
for further product differentiation through a random error term. In this paper we relax the
assumption of perfect observability of product characteristics, and instead allow one product
characteristic to be observed by the consumer but not by the econometrician (see also Berry
and Pakes (2001) for an alternative approach to this problem). We believe that with these
generalizations (imperfect competition, nonseparable price function, discrete product space,
unobserved characteristics) the hedonic model will be substantially easier to apply to standard
data sets. We support this claim further by applying the model to personal computer demand
in section 6.


Similarly to Rosen’s approach, this paper’s estimation procedure has two stages. In the first
stage, price data are used to recover both the hedonic pricing function and the unobserved
characteristics. Generalizing the first stage to allow for nonseparability and unobserved prod-
uct characteristics requires some additional assumptions, and we consider four specific cases
of interest. The first case is when the unobserved product characteristics are independent
of the observed product characteristics (using the results of Matzkin (2003)). This first case
is a slightly stronger version of the (mean) independence assumption commonly used in the
empirical literature. In the second case, the consumer maximizes utility by first choosing
a “model” and then choosing an “options package.” This second case is a nonparametric
analog to fixed effects in a linear model. Many product markets, such as automobiles and
computers, have this feature. The third case is when there is at least one market in which
prices are not a function of the observed characteristics. The leading example for this case is
packaged goods industries, in which different varieties of the same brand frequently have the
same price, while different brands have different prices. The fourth case is a nonseparable
nonparametric instrumental variables approach due to Imbens and Newey (2002).


In the second stage of the estimation procedure we investigate the recovery of consumers’

                                              2
preference parameters from demand data at both the aggregate or household levels. Identifi-
cation of preferences is well understood for the case when the data contains many observations
for each consumer under widely varying pricing regimes (see Mas-Colell 1977). However, real
data sets are seldom this rich, frequently containing only a single observation per consumer.


If the choice set is continuous, then the household level preference parameters must satisfy a
set of first order conditions that require the marginal rate of substitution between a contin-
uous product characteristic and the composite commodity to equal the implicit price of that
product characteristic. If the functional form of the utility function is known and the pa-
rameter vector is of equal or lesser dimension than the characteristics vector, then these first
order conditions can be used to recover household level random coefficients. By aggregating
household level random coefficients, the population distribution of random coefficients can
be obtained nonparametrically.


It is more common in empirical applications for the market to contain a small number of
products, so we go on to consider this second case. In this case, an individual consumer’s
random coefficients typically are not identified from the revealed preference conditions even
if the parametric form of utility is known. Instead, the revealed preference conditions imply
that each individual’s taste coefficients lie in a set. This set tends to be smaller when there
are more products in the market, eventually converging to a singleton. We show how to use
these sets for each individual to construct bounds on the population distribution of random
coefficients. The procedure is shown to converge to the population distribution of taste
coefficients as the number of products becomes large. We also develop a computationally
simple Gibbs sampling procedure that can be used to estimate the population distribution
of taste coefficients when the product space is finite.


Our estimation procedure avoids the criticisms of Brown and Rosen (1982), Epple (1987)
and Bartik (1987) primarily by being less ambitious than the Rosen paper with respect
to the second stage estimation of preferences. Rosen’s approach attempts to obtain higher
order approximations to the utility function by imposing homogeneity across individuals, and
runs into an identification problem in the process. We retain all of the heterogeneity across


                                               3
individuals (by allowing each individual to have different utility parameters), and instead rely
on parametric restrictions to the utility function to provide identification.1


The approach in this paper also has much in common with demand models used in the recent
empirical literature in I.O. beginning with Berry (1994) and Berry, Levinsohn, and Pakes
(1995) [BLP], and including Nevo (2001), Petrin (2002), and many others. In particular,
that literature has shown the importance of including unobserved product characteristics in
the demand model. The primary difference between the hedonic model in this paper and
the BLP-style models is that the hedonic model does not have an iid random error term in
the utility function. Including the iid error term in the utility function amounts to assuming
that the characteristics space is infinite dimensional. Along with the particular distributional
assumptions employed, this assumption has implications to the shape of the demand curve,
most commonly leading to demand curves that have a hyperbolic shape and asymptote to
both the price and quantity axes. The hedonic model studied here does not imply any partic-
ular shape for the demand curve (other than it be downward sloping). Therefore, in practice,
the two models would typically lead to different results, particularly in predicting demand
for prices outside the range of the observed data. In some applications, these differences may
be substantive. Indeed, Petrin (2002) shows that the iid component of utility can have a
large impact on the results of welfare studies. Since it is likely to be very difficult in practice
to know which model is more correct, we view the hedonic model as a valid alternative to
the standard discrete models (see also Ackerberg and Rysman (2002), Bajari and Benkard
(2003), and Berry and Pakes (2001) for further discussion of these issues).


An advantage of the hedonic approach relative to standard approaches is that it facilitates
nonparametric estimation of the individual preference parameters. For example, in section
6 we nonparametrically estimate the distribution of a 20-dimensional taste vector for the
characteristics of desktop personal computers. We find that, in general, consumers’ tastes for
the various characteristics (e.g. RAM, Hard Drive Capacity, CPU speed) are highly positively
correlated, and this result includes consumers’ taste for the unobserved characteristic. We also
   1
     Note that Ekeland, Heckman, and Nesheim (2001) provide a solution to the identification problem outlined
by Epple (1987) and Bartik (1987). However, their approach allows for only a single dimensional characteristic
which must be observed.


                                                      4
find that consumers’ tastes for desktop computer characteristics have been rapidly increasing
over time, likely due to changes in the prices of complementary goods such as internet access
and computer software. This evidence suggests that the assumption that taste distributions
are fixed over time, commonly made in demand applications, would likely lead to poor results
for personal computer demand.


In our opinion, the primary disadvantage of the approach presented here is its data re-
quirement. The first stage estimation is likely to require significantly more data than other
alternatives. Another potential disadvantage is that it requires a stronger independence as-
sumption than is commonly used. However, we also relax this requirement somewhat by
allowing the error term to be nonadditive. Thus, the model is easily capable of generating
features such as heteroskedasticity that are often found in empirical work. Lastly, the method
allows for only a single-dimensional, vertically differentiated unobserved characteristic.2


The rest of the paper proceeds as follows. Section 2 introduces the model and notation,
and proves that if demand is given by the hedonic model then there exists an equilibrium
price function. Section 3 shows identification of the price function and unobserved product
characteristics (first stage). Section 4 shows identification of preferences (second stage).
Section 5 presents econometric estimators consistent with the arguments of sections 3 and 5.
Finally, section 6 applies the estimators to estimating personal computer demand.




2       The Model


In our model, a product j ∈ J is a finite dimensional vector of characteristics, (xj , ξj ), where
xj = (xj1 , ..., xjK ) is a K dimensional vector of characteristics observed by both the consumer
and the econometrician, and ξj is a scalar that represents a characteristic of the product that
is observed only by the consumer. The set X = ∪j∈J (xj , ξj ) ⊆ RK+1 represents all products
that are available to consumers in the market.
    2
     Goettler and Shachar (2001) relaxes both of these assumptions in the BLP framework. Benkard and Bajari
(2003) uses techniques similar to those of this paper to recover a multidimensional unobserved characteristic
in the context of price indexes.


                                                     5
Let pjt denote the price of product j in market t ∈ T . The elements of T can be thought of as
markets separated by space or time. Consumers are utility maximizers who select a product
j ∈ J along with a composite commodity c ∈ R+ . Each consumer, i, has a utility function
given by ui (xj , ξj , c) : X × R+ → R. The price of the composite commodity is normalized
to one. Consumers have income yi and consumer i’s budget set in market t, B(yi , t), must
satisfy:

      B(yi , t) = {(j, c) ∈ J × R+ such that pjt + c ≤ yi }

Consumer i in market t solves the maximization problem,

           max         ui (xj , ξj , c)                                                                    (1)
      (j,c)∈B(yi ,t)




2.1    The Price Function


This section shows under weak conditions that, in any equilibrium, the model above implies
that prices in each market must have the following properties: (i) there is one price for each
bundle of characteristics, (ii) the price surface is increasing in the unobserved characteristic,
and (iii) the price surface satisfies a Lipschitz condition. The theorem relies only on consumer
maximization, the fact that prices are taken as given, and some simple assumptions on
consumers’ utility functions. Most importantly, it is independent of supply side assumptions.


We make the following three assumptions.


                                                                                             ∂ui (xj ,ξj ,c)
A1 ui (xj , ξj , c) is continuously differentiable in c and strictly increasing in c, with        ∂c           >
       for some  > 0 and any c ∈ (0, yi ].

A2 ui is Lipschitz continuous in (xj , ξj ).

A3 ui is strictly increasing in ξj .


Assumption A3 is the most restrictive assumption of the three. It implies that there is no
satiation in the unobserved product characteristic. However, without A3 the price function
is not guaranteed to be increasing in ξ.

                                                   6
Theorem 1. Suppose that A1-A3 hold for every individual in every market. Then, for any
two products j and j 0 with positive demand in some market t,


  (i) If xj = xj 0 and ξj = ξj 0 then pjt = pj 0 t .

 (ii) If xj = xj 0 and ξj > ξj 0 then pjt > pj 0 t .

(iii) |pjt − pj 0 t | ≤ M (|xj − xj 0 | + |ξj − ξj 0 |) for some M < ∞.


Proof. See appendix.


The intuition for the theorem is that if properties (i)-(iii) were not satisfied by the equilibrium
prices, then some of the goods could not have positive demand.


The equilibrium price function for market t is denoted pt (xj , ξj ). It is a map from the set of
product characteristics to prices that satisfies pjt = pt (xj , ξj ) for all j ∈ J , and we assume
throughout the rest of the paper that (i)-(iii) hold. Because (iii) holds for all pairs of products,
in the limit the price function must be Lipschitz continuous.



2.2    Discussion


Because the theorem above is based on demand side arguments only, it is general to many
types of equilibria, both dynamic and static. Note, however, that the theorem only speaks
to the prices of products actually observed with positive demand. A consequence is that for
some cost functions and some demand patterns, certain bundles may never be observed. For
example, this is likely to be the case if the cost function was discontinuous. In such cases it
also seems likely that there would be a selection problem in the price function estimation.


Note also that the price function in each market is an equilibrium function that is dependent
upon market primitives. It does not tell what the price of a good would be if that good is not
already available in the market. If a new good were added, in general all the prices of all the


                                                       7
goods would change to a new equilibrium, and thus the whole price function would change
as well. The price function would also change if any other market primitives were to change,
such as consumer preferences, marginal production costs, or if a good already in the market
were to be produced by another multi-product firm. This is the primary reason for the fact
that we have to treat the price function as being possibly different in every market. What the
price function in a particular market does tell us is the relationship between characteristics
and prices as perceived by a consumer in that market.


Even very simple models of competition would suggest that the equilibrium price function
should be nonlinear and nonseparable in all the characteristics. For example, standard single
product firm inverse elasticity markup formulas imply a nonseparable price function even for
a linear marginal cost function. Thus, we feel it would not be appropriate for us to assume
that the price function was additively separable in the unobserved product characteristics.
Instead, we proceed by maintaining the general form above.




3     Identification of the Price Function and the Unobserved
      Characteristics


3.1   Identification Using Independence.


In this section we demonstrate that the price function and the unobserved product charac-
teristics {ξj } are identified if the unobserved product characteristic ξ is independent of the
observed product characteristics x. This is true even if prices are observed with error.


First, consider identification of the price surface if prices are observed without error. We
begin with two assumptions.


A4 ξ is independent of x.

                                                                         ∂pt (x,ξ)
A5 For all markets t and all x, pt (x, ·) is strictly increasing, with     ∂ξ        > δ for all (x, ξ)

                                               8
      for all t and some δ > 0.3


Assumption A4, which requires full independence, is a strengthening of the mean indepen-
dence assumption commonly used in the empirical literature in I.O. However, allowing for
nonseparability also relaxes the independence assumption. In models where the errors enter
linearly, independence rules out heteroskedastic unobservables, which are often thought to
be important in applied work. Nonseparability allows the underlying independent error to
interact with observed data in ways that replicate models of heteroskedasticity.


If independence holds, then the support of the unobserved product characteristics does not
depend on the observed characteristics so that pt : A × E → R, where A ⊆ RK is the support
of x, and E ⊆ R is the support of ξ. Assumption A5 follows from more primitive assumptions
on consumer preferences (see Theorem 1).


For the case where there is a single market, that is T = {1}, and no measurement error in
prices, the results of Matzkin (2003) can be used to show under weak conditions that both
the functional form of p1 (·) and the distribution of the unobserved product characteristics,
{ξj }, are identified up to a normalization on ξ. The first part of our identification proof
follows Matzkin (2003), the only differences being that her results are extended to cover the
case of many markets, and we use an alternative normalization that facilitates estimation.


Let I be the set of price functions satisfying A5,


      I = {p0 : A × E → IR | for all x ∈ X, p0 (x, ·) is strictly increasing}                          (2)


Since the unobserved product attribute has no inherent units, it is only possible to identify
it up to a monotonic transformation. Thus, without loss of generality, we assume that
a normalization has been made to ξ such that the marginal distribution of ξ is U [0, 1].
Technically, this amounts to normalizing ξ using its distribution function.
   3
     The lower bound on the derivative is needed to ensure that as the number of markets becomes large
the price function does not become arbitrarily close to a weakly increasing function. The main theorem only
requires δ ≥ 0. The proof with measurement error requires δ > 0.


                                                    9
We define identification to be identification within the set satisfying the normalization made
above,

Definition 1. The function p is identified in I if


   i. p ∈ I, and

  ii. For all p0 ∈ I,

             [Fp,x (·; p) = Fp,x (·; p0 )] ⇒ [p = p0 ]


We now show that identification holds in the case where prices are measured without error.

Theorem 2. If prices are observed without error and A4-A5 hold, then pt is identified in I
for all t. Furthermore, {ξj } is identified.


Proof. We first show how to construct the unobserved product characteristics using the con-
ditional distribution of prices,


      Fpt |x=xj (pjt ) = P r(pt (x, ξ) ≤ pjt |x = xj )

                        = P r(ξ ≤ pt −1 (x, pjt )|x = xj )

                        = P r(ξ ≤ pt −1 (xj , pjt ))

                        = pt −1 (xj , pjt )

                        = ξj




To construct the price function for each market we need only invert the above relationship,

      pt (x0 , e0 ) = Fp−1
                        t |x=x0
                                (e0 )                                                      (3)




                                                     10
From the proof of the theorem we can see that, in the absence of measurement error, iden-
tification of the unobserved product characteristics can be obtained in a single cross-section.
Therefore, for example, identification is obtained even if products are observed in only one
market. We mention this because it implies that identification is obtained even if the unob-
served product characteristics for each product change over time, as is commonly assumed in
the empirical literature. It also means that identification is obtained even if the distribution
of the unobserved product characteristics changes over time (or across markets).


In the appendix we show that cross-market variation can be used to obtain identification
when prices are measured with error. However, in that case each product must be observed
in many markets.



3.2   Identification Using “Options Packages”


This section provides an alternative set of assumptions that also provide identification and
that we believe may be satisfied in some applications. In some markets, consumers simulta-
neously choose a model, and an options package for that model. For instance, a car buyer’s
problem could be represented as choosing a model (Camry, Taurus, RAV4,...) and a pack-
age of options associated with the model (horsepower, air conditioning, power steering, ...).
Purchases of computers might also be well represented as the joint choice of a model (Dell
Dimension 8100, Gateway Profile 2, Compaq Presario 5000 Series,...) and an options package
(RAM, processor speed/type, hard drive,...). In this section, we demonstrate that if it is
the case that the product unobservable ξj corresponds to a model and the xj correspond to
an options package then it is possible to identify the pricing function and the unobserved
product characteristics.


Let z denote a model and Z denote the set of all models. The set of models induces a
partition of J . The map π : J → Z associates products (j) with models (z). The inverse
image of z under π is the set of products that are model z, where each product has a possibly
different options package x. The model z is observable and x and z have joint distribution


                                              11
Fx,z : A × Z → R.


The first assumption in this section says that ξ is shared by products that are the same
model:


A6. For all j1 , j2 ∈ Z, if π(j1 ) = π(j2 ) then ξj1 = ξj2 .


In order to identify the product unobservable, we also need there to be a “baseline” or
standard options package that is available for all models z. We formalize this requirement
using the following assumption,


A7. There exists an x̄ ∈ A such that for all z ∈ Z, f (x̄|z) > 0.


Due to the lack of implicit units for ξ, we again can only identify ξ and the price function up
to a normalization. In this case we normalize ξ such that Fξ|x=x̄ is U [0, 1]. The next theorem
shows identification for the case where prices are observed without error.

Theorem 3. If prices are observed without error and A5-A7 hold, then pt is identified in I
for all t. Furthermore, {ξj } is identified.


Proof. For each product j, let j ∗ be a product such that π(j) = π(j ∗ ) and xj ∗ = x̄. Such a
product exists for every model π(j) by A7. Then, similarly to the previous section,

      ξj = Fpt |x=x̄ (pj ∗ t )

This equation identifies {ξj }.


The price function in each market is given by the prices of non-baseline packages. For any
point (x0 , e0 ) ∈ A × E,

      pt (x0 , e0 ) = pkt for k ∈ J such that ξk = e0 and xk = x0                          (4)




                                                  12
Again in this case, identification of the unobserved product characteristics is obtained in a
single cross-section. However, unlike the independence case above, in this case identification
can be obtained in a single cross section even if prices are measured with error (see appendix).
The reason for the difference is that we now observe many products in each market that are
known to have the same value of ξ.


Another consequence of observing many products in each market that are assumed to have
the same value for the unobservable is that the model is overidentified, and is therefore
testable. If there is no measurement error in prices, then the model is rejectable in the sense
that assumption A6 may be violated in the data.



3.3    Identification With a Rich Set of Price Functions


The third approach to identification is unique in that it requires no additional assumptions
on the joint distribution of x and ξ. Instead, we rely on two assumptions about the set of
price functions that are observed. First, we suppose that the data is rich enough that there
is one market in which prices do not depend very much on the observed characteristics. We
do not assume that the researcher knows which market this is.


A8 There exists a market, t, such that pt (x, ξ) = f (ξ), with fξ > 0.


In our opinion, assumption A8 is not likely to hold in the majority of applications, but
may hold in some specialized circumstances. A8 is most likely to hold in markets where
“quality” is the primary differentiating feature of the product with respect to determining
price. For example, in many packaged goods markets, even though consumers may have
strong preferences over “flavors”, which would typically be observable as dimensions of x, all
flavors of a given product line often have exactly the same price, while different product lines
have different prices.4
   4
     Specifically, suppose that in one market the price function is pt (x, ξ) = w · x + ξ where x is a vector of
“flavor dummies” and all of the elements of w are the same.



                                                      13
Second, we also need weak monotonicity of prices in all of the characteristics,


A9 For all markets t, pt (x, ξ) is weakly increasing in all of the observed characteristics, x,
      and strictly increasing in the unobserved characteristic, ξ.


We think that A9 is likely to hold in many applications. If all individuals have monotone
preferences over all characteristics, then A9 holds by an argument similar to that of Theorem
1. However, A9 might hold even if this were not the case. For example, if marginal costs
were sufficiently increasing in all characteristics, then A9 would also hold.

Theorem 4. If prices are observed without error, A8 and A9 hold, and (x, ξ) have full support
on A × E, then pt is identified in I for all t. Furthermore, {ξj } is identified.


Proof. Let x ≡ (x1 , ..., xk , ξx ) and y ≡ (y1 , ..., yk , ξy ) be two points in the commodity space.
In order to prove that the {ξj } are identified, we show that the ranking of ξx and ξy is
uniquely determined. Let x∗ = (min(x1 , y1 ), ..., min(xk , yk )) be the component by component
minimum of the observed characteristics of the two products. Define J 0 ⊆ J as follows:

      J 0 = {j 0 ∈ J : (xj 0 ,1 , ..., xj 0 ,k ) = x∗ , and pj 0 ,t ≤ pt (x) for all t}           (5)

It follows from A8 and A9 that there exists an element j 0 ∈ J 0 and a market t such that
pj 0 ,t > pt (y) if and only if ξx > ξy .


This identifies the ranking of {ξj }. A normalization thus identifies the {ξj } and Fx,ξ . Iden-
tification of p(x, ξ) follows directly.


Note that the proof above requires the fact that all products are observed in many markets.



3.4    Identification Using Instruments


In the event that the unobserved product characteristics are not independent of all of the
observed characteristics, a fourth possible approach for identifying and estimating the first

                                                       14
stage of the model would be to use nonseparable nonparametric instrumental variables. The
details of such an approach have not to our knowledge been worked out in general. However,
Imbens and Newey (2002) provide estimators for triangular systems that are applicable to
our model in many applications.


The primary difficulty with using the Imbens and Newey instrumental variables approach
is that it necessitates finding instruments that determine (in the sense of functional depen-
dence) the value of the “endogenous” observed characteristic(s) but that are independent
of the unobserved characteristic. In the kinds of applications that we are interested in, the
past empirical literature has relied on independence assumptions between the observed and
unobserved characteristics, showing that such instruments may be difficult to find. How-
ever, there are some applications where it is possible. For example, as instruments for the
endogenous characteristics (e.g. racial make-up) of a given neighborhood, Bayer, McMillan,
and Ruben (2002) use the fixed characteristics (e.g. housing stock characteristics) of housing
in surrounding neighborhoods.




4        Identification of Preferences


The results of Section 3 provide sufficient conditions for identification of pt (x, ξ) and {ξj }. If
the consumer demand function is known for all p ∈ I, then the results of Mas-Colell (1977)
provide sufficient conditions for identification of consumer i’s weak preference relation, i .5
Unfortunately, most data sets are not this rich. Therefore, we consider the identification of
consumer preferences in cases where less information about the demand function is available.
The first case we consider is when the choice set is continuous, but there are a finite number
of observations per individual. This case is similar to that of the Rosen (1974). We also
consider the more common case where the set of products is discrete in section 4.2.
    5
        In Mas-Colell (1977), the budget sets are linear. Therefore, it is sufficient to know the consumer demand
function for all p ∈ I that are linear in (x, ξ) to apply these results.




                                                         15
4.1     Continuous Choice Set and a Finite Number of Observations Per In-
        dividual


Typically only a small number of choices are observed per consumer, often just one. By
standard arguments, at each chosen bundle, the marginal rate of substitution between char-
acteristics is equal to the slope of the consumer’s budget set at that point. This information
provides only local information about preferences at each chosen bundle.


A simple way to narrow down the range of possibilities, however, is to place parametric
restrictions on the consumer’s indifference curves. These restrictions can be viewed either
as an identifying assumption, or as providing a local approximation to the utility function.
Many discrete choice models in the literature assume that utility is linear or log-linear in
(x, ξ, c), e.g.,

       uij = βi,1 log(x1,j ) + · · · + βi,K log(xK,j ) + βi,ξ log(ξj ) + c.                      (6)

In the equation above, the utility of household i for product j depends on household specific
preference parameters, βi = (βi,1 , ..., βi,K , βi,ξ ). If there is an interior maximum, then the
first order conditions for utility maximization are


       βi,k         ∂pt
               =               for k = 1, ..., K                                                 (7)
       xk,j        ∂xj,k
       βi,ξ        ∂pt
               =       .                                                                         (8)
        ξj         ∂ξj


These first order conditions can be solved simply for the unknown preference parameters of
the individual,


                     ∂pt
       βi,k = xk,j                 for k = 1, ..., K                                             (9)
                    ∂xj,k
                   ∂pt
       βi,ξ   = ξj     .                                                                        (10)
                   ∂ξj


If the price function, pt , and unobserved characteristics {ξj } are known, then in this example
household i’s preference parameters, βi = (βi,1 , ..., βi,K , βi,ξ ), can be recovered even if only a

                                                       16
single choice of the household, (xj , ξj ), is observed. By aggregating the decisions of all of the
household in market t, Ft (β), the population distribution of taste coefficients in market t can
be learned.


In general, we characterize an agent by a B dimensional parameter vector βi ∈ RB . Since the
previous section has shown that the unobservables, {ξj }, are identified by the price function,
we proceed as if ξ is known and write the utility function as

      ui (x, c) = u(x, yi − p(x); βi ).                                                       (11)

where the dependence of utility on ξ is dropped to simplify notation.


Agents choose the element x ∈ X that maximizes utility. If both u and p(x) are differentiable,
then the first order necessary conditions are
       ∂
          {u(x, yi − p(x); βi )} = 0 for k = 1, ..., K                                        (12)
      ∂xk
Let x(β) denote the optimal choice of x conditional on β. The first order conditions can be
implicitly differentiated to yield


               x0 (β) = − [Dx,x u]−1 Dx,βi u                                                  (13)

      where u(x; β) = u(x, yi − p(x); βi )                                                    (14)


Theorem 5. Suppose βi ∈ B ⊆RB , where B is an open convex subset and x ∈ RK . Then if
x0 (β) is locally negative definite or positive definite, then βi is locally identified. If K = B,
and x0 (β) is globally positive definite or negative definite, then x(β) is one-to-one.


Proof: The first part of the theorem follows from the local version of the inverse function
theorem. The second part follows from the global inverse function theorem since if (13) is
everywhere positive or negative definite, then x(β) is one-to-one so that the preferences are
globally identified. (see Gale and Nikaido (1965)). Q.E.D.


Theorem 5 places tight restrictions on the types of utility functions that can be identified
using the choice data. Conditional on knowing the price surface p, we can identify at most

                                                17
K random coefficients per choice observation. While this may seem like a negative result, we
do not view it that way. Even just a first order approximation to the utility function may
be good enough for many applications. For example, the experiment of removing a single
good from the market to evaluate the consumer surplus obtained from the good (e.g. Petrin
(2002)) would involve only local changes to utility if the choice set is rich. Additionally, if
more than one choice per household is available, the first order conditions can be used to
provide higher order approximations to the utility function.



4.2    Discrete Product Space


In practice, there are at least three reasons why the continuous choice model might not provide
a good approximation to choice behavior. First, the number of products in the choice set
may not be sufficiently large that the choice set is approximately continuous. Second, many
product characteristics are fundamentally discrete (e.g., “power steering”, “leather seats”).
Third, some consumers may choose products at the boundaries (e.g., the fastest computer).


In place of the marginal conditions in (12), when the product space is discrete, consumer
maximization implies a set of inequality constraints. If consumer i chooses product j ∈
{1, ..., J} then

      u(xj , ξj , yi − p(xj , ξj ); βi ) ≥ u(xk , ξk , yi − p(xk , ξk ); βi ) for all k 6= j.   (15)

Therefore, it must be that βi ∈ Aij , where

      Aij = {βi : βi satisfies (15)}.                                                           (16)

If the choice set is finite, the Aij sets will typically not be singletons, implying that the pa-
rameters βi are not identified. However, that does not mean that the data is non-informative.
If the choice set is rich, the Aij sets may be small. In the appendix it is shown that if all
of the characteristics are continuous and the choice set is compact, then as the number of
products increases, the Aj sets converge to the individual taste coefficients βi . In applications
where the Aij sets are large enough that the lack of identification matters, we show below

                                                        18
that it is possible to proceed in two ways. First, the Aij sets can be used to construct bounds
on the aggregate distribution of the taste coefficients. Second, it is possible to use Bayesian
techniques to identify one candidate aggregate distribution of interest.



4.3   Non-Purchasers and Outside Goods


In our model, individuals that choose not to purchase any product are handled similarly
to those that do purchase. The decision not to purchase any product is the same as the
consumer spending all of her income on the composite commodity c. That is, it is as if she
purchases a bundle that provides zero units of every characteristic and carries a zero price.
In either the continuous or discrete product space cases, this would imply a set of inequalities
for nonpurchasers of the form,

      u(0, 0, yi ); βi ) ≥ u(xk , ξk , yi − p(xk , ξk ); βi ) for all k.                   (17)

These inequalities could then be used similarly to those above in (15) to locate nonpurchasers’
preference parameters. Note that (17) provides only inequalities and therefore there is an
identification problem for non-purchasers even if the product space is continuous.




5     Estimation


5.1   Estimation, Stage 1: Independence Case


We assume that the econometrician observes prices and characteristics for j = 1, ..., J prod-
ucts across t = 1, ..., T markets. In this section we maintain all of the assumptions in section
3.1. In particular, we assume that x and ξ are independent. We leave out estimation of the
options packages case here for the sake of brevity.


In the discrete choice set case (section 5.3 below) our first stage consists of using prices to
estimate the value of the unobservables. In the continuous choice set case, it is also necessary

                                                        19
to know the price function derivatives. If there is measurement error, then before the first
stage estimation it is necessary to do some smoothing to remove the measurement error.6


Let F̂pt |x=x0 (e0 ) be an estimator for the conditional distribution of prices given x = x0 at
the point e0 in market t. For example, a kernel estimator (such as those outlined in Matzkin
(2003)) or a series estimator (such as those outlined in Imbens and Newey (2002)) could be
used. In section 6 we found that a local linear kernel estimator (Fan and Gijbels (1996))
worked best. Define an estimator for ξ by the following,

       ξˆjt = F̂pt |x=xj (pjt ))                                                                      (18)

While Matzkin (2003) does not explicitly consider estimation of the unobservable, the asymp-
totic properties of the estimator in (18) are analogous to those of the estimator considered
in Theorem 4 of that paper.


If there is measurement error, then the same estimators can be used except that it is first
necessary to estimate the true prices. However, after plugging in the estimated true prices,
the asymptotic properties of the estimator would change.7



5.2    Estimation of Preferences, Continuous Product Space


Next, a strategy is outlined for estimating preferences in the case of one observation per
individual and a simple functional form for utility. When multiple observations per individual
are available, other, more flexible specifications, can be estimated similarly.


To illustrate the approach, assume that the consumer’s utility takes the form in equation (6).
Then the first order conditions imply that equations (9) and (10) must hold. This suggests
   6
     A previous draft of this paper contained estimators for the measurement error case. Please contact the
authors for details.
   7
     This is because the measurement error estimator would have dimension K + 1 while the estimator F̂ has
dimension K.




                                                    20
the following estimator for βi


                    ∂bpt
      βbi,k = xk,j       for k = 1, ..., K                                                  (19)
                   ∂xj,k
                  ∂b
                   pt
      βbi,ξ = ξbj                                                                           (20)
                  ∂ξj


                                                                                  ∂p
where (xij , ξˆji ) represents the (estimated) bundle chosen by individual i and ∂xbt
                                                                                   j,k
                                                                                       represents
an estimator for the derivative of the price function at the chosen bundle. Provided that an
estimator is available for the derivatives of the price function, it is thus possible to estimate
βi . One way to estimate the price function derivatives is by using the derivatives of a price
function estimator. The price function can be estimated analogously to (18) above (except
using (3)) and using either a kernel or series-based approach. Matzkin (2003) also provides
a direct estimator for the price function derivatives.


The asymptotic properties of the taste coefficient estimators depend only on the sample
sizes for the first stage. Because of this, it is possible to obtain accurate estimates of the
entire vector of taste coefficients for each individual using only a single choice observation.
Using the estimated taste coefficients for a sample of individuals along with their observed
demographics, it is then possible to construct a density estimate of the joint distribution of
taste coefficients and demographics in the population.



5.3   Estimation of Preferences, Discrete Product Space


In this section, we propose an approach to estimating βi when the product space is discrete.
Section 4.2 demonstrated that the taste coefficients are typically not identified in this case.
The strategy, therefore, is to recover the sets of taste coefficients that are consistent with
consumers’ choices. This approach is in the spirit of the bounds literature (see Manski (1995,
1997) and Manski and Pepper (2000)). We also borrow heavily from the literature on Bayesian
estimation of discrete choice models (Albert and Chib (1993), Geweke, Keane, and Runkle
(1994), and McCulloch and Rossi (1996)).


                                               21
To illustrate our approach, suppose that only data from a single market is used. In that case,
the bounds estimator of βi is Aij . The problem with estimating these bounds is that, when
there are a large number of products and product characteristics, the Aij sets are high dimen-
sional and determined by a large number of inequalities, making it difficult to characterize
them analytically. Instead, we propose to use numerical methods. We cast the problem of
estimating the taste coefficients into a Bayesian paradigm. Specifically, we construct a like-
lihood function and a prior distribution over the parameters such that the support of the
posterior distribution corresponds to the Aij sets. We then derive a simple Gibbs sampling
algorithm to simulate from this posterior distribution. As the number of simulation draws
becomes sufficiently large, we can learn the support of the posterior distribution and hence
the set of parameters that solve the inequalities (15).


The inequalities (15) generate a likelihood function in a natural fashion. The likelihood that
a consumer with taste coefficients βi chooses product j is:
                        
                         1 if u(xj , yi − pj ; βi ) ≥ u(x , yi − p ; βi ) for all k 6= j
                                                          k        k
     L(j|x, yi , βi ) =                                                                   .   (21)
                         0                          0 otherwise

That is, consumer i chooses product j so long as her taste coefficients imply that product
j is utility maximizing. For technical convenience, the prior distribution for βi , p(βi ) is a
uniform distribution over the region B. Typically, this region would be defined by a set of
conservative upper and lower bounds for each taste coefficient. The posterior distribution for
βi , p(βi |C(i), x, p) conditional on the econometrician’s information set then satisfies

      p(βi |C(i), x, p) ∝ π(βi )L(j|x, βi ).                                                  (22)

The posterior distribution is uniform over those βi ∈ B that are consistent with the agents
choice. So long as B completely covers all of the Aij sets, the posterior is uniform over Aij .


In applications, the econometrician is usually interested in some function of the parameter
values g(βi ) such as the posterior mean or the revenue a firm would receive from sending a
coupon to send to household i. In our case we are interested in the value of the aggregate
distribution function of the βi ’s. We cover estimation of that below. In general, the object


                                                   22
of interest can be written as:
         Z
                 g(βi )p(βi |C(i), x, p)                                                                       (23)



One way to evaluate the above integral is by using Gibbs sampling. Gibbs sampling generates
                                                                 (1)   (2)     (S)
a sequence of S pseudo-random parameters βi , βi , ..., βi                           with the property that:
                        S              Z
             1X    (s)
          lim   g(βi ) =                   g(βi )p(βi |C(i), x, p)                                             (24)
         S→∞ s
                       s=1

In what follows, we describe the mechanics of generating the set of pseudo-random parameters
 (1)      (2)           (S)
βi , βi , ..., βi . Readers interested in a more detailed survey of Gibbs sampling can consult
the surveys by Geweke (1996, 1997).


Suppose that household i chooses product j. The first step in developing a Gibbs sampler is
to use equation (22) to find the distributions,


                 p(βi,1 |x, p, C(i) = j, βi,−1 )                                                               (25)

                 p(βi,2 |x, p, C(i) = j, βi,−2 )                                                               (26)
                                 ..
                                  .                                                                            (27)

         p(βi,K |x, p, C(i) = j, βi,−K ).                                                                      (28)




If the specification of utility is linear in the βi and Xj , it is straightforward to derive the
conditional densities (25).8 For example, in the model (6), if j is utility maximizing for
household i
         X                                      X
                  βi,l log(xl,j ) + yi − pj ≥          βi,l log(xl,k ) + yi − pk for all k 6= j,               (29)
             l                                     l
   8
       If the support of the posterior distribution is not connected, Gibbs sampling is not guaranteed to converge.
However, if the βi enter into the utility function linearly, as in equation (6 ), it can easily be shown that the
sufficient conditions for convergence described in Geweke (1994) are satisfied.




                                                                23
which implies that:

                  P
                       l6=1 βi,l (log(xl,k )     − log(xl,j )) + (yi − pj ) − (yi − pk )
      βi,1 ≥                                                                                  if x1,j > x1,k           (30)
                                     log(x1,j ) − log(x1,k )
                  P
                   l6=1 βi,l (log(xl,k ) − log(xl,j )) + (yi − pj ) − (yi − pk )
      βi,1 ≤                                                                                  if x1,j < x1,k .         (31)
                                              log(x1,j ) − log(x1,k )


Since both prior distribution and the likelihood are uniform, it follows that the conditional
distribution (25) is uniform on the interval [β1,min , β1,max ] , where
                                 P
                                      l6=1 βi,l (log(xl,k ) − log(xl,j )) + (yi − pj ) − (yi − pk )
                  
    β1,min = max min B, max
                    β1 |β−1                             log(x1,j ) − log(x1,k )
                                                             
                                   such that x1,j > x1,k                                            (32)



                                               P
                                                    l6=1 βi,l (log(xl,k )   − log(xl,j )) + (yi − pj ) − (yi − pk )
                       
    β1,max = min           max B, min
                           β1 |β−1                                    log(x1,j ) − log(x1,k )
                                                                                                                    . (33)
                                                 such that x1,j     < x1,k

The conditional distribution for the remaining β’s is also a uniform distribution defined by
inequalities that are analogous to (32) and (33). So long as βi enters the utility function
linearly, the conditional distributions are uniform.

      (0)        (0)       (0)
Let βi      = (βi,1 , βi,2 ) be an arbitrary point in the support of the posterior. The Gibbs
sampling algorithm proceeds as follows:


                (s)                  (s+1)                                                          (s)
   1. Given βi , draw βi,1                   from the distribution p(βi,1 |x, p, C(i) = j, βi,−1 ).

   2. Draw βi,l conditional on the vector βi,−l as in step 1, for l = 2, ..., K.

   3. Return to 1.



This algorithm is quite simple to program since at each step it only requires the econometri-
cian to compute upper and lower bounds similar to ( 32) and (33) and draw a sequence of


                                                               24
uniform random numbers. The sequence of random draws obtained can be used to construct
bounds on the distribution function.


An alternative to the bounds approach would be to construct a point estimate for the distri-
bution of tastes for the entire population of consumers. Let F (β1 , ..., βK ) be the cumulative
distribution function for the K taste coefficients. It follows that:


      F (β 1 , ..., β K ) = Pr(β1 ≤ β 1 , ..., βK ≤ β K )                                  (34)
                                      S
                                  1   X
                       =    lim             1{β1 ≤ β 1 , ..., βK ≤ β K }.
                           S→∞    S
                                      s=1


The sample analog of the last expression, using the Gibbs draws, can be used as an estimator
for F . This estimator uses the uniform prior to choose one of many possible distributions
consistent with the data.


The algorithm can also be used to estimate more general models of choice. Suppose, for
example, that consumers are observed more than once. If household i is observed to choose ni
times, then ni (J − 1) inequalities are implied by maximization. The conditional distributions
used in Gibbs sampling can then be derived analogously to (32) and (33). The algorithm
can also be extended to the cover estimation error in the unobserved product characteristics
by using an estimate of ξj and proceeding as above. If ξj is estimated imprecisely, so that
it has a non-degenerate distribution F (ξj ), the posterior can be simulated by first drawing
ξj ∼ F (ξj ) for j = 1, ..., J and then, for each draw, using the Gibbs sampling algorithm
above.



5.4      Results When Independence is Violated


In this section we discuss the implications to the results if the estimators above are applied
when the independence assumption is violated. The implications to the first stage estimation
are similar to what they would be if running OLS when mean independence is violated, except
that the argument only holds locally due to the nonparametric approach. If ξ is (locally)

                                                      25
positively correlated with one of the x variables, then in the first stage part of the price effect
of ξ would be falsely attributed to that x, such that the marginal price of x was biased upward
and the marginal price of ξ was biased downward. In the second stage, this bias would lead
to similar biases in our estimates of consumer’s preference parameters: the preference for x
would be biased upward, and the preference for ξ biased downward. This can most easily be
seen by looking at equations (19) and (20).


Clearly this bias would influence marginal willingness-to-pay estimates for characteristics (i.e.,
the taste distributions). What is less clear are the implications for marginal willingness-to-pay
for goods (e.g. the elasticity of demand). Since goods represent bundles of both observed and
unobserved characteristics, and since both marginal willingness-to-pay and marginal prices
are biased, to some extent these biases offset each other in the demand system for goods. We
have verified this intuition analytically by looking at some simple models. In some special
cases, such as linear utility and linear price function, the biases exactly cancel each other. We
conclude that if the independence assumption is violated then the demand system estimators
are likely to be biased. However, the sign and magnitude of the bias depends on the shape
of the equilibrium price function and individual preferences in the market being studied.




6        Application to Computer Demand


In this section we apply our proposed estimators to demand for desktop personal computers.
Our data comes from the PC Data Retail Hardware Monthly Report and includes quantity
sold, average sales price, and a long list of machine characteristics for desktop computers.
Please see Benkard and Bajari (2002) for a more detailed discussion of this data.9


The raw data set contained 29 months of data, but we initially concentrate only on the data
for the last period, December 1999, covering 695 machines. We chose to use data from a single
period both to keep the estimation simple and also to test how well our methods work on a
single cross-section, a case where traditional demand estimation techniques do not typically
    9
        This paper is available at http://www.stanford.edu/∼lanierb/.


                                                      26
work well. The data set reportedly covers approximately 75% of U.S. retail computer sales.
The raw data contained a large number of characteristics, including dummies for each indi-
vidual processor type. We eliminated the processor dummies in favor of a CPU benchmark
variable.10 The final data set contained 19 characteristics, including five operating system
dummies (Win 3.1, NT 4.0, NT, Win 98, Win 95) plus CPU benchmark, MMX, RAM, hard
drive capacity, SCSI, CDROM, DVD, modem, modem speed, NIC, monitor dummy, moni-
tor size (if monitor supplied), zip drive, desktop (versus tower), and refurbished. Summary
statistics for this data are given in table 1. To show that accounting for unobserved charac-
teristics is very important in this application, under the assumption that all characteristics
are perfectly observed, 357 of the 695 products are dominated, meaning that there is some
other product that has strictly better values of the observed characteristics and a lower price.



6.1    First Stage Results: Unobserved Product Characteristics


Because it would be difficult to use nonparametric techniques on a 19-dimensional system, in
the application we concentrate on the three most important continuous characteristics: CPU
benchmark, RAM, and hard drive capacity. However, we also found that the results were not
as clean if the remaining 16 characteristics were simply omitted. Therefore, for the purposes
of the first stage regressions, we made the assumption that the price function is additively
separable in the remaining characteristics, with coefficients that are known and equal to
the values obtained from an OLS regression. Thus, the first stage estimates are obtained
using price data after the linear effect of the other 16 characteristics has been removed (OLS
coefficients listed in table 1).


While this assumption was largely made for convenience in the estimation, we believe that
additive separability is likely to hold for many of the remaining characteristics because many
of them represent such things as peripheral devices that can easily be removed from the
computer and bought or sold on a secondary market. Therefore, arbitrage should limit
  10
     CPU benchmark was obtained from www.cpuscorecard.com. A regression of CPU benchmark on chip
speed interacted with chip dummies yielded an R2 of 0.999.



                                              27
deviations of the price function from additive separability in these characteristics.


Our first stage estimates were obtained using a local linear kernel estimator (Fan and Gijbels
(1996)) corresponding to equation (18), with a normal kernel. Equation (18) was derived using
the U [0, 1] normalization and thus results in estimates of ξ that are limited to the unit interval.
Bandwidths were chosen by eye to be large enough that small wiggles in the distribution
function were eliminated. This results in a bandwidth that is likely to be oversmoothing the
distribution function somewhat relative to the MSE minimizing bandwidth. For our purposes
it is useful to oversmooth since we use estimates of the price function derivatives to solve for
starting values for the Gibbs sampling algorithm in the second stage of estimation. Note,
however, that because we are treating the product space as finite, we only need the first stage
estimates of ξ in order to estimate the demand system. We do not need estimates of the
price function except for the fact that they provide convenient starting values for the Gibbs
estimator.


An important issue with respect to our approach is how precisely it is possible to estimate the
ξ’s for each product. Table 2 shows the distribution of standard errors for the estimated ξ’s
using both an asymptotic approximation (from Fan and Gijbels (1996)) and also a bootstrap
that assumes iid sampling of products (an assumption that we recognize is not likely to reflect
the economics of the product entry and exit processes, but that was maintained purely to
provide a check for the asymptotic standard errors). The asymptotic standard errors average
0.01, with 95% of the estimated ξ’s having standard errors less than 0.018. The bootstrap
standard errors were generally very similar but slightly larger in magnitude.11


In summary, we found that, with very few exceptions, it was possible to estimate the un-
observed product characteristics quite precisely. We believe that this result reflects several
features of our model and data. One important feature of the model is the fact that in our
model ξ corresponds to a distribution function (or a quantile), and is therefore much easier
to estimate than, for example, the corresponding density. Another reason for the precision
  11
    508 of 695 products had larger estimated standard errors with the bootstrap than with the asymptotic
formula.




                                                  28
of the results is that in our data the characteristics space is quite densely filled so that, with
the exception of a few outlying products, every product has close neighbors in characteristics
space.


We also estimated the bias in the ξ estimates, and found it to be small, but more importantly
we found that the rank ordering of the ξ estimates was nearly identical whether or not the
estimated bias term was included. Hence, we left the estimated bias out of our final first
stage estimates.



6.2      Second Stage Results: Preferences and Demand Curves


In estimating the demand system, high dimensional systems are easily handled. Thus, for the
purposes of the demand system estimation, we included all 19 observed characteristics as well
as the unobserved characteristic. For the purposes of this example, we used the quasi-linear
functional form for utility (as in equation (6)), linear in the logs of the continuous charac-
teristics (CPU benchmark, hard drive, RAM, ξ) and linear in the remaining characteristics,
including price. The unobserved characteristics obtained from the first stage were normalized
such that budget sets were always convex. We also tried several alternative normalizations
and found that the effects of the choice of normalization on the results were small.


We used the Gibbs sampling estimator described in section 5.3 to estimate the distribution
of the individual taste coefficients. Starting values for the Gibbs algorithm were obtained by
using the values of the taste coefficients obtained if it were assumed that the true product
space was continuous (as in section 5.2).12 After a series of initial draws that were discarded,
we simulated 1000 taste coefficient draws per product, for a total of 695000 (20-dimensional)
draws.13 The draws were then re-weighted by the observed total demand for each product
in order to make calculations from the posterior distribution of the taste coefficients. The
approach of simulating a fixed number of draws per product, as opposed to varying the
  12
     In some cases these starting values were not inside the appropriate Aij set for the discrete case and hence
we used a numerical search algorithm to find a point nearby that was inside the correct set.
  13
     Including the initial draws, this process took about an hour on our Sun Ultra 60 workstation.



                                                      29
number of draws simulated with demand for the product, guarantees similar precision of the
simulation results across the entire taste distribution space.


Figures 1-5 graph the (kernel smoothed) taste distributions for the three continuous charac-
teristics, as well as SCSI and the unobserved characteristic. In all cases the taste distributions
were converted into marginal willingness-to-pay figures so that the absolute value of the co-
efficients could be interpreted as dollars. Except for CPU benchmark, the willingness-to-pay
distributions generally look somewhat log-normally distributed, and seem reasonable given
1999 prices. Modal marginal willingness-to-pay for RAM is between one and two dollars per
megabyte, while modal marginal willingness-to-pay for hard drive capacity is approximately
1.25 cents per megabyte.


One result that surprised us was that the data appear to be quite informative even for the
dummy characteristics such as SCSI. For dummy characteristics, the revealed preference
bounds obtained for each individual are generally looser than they are for continuous char-
acteristics. In our data, two things appear to be true. First, the individual bounds are more
informative than we expected. While it is not generally possible to place very tight bounds
on the SCSI taste coefficient independently of the other coefficients, extreme values of the
SCSI coefficient often require extreme values of the other coefficients in order to rationalize
the individual’s choice. Therefore, the revealed preference sets have relatively small volume
in areas with extreme values for the SCSI coefficient, which causes our estimator to place
small weight on extreme values even at the individual level. The second thing is that the
individual posterior distributions turn out to be quite informative about the shape of the
overall population distribution once they have been aggregated up.


Table 3 shows the correlation in tastes across this subset of characteristics. We find that there
is a high positive correlation between the taste parameters for most of the characteristics.
Notably, this is true even for the unobserved characteristic. While this last result makes
intuitive sense, it is reassuring that the taste distributions reflect this correlation despite
the fact that unobserved characteristics were assumed to be independent of the observed
characteristics in the first stage estimation.


                                                 30
Using the estimated taste distributions it is easy to simulate estimates of the demand curves
and price elasticities for each product using explicit aggregation. However, when we did this
we found that the implied demand elasticities were counterintuitively high (the median own
price elasticity was around -100). After further investigation, we attribute this finding to the
perfect information assumption made in the model. The model assumes that each consumer
costlessly obtains perfect information regarding all 695 products in the choice set. With
such a large number of products in the choice set, products are on average quite close in
price and characteristics space. According to the model, products are sufficiently similar and
sufficiently close in price that if consumers had perfect information then the price elasticities
should be very high.


However, such high price elasticities do not seem to us to be consistent with profit maxi-
mization and the likely levels of entry and fixed costs. We interpret the result instead as a
rejection of the perfect information assumption. We believe that in actuality consumers have
search costs and therefore, when making a purchase, they only acquire information about a
small number of products, perhaps only a handful.


In order to try to capture the effect of imperfect information, we reestimated the model using
only those products that are most prominent and that most consumers could easily obtain
information on. The easiest way to do this was to eliminate products that had small market
shares from the choice set. Thus, we reestimated the model eliminating any product that
sold less than 5000 units, corresponding to a minimum market share of 0.75%. This left
the 24 largest products, together accounting for 72% of total sales.14 After reestimating the
demand model including only these products, the estimated demand elasticities ranged from
-4 to -72, with a median elasticity of -11, results which we think are much more plausible.


Table 4 describes the top five products in terms of sales and table 5 lists the estimated
cross-price elasticities for these five products. Two features of the elasticities are worth
  14
     A drawback of using this product selection method is that it tended to select quite similar products of
the type that typically sold the most units, as opposed to picking the best selling product in each class. Thus,
we believe that the price elasticities estimated may still be biased upward relative to a model in which the
search process was modeled explicitly.




                                                      31
mentioning. The first is that the products that are most similar substitute the most highly
(e.g., the two Compaq’s). The second is that there are some cross price elasticities that are
exactly zero, a feature that can be generated by the hedonic model but cannot be generated
by standard econometric discrete choice models. For example, in the table the HP6535 and
the Compaq5461 do not substitute at all. Presumably this is because there are other products
located between these two products in characteristics space.


Figure 6 shows the estimated demand curve for the HP6535, with the actual price and
quantity denoted on the graph. The estimated demand curves in our model must be downward
sloping by utility maximization. However, because the shape of the curve is determined by
individuals’ marginal willingness-to-pay for each product, and we have placed no restrictions
on the taste distributions, any shape of downward sloping demand may result from the
estimation. For example, it would be easy to obtain kinked demand curves. Despite that,
the shape of the demand curve obtained for the HP6535 is typical of those we obtained for
other products. We generally find that demand curves for computers are quite steep for
high prices, with a flattening in the middle near the observed price, and then steeper again
for low prices. The upper steep portion is obtained because typically there is some small
mass of consumers who strongly prefer this particular product. The flattening in the middle
reflects a large mass of consumers that are willing to switch to other neighboring products
without very much compensation. The steepening at low prices reflects the fact that at low
prices the product in question has already captured a large market share and thus there are
few consumers left to gain by lowering price further. One difference that showed up for some
products is that when there is a close substitute present with slightly higher price the demand
curve may head more quickly to the vertical axis, without showing the steep portion in figure
6.


In our opinion, the shape of the demand curve in figure 6 is quite reasonable compared with
the demand curves implied by standard discrete choice econometric models, which necessarily
asymptote to both axes, and also compared with standard multi-stage models, which are
typically quadratic. These results suggest that the revealed preference conditions from the
hedonic model may be a good alternative way of obtaining identification of demand systems.

                                              32
We also experimented with estimating the model across different time periods in the data
and obtained similar results to those above. The most striking differences we found across
periods was a clear progression of the estimated taste distributions. Figure 7 shows the
estimated distribution for the taste for CPU for three periods in the data. In the initial data
period (August 1997), the CPU taste distribution looks somewhat log-normally distributed.
In the final period (December 1999) it looks somewhat normally distributed, except that it
has shifted upward quite dramatically. In the intermediate periods, the taste distributions lie
in between those for the two endpoints, but also show markedly higher variance. It is as if,
over the period of the data, there is a growing group of consumers whose tastes for computer
hardware haved jumped upward, such that by December 1999 this group reflects the entire
population. Over this period, use of the internet is growing rapidly and we speculate that it
is this complementarity that leads to the upward shift in tastes for computer hardware. Note
that this evidence also strongly suggests that the assumption of constant taste distributions
over time, which is commonly used in applications of demand estimation, would not be correct
for this industry.


Finally, we wish to note that the results reported in this section represent essentially all of
the estimations we ran for this model and were thus obtained without the need for any kind
of specification search other than the reduction of the product space noted above.




7    Conclusion


This paper has investigated the identification and estimation of hedonic discrete choice models
of differentiated products. Specifically, we showed how to generalize Rosen’s (1974) approach
in four primary ways: (1) we allow for one product characteristic that is not observed by
the econometrician, (2) we allow for imperfect competition, (3) we generalize the first stage
estimation to the nonseparable case, (4) we allow for a discrete product space and discrete
characteristics in estimating preferences. Our hope is that these generalizations will make it
much easier to apply hedonic demand models in empirical work in a wider set of applications



                                              33
in the future.


Indeed, in applying the model to computer demand, allowing for unobserved characteristics
was shown to be important because it allowed rationalization of demand for all products
using standard models of utility. Under the assumption that all product characteristics are
perfectly observable, as in Rosen (1974), many products that were observed to have positive
demand in the data would have been dominated.


We view the hedonic model as a valid alternative to existing approaches in empirical de-
mand applications that may also be preferable in some cases. One advantage of the hedonic
model is that it facilitates flexible estimation of utility coefficients. For computer demand,
we found that the taste parameters for various computer characteristics, including the unob-
served characteristic, were highly positively correlated. The hedonic model also provides an
alternative way of estimating the demand curve for prices that are not observed in the data.
This alternative may be useful in evaluating the welfare effects of alternative policies such
as those considered by Trajtenberg (1989) and Petrin (2002). The primary disadvantages of
the hedonic model seem to be its data requirement, and the fact that the perfect information
assumption may be too strict in practice.




                                             34
A     Identification with Measurement Error in Prices


A.1    Independence Case


We now consider the case where prices are observed with error. Specifically, we assume that
pjt is not observed. Instead, the econometrician observes yjt , where

      yjt = pjt + jt ≡ pt (xj , ξj ) + jt                                                 (35)

We assume classical measurement error:


B1 jt is iid, and E[|x, ξ] = 0.


For the purposes of identification it is not necessary that jt be iid. All that matters is that,
for every x and ξ, a law of large numbers holds for jt across each of j and t.


For identification with measurement error it is necessary for products to be observed in many
markets, as can be seen in the proof of the following theorem.

Theorem 6. If prices are observed with error, A4, A5, and B1 hold, then pt is identified in
I for all t. Furthermore, {ξj } is identified.


Proof. Let
                       T
                     1X
      p̄T (x, ξ) =       pt (x, ξ)                                                          (36)
                     T
                       t=1

and let p̄T     T                                              T
          j ≡ p̄ (xj , ξj ). For each product we can observe p̄j by averaging the observed

prices, yjt , across markets. Since the measurement error is conditional mean zero for every
(x, ξ), it averages to zero for large T .


For each product, j, define the set

      Jj = {k ∈ J | xk = xj and lim p̄T     T
                                      j − p̄k = 0}                                          (37)
                                      T →∞


                                                 35
The set Jj is the set of all products with the same characteristics, both observed and unob-
served, as product j. The value of the price function for each product j, pjt is identified by
averaging prices within each market t across the set of products Jj :

      pjt = E[ykt |k ∈ Jj ]                                                                (38)

The measurement error again averages to zero.


Since the value of the price function is identified for each product in each market, the rest of
the proof of identification follows by Theorem 2.


Finally, jt = yjt − pt (xj , ξj ), so jt and the joint distribution of  and x and ξ are also
identified.



A.2    Options Packages Case


Proving identification when there is measurement error in prices is trivial since models are
observed.

Theorem 7. If prices are observed with error, A5-A8 and B1 hold, then pt is identified in I
for all t. Furthermore, {ξj } is identified.


Proof. Let Jj = {k ∈ π −1 (π(j)) | xk = xj }. As above, Jj is the set of all products with the
same characteristics as j. Then

      pt (xj , ξj ) = E[ykt |k ∈ Jj ],                                                     (39)

where the measurement error again averages to zero. The rest of the proof is by Theorem
3.




                                               36
B      Convergence of the Discrete Model to the Continuous Model


In the text, it was shown that when the set of products is discrete, βi is not identified.
However, as the number of choices become sufficiently large, βi can learned in the limit.
                                             1
Furthermore, the sets Aj shrink at a rate    J.


To simplify notation, attention is restricted to the case where all product characteristics are
observable to both the consumer and the econometrician. Consumer i’s utility is written
as uij = u(xj , pj , βi ). Also, suppose that p(x) that maps characteristics into prices for any
product j. To simplify notation, this function is assumed to be independent of the number
of products J in the market, although the results could be modified to cover this case. Three
assumptions about the product space and the utility are made:



Assumption 1. All of the product characteristics xj are elements of X an open, bounded
       and convex set. Also, all of the βi lie in B, an open, bounded and convex set.

Assumption 2. For any βi ,when the choice set is all of X , the jacobian x0 (β), as defined
       in (13) is everywhere positive definite or negative definite.



Suppose that we draw a random sequence x(1) , x(2) , ..., x(n) , ... of products from x. Let S (n) =
{x(1) , x(2) , ..., x(n) } be the set of choices available to consumer i. Let C(n) be the utility
maximizing choice for consumer i when she can choose from S (n) . Let B (n) ⊆ B be the set
of taste coefficients that make C(n) a maximizing choice from the set S (n) . Note that as an
implication of assumptions 1 and 2, the global inverse function theorem can be applied and
x(β) is one-to-one.

Theorem 8. Suppose that Assumptions 1-2 hold. Then with probability one, limn→∞ B (n) =
βi .


Proof: Let x∗ be the utility maximizing product for a household with random coefficients
βi∗ when the entire set of products X is available. As n → ∞, limn→∞ C(n) = x∗ . Let

                                                  37
B ∗ = ∩B (n) . Let {β (n) } be any sequence with β (n) ∈ B (n) . Suppose that β 0 6= β ∗ is in
B ∗ . Then for all n and all x
                             e(n) ∈ S (n) , u(e       x(n)), β 0 ) ≤ u(C(n), p(C(n)), β 0 ). Letting
                                              x(n), p(e
n → ∞, it follows that for all x ∈ X, u(x, p(x), β 0 ) ≤ u(x∗ , p(x∗ ), β 0 ). But this contracts the
fact that x(β) is one-to-one. Q.E.D.


In addition to establishing that in the limit the preference parameters can be uniquely re-
covered, we can also establish a rate of convergence. Let Aj be defined, as in the text.
Obviously, the {Aj }Jj=1 form a partition of B. Let m denote the Lebesgue measure, it follows
immediately that:




      ΣJj=1 m(Aj ) = m(B)                                                                       (40)
      ΣJj=1 m(Aj )       m(B)
                     =        .
           J              J



                                                           m(B)
Since the set B is bounded, it must be the case that        J     → 0, which in turn implies that
                                                                                        1
the average Lebesgue measure of Aj converges to zero at a rate proportional to          J.




                                                 38
C   References

Ackerberg, D. and M. Rysman (forthcoming), “Unobserved Product Differentiation in Dis-
    crete Choice Models: Estimating Price Elasticities and Welfare Effects,” RAND Journal
    of Economics.

Albert, J. and S. Chib (1993), “Bayesian Analysis of Binary and Polychotomous Data,”
    Journal of the American Statistical Association, 88, 669-679.

Bajari, P. and M. Kahn (2002), “Estimating Housing Demand with an Application to Ex-
    plaining Racial Segregation in Cities,” Working Paper, Duke University.

Bajari, P. and C. Benkard (2002), “Discrete Choice Models as Structural Models of Demand:
    Some Economic Implications of Common Approaches” Working Paper, Stanford Uni-
    versity.

Bartik, T. J. (1987), “The Estimation of Demand Parameters in Hedonic Price Models,”
    The Journal of Political Economy, 95:1, 81-88.

Bayer, P., R. McMillan, and K. Rueben (2002), “An Equilibrium Model of Sorting in an Ur-
    ban Housing Market: A Study of the Causes and Consequences of Racial Segregation”,
    working paper, Yale University.

Benkard, C. and P. Bajari (2003), “Hedonic Price Indexes with Unobserved Product Char-
    acteristics, and Application to PC’s” working paper, Graduate School of Business,
    Stanford University.

Berry, S. (1994), “Estimating Discrete-Choice Models of Product Differentiation,” RAND
    Journal of Economics, 25:2, 242-262.

Berry, S., J. Levinsohn, and A. Pakes (1995), “Automobile Prices in Market Equilibrium,”
    Econometrica, 63:4, 841-89.

Berry, S., J. Levinsohn, and A. Pakes (1998), “Differentiated Product Demand Systems From
    a Combination of Micro and Macro Data: The New Car Market,” NBER Discussion
    Paper, #6481.

Berry, S., and A. Pakes (2001), “Estimating the Pure Hedonic Discrete Choice Model,”
    Working Paper, Yale University.

Brown, J. N., and H. S. Rosen (1982), “On the Estimation of Structural Hedonic Price
    Models,” Econometrica, 50:3.

Caplin, A. and B. Nalebuff (1991), “Aggregation and Imperfect Competition: On the Exis-
    tence of Equilibrium,” Econometrica, 59:1, 1-23.

Davis, P. (2001) “Spatial Competition in Retail Markets: Movie Theatres,” Working Paper,
    London School of Economics.



                                          39
Ekeland, I., Heckman, J., and L. Nesheim (2002), “Identification and Estimation of Hedonic
    Models,” IFS Working Paper CWP07/02.

Epple, D. (1987), “Hedonic Prices and Implicit Markets: Estimating Demand and Supply
    Functions for Differentiated Products,” The Journal of Political Economy, 95:1, 59-80.

Fan, J. and I. Gijbels (1996), Local Polynomial Modeling and Its Applications, London:
    Chapman and Hall.

Gale, D. and Nikaido, Hukukane (1965) “The Jacobian Matrix and Global Univalence of
    Mappings,” Mathematische Annalen 159 pp81-93.

Geweke, J. (1996), ”Monte Carlo Simulation and Numerical Integration,” in H. Amman,
   D. Kendrick and J. Rust (eds.), Handbook of Computational Economics. Amsterdam:
   North-Holland, 731-800.

Geweke, J. (1997), ”Posterior Simulators in Econometrics”, in D. Kreps and K.F. Wallis
   (eds.), Advances in Economics and Econometrics: Theory and Applications, vol. III.
   Cambridge: Cambridge University Press, 128-165.

Geweke, J., M. Keane, and D. Runkle (1994), “Alternative Computational Approaches
   to Statistical Inference in the Multinomial Probit Model,” Review of Economics and
   Statistics, 76, 609-632.

Goettler, R. and R. Shachar (2001), “Estimating Spatial Competition in the Network Tele-
    vision Industry,” RAND Journal of Economics, 32:4, 624-656.

Gorman, T. (1980), “A Possible Procedure for Analysing Quality Differentials in the Egg
   Market,” Review of Economic Studies, 47:5, 843-856.

Imbens, G. and W. K. Newey (2002), “Identification and Estimation of Triangular Simul-
    taneous Equations Models Without Additivity,” Working Paper.

Lancaster, K. (1966), “A New Approach to Consumer Theory,” The Journal of Political
    Economy, 74:2, 132-157.

Lancaster, K. (1971), Consumer Demand, New York: Columbia University Press.

Manski, C. F. (1995), Identification Problems in the Social Sciences, Cambridge, Mass:
   Harvard University Press.

Manski, C. F. (1997), “Monotone Treatment Response,” Econometrica, 65:6, 1311-1334.

Manski, C. F., and J. Pepper (2000), “Monotone Instrumental Variables: With an Applica-
   tion to the Returns to Schooling,” Econometrica, 68:4, 997-1010.

Mas-Colell, A. (1977), “The Recoverability of Consumer Preferences from Market Demand
    Behavior,” Econometrica, Vol. 45, No. 6. (Sep., 1977), pp.1409-1430.

Matzkin, R. (2003), “Nonparametric Estimation of Nonadditive Random Functions,” Econometrica,
   71:5, 1332-1375.

                                           40
McCulloch, R., and P. Rossi (forthcoming) “Bayesian Analysis of the Multinomial Pro-
   bit Model,” in Mariano, Weeks and Schuermann, eds., SImulation-Based Inference in
   Econometrics, Cambridge: Cambridge University.

Nevo, A. (2001), “Measuring Market Power in the Ready-To-Eat Cereal Industry,” Econo-
    metrica, 69:2, 307-342.

Petrin, A. (2002), “Quantifying the Benefits of New Products: The Case of the Minivan,”
    Journal of Political Economy, 100, 705-729.

Rosen, S. (1974), “Hedonic Prices and Implicit Markets: Product Differentiation in Pure
    Competition,” The Journal of Political Economy, 82, 34-55.

Trajtenberg, M. (1989), “The Welfare Analysis of Product Innovations: with and Applica-
    tion to Computed Tomography Scanners,” Journal of Political Economy, 97, 444-479.




                                         41
D   Tables and Graphs


                        Table 1: Summary Statistics
       Variable          Mean         S.D.   Min Max       OLS Coeff
       CPU Bench        1354.5        362.3  516    2544       0.836
       RAMMB              74.0        35.1    16    256        3.010
       HDMB             9276.8       4850.3 2100 40000         0.008
       MMX                0.64        0.48     0      1      -56.971
       SCSI               0.01        0.08     0      1      310.747
       CDROM              0.67        0.47     0      1       26.478
       DVD                0.14        0.35     0      1       32.213
       NIC                0.36        0.48     0      1        9.481
       Monitor?           0.31        0.46     0      1       29.625
       Mon.Size           0.75        3.27     0     15       22.822
       ZIP                0.05        0.22     0      1       20.440
       DT                 0.17        0.37     0      1       25.611
       Refurb.            0.09        0.28     0      1     -144.314
       No Modem           0.55        0.50     0      1      145.169
       Win NT 4.0         0.02        0.14     0      1     -106.374
       Win NT             0.17        0.37     0      1       22.567
       Win 98             0.58        0.49     0      1      -59.590
       Win 95             0.16        0.37     0      1      -42.058
       Constant     (Win3.1 omitted)                          -590.2
       R2                                                      0.79
       N                                                        695




                                    42
          Table 2: Distribution of Standard Errors for Estimates of ξ
                               Asymptotic      Bootstrap
                                             (1000 samples)
                   Quantiles:
                   Min             0.002          0.002
                    0.30           0.007          0.007
                    0.50           0.009          0.009
                    0.95           0.018          0.022
                    0.99           0.052          0.091
                   Max             0.104          0.121
                   Average         0.010          0.012
                   N                695            695




Table 3: Correlation Matrix of Taste Coefficients for a Subset of Characteristics
                         CPU RAM HD               SCSI     ξ
                  CPU 1.000 0.510 0.357 0.694 0.418
                  RAM 0.510 1.000 0.533 0.511 0.477
                  HDM 0.357 0.533 1.000 0.527 0.351
                  SCSI 0.694 0.511 0.527 1.000 0.393
                  ξ      0.418 0.477 0.351 0.393 1.000




                                       43
                         Table 4: Top Five Products in 12/99
Brand/Model                       CPU (Benchmark)               RAM     H.D.        Price   Sales
Hewlett Packard Pavilion 6535     Intel Celeron/466MHZ (1281)   64MB    8.4GB        590    71199
Compaq Presario 5441              AMD A6-2/475MHZ (1076)        64MB    8.0GB        540    54449
Compaq Presario 5461              AMD A6-2/500MHZ (1115)        64MB    10.0GB       727    43029
E-Machines eTower 433             Celeron/433 (1167)            32MB    4.3GB        471    40399
Hewlett Packard Pavilion 6545C Celeron/500 (1398)               64MB    13.0GB       858    34198


          Table 5: Matrix of Cross Price Elasticities for Top Five Products
                  HP6535 Compaq5441 Compaq5461 E-Machines HP6545C
    HP6535         -4.14        0.12            0.00           0.43          0.28
    Compaq5441      0.17       -5.95            2.98           0.73          0.55
    Compaq5461      0.00        2.80            -8.00          0.85          0.11
    E-Machines      0.61        0.69            0.91          -10.65         0.66
    HP6545C         0.70        0.86            0.18           1.02         -4.46




                                         44
Figure 1: CPU Benchmark Willingness-To-Pay




     Figure 2: RAM Willingness-To-Pay




                   45
Figure 3: Hard Drive Willingness-To-Pay




  Figure 4: SCSI Willingness-To-Pay




                  46
                                  Figure 5: ξ Willingness-To-Pay




                                Figure 6: HP6535 Demand Curve
                                       Demand for HP6535


            1000

             900

             800

             700

             600
Price ($)




            589.51
             500

             400

             300

             200

             100

               0
                   0   50000   71199   100000              150000   200000   250000
                                                Quantity




                                                     47
                                Figure 7: Taste for CPU Over Time

          2.50E-03




          2.00E-03
                                                                  Aug-97

                                                                  Dec-98
          1.50E-03

                                                                  Dec-99
Density




          1.00E-03




          5.00E-04




          0.00E+00
                      0   500      1000           1500              2000   2500   3000



          -5.00E-04
                                          CPU Taste Coefficient




                                                     48
