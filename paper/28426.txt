THE MACROECONOMICS OF FINANCIAL SPECULATION



                 Alp Simsek


            WORKING PAPER 28426
                              NBER WORKING PAPER SERIES




                THE MACROECONOMICS OF FINANCIAL SPECULATION

                                          Alp Simsek

                                      Working Paper 28426
                              http://www.nber.org/papers/w28426


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                          February 2021, Revised February 2021




When citing this paper, please use the following: Simsek, Alp. 2021. The Macroeconomics of
Financial Speculation. Annu. Rev. Econ. 13: Submitted. DOI: https://doi.org/10.1146/annurev-
economics-092120-050543. I thank Stephen Morris (the editor), Ricardo Caballero, Gadi
Barlevy, Wei Xiong, Markus Brunnermeier, Eduardo Davila, Andrei Shleifer, Yueran Ma,
Bumsoo Kim, Chris Ackerman, Elliot Parlin, and Jilun Xing for useful comments. I acknowledge
support from the National Science Foundation (NSF) under Grant Number SES-1455319. I also
thank the University of Chicago Booth School of Business for their hospitality during the later
stages of this project. The views expressed herein are those of the author and do not necessarily
reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2021 by Alp Simsek. All rights reserved. Short sections of text, not to exceed two paragraphs,
may be quoted without explicit permission provided that full credit, including © notice, is given
to the source.
The Macroeconomics of Financial Speculation
Alp Simsek
NBER Working Paper No. 28426
February 2021, Revised February 2021
JEL No. E00,E12,E21,E22,E32,E44,E50,E70,G00,G01,G11,G12,G40

                                          ABSTRACT

I review the literature on financial speculation driven by belief disagreements from a macro-
economics perspective. To highlight unifying themes, I develop a stylized macroeconomic model
that embeds several mechanisms. With short-selling constraints, speculation can generate over-
valuation and speculative bubbles. Leverage can substantially inflate speculative bubbles and
leverage limits depend on perceived downside risks. Shifts in beliefs about downside tail
scenarios can explain the emergence and the collapse of leveraged speculative bubbles.
Speculative bubbles are related to rational bubbles, but they match better the empirical evidence
on the predictability of asset returns. Even without short-selling constraints, speculation induces
pro- cyclical asset valuation. When speculation affects the price of aggregate assets, it also
influences macroeconomic outcomes such as aggregate consumption, investment, and output.
Speculation in the boom years reduces asset prices, aggregate demand, and output in the
subsequent recession. Macroprudential policies that restrict speculation in the boom can improve
macroeconomic stability and social welfare.


Alp Simsek
Department of Economics, E52-552
MIT
77 Massachusetts Avenue
Cambridge, MA 02139
and NBER
asimsek@mit.edu




A Dynamic link to most recent draft is available at
https://www.dropbox.com/s/l44eqwxdfz02tt1/speculationMacro_public.pdf
 1.    Introduction
The U.S. housing boom-bust cycle of the 2000s was a vivid reminder of the dangers of ...nancial
speculation -- trading of ...nancial assets by investors with heterogeneous beliefs. In the upswing,
optimistic investors purchased homes, often with borrowed money, with the hope that house prices
would continue to appreciate. When the downswing ...nally arrived, many optimists found them-
selves in ...nancial ruin. Financial institutions that lent to optimists against their housing collateral
su¤ered heavy losses too. In contrast, pessimistic investors and institutions that had gambled on
the collapse of the bubble-- with the help of ...nancial innovation-- achieved substantial riches. More
troubling, ...nancial speculation damaged not only the optimists but also the broader macroecon-
omy. As house prices declined, the economy sunk into a deep recession that hurt many individuals
who hadn't speculated on the housing bubble.
   This episode is by no means an exception: Empirical studies ...nd that ...nancial speculation is
widespread and regularly associated with macroeconomic instability. Asset price and credit booms
often feature substantial trading volume-- suggesting a key role for speculation (Hong and Stein
(2007); DeFusco et al. (2017)). These booms often end with recessions and ...nancial crises (e.g.,
Jordà et al. (2015); Krishnamurthy and Muir (2017)), and the downturn is often predictable--
suggesting a key role for distorted beliefs (Baron and Xiong (2017); Greenwood et al. (2020)).
   These facts revived an old tradition, going back to Keynes (1936); Minsky (1977); Kindleberger
(1978), that emphasizes the importance of ...nancial speculation and distorted beliefs for ...nance and
macroeconomics. A large literature shows that speculative trading that results from belief disagree-
ments (or heterogeneously distorted beliefs) provides a natural explanation for asset price booms
(e.g., Miller (1977); Harrison and Kreps (1978); Scheinkman and Xiong (2003)) and credit booms
(e.g., Geanakoplos (2010); Simsek (2013a)). When this type of speculation concerns large markets,
such as aggregate house prices, it can also inuence macroeconomic outcomes-- aggregate consump-
tion, investment, output, and the severity of recessions (e.g., Caballero and Simsek (2020)). In this
paper, I review and extend the macroeconomic lessons from this emerging literature on ...nancial
speculation with disagreements. I take a theoretical perspective and illustrate the mechanisms by
which speculation a¤ects asset prices and business cycles (see the concluding section for a brief
discussion of empirical evidence). To highlight unifying themes, I develop a stylized macroeco-
nomic model that embeds many channels studied by di¤erent strands of the literature. My analysis
synthesizes the following lessons, each covered in a separate section.
   First, for risky assets subject to short-selling restrictions, ...nancial speculation can generate
overvaluation -- the marginal investor (who determines the asset price) is more optimistic than the
average investor. Overvaluation increases aggregate wealth and consumption (and typically also
investment) in the short run. For an open economy, overvaluation also increases current account
de...cits and drains foreign assets, which subsequently exerts downward pressure on aggregate wealth
and consumption (Section 3).
   Second, overvaluation can trigger speculative asset price bubbles in which the asset price can
exceed even the most optimistic investor'
                                        s valuation. Optimistic investors purchase the asset to

                                                   1
sell to an even more optimistic investor in the future. Speculative bubbles help explain the large
trading volume associated with overvaluation episodes (Section 4).
   Third, leverage can substantially amplify overvaluation and speculative bubbles. Moreover,
with collateral constraints, leverage limits are endogenous and depend on perceived downside risks.
In particular, shifts in (lenders'
                                 ) beliefs about downside tail scenarios can explain the emergence
as well as the collapse of leveraged speculative bubbles (Section 5).
   Fourth, overvaluation and (leveraged) speculative bubbles generate similar macroeconomic ef-
fects as rational bubbles -- an alternative mechanism for high asset valuations studied by a large
macroeconomics literature. Compared to rational bubbles, the overvaluation mechanism is more
consistent with the empirical evidence on the predictability of asset returns following asset price
booms. Overvaluation and speculative bubbles also make more precise testable predictions and do
not require restrictive assumptions on the economic environment (Section 6).
   Fifth, even without short-selling constraints, ...nancial speculation can induce procyclical asset
valuation through its impact on investors' wealth dynamics. These speculative dynamics typically
increase the risky asset valuation (or reduce the risk premium) in good times, and decrease the
valuation in bad times. This helps explain the excess asset price volatility and the countercyclical
risk premium observed in practice (Section 7).
   Sixth, ...nancial speculation can exacerbate aggregate demand contractions. With nominal rigidi-
ties, speculative wealth dynamics not only make asset prices more volatile, but they also create
excessive uctuations in aggregate demand and output. In particular, speculation that takes place
in the boom lowers asset prices, consumption, investment, and output after the economy transitions
to recession (as long as monetary policy is somewhat constrained). Speculation exacerbates the
recession even without the standard ...nancial frictions, although speculation would cause a larger
contraction in demand (and could induce a ...nancial crisis) when the recession features ...nancial
frictions. Macroprudential policies that restrict speculation in the boom mitigate the subsequent
recession and improve macroeconomic stability. These policies can increase social welfare even ac-
cording to the standard (non-paternalistic) Pareto criterion, since they internalize aggregate demand
externalities (Section 8).
   Seventh, policies that restrict speculation can also increase the speculators'own welfare (even
without any externalities). Empirical evidence suggests that the speculators on average su¤er large
welfare losses according to the objective belief-- the belief that will be realized in the data. However,
these losses typically go undetected by the standard Pareto criterion that respects individuals'
subjective beliefs. An alternative belief-neutral welfare criterion can identify pure speculation as
socially wasteful even when the planner does not know the objective belief (Section 9).

   Throughout, I take investors' beliefs and disagreements as given. I abstract from heteroge-
neous information and interpret disagreements as resulting mostly from psychological biases that
heterogeneously distort investors' beliefs (see Remark 1). Extrapolation bias in particular plays
a central role in the historical narratives of asset price bubbles. Most bubbles start with good
news about fundamentals-- what Kindleberger (1978) calls a "displacement"-- which then induces


                                                   2
euphoria and overreaction. While extrapolation can explain asset price booms even when investors
share the same beliefs, disagreements amplify the price impact of extrapolation and help explain the
large trading volume and leverage that usually accompany these episodes. Overall, extrapolation
and speculation provide highly complementary accounts of asset price bubbles as well as procyclical
asset valuation (see Sections 4 and 7 for further discussion).
   A caveat on the modeling approach is in order. My goal is to highlight and connect several
mechanisms on the macroeconomics of ...nancial speculation. This requires me to adopt a stylized
model with stark assumptions. A more standard macroeconomic model would be useful to assess
the quantitative strength of each mechanism, but it would struggle to illustrate a large number of
mechanisms. Even with a stylized model, however, it is impossible to cover all of the related ideas
from the literature. In each section, I formally illustrate a few key ideas. I then often conclude with
"related mechanisms" and "related literature." In the former, I discuss ideas from speci...c strands
of the literature without delving into details. In the latter, I highlight broader connections with
the literature.


 2.    A macroeconomic model of speculation
In this section, I describe a macroeconomic model that allows for belief disagreements and specu-
lation. I also characterize the equilibrium in a (common-belief) benchmark setting without specu-
lation. In subsequent sections, I use variations of this model to illustrate the mechanisms by which
speculation a¤ects asset prices and macroeconomic outcomes. The model builds upon ingredients
from Blanchard (1985), Simsek (2010) (Chapter 2), and Caballero and Simsek (2020).
   Consider an in...nite horizon economy in discrete time, t 2 f0; 1; :::g. There are two factors, labor
and capital. The supply of both factors is constant and normalized to one. There is no investment
but there might be depreciation. Speci...cally, a unit of capital in period t becomes 1    units at the
start of the next period where       0 denotes the depreciation rate. To keep the supply of capital
constant,   new units of capital are injected into the economy in every period.
   The productivity of labor and capital are given by et n and et , respectively. The factors are fully
substitutable and potential output is given by

                                           Yt = et (n + 1) .                                        (1)

I start with a neoclassical setting in which there are no nominal rigidities and factor markets are
competitive. This implies output is at its potential and factors earn their marginal products:

                             Yt = Yt = et (n + 1) and wt = net ; rt = et .                          (2)

Here, Yt ; wt , and rt denote actual output, the wage, and the rental rate of capital, respectively. In
Section 8, I introduce nominal rigidities and modify the supply side to allow for demand recessions.
   The demand side features a perpetual youth structure. At the beginning of every period, a


                                                   3
mass one of new investors ("young investors") are born endowed with all of the labor and the
newly injected capital ( units). They can be thought of as working and starting new companies.
Investors that were born in previous periods ("old investors") do not work and spend out of their
accumulated savings. For simplicity, investors never die.
   Importantly, investors disagree about the productivity growth, zt+1 , which follows

                              et+1 = zt+1 et with zt+1 2 fH; Lg and H > L.                             (3)

Here, H (resp. L) corresponds to a high growth (resp. low growth) state. To simplify the portfolio
problem, I focus on extreme beliefs: Investors either have "optimistic" beliefs and think zt+1 = H
will be realized with certainty; or they have "pessimistic" beliefs and think zt+1 = L. Investors'
beliefs are dogmatic -- formally, investors know each others'beliefs and they agree to disagree (see
Remark 1 for other interpretations).
   To illustrate speculative bubbles, I allow investors' beliefs to change after the ...rst period of
their life (see Section 4). There are four exogenous investor types denoted by the superscript
i 2 fo; p; mo; mpg. The types fo; pg correspond to young investors ("optimists" and "pessimists"),
and the types fmo; mpg correspond to old investors ("mature optimists"and "mature pessimists").
Young investors are born with a randomly assigned type and are optimistic with probability               2
[0; 1]. As I will specify later, young optimists can transition into either mature optimists or mature
pessimists.
   Investors trade two types of ...nancial assets. There is a (potentially) risky asset that represents
claims to (nondepreciated) capital. I let Pt denote the (ex-dividend) price of the asset in period t.
I also de...ne the normalized price, pt = Pt =et . This notation will facilitate the analysis since I focus
on equilibria in which allocations scale with productivity, et . The asset'
                                                                          s (gross) return between
periods t and t + 1 is given by

                                       (1       ) (rt+1 + Pt+1 )
                         Rt;t+1 =                                       where Pt = pt et .             (4)
                                                    Pt
                                                              f
There is also a risk-free asset with gross return denoted by Rt . I will start with a small open
economy case in which the risk-free asset is elastically supplied (by foreigners) at a ...xed rate. I
will eventually consider the closed economy case in which the risk-free asset is in zero net supply
at an endogenous rate. Labor and future capital injections by newborns are nontradable.
   Type i investors choose how much to spend ci
                                              t , and what fraction of their portfolio to invest
in the risky asset, ! i
                      t (with the remaining fraction invested in the risk-free asset) to maximize
time-separable log utility:

                              Vti ai
                                   t        = max log ci    i   i   i
                                                       t + Et Vt+1 at+1             ,                  (5)
                                                ci    i
                                                 t ;! t

                                                                             f
                          s.t. ai
                                t+1 =            ai
                                                  t       ci
                                                           t   Rt;t+1 ! i
                                                                        t + Rt 1   !i
                                                                                    t

                           with ! i
                                  t         2 [! t ; ! t ] and ai
                                                                t+1     0.


                                                               4
Here, ai
       t denotes the total wealth of type i investors before they spend. For young investors,
ao
 t =     (wt + Pt ) and ap
                         t = (1               ) (wt + Pt ). The lower and upper bounds for the portfolio
weights, ! t and ! t , correspond to exogenous short-selling and leverage limits, respectively. I also
require the investors to obtain a nonnegative portfolio return in each state-- this captures a collateral
constraint and helps illustrate the endogenous leverage limit (see Section 5.2).
     In view of log utility, investors optimally consume a constant fraction of their wealth, ci
                                                                                               t =
(1     ) ai
          t (regardless of asset returns). Therefore, aggregate consumption denoted by Ct is also a
constant fraction of aggregate wealth:
                                                                      X
                                                  Ct = (1         )        ai
                                                                            t.                                  (6)
                                                                      i

Since investors have extreme beliefs, they perceive no risk. Therefore, they invest in the asset that
they believe generates a higher return, as much as allowed by the constraints. When the nonnegative
wealth constraint does not bind (ai
                                  t+1 > 0), investors'optimal portfolio weight satis...es:
                                                                                          1

                                       8                                       f
                                       >
                                       <     !i
                                              t = !t
                                                                i [R
                                                            if Et   t;t+1 ] > Rt
                                                                                f
                                           !i                    i
                                            t 2 [! t ; ! t ] if Et [Rt;t+1 ] = Rt .                             (7)
                                       >
                                       :                                              f
                                             !i
                                              t   = !t      if    i [R
                                                                 Et   t;t+1 ]    <   Rt

     The last step is to specify the market clearing conditions. I consider both open and closed
economy cases. For an open economy, I assume foreigners cannot trade domestic capital and let
Ft denote the country'
                     s (ex-dividend) net risk-free foreign asset position. With this notation, the
asset and goods market clearing conditions are
                                 X                                 X
                                       !i  i
                                        t at = Pt and                       ai
                                                                             t = Pt + Ft ,                      (8)
                                   i                                  i
                                                                           f
                                             Yt = Ct + Ft                 Rt 1 Ft    1.                         (9)

The ...rst line says that the amount of saving in the risky asset is equal to its supply. In addition,
the total amount of saving in all assets is equal to the total amount of asset supply, which includes
the country'
           s foreign asset position. The second line says that output is equal to the sum of
consumption and the net investment in foreign assets.
     For the baseline setting (until Section 7), I focus on a small open economy, which helps to
illustrate how speculation a¤ects risky asset prices and aggregate demand while keeping the interest
rate and investors' endowments exogenous. Speci...cally, investors can borrow from or lend to
foreigners at an exogenous and constant rate Rf . In this case, Ft is unconstrained and Eqs. (8                  9)
hold with
                                        f
                                       Rt = Rf and Yt = Yt for each t.                                         (10)
   1
     When ait+1 = 0 for some continuation states, Eq. (7) holds with the endogenous leverage or short-selling limits
that I characterize in Section 5.2.




                                                             5
I assume the exogenous interest rate satis...es Rf > H (1                 ), which ensures the investors' prob-
lem has a well-de...ned solution, and            Rf   < L, which ensures aggregate wealth normalized by
productivity remains bounded.

Remark 1 (Sources of heterogeneous beliefs). The distinctive feature of speculative episodes is
high trading volume. I generate speculative trading by assuming heterogeneous dogmatic beliefs
in the sense that investors do not think other investors (or prices) have information about fun-
damentals that they haven't already incorporated. These beliefs can emerge from various sources:
investors can have heterogeneous prior beliefs (e.g., Morris et al. (1995)), they might inter-
pret information heterogeneously (e.g., Harris and Raviv (1993); Kandel and Pearson (1995);
Banerjee and Kremer (2010)), they might neglect the information in other investors'beliefs
(e.g., Eyster et al. (2019)), or their beliefs might be heterogeneously distorted by behavioral
forces such as overcon...dence (e.g., Odean (1998); Daniel and Hirshleifer (2015)), experience
e¤ ects (e.g., Malmendier and Nagel (2011); Malmendier et al. (2020)), motivated reasoning
(e.g., Brunnermeier and Parker (2005); Bénabou and Tirole (2016)), and social interactions
(e.g., Burnside et al. (2016); Bailey et al. (2018)).2 For simplicity, I assume beliefs are common
knowledge and abstract from asymmetric information. A literature on no-trade theorems shows that
asymmetric information by itself cannot induce trade among rational agents with common priors
(e.g., Milgrom and Stokey (1982); Sebenius and Geanakoplos (1983)).

Macroeconomic outcomes.                   I now characterize the equilibrium. For the baseline (small open
economy) setting, output is proportional to productivity Yt = Yt = et (n + 1) [see (2)]. I focus
on equilibria in which the normalized price is constant pt = p, so that the asset price is also
proportional to productivity, Pt = pet .
       To characterize the remaining variables, let ct = Ct =et and ft = Ft =et denote the normalized
consumption and foreign assets. Appendix A.1 derives the dynamics for these variables as follows:

                                                                          Rf ft   1
                                         ct = (1       ) 1+n+p+                       ,                          (11)
                                                                            zt
                                                                  Rf ft   1
                                    p + ft =          1+n+p+                  .                                  (12)
                                                                    zt

The ...rst equation captures the wealth e¤ ect on consumption [see (6)]. The initial aggregate wealth
(in normalized terms) is the sum of output, 1 + n, the domestic asset, p, and the initial foreign
          R f ft   1
assets,      zt        . The second equation captures the evolution of aggregate wealth [see (8)].
       In general, the normalized consumption and foreign assets are stochastic and depend on the
realization of growth, zt 2 fH; Lg. The condition                Rf < L ensures the normalized aggregate
wealth remains bounded for all feasible paths. Occasionally, I focus on paths in which the growth
shock is constant, zt = z 2 fH; Lg for each t. Along these paths, the normalized consumption and
   2
    See Hirshleifer (2001); Barberis and Thaler (2003) for a review of the psychological forces that distort investors'
beliefs and a¤ect their investment decisions in practice.



                                                          6
foreign assets converge to constants given by,

                                                    1+n   Rf =z 1 p
                                 c = (1             )               ,                               (13)
                                                       1   Rf =z
                                              (1 + n) (1   )p
                                 f     =              f
                                                              :                                     (14)
                                                 1   R =z

I refer to these allocations as a balanced growth path (BGP).
   Importantly, Eqs. (11      14) imply that, when there is an equilibrium with a constant normalized
asset price p, this price is a su¢ cient statistic for macroeconomic outcomes (for a given path of
realized growth rates, fzt g). In subsequent analysis, I characterize p for di¤erent cases and refer to
these equations to discuss the macroeconomic e¤ects that are common across speci...cations.

Common-belief benchmark. I start with common beliefs, which provide a benchmark for the
main analysis with disagreements. Suppose all investors think zt+1 = z 2 fH; Lg. Suppose also that
there is no exogenous leverage limit ! t = 1 (which allows the aggregate risk-free asset position to
be negative). Using Eqs. (2) ; (3) ; (4) ; (7) ; (10), there is an equilibrium with a constant normalized
asset price given by
                                                             z (1    )
                                           p (z )                        .                          (15)
                                                        Rf      z (1   )
Here, z (1    ) denotes the net growth rate of earnings, which combines the productivity growth and
depreciation. With common beliefs, the normalized price is determined by the standard Gordon
growth formula. As expected, the price is higher when all investors are optimistic than when they
are all pessimistic, p (H ) > p (L).


 3.    Disagreements and overvaluation
I next turn to my main focus, belief disagreements and speculation. In environments with re-
stricted short selling, disagreements can create overvaluation, as ...rst emphasized by Miller (1977).
I illustrate this mechanism and discuss its macroeconomic e¤ects on aggregate consumption and
investment.
   Short selling-- borrowing an asset to sell-- enables an investor to take a negative position on an
asset she does not own. In practice, short selling real estate is typically not possible, and short
selling ...nancial assets can be quite costly. Derivatives markets can make short selling easier, but
they usually do not eliminate short-selling constraints (see Reed (2013) for a review of short selling
and its relationship with the options market). Short selling is also frequently banned or restricted
by regulators (see, e.g., Bris et al. (2007)).
   To investigate the e¤ect of these constraints, consider (for simplicity) the extreme case in which
short selling is prohibited, ! i
                               t = 0. Suppose also that investors' beliefs are persistent over time:
young optimists (pessimists) become mature optimists (pessimists). Finally, suppose the young



                                                             7
optimists'wealth (even without leverage) is su¢ cient to purchase the entire asset supply,

                                             (n + p (H )) > p (H ) .                                       (16)

      It is then easy to verify that there is an equilibrium with a constant normalized price given by:

                                                         H (1   )
                                         p (H ) =                   .                                      (17)
                                                    Rf     H (1   )

Even though only a fraction of the economy is optimistic, asset prices and macroeconomic outcomes
behave as if all investors are optimistic. At this price, pessimists would like to short sell the asset;
but they are constrained.
      In general, short-selling restrictions imply that pessimists'beliefs are not fully reected in the
market price. As long as optimists have su¢ cient wealth, the marginal investor is an optimist
and the asset price exceeds the valuation that would obtain absent short-selling constraints.3 This
qualitative insight applies under less extreme restrictions on short selling, e.g., when short selling
is possible but costlier than buying (see Atmaz et al. (2019)).
Remark 2 (Comparison with the objective valuation). So far, I haven't speci...ed "the objective
belief"-- the belief that will be realized in the data on average. This belief does not matter for most of
my analysis-- the allocations and prices are determined by investors'subjective beliefs. However, the
objective belief is important for mapping the results to empirical evidence. To match the evidence on
asset price booms generating predictably low expected returns (e.g., Greenwood et al. (2020)), I focus
on scenarios in which overvaluation raises the price above the objective valuation-- the valuation
according to the objective belief. In comparative static exercises (in this section and subsequent
sections), I take the objective belief as the pessimistic belief so that the objective valuation is p (L).
This assumption simpli...es the exposition although it is stronger than necessary.
Remark 3 (Market selection hypothesis). The objective belief also matters for the dynamics of
investors' wealth over time. The market selection hypothesis suggests that investors with "less
correct" beliefs should eventually be driven out of the market as they consistently lose money (see,
e.g., Friedman (1953); Sandroni (2000); Blume and Easley (2006, 2010)). This hypothesis does
not apply in my model since new investors (with possibly incorrect beliefs) enter the market in view
of the overlapping generations structure. Recent research has uncovered several additional reasons
this hypothesis is unlikely to apply in practice, e.g., irrational investors might be unable to pledge
their future non-...nancial wealth (e.g., Cao (2018)), they might have a greater propensity to
save (e.g., Yan (2008)), and their savings might endogenously increase as their wealth share
declines-- due to the increase in their perceived return from speculation (e.g., Boroviµ
                                                                                       cka (2020)).

Macroeconomic e¤ects.           Next consider the macroeconomic e¤ects of overvaluation. To ...x ideas,
suppose initially all investors are pessimistic ( = 0), the normalized asset price is given by p (L),
  3
   In this model, absent any exogenous short-selling and leverage limits, the asset price is the wealth-weighted
harmonic average of optimists'and pessimists'valuation (see Eq. (33) in Section 7).


                                                         8
and the economy is on a BGP with z = L [see (13        14)]. In period 0, the share of young optimists,
 , permanently increases to a su¢ ciently high level that the normalized price increases to p (H ).
Suppose also that pessimists have the objective belief and (accordingly) focus on a path in which
the growth rate is realized to be low, zt = z = L for each t [cf. Remark 2]. What happens to
aggregate consumption in the short run (in period 0)? How about in the longer run (as t ! 1)?
   Eqs. (11    12) show that overvaluation initially increases aggregate wealth (p + f0 ) and con-
sumption (c0 ) (the initial foreign asset position f   1   is determined by history). Subsequently, the
country converges to a new BGP where consumption and foreign assets are given by Eqs. (13           14).
Thus, overvaluation eventually reduces foreign assets (f ). Overvaluation also eventually reduces
aggregate wealth (p + f ) and consumption (c) as long as the parameters satisfy, Rf > z = L. As I
discuss in Section 6, this is the condition for the economy to be dynamically e¢ cient.
   Intuitively, an increase in asset prices raises investors'(perceived) wealth and induces them to
spend more. The country ...nances greater consumption by running a current account de...cit, which
lowers its normalized foreign asset position. This typically lowers aggregate wealth and consumption
in subsequent periods (unless the economy is dynamically ine¢ cient and features too high savings
to begin with). Investors raise their spending in the hope that future productivity will be high. If
these hopes are not realized, aggregate wealth and spending eventually declines.
   Even though overvaluation is driven by optimists, its short run wealth e¤ects apply to all
investors that are exposed to assets (or that hold assets when overvaluation starts). For instance,
since a young optimist and a young pessimist are both endowed with units of capital, overvaluation
                                                             p
increases their initial spending by the same amount, co
                                                      t = = ct = (1         ) = (1    ) (n + p (H )) et .
Since investors choose di¤erent portfolios, their fortunes diverge in subsequent periods depending
on the realization of uncertainty-- a natural consequence of speculation.

Related mechanism: Limits to arbitrage. In my analysis, pessimists are unable to undo the
overvaluation due to short-selling restrictions. A related literature emphasizes more general limits
to arbitrage -- such as fundamental risk, endogenous price volatility, or capital constraints-- that
prevent professional arbitrageurs from correcting "mispricing" (see, e.g., De Long et al. (1990a);
Shleifer and Vishny (1997); Lamont and Thaler (2003a)). This suggests the overvaluation mech-
anism can apply even without short-selling constraints. However, the alternative limits do not
necessarily generate a bias toward high valuations, so these versions of the argument require an
additional source of optimism. A related literature emphasizes dynamic mechanisms by which pro-
fessional arbitrageurs might actually exacerbate the overvaluation, e.g., arbitrageurs might predict
investor sentiment (e.g., De Long et al. (1990b)) or they might "ride the bubble" due to a lack
of synchronization among each other (e.g., Abreu and Brunnermeier (2003)). Brunnermeier and
Nagel (2004) present empirical evidence that suggests hedge funds ampli...ed the overvaluation of
the U.S. Internet stocks in the late 1990s.

Related mechanism: Investment. While I focus on consumption, overvaluation can also a¤ect
investment. The precise channels are subtle and depend on the ...rm managers'beliefs and incentives

                                                  9
as well as the ...rms' ...nancial constraints (see, e.g., Morck et al. (1990); Blanchard et al. (1993);
Stein (1996); Baker et al. (2003); Panageas (2005); Bolton et al. (2006)). Consider two extreme
cases. If the ...rm managers maximize the ...rm's current market value (e.g., because they cater to
investors' beliefs or have a short time horizon), then overvaluation increases investment through
a standard Q-theory mechanism-- regardless of the managers' own beliefs. In the other extreme
case in which the managers maximize the ...rm's long-term market value and have the objective
belief, then the managers should in principle ignore the overvaluation when evaluating investment
projects. However, overvaluation can increase investment even in this latter case by relaxing the
...rm'
     s ...nancial frictions and reducing its cost of capital. Empirically, the literature ...nds that
overvaluation has increased investment in speci...c episodes such as the Japanese stock market
bubble of the late 1980s (e.g., Chirinko and Schaller (2001)) and the U.S. Internet bubble of the
late 1990s (e.g., Gilchrist et al. (2005)), as well as more systematically (e.g., Polk and Sapienza
(2008)). As I discuss in the concluding section, overvaluation has also increased the residential
investment in the U.S. housing boom of the 2000s.

Related literature.     A large ...nance literature empirically investigates short selling and typically
...nds support for the overvaluation mechanism I discuss in this section (e.g., Chen et al. (2002);
Diether et al. (2002); Jones and Lamont (2002); Nagel (2005); Boehme et al. (2006); Yu (2011)).
The literature has also applied this mechanism (or its variants) to explain speci...c overvaluation
episodes such as the U.S. Internet bubble (e.g., Ofek and Richardson (2003); Lamont and Thaler
(2003b)) or the U.S. housing boom (e.g., Piazzesi and Schneider (2009); Nathanson and Zwick
(2018)), and to shed light on more general empirical asset pricing puzzles (e.g., Hong and Sraer
(2016); Chu et al. (2016)).
   In related work, Guzman and Stiglitz (2020) present a model that generates similar macro-
economic e¤ects as in this section. While their model does not feature short-selling constraints,
disagreements nonetheless increase agents' expected income ("pseudo-wealth"), which increases
their spending in the short run (and reduces it in the longer run) for appropriate utility functions.


 4.    Speculative bubbles
The analysis so far does not (necessarily) generate a large trading volume-- a common feature of
asset price booms. A literature initiated by Harrison and Kreps (1978) shows that in a dynamic
setting belief disagreements can induce speculative trading, which substantially increases the degree
of overvaluation. In particular, the asset price can exceed the present discounted valuation of all
investors -- a situation which Scheinkman and Xiong (2003) refer to as a speculative bubble. I
next illustrate the speculative bubble mechanism. In this and the next section, I abstract from
macroeconomic outcomes and focus on characterizing how di¤erent speci...cations of beliefs or the
credit environment a¤ect the normalized asset price. Given the impact on the asset price (relative
to the appropriate benchmark), Eqs. (11      14) describe the e¤ect on macroeconomic outcomes.



                                                  10
   Consider the same assumptions as in the previous section with the di¤erence that young op-
timists become mature pessimists (and young pessimists remain mature pessimists). Therefore,
young optimists are the only optimistic investors in the economy. Moreover, young optimists know
they will become pessimistic in the next period (they think "this time is di¤erent").
   With these assumptions, there is an equilibrium with exactly the same asset price as in the
previous section-- even though optimists are less optimistic than before. In particular, young opti-
                                                                             H (1 )
mists'present discounted (or buy-and-hold) valuation is given by po
                                                                  pdv =     Rf L(1 )
                                                                                     ,   which is strictly
                                                 H (1 )
smaller than the equilibrium price, p (H ) =   Rf H (1 )
                                                         .   Even though optimists expect high growth
for only one period, the asset is priced as if it will have high growth for all future periods.
   Intuitively, young optimists do not follow a buy-and-hold strategy. Instead, they buy the asset
to sell to future young optimists. The asset price reects this resale option value. This value drives
up the price of the asset beyond the present discounted valuation of all investors in the economy.
The di¤erence between the price and the marginal investor'
                                                         s valuation reects a speculative bubble.
   Importantly, the equilibrium features a large trading volume: young optimists hold the asset for
one period and sell to future young optimists. The turnover in each period is 100%. This speculative
trading creates a large resale option value that can considerably exacerbate overvaluation.

Related mechanism: Other reasons for resale. In this model, the resale option value is
driven by future investors that enter the market. However, the resale option value can also result
from other modeling ingredients. Harrison and Kreps (1978) assume investors' relative optimism
ips over time. Scheinkman and Xiong (2003) generate this type of ipping endogenously by
assuming investors are overcon...dent and weight their own signals relatively more than others'(see
also Morris (1996)). The common element is that optimists who buy the asset think they will be
able to sell it to another investor in a future period. In a complementary review, Xiong (2013)
discusses this literature on speculative bubbles in greater detail and highlights its empirical success
in accounting for the historical bubbles associated with trading frenzies.

Related mechanism: Extrapolative bubbles.               I take investors'beliefs as exogenously given.
A recent literature explains asset price bubbles associated with high trading volume using models
with endogenous beliefs (e.g., DeFusco et al. (2017); Barberis et al. (2018); Bordalo et al. (2020a)).
This literature typically relies on extrapolative (or diagnostic) beliefs to generate optimism and
overvaluation, and an additional ingredient to generate disagreements and trading volume. For
instance, Barberis et al. (2018) assume investors' beliefs in a bubble waver over time between a
"growth" signal (that suggests to buy) and a "value" signal (that suggests to sell). As the bubble
grows, these signals become stronger and wavering induces large endogenous disagreements. This
literature complements my analysis and helps match empirically relevant features of asset price
bubbles-- such as the dynamics of the relationship between prices and trading volume.




                                                  11
 5.       Leveraged speculative bubbles
The analysis so far assumes borrowers have su¢ cient resources and do not need leverage to under-
take their desired investments. In practice, leverage plays an important role in most asset price
booms. A recent literature endogenizes leverage limits in environments with ...nancial speculation
through collateral constraints. The endogenous leverage limit depends on perceived downside risks.
In particular, shifts in (lenders'
                                 ) beliefs about downside tail scenarios can explain the emergence as
well as the collapse of leveraged speculative bubbles, as emphasized by Geanakoplos (2010); Simsek
(2013a). I next illustrate how leveraged bubbles form, starting with exogenous leverage limits, and
then considering the case with endogenous leverage limits.
       Throughout this section, I assume there is no depreciation or injection of new capital,                = 0.
This ensures that young investors'wealth,               (wt + Pt ), is exogenous to asset prices. I discuss the
case with endogenous wealth at the end of the section.

 5.1.      Bubbles with exogenous leverage limits
Consider the same assumptions as in Section 4 (which lead to speculative bubbles) with two di¤er-
ences. First, investors face an exogenous leverage limit, ! i
                                                            t            ! for some !          1 (and they cannot
short sell,   !i
               t   0).4   Second, the parameters satisfy

                                                                                   z
                               p (H ) >      n! > p (L) where p (z ) =                     .                   (18)
                                                                              Rf       z

In particular, young optimists'wealth, even if leveraged up to the limit, is not su¢ cient to purchase
the asset supply at the optimistic valuation.
       Under these conditions, there is an equilibrium in which young optimists are constrained and
the normalized asset price is given by

                                          pt = p (! )        n! for each t.                                    (19)

The asset price is determined by young optimists' levered wealth. At this price, young optimists
think the asset is underpriced and would like to increase their investment, but they are constrained
by the leverage limit. Pessimists (all other investors) think the asset is overpriced but are con-
strained by the short selling limit (see Appendix A.4.1).
       Importantly, the equilibrium asset price is increasing in the leverage limit. Leverage enables
optimists to exert greater inuence on the asset price, which in turn leads to more overvaluation
and a larger speculative bubble.
       Likewise, it is easy to see that allowing for short selling-- borrowing the asset-- has a similar
e¤ect but in the opposite direction. Suppose young investors (and only young investors) face a
more relaxed short selling restriction, ! i
                                          t         ! for some !      0. Then, under appropriate parametric
   4
    I also assume the exogenous leverage limit is tighter than the endogenous limit that I characterize later in the
section (see Appendix A.4.1 for the precise condition).



                                                           12
restrictions, the equilibrium price is given by [cf. Eq. (19)]

                                             pt = n ( ! + (1                ) !) .                      (20)

Relaxing short-selling constraints (lowering ! ) enables pessimists to wield a greater inuence on
the price, which reduces the speculative bubble.

 5.2.     Collateral constraints and endogenous leverage limits
Next consider the same setup but without an exogenous leverage limit, ! t = 1. For simplicity, I
focus on the case without short selling, ! i
                                           t           0 and discuss the case with short selling in Remark 5.
I ...rst illustrate the collateral constraint that leads to an endogenous leverage limit. I then analyze
how endogenous leverage a¤ects speculative bubbles.
    Recall that investors' portfolio return is required to be nonnegative in all states, Rt;t+1 ! i
                                                                                                  t +
Rf 1      !i
           t       0 [see (5)]. Since there are only two assets, this requirement can be interpreted as a
collateral constraint that rules out default :

                                              Rf ! i
                                                   t     1         Rt;t+1 ! i
                                                                            t.                          (21)

Speci...cally, suppose borrowers can walk away from the loan. To prevent default, lenders ask
borrowers to post their assets as collateral. Finally, suppose lenders require the loan to be fully
safe (I discuss the case with default risk at the end of the section). These ingredients imply the
collateral constraint in (21): borrowers'promised risk-free payment must be lower than the value
of the collateral in all states.
    In equilibrium, the lowest growth state, zt+1 = L, leads to the smallest return Rt;t+1 =
et L(1+pt+1 )
     et pt      [see (4)]. Using this condition, Eq. (21) implies the endogenous leverage limit :

                                                                      pt
                                        !i
                                         t    ! end
                                                t                  1                   .                (22)
                                                       pt         Rf
                                                                     L (1   + pt+1 )

This limit has a natural interpretation. The denominator is the required downpayment -- the mini-
mum amount the borrower must spend out of her own pocket to purchase the asset at the equilib-
rium price. This downpayment is determined by the di¤erence between the asset's price, pt , and its
                       1
pledgeable value,     Rf
                         L (1   + pt+1 )-- the value lenders can recover if the low growth state is realized.
The leverage limit is the ratio of the asset price to the required downpayment.
    Importantly, the leverage limit is determined by the (lenders'
                                                                 ) beliefs about the downside tail
scenario-- state L. An increase in L increases the pledgeable value, reduces the required downpay-
ment (or margin), and loosens the leverage limit. Conversely, a decline in L, e.g., due to an increase
in uncertainty, increases the required downpayment and tightens the leverage limit.

Remark 4 (Alternative Collateral Constraints). I assume the pledgeable value incorporates next
period's earnings, et+1 (as in Fostel and Geanakoplos (2014)). The literature has also considered


                                                             13
alternative collateral constraints where the pledgeable value is determined only by the asset price
in the next period, Pt+1 (e.g., Kiyotaki and Moore (1997)). In my context, this distinction makes
little di¤ erence. Having said this, my assumption is arguably more appropriate for ...nancial assets
where it would be di¢ cult for the borrower to hide (or abscond with) the earnings.
Remark 5 (Endogenous Short Selling Limit). While I focus on endogenous leverage limits, the
model also features a collateral constraint for short positions that implies an endogenous short-
selling limit (see Appendix A.4.2):

                                                              pt
                                 !i
                                  t      ! end
                                           t        1                        .                          (23)
                                                   Rf
                                                      H   (1 + pt+1 )   pt

Intuitively, since a short position is more likely to default when the asset price increases, its re-
quired downpayment is determined by the di¤ erence between the valuation in the high growth state,
 1
Rf
   H   (1 + pt+1 ), and the current price, pt . Thus, the short selling limit is determined by upside
risks and is tightened by an increase in H -- as opposed to a decline in L (see also Simsek (2013a)).
Remark 6 (Endogenous Limits and Market Incompleteness). In my model, collateral constraints by
themselves do not generate market incompleteness. In fact, when both leverage and short selling are
allowed, the equilibrium in each period is as if the markets are complete (see Appendix A.4.2). The
main reason is that investors receive no nontradable endowments in future periods (they only receive
endowments when they are born) so their future wealth is equal to their ...nancial wealth. Thus, the
analysis is equivalent to allowing investors to choose their future wealth (and consumption) subject
to obtaining nonnegative wealth in each state [see problem (5)]. With two continuation states and
two assets, this replicates the complete market outcomes. The endogenous limits in (22) and (23)
extend to more realistic (incomplete market) scenarios in which investors also have non...nancial
wealth, e.g., when they receive nontradable labor income in future periods (see Cao (2018)).
   Next consider how endogenous leverage a¤ects the speculative bubble (without short selling).
I conjecture an equilibrium in which the normalized price p and the young optimists' endogenous
leverage limit are constant, ! end
                               t        ! end (p), as in Section 5.1. Combining Eqs. (22) and (19), the
price is the solution to

                                      1                                      nRf + L
                       p=      n+        L (1 + p) , which gives p =                 .                  (24)
                                      Rf                                     Rf L

This price is an equilibrium as long as the parameters satisfy p < p (H ) (see Appendix A.4.2).
   Eq. (24) captures an ampli...cation mechanism that can lead to a large speculative bubble even
when borrowers are constrained. The asset price is determined by borrowers' available liquid-
                                                                                          1
ity, which consists of their own wealth,         n, and the asset'
                                                                 s pledgeable value,     Rf
                                                                                            L (1   + p). The
pledgeable value is increasing in not only the exogenous downside tail scenario (L) but also in
the endogenous price in the next period (p). With loose collateral constraints (high perceived L),
speculation increases the price in the next period, which leads to even looser collateral constraints
in the current period, and so on.

                                                     14
       The broader idea is that, even if lenders are not optimistic about an asset, they are willing to
lend against the asset as long as they think future optimists will come along and those optimists will
be relatively unconstrained. Therefore, small changes in the credit environment or lenders' higher
order beliefs (here, their beliefs about future investors' beliefs) can have a large impact on the
extent of mispricing and on the size of the speculative bubble.5

Related mechanism: Net worth channel. The ampli...cation mechanism in this section is from
Simsek (2010). It is easy to extend the model to capture mechanisms that further relax optimists'
borrowing constraints in asset price booms. When                 > 0, young optimists are initially endowed with
some asset, which introduces a standard ampli...cation mechanism that operates through borrowers'
net worth,      (wt + Pt ) (e.g., Kiyotaki and Moore (1997)).

Related mechanism: Default risk and the type of disagreements. In this model, I assume
lenders require the loans to be fully safe. Fostel and Geanakoplos (2015) show that in models with
two continuation states (such as the current model) this assumption is without loss of generality.
Loosely speaking, lending a larger amount exposes lenders to the asset'
                                                                      s risk, but with two states
this exposure can be replicated by purchasing an appropriate amount of the asset. With multiple
continuation states, this result no longer applies. In Simsek (2013a), I develop a model with a
continuum of states in which the equilibrium typically does feature default. The model shows
that in general there is not a ...xed leverage limit, and the equilibrium leverage and default risk
depend on the type of disagreements. Disagreements about upside risks are conducive to leveraged
asset price booms. In this case, borrowers take on larger and riskier loans in equilibrium, because
lenders largely share the borrowers' views about downside risks and do not charge high interest
rate spreads. In contrast, disagreements about downside risks lead to lower leverage and asset
prices. In this case, while borrowers have access to larger and riskier loans, they choose smaller and
safer loans-- similar to the above model-- because lenders perceive a greater default risk and charge
high interest rate spreads. This result clari...es that, when borrowers and lenders have di¤erent
views about downside risks, the equilibrium leverage is mostly driven by the lenders' beliefs about
downside tail scenarios.

Related literature.          A growing literature uses endogenous collateral constraints as in this section
to shed light on several important macroeconomic issues such as the global leverage cycle (e.g.,
Fostel and Geanakoplos (2008)), international capital ows (e.g., Phelan and Toda (2019); Fostel
et al. (2019)), ...nancial innovation and securitization (e.g., Fostel and Geanakoplos (2012); Broer
(2018)) as well as issues in corporate ...nance (e.g., Geerolf (2018); Gong and Phelan (2019)) and
household ...nance (e.g., Bailey et al. (2019)). See Fostel and Geanakoplos (2014) for a review of
   5
    To illustrate the role of higher order beliefs, consider a scenario in which young optimists' beliefs are the same
as before but the pessimists'beliefs are di¤erent. Speci...cally, pessimists believe if state L is realized then all future
investors-- including "young optimists" -- will hold the pessimistic belief. In this scenario, the pledgeable value of the
asset is given by p (L). Consequently, the asset price is lower and given by p =       n + p (L) =     n + RfL L .



                                                            15
this literature.


 6.      A comparison with rational bubbles
So far, I have discussed how belief disagreements can generate overvaluation and (leveraged) spec-
ulative bubbles. A macroeconomics literature emphasizes rational bubbles as an alternative mech-
anism that can generate high asset valuations in settings with overlapping generations or ...nancial
frictions (see Samuelson (1958); Diamond (1965); Tirole (1985) for seminal contributions). In this
section, I derive rational bubbles in my model and compare them with overvaluation and speculative
bubbles.
      To ...x ideas, consider the common belief benchmark from Section 2 with the pessimistic belief
z = L. Rational bubbles are possible when investment opportunities are limited, which I ensure
with two assumptions. Suppose         > 0, so that investment in physical capital depreciates; and
Rf       L, so that investment in foreign assets generates a lower return than the growth rate of
the economy. For simplicity, I make the stronger assumption Rf = L (which leads to a BGP
equilibrium with a stationary bubble). As before, I also assume Rf 2 (H (1                   ) ; L= ).
      In this case, the benchmark allocations are still an equilibrium [characterized by Eq. (15) and
Eqs. (11      14)]. However, there can also be equilibria that feature rational bubbles. Suppose
investors can invest in a bubble asset that yields zero dividends in all periods. Let Bt denote the
price of the bubble asset. Appendix A.5 veri...es that there is an equilibrium with a positive bubble
that grows at the same rate as the economy, Bt = bet with some b > 0. In this equilibrium, the
                                                         bet+1
bubble is fairly priced because its gross return is       bet    = L = Rf . The normalized risky asset
price is given by p (L) as in the benchmark [see (15)]. Intuitively, the bubble has a positive value,
even though it pays no dividends, as it helps address the asset shortage that results from limited
investment opportunities.
      The macroeconomic e¤ects of a rational bubble are described by Eqs. (11                 12) (with zt = L)
after replacing p with p (L) + b. I obtain,

                                                                             Rf ft   1
                                  ct = (1        ) 1 + n + p (L) + b +                   ,                 (25)
                                                                               L
                                                                     Rf ft   1
                      p (L) + b + ft =         1 + n + p (L) + b +               .                         (26)
                                                                       L

Consequently, the normalized consumption and foreign assets converge to the BGP allocations in
(13     14) (with z = L) after replacing p with p (L) + b.
      How does the emergence of a rational bubble a¤ect macroeconomic outcomes? Suppose the
economy is initially on a BGP without a bubble (b = 0). In period 0, a rational bubble with
b > 0 unexpectedly forms. Eqs. (25            26) imply that the aggregate variables follow the same
dynamics as in the analysis of overvaluation in Section 3. The di¤erence is that in this case the
parameters satisfy, Rf = L (whereas previously I focused on the case, Rf > L). With these



                                                    16
parameters, the bubble leaves the normalized BGP consumption unchanged [see (13)]. Intuitively,
the economy is dynamically ine¢ cient and saves too much in foreign assets with low return. A
rational bubble absorbs the excess savings and improves e¢ ciency. Consequently, the bubble can
increase consumption in the longer run as well as in the short run.
   Importantly, this analysis highlights that rational bubbles generate similar macroeconomic ef-
fects as overvaluation and (leveraged) speculative bubbles. Put di¤erently, rational bubbles can
capture certain macroeconomic aspects of overvaluation in reduced form, while remaining agnostic
about the underlying investor psychology.
   On the other hand, overvaluation and speculative bubbles have several important advantages
relative to rational bubbles. First, the overvaluation mechanism is more consistent with the empiri-
cal literature documenting that asset price and credit booms are associated with high crash risk and
generate predictably low expected returns (e.g., Baron and Xiong (2017); Greenwood et al. (2019)).
This return predictability is at odds with the rational bubble model in which all assets-- including
the bubble asset-- generate a fair return; but it can be reconciled with overvaluation as long as the
objective belief is not too optimistic (see Remark 2).
   Second, by specifying investors'beliefs (and psychology) explicitly, overvaluation and specula-
tive bubbles make more precise testable predictions. The equilibrium (absent rational bubbles) is
often uniquely determined given investors' beliefs. In contrast, rational bubbles (when they are
feasible) are associated with multiple equilibria. For instance, the allocation in (25) is an equilib-
rium for a continuum of bubble sizes b. This multiplicity makes the model less useful for empirical
analysis.
   In fact, the multiplicity of equilibria creates challenges even for basic comparative statics. Rely-
ing on a particular equilibrium selection, Galí (2014) shows that an increase in the interest rate can
have the surprising e¤ect of increasing the size of the bubble (after the ...rst period). In contrast,
the comparative statics of speculative bubbles typically do not require an equilibrium selection
and are consistent with conventional wisdom. For example, the interest rate reduces the size of
                                                                  Rf (H L)(1 )
overvaluation in Section 3, given by p (H )      p (L) =                            ; as well as   the size of
                                                            (R f H (1  ))(Rf L(1 ))
                                                                         H (1 )(H L)(1 )
the speculative bubble in Section 4, given by p (H )         po
                                                              pdv = (Rf H (1 ))(Rf L(1 )) .
   Finally, rational bubbles require rather restrictive conditions on asset maturities or the economic
environment (see, e.g., Campbell et al. (1997); Santos and Woodford (1997)). For instance, the
model in this section does not admit a rational bubble when there is no depreciation,          = 0. In this
                                                             L
case, capital is in...nitely lived and its price (p (L) = Rf L
                                                                 ) becomes unbounded when the interest
rate is su¢ ciently low to allow for a rational bubble   (Rf     L). In contrast, speculative bubbles are
feasible more generally as long as investors'beliefs satisfy the appropriate assumptions.

Related mechanism: Risk shifting bubbles. Another strand of the literature emphasizes
bubbles driven by agency frictions and risk shifting, e.g., Allen and Gorton (1993); Allen and Gale
(2000); Allen et al. (2019). In these models, some "borrowers"receive funds from "lenders"to invest
in risky assets. With debt contracts and limited liability, borrowers have an incentive to take on


                                                    17
excessive risks, which can drive up risky asset prices. Risk-shifting bubbles provide a complementary
explanation for asset price booms but they have somewhat di¤erent macroeconomic (and welfare)
implications than speculative and rational bubbles (see Barlevy (2012) for a discussion). Moreover,
like rational bubbles, these bubbles have trouble generating the disappointing returns that are an
empirical regularity (the "lenders" are aware that they receive a low expected return due to risk
shifting).

Related literature. My analysis only scratches the surface of the vast theoretical literature on
asset price bubbles. See Martin and Ventura (2018) for a review that focuses on rational bubbles,
and Brunnermeier and Oehmke (2013) for a review that contrasts di¤erent theories of bubbles.


 7.    Speculative wealth dynamics and procyclical valuation
So far, I have focused on the e¤ects of speculation in environments with short-selling constraints.
A large ...nance literature shows that speculation a¤ects asset prices by shaping investors' wealth
dynamics, even without short-selling constraints (e.g., Detemple and Murthy (1994)). The key idea
is that optimists become more dominant after the realization of good states, whereas pessimists
become more dominant in bad states. These speculative wealth dynamics help explain the excess
asset price volatility as well as the procyclical asset valuation (or the countercyclical risk premium)
observed in the data (e.g., Cochrane (2011); Shiller (2014)). In this section, I demonstrate the
procyclical valuation mechanism. The next section shows procyclical valuation also exacerbates
demand recessions.
   Throughout this section, I make three assumptions (for the general case,         0). First, I switch
                                                 f      f
to a closed economy, by modifying (9) so that   Rt     Rt   is endogenous and

                                   Ft = 0 and Yt = Yt for each t.                                 (27)

The closed economy assumption doesn'
                                   t play an important role beyond ensuring that foreign assets
are not a state variable (so the model has a single state variable, optimists'wealth share). Second,
investors face no exogenous limits on short selling or leverage (! t =   1; ! t = 1) so that markets
are e¤ectively complete (see Remark 6). The mechanisms also apply with exogenous portfolio
restrictions, but complete markets simplify the analysis. Finally, I focus on the case in which
investors have the same belief when young and old: optimism and pessimism are persistent.
   I next characterize the equilibrium in three steps. I ...rst establish a key relationship between
output and asset prices. I then extend the analysis of the common-belief benchmark to this case.
Finally, I consider the case with disagreements and establish the main results in this section.

Output-asset price relation in a closed economy.              In a closed economy, there is a tight
relationship between output and risky asset prices that I refer to as the output-asset price relation.



                                                  18
Speci...cally, Eqs. (6) ; (8) ; (9) (and Ft = 0) imply

                                 Yt = Ct = (1         ) (Yt + Pt ) = (1=              1) Pt .                      (28)

As before, consumption is determined by the wealth e¤ect. In a closed economy, aggregate wealth
comes from the current income (Yt ) and the domestic asset price (Pt ). In addition, output is equal
to consumption (since there is no domestic or foreign investment). Solving the equation, output is
proportional to the domestic asset price.
       Combining the output-asset price relation with the assumption that output is at its potential,
Yt = et (1 + n), the normalized price (Pt =et ) is constant and given by

                                                              n+1
                                                pt = p =            .                                              (29)
                                                             1=   1

Intuitively, the domestic asset price (or aggregate wealth) must be su¢ ciently high to ensure that
output is at its potential. Since the normalized output is constant (n + 1), the required level of the
normalized asset price is also constant. I refer to p as the potential asset price. Therefore, in this
section beliefs or speculation do not a¤ect the output or the asset price in equilibrium (their e¤ects
are absorbed by the equilibrium interest rate). This feature will change in the next section, where
output is not necessarily at its potential due to nominal rigidities.

Common-belief benchmark in a closed economy. Next consider the benchmark in which
all investors think zt+1 = z 2 fH; Lg. There is an equilibrium with an endogenous and constant
interest rate denoted by Rf (z ). In Appendix A.6, I characterize this equilibrium and show Eq.
(15) still applies:
                                                           z (1   )
                                           p (z )                             .                                    (30)
                                                     Rf   (z ) z (1       )
The asset price is still determined by the Gordon growth formula but with the endogenous interest
rate. Combining this equation with Eq. (29), I solve for the equilibrium interest rate:

                                                           1                          n + 1=
                             Rf (z ) = z (1         ) 1+         = z (1           )          .                     (31)
                                                           p                           n+1

       In a closed economy, shocks to asset valuations a¤ect the equilibrium interest rate instead of
the equilibrium price. For instance, an optimism shock that changes the common belief from z = L
to z = H increases the interest rate while leaving the asset price unchanged. The feature that the
normalized price remains constant is extreme (driven by the assumption that there is a single risky
asset in positive supply) but the e¤ect on the interest rate applies quite generally.6
   6
    In a more realistic scenario with multiple assets, belief changes for an asset would a¤ect its equilibrium price due
to relative valuation e¤ects.




                                                          19
Equilibrium asset price with disagreements. I next consider my preferred setup with be-
lief disagreements: a constant fraction ( ) of young investors are optimists; and young optimists
(pessimists) become mature optimists (pessimists).
         Recall that in this section I assume no exogenous limits on short selling or leverage. However,
the model still features the endogenous limits that I characterize in Section 5.2. In equilibrium,
optimists and pessimists are both against their respective endogenous limits. Consequently, the
market clearing price is determined by optimists'and pessimists'relative purchasing powers.
         Appendix A.6 formalizes this argument and shows that the asset price is a particular wealth-
weighted average of investors'valuations. To state the result, let                              t   2 (0; 1) denote the optimists'
wealth share de...ned by:                                     P             i
                                                                  i2fo;mog at
                                                      t   =        P i        .                                                  (32)
                                                                      i at

The equilibrium price is then given by
                                                                                                                 1
                                                                                           t            1    t
                                      Pt = P (Pt (H ) ; Pt (L) j t )                                +                ,           (33)
                                                                                        Pt (H )         Pt (L)
                                                          rt+1;z 0 + Pt+1;z 0
                      where Pt z 0        = (1       )              f
                                                                                  for z 0 2 fH; Lg .
                                                                   Rt

Here, Pt+1;z 0 is the equilibrium price in period t + 1 if state z 0 is realized; and Pt (z 0 ) is the valuation
of the asset under the extreme belief that state z 0 will be realized for sure. Hence, Pt (H ) and
Pt (L) correspond to optimists'and pessimists'valuations, respectively. The function P ( ) is the
wealth-weighted harmonic average of these two valuations.7

Speculative wealth dynamics.                      Next consider the dynamics of optimists' wealth share,                           t.
Since (currently alive) optimists and pessimists perceive no risk, they take extreme positions that
imply their wealth declines to zero if the state on which they bet is not realized. Consequently,
(all) optimists'wealth share also follows extreme dynamics:

                                                     (n + p )                              (1     ) (n + p )
                        t;z   =   z   where   L               <             H       1                        .                   (34)
                                                    n+1+p                                       n+1+p

Optimists'wealth share depends only on the most recent state realization. If z = L is realized, then
old optimists lose all of their wealth. In this case,                   t       L   is equal to the wealth share of young
optimists. If instead zt = H is realized, then old pessimists lose all of their wealth. In this case,
 t          H   is equal to one minus the wealth share of young pessimists. This also implies                            H   >     L:
optimists'wealth share is larger after a high growth realization.
     7
     It is easy to check that this harmonic average is also the equilibrium price that would obtain in a "representative
investor"setting in which the investor believes the probability of the high growth state is t 2 (0; 1). Hence, the asset
is priced as if there is a representative investor whose degree of optimism is proportional to optimists'wealth share.




                                                                  20
Procyclical asset valuation. Recall that the asset price and the rental rate are given by, re-
spectively, Pt = p et and rt+1 = et+1 [see (29) and (2)]. Combining these expressions with Eqs.
(33) and (34), there is an equilibrium in which the interest rate is a function of the most recent
                    f      f
state realization, Rt;z = Rz , with

                          f
                         Rz = P Rf (H ) ; Rf (L) j      z   for z 2 fH; Lg .                     (35)

Recall that Rf (H ) and Rf (L) denote the interest rate with common optimism and common
pessimism [see (31)]. With disagreements, the equilibrium interest rate in each state z is a weighted
average of Rf (H ) and Rf (L). The weight on the interest rate with common optimism, Rf (H ),
is determined by optimists'wealth share,     z.
   Combining Eqs. (34) and (35) establishes the main result in this section: the equilibrium risk-
                                    f    f
free interest rate is procyclical, RH > RL . Intuitively, good state realizations vindicate optimists
and increase their wealth share, whereas bad state realizations do the opposite. Consequently, risky
assets'valuation increases (the risk premium declines) in good times and their valuation decreases
in bad times. In equilibrium, procyclical asset valuation translates into procyclical interest rates.

Extensions. These results require the relative optimism of investors to be somewhat (though not
necessarily fully) persistent across aggregate booms and busts. This is consistent with empirical
evidence: using survey data, Giglio et al. (forthcoming) ...nd that investors' beliefs feature quite
large and persistent individual heterogeneity over time. A natural question is whether the results
are robust to allowing for "ipping" of beliefs as in the speculative bubbles literature. In fact,
the analysis can accommodate an arbitrary amount of ipping of beliefs as long as it takes place
within optimists (or pessimists). For instance, it is easy to envision a version of the model in which
optimists speculate among each other on upside states, e.g., H 0 > H . This could drive a speculative
bubble as in the previous section. The realization of a low growth state L would reduce optimists'
wealth share as a group and reduce asset valuations.
   The results still apply when investors are subject to exogenous portfolio restrictions. For in-
stance, consider the model in Section 3 in which short selling is prohibited. Recall that optimists
invest in the risky asset whereas pessimists invest in the risk-free asset. With these portfolios,
the realization of the low growth state would lower optimists'wealth share (and in general, asset
prices as well). The main di¤erence is that optimists'wealth share would decline less than in this
section with complete markets. Portfolio restrictions reduce ...nancial speculation, which mitigates
but does not overturn the mechanisms.

Related mechanism: Extrapolation and diagnostic beliefs.                 In this model, speculation
induces extrapolative dynamics for asset valuations even though individual investors do not ex-
trapolate. This connects the analysis to a large literature emphasizing extrapolative or diagnostic
beliefs (and related psychological frictions) as a key driver of asset price and macroeconomic uctu-
ations (see, e.g., Cutler (1990); Barsky and De Long (1993); Barberis et al. (1998); Hong and Stein

                                                  21
(1999); Fuster et al. (2012); Greenwood and Shleifer (2014); Shiller (2015); Hirshleifer et al. (2015);
Barberis et al. (2015); Bordalo et al. (2018, 2020b, 2021); Maxted (2020)). While the two mech-
anisms have complementary e¤ects on asset prices, they make distinct predictions for investors'
portfolios. Unlike speculation, extrapolation (without additional ingredients) does not necessarily
induce high trading volume or leverage.

Related literature. A large ...nance literature develops the speculative wealth dynamics mech-
anism further to analyze a number of issues such as excessive asset price volatility, time-varying
risk premium, and high trading volume (e.g., Dumas et al. (2009); Xiong and Yan (2010); Bhamra
and Uppal (2014); Atmaz and Basak (2018); Martin and Papadimitriou (2019)), option prices
(e.g., Buraschi and Jiltsov (2006)), and ...nancial innovation (e.g., Zapatero (1998); Kubler and
Schmedders (2012)).


 8.     Speculation and demand recessions
In recent work, Caballero and Simsek (2020) show how speculation not only exacerbates asset
price uctuations but can also worsen demand recessions. Moreover, appropriate macroprudential
policies intended to discipline speculation in the boom can improve macroeconomic stability. These
policies can generate Pareto improvements in welfare, since they internalize aggregate demand
externalities. In this section, I illustrate these results and I discuss closely related mechanisms
including investment hangover, ...nancial frictions, and deleveraging.

Model with nominal rigidities and interest rate policy. Consider the setup in the previous
section but with one key di¤erence: output is not necessarily at its potential due to nominal
                                                   f
rigidities. As a consequence, the risk-free rate, Rt , and output, Yt , are both endogenous and
determined by the interest rate policy of the central bank.
   Speci...cally, there are New Keynesian ...rms with fully sticky prices they never change (for
simplicity). The utilization of labor and capital by these ...rms is endogenous and denoted by
 l; k   2 [0; 1], so that Yt =   le n   +    ke .    For either factor, utilization can be increased for free
 t t                             t t         t t
until it is equal to one but cannot be increased further. With these assumptions, actual output is
determined by aggregate demand, Yt = Ct , and it is either at or below its potential, Yt             Yt (see
Appendix A.7.2 for details). I de...ne relative output as

                                                         Yt
                                                    yt          1;
                                                         Yt

and I refer to yt    1 as the output gap. The case with a negative output gap, yt < 1, captures
a demand recession. To simplify the analysis, I also make appropriate assumptions (relegated to
Appendix A.7.2) that ensure there are no pure pro...ts and a demand recession reduces both factors'
returns proportionally:
                                            wt = yt et n and rt = yt et .                               (36)

                                                         22
This setup allows for equilibria in which outcomes scale with productivity but otherwise does not
play a signi...cant role.8
       Since prices are fully sticky, the real risk-free interest rate is the same as the nominal rate.
I assume the central bank sets the interest rate to close the output gap, i.e., to achieve yt = 1.
However, the interest rate has a soft lower bound, denoted by Rf . This could capture the zero lower
bound but also other frictions (such as ...xed or stabilized exchange rates or concerns with banks'
...nancial health) that make it di¢ cult to cut interest rates below a certain level. I allow the central
bank to reduce the interest rate below Rf . These interest rate cuts are subject to unmodeled costs
and used only if the output gap is su¢ ciently low.9
       Formally, the interest rate follows

                                f       ~ f ; Rf (1 + u (yt
                               Rt = max R t                            1))       with u = 1.                        (37)

Here, R~ f is de...ned recursively as the interest rate that closes the current output gap given the
         t
policy in future periods. As long as this rate is su¢ ciently large, R ~f    Rf , conventional policy
                                                                            ~f
stabilizes output, yt = 1. When the required rate is below the lower bound, R                               < Rf , the
equilibrium features a demand recession, yt < 1. In this case, the central bank cuts interest rates in
proportion to the output gap (due to unmodeled costs), with intensity captured by the parameter,
u > 0. I focus on the special case, u = 1, which leads to particularly simple expressions (although
this simpli...cation is not necessary for the qualitative results). I next characterize the equilibrium
by following the same steps from Section 7.

Output-asset price relation with nominal rigidities. With nominal rigidities, the output-
asset price relation in (28) still applies. Likewise, the potential (normalized) asset price is still given
by p [see (29)]. However, the equilibrium price pt can be below this level. Moreover, the price
         pt
ratio    p ,   which I refer to as the relative asset price, determines the relative output,

                                                            pt
                                                     yt =         1:                                                (38)
                                                            p

Using this relation, I rewrite the interest rate policy as [see (37)]

                                              f
                                             Rt       ~ f ; Rf pt
                                                = max R                      .                                      (39)
                                                        t
                                                               p
   8
     Alternatively, I could assume there is no labor, n = 0. In this case, the results apply regardless of how the
earnings from capital are distributed between pure pro...ts and the rental rate of capital-- as long as the risky asset is
a claim on both types of earnings.
   9
     I view the policy in this region as capturing not only costly interest rate cuts (e.g., negative interest rates) but
also unconventional policies such as large-scale asset purchases (LSAPs) in reduced form. Caballero and Simsek
(forthcoming) develop a model in which LSAPs mitigate demand recessions (and they operate through a similar
mechanism as conventional monetary policy), but they are not free and the optimal LSAP typically does not fully
close the output gap.




                                                            23
Common-belief benchmark with nominal rigidities. Consider the benchmark in which all
investors think zt+1 = z 2 fH; Lg. There is an equilibrium with a constant normalized asset price,
p (z )        p , and a constant interest rate, Rf (z ). To characterize this equilibrium, consider the
common-belief interest rate from the previous section without nominal rigidities [see (31)]:

                                                                             1
                                         Rf (z ) = z (1          ) 1+                .
                                                                             p

If Rf (z )        Rf , the equilibrium is the same as before, Rf (z ) = Rf (z ) and p (z ) = p . The interest
rate lower bound does not bind and the monetary policy replicates the potential outcomes.
       If instead Rf (z ) < Rf , the equilibrium is di¤erent. The interest rate is below its lower bound
and there is a demand recession. The recession lowers not only the output but also the earnings
                                                                p(z )
(as well as asset prices) in future periods, rt+1 =              p Let+1     [see (36)]. This additional e¤ect leads
to a slightly modi...ed asset pricing equation [cf. (30)]:

                                                        z (1       ) pp
                                                                      (z )
                                           p (z ) =                              .
                                                      Rf (z )     z (1       )

Combining this with the policy rule in (39), I solve for the equilibrium as10

                               p (z )   Rf (z )
                                      =         < 1 and Rf (z ) = Rf (z ) < Rf .                                      (40)
                                p        Rf

       Eqs. (38) and (40) illustrate that, when the interest rate policy is constrained, asset valuations
a¤ect the severity of the demand recession. For instance, a decline in the perceived growth rate z
reduces not only the interest rate but also the equilibrium asset price and output. Since speculation
induces procyclical asset valuation, this analysis suggests speculation can also exacerbate demand
recessions, as I verify.

Equilibrium with disagreements and nominal rigidities.                                   Consider the main focus with
belief disagreements. As before, the equilibrium depends on optimists' wealth share,                        t    2 (0; 1)
[see (32)]. Moreover, Eqs. (33) and (34) also apply in this context. The asset price is still given
by a wealth-weighted (harmonic) average of optimists'and pessimists'valuations captured by the
function P ( ). Optimists' wealth share still follows extreme dynamics, which leads to                          t;z      z
with      L   <   H.
                                                                                              f    f
       Recall that, absent nominal rigidities, the equilibrium interest rate is procyclical, RL < RH
[see (35)]. This suggests that, with nominal rigidities, the interest rate is more likely to violate the
lower bound in the low growth state than in the high growth state. Under appropriate parametric
conditions, there is in fact an equilibrium in which the low growth state features a demand recession,
  10
    The interest rate is the same as in Section 7, Rf (z ) = Rf (z ), even though there is a demand recession.
However, this does not correspond to the output gap-stabilizing rate ("rstar") in this context, R~t
                                                                                                  f
                                                                                                    6= Rf (z ) [see
(37)]. Since the demand recession reduces earnings and asset prices in future periods, it also reduces the "rstar",
R~t
  f
     = pp
        (z ) f
            R (z ) < Rf (z ).


                                                          24
 f                                                                         f
RL < Rf ; pL < p , and the high growth state features potential outcomes, RH > Rf ; pH = p (and
the interest rate and the normalized price remain constant within states).11
       Appendix A.7.1 characterizes this equilibrium and shows that the relative price in the low
growth state, pL =p , solves

                                       pL f               Rf (H ) f
                                         R =P                    ; R (L) j          L   .                         (41)
                                       p                   pL =p

The left side is an increasing function of pL =p ; whereas the right side is a decreasing function of
pL =p . The equilibrium corresponds to the intersection. Importantly, an increase in the wealth-
share of optimists in the recession state,           L,   increases the relative asset price, pL =p , and mitigates
the demand recession.

Ampli...cation of demand recessions.                  Combining this analysis with optimists'wealth dynam-
ics illustrates the main insight in this section: speculation exacerbates demand recessions. In partic-
ular, Eq. (34) shows that speculation in the period before the recession reduces optimists'wealth
share in the recession to its lowest possible level,              t;L   =   L.   Eqs. (41) and (38) imply this lower
wealth share for optimists reduces asset prices and output in the recession. The decline in output
reduces the income of all investors, including the new investors that have not (yet) speculated.
Thus, speculation can create macroeconomic damage that extends beyond the speculators.

Macroprudential policy in the boom. This analysis also suggests that macroprudential policy
that restricts speculation in the boom can improve macroeconomic stability. Suppose the economy
is currently in period 0 with state z0 = H . Consider extreme macroprudential policy that bans
leverage in period 0: ! i
                        0         1 (less extreme leverage limits or other restrictions on risk taking also
work). To simplify the exposition, suppose there is no macroprudential policy starting period 1
onward, and that there is no interest rate lower bound in period 0.
       With these assumptions, if z1 = L is realized in period 1, then optimists'wealth share is

                                                            (1   ) (1 + p )
                                   ~ 1;L =   L   +   H                         >            L.                    (42)
                                                          n + (1    ) (1 + p )

Consequently, the equilibrium asset price in the recession is greater than in the case without macro-
prudential policy, p
                   ~1;L > p1;L (see Appendix A.7.1 for the derivation).
       Intuitively, macroprudential policy ensures that old optimists have positive wealth in the
recession-- as opposed to zero wealth as in the earlier analysis. This increases optimists' wealth
share and raises asset prices and output in the recession.
  11
       The exact parametric condition is given by

                                                                                    Rf (L)2
                          P Rf (H ) ; Rf (L) j (L) < Rf < P             Rf (H ) ;           j (H ) .
                                                                                      Rf
                          f                                                                               f
Here, the lower bound is RL   from the previous section and the upper bound is a slight modi...cation of RH [cf. (35)].
                            f      f     f
Hence, the condition says RL < R < RH up to a slight modi...cation.


                                                             25
                                                                                            ~f <
   In Appendix A.7.1, I show that macroprudential policy reduces the current interest rate, R0;H
 f
R0 ;H . Intuitively, restricting the optimists' risk taking enables the pessimists to wield a greater
inuence than before. This reduces the asset valuation and aggregate demand in the boom. The
central bank reacts by cutting rates to ensure output is at its potential. Thus, macroprudential
policy is less desirable in a recession when the interest rate policy is constrained and cannot undo
the side e¤ects of restricted risk taking on aggregate demand.

Extensions. Caballero and Simsek (2020) use a related model to establish the results in this
section more generally (without the extreme assumptions on beliefs or policies). They also present
a formal welfare analysis and show that restricting speculation in the boom can increase social
welfare according to the standard Pareto criterion (that is, the planner evaluates each investor'
                                                                                                s
expected utility with her own belief). Intuitively, the planner improves welfare in view of aggregate
demand externalities. In the boom period before the recession, optimists and pessimists do not
internalize that their speculation reduces asset prices and output in the recession. This induces
optimists to take on socially excessive risks that can be corrected by (procyclical) macroprudential
policy.
   As in Section 7, these results also apply with short-selling constraints-- these constraints reduce
but do not eliminate speculation. The analysis in this section raises an intriguing possibility:
the planner can improve welfare by restricting short selling in a demand recession. In fact, it is
straightforward to construct a version of the model in which tightening the short-selling constraints
in state L increases not only asset prices as in Section 3 but also output. Intuitively, pessimists that
take on short positions in a demand recession induce negative aggregate demand externalities that
can be corrected by short-selling restrictions. In practice, governments occasionally do introduce
short-selling restrictions during recessions and crises associated with low asset prices (see, e.g.,
Beber and Pagano (2013); Boehmer et al. (2013)). This model provides one rationale for these
policies, although these bene...ts should be weighed against potential (unmodeled) costs of short-
selling restrictions on market liquidity or price discovery.

Related mechanism: Investment dynamics and hangover. While I focus on consumption,
speculation also a¤ects investment dynamics. Caballero and Simsek (2020) develop a variant of the
model in which output is increasing in asset prices not only through a wealth e¤ect on consumption
but also because high asset prices increase investment through a standard Q-theory mechanism.
Consequently, speculation in the boom lowers asset prices, investment, and consumption once the
economy transitions to recession-- consistent with what happens in a typical recession.
   Rognlie et al. (2018) develop a complementary "investment hangover" mechanism by which
speculation in the boom years could further reduce investment and asset prices in the recession.
Motivated by the overbuilding of homes in the run-up to the Great Recession, they consider a model
with the key feature that (housing) capital has diminishing returns. An excess supply of capital
at the onset of the recession reduces (housing) investment and exacerbates the demand recession.
While Rognlie et al. (2018) use optimism in the ex-ante boom period to motivate excess investment,

                                                  26
recall that speculation in the boom also increases asset valuations and investment [see Section 3].
Thus, speculation would exacerbate excess investment and contribute to the investment hangover
mechanism once the economy transitions to recession.

Related mechanism: Financial frictions.                In the model in this section, a negative shock
induces levered optimists to make losses, which in turn reduces asset prices and economic activity.
A large literature on ...nancial frictions also emphasizes the role of leverage and asset price feedback
in causing or amplifying economic slowdowns (e.g., Shleifer and Vishny (1992); Kiyotaki and Moore
(1997); Holmström and Tirole (1998); Bernanke et al. (1999); Caballero and Krishnamurthy (2001);
Gertler and Kiyotaki (2010); Adrian and Shin (2010); He and Krishnamurthy (2013); Brunnermeier
and Sannikov (2014)). This literature typically focuses on the role of low asset prices in tightening
borrowing constraints, whereas I emphasize aggregate demand as the main channel by which low
asset prices create macroeconomic damage.
   The mechanisms in the ...nancial frictions literature naturally complement the results in this
section. In fact, as Caballero and Simsek (2020) emphasize, optimists in the model can be viewed
more broadly as "high-valuation investors"that capture risk-tolerant investors (e.g., banks or insti-
tutional investors) and actual optimists.12 Moreover, introducing ...nancial frictions could reinforce
the aggregate demand mechanism. For instance, if optimists and banks take similar positions in the
boom, then a decline in asset prices in the recession driven by the reduction in optimists'wealth
share would also exacerbate banks'distress. This could lead to a credit crunch (and it can trigger a
...nancial crisis) which would further reduce aggregate demand (both consumption and investment).
Furthermore, ...nancial frictions could lead to ...re-sale externalities that would strengthen the case
for macroprudential policy (see, e.g., Lorenzoni (2008); Davila and Korinek (2016)).

Related mechanism: Debt hangover and deleveraging.                        In my model, low asset prices
reduce aggregate consumption through a wealth e¤ect. A decline in asset prices can reduce house-
holds' or ...rms' spending also by exacerbating their deleveraging, according to a strand of the
...nancial frictions literature (e.g., Iacoviello (2005); Eggertsson and Krugman (2012); Guerrieri and
Lorenzoni (2017)). To see how the deleveraging mechanism interacts with speculation, consider an
extension with another group of agents that are endowed with a fraction of the capital but do not
buy or sell. Suppose some of these agents ("the borrowers") have a strong motive to take on debt
and spend (e.g., due to impatience) and their debt limits depend on the value of their capital (e.g.,
due to collateral constraints). In the boom period with high asset prices, the borrowers would in-
crease their debt. When the recession arrives and asset prices decline, the borrowers could be forced
to cut their spending to pay back some of their debt. As before, speculation in the boom (among
the investors) would reduce asset prices in the recession, which would lead to greater deleveraging
and a more severe recession. Hence, the deleveraging mechanism would leave the analysis qualita-
  12
     See Caballero and Farhi (2018); Kekre and Lenel (2020); Caballero and Simsek (forthcoming) for models of
demand recessions with heterogeneous risk tolerance.




                                                     27
tively unchanged. Its main e¤ect would be to strengthen the output-asset price relation in (38).13
In addition, deleveraging would expand the scope of macroprudential policy. While I focus on
policies that restrict the optimists'(or high-valuation investors'
                                                                 ) risk taking in the boom, Korinek
and Simsek (2016); Farhi and Werning (2016) emphasize that policies that restrict the borrowers'
leverage in the boom can also internalize aggregate demand externalities and improve welfare.

Related mechanism: Prudential monetary policy. In this section, I have focused on macro-
prudential policy as a potential solution to the macroeconomic instability caused by speculation.
Policymakers often argue that macroprudential policy in practice might be insu¢ cient to deal with
...nancial excesses. This raises the question of whether prudential monetary policy (PMP)-- that is,
raising the interest rate beyond the level that stabilizes the output gap ("rstar")-- could be useful
for disciplining speculation in the boom. Caballero and Simsek (2021) address this issue using a
variant of the model in this section in which macroprudential policy is imperfect. They establish
conditions under which small doses of PMP can achieve similar macroeconomic bene...ts to directly
tightening leverage limits. Intuitively, PMP reduces the asset price in the boom, which softens
the asset price crash when the economy transitions to recession. Since optimists are levered and
exposed to asset prices, softening the crash (typically) improves their wealth share in the reces-
sion ( t )-- similar to tightening leverage limits. While PMP is costlier than macroprudential policy,
since it reduces aggregate demand in the boom, these costs are second order if the economy initially
features e¢ cient factor utilization and the planner increases the interest rate by a small amount.14

Related literature. A recent literature incorporates nominal rigidities into the analysis of ra-
tional bubbles and ...nds that the collapse of the bubble can trigger a demand recession when the
interest rate policy is constrained or unreactive (e.g., Asriyan et al. (forthcoming); Hanson and Phan
(2017); Biswas et al. (2020); Galí (forthcoming)). My analysis shares many common elements with
this literature: As I have argued in Section 6, rational and speculative bubbles generate similar
macroeconomic e¤ects. However, there are also di¤erences, e.g., policies that restrict speculation in
the boom will not necessarily mitigate the subsequent demand recession if the bubble is rational. In
general, the optimal policy response to bubbles will depend (among other things) on what causes
the high asset valuation and on the likelihood of a price crash (see Dávila and Walther (2020);
Krishnamurthy and Li (2020) for recent analyses of prudential policy with distorted beliefs).
       More broadly, the mechanisms in this section are related to a New Keynesian literature that
emphasizes how shocks that a¤ect asset prices can induce demand-driven business cycles, e.g., "news
shocks" (Beaudry and Portier (2006)), "noise shocks" (Lorenzoni (2009)), "con...dence shocks"
  13
     In fact, this relation can be thought of as capturing in reduced form not only the consumption wealth e¤ect but
also the many other channels by which asset prices in    uence aggregate demand.
  14
     In recent work, Farhi and Werning (2020) ...nd that PMP is even more desirable when agents extrapolate recent
price changes. By lowering the asset price in the boom, PMP mitigates agents' optimism that results from extrap-
olation. More broadly, a lively literature investigates the costs and bene...ts of PMP, e.g., Woodford (2012); Stein
(2013); Borio (2014); Svensson (2017); Gourio et al. (2018). For historical perspectives on the role of PMP and
macroprudential policies in prominent bubbles, see Brunnermeier and Schnabel (2015).



                                                        28
(Ilut and Schneider (2014)), and "uncertainty shocks" (Basu and Bundick (2017)). Speculation
endogenously exacerbates asset price uctuations and demand recessions. In recent work, L'Huillier
et al. (2021) show diagnostic or extrapolative beliefs also amplify demand recessions (see Section 7
for further discussion of the similarities between extrapolation and speculation). While I focus on
demand recessions, Bigio and Zilberman (2019) show that speculation can amplify the business cycle
further through its impact on the supply side. In their model, ...rms make hiring decisions before
observing the productivity shock for the period in which labor will be employed. Investors'beliefs
and speculation can then a¤ect labor demand and employment even without nominal rigidities.


 9.    Policy implications with a belief-neutral welfare criterion
My analysis so far provides one rationale for restricting speculation in economic booms based
on the negative externalities that the speculators induce on the rest of the society. However,
speculation arguably also hurts the speculators. A large ...nance literature ...nds that individual
investors that trade frequently tend to have poor investment performance (relative to investors
with a well-diversi...ed portfolio) due to excessive risks, transaction costs, and poor timing to buy
or sell (e.g., Barber and Odean (2013)). For instance, Barber et al. (2009) ...nd that individual
investors' trading losses in the Taiwan stock market amount to 2% of Taiwan'
                                                                           s GDP over a ...ve
year period. These ...ndings suggest that the speculators on average su¤er large welfare losses
according to the objective belief. However, these losses typically go undetected by the standard
Pareto criterion that respects individuals'subjective beliefs. The literature proposed an alternative
belief-neutral criterion that identi...es the welfare losses from speculation in many applied settings
even when the planner does not know the objective belief (e.g., Brunnermeier et al. (2014)). In
this section, I illustrate the belief-neutral criterion and how it (typically) strengthens the case for
regulating speculation.
   Consider the model in Section 7 in which speculative wealth dynamics induce procyclical asset
valuation. In this model, individual optimists and pessimists take extremely risky positions that
lower their wealth (and consumption) to zero if the state they bet on is not realized (see (34)).
To investigate how these speculative wealth dynamics a¤ect welfare, consider the special case with
n=    = 0 so that the future generations'wealth is zero and there is e¤ectively a single generation.
In this case, the equilibrium is in fact Pareto e¢ cient, even though it deviates considerably from
perfect risk sharing. Intuitively, optimists and pessimists are "consenting adults" that are willing
to gamble all of their wealth in pursuit of high expected returns. However, while both investor
types expect a high return according to their own beliefs, at most one type has a high expected
return according to the objective belief. Arguably, the equilibrium features a collective form of
irrationality even though it is Pareto e¢ cient. A long literature has recognized this shortcoming of
the Pareto criterion in detecting ine¢ ciencies in environments with heterogeneous beliefs (see, e.g.,
Starr (1973); Harris (1978); Hammond (1981); Mongin (2016); Gilboa et al. (2004); Weyl (2007)).
   Brunnermeier et al. (2014) develop a belief-neutral welfare criterion that detects the collective


                                                  29
irrationality that results from speculation (see Gilboa et al. (2014); Gayer et al. (2014); Blume
et al. (2018); Heyerdahl-Larsen and Walden (2019) for related criteria). The belief-neutral criterion
does not require the planner to know the objective belief: the planner is not more informed than
the investors. Instead, the planner evaluates investors' expected utilities according to a common
belief and requires welfare comparisons to be robust to the choice of this belief from a large set
of reasonable beliefs (e.g., the convex hull of all investors'beliefs). Formally, the planner rules an
allocation as belief-neutral e¢ cient (resp. ine¢ cient) if it is Pareto e¢ cient (resp. Pareto ine¢ cient)
under every reasonable belief.
       In the model of Section 7, regardless of the common belief, the Pareto e¢ cient allocation features
common weights on the market portfolio ! i
                                         t = 1 for each i-- which ensures perfect risk sharing.
Consequently, this allocation is belief-neutral e¢ cient, whereas the equilibrium is belief-neutral
ine¢ cient. Intuitively, investors choose heterogeneous portfolio weights because they speculate on
their belief disagreements. This leads to imperfect risk sharing and low social welfare according to
any common belief.
       In general, the welfare analysis is more complicated since investors trade for multiple reasons,
e.g., risk sharing as well as speculation. Nonetheless, Brunnermeier et al. (2014) show that the
belief-neutral criterion can also detect the costs of speculation in these richer settings. In fact,
the literature has applied the belief-neutral criterion to measure the costs and bene...ts of new
...nancial assets (e.g., Simsek (2013b); Posner and Weyl (2013)), and to evaluate policies that restrict
speculative trading such as ...nancial transaction taxes (e.g., Dávila (2020)) and leverage limits (e.g.,
Heimer and Simsek (2019)).15
       The belief-neutral criterion strengthens the case for macroprudential policies that restrict the
speculation that takes place in booms. There is, however, one caveat to this conclusion: Over-
valuation and speculation can occasionally be associated with positive externalities. Recall that,
when the economy is dynamically ine¢ cient, speculative bubbles that absorb savings can increase
consumption in the long run as well as in the short run (Sections 4 and 6). Recall also that over-
valuation and speculative bubbles often increase investment (Section 3). While the investment
e¤ects can lower welfare further, by misallocating capital, this is not a foregone conclusion in view
of potential spillovers. For instance, if a speculative bubble forms in nonresidential capital, it can
also increase R&D investment. There is indeed some evidence that high stock valuations increase
the value of patents (e.g., Haddad et al. (2020)) and lead to greater R&D investment and patent
production (e.g., Dang and Xu (2018)). By stimulating innovation, speculation can internalize
knowledge spillovers as well as other positive externalities. These concerns seem especially relevant
when speculative bubbles form in new industries, e.g., the U.S. Internet bubble of the late 1990s.
       The possibility of positive externalities provides only a weak rationale for allowing unrestricted
speculation. If there are positive spillovers from investment, they should arguably be internalized by
targeted policy interventions (such as investment subsidies). Even if targeted policies are not avail-
  15
    For a counterview, see Du¢ e (2014), who provides philosophical and practical challenges to regulating speculative
trading driven by belief disagreements.



                                                         30
able, it is unclear that a speculative bubble-- driven by investors'beliefs and disagreements-- will
properly internalize the externalities. As Keynes (1936, p.159) noted "when the capital development
of a country becomes a by-product of the activities of a casino, the job is likely to be ill-done."


 10.     Conclusion
In this paper, I review the literature on ...nancial speculation driven by belief disagreements from
a macroeconomics perspective. For ...nancial assets subject to short-selling constraints, specula-
tion can generate overvaluation and speculative bubbles by making the marginal investor more
optimistic than average. Leverage can substantially inate speculative bubbles by increasing op-
timists'purchasing power. Leveraged speculative bubbles are more likely when lenders as well as
borrowers are optimistic about downside risks, and the bubble can collapse when lenders begin to
think downside tail scenarios are possible. Overvaluation and (leveraged) speculative bubbles have
similar macroeconomic e¤ects as rational bubbles, but they better match the empirical evidence
on the predictability of asset returns and make more precise testable predictions. Even without
short-selling constraints, speculation induces procyclical asset valuation, since speculative wealth
dynamics make optimists more dominant after good shocks while reducing their inuence following
bad shocks. When speculation concerns aggregate assets, its valuation e¤ects also inuence macro-
economic outcomes. During the boom, overvaluation and speculative bubbles raise consumption
and investment in the short run while draining foreign assets. During the bust, low valuations as
well as the investment hangover reduce aggregate demand and exacerbate the recession as long
as monetary policy is somewhat constrained. Financial frictions and deleveraging in the recession
reinforce the macroeconomic damage that results from speculation. Macroprudential policies that
restrict speculation in the boom can mitigate the subsequent demand recession. These policies can
improve social welfare by internalizing aggregate demand externalities, and they can also improve
the speculators'own welfare according to a belief-neutral criterion.
   In this review, I take a theoretical perspective and focus on illustrating mechanisms. A grow-
ing empirical literature analyzes and typically ...nds support for the key channels that underlie my
analysis. For instance, an empirical ...nance literature generally supports the overvaluation mech-
anism, using case studies (e.g., Xiong and Yu (2011); Xiong (2013)) as well as more systematic
analyses (see, e.g., Yu (2011)). More recently, Ma et al. (2021) provide evidence that lenders'
beliefs about downside tail scenarios drive the credit supply, consistent with my model. Likewise,
recent empirical studies con...rm that risky asset prices substantially inuence aggregate demand
due to, e.g., housing wealth e¤ects (e.g., Mian et al. (2013); Guren et al. (forthcoming)), stock
wealth e¤ects (e.g., Chodorow-Reich et al. (forthcoming); Majlesi et al. (2020)), or credit spreads'
impact on ...nancial frictions (e.g., Gilchrist and Zakrajsek (2012)). Central banks typically respond
to a decline in risky asset prices by cutting the interest rate, as in my model (e.g., Pueger et al.
(2020); Cieslak and Vissing-Jorgensen (forthcoming)).
   The mechanisms I discuss played a central role in the U.S. housing boom-bust cycle of the


                                                 31
2000s. Regarding the root causes of the housing boom, many prominent analysts have emphasized
the optimism of a fraction of investors (e.g., Reinhart and Rogo¤ (2009); Shiller (2015)) as well
as more widely held optimism about downside risks in house prices (e.g., Gennaioli and Shleifer
(2020)). Short-selling constraints were also relevant during the boom, as colorfully portrayed by
Lewis (2011). These are exactly the ingredients necessary for a leveraged speculative bubble.
A growing empirical literature provides evidence that leveraged speculation has indeed ampli...ed
the U.S. housing boom-bust cycle (see, e.g., Haughwout et al. (2011); Chinco and Mayer (2016);
Albanesi et al. (2017); Mian and Su... (forthcoming); Gao et al. (2020); Bayer et al. (2020)). For
instance, Mian and Su... (forthcoming) ...nd that areas that received greater credit in the boom years
featured greater speculative trading activity driven by a small group of investors ("optimists"in the
model) as well as greater belief disagreements between homebuyers and the rest of the population.
Consistent with the model, these areas experienced a greater boom-bust cycle in house prices.
Likewise, Gao et al. (2020) ...nd that speculation has exacerbated not only the housing cycle but
also the macroeconomic cycle-- through the channels I emphasize in this review. Their evidence
suggests, by reducing house prices in the bust, speculation has contributed to the macroeconomic
decline through its impact on households' wealth and spending (see also Mian and Su... (2014)),
as well as on housing investment (see also Rognlie et al. (2018)). The decline in house prices has
arguably created further damage through its impact on ...nancial institutions'balance sheets (see
Gertler and Gilchrist (2018)).
   Finally, while I focus on the implications for business cycles, speculation can also shed light on
some important macroeconomic trends. The literature suggests speculation can be a major driver
of ...nancial innovation (Simsek (2013b)), and might have contributed to the extraordinary growth
of the ...nancial sector in recent decades (Heimer and Simsek (2019)). Speculation-- unleashed by
...nancial innovation-- also helps explain the recent downward trend in interest rates (Iachan et al.
(forthcoming)). I leave the long-run macroeconomics of ...nancial speculation for future work.


References
Abreu, D., Brunnermeier, M. K., 2003. Bubbles and crashes. Econometrica 71 (1), 173­204.
Adrian, T., Shin, H. S., 2010. Liquidity and leverage. Journal of ...nancial intermediation 19 (3),
 418­ 437.
Albanesi, S., De Giorgi, G., Nosal, J., 2017. Credit growth and the ...nancial crisis: A new narrative.
  NBER working paper no. 23740.
Allen, F., Barlevy, G., Gale, D., 2019. Asset price booms and macroeconomic policy: a risk-shifting
  approach. In: 2019 Meeting Papers. No. 587. Society for Economic Dynamics.
Allen, F., Gale, D., 2000. Bubbles and crises. The economic journal 110 (460), 236­255.
Allen, F., Gorton, G., 1993. Churning bubbles. The Review of Economic Studies 60 (4), 813­836.
Asriyan, V., Fornaro, L., Martin, A., Ventura, J., forthcoming. Monetary policy for a bubbly world.
  Review of Economic Studies.

                                                  32
Atmaz, A., Basak, S., 2018. Belief dispersion in the stock market. The Journal of Finance 73 (3),
  1225­1279.

Atmaz, A., Basak, S., Ruan, F., 2019. Dynamic equilibrium with costly short-selling and lending
  market. Available at SSRN 3516969.

Bailey, M., Cao, R., Kuchler, T., Stroebel, J., 2018. The economic e¤ects of social networks:
  Evidence from the housing market. Journal of Political Economy 126 (6), 2224­2276.

Bailey, M., Dávila, E., Kuchler, T., Stroebel, J., 2019. House price beliefs and mortgage leverage
  choice. The Review of Economic Studies 86 (6), 2403­   2452.

Baker, M., Stein, J. C., Wurgler, J., 2003. When does the market matter? stock prices and the
  investment of equity-dependent ...rms. The Quarterly Journal of Economics 118 (3), 969­1005.

Banerjee, S., Kremer, I., 2010. Disagreement and learning: Dynamic patterns of trade. The Journal
  of Finance 65 (4), 1269­  1302.

Barber, B. M., Lee, Y.-T., Liu, Y.-J., Odean, T., 2009. Just how much do individual investors lose
  by trading? The Review of Financial Studies 22 (2), 609­   632.

Barber, B. M., Odean, T., 2013. The behavior of individual investors. In: Handbook of the Eco-
  nomics of Finance. Vol. 2. Elsevier, pp. 1533­1570.

Barberis, N., Greenwood, R., Jin, L., Shleifer, A., 2015. X-capm: An extrapolative capital asset
  pricing model. Journal of ...nancial economics 115 (1), 1­24.

Barberis, N., Greenwood, R., Jin, L., Shleifer, A., 2018. Extrapolation and bubbles. Journal of
  Financial Economics 129 (2), 203­227.

Barberis, N., Shleifer, A., Vishny, R., 1998. A model of investor sentiment. Journal of ...nancial
  economics 49 (3), 307­ 343.

Barberis, N., Thaler, R., 2003. A survey of behavioral ...nance. Handbook of the Economics of
  Finance 1, 1053­1128.

Barlevy, G., 2012. Rethinking theoretical models of bubbles. New Perspectives on Asset Price
  Bubbles, 41.

Baron, M., Xiong, W., 2017. Credit expansion and neglected crash risk. The Quarterly Journal of
  Economics 132 (2), 713­764.

Barsky, R. B., De Long, J. B., 1993. Why does the stock market uctuate? The Quarterly Journal
  of Economics 108 (2), 291­ 311.

Basu, S., Bundick, B., 2017. Uncertainty shocks in a model of e¤ective demand. Econometrica
  85 (3), 937­958.

Bayer, P., Geissler, C., Mangum, K., Roberts, J. W., 2020. Speculators and middlemen: The
  strategy and performance of investors in the housing market. The Review of Financial Studies
  33 (11), 5212­5247.

Beaudry, P., Portier, F., 2006. Stock prices, news, and economic uctuations. American Economic
  Review 96 (4), 1293­  1307.

                                               33
Beber, A., Pagano, M., 2013. Short-selling bans around the world: Evidence from the 2007­09
  crisis. The Journal of Finance 68 (1), 343­381.

Bénabou, R., Tirole, J., 2016. Mindful economics: The production, consumption, and value of
  beliefs. Journal of Economic Perspectives 30 (3), 141­64.

Bernanke, B. S., Gertler, M., Gilchrist, S., 1999. The ...nancial accelerator in a quantitative business
  cycle framework. Handbook of macroeconomics 1, 1341­        1393.

Bhamra, H. S., Uppal, R., 2014. Asset prices with heterogeneity in preferences and beliefs. The
  Review of Financial Studies 27, 519­580.

Bigio, S., Zilberman, E., 2019. Speculation-driven business cycles. Available at SSRN 3507450.

Biswas, S., Hanson, A., Phan, T., 2020. Bubbly recessions. American Economic Journal: Macro-
  economics 12 (4), 33­70.

Blanchard, O., Rhee, C., Summers, L., 1993. The stock market, pro...t, and investment. The Quar-
  terly Journal of Economics 108 (1), 115­136.

Blanchard, O. J., 1985. Debt, de...cits, and ...nite horizons. Journal of political economy 93 (2),
  223­247.

Blume, L., Cogley, T., Easley, D., Sargent, T., Tsyrennikov, V., 2018. A case for incomplete
                                                ¼ S221.
  markets. Journal of Economic Theory 178, 191âA¸

Blume, L., Easley, D., 2006. If you'
                                   re so smart, why aren't you rich? belief selection in complete
  and incomplete markets. Econometrica 74 (4), 929­ 966.

Blume, L., Easley, D., 2010. Heterogeneity, selection, and wealth dynamics. Annu. Rev. Econ. 2 (1),
  425­450.

Boehme, R. D., Danielsen, B. R., Sorescu, S. M., 2006. Short-sale constraints, di¤erences of opinion,
  and overvaluation. Journal of Financial and Quantitative Analysis 41 (2), 455­   487.

Boehmer, E., Jones, C. M., Zhang, X., 2013. Shackling short sellers: The 2008 shorting ban. The
  Review of Financial Studies 26 (6), 1363­1400.

Bolton, P., Scheinkman, J., Xiong, W., 2006. Executive compensation and short-termist behaviour
  in speculative markets. The Review of Economic Studies 73 (3), 577­610.

Bordalo, P., Gennaioli, N., Kwon, S. Y., Shleifer, A., 2020a. Diagnostic bubbles. Journal of Financial
  Economics.

Bordalo, P., Gennaioli, N., Ma, Y., Shleifer, A., 2020b. Overreaction in macroeconomic expecta-
  tions. American Economic Review 110 (9), 2748­    82.

Bordalo, P., Gennaioli, N., Shleifer, A., 2018. Diagnostic expectations and credit cycles. The Journal
  of Finance 73 (1), 199­ 227.

Bordalo, P., Gennaioli, N., Shleifer, A., Terry, S. J., 2021. Real credit cycles. NBER working paper
  No. 28416.

Borio, C. E., 2014. Monetary policy and ...nancial stability: what role in prevention and recovery?

                                                  34
Boroviµ
      cka, J., 2020. Survival and long-run dynamics with heterogeneous beliefs under recursive
  preferences. Journal of Political Economy 128 (1).

Bris, A., Goetzmann, W. N., Zhu, N., 2007. E¢ ciency and the bear: Short sales and markets
  around the world. The Journal of Finance 62 (3), 1029­1079.

Broer, T., 2018. Securitization bubbles: Structured ...nance with disagreement about default risk.
  Journal of Financial Economics 127 (3), 505­ 518.

Brunnermeier, M. K., Nagel, S., 2004. Hedge funds and the technology bubble. Journal of Finance
  59 (5), 2013­2040.

Brunnermeier, M. K., Oehmke, M., 2013. Bubbles, ...nancial crises, and systemic risk. In: Handbook
  of the Economics of Finance. Vol. 2. Elsevier, pp. 1221­1288.

Brunnermeier, M. K., Parker, J. A., 2005. Optimal expectations. American Economic Review 95 (4),
  1092­1118.

Brunnermeier, M. K., Sannikov, Y., 2014. A macroeconomic model with a ...nancial sector. American
  Economic Review 104 (2), 379­ 421.

Brunnermeier, M. K., Schnabel, I., 2015. Bubbles and central banks: Historical perspectives.

Brunnermeier, M. K., Simsek, A., Xiong, W., 2014. A welfare criterion for models with distorted
  beliefs. The Quarterly Journal of Economics 129 (4), 1753­1797.

Buraschi, A., Jiltsov, A., 2006. Model uncertainty and option markets with heterogeneous beliefs.
  The Journal of Finance 61 (6), 2841­  2897.

Burnside, C., Eichenbaum, M., Rebelo, S., 2016. Understanding booms and busts in housing mar-
  kets. Journal of Political Economy 124 (4), 1088­1147.

Caballero, R. J., Farhi, E., 2018. The safety trap. The Review of Economic Studies 85 (1), 223­274.

Caballero, R. J., Krishnamurthy, A., 2001. International and domestic collateral constraints in a
  model of emerging market crises. Journal of monetary Economics 48 (3), 513­  548.

Caballero, R. J., Simsek, A., 2020. A risk-centric model of demand recessions and speculation. The
  Quarterly Journal of Economics 135 (3), 1493­    1566.

Caballero, R. J., Simsek, A., 2021. Prudential monetary policy. NBER working paper no. 25977.

Caballero, R. J., Simsek, A., forthcoming. A model of endogenous risk intolerance and LSAPs:
  Asset prices and aggregate demand in a "Covid-19" shock. Review of Financial Studies.

Campbell, J. Y., Lo, A. W., MacKinlay, A. C., 1997. The econometrics of ...nancial markets.
  princeton University press.

Cao, D., 2018. Speculation and ...nancial wealth distribution under belief heterogeneity. The Eco-
  nomic Journal 128 (614), 2258­  2281.

Chen, J., Hong, H., Stein, J. C., 2002. Breadth of ownership and stock returns. Journal of Financial
  Economics 66 (2), 171­  205.



                                                35
Chinco, A., Mayer, C., 2016. Misinformed speculators and mispricing in the housing market. The
  Review of Financial Studies 29 (2), 486­522.

Chirinko, R. S., Schaller, H., 2001. Business ...xed investment and "bubbles": the Japanese case.
  American Economic Review 91 (3), 663­    680.

Chodorow-Reich, G., Nenov, P. T., Simsek, A., forthcoming. Stock market wealth and the real
  economy: A local labor market approach. American Economic Review.

Chu, Y., Hirshleifer, D., Ma, L., 2016. The causal e¤ect of limits to arbitrage on asset pricing
  anomalies. The Journal of Finance.

Cieslak, A., Vissing-Jorgensen, A., forthcoming. The economics of the Fed put. Review of Financial
  Studies.

Cochrane, J. H., 2011. Presidential address: Discount rates. The Journal of ...nance 66 (4), 1047­
  1108.

Cutler, D. M., 1990. Speculative dynamics and the role of feedback traders. American Economic
  Review 80 (2).

Dang, T. V., Xu, Z., 2018. Market sentiment and innovation activities. Journal of Financial and
 Quantitative Analysis 53 (3), 1135­1161.

Daniel, K., Hirshleifer, D., 2015. Overcon...dent investors, predictable returns, and excessive trading.
 Journal of Economic Perspectives 29 (4), 61­      88.

Dávila, E., 2020. Optimal ...nancial transaction taxes. Yale University working paper.

Davila, E., Korinek, A., 2016. Pecuniary externalities in economies with ...nancial frictions. The
  Review of Economic Studies.

Dávila, E., Walther, A., 2020. Prudential policy with distorted beliefs. Available at SSRN 3694722.

De Long, J. B., Shleifer, A., Summers, L. H., Waldmann, R. J., 1990a. Noise trader risk in ...nancial
  markets. Journal of political Economy 98 (4), 703­738.

De Long, J. B., Shleifer, A., Summers, L. H., Waldmann, R. J., 1990b. Positive feedback investment
  strategies and destabilizing rational speculation. the Journal of Finance 45 (2), 379­395.

DeFusco, A. A., Nathanson, C. G., Zwick, E., 2017. Speculative dynamics of prices and volume.
  NBER working paper no. 23449.

Detemple, J., Murthy, S., 1994. Intertemporal asset pricing with heterogeneous beliefs. Journal of
  Economic Theory 62 (2), 294­  320.

Diamond, P. A., 1965. National debt in a neoclassical growth model. The American Economic
  Review 55 (5), 1126­1150.

Diether, K. B., Malloy, C. J., Scherbina, A., 2002. Di¤erences of opinion and the cross section of
  stock returns. The Journal of Finance 57 (5), 2113­ 2141.

Du¢ e, D., 2014. Challenges to a policy treatment of speculative trading motivated by di¤erences
 in beliefs. The Journal of Legal Studies 43 (S2), S173­S182.

                                                  36
Dumas, B., Kurshev, A., Uppal, R., 2009. Equilibrium portfolio strategies in the presence of senti-
 ment risk and excess volatility. The Journal of Finance 64 (2), 579­629.

Eggertsson, G. B., Krugman, P., 2012. Debt, deleveraging, and the liquidity trap: A ...sher-minsky-
  koo approach. The Quarterly Journal of Economics 127 (3), 1469­   1513.

Eyster, E., Rabin, M., Vayanos, D., 2019. Financial markets where traders neglect the informational
  content of prices. The Journal of Finance 74 (1), 371­399.

Farhi, E., Werning, I., 2016. A theory of macroprudential policies in the presence of nominal
  rigidities. Econometrica 84 (5), 1645­1704.

Farhi, E., Werning, I., 2020. Taming a minsky cycle. working paper.

Fostel, A., Geanakoplos, J., 2008. Leverage cycles and the anxious economy. American Economic
  Review 98 (4), 1211­44.

Fostel, A., Geanakoplos, J., 2012. Tranching, cds, and asset prices: How ...nancial innovation can
  cause bubbles and crashes. American Economic Journal: Macroeconomics 4 (1), 190­      225.

Fostel, A., Geanakoplos, J., 2014. Endogenous collateral constraints and the leverage cycle. Annu.
  Rev. Econ. 6 (1), 771­ 799.

Fostel, A., Geanakoplos, J., 2015. Leverage and default in binomial economies: a complete charac-
  terization. Econometrica 83 (6), 2191­ 2229.

Fostel, A., Geanakoplos, J., Phelan, G., 2019. Global collateral and capital ows. NBER working
  paper No. 25583.

Friedman, M., 1953. Essays in positive economics. University of Chicago Press.

Fuster, A., Hebert, B., Laibson, D., 2012. Natural expectations, macroeconomic dynamics, and
  asset pricing. NBER Macroeconomics Annual 26 (1), 1­  48.

Galí, J., 2014. Monetary policy and rational asset price bubbles. American Economic Review
 104 (3), 721­ 52.

Galí, J., forthcoming. Monetary policy and bubbles in a New Keynesian model with overlapping
 generations. American Economic Journal: Macroeconomics.

Gao, Z., Sockin, M., Xiong, W., 2020. Economic consequences of housing speculation. The Review
 of Financial Studies 33 (11), 5248­5287.

Gayer, G., Gilboa, I., Samuelson, L., Schmeidler, D., 2014. Pareto e¢ ciency with di¤erent beliefs.
 The Journal of Legal Studies 43 (S2), S151­  S171.

Geanakoplos, J., 2010. The leverage cycle. NBER macroeconomics annual 24 (1), 1­66.

Geerolf, F., 2018. Leverage and disagreement. working paper.

Gennaioli, N., Shleifer, A., 2020. A Crisis of Beliefs. Princeton University Press.

Gertler, M., Gilchrist, S., 2018. What happened: Financial factors in the great recession. Journal
 of Economic Perspectives 32 (3), 3­  30.


                                                 37
Gertler, M., Kiyotaki, N., 2010. Financial intermediation and credit policy in business cycle analysis.
 In: Handbook of monetary economics. Vol. 3. Elsevier, pp. 547­      599.

Giglio, S., Maggiori, M., Stroebel, J., Utkus, S., forthcoming. Five facts about beliefs and portfolios.
  American Economic Review.

Gilboa, I., Samet, D., Schmeidler, D., 2004. Utilitarian aggregation of beliefs and tastes. Journal
  of Political Economy 112 (4), 932­938.

Gilboa, I., Samuelson, L., Schmeidler, D., 2014. No-Betting-Pareto dominance. Econometrica 82 (4),
  1405­ 1442.

Gilchrist, S., Himmelberg, C. P., Huberman, G., 2005. Do stock price bubbles inuence corporate
  investment? Journal of Monetary Economics 52 (4), 805­  827.

Gilchrist, S., Zakrajsek, E., 2012. Credit spreads and business cycle uctuations. American Eco-
  nomic Review 102 (4), 1692­   1720.

Gong, F., Phelan, G., 2019. Debt collateralization, capital structure, and maximal leverage. Eco-
 nomic Theory, 1­ 27.

Gourio, F., Kashyap, A. K., Sim, J. W., 2018. The trade o¤s in leaning against the wind. IMF
 Economic Review 66 (1), 70­  115.

Greenwood, R., Hanson, S. G., Shleifer, A., Sørensen, J. A., 2020. Predictable ...nancial crises.
  NBER working paper No. 27396.

Greenwood, R., Shleifer, A., 2014. Expectations of returns and expected returns. The Review of
  Financial Studies 27 (3), 714­746.

Greenwood, R., Shleifer, A., You, Y., 2019. Bubbles for Fama. Journal of Financial Economics
  131 (1), 20­43.

Guerrieri, V., Lorenzoni, G., 2017. Credit crises, precautionary savings, and the liquidity trap. The
 Quarterly Journal of Economics 132 (3), 1427­      1467.

Guren, A. M., McKay, A., Nakamura, E., Steinsson, J., forthcoming. Housing wealth e¤ects: The
 long view. Review of Economic Studies.

Guzman, M., Stiglitz, J. E., 2020. Pseudo-wealth and consumption uctuations. The Economic
 Journal.

Haddad, V., Ho, P., Loualiche, E., 2020. Bubbles and the value of innovation.

Hammond, P. J., 1981. Ex-ante and ex-post welfare optimality under uncertainty. Economica
  48 (191), 235­250.

Hanson, A., Phan, T., 2017. Bubbles, wage rigidity, and persistent slumps. Economics Letters 151,
  66­70.

Harris, M., Raviv, A., 1993. Di¤erences of opinion make a horse race. Review of Financial studies
  6 (3), 473­506.

Harris, R., 1978. Ex-post e¢ ciency and resource allocation under uncertainty. The Review of Eco-
  nomic Studies 45 (3), 427­ 436.

                                                  38
Harrison, J. M., Kreps, D. M., 1978. Speculative investor behavior in a stock market with hetero-
  geneous expectations. The Quarterly Journal of Economics 92 (2), 323­   336.

Haughwout, A., Lee, D., Tracy, J. S., Van der Klaauw, W., 2011. Real estate investors, the leverage
  cycle, and the housing market crisis. FRB of New York Sta¤ Report (514).

He, Z., Krishnamurthy, A., 2013. Intermediary asset pricing. American Economic Review 103 (2),
  732­ 70.

Heimer, R., Simsek, A., 2019. Should retail investors' leverage be limited? Journal of Financial
  Economics 132 (3), 1­21.

Heyerdahl-Larsen, C., Walden, J., 2019. Welfare in production economies with heterogeneous be-
  liefs. University of California, Berkeley working paper.

Hirshleifer, D., 2001. Investor psychology and asset pricing. The journal of Finance 56 (4), 1533­
  1597.

Hirshleifer, D., Li, J., Yu, J., 2015. Asset pricing in production economies with extrapolative
  expectations. Journal of Monetary Economics 76, 87­   106.

Holmström, B., Tirole, J., 1998. Private and public supply of liquidity. Journal of political Economy
  106 (1), 1­40.

Hong, H., Sraer, D. A., 2016. Speculative betas. The Journal of Finance 71 (5), 2095­2144.

Hong, H., Stein, J. C., 1999. A uni...ed theory of underreaction, momentum trading, and overreaction
  in asset markets. The Journal of ...nance 54 (6), 2143­   2184.

Hong, H., Stein, J. C., 2007. Disagreement and the stock market. Journal of Economic perspectives
  21 (2), 109­128.

Iachan, F. S., Nenov, P. T., Simsek, A., forthcoming. The choice channel of ...nancial innovation.
  American Economic Journal: Macroeconomics.

Iacoviello, M., 2005. House prices, borrowing constraints, and monetary policy in the business cycle.
  American economic review 95 (3), 739­    764.

Ilut, C. L., Schneider, M., 2014. Ambiguous business cycles. American Economic Review 104 (8),
   2368­ 99.

Jones, C. M., Lamont, O. A., 2002. Short-sale constraints and stock returns. Journal of Financial
  Economics 66 (2-3), 207­239.

Jordà, Ò., Schularick, M., Taylor, A. M., 2015. Leveraged bubbles. Journal of Monetary Economics
  76, S1­S20.

Kandel, E., Pearson, N. D., 1995. Di¤erential interpretation of public signals and trade in specula-
 tive markets. Journal of Political Economy 103 (4), 831­  872.

Kekre, R., Lenel, M., 2020. Monetary policy, redistribution, and risk premia. University of Chicago,
  Becker Friedman Institute for Economics Working Paper (2020-02).

Keynes, J. M., 1936. The general theory of employment, interest, and money. Macmillan.

                                                 39
Kindleberger, C. P., 1978. Manias, panics and crashes: a history of ...nancial crises. Basic Books.

Kiyotaki, N., Moore, J., 1997. Credit cycles. Journal of political economy 105 (2), 211­248.

Korinek, A., Simsek, A., 2016. Liquidity trap and excessive leverage. American Economic Review
 106 (3), 699­ 738.

Krishnamurthy, A., Li, W., 2020. Dissecting mechanisms of ...nancial crises: Intermediation and
  sentiment. NBER working paper No. 27088.

Krishnamurthy, A., Muir, T., 2017. How credit cycles across a ...nancial crisis. NBER working paper
  No. 23850.

Kubler, F., Schmedders, K., 2012. Financial innovation and asset price volatility. The American
 Economic Review 102 (3), 147­  151.

Lamont, O. A., Thaler, R. H., 2003a. Anomalies: The law of one price in ...nancial markets. Journal
  of Economic Perspectives 17 (4), 191­202.

Lamont, O. A., Thaler, R. H., 2003b. Can the market add and subtract? mispricing in tech stock
  carve-outs. Journal of Political Economy 111 (2), 227­268.

Lewis, M., 2011. The big short: Inside the doomsday machine. Penguin UK.

L'
 Huillier, J.-P., Singh, S. R., Yoo, D., 2021. Diagnostic expectations and macroeconomic volatility.
  University of California, Davis working paper.

Lorenzoni, G., 2008. Ine¢ cient credit booms. The Review of Economic Studies 75 (3), 809­833.

Lorenzoni, G., 2009. A theory of demand shocks. American Economic Review 99 (5), 2050­84.

Ma, Y., Paligorova, T., Peydró, J.-L., 2021. Expectations and bank lending. working paper.

Majlesi, K., Di Maggio, M., Kermani, A., 2020. Stock market returns and consumption. Journal of
 Finance.

Malmendier, U., Nagel, S., 2011. Depression babies: do macroeconomic experiences a¤ect risk
 taking? The Quarterly Journal of Economics 126 (1), 373­416.

Malmendier, U., Pouzo, D., Vanasco, V., 2020. Investor experiences and ...nancial market dynamics.
 Journal of Financial Economics 136 (3), 597­  622.

Martin, A., Ventura, J., 2018. The macroeconomics of rational bubbles: a user'
                                                                             s guide. Annual
 Review of Economics 10, 505­  539.

Martin, I., Papadimitriou, D., 2019. Sentiment and speculation in a market with heterogeneous
 beliefs.

Maxted, P., 2020. A macro-...nance model with sentiment. working paper.

Mian, A., Rao, K., Su..., A., 2013. Household balance sheets, consumption, and the economic slump.
 The Quarterly Journal of Economics 128 (4), 1687­     1726.

Mian, A., Su..., A., 2014. What explains the 2007­2009 drop in employment? Econometrica 82 (6),
 2197­ 2223.

                                                 40
Mian, A., Su..., A., forthcoming. Credit supply and housing speculation. Review of Financial Studies.

Milgrom, P., Stokey, N., 1982. Information, trade and common knowledge. Journal of economic
 theory 26 (1), 17­27.

Miller, E. M., 1977. Risk, uncertainty, and divergence of opinion. The Journal of ...nance 32 (4),
 1151­  1168.

Minsky, H. P., 1977. The ...nancial instability hypothesis: An interpretation of Keynes and an
 alternative to standard theory. Challenge 20 (1), 20­27.

Mongin, P., 2016. Spurious unanimity and the Pareto principle. Economics & Philosophy 32 (3),
 511­532.

Morck, R., Shleifer, A., Vishny, R. W., 1990. The stock market and investment: is the market a
 sideshow? Brookings papers on economic Activity 1990 (2), 157­  215.

Morris, S., 1996. Speculative investor behavior and learning. The Quarterly Journal of Economics
 111 (4), 1111­  1133.

Morris, S., et al., 1995. The common prior assumption in economic theory. Economics and Philos-
 ophy 11 (02), 227­    253.

Nagel, S., 2005. Short sales, institutional investors and the cross-section of stock returns. Journal
  of ...nancial economics 78 (2), 277­ 309.

Nathanson, C. G., Zwick, E., 2018. Arrested development: Theory and evidence of supply-side
  speculation in the housing market. The Journal of Finance 73 (6), 2587­2633.

Odean, T., 1998. Volume, volatility, price, and pro...t when all traders are above average. The
 journal of ...nance 53 (6), 1887­1934.

Ofek, E., Richardson, M., 2003. Dotcom mania: The rise and fall of internet stock prices. The
  Journal of Finance 58 (3), 1113­1137.

Panageas, S., 2005. The neoclassical theory of investment in speculative markets. Available at SSRN
  720464.

Pueger, C., Siriwardane, E., Sunderam, A., 2020. Financial market risk perceptions and the
 macroeconomy. The Quarterly Journal of Economics 135 (3), 1443­1491.

Phelan, G., Toda, A. A., 2019. Securitized markets, international capital ows, and global welfare.
  Journal of Financial Economics 131 (3), 571­ 592.

Piazzesi, M., Schneider, M., 2009. Momentum traders in the housing market: Survey evidence and
  a search model. American Economic Review 99 (2), 406­  11.

Polk, C., Sapienza, P., 2008. The stock market and corporate investment: A test of catering theory.
  The Review of Financial Studies 22 (1), 187­  217.

Posner, E. A., Weyl, E. G., 2013. An fda for ...nancial innovation: applying the insurable interest
  doctrine to twenty-...rst-century ...nancial markets. Northwestern University Law Review 107 (3),
  1307.


                                                 41
Reed, A. V., 2013. Short selling. Annu. Rev. Financ. Econ. 5 (1), 245­258.

Reinhart, C. M., Rogo¤, K. S., 2009. This time is di¤erent: Eight centuries of ...nancial folly.
  princeton university press.

Rognlie, M., Shleifer, A., Simsek, A., 2018. Investment hangover and the great recession. American
  Economic Journal: Macroeconomics 10 (2), 113­     53.

Samuelson, P. A., 1958. An exact consumption-loan model of interest with or without the social
  contrivance of money. Journal of political economy 66 (6), 467­482.

Sandroni, A., 2000. Do markets favor agents able to make accurate predictions? Econometrica
  68 (6), 1303­1341.

Santos, M. S., Woodford, M., 1997. Rational asset pricing bubbles. Econometrica: Journal of the
  Econometric Society, 19­57.

Scheinkman, J. A., Xiong, W., 2003. Overcon...dence and speculative bubbles. Journal of political
  Economy 111 (6), 1183­ 1220.

Sebenius, J. K., Geanakoplos, J., 1983. Don't bet on it: Contingent agreements with asymmetric
  information. Journal of the American Statistical Association 78 (382), 424­426.

Shiller, R. J., 2014. Speculative asset prices. American Economic Review 104 (6), 1486­1517.

Shiller, R. J., 2015. Irrational exuberance: Revised and expanded third edition. Princeton university
  press.

Shleifer, A., Vishny, R. W., 1992. Liquidation values and debt capacity: A market equilibrium
  approach. The Journal of Finance 47 (4), 1343­1366.

Shleifer, A., Vishny, R. W., 1997. The limits of arbitrage. The Journal of ...nance 52 (1), 35­55.

Simsek, A., 2010. Essays on uncertainty in economics. Ph.D. thesis, Massachusetts Institute of
  Technology.

Simsek, A., 2013a. Belief disagreements and collateral constraints. Econometrica 81 (1), 1­53.

Simsek, A., 2013b. Speculation and risk sharing with new ...nancial assets. The Quarterly journal
  of economics 128 (3), 1365­1396.

Starr, R. M., 1973. Optimal production and allocation under uncertainty. The Quarterly Journal
  of Economics 87 (1), 81­95.

Stein, J., 2013. Overheating in credit markets: Origins, measurement, and policy responses: speech
  given to the symposium on restoring household ...nancial stability after the great recession, Federal
  Reserve Bank of St. Louis, St. Louis, Missouri, February 07, 2013. Tech. rep.

Stein, J. C., 1996. Rational capital budgeting in an irrational world. The Journal of Business 69 (4),
  429.

Svensson, L. E., 2017. Cost-bene...t analysis of leaning against the wind. Journal of Monetary
  Economics 90, 193­213.



                                                  42
Tirole, J., 1985. Asset bubbles and overlapping generations. Econometrica: Journal of the Econo-
  metric Society, 1499­ 1528.

Weyl, E. G., 2007. Is arbitrage socially bene...cial? Available at SSRN 1324423.

Woodford, M., 2012. Ination targeting and ...nancial stability. NBER working paper no. 17967.

Xiong, W., 2013. Bubbles, crises, and heterogeneous beliefs. NBER working paper No. 18905.

Xiong, W., Yan, H., 2010. Heterogeneous expectations and bond markets. Review of Financial
  Studies 23 (4), 1433­1466.

Xiong, W., Yu, J., 2011. The Chinese warrants bubble. American Economic Review 101 (6), 2723­
  53.

Yan, H., 2008. Natural selection in ...nancial markets: Does it work? Management Science 54 (11),
  1935­ 1950.

Yu, J., 2011. Disagreement and return predictability of stock portfolios. Journal of Financial Eco-
  nomics 99 (1), 162­ 183.

Zapatero, F., 1998. E¤ects of ...nancial innovations on market volatility when beliefs are heteroge-
  neous. Journal of Economic Dynamics and Control 22 (4), 597­     626.




                                                43
 A.      Online Appendix: Not for Publication
 A.1.     Omitted derivations for Section 2
Consider the open economy model without nominal rigidities described in Section 2. Recall that for this case
I assume the parameters satisfy Rf > H (1      ) and Rf < L. I ...rst show that, in any equilibrium with
a constant normalized price pt = p, the normalized consumption and foreign assets follow the dynamics in
Eqs. (11 12). I also derive Eqs. (13 14) that describe the normalized consumption and foreign assets in
a BGP. I then consider the common-belief benchmark and show that there is an equilibrium with a constant
normalized price given by Eq. (15).
    First note that consumption is proportional to aggregate wealth. Speci...cally, Eqs. (6) and (8) imply
that
                                                1
                                          Ct =       (Pt + Ft ) .                                     (A.1)

Here, Pt + Ft denotes the aggregate wealth at the end of the period. Using the resource constraint in (9),
                                    f
foreign assets follow Ft = Yt Ct + Rt  1 Ft 1 . After substituting this expression and solving for consumption,
I obtain,
                                      Ct = (1      ) Yt + Pt + Rf Ft 1 .                                 (A.2)

Hence, consumption is also proportional to aggregate wealth at the beginning of the period. This wealth
                                                                                                      f
consists of output, Yt , the value of domestic assets, Pt , and the initial value of foreign assets, Rt 1 Ft 1 .
     Next note that output is proportional to productivity, Yt = Yt = (1 + n) et [see (2)]. I will focus on
equilibria in which the normalized asset price is constant, pt = p, so that the asset price is also proportional
to productivity, Pt = pet . To characterize the remaining allocations, let ct = Ct =et and ft = Ft =et denote
the normalized consumption and foreign assets, respectively. Substituting the normalized variables into Eqs.
(A:1) and (A:2), and using the dynamics of productivity et = et 1 zt [see (3)], the normalized consumption
is given by (11),
                                  1                                         R f ft 1
                             ct =       (p + ft ) = (1     ) 1+n+p+                   .
                                                                               zt
Here, the second equality also implies that the dynamics of normalized aggregate wealth is given by (12),

                                                                   R f ft   1
                                      p + ft =    1+n+p+                        .
                                                                      zt

    In general, the evolution of normalized aggregate wealth (and foreign assets) depends on the realization
of uncertainty zt 2 fH; Lg. The parametric condition Rf < L ensures that the normalized aggregate wealth
remains bounded along all possible paths. Occasionally, I focus on paths in which the growth shock remains
constant, zt = z 2 fH; Lg for each t. Along these paths, Eq. (12) implies that the normalized foreign assets
converge to a constant given by,
                                                (1 + n) (1      )p
                                         f=               f
                                                                   ,
                                                   1    R =z
Substituting this expression into (11), normalized consumption also converges to a constant given by,

                                  1                              1+n        Rf =z 1 p
                             c=         (p + f ) = (1        )                        :
                                                                    1        Rf =z

This proves Eqs. (13 14) that describe the BGP allocations.
   Next consider the benchmark case in which all investors think zt+1 = z 2 fH; Lg and there is no


                                                        44
exogenous leverage limit ! t = 1. Since beliefs are common (and leverage is allowed), Eq. (7) implies all
                                                  i
investors are indi¤erent between the two assets, Et [Rt;t+1 ] = Rf . Substituting this into (4), I obtain,

                                            i
                                   (1    ) Et [rt+1 + Pt+1 ]   (1           ) (rt+1 + Pt+1 )
                            Pt =                             =                               .              (A.3)
                                              Rf                                Rf
Here, the second equality uses the observation that beliefs are extreme and feature no uncertainty. Substi-
                                                                                                i
tuting Pt+1 = pet ; Pt+1 = pet+1 ; rt+1 = et+1 [see (2)], and the expected productivity growth Et [et+1 ] = et z
[see (3)], I obtain Eq. (15),
                                                           (1    )z
                                          pt p (z ) = f                .
                                                        R     (1    )z
The normalized price is constant over time and is well de...ned in view of the parametric restriction, Rf >
H (1    ). Given this price, the remaining allocations follow the dynamics in (11 12). This completes the
characterization of equilibrium for the common-belief benchmark.


 A.2.     Omitted derivations for Section 3
Consider the case with persistent disagreements analyzed in Section 3. Most of the analysis is described in
the main text. Here, I verify that the conjectured equilibrium price (17) corresponds to an equilibrium.
    In the conjectured equilibrium, optimists invest in the asset and they are unconstrained. Therefore, Eq.
                                                                o
(7) implies optimists are indi¤erent between the two assets, Et   [Rt;t+1 ] = Rf . This leads to Eq. (A:3) with
the optimistic belief i = o. Following the same steps as in the common-belief benchmark, I obtain Eq. (17),

                                                             (1        )H
                                             p (H ) =                       .
                                                        Rf        (1     )H

Given this equilibrium price, condition (16) ensures optimists'wealth is su¢ cient to purchase the entire risky
asset supply. Therefore, optimists purchase all of the asset and invest the remaining fraction of their wealth
in the risk-free asset.
    It remains to check the optimality of pessimists' portfolios. In the conjectured equilibrium, pessimists
do not invest in the risky asset, ! p      p
                                    t = ! t = 0. They invest all of their wealth in the risk-free asset. Eq. (7)
                                      p            f
implies this is optimal as long as Et   [Rt;t+1 ] Rt . Using Eq. (4), I calculate the expected return along the
conjectured equilibrium according to pessimistic belief to obtain:

                                    p               et (1     ) L (1 + p (H ))
                                   Et [Rt;t+1 ] =                              < Rf .
                                                             et p (H )

Here, the inequality follows from the de...nition of p (H ). Hence, pessimists believe the asset is overpriced and
delivers a lower return than the risk-free rate. This proves the optimality of their portfolios and completes
the characterization of equilibrium.


 A.3.     Omitted derivations for Section 4
Consider the belief structure for the speculative bubbles analyzed in Section 4: that is, young optimists
are the only optimistic investors in the economy. The analysis is mostly described in the main text. In
particular, given the belief structure and condition (16), the equilibrium from Section 3 is still an equilibrium.
It remains to check that the young optimists' present discounted (or buy-and-hold) valuation is given by,
         H (1 )
po
 pdv = Rf L(1 ) .




                                                            45
    Using Eq. (A:3), the present discounted valuation of an investor is given by:

                                         N
                                         X             n    i                  N i
                          i                (1          ) Et   [rt+1 ] (1      ) Et [Pt+N ]
                         Pt;pdv = lim                       n        +              N
                                                                                                :
                                  N !1
                                         n=1
                                                      (Rf )                   (Rf )

In the equilibria I consider, the price grows at the same rate as the productivity and the productivity grows
at rate z 2 fH; Lg. Combining this with the parametric condition, Rf > (1       ) H , the price term disappears
from the limit and I have:
                                                  X1         n i
                                           i          (1   ) Et     [rt+n ]
                                         Pt;pdv =              f )n
                                                                            .                             (A.4)
                                                  n=1
                                                           ( R

    Next recall that rt+1 = et+1 = zt+1 et [see (2) and (3)]. Note also that young optimists in period t (i = o)
perceive zt+1 = H and zt+n = L for each n 2. Combining these observations with (A:4), I obtain,

                                  o         (1       ) et H=Rf        (1   ) et H
                                 Pt;pdv =            L(1 )
                                                                 =     f
                                                                                    .
                                                 1                   R   L (1     )
                                                       Rf

                                                                                             H (1 )
This establishes that the normalized valuation is given by, po      o
                                                             pdv = Pt;pdv =et =             Rf L(1 )
                                                                                                     .   This is strictly less
                                        H (1 )
than the equilibrium price, p (H ) =  Rf H (1 )
                                                .    Thus, the price exceeds the present discounted valuation
for all investors, illustrating the speculative bubble (see the main text for further discussion).


 A.4.     Omitted derivations for Section 5
Consider the belief structure for the speculative bubbles analyzed in Sections 4 and 5: young optimists are
the only optimistic investors in the economy. Consider also the special case, = 0. The main di¤erence
from Section 4 is that young investors'wealth is limited, which implies the leverage limit a¤ects the size of
the speculative bubble.


 A.4.1.    Exogenous leverage limits
Consider the case with an exogenous leverage limit and no short selling analyzed in Section 5.1 (I discuss
the case with limited short selling at the end of the section). Suppose the parameters satisfy the following
conditions
                                                                                    z
                              p (H ) >       n ! > p (L) where p (z ) =                     ,
                                                                               Rf       z
                                                            nRf + L
                                  !         ! end =                 .
                                                           n (Rf L)

Here, the ...rst line replicates condition (18) from the main text. The second condition says the exogenous
leverage limit is tighter than the endogenous leverage limit (along the BGP) that I characterize subsequently
(see Eq. (A:7)). This condition ensures the exogenous leverage limit binds.
    Under these conditions, I conjecture a BGP equilibrium in which the normalized asset price is given by
(19) from the main text,
                                                  p (! ) = n ! .

In this equilibrium, young optimists are against their leverage limit, ! o
                                                                         t = ! , and all other investors (young
and old pessimists) are against the short-selling constraint, ! i
                                                                t = 0 .



                                                           46
     To verify the equilibrium price, note that aot = net (since    = 0). Using this along with ! o
                                                                                                  t = ! and
  i
! t = 0 for other investors, the asset market clearing condition implies

                                                    Pt = n !et .

This veri...es that the normalized asset price is constant and given by (19).
    To verify the optimality of the equilibrium portfolios, consider investors'expected return from the risky
asset. Young optimists'expected return satis...es,

                             o                Het (1 + p (!; ! ))    1 + p (H )
                            Et [Rt;t+1 ] =                        >H            = Rf .
                                                 p (!; ! ) et          p (H )

Here, the ...rst equality uses Eq. (4) and substitutes the equilibrium allocations. The inequality follows since
1=p (! ) < 1=p (H ) [see (18)]. The last equality follows since p (H ) = RfH H . Since Et o
                                                                                            [Rt;t+1 ] > Rf , young
optimists optimally choose the maximum allowed leverage, ! o     t = !.
    Likewise, other investors'(young and old pessimists'    ) expected return satis...es,

                              i               Let (1 + p (!; ! ))    1 + p (L)
                             Et [Rt;t+1 ] =                       <L           = Rf ,
                                                  p (!; ! ) et         p (L)

where the inequality follows since 1=p (! ) < 1=p (L) and the last equality follows since p (L) = RfL L . Since
  i
Et  [Rt;t+1 ] < Rf , other (pessimistic) investors optimally choose ! i
                                                                      t = 0. This establishes the optimality of
the portfolios and completes the characterization of equilibrium.

Exogenous leverage and short selling limits. Next consider the case with limited short selling
discussed in the main text. Speci...cally, young investors (and only them) are allowed to engage in limited
short selling: ! i
                 t  ! where ! 0 for i 2 fo; pg and ! i t  0 for other investors. The above analysis generalizes
to this case as long as the parameters satisfy the following generalization of condition (18),

                                     p (H ) > n ( ! + (1         ) ! ) > p (L) ,

and the limits !; ! are su¢ ciently tight (in particular, tighter than the corresponding endogenous limits
along the equilibrium path). Under these conditions, all of the above steps still hold and imply a BGP
equilibrium in which the price is given by Eq. (20),

                                              p = n ( ! + (1       ) !) .

In this equilibrium, young optimists are against their leverage limit, ! o t = ! , and all other investors (young
and old pessimists) are against their respective short-selling limits, ! t = ! and ! mp
                                                                         p
                                                                                      t    = 0.


 A.4.2.    Endogenous leverage limits
Next consider the case with collateral constraints analyzed in Section 5.2. I ...rst derive the endogenous and
short selling limits. I then show that in this model these limits replicate the complete market outcomes.
Finally, I consider the case with endogenous leverage (and no short selling) and complete the characterization
of equilibrium.




                                                         47
Endogenous leverage and short selling limits. As described in the main text, the collateral
constraint implies the leverage limit in (22),
                                                                      pt
                                       !i
                                        t     ! end
                                                t                1                 .
                                                      pt        Rf
                                                                     L (1 + pt+1 )

    To derive the short-selling limit, consider a short position, ! i
                                                                    t   0. For a short position, the nonnegative
portfolio return condition, Rt;t+1 ! i
                                     t + R f
                                             1   ! i
                                                   t    0 implies the following collateral constraint [cf. (21)]:

                                             Rt;t+1    Rf            !i
                                                                      t     Rf .                              (A.5)

A short position makes losses when the risky asset generates a lower return than the risk-free asset, Rt;t+1 <
Rf . Moreover, the short position is collateralized by cash. The expression says that, for a dollar put up
as collateral in a short position, the loss from the position (the left side) must be lower than the value of
collateral (the right side) in all states.
    Eq. (A:5) illustrates that the collateral constraint for a short position is most likely to bind when the
asset generates the highest possible return. In equilibrium, this obtains when the high growth state is
realized, zt+1 = H , which leads to the return Rt;t+1 = et H (1+  pt+1 )
                                                              et pt      [see (4)]. After substituting this into the
collateral constraint, I obtain the endogenous short limit in (23),
                                                                  pt
                                      !i
                                       t     ! end
                                               t        1                               .
                                                       Rf
                                                            H (1 + pt+1 )          pt

Equivalence with complete market outcomes. I next verify the claim in Remark 6 that (when
there is disagreement) the endogenous limits in (22) and (23) lead to complete markets outcomes in every
period.
     First consider the equilibrium with complete markets. Note that optimists (resp. pessimists) think the
state H (resp. L) will be realized with certainty. Therefore, with complete markets, they endogenously choose
                                                                                                    p
positions that generate zero wealth if the other state L (resp. H ) is realized, that is, ao
                                                                                           t+1;L = at+1;H = 0.
     Next consider the equilibrium with the endogenous leverage limits in (22) and (23) (and no exogenous
limits). In a period in which optimists and pessimists have both positive wealth, the equilibrium price pt
lies between their one-period valuations,

                                             1                 1
                                   pt 2        L (1 + pt+1 ) ; f H (1 + pt+1 ) .
                                            Rf                R
                                                                                                o
Given this price, the optimistic and the pessimistic expectations of the risky return satisfy, Et [Rt;t+1 ] >
  f    p
R > Et [Rt;t+1 ] [see (4)]. Consequently, optimists and pessimists are both at their respective limits [see
(7)],
                                        !o
                                         t = !t
                                               end
                                                   and ! p     end
                                                         t = !t .

Recall that, by de...nition, the leverage limit induces a zero portfolio return in the low growth state L and the
                                                                                                   p
short selling limit induces a zero return in the high growth state H . This implies ao    t+1;L = at+1;H = 0-- the
same outcome as in the equilibrium with complete markets.




                                                           48
Endogenous leverage and speculative bubbles. Next consider the case with the endogenous
leverage limit, ! end
                  t   (and no short selling, ! = 0). Suppose the parameters satisfy,

                                           nRf + L              H
                                                   < p (H ) = f                                            (A.6)
                                           Rf L              R    H

Under this condition, I conjecture a BGP equilibrium in which the price and the leverage limit are both
constant, pt = p and ! end
                       t   = ! end , and the leverage limit binds.
    In this equilibrium, our analysis with an exogenous leverage limit applies after replacing ! with ! end
(see Section 5.1 and Appendix A.4.1). Combining Eqs. (22) and (19), the asset price is given by (24),

                                                           nRf + L
                                                    p=             .
                                                           Rf L

Substituting this into (22), I obtain the endogenous leverage limit along the equilibrium path,

                                                     1                 nRf + L
                                      ! end =                     =            .                           (A.7)
                                                1    1
                                                    Rf
                                                         L 1+
                                                            p
                                                              p       n (Rf L)


      The analysis with an exogenous leverage limit implies this is an equilibrium as long as the price sat-
is...es, p =   n! end 2 (p (L) ; p (H )) [see (18)]. The equilibrium price always satis...es, p > p (L) = RfL L .
Intuitively, since lenders perceive no uncertainty, they are always willing to extend credit up to their own
valuations. Thus, lenders'valuations provide a lower bound on the equilibrium price. In view of condition
(A:6), the equilibrium price also satis...es, p < p (H ). This completes the characterization of equilibrium with
endogenous leverage.


 A.5.     Omitted derivations for Section 6
Consider the rational bubbles analyzed in Section 6. I ...rst describe how to extend the open economy setup in
Section 2 to allow for the bubble asset. I then characterize the equilibrium for the case analyzed in the main
text. For simplicity, I consider a representative-investor setting (or common beliefs) and drop the investor
superscript i.
    Suppose, in addition to the risky asset, there is a distinct bubble asset that yields zero dividends in all
periods. Let Bt denote the price of the bubble asset. Thus, the one-period return of the bubble asset is
given by [cf. (4)]
                                                  b        Bt+1
                                                Rt;t+1 =         .                                        (A.8)
                                                            Bt
The representative investor can invest in the bubble asset as well as the risky and the risk-free assets.
Therefore, her problem (5) is modi...ed so that she chooses, ct ; ! t ; ! b
                                                                          t subject to the budget constraint

                                                           b       b    f
                         at+1 = (at     ct ) Rt;t+1 ! t + Rt;t+1 ! t + Rt 1    !t   !b
                                                                                     t   .                 (A.9)

For simplicity, suppose there are no exogenous short selling or leverage restrictions. Finally, the market
clearing conditions are modi...ed [cf. (8)]:

                              ! t at = Pt ; ! b  i
                                              t at = Bt and at = Pt + Bt + Ft .


Hence, there is a separate market clearing condition for the bubble, and the market clearing condition for


                                                            49
all assets also re ects the bubble. The rest of the model is unchanged.
     Next consider the equilibrium for the case analyzed in the main text. Speci...cally, suppose the represen-
tative investor has the pessimistic belief, zt+1 = L, and the risk-free return satis...es, Rf = L. Consider the
path in which the realized growth is the same as what investors expect, zt = L for each t. With these as-
sumptions, I conjecture an equilibrium in which the bubble asset satis...es Bt = bet with a constant b > 0, the
risky asset price is given by the same expression as before (15) with z = L, and the normalized consumption
and aggregate wealth follow the dynamics in (25 26).
     To verify the conjecture, note that the investor perceives no uncertainty. Then, Eqs. (A:8) and (A:9)
along with no-arbitrage require,
                                               b                 f
                                             Rt;t+1 = Rt;t+1 = R .

The requirement on the risky asset return (and zt+1 = L) implies that the normalized risky asset price is the
same as before, p (L) = Rf(1 (1 )L)L . Using Eq. (A:8) and the parametric condition Rf = L , the requirement
on the bubble asset return becomes,
                                             b       Bt+1
                                            Rt;t+1 =      = Rf = L.
                                                      Bt
The conjectured BGP satis...es this requirement because Bt = bet and et+1 = et L.
   Finally, following the same steps as in Section A.1, aggregate consumption satis...es [cf. (A:1) and (A:2)],

                                1
                         Ct =            (Pt + Bt + Ft ) = (1   ) Yt + Pt + Bt + Rf Ft    1


Substituting the normalized prices, p (L) = Pt =et ; b = Bt =et , and allocations, 1 + n = Yt =et ; ct = Ct =et ; ft =
Ft =et , and using the dynamics et = et 1 L, the normalized consumption and aggregate wealth follow the
dynamics in (25 26). Using these dynamics, normalized consumption and aggregate wealth converge to
the BGP allocations in (25 26) (with z = L) after replacing p with p (L) + b, that is:

                                         1+n  Rf =L 1 (p (L) + b)
                     c =     (1      )                            = 1 + n,                                    (A.10)
                                               1      Rf =L
                                  (1 + n) (1    ) (p (L) + b)
                     f   =                                    =   (1 + n) (p (L) + b) .                       (A.11)
                                         1   Rf =L              1

Here, the second equality in each line substitutes Rf = L to simplify the expressions. This completes the
characterization of the equilibrium with rational bubbles.


 A.6.     Omitted derivations for Section 7
In this appendix, I complete the characterization of equilibrium for the closed economy model analyzed
                                                             f      f
in Sections 7. Recall that the interest rate is endogenous, Rt    Rt  , and the goods market equilibrium
condition is given by (27),
                                Ft = 0 and Yt = Yt = (1 + n) et for each t.

Recall that there are no exogenous short selling or leverage constraints (! t = 1; ! t = 1). Finally,
beliefs are persistent: young optimists (resp. pessimists) become mature optimists (resp. pessimists). I next
characterize the equilibrium. Throughout, I use the notation xt (z ) to refer to a variable in period t under
the belief that the next period' s state will be zt+1 = z ; and I use the notation xt;z to refer to a variable in
period t and state zt = z .



                                                           50
Output-asset price relation in a closed economy. To derive the output asset price relation, ...rst
note that Eqs. (A:1    A:2) hold in this setting after substituting Ft = Ft              1   = 0, that is:

                                              1
                                       Ct =            Pt = (1      ) (Yt + Pt ) .

As before, consumption is proportional to both end-of-period and beginning-of-period aggregate wealth.
Substituting Ct = Yt into these expressions, I obtain the output asset price relation (28),

                                                  Yt = (1=        1) Pt .

Setting output equal to its potential, Yt = et (1 + n), this also implies the potential asset price is constant
and given by (29),
                                                         n+1
                                            pt = p =             .
                                                        1=     1

Common-belief benchmark in a closed economy. Next consider a benchmark case in which
all investors have the same belief. I conjecture an equilibrium with a constant interest rate, Rf (z ), and a
constant normalized price, p (z ). To characterize this equilibrium, ...rst note that Eq. (A:3) from Appendix
A.1 still applies but with the endogenous interest rate,

                                                  (1      ) (rt+1 + Pt+1 )
                                           Pt =               f
                                                                             .                                    (A.12)
                                                             Rt

Evaluating this with rt+1 = et+1 and et+1 = et z , I solve for the equilibrium price as [see Eq. (30)],

                                                           (1      )z
                                           p (z ) =                      .
                                                       Rf (z )    (1  )z

Combining this with (29), I also solve for the equilibrium interest rate [see Eq. (31)],

                                                        1+p                          n + 1=
                              Rf (z ) = z (1       )               = z (1        )          .
                                                         p                            n+1
Hence, in this model, changes in beliefs (e.g., an increase or decrease in the perceived growth rate z ) a¤ect
the equilibrium interest rate as opposed to the equilibrium price.

Disagreements and procyclical asset valuation. I next turn to the main focus with disagree-
ments. I characterize the equilibrium in three steps. I ...rst show that, given optimists'wealth share t 2 (0; 1)
[de...ned in (32)], the equilibrium price in period t is characterized by Eq. (33). Second, I establish that
optimists' wealth share follows the dynamics in (34). Finally, I characterize the dynamic equilibrium and
establish (35).
      Recall that I assume there are no exogenous leverage and short selling limits. Following the same steps
as in Appendix A.4.2, the endogenous leverage limits are given by [see (22) and (23)]:

                                       Pt                                Pt
                      ! end
                        t     =                > 1 and ! end
                                                         t     =                          <0                      (A.13)
                                  Pt   Pt (L)                       Pt (H )           Pt
                                  (1    ) (rt+1;L + Pt+1;L )             (1            ) (rt+1;H + Pt+1;H )
               with Pt (L)    =                f
                                                             ; Pt (H ) =                        f
                                                                                                              .
                                              Rt                                               Rt




                                                           51
Here, Pt;L and Pt;H correspond to the worst case (pessimistic) and the best case (optimistic) valuations,
respectively. The analysis in Appendix A.4.2 also implies that optimists and pessimists are at their respective
limits,
                                        !ot = !t
                                                end
                                                    and ! p     end
                                                           t = !t .                                     (A.14)

    Next note that, combining Eqs. (32) and (8), the risky asset market clearing condition (for the closed
economy) can be written as,
                                   X                    p
                                      !i  i     o
                                        t t = ! t t + ! t (1   t ) = 1.                            (A.15)
                                          i

Hence, the risky asset market clears when investors' wealth-weighted average portfolio weight is equal to
one. Combining this with Eqs. (A:13) and (A:14), I obtain

                                          Pt                        Pt
                                                     t   +                  (1       t)   = 1.
                                    Pt    Pt (L)              Pt    Pt (H )

After rearranging terms, I obtain
                                                                         1
                                      1                          1
                      Pt =     t           + (1          t)                  = P (Pt (H ) ; Pt (L) j t ) .
                                   Pt (H )                    Pt (L)

This establishes Eq. (33): the asset price is equal to the wealth-weighted harmonic average of optimists'and
pessimists'valuations.
    Next consider the dynamics of optimists' wealth share. First suppose a low growth state is realized,
zt = L. Optimists'portfolio weight in (A:14) implies that old optimists'wealth is zero. Therefore, optimists'
wealth share, t , is equal to young optimists'wealth share. Using this observation, I characterize:

                                                  ao                  (wt + Pt )
                                         t;L   = Pt i         =
                                                   i at             wt + rt + Pt
                                                                     et (n + pt )
                                                              =
                                                                    et (n + 1 + pt )
                                                                      (n + p )
                                                              =                           L.                 (A.16)
                                                                    n+1+p

Here, the second line substitutes the wage and the rental rate from (2). The last line uses the observation
that the equilibrium features a constant normalized price, pt = p [see (29)].
    Next suppose a high growth state is realized, zt = H . In this case, pessimists'portfolio weight in (A:14)
implies that old pessimists' wealth is zero. Therefore, pessimists' wealth share, 1      t , is equal to young
pessimists'wealth share. Following similar steps, I obtain:

                                            ap                      (1    ) (wt + Pt )
                               t   =1      Pt i      =        1
                                             i at                      wt + rt + Pt
                                                                    (1    ) (n + p )
                                                     =        1                                  H.          (A.17)
                                                                       n+1+p

This establishes the dynamics in (34). Note also that H > L : optimists have greater wealth in the high
growth state than in the low growth state.
   Finally, consider the dynamic equilibrium. Combining Pt = p et and rt+1 = et+1 with (33), the optimistic




                                                                   52
and the pessimistic valuations in (A:13) are given by,

                                  (1   ) H (1 + p ) et                  (1    ) L (1 + p ) et
                      Pt (H ) =            f
                                                         and Pt (L) =            f
                                                                                                .
                                          Rt                                    Rt

Substituting this into Eq. (33), and using Pt = p et along with the linear homogeneity of the harmonic
average, I obtain:

                             f            (1      ) H (1 + p ) (1     ) L (1 + p )
                            Rt    = P                         ;                    j   t
                                                    p                   p
                                  = P Rf (H ) ; Rf (L) j      t   .

Here, the second line substitutes the de...nition of the common belief benchmark interest rate Rf (z ) [see
(31)]. Combining this with the dynamics in (34) completes the characterization of equilibrium. In particular,
                                                                             f      f         f
the equilibrium interest rate is a function of the most recent realization, Rt;z = Rz , with Rz given by (35).


 A.7.     Omitted derivations for Section 8
In this appendix, I ...rst complete the characterization of the closed economy model with nominal rigidities
analyzed in Sections 8. I then present the New Keynesian microfoundations for nominal rigidities.


 A.7.1.     Equilibrium with nominal rigidities and demand recessions
Recall that the setup is similar to the closed economy model analyzed in Section 7 with three di¤erences.
First, since production ...rms have sticky nominal prices, output is determined by aggregate demand can be
less than potential (see Section A.7.2),
                                                      Yt
                                                yt =        1.
                                                      Yt
Here, yt denotes relative output. Second, under appropriate assumptions (see Section A.7.2), factor returns
satisfy (36),
                                         wt = yt et n and rt = yt et .

Finally, the interest rate policy follows (37),

                                             f       ~tf
                                            Rt = max R   ; R f yt .

      ~tf
Here, R    is the interest rate that closes the current output gap given the policy in future periods. I next
characterize the equilibrium.

Output-asset price relation with nominal rigidities. As described in the main text, the output
asset price relation (28) still applies. In this context, this relation implies (38), which says that the relative
output is equal to the relative asset price,
                                                         pt
                                                   yt =        1:
                                                         p
Using this relation, the interest rate policy becomes (39),

                                            f       ~tf      pt
                                           Rt = max R   ; Rf            .
                                                             p



                                                         53
Common-belief benchmark with nominal rigidities. Next consider the benchmark in which all
investors think zt+1 = z 2 fH; Lg. I conjecture an equilibrium in which the asset price, p (z ) p , and the
interest rate, Rf (z ), are both constant.
    To characterize this equilibrium, let Rf (z ) = z (1          ) 1+
                                                                     p
                                                                       p
                                                                         denote the common-belief interest rate
                                           f          f
without nominal rigidities [see (31)]. If R (z ) R , the interest rate policy is unconstrained and replicates
the potential outcomes, that is, Rf (z ) = Rf (z ) and p (z ) = p . Consider the other case Rf (z ) < Rf .
In this case, the interest rate policy is constrained and there is a demand recession. To characterize the
equilibrium outcomes, ...rst note that the price still satis...es Eq. (A:12),

                                                   (1      ) (rt+1 + Pt+1 )
                                            Pt =                  f
                                                                                        .
                                                                 Rt

Note that Eqs. (36) and (38) imply rt+1 = pp(z )
                                                 Let+1 and the conjectured equilibrium features Pt = p (z ) et
      f
and Rt  = Rf (z ). Combining these observation gives (30),

                                                          z (1        ) pp
                                                                         (z )
                                            p (z ) =                                    .
                                                        Rf (z )       z (1          )

After rearranging this expression, I obtain,

                                                                                 1+p
                                        Rf (z ) = Rf (z ) = z (1             )       .
                                                                                  p

Combining it with the policy rule in (39), I further obtain,

                                                p (z )   Rf (z )
                                                       =         < 1.
                                                 p        Rf

This proves (40) and completes the characterization of equilibrium with common beliefs.

Speculation and demand recessions. Next consider the case with disagreements. Since the model
is similar to the one analyzed in Section 7, most of the analysis in Appendix A.6 still applies. In particular,
Eqs. (A:13 A:15) still hold. Combining these expressions, the asset price is still characterized by Eq. (33),
which I replicate for ease of exposition,
                                                                                1
                                       1                   1
                       Pt   =       t       + (1     t)              = P (Pt (H ) ; Pt (L) j t )
                                    Pt (H )             Pt (L)
                                 (1   ) (rt+1;L + Pt+1;L )             (1    ) (rt+1;H + Pt+1;H )
              with Pt (L)   =                f
                                                           ; Pt (H ) =               f
                                                                                                  .
                                            Rt                                     Rt

    Likewise, Eq. (34) that describes optimists' wealth dynamics remains unchanged. To see this, ...rst




                                                            54
suppose the low growth state is realized. Then, I have the following analogue of Eq. (A:16),

                                                                  ao      (wt + Pt )
                                                t;L      =       Pt i =
                                                                    a
                                                                   i t  wt + rt + Pt
                                                                            pt
                                                                  et       np  + pt
                                                         =
                                                                      pt             pt
                                                                 et n p  +           p    + pt
                                                                  (n + p )
                                                         =                 =                  L.
                                                                 n+1+p

Here, the second line substitutes the wage and the rental rate using Eqs. (36) and (38). Likewise, I have the
following analogue of Eq. (A:17),

                                                 ap                        (1        ) (wt + Pt )
                                 t   =1         Pt i         =     1
                                                  i at                            wt + rt + Pt
                                                                                             pt
                                                                           (1             ) np  + pt
                                                             =     1               pt         pt
                                                                                  np  +       p    + pt
                                                                           (1       ) (n + p )
                                                             =     1                           =          H.
                                                                                  n+1+p

Since the demand recession lowers prices and factor returns proportionally, it leaves the wealth share dy-
namics unchanged [see (34)].
    Next consider the dynamic equilibrium. Suppose the parameters satisfy:
                                                                                                                    !
                                                                                                           2
                             f              f                          f                  f          Rf (L)
                       P R       (H ) ; R       (L) j    L      <R <P                 R       (H ) ;        j   H       .   (A.18)
                                                                                                       Rf

Under this condition, I conjecture an equilibrium in which the low growth state features a demand recession,
  f                                                                                 f
RL  < Rf ; pL < p , and the high growth state features potential outcomes, RH         > Rf ; pH = p (and the
interest rate and the normalized price remain constant within states).
    To characterize this equilibrium, I let pz (z 0 ) denote the normalized asset valuation in state z according
to an investor who believes state z 0 will be realized in the next period with certainty. For instance, pL (H )
denotes the valuation by an optimist (who believe z 0 = H will be realized) in the low growth state z = L.
Using (36), I calculate:

                                                                              pz 0
                                                         (1        ) z0       p      + pz0
                                            0
                                     pz (z )      =                         f
                                                                           Rz
                                                         pz 0                     1+p
                                                  =        f
                                                                z 0 (1        )
                                                         Rz                        p
                                                         pz 0
                                                  =        f
                                                                Rf (z 0 ) for z; z 0 2 fH; Lg .                             (A.19)
                                                         Rz

Here, the last line substitutes the de...nition of Rf (z 0 ),-- "rstar"for the common-belief benchmark [see (31)].
   Next, I use Eq. (33) to characterize the normalized equilibrium price in each state in terms of the




                                                                         55
normalized valuations by optimists and pessimists:

                                          pH = p                = P (pH (H ) ; pH (L) j              H)                      (A.20)
                                                    pL          = P (pL (H ) ; pL (L) j             L) .

                                                        1
                                     ~       1 ~
Here, recall that P (x; y j ~ ) =    x   +    y             .

                                                                                                                         !
                                                                                                                 2
                                f              f                           f            f          Rf (L)
                          P R       (H ) ; R        (L) j       L    <R <P          R       (H ) ;        j          H
                                                                                                     Rf

     Finally, I combine (A:19) and (A:20), and use the linear homogeneity of the function P ( ), to obtain:

                                                    f                               pL f
                                                   RH       = P Rf (H ) ;             R (L) j              H                 (A.21)
                                                                                    p
                                     f       pL f                          Rf (H ) f
                                    RL =       R            = P                   ; R (L) j           L      .
                                             p                              pL =p

                                                                       pL           Rf
Here, the second line also uses the optimal monetary policy Rt    f = p   [see (39)]. The second line proves Eq.
(41) in the main text that describes the asset price in the recession. The ...rst line obtains a similar expression
for the interest rate in the boom.
    I next show that, under condition (A:18), this system has a unique solution that satis...es pL < p and
  f
RH >Rf . First consider Eq. (41) that characterizes pL . The left side is an increasing function of p       p and
                                                                                                             L

                                           pL
the right side is a decreasing function of p . Under condition (A:18), there is a unique solution that satis...es
pL       Rf (L)                                                     f
p    2    Rf
                ;1   . Given this solution, Eq. (41) characterizes RH . Moreover, the solution satis...es

                                                                                                !
                                                                                    2
                                          f                                Rf (L)
                                         RH    >P           R   f
                                                                    (H ) ;        j         H       > Rf .
                                                                             Rf

                                                                f
                                             R (L)
Here, the ...rst inequality follows from p
                                         p >
                                           L
                                               Rf
                                                    and the second inequality follows from condition (A:18).
This veri...es the conjecture and completes the characterization of equilibrium.

Macroprudential policy in the boom. I next consider how macroprudential policies in the boom
a¤ect this equilibrium and establish Eq. (42). Speci...cally, suppose the economy is currently in period 0
with state z0 = H and the planner implements macroprudential policy that bans leverage, ! i      0   1. Finally,
I also make two simplifying assumptions: starting period 1 onward there is no macroprudential policy, and
in period 0 there is no interest rate lower bound.
     First consider the equilibrium in period 0. It is easy to check that the extreme leverage ban implies all
investors (optimists and pessimists) choose the same portfolios, ! i0 = 1. With these allocations, optimists are
constrained (they would like to increase their positions on the risky asset) and pessimists are unconstrained.
     In particular, the (normalized) asset price in period 0 is equal to the pessimists'valuation. Using similar
steps as before, I calculate this valuation as [see (A:19)],

                                                                    p1;L
                                               (1        )L          p     + p1;L        p1;L
                                     p
                                     ~0 =                            f
                                                                                    =        f
                                                                                                 Rf (L) .
                                                                    R0                      R0



                                                                           56
Since the interest rate does not bind in period 0 (by assumption), I also obtain:

                                                ~ f = R0;1;L         p1;L f
                                     p
                                     ~0 = p and R 0                      R (L) .                          (A.22)
                                                                      p

Here, R0;1;L denotes the asset'   s realized return when the low state is realized. In equilibrium, the interest
rate is equal to the asset's return in the low state and pessimists are indi¤erent to invest.
    Note also that the interest rate with macroprudential policy satis...es R    ~f     Rf (L) < Rf , where the
                                                                                   0
second inequality follows from condition (A:18). In contrast, the interest rate without macroprudential policy
                                     f
(characterized earlier) satis...es R0   = Rf (H ) > Rf . This proves that macroprudential policy reduces the
interest rate in period 0.
    Next consider the equilibrium in period 1 when state L is realized. The equilibrium depends on optimists'
wealth share. Unlike before, mature optimists'wealth is not zero and contributes to optimists'wealth share.
In fact, recall that mature optimists hold symmetric positions as mature pessimists in period 0 (in view of
the extreme leverage constraint, ! i  0   1). Therefore, their wealth in period 1 is given by H (1   ) Pt -- their
wealth share in period 0 multiplied by the nondepreciated part of capital. Using this observation, I calculate:
                                 P           i
                                  i2fo;mog at;L         (wt;L + Pt;L ) + H (1              ) Pt;L
                       ~ 1;L =     P i             =
                                      i at;L                  wt;L + rt;L + Pt;L
                                                       p1;L
                                                        p     [ (n + p ) +        H   (1   )p ]
                                                   =                p1;L
                                                                     p     [n + 1 + p ]
                                                                    (1 )p
                                                   =    L   +   H
                                                                    n+1+p

This proves Eq. (42). Intuitively, mature optimists'wealth remains largely intact except for the fact that it
is diluted by the in ow of new wealth endowed to the young generation in period 1.
     To characterize the equilibrium asset price (in period 1 and state L), note that the equilibrium in
subsequent periods is unchanged. Therefore, the normalized asset price still satis...es the following version of
Eq. (33):
                                      p
                                      ~1;L = P (pL (H ) ; pL (L) j ~ 1;L ) .

Substituting pL (H ) and pL (L) from Eq. (A:19), I obtain the following version of Eq. (41):

                                 p
                                 ~1;L ~ f               pL f
                                     R1;L = P Rf (H ) ;   R (L) j ~ 1;L .                                 (A.23)
                                  p                     p

There are two cases to consider. First suppose the right hand side of (A:23) is greater than Rf . In this case,
the solution features p
                      ~1;L = p and R~ f > Rf : that is, macroprudential policy fully eliminates the demand
                                      1;L
                                                                                                     ~ f < Rf
recession. Next suppose the right hand side is smaller than Rf . In this case, the solution features R 1;L
and p~1;L < p . Using the optimal monetary policy R ~f = p  ~1;L f
                                                                R   [see (39) ], I obtain
                                                      1;L    p

                                         2
                                 p
                                 ~1;L                           pL f
                                             Rf = P Rf (H ) ;     R (L) j ~ 1;L .
                                  p                             p

                            p
                            ~
This uniquely pins down p    1;L
                                 2 (0; 1). Moreover, the earlier price, p   p , solves the same equation after
                                                                             L


substituting L for ~ 1;L [see (41)]. Since the function, P ( j ), is increasing in and ~ 1;L > L , this implies
p
~1;L
 p   >p p . Hence, in either case, macroprudential policy increases the asset price and mitigates the demand
         L


recession.


                                                        57
 A.7.2.     New Keynesian microfoundations for nominal rigidities
Finally, I present the microfoundations that ensure output is determined by demand. I also specify the
assumptions (on the distribution of output across factors and ...rms) that ensure the factor returns satisfy
(36).
     As before, there is one unit of capital and labor supplied inelastically up to one unit. To introduce nominal
rigidities, suppose there is a continuum of measure one of production ...rms, denoted by . Each ...rm chooses
its demand for labor, lt ( ), and capital, kt ( ); and its utilization rate for each factor, l         k
                                                                                               t ( ) ; t ( ) 2 [0; 1].
For either factor, the utilization rate can be increased for free up to one and it cannot be increased further.
The ...rm' s output is given by,

                                                  l                                        k
                                     Yt ( ) =     t   ( ) lt ( ) et n +                    t   ( ) kt ( ) et :   (A.24)

    The production ...rms are monopolistically competitive and sell their output to a competitive ...nal good
sector. This sector produces the consumption good according to the CES technology,
                                                      Z       1                                "=(" 1)
                                                                           "       1
                                           Yt =                   Yt ( )       "
                                                                                       d                 ;       (A.25)
                                                       0

for some " > 1. This implies a production ...rm's demand is given by,

                                                          "
                                  Yt ( )    qt ( )            Yt , where qt ( ) = Qt ( ) =Qt .                   (A.26)

Here, qt ( ) denotes the ...rm' s relative price, which depends on its nominal price, Qt ( ), as well as the ideal
                                R        1 "
                                                 1=(1 ")
nominal price index, Qt =         Qt ( )     d           . I write the demand constraint as an inequality because
a production ...rm can in principle refuse to meet the demand for its goods.
     The key friction is that ...rms have a preset nominal price that is the same across ...rms, Qt ( ) = Q.
Thus, the relative price of a ...rm is ...xed and equal to one, qt ( ) = 1. I also assume the aggregate demand
(consumption) is weakly below the potential output, Ct                Yt = et (n + 1) (which is the case for the
equilibrium in the main text).
     With these assumptions, it is easy to check there is an equilibrium in which the ...nal good ...rm' s output
is equal to aggregate demand, Yt = Ct , and individual production ...rms ...nd it optimal to meet this demand,
Yt ( ) = Yt [see (A:26)]. Hence, these assumptions are su¢ cient to ensure output is determined by aggregate
demand.
     However, the setup has an unappealing feature: since labor and capital are supplied inelastically (up to
one unit), the equilibrium wage and the rental rate is zero and all output accrues to production ...rms as pure
pro...ts. To obtain a less extreme distribution of output, I assume the government implements appropriate
subsidies that ensure there are no pure pro...ts and output accrues to factors according to their relative
productivity.16
     Formally, for every unit of labor and capital that each production ...rm hires, the government subsidizes
the ...rm by n t and t units, respectively. These factor subsidies are ...nanced by taxes that extract ...rms'
pro...ts. Speci...cally, the government imposes a lump-sum tax on each production ...rm determined by the
  16
     Alternatively, I could abstract from labor, n = 0, and interpret the risky asset as a claim to both the rental rate
of capital and pure pro...ts. In this case, the results in the main text hold without any assumptions on subsidies.




                                                                      58
...nal good output, Yt . Finally, the government chooses the level of the linear subsidy,                                        t,   to break even,
                                                Z                       Z
                                      t    n         lt ( ) d +             kt ( ) d        = Yt .                                               (A.27)

                                                                                                          l            k
    With these assumptions, a production ...rm chooses lt ( ) ; kt ( ) and                                t   ( );     t    ( ) 2 [0; 1] to solve,

                                max Yt ( )           (wt         n t ) lt ( )       (Rt          t ) kt   ( )        Yt ,                        (A.28)
                                                     l                          k
                                s.t.Yt ( ) =         t   ( ) lt ( ) et n +      t   ( ) kt ( ) et             Yt .

Here, the second line captures the supply and demand constraints in (A:24) and (A:26) (with qt ( ) = 1).
There are also standard labor and capital market clearing conditions.
    I conjecture a symmetric equilibrium (across production ...rms) in which the factor prices are determined
by the subsidies,
                                           wt = n t and rt = t .                                        (A.29)

At these factor prices, ...rms are indi¤erent to hire labor or capital. In equilibrium, they hire all of the labor
and capital, lt ( ) = kt ( ) = 1. Substituting these features, the ...rm's problem becomes

                                                max              Yt ( )     Yt ,
                                           l(   );   k(    ) 1
                                           t         t
                                                                  l                 k
                                          s.t.Yt ( ) =            t   ( ) et n +    t   ( ) et       Yt .

Since aggregate demand satis...es, Yt = Ct             Yt = et (n + 1), the ...rm can adjust utilization rates
 l        k
 t ( )  ; t ( ) (costlessly) to meet the  demand.   Therefore,    the ...rm'
                                                                           s demand constraint binds, Yt ( ) = Yt .
Note also that the ...rm makes zero pro...ts after paying the lump-sum taxes.
     Finally, substituting lt ( ) = kt ( ) = 1 into Eq. (A:27), the equilibrium level of the linear subsidy
satis...es t = nY+1 . Substituting this into (A:29), and using Yt = et (n + 1), I obtain Eq. (36) from the main
                  t


text,
                                                                              Yt
                                    wt = yt et n and rt = yt et , where yt =     .
                                                                              Yt
In sum, the equilibrium level of output is determined by demand (Yt = Ct                Yt ). With appropriate
subsidies and taxes, this output is distributed to factors in proportion to their relative productivity (and the
production ...rms make zero pure pro...ts).




                                                                       59
