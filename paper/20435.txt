                                NBER WORKING PAPER SERIES




        ASSESSING ASSET PRICING MODELS USING REVEALED PREFERENCE

                                          Jonathan B. Berk
                                      Jules H. van Binsbergen

                                        Working Paper 20435
                                http://www.nber.org/papers/w20435


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                     August 2014




We are grateful to John Cochrane, George Constantinides, Peter DeMarzo, Wayne Ferson, Ravi Jagannathan,
Lars Hansen, Tim McQuade, Lubos Pastor, Paul Pfleiderer, Monika Piazzesi, Anamaria Pieschacon,
Martin Schneider, Ken Singleton, Rob Stambaugh, and seminar participants at the 2015 AFA meetings,
Harvard, the Kellogg Junior Finance Conference, Notre Dame, Stanford GSB, the Stanford Institute
for Theoretical Economics (SITE), the University of Chicago and the University of Washington Summer
Finance Conference for their comments and suggestions. The views expressed herein are those of the
authors and do not necessarily reflect the views of the National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2014 by Jonathan B. Berk and Jules H. van Binsbergen. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.
Assessing Asset Pricing Models Using Revealed Preference
Jonathan B. Berk and Jules H. van Binsbergen
NBER Working Paper No. 20435
August 2014, Revised January 2015
JEL No. D14,D24,E2,E22,E44,G0,G00,G1,G10,G11,G12,G2,G20,G23

                                              ABSTRACT

We propose a new method of testing asset pricing models that relies on using quantities rather than
prices or returns. We use the capital flows into and out of mutual funds to infer which risk model investors
use. We derive a simple test statistic that allows us to infer, from a set of candidate models, the model
that is closest to the model that investors use in making their capital allocation decisions. Using this
methodology, we find that of the models most commonly used in the literature, the Capital Asset Pricing
Model is the closest. The finding that investors’ revealed preferences are most aligned with the Capital
Asset Pricing Model despite the fact that the model has been shown to perform poorly relative to other
models in explaining cross sectional variation in expected returns, is an important puzzle for future
research. We also document that a large fraction of mutual fund flows remain unexplained.


Jonathan B. Berk
Stanford University
Graduate School of Business
655 Knight Way
Stanford, CA 94306
and NBER
jonathan.b.berk@gmail.com

Jules H. van Binsbergen
Wharton School
University of Pennsylvania
3620 Locust Walk
Philadelphia, PA 19104
and NBER
julesv@wharton.upenn.edu
   All neoclassical capital asset pricing models assume that investors compete ﬁercely
with each other to ﬁnd positive net present value investment opportunities, and in doing
so, eliminate them. As a consequence of this competition, equilibrium prices are set so
that the expected return of every asset is solely a function of its risk. When a positive net
present value (NPV) investment opportunity presents itself in capital markets (that is, an
asset is mispriced relative to the model investors are using) investors react by submitting
buy or sell orders until the opportunity no longer exists (the mispricing is removed). These
buy and sell orders reveal the preferences of investors and therefore they reveal which asset
pricing model investors are using. By observing whether or not buy and sell orders occur in
reaction to the existence of positive net present value investment opportunities as deﬁned
by a particular asset pricing model, one can infer whether investors price risk using that
asset pricing model.
   There are two criteria that are required to implement this methodology. First, one
needs a mechanism that identiﬁes positive net present value investment opportunities.
Second, one needs to be able to observe investor reactions to these opportunities. We
demonstrate that we can satisfy both criteria if we implement the methodology using
mutual fund data. Under the assumption that a particular asset pricing model holds,
we use the main insight from Berk and Green (2004) to show that positive (negative)
abnormal return realizations in a mutual fund investment must be associated with positive
net present value buying (selling) opportunities. We then measure investor reactions to
these opportunities by observing the subsequent capital ﬂow into (out of) mutual funds.
   Using this methodology, we derive a simple test statistic that allows us to infer, from
a set of candidate models, the model that is closest to the asset pricing model investors
are actually using. Our test can be implemented by running a simple univariate ordi-
nary least squared regression using the t-statistic to assess statistical signiﬁcance. We
take as the set of candidate models, the Capital Asset Pricing Model (CAPM), orig-
inally derived by Sharpe (1964), Lintner (1965) and Mossin (1966), the reduced form
factor models speciﬁed by Fama and French (1993) and Carhart (1997) and the dynamic
equilibrium models derived by Merton (1973), Breeden (1979), Campbell and Cochrane
(1999), Epstein and Zin (1991) and Bansal and Yaron (2004).
   We ﬁnd that the CAPM is the closest model to the model that investors use to make
their capital allocation decisions. Importantly, the CAPM better explains ﬂows than
no model at all, indicating that investors do price risk. Most surprisingly, the CAPM
also outperforms a naive model in which investors ignore beta and simply chase any
outperformance relative to the market portfolio. Investors’ capital allocation decisions
reveal that they measure risk using the CAPM beta.

                                             1
   Our result, that investors appear to be using the CAPM to make their investment
decisions, is very surprising in light of the well documented failure of the CAPM to
adequately explain the cross-sectional variation in expected stock returns. Although,
ultimately, we leave this as a puzzle to be explained by future research, we do note that
much of the ﬂows in and out of mutual funds remain unexplained. To that end the paper
leaves as an unanswered question whether the unexplained part of ﬂows result because
investors use a superior, yet undiscovered, risk model, or whether investors use other,
non-risk based, criteria to make investment decisions.
  It is important to emphasize that implementing our test requires accurate measure-
ment of the variables that determine the Stochastic Discount Factor (SDF). In the case
of the CAPM, the SDF is measured using market prices which contain little or no mea-
surement error, and more importantly, can be observed by investors as accurately as by
empiricists. Testing the dynamic equilibrium models relies on observing variables such
as consumption, which investors can measure precisely (they presumably know their own
consumption) but empiricists cannot, particularly over short horizons. Consequently our
tests cannot diﬀerentiate whether these models underperform because they rely on vari-
ables that are diﬃcult to measure, or because the underlying assumptions of these models
are ﬂawed.
    Because we implement our methodology using mutual fund data, one might be tempted
to conclude that our tests only reveal the preferences of mutual fund investors, rather than
all investors. But this is not the case. When an asset pricing model correctly prices risk,
it rules out positive net present value investment opportunities in all markets. Even if
no investor in the market with a positive net present value opportunity uses the asset
pricing model under consideration, so long as there are investors in other markets that
use the asset pricing model, those investors will recognize the positive net present value
opportunity and will act to eliminate it. That is, if our test rejects a particular asset
pricing model, we are not simply rejecting the hypothesis that mutual fund investors use
the model, but rather, we are rejecting the hypothesis that any investor who could invest
in mutual funds uses the model.
   Of course, the possibility exists that investors are not using a risk model to price
assets. In that case our tests only reveal the preferences of mutual fund investors because
it is possible, in this world, for investors in other markets to be uninterested in exploiting
positive net present value investment opportunities in the mutual fund market. However,
mutual fund investors actually represent a very large fraction of all investors. In 2013,
46% percent of households invested in mutual funds. More importantly, this number rises


                                              2
to 81% for households with income that exceeds $100,000.1
    The ﬁrst paper to use mutual fund ﬂows to infer investor preferences is Guercio and Tkac
(2002). Although the primary focus of their paper is on contrasting the inferred behavior
of retail and institutional investors, that paper documents ﬂows respond to outperfor-
mance relative to the CAPM. The paper does not consider other risk models. In work
subsequent to ours, Barber, Huang, and Odean (2014) conﬁrm our result (implementing
the approach using a diﬀerent methodology) that the investors use the CAPM rather than
the other reduced form factor models that have been proposed. They do not consider the
dynamic equilibrium models, nor do they consider the possibility that investors use no
model at all, and so do not show that risk-based models better explain ﬂows than either
the behavioral model that investors just chase past returns or a model of risk neutrality.2


1         A New Asset Pricing Test
The core idea that underlies every neoclassical asset pricing model in economics is that
prices are set by agents chasing positive net present value investment opportunities. When
ﬁnancial markets are perfectly competitive, these opportunities are competed away so
that, in equilibrium, prices are set to ensure that no positive net present value opportuni-
ties exist. Prices respond to the arrival of new information by instantaneously adjusting
to eliminate any positive net present value opportunities that arise. It is important to ap-
preciate that this price adjustment process is part of all neoclassical asset pricing models,
either explicitly (if the model is dynamic) or implicitly (if the model is static). The output
of all these models – a prediction about expected returns – relies on the assumption that
this price adjustment process occurs.
        The importance of this price adjustment process has long been recognized by ﬁnancial
economists and forms the basis of the event study literature. In that literature, the
asset pricing model is assumed to be correctly identiﬁed. In that case, because there
are no positive net present value opportunities, the price change that results from new
information (i.e., the part of the change not explained by the asset pricing model) measures
the value of the new information.

   Because prices always adjust to eliminate positive net present value investment oppor-
tunities, under the correct asset pricing model, expected returns are determined by risk
    1
     As reported in the 2014 Investment Company Fact Book, Chapter Six, Figures 6.1 and 6.5 (see
http://www.icifactbook.org).
   2
     Readers interested in the exact chronology can consult “Note on the relation between the chronology
of Barber, Huang and Odean and this paper” located at http://www.gsb.stanford.edu/faculty-research/working-paper



                                               3
alone. Modern tests of asset pricing theories test this powerful insight using return data.
Rejection of an asset pricing theory occurs if positive net present value opportunities are
detected, or, equivalently, if investment opportunities can be found that consistently yield
returns in excess of the expected return predicted by the asset pricing model. The most
important shortcoming in interpreting the results of these tests is that the empiricist is
never sure that a positive net present value investment opportunity that is identiﬁed ex
post was actually available ex ante.3

   An alternative testing approach, that does not have this shortcoming, is to identify
positive net present value investment opportunities ex ante and test for the existence of
an investor response. That is, do investors react to the existence of positive net present
value opportunities that result from the revelation of new information? Unfortunately,
for most ﬁnancial assets, investor responses to positive net present value opportunities are
diﬃcult to observe. As Milgrom and Stokey (1982) show, the price adjustment process
can occur with no transaction volume whatsoever, that is, competition is so ﬁerce that
no investor beneﬁts from the opportunity. Consequently, for most ﬁnancial assets the
only observable evidence of this competition is the price change itself. Thus testing for
investor response is equivalent to standard tests of asset pricing theory that use return
data to look for the elimination of positive net present value investment opportunities.
   The key to designing a test to directly detect investor responses to positive net present
value opportunities is to ﬁnd an asset for which the price is ﬁxed. In this case the market
equilibration must occur through volume (quantities). A mutual fund is just such an
asset. The price of a mutual fund is always ﬁxed at the price of its underlying assets, or
the net asset value (NAV). In addition, fee changes are rare. Consequently, if, as a result
of new information, an investment in a mutual fund represents a positive net present
value investment opportunity, the only way for investors to eliminate the opportunity is
by trading the asset. Because this trade is observable, it can be used to infer investments
investors believe to be positive net present value opportunities. One can then compare
those investments to the ones the asset pricing model under consideration identiﬁes to
be positive net present value and thereby infer whether investors are using the asset
pricing model. That is, by observing investors’ revealed preferences in their mutual fund
investments, we are able to infer information about what (if any) asset pricing model they
are using.
  3
      For an extensive analysis of this issue, see Harvey, Liu, and Zhu (2014).




                                                      4
1.1     The Mutual Fund Industry
Mutual fund investment represents a large and important sector in U.S. ﬁnancial markets.
In the last 50 years there has been a secular trend away from direct investing. Individual
investors used to make up more than 50% of the market, today they are responsible for
barely 20% of the total capital investment in U.S. markets. During that time, there has
been a concomitant rise in indirect investment, principally in mutual funds. Mutual funds
used to make up less than 5% of the market, today they make up 1/3 of total investment.4
Today, the number of mutual funds that trade in the U.S. outnumber the number of stocks
that trade.

   Berk and Green (2004) derive a model of how the market for mutual fund investment
equilibrates that is consistent with the observed facts.5 They start with the observation
that the mutual fund industry is like any industry in the economy — at some point it
displays decreasing returns to scale.6 Given the assumption under which all asset pricing
models are derived (perfectly competitive ﬁnancial markets), this observation immediately
implies that all mutual funds must have enough assets under management so that they
face decreasing returns to scale. When new information arrives that convinces investors
that a particular mutual fund represents a positive net present value investment, investors
react by investing more capital in the mutual fund. This process continues until enough
new capital is invested to eliminate the opportunity. As a consequence, the model is
able to explain two robust empirical facts in the mutual fund literature: that mutual
fund ﬂows react to past performance while future performance is largely unpredictable.7
Investors chase past performance because it is informative: mutual fund managers that
do well (poorly) have too little (much) capital under management. By competing to
take advantage of this information, investors eliminate the opportunity to predict future
performance.

    A key assumption of the Berk and Green (2004) model is that mutual fund managers
are skilled and that this skill varies across managers. Berk and van Binsbergen (2013)
verify this fact. They demonstrate that such skill exists and is highly persistent. More
importantly, for our purposes, they demonstrate that mutual fund ﬂows contain useful
information. Not only do investors systematically direct ﬂows to higher skilled managers,
  4
     See French (2008).
  5
     Stambaugh (2014) derives a general equilibrium version of this model based on the model in
Pastor and Stambaugh (2012).
   6
     Pastor, Stambaugh, and Taylor (2014) provide empirical evidence supporting this assumption.
   7
     An extensive literature has documented that capital ﬂows are responsive to past returns (see
Chevalier and Ellison (1997) and Sirri and Tufano (1998)) and future investor returns are largely un-
predictable (see Carhart (1997)).


                                                 5
but managerial compensation, which is primarily determined by these ﬂows, predicts
future performance as far out as 10 years. Investors know who the skilled managers are
and compensate them accordingly. It is this observation that provides the starting point
for our analysis. Because the capital ﬂows into mutual funds are informative, they reveal
the asset pricing model investors are using.


1.2    Private Information
Most asset pricing models are derived under the assumption that all investors are sym-
metrically informed. Hence, if one investor faces a positive NPV investment opportunity,
all investors face the same opportunity and so it is instantaneously removed by competi-
tion. The reality is somewhat diﬀerent. The evidence in Berk and van Binsbergen (2013)
of skill in mutual fund management implies that at least some investors have access to
diﬀerent information or have diﬀerent abilities to process information. As a result, under
the information set of this small set of informed investors, not all positive net present
value investment opportunities are instantaneously competed away.
   As Grossman (1976) argued, in a world where there are gains to collecting information
and information gathering is costly, not everybody can be equally informed in equilibrium.
If everybody chooses to collect information, competition between investors ensures that
prices reveal the information and so information gathering is unproﬁtable. Similarly, if
nobody collects information, prices are uninformative and so there are large proﬁts to
be made collecting information. Thus, in equilibrium, investors must be diﬀerentially
informed (see, e.g., Grossman and Stiglitz (1980)). Investors with the lowest information
gathering costs collect information so that, on the margin, what they spend on information
gathering, they make back in trading proﬁts. Presumably these investors are few in
number so that the competition between them is limited, allowing for the existence of
prices that do not fully reveal their information. As a result, information gathering is a
positive net present value endeavor for a limited number of investors.

   The existence of asymmetrically informed investors poses a challenge for empiricists
wishing to test asset pricing models derived under the assumption of symmetrically in-
formed investors. Clearly, the empiricist’s information set matters. For example, asset
pricing models fail under the information set of the most informed investor, because the
key assumption that asset markets are competitive is false under that information set.
Consequently, the standard in the literature is to assume that the information set of the
uninformed investors only contains publicly available information all of which is already
impounded in all past and present prices, and to conduct the test under that information


                                               6
set. For now, we will adopt the same strategy but will revisit this assumption in Section
5.2, where we will explicitly consider the possibility that the majority of investors’ infor-
mation sets includes more information than just what is already impounded in past and
present prices.


1.3     Methodology
To formally derive our testing methodology, let qit denote assets under management
(AUM) of fund i at time t and let θi denote a parameter that describes the skill of the
manager of fund i.8 At time t, investors use the time t information set It to update their
beliefs on θi resulting in the distribution function gt (θi ) implying that the expectation of
θi at time t is:                                         
                                 θ̄it ≡ E [θi | It ] =       θi gt (θi ) dθi .                      (1)

We assume throughout that gt (·) is not a degenerate distribution function. Let Ritn denote
the excess return (that is, the net return in excess of the risk free rate) earned by investors
between time t − 1 and t. We take as our Null Hypothesis that a particular asset pricing
model holds. Let RitB denote the risk adjustment prescribed by this asset pricing model
over the same time interval. Note that qit , Ritn and RitB are elements of It . Let αit (q)
denote investors’ subjective expectation of the risk adjusted return they make, under the
Null Hypothesis, when investing in fund i that has size q between time t and t + 1, also
commonly referred to as the net alpha:

                                        αit (q) = θ̄it − hi (q) ,                                   (2)

where hi (q) is a strictly increasing function of q, reﬂecting the fact that, under the as-
sumptions underlying every asset pricing model, all mutual funds must face decreasing
returns to scale in equilibrium. Under the Null that the asset pricing model under con-
sideration holds perfectly, in equilibrium, the size of the fund qit adjusts to ensure that
there are no positive net present value investment opportunities so αit (qit ) = 0 and

                                             θ̄it = hi (qit ) .                                     (3)

At time t + 1, the investor observes the manager’s return outperformance,

                                       εit+1 ≡ Rit+1
                                                n
                                                     − Rit+1
                                                        B
                                                             ,                                      (4)
   8
    For expositional simplicity we do not allow θi to depend on qit . This assumption is without loss of
generality under the assumption that either the manager is allowed to borrow or can set his own fee, see
Berk and Green (2004).


                                                     7
which is a signal that is informative about θi . The conditional distribution function of
εit+1 at time t, f (εit+1 |αit (qit )), satisﬁes the following condition in equilibrium:
                                   
                E[εit+1 | It ] =       εit+1 f (εit+1 |αit (qit )) dεit+1 = αit (qit ) = 0.   (5)

Our testing methodology relies on the insight that, under the Null hypothesis, good news,
that is, εit > 0, implies good news about θi and bad news, εit < 0, implies bad news about
θi . The following proposition shows that, in expectation, this condition holds generally.
That is, on average, a positive (negative) realization of εit leads to a positive (negative)
update on θi implying that before the capital response, the fund’s alpha will be positive
(negative).

Proposition 1 On average, a positive (negative) realization of εit leads to a positive
(negative) update on θi :
                                       E[αit+1 (qit )εit+1 | It ] > 0.



Proof:

                E[αit+1 (qit )εit+1 | It ] = E[E[αit+1 (qit )εit+1 | θi ] | It ]
                                             = E[(θi − hi (qit )) E[εit+1 | θi ] | It ]
                                             = E[(θi − hi (qit )) (θi − hi (qit )) | It ]
                                             > 0.



Unfortunately this proposition is not directly testable because αit+1 (qit ) is not observable.
Instead what we observe are the capital ﬂows that result when investors update their
beliefs. Our next objective is to restate the result in Proposition 1 in terms of capital
ﬂows.
    What Proposition 1 combined with (3) tells us is that positive (negative) news must,
on average, lead to an inﬂow (outﬂow). However, without further assumptions, we cannot
quantify the magnitude of the capital response. Rather than lose generality by making
further assumptions, we can sidestep this issue by focusing only on the direction of the
capital response. With that in mind we begin by ﬁrst deﬁning the function that returns
the sign of a real number, taking values 1 for a positive number, -1 for a negative number




                                                     8
and zero for zero:                          
                                                 x
                                                |x|
                                                      x = 0
                                   φ(x) ≡                      .
                                                0     x=0
Next, let the ﬂow of capital into mutual fund i at time t be denoted by Fit , that is,

                                     Fit+1 ≡ qit+1 − qit .

The following lemma proves that the sign of the capital inﬂow and the alpha inferred from
the information in εit+1 must be the same.

Lemma 1 The sign of the capital inﬂow and the alpha inferred from the information in
εit+1 must be the same:
                                  φ(Fit+1 ) = φ(αit+1 (qit )).



Proof:

                       φ(αit+1 (qit )) = φ(αit+1 (qit ) − αit+1 (qit+1 ))
                                       = φ(h(qit+1 ) − h(qit ))
                                       = φ(qit+1 − qit )
                                       = φ(Fit+1 ).

where the ﬁrst line follows from (5) and the third line ﬂows from the fact that h(q) is a
strictly increasing function.
   We are now ready to restate Proposition 1 as a testable prediction.

Proposition 2 The regression coeﬃcient of the sign of the capital inﬂows on the sign of
the realized return outperformance is positive, that is,

                                     cov(φ(Fit+1 ), φ(εit+1))
                            βF ε ≡                            > 0.                       (6)
                                         var(φ(εit+1 ))



Proof: See appendix.
This proposition provides a testable prediction and thus a new method to reject an asset
pricing model. Under our methodology, we deﬁne a model as working when investors’
revealed preferences indicate that they are using that model to update their inferences
of positive net present value investment opportunities. Because ﬂows reveal investor

                                                9
preferences, a measure of whether investors are using a particular asset pricing model
is the fraction of decisions for which outperformance (as deﬁned by the model) implies
capital inﬂows and underperformance implies capital outﬂows. The next Lemma shows
that βF ε is a simple linear transformation of this measure.

Lemma 2 The regression coeﬃcient of the sign of the capital inﬂows on the sign of the
realized return outperformance can be expressed as follows:

        βF ε = Pr [φ (Fit ) = 1 | φ (εit ) = 1] + Pr [φ (Fit ) = −1 | φ (εit ) = −1] − 1
              = Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1] .




Proof: See appendix.
   On a practical level, many of the asset pricing models we will consider nest each other.
As we will see, we will not be able to reject the Null hypothesis that any of the models
we will consider is the true asset pricing model. In that case a natural question to ask
is whether a model is “better” than the model it nests. By better we mean the model
that comes closest to pricing risk correctly. To formalize this concept, we ﬁrst assume
that a true risk model exists. That is, that the expected return of every asset in the
economy is a function only of the risk of that asset. Next we consider a set of candidate
risk models, indexed by c ∈ C, such that the risk adjustment of each model is given by
Ritc , so risk-adjusted performance is given by:

                                            εcit = Ritn − Ritc .

Because at most only one element of the set of candidate risk models can be the true risk
model, the rest of the models in C do not fully capture risk. We refer to these models
as false risk models. We will maintain the assumption throughout this paper that if a
true risk model exists, any false risk model cannot have additional explanatory power for
capital allocation decisions:

                      Pr [φ (Fit ) | φ (εit ) , φ (εcit )] = Pr [φ (Fit ) | φ (εit )] .    (7)

Under the assumption that expected returns are a function of risk alone (i.e., that a true
risk model exists), there are no other reasons for ﬂows to occur other than to exploit
positive NPV opportunities. For a false risk model c ∈ C, let βF c be the signed ﬂow-



                                                    10
performance regression coeﬃcient of that model, that is,

                                          cov (φ (Fit ) , φ (εcit ))
                                 βF c ≡                              .
                                              var (φ (εcit ))

Notice, from Lemma 2, that −1 ≤ βF c ≤ 1. When outperformance relative to asset
pricing model c is uninformative about ﬂows, that is, Pr [φ (Fit ) | φ (εit )] = Pr [φ (Fit )],
then βF c = 0.
    The next proposition proves that the regression coeﬃcient of the true model (if it
exists) must exceed the regression coeﬃcient of a false model.

Proposition 3 The regression coeﬃcient of the sign of the capital inﬂows on the sign
of the realized return outperformance is maximized under the true model, that is, for any
false model c,
                                           βF ε > βF c .



Proof: See appendix.
    We are now ready to formally deﬁne what we mean by a model that comes closest to
pricing risk. The following deﬁnition deﬁnes the best model as the model that maximizes
the fraction of times outperformance by the candidate model implies outperformance by
the true model and the fraction of times underperformance by the candidate model implies
underperformance by the true model.

Deﬁnition 1 Model c is a better approximation of the true asset pricing model than model
d if and only if:

           Pr [φ (εit ) = 1 | φ (εcit ) = 1] + Pr [φ (εit ) = −1 | φ (εcit ) = −1]
                                                                            
            > Pr φ (εit ) = 1 | φ εdit = 1 + Pr φ (εit ) = −1 | φ εdit = −1 .              (8)

With this deﬁnition in hand we now show that the models can be ranked by their regression
coeﬃcients.

Proposition 4 Model c is a better approximation of the true asset pricing model than
model d if and only if βF c > βF d .

Proof: See appendix.
   The next proposition provides an easy method for empirically distinguishing between
candidate models.

                                                 11
                                                                        φ(εcit )           φ(εdit )
Proposition 5 Consider an OLS regression of φ (Fit ) onto          var (φ(εcit ))
                                                                                    −   var (φ(εdit ))
                                                                                                         :

                                                                
                                             φ (εcit )        φ εdit
                  φ (Fit ) = γ0 + γ1                      −              + ξit
                                           var (φ (εcit )) var φ εdit

The coeﬃcient of this regression is positive, that is, γ1 > 0, if and only if, model c is a
better approximation of the true asset pricing model than model d.

Proof: See appendix



2    Asset Pricing Models
All asset pricing models assume competitive capital markets and fully rational investors.
Under our Null Hypothesis we assume that the asset pricing model holds implying that
these assumptions also hold. That is, although these assumptions are clearly restrictive, it
is important to emphasize that they are not part of our testing methodology, but instead
are imposed on us by the models we test. Conceivably our methodology could be applied
to behavioral models in which case these assumptions would not be required.
   Our testing methodology can be applied to both reduced-form asset pricing models,
such as the factor models proposed by Fama and French (1993) and Carhart (1997), as
well as to dynamic equilibrium models, such as the consumption CAPM (Breeden (1979)),
habit formation models (Campbell and Cochrane (1999)) and long run risk models that
use recursive preferences (Epstein and Zin (1991) and Bansal and Yaron (2004)). For the
CAPM and factor models, RitB is speciﬁed by the beta relationship. We regress the excess
returns to investors, Ritn , on the risk factors over the life of the fund to get the model’s
betas. We then use the beta relation to calculate RitB at each point in time. For example,
for the Fama-French-Carhart factor speciﬁcation, the risk adjustment RitB is then given
by:
                RitB = βimkt MKTt + βisml SMLt + βihml HMLt + βiumd UMDt ,

where MKTt , SMLt , HMLt and UMDt are the realized excess returns on the four factor
portfolios deﬁned in Carhart (1997). Using this risk adjusted return, we calculate (4) over
a T -period horizon (T > 1) as follows:

                                       t
                           εit =                   n
                                             (1 + Ris − RitB )   − 1.                                        (9)
                                   s=t−T +1




                                                 12
    The returns of any dynamic equilibrium model must satisfy the following Euler equa-
tion in equilibrium:
                                                n
                                      Et [Mt+1 Rit+1 ] = 0,                                  (10)

where Mt > 0 is the stochastic discount factor (SDF) speciﬁed by the model. When this
condition is violated a positive net present value investment opportunity exists.
   The dynamic equilibrium models we consider are all derived under the assumption of a
representative investor. Of course, this assumption does not presume that all investors are
identical. When investors are not identical, it is possible that they do not share the same
SDF. Even so, it is important to appreciate that, in equilibrium, all investors nevertheless
agree on the existence of a positive net present value investment opportunity. That is, if
(10) is violated, it is violated for every investor’s SDF.9 Because our testing methodology
only relies on the existence of this net present value investment opportunity, it is robust
to the existence of investor heterogeneity.
      The outperformance measure for fund i at time t is therefore

                                                     n
                                     αit = Et [Mt+1 Rit+1 ].                                 (11)

Notice that αit > 0 is a buying (selling) opportunity and so capital should ﬂow into
(out of) such opportunities. We calculate the outperformance relative to the equilibrium
models over a T -period horizon as follows:

                                                   t
                                            1                  n
                                    εit =                  Ms Ris .                          (12)
                                            T   s=t−T +1


Notice that in this case T must be greater than one because when T = 1, φ(εit ) is not a
function of Ms .
      To compute these outperformance measures, we must compute the stochastic discount
factor for each model at each point in time. For the consumption CAPM, the stochastic
discount factor is:                                −γ
                                              Ct
                                  Mt = β              ,
                                             Ct−1
where β is the subjective discount rate and γ is the coeﬃcient of relative risk aversion.
The calibrated values we use are given in the top panel of Table 1. We use the standard
data from the Bureau of Economic Analysis (NIPA) to compute consumption growth of
non-durables and services.
  9
    In an incomplete market equilibrium investors may use diﬀerent SDFs but the projection of each
investor’s SDF onto the asset space is the same.

                                                  13
    For the long-run risk model as proposed by Bansal and Yaron (2004), the stochastic
discount factor is given by:

                                               −ψ
                                                θ
                                         Ct
                             Mt = δ θ               (1 + Rta )−(1−θ) .
                                        Ct−1

where Rta is the return on aggregate wealth and where θ is given by:

                                               1−γ
                                          θ≡          .
                                               1 − ψ1

The parameter ψ measures the intertemporal elasticity of substitution (IES). To construct
the realizations of the stochastic discount factor, we use parameter values for risk aversion
and the IES commonly used in the long-run risk literature, as summarized in the middle
panel of Table 1. In addition to these parameter values, we need data on the returns to
the aggregate wealth portfolio. There are two ways to construct these returns. The ﬁrst
way is to estimate (innovations to) the stochastic volatility of consumption growth as well
as (innovations to) expected consumption growth, which combined with the parameters
of the long-run risk model lead to proxies for the return on wealth. The second way is
to take a stance on the composition of the wealth portfolio, by taking a weighted average
of traded assets. In this paper, we take the latter approach and form a weighted average
of stock returns (as represented by the CRSP value-weighted total market portfolio) and
long-term bond returns (the returns on the Fama-Bliss long-term bond portfolio (60-
120 months)) to compute the returns on the wealth portfolio. Given the calibration in
Table 1, the implied value of θ is large making the SDF very sensitive to the volatility
of the wealth portfolio. Because the volatility of the wealth portfolio is sensitive to the
relative weighting of stocks and bonds, we calculate the SDF over a range of weights
(denoted by w) to assess the robustness with respect to this assumption.10

    For the Campbell and Cochrane (1999) habit formation model, the stochastic discount
factor is given by:
                                                   −γ
                                         C t St
                              Mt = δ                  ,
                                        Ct−1 St−1
where St is the consumption surplus ratio. The dynamics of the log consumption surplus
ratio st are given by:

                      st = (1 − φ)s̄ + φst−1 + λ (st−1 ) (ct − ct−1 − g) ,
  10
    See Lustig, Van Nieuwerburgh, and Verdelhan (2013) for a discussion on the composition of the
wealth portfolio and the importance of including bonds.



                                               14
    Consumption CAPM
    Subj. disc. factor Risk aversion
            β                γ
         0.9989             10

    Epstein Zin preferences (LRR)
    Subj. disc. factor Risk aversion      IES        Weight in bonds
            δ                 γ            ψ                w
         0.9989              10           1.5         0%, 70%, 90%

    Habit formation preferences
    Subj. disc. factor Risk aversion   Mean growth   Habit persistence   Consumption vol
            δ                γ              g                φ                  σ
         0.9903              2           0.0020           0.9885             0.0076


Table 1: Parameter Calibration The table shows the calibrated parameters for the
three structural models that we test: power utility over consumption (the consumption
CAPM), external habit formation preferences (as in Campbell and Cochrane (1999)) and
Epstein Zin preferences as in Bansal and Yaron (2004).

where s̄ is the steady state habit, φ is the persistence of the habit stock, ct the natural
logarithm of consumption at time t and g is the average consumption growth rate. We set
all the parameters of the model to the values proposed in Campbell and Cochrane (1999),
but we replace the average consumption growth rate g, as well as the consumption growth
rate volatility σ with their sample estimates over the full available sample (1959-2011),
as summarized in the bottom panel of Table 1. To construct the consumption surplus
ratio data, we need a starting value. As our consumption data starts in 1959, which is
long before the start of our mutual fund data in 1977, we have a suﬃciently long period
to initialize the consumption surplus ratio. That is, in 1959, we set the ratio to its steady
state value s̄ and construct the ratio for the subsequent periods using the available data
that we have. Because the annualized value of the persistence coeﬃcient is 0.87, the
weight of the 1959 starting value of the consumption surplus ratio in the 1977 realization
of the stochastic discount factor is small and equal to 0.015.


3      Results
We use the mutual fund data set in Berk and van Binsbergen (2013). The data set spans
the period from January 1977 to March 2011. We remove all funds with less than 5 years



                                             15
of data leaving 4394 funds.11 Berk and van Binsbergen (2013) undertook an extensive
data project to address several shortcomings in the CRSP database by combining it with
Morningstar data, and we refer the reader to the data appendix of that paper for the
details.
    To implement the tests derived in Propositions 2 and 5 it is necessary to pick an
observation horizon. For most of the sample, funds report their AUMs monthly, however
in the early part of the sample many funds report their AUMs only quarterly. In order
not to introduce a selection bias by dropping these funds, the shortest horizon we will
consider is three months. Furthermore, as pointed out above, we need a horizon length of
more than a month to compute the outperformance measure for the dynamic equilibrium
models. If investors react to new information immediately, then ﬂows should immediately
respond to performance and the appropriate horizon to measure the eﬀect would be the
shortest horizon possible. But in reality there is evidence that investors do not respond
immediately. Mamaysky, Spiegel, and Zhang (2008) show that the net alpha of mutual
funds is predictably non-zero for horizons shorter than a year, suggesting that capital
does not move instantaneously. There is also evidence of investor heterogeneity because
some investors appear to update faster than others.12 For these reasons, we also consider
longer horizons (up to four years). The downside of using longer horizons is that longer
horizons tend to put less weight on investors who update immediately, and these investors
are also the investors more likely to be marginal in setting prices.
   The ﬂow of funds is important in our empirical speciﬁcation because it aﬀects the
alpha generating technology as speciﬁed by h(·). Consequently, we need to be careful to
ensure that we only use the part of capital ﬂows that aﬀects this technology. For example,
it does not make sense to include as an inﬂow of funds, increases in fund sizes that result
from inﬂation because such increases are unlikely to aﬀect the alpha generating process.
Similarly, the fund’s alpha generating process is unlikely to be aﬀected by changes in size
that result from changes in the price level of the market as a whole. Consequently, we
will measure the ﬂow of funds over a horizon of length T as

                                        qit − qit−T (1 + RitV ),

where RitV is the cumulative return to investors of the appropriate Vanguard benchmark
fund as deﬁned in Berk and van Binsbergen (2013) over the horizon from t − T to t.
This benchmark fund is constructed by projecting fund i’s return onto the space spanned
  11
     We chose to remove these funds to ensure that incubation ﬂows do not inﬂuence our results. Changing
the criterion to 2 years does not change our results. These results are available on request.
  12
     See Berk and Tonks (2007).

                                                  16
−1       −0.8     −0.6     −0.4     −0.2       0        0.2     0.4       0.6      0.8      1



Figure 1: Correlation Between Funds
The histogram displays the distribution of the pairwise correlation coeﬃcients between funds of outper-
formance relative to the Vanguard benchmark.


by the set of available Vanguard index funds which can be interpreted as the investor’s
alternative investment opportunity. Thus, in our empirical speciﬁcation, we only consider
capital ﬂows into and out of funds net of what would have happened had investors not
invested or withdrawn capital and had the fund manager adopted a purely passive strategy.
  We begin by examining the correlation structure of performance between mutual funds.
One would not expect mutual fund strategies to be highly correlated because otherwise
the informational rents would be competed away. It is nevertheless important that we
check that this is indeed the case, because otherwise our assumption that h(·) is a function
of the size of the fund (rather than the size of the industry) would be subject to ques-
tion. To examine this correlation, we calculate outperformance relative to the Vanguard
benchmark deﬁned in Berk and van Binsbergen (2013), that is, for each fund we calcu-
late εit using the Vanguard benchmark. We then compute the correlation coeﬃcients of
outperformance between every fund in our sample for which the two funds have at least
4 years of overlapping data. Figure 1 is a histogram of the results. It is clear from the
ﬁgure that managers are not using the same strategies — the average correlation between
the funds in our sample is 0.03. Furthermore, 43% of funds are negatively correlated and
the fraction of funds that have large positive correlation coeﬃcients is tiny (only 0.55%
of funds have a correlation coeﬃcient over 50%).
     We implement our tests as follows. For each model, c, in each fund, i, we compute
monthly outperformance, εcit , as we explained in Section 2. That is, for the factor models
we generate the outperformance measure for the horizon by using (9) and for the dy-
namic equilibrium models, we use (12). At the end of this process we have a fund ﬂow
and outperformance observation for each fund over each measurement horizon. We then
implement the test in Proposition 2 by estimating βF ε for each model by running a single


                                                   17
 Model                                                         Horizon
                                      3 month       6 month   1 year 2 year     3 year   4 year

                                   Market Models (CAPM)
 CRSP Value Weighted                  63.21     63.08  63.07          62.98     62.36    62.34
 S&P 500                              62.04     61.47   61.25         61.05     59.96    59.65

                                           No Model
 Return                                 58.52    58.72        58.87    59.80    60.64    60.69
 Excess Return                          58.17    58.49        58.80    60.37    60.98    60.58
 Return in Excess of the Market         61.75    61.37        61.18    61.07    60.71    60.43

                                      Multifactor Models
 FF                                    62.94      62.52       62.63    62.96    62.56    61.85
 FFC                                   63.02      62.63       62.81    62.72    62.31    61.98

                          Dynamic Equilibrium Models
 C-CAPM                        58.18      58.35  58.68                 60.07    60.59    60.54
 Habit                         58.14      58.23  58.64                 60.00    60.67    60.43
 Long Run Risk – 0% Bonds      57.30      58.32  59.31                 62.07    61.43    58.63
 Long Run Risk – 70% Bonds     57.07      57.53  58.56                 58.06    58.20    59.33
 Long Run Risk – 90% Bonds     57.14      57.70  58.81                 59.05    59.59    60.04


Table 2: Flow of Funds Outperformance Relationship (1977-2011): The table
reports estimates of (6) for diﬀerent asset pricing models. For ease of interpretation,
the table reports (βF ε + 1)/2 in percent, which by Lemma 2 is equivalent to the aver-
age conditional probability that the sign of outperformance matches the sign of the fund
inﬂow: (Pr [φ (Fit ) = 1 | φ (εit ) = 1] + Pr [φ (Fit ) = −1 | φ (εit ) = −1])/2. Each row corre-
sponds to a diﬀerent risk model. The ﬁrst two rows report the results for the market
model (CAPM) using the CRSP value weighted index and the S&P 500 index as the
market portfolio. The next three lines report the results of using as the benchmark re-
turn, three rules of thumb: (1) the fund’s actual return, (2) the fund’s return in excess
of the risk free rate, and (3) the fund’s return in excess of the return on the market as
measured by the CRSP value weighted index. The next two lines are the Fama-French
(FF) and Fama-French-Carhart (FFC) factor models. The ﬁnal four lines report the re-
sults for the dynamic equilibrium models: the Consumption CAPM (C-CAPM), the habit
model derived by Campbell and Cochrane (1999), and the long run risk model derived
by Bansal and Yaron (2004). For the long run risk model we consider three diﬀerent ver-
sions, depending on the portfolio weight of bonds in the aggregate wealth portfolio. The
maximum number in each column (the best performing model) is shown in bold face.




                                               18
                                                    Horizon (months)
 3                     6                    12               24                 36               48

 CAPM                  CAPM                 CAPM             CAPM          FF                    CAPM
 FFC                   FFC                  FFC              FF            CAPM                  FFC
 FF                    FF                   FF               FFC           FFC                   FF
 CAPM SP500            CAPM SP500           CAPM SP500       LRR 0         LRR 0                 Return
 Excess Market         Excess Market        Excess Market    Excess Market Excess Return         Excess Return
 Return                Return               LRR 0            CAPM SP500 Excess Market            C-CAPM
 C-CAPM                Excess Return        Return           Excess Return Habit                 Habit
 Excess Return         C-CAPM               LRR 90           C-CAPM        Return                Excess Market
 Habit                 LRR 0                Excess Return    Habit         C-CAPM                LRR 90
 LRR 0                 Habit                C-CAPM           Return        CAPM SP500            CAPM SP500
 LRR 90                LRR 90               Habit            LRR 90        LRR 90                LRR 70
 LRR 70                LRR 70               LRR 70           LRR 70        LRR 70                LRR 0


Table 3: Model Ranking: The table shows the ranking of all the models at each time
horizon. Factor models are shown in red, dynamic equilibrium models in blue, and black
entries are models that have not been formally derived. The CAPM is coded in both red
and blue since it can be interpreted as both a factor model and an equilibrium model.
The number following the long run risk models denotes the percentage of the wealth
portfolio invested in bonds.



linear regression. Table 2 reports our results. For ease of interpretation, the table reports

            βF ε + 1   Pr [φ (Fit ) = 1 | φ (εit ) = 1] + Pr [φ (Fit ) = −1 | φ (εit ) = −1]
                     =                                                                       ,
                2                                         2

that is, the average conditional probability that the sign of outperformance matches the
sign of the fund inﬂow. If ﬂows and outperformance are unrelated, we would expect this
measure to equal 50%, that is, βF ε = 0. The main takeaway from Table 2 is that none of
our candidate models can be rejected based on Proposition 2, that is, βF ε is signiﬁcantly
greater than zero in all cases,13 implying that regardless of the risk adjustment, a ﬂow-
performance relation exists. On the other hand, none of the models performs better than
64%. It appears that a large fraction of ﬂows remain unexplained. Investors appear to be
using other criteria to make a non-trivial fraction of their investment decisions.
  Which model best approximates the true asset pricing model? Table 3 ranks each
model by its βF c . The best performing model, at almost all horizons, is the CAPM with
the CRSP value weighted index as the market proxy. To assess whether this ranking
 13
      Table 4 reports the double clustered t-statistics.


                                                      19
reﬂects statistically signiﬁcant diﬀerences, we implement the pairwise linear regression
speciﬁed in Proposition 5 and report the double clustered t-statistics of these regressions
in Table 4.
   We begin by ﬁrst focusing on the behavioral model that investors just react to past
returns, the column marked “Ret” in the table. By looking down that column in Table
4 one can see that the factor models all statistically signiﬁcantly outperform this model
at horizons of two years or less. For example, the t-statistic that βF,CAP M > βF,Ret at the
3-month horizon is 7.01, indicating that we can reject the hypothesis that the behavioral
model is a better approximation of the true model than the CAPM. Based on these results,
we can reject the hypothesis that investors just react to past returns. The next possibility
is that investors are risk neutral. In an economy with risk neutral investors we would
ﬁnd that the excess return best explains ﬂows, so the performance of this model can be
assessed by looking at the columns labeled “Ex. Ret.” Notice that all the risk models
nest this model, so to conclude that a risk model better approximates the true model, the
risk model must statistically outperform this model. The factor models all satisfy this
criterion, allowing us to conclude that investors are not risk neutral. Unfortunately, none
of the dynamic asset pricing model satisfy this criterion. Finally, one might hypothesize
that investors benchmark their investments relative to the market portfolio alone, that
is, they do not adjust for any risk diﬀerences (beta) between their investment and the
market. The performance of this model is reported in the column labeled “Ex. Mkt.”
Again, all the factor models statistically signiﬁcantly outperform this model — investors
actions reveal that they adjust for risk using beta.
   Our results also allow us to discriminate between the factor models. Recall that both
the FF and FFC factor speciﬁcations nest the CAPM, so to conclude that either factor
model better approximates the true model, it must statistically signiﬁcantly outperform
the CAPM. The test of this hypothesis is in the columns labeled “CAPM.” Neither factor
model statistically outperforms the CAPM at any horizon. Indeed, at all horizons other
than 3 years, the CAPM actually outperforms both factor models. What this implies is
that the additional factors add no more explanatory power for ﬂows.
   The relative performance of the dynamic equilibrium models is poor. We can conﬁ-
dently reject the hypothesis that any of these models is a better approximation of the
true model than the CAPM. But this result should be interpreted with caution. These
models rely on variables like consumption which are notoriously diﬃcult for empiricists
to measure, but are observed perfectly by investors themselves.
    The evidence that investors appear to be using the CAPM is puzzling given the inabil-
ity of the CAPM to correctly account for cross-sectional diﬀerences in average returns.

                                            20
                                              Panel A: 3 Month Horizon
Model           βF ε    Univ     CAPM     FFC      FF       CAPM        Ex.     Ret      C-     Ex.     Habit   LRR     LRR     LRR
                        t-stat                              SP500       Mkt             CAPM    Ret              0       90      70

CAPM            0.264   35.82      0.00    0.81     1.22         6.36    9.08    7.01    8.16    8.25    8.20   9.87    10.02   10.59
FFC             0.260   37.38     -0.81    0.00     0.76         3.14    4.63    6.44    7.47    7.56    7.52   9.13    9.15     9.70
FF              0.259   38.02     -1.22   -0.76     0.00         2.89    4.48    6.28    7.30    7.38    7.34   8.99    9.02     9.55
CAPM SP500      0.241   28.41     -6.36   -3.14    -2.89         0.00    1.06    5.45    6.41    6.49    6.44   7.68    8.34     8.47
Excess Market   0.235   31.17     -9.08   -4.63    -4.48        -1.06   0.00    4.54    5.35     5.41    5.39   6.91    6.93     7.35
Return          0.170   14.92     -7.01   -6.44    -6.28        -5.45   -4.54    0.00    2.22    2.26    2.41   1.86    4.82     3.83
C-CAPM          0.163   13.94     -8.16   -7.47    -7.30        -6.41   -5.35   -2.22    0.00    0.16    1.32   1.43    4.12     3.31
Excess Return   0.163   14.00     -8.25   -7.56    -7.38        -6.49   -5.41   -2.26   -0.16    0.00    0.34   1.45    4.50     3.55
Habit           0.163   13.80     -8.20   -7.52    -7.34        -6.44   -5.39   -2.41   -1.32   -0.34    0.00   1.38    3.91     3.19
LRR 0           0.146   11.14     -9.87   -9.13    -8.99        -7.68   -6.91   -1.86   -1.43   -1.45   -1.38   0.00    0.31     0.54
LRR 90          0.143   11.91    -10.02   -9.15    -9.02        -8.34   -6.93   -4.82   -4.12   -4.50   -3.91   -0.31   0.00     0.29
LRR 70          0.141   11.46    -10.59   -9.70    -9.55        -8.47   -7.35   -3.83   -3.31   -3.55   -3.19   -0.54   -0.29   0.00


                                              Panel B: 6 Month Horizon
Model           βF ε    Univ     CAPM     FFC      FF       CAPM        Ex      Ret       Ex     C-     LRR     Habit   LRR     LRR
                        t-stat                              SP500       Mkt               Ret   CAPM     0               90      70

CAPM            0.262   35.28     0.00     1.71     2.12         8.60    9.10    5.83    6.96    7.06    6.56   7.26    8.60    9.63
FFC             0.253   35.68    -1.71     0.00     0.92         3.42    4.32    5.02    5.94    6.13    5.67   6.34    7.24    8.06
FF              0.250   36.56    -2.12    -0.92     0.00         3.03    4.11    4.83    5.71    5.88    5.46   6.08    7.08    7.92
CAPM SP500      0.229   25.67    -8.60    -3.42    -3.03         0.00    0.35    3.78    4.52    4.70    4.22   4.91    5.87    6.38
Excess Market   0.227   28.45    -9.10    -4.32    -4.11        -0.35   0.00    3.28    3.94     4.06    3.95   4.23    5.12    5.81
Return          0.174   14.39    -5.83    -5.02    -4.83        -3.78   -3.28    0.00    1.10    1.71    0.45   2.24    2.31    2.24
Excess Return   0.170   13.91    -6.96    -5.94    -5.71        -4.52   -3.94   -1.10    0.00    1.40    0.20   2.54    2.15    2.20
C-CAPM          0.167   13.73    -7.06    -6.13    -5.88        -4.70   -4.06   -1.71   -1.40    0.00    0.04   3.01    1.66    1.75
LRR 0           0.166   11.08    -6.56    -5.67    -5.46        -4.22   -3.95   -0.45   -0.20   -0.04    0.00   0.11    0.80    1.32
Habit           0.165   13.52    -7.26    -6.34    -6.08        -4.91   -4.23   -2.24   -2.54   -3.01   -0.11   0.00    1.32    1.49
LRR 90          0.154   11.97    -8.60    -7.24    -7.08        -5.87   -5.12   -2.31   -2.15   -1.66   -0.80   -1.32   0.00    0.45
LRR 70          0.151   11.52    -9.63    -8.06    -7.92        -6.38   -5.81   -2.24   -2.20   -1.75   -1.32   -1.49   -0.45   0.00


                                                  Panel C: 1 Year Horizon
Model           βF ε    Univ     CAPM     FFC      FF       CAPM        Ex      LRR       Ret   LRR     Ex       C-     Habit   LRR
                        t-stat                              SP500       Mkt      0               90     Ret     CAPM             70

CAPM            0.261   30.83     0.00     0.98     1.65         8.26    8.86    3.45    4.28    5.24    5.13   5.16    5.19    6.83
FFC             0.256   31.72    -0.98     0.00     1.32         4.45    4.75    3.10    4.04    4.82    4.82   4.93    4.96    6.09
FF              0.253   31.89    -1.65    -1.32     0.00         3.82    4.34    2.94    3.87    4.62    4.61   4.71    4.74    5.80
CAPM SP500      0.225   22.25    -8.26    -4.45    -3.82         0.00    0.21    1.91    2.58    3.07    3.05   3.15    3.19    3.98
Excess Market   0.224   23.54    -8.86    -4.75    -4.34        -0.21   0.00    1.80    2.20     2.61    2.60   2.68    2.72    3.51
LRR 0           0.186   9.65     -3.45    -3.10    -2.94        -1.91   -1.80    0.00    0.34    0.43    0.43   0.52     0.56   0.83
Return          0.177   12.54    -4.28    -4.04    -3.87        -2.58   -2.20   -0.34    0.00    0.07    0.20   0.55    0.66    0.38
LRR 90          0.176   12.14    -5.24    -4.82    -4.62        -3.07   -2.61   -0.43   -0.07    0.00    0.02   0.21    0.27    0.47
Excess Return   0.176   12.65    -5.13    -4.82    -4.61        -3.05   -2.60   -0.43   -0.20   -0.02    0.00   0.92    1.19    0.37
C-CAPM          0.174   12.44    -5.16    -4.93    -4.71        -3.15   -2.68   -0.52   -0.55   -0.21   -0.92   0.00    1.03    0.18
Habit           0.173   12.29    -5.19    -4.96    -4.74        -3.19   -2.72   -0.56   -0.66   -0.27   -1.19   -1.03   0.00    0.11
LRR 70          0.171   12.05    -6.83    -6.09    -5.80        -3.98   -3.51   -0.83   -0.38   -0.47   -0.37   -0.18   -0.11   0.00

                                                  Table continues on following page ...




                                                           21
                                                  Panel D: 2 Year Horizon
 Model           βF ε    Univ     CAPM     FF       FFC     LRR     Ex      CAPM    Ex       C-      Habit    Ret    LRR     LRR
                         t-stat                              0      Mkt     SP500   Ret     CAPM                      90      70

 CAPM            0.260   26.98     0.00    0.04      0.90    0.55    7.70    5.89    2.42    2.63     2.70    2.49   3.64    5.42
 FF              0.259   29.76    -0.04    0.00      1.36    0.52    5.54    3.76    2.39    2.59     2.66    2.48   3.63    5.17
 FFC             0.254   27.67    -0.90   -1.36      0.00    0.38    5.10    3.41    2.15    2.36     2.43    2.28   3.34    4.91
 LRR 0           0.241   12.42    -0.55   -0.52     -0.38    0.00    0.67    0.67    0.88    1.04     1.08    1.14   1.68    2.66
 Excess Market   0.221   21.77    -7.70   -5.54     -5.10   -0.67   0.00    0.04    0.63     0.87     0.93    0.96   1.76    3.10
 CAPM SP500      0.221   18.21    -5.89   -3.76     -3.41   -0.67   -0.04    0.00    0.67    0.93     1.00    1.02    1.82   3.12
 Excess Return   0.207   13.37    -2.42   -2.39     -2.15   -0.88   -0.63   -0.67    0.00    1.64     2.17    1.06   1.67    2.48
 C-CAPM          0.201   12.88    -2.63   -2.59     -2.36   -1.04   -0.87   -0.93   -1.64    0.00     0.97    0.54   1.22    2.04
 Habit           0.200   12.74    -2.70   -2.66     -2.43   -1.08   -0.93   -1.00   -2.17   -0.97     0.00    0.40   1.14    1.98
 Return          0.196   11.97    -2.49   -2.48     -2.28   -1.14   -0.96   -1.02   -1.06   -0.54    -0.40    0.00   0.74    1.56
 LRR 90          0.181   10.66    -3.64   -3.63     -3.34   -1.68   -1.76   -1.82   -1.67   -1.22    -1.14   -0.74   0.00    1.24
 LRR 70          0.161   8.67     -5.42   -5.17     -4.91   -2.66   -3.10   -3.12   -2.48   -2.04    -1.98   -1.56   -1.24   0.00


                                                  Panel E: 3 Year Horizon
 Model           βF ε    Univ      FF     CAPM      FFC     LRR     Ex       Ex     Habit   Return    C-     CAPM    LRR     LRR
                         t-stat                              0      Ret      Mkt                     CAPM    SP500    90      70

 FF              0.251   25.61    0.00     0.56      1.22    0.55    1.40    4.33    1.60    1.39     1.69    4.48   2.35    4.76
 CAPM            0.247   22.02    -0.56    0.00      0.15    0.46    1.21    5.80    1.40    1.22     1.48    6.35   2.16    4.58
 FFC             0.246   24.88    -1.22   -0.15      0.00    0.44    1.14    3.63    1.35    1.18     1.43    3.87   2.09    4.47
 LRR 0           0.229   8.16     -0.55   -0.46     -0.44    0.00    0.19    0.38    0.32    0.32     0.36    0.78   0.81    1.75
 Excess Return   0.220   12.05    -1.40   -1.21     -1.14   -0.19   0.00     0.22    1.19    0.57     1.44    0.81   1.15    2.74
 Excess Market   0.214   17.37    -4.33   -5.80     -3.63   -0.38   -0.22    0.00    0.03    0.05     0.09    1.70    0.86   2.58
 Habit           0.213   11.17    -1.60   -1.40     -1.35   -0.32   -1.19   -0.03    0.00    0.06     0.92    0.52   0.83    2.21
 Return          0.213   10.20    -1.39   -1.22     -1.18   -0.32   -0.57   -0.05   -0.06    0.00     0.07    0.45   0.70    1.86
 C-CAPM          0.212   11.25    -1.69   -1.48     -1.43   -0.36   -1.44   -0.09   -0.92   -0.07     0.00    0.48   0.78    2.16
 CAPM SP500      0.199   13.56    -4.48   -6.35     -3.87   -0.78   -0.81   -1.70   -0.52   -0.45    -0.48    0.00   0.27    1.70
 LRR 90          0.192   10.13    -2.35   -2.16     -2.09   -0.81   -1.15   -0.86   -0.83   -0.70    -0.78   -0.27   0.00    1.26
 LRR 70          0.164   8.02     -4.76   -4.58     -4.47   -1.75   -2.74   -2.58   -2.21   -1.86    -2.16   -1.70   -1.26   0.00


                                                  Panel F: 4 Year Horizon
 Model           βF ε    Univ     CAPM    FFC       FF      Ret     Ex       C-     Habit    Ex      LRR     CAPM    LRR     LRR
                         t-stat                                     Ret     CAPM             Mkt      90     SP500    70      0

 CAPM            0.247   18.28     0.00    0.82      1.09    0.93    1.24    1.21    1.30    6.23     1.63    5.51   2.81    1.15
 FFC             0.240   19.79    -0.82    0.00      0.55    0.81    1.08    1.08    1.17    3.12     1.36    3.11   2.38    1.05
 FF              0.237   19.12    -1.09   -0.55      0.00    0.73    1.00    1.00    1.09    2.85     1.24    2.90   2.21    1.01
 Return          0.214   9.60     -0.93   -0.81     -0.73    0.00    0.13    0.20    0.35    0.14     0.33    0.55   0.77    0.60
 Excess Return   0.212   10.10    -1.24   -1.08     -1.00   -0.13    0.00    0.14    0.63    0.11     0.31    0.60   0.86    0.59
 C-CAPM          0.211   10.19    -1.21   -1.08     -1.00   -0.20   -0.14    0.00    1.09    0.08     0.28    0.56    0.80   0.58
 Habit           0.209   10.04    -1.30   -1.17     -1.09   -0.35   -0.63   -1.09    0.00    0.00     0.22    0.49   0.73    0.55
 Excess Market   0.209   14.64    -6.23   -3.12     -2.85   -0.14   -0.11   -0.08   0.00    0.00      0.27    1.40   0.94    0.61
 LRR 90          0.201   9.18     -1.63   -1.36     -1.24   -0.33   -0.31   -0.28   -0.22   -0.27     0.00    0.26   0.49    0.44
 CAPM SP500      0.193   10.81    -5.51   -3.11     -2.90   -0.55   -0.60   -0.56   -0.49   -1.40    -0.26    0.00   0.26    0.35
 LRR 70          0.187   7.27     -2.81   -2.38     -2.21   -0.77   -0.86   -0.80   -0.73   -0.94    -0.49   -0.26   0.00    0.24
 LRR 0           0.173   4.47     -1.15   -1.05     -1.01   -0.60   -0.59   -0.58   -0.55   -0.61    -0.44   -0.35   -0.24   0.00


Table 4: Tests of Statistical Signiﬁcance: The ﬁrst two columns in the table provides
the coeﬃcient estimate and double-clustered t-statistic (see Thompson (2011) and the
discussion in Petersen (2009)) of the univariate regression of signed ﬂows on signed out-
performance. The rest of the columns provide the statistical signiﬁcance of the pairwise
test, derived in Proposition 5, of whether the models are better approximations of the true
asset pricing model. For each model in a column, the table displays the double-clustered
t-statistic of the test that the model in the row is a better approximation of the true asset
pricing model, that is, that βF row > βF column . The rows (and columns) are ordered
by βF ε , with the best performing model on top. The number following the long run risk
models denotes the percentage of the wealth    22portfolio invested in bonds.
Although providing a complete explanation of this puzzling ﬁnding is beyond the scope
of this paper, in the next section we will consider a few possible explanations. We will
leave the question of which, if any, explanation resolves this puzzle to future research.


4        Implications
The empirical ﬁnding that the CAPM does a poor job explaining cross-sectional variation
in expected returns raises a number of possibilities about the relation between risk and
return. The ﬁrst possibility, and the one most often considered in the existing literature,
is that this ﬁnding does not invalidate the neoclassical paradigm that requires expected
returns to be a function solely of risk. Instead it merely indicates that the CAPM is
not the correct model of risk, and, more importantly, a better model of risk exists. As a
consequence researchers have proposed more general risk models that better explain the
cross section of expected returns.
    The second possibility is that the poor performance of the CAPM is a consequence
of the fact that there is no relation between risk and return. That is, that expected
returns are determined by non-risk based eﬀects. The ﬁnal possibility is that risk only
partially explains expected returns, and that other, non-risk based factors, also explain
expected returns. The results in this paper shed new light on the relative likelihood of
these possibilities.
       The fact that we ﬁnd that ﬂows respond to outperformance as measured by the CAPM
implies that the second possibility is unlikely. If there was no relation between risk and
return, there would be no reason for the CAPM to best explain investors’ capital allocation
decisions. The fact that it does, indicates that at least some investors do trade oﬀ risk
and return. That leaves the question of whether the failure of the CAPM results because
a better model of risk exists, or because factors other than risk also explain expected
returns.
       One might be tempted to conclude that because multi-factor models do a superior job
explaining the cross-section, they better explain risk. But this conclusion is premature. To
see why, consider the following analogy. Rather than look for an alternative theory, early
astronomers reacted to the inability of the Ptolemaic theory to explain the motion of the
planets by “ﬁxing” each observational inconsistency by adding an additional epicycle to
the theory. By the time Copernicus proposed the correct theory that the Earth revolved
around the Sun, the Ptolemaic theory had been ﬁxed so many times it better explained the
motion of the planets than the Copernican system.14 Similarly, although the extensions
  14
       Copernicus wrongly assumed that the planets followed circular orbits when in fact their orbits are

                                                    23
to the CAPM better explain the cross section of asset returns, it is hard to know, using
traditional tests, whether these extensions represent true progress towards measuring risk
better or simply the asset pricing equivalent of an epicycle.
  Our results shed light on this question. Because investors do not react to outperfor-
mance relative to the multi-factor models, it reduces the likelihood that the reason these
models better explain the cross section of expected returns is because they are better risk
models. This is a key advantage of our testing methodology. It can diﬀerentiate between
whether current extensions to the CAPM just improve the model’s ﬁt to existing data or
whether they represent progress towards a better model of risk. The extensions of the
CAPM model were proposed to better ﬁt returns, not ﬂows. As such, ﬂows provide a new
set of moments that those models can be confronted with. Consequently, if the extension
of the original model better explains mutual fund ﬂows, this suggests that the extension
does indeed represent progress towards a superior risk model. Conversely, if the extended
model cannot better explain ﬂows, then we should worry that the extension is the modern
equivalent of an epicycle, an arbitrary ﬁx designed simply to ensure that the model better
explains the cross section of returns.
   Our methodology can also shed light on the third possibility, that expected returns
might be a function of both risk and non-risk based factors. As we have already pointed
out, that the CAPM does a poor job explaining the cross sectional variation in asset
returns does not necessarily imply that a better, yet undiscovered, method exists to price
risk. To conclude that a better risk model exists, one has to show that the part of the
variation in asset returns not explained by the CAPM can be explained by variation in
risk. This is what the ﬂow of funds data allows us to do. If variation in asset returns that
is not explained by the CAPM attracts ﬂows, then one can conclude that this variation
is not compensation for risk. Thus our methodology allows us to infer something existing
tests of factor models cannot do. It allows us to determine whether or not a new factor
that explains returns measures risk. What our results imply is that the factors that have
been proposed do not measure additional risk not measured by the CAPM. What these
factors actually do measure is clearly an important question for future research.


5      Tests of the Robustness of our Results
In this section we consider two possible alternative explanations for our results. First
we look at the possibility that mutual fund fee changes might be part of the market
ellipses.



                                            24
equilibrating mechanism. Then we test the hypothesis that investors’ information sets
contain more than what is in past and present prices.


5.1    Fee Changes
As argued in the introduction, capital ﬂows are not the only mechanism that could equili-
brate the mutual fund market. An alternative mechanism is for fund managers to adjust
their fees to ensure that the fund’s alpha is zero. In fact, fee changes are rare, occurring in
less than 4% of our observations, making it unlikely that fee changes play any role in equi-
librating the mutual fund market. Nevertheless, in this section we will run a robustness
check to make sure that fee changes do not play a role in explaining our results.
   The fees mutual funds charge are stable because they are speciﬁed in the fund’s
prospectus, so theoretically, a change to the fund’s fee requires a change to the fund’s
prospectus, a relatively costly endeavor. However, the fee in the prospectus actually spec-
iﬁes the maximum fee the fund is allowed to charge because funds are allowed to (and
do) rebate some of their fees to investors. Thus, funds can change their fees by giving or
discontinuing rebates. To rule out these rebates as a possible explanation of our results,
we repeat the above analysis by assuming that fee changes are the primary way mutual
fund markets equilibrate.
   We deﬁne a positive (negative) fee change as an increase (decrease) in the fees charged
from the beginning to the end of the horizon. For each fund, in periods that we observe a
fee change, we assume the fee change is equilibrating the market and so the ﬂow variable
takes the sign of the fee change. In periods without a fee change, we continue to use the
sign of the ﬂows. That is, deﬁne Fit∗ as:
                                            
                                                Δit Δit = 0
                                   Fit∗ ≡
                                                Fit Δit = 0

where Δit is the fee change experienced by fund i at time t.

   Table 5 reports the results of estimating (βF ∗ ε + 1)/2, that is the average conditional
probability using the ﬂow variable that includes fee changes. The results are qualitatively
unchanged — the CAPM outperforms all the other models — and quantitatively very
similar. More importantly, including fee changes in this way reduces the explanatory
power of all the models (the point estimates in Table 5 are lower than in Table 3) so
there is no evidence that fee changes play an important role in equilibrating the market
for mutual funds.


                                                 25
 Model                                                       Horizon
                                    3 month       6 month   1 year 2 year   3 year   4 year

                                 Market Models (CAPM)
 CRSP Value Weighted                62.07     60.78  58.38          56.41   54.02    53.04
 S&P 500                            61.06     59.52   57.44         55.26   52.54    51.07

                                         No Model
 Return                               58.27    57.72        55.60   52.16    51.05    50.85
 Excess Return                        58.02    57.60        55.99   53.10    51.16    51.00
 Return in Excess of the Market       60.63    59.22        56.92   55.13    53.51    52.07

                                    Multifactor Models
 FF                                  61.72      60.19       57.99   56.20    53.60    52.71
 FFC                                 61.83      60.29       58.13   55.95    53.62    52.50

                               Dynamic Equilibrium Models
 C-CAPM                             58.02      57.45  55.68         53.12    50.93    50.64
 Habit                              57.99      57.34  55.72         53.07    50.99    50.75
 Long Run Risk 0                    57.22      57.72  56.88         52.30    47.80    43.72
 Long Run Risk 70                   57.11      56.90  55.59         51.10    48.15    48.04
 Long Run Risk 90                   57.18      57.09  56.10         53.16    52.70    52.34


Table 5: Eﬀect of Fee Changes: The table shows the eﬀect of assuming that the market
equilibrates through fee changes if they occur. That is, we use the sign of the fee change
instead of the sign of the ﬂow whenever we have a non-zero fee change observation. In
period when there is no fee change, we use the sign of the ﬂow as before. The table reports
(βF ∗ ε + 1)/2 in percent which is equivalent to the average conditional probability that the
sign of outperformance matches the sign of this new ﬂow viable. Each row corresponds to
a diﬀerent risk model. The ﬁrst two rows report the results for the market model (CAPM)
using the CRSP value weighted index and the S&P 500 index as the market portfolio.
The next three lines report the results of using as the benchmark return, three rules of
thumb: (1) the fund’s actual return, (2) the fund’s return in excess of the risk free rate,
and (3) the fund’s return in excess of the return on the market as measured by the CRSP
value weighted index. The next two lines are the Fama-French (FF) and Fama-French-
Carhart (FFC) factor models. The ﬁnal four lines report the results for the dynamic
equilibrium models: the Consumption CAPM (C-CAPM), the habit model derived by
Campbell and Cochrane (1999), and the long run risk model derived by Bansal and Yaron
(2004). For the long run risk model we consider three diﬀerent versions, depending on
the portfolio weight of bonds in the aggregate wealth portfolio. The maximum number
in each column (the best performing model) is shown in bold face.



                                             26
5.2       Other Information Sets
Conceivably, the poor performance of some of the models reported in the last section
could result because the assumption that the information set for most investors does not
include any more information than past and present prices is incorrect. If this assumption
is false and the information set of most investors includes information in addition to what is
communicated by prices, what appears to us as a positive NPV investment might actually
be zero NPV when viewed from the perspective of the actual information available at the
time.
    If information is indeed the explanation and if investors are right in their decision to
allocate or withdraw money, the alpha must be zero even when the ﬂow has the opposite
sign to the outperformance. We test this Null hypothesis by double sorting ﬁrms into
terciles based on their past alpha as well as their past ﬂows. Going forward, over a
speciﬁed measurement horizon, we test to see whether funds in the highest alpha tercile
and the lowest ﬂow tercile outperform funds in the lowest alpha tercile and the highest
ﬂow tercile.15 Put diﬀerently, we investigate whether previously outperforming funds that
nevertheless experience an outﬂow of funds outperform previously underperforming funds
that experience an inﬂow. Under the Null that the asset pricing model under consideration
holds, these two portfolios should perform equally well going forward (both should have
a zero net alpha in the measurement horizon).
       The main diﬃculty with implementing this test is uncertainty in the estimate of the
fund’s betas for the factor models. When estimation error in the sorting period is pos-
itively correlated to the error in the measurement horizon, as would occur if we would
estimate the betas only once over the full sample, a researcher could falsely conclude that
evidence of persistence exists when there is no persistence. To avoid this bias we do not
use information from the sorting period to estimate the betas in the measurement horizon.
This means that we require a measurement horizon of suﬃcient length to produce reliable
beta estimates, so the shortest measurement horizon we consider is two years.
    At time τ , we use all the information until that point in time to calculate the fund’s
information ratio, that is, we estimate the fund’s alpha using all of its return data up
to time τ and divide this by the standard error of the estimate. We then calculate the
fund’s capital ﬂow over the prior h years. We sort ﬁrms into 9 ﬂow performance terciles
based on the estimated information ratio and measured capital ﬂow. We require a fund
to have at least three years of historical data to be included in the sort. Because we
  15
     The sorts we do are unconditional sorts, meaning that we independently sort on ﬂows and alpha.
The advantage of this is that our results are not inﬂuenced by the ordering of our sorts. The downside
is that the nine “portfolios” do not have the same number of funds in them.


                                                 27
                                                               Horizon (years)
                                                Model      2         3         4

                                CAPM (b.p./month)        0.00       1.57    -1.66
                                         t-statistic     0.00       0.25    -0.26

                          Fama-French (b.p./month)       18.06      19.65   20.84
                                          t-statistic    3.32       3.62    3.83

                  Fama-French-Cahart (b.p./month)        13.50      14.83   16.23
                                         t-statistic     2.81       3.08    3.38

                              C-CAPM (b.p./month)        9.90       9.90     7.21
                                         t-statistic     1.18       1.18     0.86

                                 Habit (b.p./month)      10.22      9.86     7.96
                                           t-statistic   1.21       1.17     0.95

             Long Run Risk – 0% Bonds (%/month)          -13.60 -13.49 -13.58
                                       t-statistic        -1.20 -1.19 -1.20

          Long Run Risk – 70% Bonds (b.p./month)         -9.81     -19.43 -20.67
                                        t-statistic      -0.65      -1.28 -1.36

          Long Run Risk – 90% Bonds (b.p./month)         1.28       3.37    -5.32
                                        t-statistic      0.16       0.43    -0.69


Table 6: Out of Sample Persistence: The table shows by how much the top al-
pha/bottom ﬂow tercile outperforms the bottom alpha/top ﬂow tercile, where outperfor-
mance is the realized alpha under the given model. At time τ , we use all the information
until that point in time to calculate the fund’s information ratio. We also calculate the
fund’s capital ﬂow over the number of years equal to the speciﬁed horizon. We then sort
ﬁrms into 9 ﬂow performance terciles based on the information ratio and measured capital
ﬂow and then measure outperformance over the speciﬁed future measurement horizon. At
the end of the measurement horizon we then sort again and repeat the process as many
times as the data allows. By the end of the process we have a time series of monthly
outperformance measurements for each of the 9 portfolios. We then subtract the bottom
information ratio /top ﬂow from the top information ratio/bottom ﬂow and the table
reports the mean and t-statistic of this time series.




                                           28
need at least 6 months to estimate the fund’s betas in the measurement horizon, we
drop all funds with less than 6 observations in the measurement horizon. To remove the
obvious selection bias, we estimate the betas over the full measurement horizon, but then
calculate εit by dropping the ﬁrst 6 observations, that is, we only use {εi,τ +6, . . . , εi,τ +h }
when we measure future performance. At the end of the measurement horizon we then
sort again and repeat the process as many times as the data allows. By the end of the
process we have a time series of monthly outperformance measurements for each of the
9 portfolios. We then subtract the bottom information ratio/top ﬂow portfolio from the
top information ratio/bottom ﬂow portfolio. Table 6 reports the mean and t-statistic of
this time series for horizons h = 2, 3 and 4 years.
   The main takeaway from the results reported in Table 6 is that outperformance relative
to the CAPM shows no evidence of persistence while outperformance relative to the
other factor models is highly persistent and economically large. Consequently, we can
conﬁdently reject the Null hypothesis that the diﬀerential information set explains the
poor performance of the factor models relative to the CAPM.

   We ﬁnd no evidence of predictability for the dynamic equilibrium models. In this
case the likelihood that investors have better information is higher because they observe
their own consumption. So the lack of predictability is consistent with the possibility
that the poor performance of these models is due to the fact that the empiricist measures
consumption with error.16


6      Conclusion
The ﬁeld of asset pricing is primarily concerned with the question of how to compute
the cost of capital for investment opportunities. Because the net present value of a
long-dated investment opportunity is very sensitive to assumptions regarding the cost of
capital, computing this cost of capital correctly is of ﬁrst order importance. Since the
initial development of the Capital Asset Pricing Model, a large number of potential return
anomalies relative to that model have been uncovered. These anomalies have motivated
researchers to develop improved models that “explain” each anomaly as a risk factor. As a
consequence, in many (if not most) research studies these factors and their exposures are
  16
     Note that the outperformance point estimate for the long run risk model when the wealth portfolio
consists entirely of stocks is four orders of magnitude higher than all other models, despite the fact that
it is still statistically indistinguishable from zero. As we have already pointed out, given the volatility of
stocks, the SDF of this model is extremely volatile leading to highly volatile estimates of outperformance
for this model.




                                                     29
included as part of the cost of capital calculation. In this paper we examine the validity
of this approach to calculating the cost of capital.

    We propose a new way of testing the validity of an asset pricing model. Instead
of following the common practice in the literature which relies on moment conditions
related to returns, we use mutual fund capital ﬂow data. Our study is motivated by
revealed preference theory: if the asset pricing model under consideration correctly prices
risk, then investors must be using it, and must be allocating their money based on that
risk model. Consistent with this theory, we ﬁnd that investors’ capital ﬂows in and out
of mutual funds does reliably distinguish between asset pricing models. We ﬁnd that the
CAPM outperforms all extensions to the original model, which implies, given our current
level of knowledge, that it is arguably still the best method to use to compute the cost of
capital of an investment opportunity.
   Perhaps the most important implication of our paper is that it highlights the usefulness
and power of mutual fund data when addressing general asset pricing questions. Mutual
fund data provides insights into questions that stock market data cannot. Because the
market for mutual funds equilibrates through capital ﬂows instead of prices we can directly
observe investors’ investment decisions. That allows us to infer their risk preferences
from their actions. The observability of these choices and what this implies for investor
preferences has remained largely unexplored in the literature.




                                            30
                                            Appendix

A       Proofs
A.1       Proof of Proposition 2
The denominator of (6) is positive so we need to show that the numerator is positive
as well. Conditioning on the information set at each point in time gives the following
expression for the numerator:

         cov(φ(Fit+1 ), φ(εit+1 )) =
                                                                                  
             E E[φ(Fit+1 )φ(εit+1 )) | It ] − E E[φ(Fit+1 ) | It ] E E[φ(εit+1 ) | It ] .                   (13)

Taking each term separately,

      E[φ(Fit+1 )φ(εit+1 ) | It ] = E[φ(εit+1 )φ(αit+1 (qit )) | It ]
                                  = E[φ(εit+1 )φ(αit+1 (qit )) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]
                                       +E[φ(εit+1 )φ(αit+1 (qit )) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ]
                                  = E[φ(εit+1 ) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]
                                       −E[φ(εit+1 ) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ],

where the ﬁrst equality follows from Lemma 1 and the last equality follows from (2) and
(3) because when θi > θ̄it then αit+1 (qit ) > 0 and similarly for θi ≤ θ̄it . Using similar logic

              E[φ(Fit+1 ) | It ] = E[φ(αit+1 (qit )) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]
                                       +E[φ(αit+1 (qit )) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ]
                                  = Pr[θi > θ̄it | It ] − Pr[θi ≤ θ̄it | It ],

and

                 E[φ(εit+1 ) | It ] = E[φ(εit+1 ) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]
                                         +E[φ(εit+1 ) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ].




                                                     31
Using these three expressions we have
                                                                        
E E[φ(Fit+1 )φ(εit+1 )) | It ] − E E[φ(Fit+1 ) | It ] E E[φ(εit+1 ) | It ] =
                                                                                                             
    E E[φ(εit+1 ) | θi > θ̄it , It ] Pr[θi > θ̄it | It ] − E E[φ(εit+1 ) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ]
                                                                                                        
    −E E[φ(εit+1 ) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]     E Pr[θi > θ̄it | It ] − E Pr[θi ≤ θ̄it | It ]
                                                                                                         
    −E E[φ(εit+1 ) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ]     E Pr[θi > θ̄it | It ] − E Pr[θi ≤ θ̄it | It ]
                                                                                                            
 = E E[φ(εit+1 ) | θi > θ̄it , It ] Pr[θi > θ̄it | It ]     1 − E Pr[θi > θ̄it | It ] + E Pr[θi ≤ θ̄it | It ]
                                                                                                               
    +E E[−φ(εit+1 ) | θi ≤ θ̄it , It ] Pr[θi ≤ θ̄it | It ]      1 + E Pr[θi > θ̄it | It ] − E Pr[θi ≤ θ̄it | It ]
  > 0

because every term in the last equation is positive. Substituting the above expression into
(13) completes the proof.


A.2      Proof of Lemma 2
First, by using Bayes’ law and by rearranging terms we have:

             Pr [φ (Fit ) = 1 | φ (εit ) = −1]
                    Pr [φ (εit ) = −1 | φ (Fit ) = 1] Pr [φ (Fit ) = 1]
              =
                                    Pr [φ (εit ) = −1]
                    (1 − Pr [φ (εit ) = 1 | φ (Fit ) = 1]) Pr [φ (Fit ) = 1]
              =
                                      1 − Pr [φ (εit ) = 1]
                    Pr [φ (Fit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1]
              =                                                                            .
                                            1 − Pr [φ (εit ) = 1]

Hence,

               Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1]
                                    Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1]
                                 =                                                       .         (14)
                                                   1 − Pr [φ (εit ) = 1]

Now note that without loss of generality, we can rescale the sign variables to take values
of 0 and 1 by dividing by 2 and adding 1. Because rescaling both the left and right hand
side variables does not change the slope coeﬃcient in a linear regression, we can simply




                                                   32
write out the OLS regression coeﬃcient as if the variables are rescaled:

          cov (φ (Fit ) , φ (εit ))
   βF ε =
              var (φ (εit ))
          Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1] − Pr [φ (Fit ) = 1] Pr [φ (εit ) = 1]
        =
                                    Pr [φ (εit ) = 1] (1 − Pr [φ (εit ) = 1])
          Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1]
        =                                                        ,
                           1 − Pr [φ (εit ) = 1]

which is (14).


A.3     Proof of Proposition 3
From Lemma 2, all we need to prove is that:

                   Pr [φ (Fit ) = 1 | φ (εit ) = 1] + Pr [φ (Fit ) = −1 | φ (εit ) = −1]
              > Pr [φ (Fit ) = 1 | φ (εcit ) = 1] + Pr [φ (Fit ) = −1 | φ (εcit ) = −1]

Taking each term separately,

       Pr [φ (Fit ) = 1 | φ (εcit ) = 1]
         = Pr [φ (Fit ) = 1 | φ (εcit ) = 1, φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = 1] +
              Pr [φ (Fit ) = 1 | φ (εcit ) = 1, φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = 1]
         = Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = 1] +
              Pr [φ (Fit ) = 1 | φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = 1]
         = Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = 1] +
              Pr [φ (Fit ) = 1 | φ (εit ) = −1] (1 − Pr [φ (εit ) = 1 | φ (εcit ) = 1])
         < Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = 1] +
              Pr [φ (Fit ) = 1 | φ (εit ) = 1] (1 − Pr [φ (εit ) = 1 | φ (εcit ) = 1])
         = Pr [φ (Fit ) = 1 | φ (εit ) = 1] .                                                       (15)




                                                  33
where the second equality follows from (7) and the inequality follows from Lemma 2 and
βF ε > 0 (from Proposition 2). Similarly,

    Pr [φ (Fit ) = −1 | φ (εcit ) = −1]
      = Pr [φ (Fit ) = −1 | φ (εcit ) = −1, φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = −1] +
          Pr [φ (Fit ) = −1 | φ (εcit ) = −1, φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = −1]
      = Pr [φ (Fit ) = −1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = −1] +
          Pr [φ (Fit ) = −1 | φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = −1]
      < Pr [φ (Fit ) = −1 | φ (εit ) = −1]

which completes the proof.


A.4     Lemma 3
Lemma 3 Condition (8) is equivalent to

              Pr [φ (εit ) = 1 | φ (εcit ) = 1] − Pr [φ (εit ) = 1 | φ (εcit ) = −1]
                                                                              
               > Pr φ (εit ) = 1 | φ εdit = 1 − Pr φ (εit ) = 1 | φ εdit = −1

which is also equivalent to
                                                                        
                           cov (φ (εit ) , φ (εcit ))   cov φ (εit ) , φ εdit
                                                      >          
                               var (φ (εcit ))             var φ εdit



Proof: The proof follows identical logic as the proof of Lemma 2.


A.5     Proof of Proposition 4
First deﬁne

          πc = Pr [φ (εit ) = 1 | φ (εcit ) = 1] − Pr [φ (εit ) = 1 | φ (εcit ) = −1]
                                                                               
          πd = Pr φ (εit ) = 1 | φ εdit = 1 − Pr φ (εit ) = 1 | φ εdit = −1 .




                                                  34
Using Lemma 2 and (7), βF c can be rewritten in terms of πc :

βF c = Pr [φ (Fit ) = 1 | φ (εcit ) = 1] − Pr [φ (Fit ) = 1 | φ (εcit ) = −1]
  = Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = 1] +
      Pr [φ (Fit ) = 1 | φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = 1] −
      Pr [φ (Fit ) = 1 | φ (εit ) = 1] Pr [φ (εit ) = 1 | φ (εcit ) = −1] −
      Pr [φ (Fit ) = 1 | φ (εit ) = −1] Pr [φ (εit ) = −1 | φ (εcit ) = −1]
  = Pr [φ (Fit ) = 1 | φ (εit ) = 1] (Pr [φ (εit ) = 1 | φ (εcit ) = 1] − Pr [φ (εit ) = 1 | φ (εcit ) = −1]) +
      Pr [φ (Fit ) = 1 | φ (εit ) = −1] (Pr [φ (εit ) = −1 | φ (εcit ) = 1] − Pr [φ (εit ) = −1 | φ (εcit ) = −1])
  = πc (Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1])

Note that, from Proposition 2 and Lemma 2, the term in parenthesis is positive, that is,

               Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1] > 0.            (16)

  Assume that model c is a better approximation of the true asset pricing model than
model d, that is,                                               
                   cov (φ (εit ) , φ (εcit ))   cov φ (εit ) , φ εdit
                                              >                   .
                        var (φ (εcit ))            var φ εdit
By Lemma 3, this relation implies that

                                                πc > πd ,

which means that

           πc (Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1])
             > πd (Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1]) ,

so
                                              βF c > βF d .

Let us now prove the reverse. Assume that βF c > βF d . This means that

           πc (Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1])
             > πd (Pr [φ (Fit ) = 1 | φ (εit ) = 1] − Pr [φ (Fit ) = 1 | φ (εit ) = −1]) ,

which by (16) implies that πc > πd .


                                                   35
A.6     Proof of Proposition 5


                                                       φ(εcit )            φ(εdit )
                                cov φ (Fit ) , var                  −
                                                        (φ( ))
                                                             εcit       var (φ(εdit ))
                      γ1 =
                                              φ(εcit )              φ(εdit )
                                      var   var (φ(
                                                              −
                                                      )) var(φ(εdit ))
                                                      εcit

                                             βF c − βF d
                          =
                                          φ(εcit )         φ(εdit )
                                var    var (φ(εit ))
                                                 c
                                                     −  var (φ(εdit ))
                                                                       .

By Proposition 4, βF c > βF d if and only if model c is better than model d. It then follows
immediately that γ1 > 0 because the strict inequality βF c > βF d rules out the possibility
that the denominator is zero.




                                                36
References
Bansal, R., and A. Yaron (2004): “Risks for the Long Run: A Potential Resolution
 of Asset Pricing Puzzles,” The Journal of Finance, 59(4), 1481–1509.

Barber, B. M., X. Huang, and T. Odean (2014):                  “What Risk Factors
  Matter to Investors? Evidence from Mutual Fund Flows,” Available at SSRN:
  http://ssrn.com/abstract=2408231.

Berk, J. B., and R. C. Green (2004): “Mutual Fund Flows and Performance in
 Rational Markets,” Journal of Political Economy, 112(6), 1269–1295.

Berk, J. B., and I. Tonks (2007): “Return Persistence and Fund Flows in the Worst
  Performing Mutual Funds,” Working Paper 13042, National Bureau of Economic Re-
  search.

Berk, J. B., and J. H. van Binsbergen (2013): “Measuring Skill in the Mutual Fund
 Industry,” NBER Working Paper No. w18184.

Breeden, D. T. (1979): “An intertemporal asset pricing model with stochastic con-
  sumption and investment opportunities,” Journal of Financial Economics, 7(3), 265 –
  296.

Campbell, J. Y., and J. H. Cochrane (1999): “By Force of Habit: A Consumption-
 Based Explanation of Aggregate Stock Market Behavior,” Journal of Political Economy,
 107, 205–251.

Carhart, M. M. (1997): “On Persistence in Mutual Fund Performance,” Journal of
 Finance, 52, 57–82.

Chevalier, J., and G. Ellison (1997): “Risk Taking by Mututal Funds as a Response
 to Incentives,” Journal of Political Economy, 106, 1167–1200.

Epstein, L. G., and S. E. Zin (1991): “Substitution, Risk Aversion, and the Tempo-
  ral Behavior of Consumption and Asset Returns: An Empirical Analysis,” Journal of
  Political Economy, 99, 263–286.

Fama, E. F., and K. R. French (1993): “Common Risk Factors in the Returns on
  Stocks and Bonds,” Journal of Financial Economics, 33(1), 3–56.

French, K. R. (2008): “The Cost of Active Investing,” Journal of Finance, 63(4),
 1537–1573.

                                         37
Grossman, S. (1976): “On the Eﬃciency of Competitive Stock Markets Where Trades
 Have Diverse Information,” The Journal of Finance, 31(2), 573–585.

Grossman, S. J., and J. E. Stiglitz (1980): “On the Impossibility of Informationally
  Eﬃcient Markets,” The American Economic Review, 70(3), 393–408.

Guercio, D. D., and P. A. Tkac (2002): “The Determinants of the Flow of Funds of
  Managed Portfolios: Mutual Funds vs. Pension Funds,” The Journal of Financial and
  Quantitative Analysis, 37(4), pp. 523–557.

Harvey, C. R., Y. Liu, and H. Zhu (2014):                “. . . and the Cross-Section
  of Expected Returns,” Available at SSRN: http://ssrn.com/abstract=2249314 or
  http://dx.doi.org/10.2139/ssrn.2249314.

Lintner, J. (1965): “The Valuation of Risk Assets and the Selection of Risky Invest-
  ments in Stock Portfolios and Capital Budgets,” The Review of Economics and Statis-
  tics, 47(1), pp. 13–37.

Lustig, H., S. Van Nieuwerburgh, and A. Verdelhan (2013): “The Wealth-
 Consumption Ratio,” Review of Asset Pricing Studies, 3(1), 38–94.

Mamaysky, H., M. Spiegel, and H. Zhang (2008): “Estimating the Dynamics of
 Mutual Fund Alphas and Betas,” Review of Financial Studies, 21(1), 233–264.

Merton, R. C. (1973): “Optimum Consumption and Portfolio Rules in a Continuous-
  Time Model,” Journal of Economic Theory, 3, 373–413.

Milgrom, P., and N. Stokey (1982): “Information, Trade, and Common Knowledge,”
  Economic Theory, Journal of.

Mossin, J. (1966): “Equilibrium in a Capital Asset Market,” Econometrica, 34(4), pp.
 768–783.

Pastor, L., and R. F. Stambaugh (2012): “On the Size of the Active Management
  Industry,” Journal of Political Economy, 120, 740–781.

Pastor, L., R. F. Stambaugh, and L. A. Taylor (2014): “Scale and Skill in Active
  Management,” Journal of Financial Economics, forthcomming.

Petersen, M. A. (2009): “Estimating Standard Errors in Finance Panel Data Sets:
  Comparing Approaches,” Review of Financial Studies, 22(1), 435–480.



                                         38
Sharpe, W. F. (1964): “Capital Asset Prices: A Theory of Equilibrium under Condi-
  tiona of Risk,” The Journal of Finance, 19(3), 425–442.

Sirri, E. R., and P. Tufano (1998): “Costly Search and Mutual Fund Flows,” The
  Journal of Finance, 53(5), 1589–1622.

Stambaugh, R. F. (2014): “Investment Noise and Trends,” Journal of Finance, Forth-
  comming.

Thompson, S. B. (2011): “Simple formulas for standard errors that cluster by both ﬁrm
 and time,” Journal of Financial Economics, 99(1), 1 – 10.




                                          39
