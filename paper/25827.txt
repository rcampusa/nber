                               NBER WORKING PAPER SERIES




     NONPARAMETRIC ESTIMATES OF DEMAND IN THE CALIFORNIA HEALTH
                        INSURANCE EXCHANGE

                                         Pietro Tebaldi
                                     Alexander Torgovitsky
                                         Hanbin Yang

                                       Working Paper 25827
                               http://www.nber.org/papers/w25827


                     NATIONAL BUREAU OF ECONOMIC RESEARCH
                              1050 Massachusetts Avenue
                                Cambridge, MA 02138
                                     May 2019




Research supported in part by the Becker Friedman Institute Health Economics Initiative and by
National Science Foundation grant SES-1426882. The views expressed herein are those of the
authors and do not necessarily reflect the views of the National Bureau of Economic Research.

At least one co-author has disclosed a financial relationship of potential relevance for this
research. Further information is available online at http://www.nber.org/papers/w25827.ack

NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.

© 2019 by Pietro Tebaldi, Alexander Torgovitsky, and Hanbin Yang. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.
Nonparametric Estimates of Demand in the California Health Insurance Exchange
Pietro Tebaldi, Alexander Torgovitsky, and Hanbin Yang
NBER Working Paper No. 25827
May 2019
JEL No. C14,C3,C5,I13

                                         ABSTRACT

We estimate the demand for health insurance in the California Affordable Care Act marketplace
(Covered California) without using parametric assumptions about the unobserved components of
utility. To do this, we develop a computational method for constructing sharp identified sets in a
nonparametric discrete choice model. The model allows for endogeneity in prices (premiums) and
for the use of instrumental variables to address this endogeneity. We use the method to estimate
bounds on the effects of changing premium subsidies on coverage choices, consumer surplus, and
government spending. We find that a $10 decrease in monthly premium subsidies would cause
between a 1.6% and 7.0% decline in the proportion of low-income adults with coverage. The
reduction in total annual consumer surplus would be between $63 and $78 million, while the
savings in yearly subsidy outlays would be between $238 and $604 million. Comparable logit
models yield price sensitivity estimates towards the lower end of the bounds.


Pietro Tebaldi                                  Hanbin Yang
Department of Economics                         Harvard University
University of Chicago                           hanbin.v.yang@gmail.com
5757 S. University Avenue
Chicago, IL 60637
and NBER
ptebaldi@uchicago.edu

Alexander Torgovitsky
University of Chicago
1126 E. 59th Street
Chicago, IL, 60637
atorgovitsky@gmail.com
       1    Introduction
       Under the Patient Protection and Affordable Care Act of 2010 (“ACA”), the United
       States federal government spends over $40 billion per year on subsidizing health insur-
       ance premiums for low-income individuals (Congressional Budget Office, 2017). The
       design of the ACA and the regulation of non-group health insurance remain objects of
       intense debate among policy makers. Addressing several key design issues, such as the
       structure of premium subsidies, requires estimating demand at counterfactual prices.
           Recent research has filled this need using discrete choice models in the style of Mc-
       Fadden (1974). For example, Chan and Gruber (2010) and Ericson and Starc (2015)
       used conditional logit models to estimate demand in Massachusetts’ Commonwealth
       Care program, Saltzman (2019) used a nested logit to estimate demand in the Cali-
       fornia and Washington ACA exchanges, and Tebaldi (2017) estimated demand in the
       California ACA exchange with a variety of logit, nested logit, and mixed (random
       coefficient) logit models.
           These various flavors of logit models differ in the way they deal with the indepen-
       dence of irrelevant alternatives property (e.g. Goldberg, 1995; McFadden and Train,
       2000), and in how they deal with the potential endogeneity of prices (e.g. Berry, 1994;
       Hausman, 1996; Berry et al., 1995). However, they are all fully parametric, with the
       logistic and normal distributions playing a central role in the parameterization. This
       raises the possibility that demand estimates from these models are significantly driven
       by functional form.
           In this paper, we use a nonparametric model to estimate the effects of changing
       premium subsidies on demand, consumer surplus, and government spending in the
       California ACA exchange (Covered California). The model is a distribution-free coun-
       terpart of a standard discrete choice model in which a consumer’s indirect utility for
       an insurance option depends on its price (premium) and on their unobserved valuation
       for the option. In contrast to parametric models, we do not assume that these valu-
       ations follow a specific distribution such as normal (probit) or type I extreme value
       (logit). The main restriction of the model is that indirect utility is additively separable
       in premiums and latent valuations. The model allows for premiums to be endoge-
       nous (correlated with latent valuations), and allows a researcher to use instrumental
       variables to address this endogeneity.1
           Nonparametric point identification arguments for discrete choice models are often
   1
      While we develop the methodology with a focus on health insurance, it may also be useful for analyzing
demand in other markets, as well as for discrete choice analysis more generally. However, an important
difference with many discrete choice analyses is that in our context we observe more than one price per
market. See Sections 2, 3.3, and Appendix C for more detail.


                                                     1
premised on the assumption of a large amount of exogenous variation in prices or
other observable characteristics (e.g. Thompson, 1989; Matzkin, 1993). When prices
are endogenous, these arguments shift the variation requirement to the instruments,
sometimes with an additional completeness condition (Chiappori and Komunjer, 2009;
Berry and Haile, 2010, 2014). In the Covered California data, we only observe limited
variation in premiums, so these conditions are unlikely to be satisfied. This leads us
to consider a partial identification framework (see Ho and Rosen, 2017, for a recent
review).
   The primary challenge with allowing for partial identification is finding a way to
characterize and compute sharp bounds for target parameters of interest. We develop
a characterization based on the observation that in a discrete choice model, many
different realizations of latent valuations would lead to identical choice behavior under
all relevant observed and counterfactual prices. Using this idea, we partition the space
of unobserved valuations according to choice behavior by constructing a collection of
sets that we call the minimal relevant partition (MRP). We prove that sharp bounds
for typical target parameters can be characterized by considering only the way the
distribution of valuations places mass on sets in the MRP. We then use this result to
develop estimators of these bounds, which we implement using linear programming.
   We apply the empirical methodology with administrative data to estimate demand
counterfactuals for Covered California. We focus on the choice of metal tier for low-
income individuals who are not covered under employer-sponsored insurance or public
programs. Our main counterfactual of interest is how changes in premium subsidies
would affect the proportion of this population that chooses to purchase health insur-
ance, as well as their chosen coverage tiers and their realized consumer surplus. To
identify these quantities, we use the additively separable structure of utility in the non-
parametric model together with institutionally-induced variation in premiums across
consumers of different ages and incomes. We exploit this variation by restricting the
degree to which preferences (latent valuations) can differ across consumers of similar
age and income who live in the same market.
   Since the nonparametric model is partially identified, this strategy yields bounds
rather than point estimates. However, the estimated bounds are quite informative.
Using our preferred specification, we estimate that a $10 decrease in monthly premium
subsidies would cause between a 1.6% and 7.0% decline in the proportion of low-income
adults with coverage. The average consumer surplus reduction would be between $1.99
and $2.45 per person, per month, or between $63 and $78 million annually when
aggregated. Total annual savings on subsidy outlays would be between $238 and $604
million. When we analyze heterogeneity by income, we find that poorer consumers

                                            2
      incur the bulk of the surplus loss from decreasing subsidies. Overall, our estimates
      reinforce and amplify the finding that the demand for health insurance in this segment
      of the population is highly price elastic (e.g. Abraham et al., 2017; Finkelstein et al.,
      2019).2
          We show that comparable estimates using parametric logit and probit models tend
      to yield price responses close to the lower bounds, and so may substantially understate
      price sensitivity. This possibility becomes more acute when considering larger price
      changes that involve more distant extrapolations. It also remains when considering
      richer parametric models, such as mixed logit, that allow for valuations to be corre-
      lated across options. Our findings provide an example in which the shape of the logistic
      distribution can have an important impact on empirical conclusions.3 The nonpara-
      metric model we use presents a remedy for this problem, and in this case provides
      empirical conclusions that differ significantly along a policy-relevant dimension.
          In Appendix A, we provide a detailed review of the related methodological litera-
      ture on semi- and nonparametric discrete choice models. Here, we briefly mention the
      two papers most closely related to ours. Chesher et al. (2013) use random set theory
      to derive moment inequalities in general discrete choice models. They demonstrate
      their results by computing identified sets for some parametric models in numerical
      simulations. As we explain further in Appendix A, applying their approach to a non-
      parametric model is infeasible. Compiani (2019) develops a nonparametric estimator
      and applies it to study consumer demand for strawberries in California using aggre-
      gated scanner data. His approach is based on identification arguments developed by
      Berry and Haile (2014), which use assumptions different than ours.
          The remainder of the paper is organized as follows. In Section 2, we begin with
      a discussion of the key institutional aspects of Covered California. In Section 3, we
      develop our nonparametric discrete choice methodology for estimating the demand for
      health insurance. In Section 4, we discuss the data, our empirical implementation,
      and the main findings. In Section 5 we contrast these findings with estimates from
      parametric models. Section 6 contains some brief concluding remarks.
    2
      We do not model supply, so all of these estimates should be interpreted as holding insurers’ decisions
fixed. Tebaldi (2017) considers equilibrium price responses under different subsidy designs with a parametric
demand model.
    3
      Other examples include Ho and Pakes (2014) and Compiani (2019), who also found that logit models
underestimate price elasticities relative to less parametric alternatives, albeit using different methods in
different empirical settings.




                                                     3
       2    Covered California
       Covered California is one of the largest state health insurance exchanges regulated
       by the ACA, accounting for more than 10% of national enrollment. The purpose of
       the exchange is to provide health insurance options for individuals not covered by an
       employer or a public program, such as Medicaid or Medicare.
           The basic structure of Covered California is determined by federal regulation, and
       so is common to ACA marketplaces in all states. The regulation splits states into
       geographic rating regions comprised of groups of contiguous counties or zip codes. In
       California, there are 19 such rating regions. Insurers are allowed to vary premiums
       across (but not within) rating regions, and consumers face the premiums set for their
       resident region. Each year in the spring, insurers announce their intention to enter
       a region in the subsequent calendar year and undergo a state certification process.
       Consumers are then able to purchase insurance for the subsequent year during an open
       enrollment period at the end of the year.
           However, Covered California also differs from other ACA marketplaces in several
       important aspects. One difference is that an insurer who intends to participate in a
       rating region is required to offer a menu of four plans classified into metal tiers of
       increasing actuarial value: Bronze, Silver, Gold and Platinum.4 Unlike other market-
       places, the insurer must provide the entire menu of four plans in any region where
       it enters.5 Moreover, the actuarial features of the plans are standardized to have the
       characteristics shown in Table 1 (among others not shown). Insurers who enter a rating
       region must therefore offer each of the plans listed in Table 1 with the features shown
       there.
           Insurers are also regulated in the way in which they can set premiums. Each
       insurer chooses a base premium for each metal tier in each rating region. This base
       premium is then transformed through federal regulation into premiums that vary by
       the consumer’s age.6 The insurer is not permitted to adjust premiums based on any
       other characteristic of the consumer.7 Premiums are therefore a deterministic function
       of a consumer’s age and resident rating region.
   4
     There is a fifth coverage tier called minimum (or catastrophic) coverage. This tier is not available to
the subsidized buyers we focus on (with a few, rare exceptions), so we omit it from the analysis.
   5
     In other ACA marketplaces, insurers are required to offer one Silver and one Gold plan, while additional
plans are optional.
   6
     This transformation involves multiplying base premiums by an adjustment factor that starts at 1 for
individuals at age 21 and increases smoothly to 3 at age 64. These factors are set by the Center for Medicare
and Medicaid Services. See Orsini and Tebaldi (2017) for further discussion. Individuals 65 and older are
covered by Medicare.
   7
     Some states also allow for adjustments based on tobacco use, but California is not one of these states.


                                                     4
                      Table 1: Standardized Plan Characteristics in Covered California


                                 Panel (a): Characteristics by metal tier before cost-sharing reductions

                          Annual           Annual max           Primary        E.R.      Specialist      Preferred   Advertised
 Tier                    deductible        out-of-pocket         visit         visit       visit          drugs        AV(∗)
 Bronze                     $5,000             $6,250              $60         $300          $70             $50        60%
 Silver                     $2,250             $6,250              $45         $250          $65             $50        70%
 Gold                         $0               $6,250              $30         $250          $50             $50        79%
 Platinum                     $0               $4,000              $20         $150          $40             $15        90%
                                    Panel (b): Silver plan characteristics after cost-sharing reductions

 Income                   Annual           Annual max           Primary        E.R.      Specialist      Preferred   Advertised
 (%FPL)                  deductible        out-of-pocket         visit         visit       visit          drugs        AV(∗)
 200-250% FPL               $1,850             $5,200              $40         $250          $50             $35        74%
 150-200% FPL                $550              $2,250              $15          $75          $20             $15        88%
 100-150% FPL                 $0               $2,250               $3          $25           $5              $5        95%
Source: http://www.coveredca.com/PDFs/2015-Health-Benefits-Table.pdf .
(? ): Actuarial value (AV) is advertised to consumers as a percentage of medical expenses covered by the plan.




              Individuals with household income below 400% of the Federal Poverty Level (FPL)
         pay lower premiums than received by the insurer, with the difference being made up by
         premium subsidies. We focus our analysis on these individuals, since they constitute
         a large group of key policy interest.8 The premium subsidies vary across individuals
         according to federal regulations. These ensure that the subsidized premium of the
         second-cheapest Silver plan is lower than a maximum affordable amount that varies by
         household income.9 Post-subsidy premiums are therefore a deterministic function of a
         consumer’s age, resident rating region, and household income.
              In addition to premium subsidies, the ACA also provides cost-sharing reductions
         (CSRs) for individuals with household income lower than 250% of the FPL. CSRs are
         implemented by changing the actuarial terms of the Silver plan for eligible individuals
         according to their income, with discrete changes at 150%, 200%, and 250% of the FPL;
         see Table 1. CSRs make Silver plans very attractive for low-income individuals relative
         to the more expensive Gold and Platinum plans.
              To further incentivize insurance uptake, the ACA had a universal coverage mandate
         which determined an income tax penalty for remaining uninsured. We treat this tax
         penalty as affecting the value of the outside option of not purchasing any Covered
    8
     In 2014, this group comprised nearly 90% of contracts in Covered California.
    9
     The reduction in subsidies we consider in the counterfactuals is equivalent to an increase in this maximum
affordable amount, holding insurers’ decisions fixed.



                                                                       5
       California plan. The universal mandate was weak in 2014, and generally unenforced
       between 2014–2017 (Miller, 2017). It was repealed under the Tax Cuts and Jobs Act
       of 2017.


       3     Empirical Methodology
       3.1    Nonparametric Discrete Choice Model
       We consider a model in which a population of consumers indexed by i each choose a
       single health insurance plan Yi from a set J ≡ {0, 1, . . . , J} of J +1 choices. Each plan j
       has a premium, Pij , which is indexed by the consumer, i, since different consumers face
       different post-subsidy premiums depending on their sociodemographic characteristics.
       Choice j = 0 represents the outside option of not choosing any of the insurance plans,
       and has premium normalized to 0, so that Pi0 = 0. When we take the model to the
       Covered California data in Section 4, we will have five choices (J = 4) with options
       1, 2, 3, and 4 representing Bronze, Silver, Gold, and Platinum plans, respectively.
           Consumer i has a vector Vi ≡ (Vi0 , Vi1 , . . . , ViJ ) of valuations for each plan, with the
       standard normalization that Vi0 = 0.10 The valuations are known to the consumer, but
       latent from the perspective of the researcher. We assume that consumer i’s indirect
       utility from choosing plan j is given by Vij − Pij , so that their plan choice is given by

                                          Yi = arg max Vij − Pij .                                  (1)
                                                  j∈J


       We do not assume that the distribution of Vi follows a specific functional form such as
       type I extreme value (logit) or multivariate normal (probit). We also allow Vij and Vik
       to be dependent for j 6= k.
           Models like (1) in which valuations and premiums are additively separable have
       been widely used in the recent literature on insurance demand, see e.g. Einav et al.
       (2010a), Einav et al. (2010b), and Bundorf et al. (2012). In Appendix B, we derive (1)
       from an insurance choice model similar to the ones in Handel (2013) and Handel et al.
       (2015), in which consumers have quasilinear utility and constant absolute risk aversion
       preferences. In this model, differences in Vi across consumers arise from heterogeneity
       in their unobserved preferences, risk factors, and risk aversion.
           The additive separability (quasilinearity) of premiums in (1) imposes restrictions
       on substitution patterns. In particular, if all premiums were to increase by the same
       amount, then a consumer who chose to purchase plan j ≥ 1 before the premium increase
  10
    Choosing j = 0 may incur a tax penalty due to the universal coverage mandate. Normalizing Vi0 = 0
means that Vij also incorporates the value of not facing the tax penalty.


                                                        6
       will either continue to choose plan j after the premium increase, or will switch to the
       outside option (j = 0), but they will not switch to a different plan k ≥ 1, k 6= j. This
       limits the role of income effects to the extensive margin of purchasing any insurance
       plan versus taking the outside option.
          However, it is important to note that (1) is a model of a given consumer i. When we
       take (1) to the data, we combine observations on many consumers, so in practice we can
       allow for income effects by allowing for dependence between a consumer’s income and
       their valuations. To formalize this, we treat a consumer’s income and other observed
       characteristics as part of a vector, Xi , and then restrict the dependence between Vi
       and the various components of Xi . We discuss these restrictions in Section 3.5.1 and
       our specific implementation of them in Section 4.2.
          One observable characteristic of consumer i that will be particularly important is
       their market, which in Covered California is their resident rating region. In particular,
       when we estimate demand we will do so conditional on a market, so that market-level
       unobservables responsible for price endogeneity are held fixed in the counterfactual (see
       e.g. Berry and Haile, 2010, pg. 5). To emphasize this, we let Mi denote consumer i’s
       market, and we treat Mi as separate from Xi .

       3.2    Comparison with a Common Parametric Model
       A common parametric specification for discrete choice demand models is

                                           0
                            Yim = arg max Xijm βim − αim Pijm + ξjm + ijm ,                         (2)
                                      j∈J


       where i, j, and m index consumers, products, and markets, Pijm is price, Xijm are
       observed characteristics, ξjm are unobserved product-market characteristics, βim and
       αim are individual-level random coefficients, and ijm are idiosyncratic unobservables.11
       In the influential model of Berry et al. (1995), ijm are assumed to be i.i.d. logit
       (type I extreme value), and (βim , αim ) are assumed to be normally distributed. Our
       motivation for considering (1) is to preserve the utility maximization structure in (2),
       while avoiding these types of parametric assumptions.12
          The three indices in (2) reflect different possible levels of data aggregation. If only
       market-level data is available, as in Berry et al. (1995) or Nevo (2001), then (2) is
  11
     For example, see equation (6) of Nevo (2011), or equation (1) of Berry and Haile (2015). We include i
indices on Xijm and Pijm to maintain consistency with our notation.
  12
     Fox et al. (2012) provide conditions under which the distribution of (βim , αim ) is nonparametrically
point identified, and Fox et al. (2011) develop an estimator based on discretizing this distribution. Their
results maintain the logit assumption on ijm , and require additional structure to allow for price endogeneity.



                                                       7
      aggregated to the (j, m) level, and the data is viewed as drawn from a population
      of markets and/or products (Berry et al., 2004b; Armstrong, 2016). Our analysis
      presumes richer individual-level choice data as in Berry et al. (2004a) or Berry and
      Haile (2010), but the number of markets we study is small and fixed. To emphasize
      this, we index the nonparametric model (1) only over i and j, and we record the identity
      of consumer i’s market using the random variable Mi .
          After subsuming m subscripts into i subscripts, (1) can be seen to nest (2) by
      dividing through by αi and taking Vij ≡ αi−1 (Xij0 βi + ξij + ij ).13 This relationship
      highlights two important considerations for our analysis. First, we do not want to
      assume that Vi and Pi are independent, since Vi depends on ξi ≡ (ξi1 , . . . , ξiJ ), which
      captures unobserved product characteristics in consumer i’s market (Berry, 1994). We
      address this by conditioning on the market, Mi , after which ξi is nonstochastic. Second,
      we want to allow for Vij and Vik to be arbitrarily dependent for j 6= k, in order to
      avoid imposing the unattractive substitution patterns associated with the logit model
      (Hausman and Wise, 1978; Goldberg, 1995; Berry et al., 1995; McFadden and Train,
      2000).

      3.3      Price Variation
      In Covered California, post-subsidy premiums are a deterministic function of the mar-
      ket, Mi , and consumer demographics, Xi . We denote this function by Pi ≡ π(Mi , Xi ).
          Throughout the paper, our estimates of demand condition on the market, so the
      price variation we use for identification comes from variation across consumer demo-
      graphics within a market. This could be problematic if these characteristics are related
      to valuations, Vi . Our empirical strategy, which we describe in more detail later, will be
      to use demographic variation only within relatively homogenous groups of consumers,
      so that valuations can be reasonably assumed to be independent of prices within these
      groups.
          Our setting is different than many discrete choice applications in which prices only
      vary at the market level, such as Berry et al. (1995) or Nevo (2001). In terms of our
      notation, these settings would have π(Mi , Xi ) constant in Xi . The methodology we
      develop in the main text is not immediately useful for this case. In Appendix C, we
      propose two ways in which one can extend our approach to handle more aggregated
      price variation. One proposal uses within-market variation in non-price product or
      consumer characteristics, as in Berry and Haile (2010), while the other uses an index
      restriction, as in Berry and Haile (2014).
13
     This requires the mild assumption that αi > 0 with probability 1.


                                                    8
       3.4    Target Parameters
       The primitive object in model (1) is the distribution of valuations, Vi , conditional on
       market, Mi , and other covariates, Xi . We will assume throughout the paper that
       this distribution is continuous so that ties between choices in (1) occur with zero
       probability. In addition to ensuring no ties, this also means we can associate the
       conditional distribution of valuations with a conditional density function f (·|m, x) for
       each realization Mi = m, and Xi = x.14
           The density f is a key object in the following. Common counterfactual quantities
       of interest can be written as integrals or sums of integrals of f (see e.g. Section 4.2
       of Berry and Haile, 2014, or Section 3.4.1 of Berry and Haile, 2015). For example, a
       natural counterfactual quantity is the proportion of consumers who would choose plan
       j at a new premium vector, p? . This proportion can be written in terms of f as
                                Z
                                    1[vj − p?j ≥ vk − p?k for all k] f (v|m, x) dv,                    (3)
                                    |             {z               }
                                       choose j if premiums were p?


       where we are conditioning on market, m, and other consumer characteristics, x. An-
       other natural counterfactual quantity is the impact on average consumer surplus caused
       by changing premiums from p to p? . This can be written as
                    Z                                       Z                   
                          max vj −   p?jf (v|m, x) dv −             max vj − pj f (v|m, x) dv ,        (4)
                          j∈J                                       j∈J
                    |                {z             }   |                    {z             }
                          consumer surplus under p?                   consumer surplus under p


       where again the market, m, is being held fixed in the counterfactual.
           Conceptually, we view both (3) and (4) as scalar-valued functionals (functions) of
       f . The functions vary in their form, and will further vary when we consider different
       counterfactual premiums, p? , choice probabilities for plans other than j in (3), and
       different values of (or averages over) the covariates, x. In Section 4, we also estimate
       a third class of quantities that measure changes in government spending on premium
       subsidies.
           To handle this generality, we consider all such quantities to be examples of target
       parameters, θ : F → Rdθ , where F is the collection of all conditional density functions
       on RJ . A target parameter is just a function of the conditional density of valuations,
       f . In the examples just given, the target parameter is scalar-valued, so that dθ = 1.
   14
      More formally, this requires the assumption that the distribution of Vi , conditional on (Mi , Xi ) = (m, x)
is absolutely continuously distributed with respect to Lebesgue measure on RJ for every (m, x) in the support
of (Mi , Xi ).



                                                          9
However, we will also consider cases with dθ > 1, for example to understand the
joint identified set for two related target parameters, such as consumer surplus and
government expenditure. Our goal is to infer the values of θ(f ) that are consistent
with both the observed data and our assumptions.

3.5     Assumptions
We augment (1) with two types of assumptions. The first assumption is that one or
more components of Xi are suitable instruments. The second assumption is that the
density of valuations has support contained within a known set.

3.5.1    Instrumental Variables

To describe the first type of assumption, let Wi and Zi be two subvectors (or more
general functions) of the market and covariates, Mi and Xi . The Zi subvector consists
of instruments that satisfy an exogeneity assumption discussed ahead. This exogeneity
assumption will be conditional on Wi , which are viewed as control variables. Note that
Wi could be chosen to be empty.
   Stating the instrumental variable assumption requires the density of valuations
conditional on Wi and Zi . We can construct this object by averaging over f as follows:
                                       h                             i
                   fV |W Z (v|w, z) ≡ E f (v|Mi , Xi ) Wi = w, Zi = z .                 (5)

Our assumption that Zi is an instrument, conditional on Wi , can then be stated as:

                fV |W Z (v|w, z) = fV |W Z (v|w, z 0 )   for all z, z 0 , w, and v.     (6)

In words, (6) says that the distribution of valuations is invariant to shifts in Zi , condi-
tional on Wi . That is, Zi is exogenous. In our application, Wi includes Mi and coarse
age and income bins, and Zi is residual variation in age and income within these bins.
   In order for (6) to be a useful assumption, shifts in the instrument Zi (still condi-
tioning on Wi ) should have an effect on premiums. This follows the usual intuition:
If Zi is exogenous, then changes in observed choice shares as Zi varies reflect changes
in premiums, rather than changes in valuations. The more that premiums vary with
Zi , the more information we will have to pin down different parts of the density of
valuations, f , and therefore the target parameter, θ. In our application, this premium
variation comes from the age-rating and income subsidies legislated by the ACA.
   It is common to justify point identification of nonparametric discrete choice models




                                               10
       by assuming that the instrument has a large amount of variation.15 However, in our
       data this seems unlikely to be the case. For this reason, we consider the partial identi-
       fication framework discussed ahead. This framework does not require the instrument
       to have any particular amount of variation. However, greater variation is still rewarded
       in the form of more informative bounds.

       3.5.2    Support

       The second assumption we use is that the support of f is concentrated on a known set.
       For each realization of Wi , defined as in the previous section, we choose a set V • (w)
       and then assume that f is such that
                                Z
                                           fV |W Z (v|w, z) dv = 1   for all w, z.                  (7)
                                 V • (w)


       By choosing V • (w) = RJ , one can make this assumption trivially satisfied.
          We use (7) to exploit the vertical structure of the ACA. For example, a Platinum
       plan is actuarially more generous than a Bronze plan (see Table 1). We can use (7)
       to impose the assumption that consumers would always prefer Platinum (j = 4) to
       Bronze (j = 1) at equal premiums by taking V • (w) = {v ∈ RJ : v4 ≥ v1 }. Since
       V • (w) depends on w, we can allow the definition of this set to change with income,
       which allows us to account for CSRs. We list the support assumptions we use for the
       application in Section 4.2.

       3.6     The Identified Set
       We now define the set of possible values that the target parameter θ(f ) could take over
       valuation densities f that both satisfy the assumptions in the preceding section, and
       are consistent with the observed data. To do this, we assume that the researcher has
       at their disposal a collection of conditional choice shares denoted as

                                    sj (m, x) ≡ P[Yi = j|Mi = m, Xi = x].                           (8)

       In our application, we estimate these shares from a combination of administrative
       data on enrollment and survey data used to construct the market size. Here, the
  15
     These types of “large support” assumptions, and the closely related concept of identification-at-infinity,
have had a prominent role in the literature on nonparametric identification more generally. Early examples
of their use include Manski (1985), Thompson (1989), Heckman and Honoré (1990), and Lewbel (2000).
More recent applications of this argument to discrete choice include Heckman and Navarro (2007) and Fox
and Gandhi (2016).



                                                        11
identification analysis is premised on the thought experiment of perfect knowledge of
these choice shares.
     Each density of valuations implies a set of choice shares. In particular, a consumer
would choose option j when faced with a premium p if and only if they have valuations
in the set

               Vj (p) ≡ (v1 , . . . , vJ ) ∈ RJ : vj − pj ≥ vk − pk for all k .
                       
                                                                                      (9)

The choice shares for plan j implied by the density f are determined by the mass that
f places on Vj (p) when prices are p = π(m, x). We denote these implied choice shares
by
                                               Z
                             sj (m, x; f ) ≡                 f (v|m, x) dv.         (10)
                                               Vj (π(m,x))


A density f is consistent with the observed choice shares if

                          sj (m, x; f ) = sj (m, x)     for all j, m and x.         (11)

     The identified set of valuation densities is the set of all f that both match the
observed choice shares and satisfy the assumptions laid out in the previous section.
We call this set F ? :

                         F ? ≡ {f ∈ F : f satisfies (6), (7), and (11)} .           (12)

However, our real interest centers on the target parameter, θ, examples of which include
counterfactual demand (3) and changes in consumer surplus (4). The identified set for
θ is the image of the identified set for F ? under θ. That is,

                                     Θ? ≡ {θ(f ) : f ∈ F ? }.

The set Θ? consists of all values of the target parameter that are consistent with both
the data and the instrumental variable and support assumptions (6) and (7). It is the
central object of interest.
     The difficulty lies in characterizing Θ? . In the following, we develop an argument
that enables us to compute Θ? exactly. The idea is to partition RJ into the smallest
collection of sets within which choice behavior would remain constant under all pre-
miums observed in the data, as well as all premiums that are required to compute the
target parameter. We call this collection of sets the minimal relevant partition (MRP)


                                                   12
       of valuations. We then reduce the problem of characterizing Θ? from one of searching
       over densities f to one of searching over mass functions defined on the sets that consti-
       tute the MRP. For cases in which the target parameter is scalar-valued (dθ = 1), this
       latter problem can often be solved with two linear programs.

       3.7    The Minimal Relevant Partition of Valuations
       We illustrate the definition and construction of the MRP using a simple example with
       J = 2, so that a consumer’s valuations (and the premiums of the plans in their choice
       set) can be represented as points in the plane. A general, formal definition of the MRP
       is given in Section 3.9.
          Suppose that the data consists of a single observed premium vector, pa , and that we
       are concerned with behavior under a counterfactual premium vector, p? , which we do
       not observe in the data. The idea behind the MRP is illustrated in Figure 1. Panel (a)
       shows that considering behavior under premium pa divides R2 into three sets depending
       on whether a consumer would choose options 0, 1, or 2 when faced with pa .16 Panel
       (b) shows the analogous situation under premium p? . Intersecting these two three-set
       collections creates the collection of six sets shown in panel (c). This collection of six
       sets is the MRP for this example.17
          The MRP is minimal in the sense that any two consumers who have valuations in
       the same set would exhibit the same choice behavior under both premiums pa and p? .
       Conversely, any two consumers with valuations in different sets would exhibit different
       choice behavior under at least one of these premiums. For example, consumers with
       valuations in the set marked V2 in Figure 1c make the same choices as those with
       valuations in V4 under pa , but make different choices under p? , where the first group
       chooses the outside option, and the second group chooses plan 1. Similarly, consumers
       with valuations in V2 and V6 both choose the outside option at p? , but at pa the first
       group chooses plan 2 and the second group chooses plan 1.
          In Figure 1d, we show how the MRP would change if we were to observe a second
       premium, pb . The MRP now consists of ten sets, but the idea is the same: Consumers
       with valuations within a given set have the same choice behavior under premiums
       pa , pb , and p? , while consumers with valuations in different sets would make different
       choices for at least one of these premiums.
  16
      Diagrams like panel (a) appear frequently in the literature on discrete choice, see e.g. Thompson (1989,
Figure 1), Chesher et al. (2013, Figure 1), or Berry and Haile (2014, Figure 1).
  17
      The MRP is related to the class of core-determining sets derived by Chesher et al. (2013). Comparing
our Figure 1c to their Figures 2–3 shows that the MRP is a strict subset of the class of core-determining
sets, since the latter also includes all connected unions of sets in the MRP.



                                                     13
                                  Figure 1: Partitioning the Space of Valuations


Valuation of                                                       Valuation of
  good 2            buy good 2                                       good 2            buy good 2
                    at price pa                                                        at price p?

                                       p?                                                            p?




               buy good 0 pa                buy good 1                            buy good 0 pa           buy good 1
               at price pa                  at price pa                           at price p?             at price p?




                                                    Valuation of                                                 Valuation of
                                                      good 1                                                       good 1

          (a) Choices if prices were pa .                                    (b) Choices if prices were p? .


Valuation of                                                       Valuation of
  good 2                                                             good 2
                        V3
                                            V4
                                       p?                                                            p?




                     V2
                                                                                         pb
                                               V5
                          pa                                                                  pa
                                  V6
                  V1

                                                    Valuation of                                                 Valuation of
                                                      good 1                                                       good 1
     (c) The minimal relevant partition                                 (d) The minimal relevant partition
     (MRP) constructed from pa and p? .                                 (MRP) constructed from pa , pb , and p? .




                                                               14
   The way the MRP is constructed ensures that predicted choice shares for any val-
uation density can be computed by summing the mass that the density places on sets
in the MRP. For example, suppose that we fix Mi = m, and that there are two values
of Xi such that pa = π(m, xa ), and pb = π(m, xb ). In Figure 1c, we can see that the
share of consumers who would choose good 1 if premiums were pa can be written as
                           Z                               Z                           Z
                  a                           a                             a
        s1 (m, x ; f ) =             f (v|m, x ) dv =              f (v|m, x ) dv +         f (v|m, xa ) dv,
                            V5 ∪V6                            V5                       V6

while the share of consumers who would choose good 2 is given by
                                                   Z
                               s2 (m, xa ; f ) =                    f (v|m, xa ) dv.
                                                       V2 ∪V3 ∪V4

This allows us to simplify the determination of whether a given f reproduces the
observed choice shares by considering only the total mass that f places on sets in the
MRP, without having to be concerned with how this mass is distributed within these
sets.
   Since we included p? when constructing the MRP, the same is also true when
considering target parameters θ that measure choice behavior at p? . For example,
suppose that the target parameter is the choice share of plan 2 if premiums were
changed from pa to p? . This is a particular case of (3), and can be written in terms of
the MRP as
                                                   Z
                                        θ(f ) =          f (v|m, xa ) dv.                                      (13)
                                                   V3

As another example, we could write the associated change in this choice share as
                  Z                       Z                                      Z
                               a                                      a
        θ(f ) =        f (v|m, x ) dv −                  f (v|m, x ) dv = −                 f (v|m, xa ) dv.
                  V3                       V2 ∪V3 ∪V4                              V2 ∪V4

In both of these quantities, we have fixed the density conditional on the market, m,
and observed covariates, xa . This corresponds to the usual counterfactual of changing
prices while holding fixed factors that might be correlated with price.

3.8      Computing Bounds on the Target Parameter
Now suppose that we observe the following choice shares:

                  s0 (m, xa ) = .20,      s1 (m, xa ) = .14,          and s2 (m, xa ) = .66.




                                                         15
For illustration, we assume that Xi is exogenous, i.e. we limit attention to f for which
f (v|m, xa ) = f (v|m, x? ) = f (v|m). In terms of (6), this corresponds to Wi = Mi and
Zi = Xi . In this case, (11) can be written as
                                                              Z
                                                                    f (v|m) dv = s0 (m, xa ) = .20,
                                                               V1
                                  Z                           Z
                         and            f (v|m) dv +                f (v|m) dv = s1 (m, xa ) = .14,
             Z                    ZV5                         ZV6
      and          f (v|m) dv +         f (v|m) dv +                f (v|m) dv = s2 (m, xa ) = .66.   (14)
              V2                   V3                          V4

As shown in (13), if the target parameter is the choice share of plan 2 at p? , this can
be written as
                                                     Z
                                          θ(f ) =          f (v|m) dv.                                (15)
                                                      V3

   The key observation is that even though all of these quantities depend on a density
f , they can be computed with knowledge of just six non-negative numbers:
                                                Z                    6
                                          φl ≡        f (v|m) dv              .
                                                 Vl                     l=1

This suggests that we can focus only on the total mass placed on the sets in the MRP
without losing any information. To find the largest value that θ(f ) can take while still
respecting (14), we rephrase all quantities in terms of {φl }6l=1 and then maximize (15)
subject to (14):

                         t?ub ≡ max φ3                                                                (16)
                                  φ∈R6

                               subject to: φ1 = .20
                                                      φ5 + φ6 = .14
                                                      φ2 + φ3 + φ4 = .66
                                                      φl ≥ 0        for l = 1, . . . , 6.

This is a linear program. In this simple example, one can see by inspection that the
solution of the program is to take φ3 = .66, so that t?ub = .66. To find the smallest
value of θ(f ) we solve the analogous minimization problem, the optimal value of which
we call t?lb . In this example, t?lb = 0.
   In the next section, we formally prove that Θ? = [t?lb , t?ub ]. This result shows that the
procedure of reducing f to a collection of six numbers {φl }6l=1 is a sharp characterization

                                                         16
       of Θ? in the sense that it entails no loss of information. A sketch of the proof is as
       follows. First, for any value t ∈ Θ? , there must exist (by definition) an f ∈ F ? such
       that θ(f ) = t. This f generates a collection of numbers {φl = Vl f (v|m) dv}6l=1 , which
                                                                      R

       must satisfy the constraints in (16), since every f ∈ F ? satisfies (14). Conversely, given
       any value of t ∈ [t?lb , t?ub ], there exists a set of numbers {φl }6l=1 satisfying the constraints
       in (16), and such that φ3 = t.18 From this set of numbers {φl }6l=1 , we can construct
       a density f that satisfies (14) by distributing mass in the amount of φl arbitrarily
       within each Vl . Evidently, this density will also satisfy θ(f ) = φ3 = t. Thus, the sharp
       identified set for this target parameter is Θ? = [t?lb , t?ub ]. Intuitively, the reason there
       is no loss of information from reducing f to {φl }6l=1 is that the MRP was constructed
       to represent all relevant differences in economic behavior.
          Now suppose that we have a second observed premium, pb , so that the MRP is as
       shown in Figure 1d. In this case, the MRP contains 10 sets, so the linear program
       analogous to (16) will have 10 variables of optimization. In addition to matching the
       observed shares at xa through (16), these variables will also need to match the observed
       shares for xb , which we will suppose here are given by

                      s0 (m, xb ) = .27,    s1 (m, xb ) = .31,   and s2 (m, xb ) = .42.

          Reasoning through the solution to the resulting program is more complicated. Since
       the observed shares for pa still need to be matched, it is still the case that a total mass
       of .66 must be placed over consumers who would choose plan 2 under pa . Some of
       these consumers might choose the outside option under pb . In fact, as shown in Figure
       2, this must be the case for a proportion of at least s0 (m, xb ) − s0 (m, xa ) = .07 of
       consumers. Given this new requirement, the maximum amount of mass remaining to
       distribute over consumers who would choose plan 2 under p? has decreased from .66 to
       .66 − .07 = .59. This is the new upper bound, t?ub . The fact that it is smaller than the
       previous upper bound reflects the additional information contained in choice shares at
       pb . The lower bound, t?lb , is still zero, because it is still possible to match the observed
       choice shares for pa and pb by concentrating all mass southwest of p? .
          When we take this procedure to the data, the linear programs will have thousands
       of variables and constraints, which makes this sort of case-by-case reasoning impossible.
       Instead, we will use state of the art solvers to obtain t?ub and t?lb .19 In practice, we also
       do not assume that f (v|m, x) is invariant in x. This makes a graphical interpretation
  18
     This follows because the constraint set in (16) is closed and connected and the objective function is
continuous.
  19
     In particular, we use Gurobi (Gurobi Optimization, 2015) and check a subset of the results using CPLEX
(IBM, 2010). We formulate and presolve the problems using AMPL (Fourer et al., 2002).

                                                       17
                                              Θ? = [.00, .59]
            Valuation of
              good 2
                                                  .42            .17
                                                                       .00

                                                                 p?

                                       .00

                                                         .00

                                             pb
                                 .07                                     .00


                                                    pa
                                                           .14
                                 .20         .00




                                                                               Valuation of
                                                                                 good 1
Figure 2: The numbers in each set show a solution to the linear program when the target parameter
is the proportion of consumers who choose plan 2 at p? and the objective is to find the upper bound
(maximize) this proportion. Matching the share of consumers who choose the outside option at the
new observed premium, pb , means there is now .07 less mass to devote to this objective.


      unwieldy, since a separate diagram like Figure 2 would be needed for each value of
      x. The mass placed over sets within each diagram is linked together by imposing
      constraints on these masses that are analogous to the instrumental variable assumption
      (6). Part of the formal analysis in the next section involves showing that such a
      procedure retains sharpness.

      3.9    Formalization
      In this section, we formalize the discussion in the previous three sections in the following
      ways. First, we provide a precise definition of the MRP. Second, we generalize the
      transformation from densities f to mass functions over the sets in the MRP, which,
      as in the previous section, we refer to as φ. Third, we show how to compute bounds
      on the target parameter under the instrumental variable and support assumptions.
      Fourth, we provide the general statement and proof of the result that these bounds are

                                                         18
       sharp. Lastly, we consider the conditions under which these bounds can be computed
       by solving linear programs. Throughout the analysis, we model (Mi , Xi ) as discretely
       distributed with finite support, although this is not essential to the discussion.
          Beginning with the MRP, we let P denote a finite set of premiums that is chosen
       by the researcher and always contains at least the observed support of premiums. The
       premiums in P are used to construct the MRP, so a given MRP depends on P. For
       example, in Figure 1c we had P = {pa , p? }, while in Figure 1d, P = {pa , pb , p? }.20
          The choice of which additional points to include in P is determined by the target
       parameter, θ. In Figure 1, the focus was on demand at a new premium, p? , so P had
       to include p? . This restriction will be formalized below as the statement that θ(f ) can
       be evaluated for any f by only considering the total mass that f places on sets in the
       MRP. Additional points can always be added to P to help satisfy this restriction.
          We use the set P to formally define the MRP as follows.

       Definition MRP. Let Y (v, p) ≡ arg maxj∈J vj −pj for any (v1 , . . . , vJ ), (p1 , . . . , pJ ) ∈
       RJ , where v ≡ (v0 , v1 , . . . , vJ ) and p ≡ (p0 , p1 , . . . , pJ ) with v0 = p0 = 0. The minimal
       relevant partition of valuations (MRP) is a collection V of sets V ⊆ RJ for which the
       following property holds for almost every v, v 0 ∈ RJ (with respect to Lebesgue measure):

                   v, v 0 ∈ V for some V ∈ V       ⇔     Y (v, p) = Y (v 0 , p) for all p ∈ P.        (17)

       Definition MRP creates a collection of sets V that is minimal in the sense that any
       two consumers who have valuations in a set in V would exhibit the same choice behav-
       ior for every premium vector in P.21 Conversely, any two consumers with valuations
       in different sets would exhibit different choice behavior for at least one premium in
       P. Constructing the MRP is intuitive, but somewhat involved both notationally and
       algorithmically. Since the details of constructing the MRP are not necessary for un-
       derstanding the methodology, we relegate our discussion of this to Appendix D.22
  20
      When implementing our methodology, we estimate demand separately for each market m, and thus also
construct the set P separately for each market. We suppress this dependence in the notation because it does
not affect our characterization of the identified set.
   21
      Note that V depends on P. We do not make this explicit in the notation because the following discussion
only considers a single premium set, P, and the single MRP it generates, V.
   22
      We should, however, note two small misnomers in our terminology that become evident in the construc-
tion, or perhaps by inspecting Figure 1. First, the MRP may not be a strict partition, because adjacent sets
in V could overlap on their boundary. Since we are limiting attention to continuously distributed valuations,
this distinction does not have any practical or empirical relevance, and does not violate Definition MRP.
Second, and for the same reason, although we have described the MRP as “the” MRP, it is not unique,
since one could consider a boundary region to be in either of the sets to which it is a boundary without
violating (17) on a set of positive measure. Again, this is not important for the analysis given our focus on
continuously distributed valuations.


                                                       19
          The utility of the MRP is that it allows us to express the choice probabilities
      associated with any density of valuations, f , in terms of the mass that f places on sets
      in V. In particular, let Vj (p) ⊆ V denote the sets in the MRP for which a consumer
      with valuations in these sets would choose j when facing premiums p.23 Then the
      probability that a consumer chooses j under premiums p is the probability that Vi lies
      in the union of V ∈ Vj (p). Since sets in V are disjoint, this can be written as the sum
      of the masses that f places on sets in Vj (p), that is
                             Z                              X Z
                                       f (v|m, x) dv =                   f (v|m, x) dv.                 (18)
                              Vj (p)                     V∈Vj (p) V


          Having defined the MRP, we now define mass functions over the MRP. To do this,
      let φ(·|·, ·) denote a function with domain V × supp(Mi , Xi ). Such a function φ can be
                                                                                                    d
      viewed as an element of Rdφ , where dφ is the cardinality of its domain. Let R+φ denote
      the subset of Rdφ whose elements are all non-negative and define
                      (                                                                         )
                             d
                                      X
                 Φ≡    φ∈   R+φ   :         φ(V|m, x) = 1         for all (m, x) ∈ supp(Mi , Xi ) .     (19)
                                      V∈V

      The set Φ contains all functions that could represent a conditional probability mass
      function supported on the finite collection of sets, V.
          Each density f generates a mass function φ(f ) ∈ Φ defined by
                                                          Z
                                       φ(f )(V|m, x) ≡            f (v|m, x) dv.                        (20)
                                                              V

      We assume that the value of the target parameter for any f is fully determined by
      φ(f ). Formally, the assumption is that there exists a known function θ with domain Φ
      such that θ(f ) = θ(φ(f )) for every f ∈ F. Since Φ depends on the MRP, and the MRP
      depends on P, satisfying this requirement is a matter of choosing P to be sufficiently
      rich to evaluate the target parameter, θ.
          To impose the instrumental variable assumption (6), we define for any φ ∈ Φ the
      function
                                             h                            i
                          φV|W Z (V|w, z) ≡ E φ(V|Mi , Xi ) Wi = w, Zi = z ,                            (21)

      where Wi and Zi are as in the statement of that condition. Similarly, to impose the
23
     Using the notation of Definition MRP, Vj (p) ≡ {V ∈ V : Y (v, p) = j for almost every v ∈ V}.




                                                         20
       support assumption, we let V• (w) denote the subset of V that intersects V • (w), i.e.

                                   V• (w) ≡ {V ∈ V : λ(V ∩ V • (w)) > 0},                           (22)

       with λ denoting Lebesgue measure on RJ .
          The next proposition shows that Θ? can be characterized exactly by solving systems
       of equations in φ. These equations replicate (6), (7), and (11) at a hypothesized pa-
       rameter value, but in terms of the finite-dimensional mass function, φ, rather than the
       infinite-dimensional density, f . The interpretation of the result is that this dimension
       reduction entails no loss of information. A proof is in Appendix E.

       Proposition 1. Let t ∈ Rdθ . Then t ∈ Θ? if and only if there exists a φ ∈ Φ such that

                                          θ(φ) = t,                                                 (23)
                         X
                                     φ(V|m, x) = sj (m, x)      for all j ∈ J and (m, x),           (24)
                     V∈Vj (π(m,x))

                               φV|W Z (V|w, z) = φV|W Z (V|w, z 0 )    for all z, z 0 , w, and V,   (25)
                      X
            and                φV|W Z (V|w, z) = 1    for all w, z.                                 (26)
                    V∈V• (w)


          Observe that each of (24)–(26) are linear in φ.24 If θ is also linear in φ, then
       Proposition 1 shows that Θ? can be exactly characterized by solving linear systems of
       equations. This linearity is satisfied for common target parameters, such as demand
       and consumer surplus.25 An implication of linearity is that Θ? will be connected, and
       so when dθ = 1 it can also be characterized by solving two linear programs. We record
       this point in the following proposition, also proved in Appendix E.

       Proposition 2. If θ is continuous on Φ, then Θ? is a compact, connected set. In
       particular, if dθ = 1, then Θ? = [t?lb , t?ub ], where

                                  t?lb ≡ min θ(φ)       subject to (24)–(26),                       (27)
                                         φ∈Φ


       and with t?ub defined as the solution to the analogous maximization problem.
  24
     This requires noting from (21) that φV|W Z (V|w, z) is itself a linear function of φ.
  25
     For demand this is clear from e.g. (15). Consumer surplus (or changes in it) can be seen to be linear
in f from (4). However, constructing θ for consumer surplus is less obvious. We discuss how this is done in
Appendix F, and we show there that the resulting θ function is linear in φ.




                                                       21
      3.10     Estimation
      Our analysis thus far has concerned the identification problem in which the joint dis-
      tribution of (Yi , Mi , Xi ) is treated as known. In practice, features of this distribution,
      such as the choice shares sj (m, x), need to be estimated from a finite data set, so we
      want to model them as potentially contaminated with statistical error. In this section,
      we show how to modify Proposition 2 to account for such error in our primary case
      of interest with a linear θ. A formal justification for this procedure is developed in
      Mogstad et al. (2018).
          The estimator proceeds in two steps. First, we find the best fit to the observed
      choice shares by solving

                     b ? ≡ min Q(φ)
                     Q         b             subject to (25) and (26),
                            φ∈Φ

                            X                                            X
          where    Q(φ)
                   b    ≡           P[M
                                    b i = m, Xi = x] sbj (m, x) −                   φ(V|m, x) ,   (28)
                            j,m,x                                   V∈Vj (π(m,x))


      with sbj (m, x) the estimated share of choice j, conditional on (Mi , Xi ) = (m, x), and
      P[M
      b i = m, Xi = x] an estimate of the density of (Mi , Xi ). The use of absolute
      deviations in the definition of Qb means that (28) can be reformulated as a linear
      program by replacing terms in absolute values by the sum of their positive and negative
      parts.26 We weight these absolute deviations by the estimated density of (Mi , Xi ) so
      that regions of smaller density do not have an outsized impact on the estimated bounds.
          In the second step, we collect values of θ(φ) for φ that come close to minimizing
      (28). That is, we construct the set:
                       n                                                        o
                  b ? ≡ θ(φ) : φ ∈ Φ, φ satisfies (25), (26), and Q(φ)
                  Θ                                               b     b ? + η, .
                                                                       ≤Q                         (29)

      The qualifier “close” here reflects the tuning parameter η, which must converge to zero
      at an appropriate rate with the sample size. The purpose of this tuning parameter is
      to smooth out potential discontinuities caused by set convergence. In our empirical
      estimates, we set η = .01, and found very little sensitivity to values of η that were bigger
      or smaller by an order of magnitude. However, there are currently no theoretical results
      to guide the choice of this parameter.
                       b ? by solving two linear programs that replace (24) with the condition
          We construct Θ
26
     This is a common reformulation argument, see e.g. Bertsimas and Tsitsiklis (1997, pp. 19–20).




                                                     22
       in (29). That is, we solve

                      t?lb ≡ min θ(φ)
                      b                 subject to (25), (26), and Q(φ)
                                                                   b     b ? + η,
                                                                        ≤Q                    (30)
                             φ∈Φ


       and an analogous maximization problem for b          t?ub . The set estimator for Θ? is then
       b ? ≡ [b
       Θ      t?lb , b
                     t?ub ]. When θ is linear, (30) can be reformulated as a linear program, again
       by appropriately redefining the absolute value terms. In this case, the overall procedure
       of the estimator is to solve three linear programs: One for (28), one for (30), and one
       for the analogous maximization problem.


       4     Demand in Covered California
       4.1    Data
       Our primary data are administrative records on the universe of individuals who pur-
       chased a plan through Covered California in 2014. The data contain unique person
       and household identifiers for each individual, as well as their age, income measured in
       percentage of the FPL, gender, zipcode of residence, choice of plan, and premium paid.
       Since post-subsidy premiums are a deterministic function of demographics (see Section
       2), this information also allows us to calculate premiums for plans a consumer did
       not choose. We focus on the subpopulation of subsidy-eligible adults aged 27–64 with
       household income between 140 and 400% of the FPL. This comprises 73% of enrollees
       in Covered California.27
           We characterize each individual i by their resident rating region (market), Mi , and
       a vector Xi of observables consisting of their age and household income. We discretize
       age into 38 single-year bins running from 27 to 64, and household income into 52
       FPL bins that are 5% wide.28 When crossed with the 19 rating regions in Covered
       California, this yields 37,544 unique rating region × age × income bins of the observable
       characteristics, (Mi , Xi ).
           As in most demand analyses, we do not directly observe individuals who chose
       the outside option of not purchasing a plan through Covered California. This means
       that we need to transform data on quantities chosen for the inside options into choice
       shares by estimating the number of potential buyers. To do this, we use the 2011–
       2013 American Community Survey public use file (via IPUMS, Ruggles et al., 2015) to
       estimate the number of subsidy-eligible buyers not covered by employer-sponsored or
  27
     Out of 1,291,214 covered individuals, 211,093 (16%) are dependents, younger than 26, while 137,714
(11%) are not beneficiaries of premium subsidies.
  28
     The FPL bins are [140, 145), [145, 150), . . . , [395, 400].


                                                   23
       public insurance for each (Mi , Xi ) bin. Our estimation procedure for this part uses a
       flexible parametric model and is similar to procedures used by Finkelstein et al. (2019)
       and Tebaldi (2017). More detail is provided in Appendix G.
          We combine the estimates of potential buyers with the administrative data to con-
       struct choice shares for each of the region × age × income bins. For 7,517 of these
       bins, we observe more enrollees in the administrative data than we estimate as po-
       tential buyers. We drop these bins and use the remaining 30,027 bins as the main
       estimation sample.29 Since the number of individuals per bin varies greatly, we will re-
       port parameters that average over (Mi , Xi ), and therefore put greater weight on larger
       bins.
          Our analysis is focused on an individual’s choice of coverage level (metal tier). Thus,
       J = 4, with j = 1, 2, 3, 4 denoting Bronze, Silver, Gold, and Platinum, respectively,
       and j = 0 denoting the outside option, as usual. The implicit assumption here is that
       the choice of coverage level is separable from the choice of insurer. We view this as a
       reasonable assumption for Covered California because the regulations ensure that the
       metal tiers offered—as well as the financial characteristics of the tiers—do not vary by
       insurer. We define premiums Pij for each tier j in each bin as the median post-subsidy
       premium across insurers.30
          Table 2 provides some summary statistics. Each bin contains on average 85 poten-
       tial buyers. The average participation rate in Covered California is 28%, and varies
       widely across rating regions and demographics, with a standard deviation across bins
       of 21%. Older and poorer buyers are significantly more likely to purchase coverage.
       The impact of the CSRs is evident in panel (b) of the table: Buyers with income be-
       low 200% face premiums of less than $100 per month to purchase a Silver plan with
       actuarial value of 88% or more (see Table 1). Over 30% of such consumers purchase a
       Silver plan, whereas among consumers with income over 250% of the FPL, fewer than
       9% purchase the more expensive and less generous non-CSR Silver plan.

       4.2     Identifying Assumptions
       In this section, we describe our specific implementations of assumptions (6) and (7).
          An insurer’s primary decision in Covered California is the base price for each rating
       region and coverage level. This decision likely depends on differences in demand and
       costs specific to each rating region, for example due to the underlying socioeconomic
       or health characteristics of the residents in a region, or due to differences in provider
  29
     The bins that are dropped tend to have a small number of estimated potential buyers.
  30
    We have also estimated a subset of the results using other measures of price, such as the mean, minimum,
and second-cheapest premiums across insurers. The estimates turn out to be fairly insensitive to this choice.


                                                     24
                                            Table 2: Summary Statistics



                                         Panel (a): Data by region, age, income

                                            Obs. (# of bins)           Mean        St. Dev.         P-10        Median         P-90
 Number of buyers(?)                               30,027             85.27          90.86           14            55           194
 Age                                               30,027              43.41         10.70           29            43            59
 Income (FPL%)                                     30,027             243.98         72.05          155           230           355
 Takeup rate                                       30,027              0.280         0.208         0.053         0.235         0.576
 Average premium paid                              30,027             175.51         89.06           69           163           298
 Share choosing Bronze                             30,027             0.065          0.073           0           0.045         0.147
 Share choosing Silver                             30,027              0.188         0.173         0.018         0.139         0.424
 Share choosing Gold                               30,027              0.015         0.021           0           0.009         0.038
 Share choosing Platinum                           30,027             0.012          0.018           0           0.007         0.030

                                      Panel (b): Heterogeneity by age and income

                    Bronze                              Silver                          Gold                     Platinum
                Premium Share                         Premium         Share        Premium Share              Premium Share
 By age:
 27-34                  120      0.050                        175     0.122                229     0.010              271      0.009
 35-49                  118      0.058                        182     0.175                248     0.013              300      0.011
 50-64                  105      0.086                        210     0.259                321     0.022              409      0.016

 By income (FPL%):
 140-150                  5      0.011                         59     0.338                133     0.005              191      0.006
 150-200                 29      0.046                         95     0.318                170     0.008              229      0.009
 200-250                 87      0.084                        164     0.193                241     0.018              302      0.015
 250-400                197      0.074                        278     0.084                357     0.019              419      0.014
Note: Each observation in panel (a) is a unique combination of rating region × age × income bins of the observable characteristics,
(Mi , Xi ). All statistics except the number of buyers are calculated across bins, weighted by number of buyers in each bin. Standard
deviation refers to the standard deviation across bins of the within-bin median of the corresponding variable. In panel (b), premium is
calculated as the average premium paid across buyers of a given age/income group, while market shares are calculated a proportion of
potential buyers as estimated using the ACS.
(? ): Number of buyers statistics are calculated across bins, not weighted by number of buyers.




   networks. These factors are unobserved in the data, so we will not use variation in
   premiums across regions. That is, we define a market Mi to be a rating region, and
   we do not impose any restriction on how preferences (the density of valuations f ) vary
   across markets.
        Instead, we will assume—in a limited way—that preferences are locally invariant to
   age and income. Since premiums vary with age due to the age-rating, and with income
   due to the premium subsidies, this will provide variation in premiums that we can use
   to help identify demand counterfactuals. The way in which premiums evolve with age



                                                                 25
and income is prescribed by ACA regulations, so the behavior of insurers is not likely
to be an important threat to this strategy. Rather, the main concern is that valuations
also change with age or income due to changes in latent risk factors or preferences. For
this reason, we will use only local variation in age and income.
   We formulate this approach using the notation of Section 3 by letting Wi denote
a coarse aggregate of Xi bins. To do this, we group Xi into age bins given by {27–
30, 31–35, 36–40,. . . , 56–60, 61–64} and income bins given in percentage of the FPL
by {140–150, 150–200, 200–250, 250–300, 300–350, 350–400}. A value of Wi is then
taken to be the market indicator Mi crossed between all possibilities of these coarser
age-income bins. Conditioning on a value of Wi , we observe multiple premiums due to
variation in age and income within the Wi bin. Our assumption is that the distribution
of latent valuations does not change as Xi varies within this coarser bin.
   For example, one value of Wi = w corresponds to individuals in the North Coast
rating region who are aged between 36 and 40 with incomes between 150 and 200%
of the FPL. Within this bin, we have 50 values of Xi , comprised of the 5 ages 36, 37,
38, 39, 40 crossed with the 10 income bins between 150 and 200 in steps of 5%. For
each of these 50 values, we observe a different premium vector. Since the variation we
want to use is now in Xi , conditioning on a value of Wi , the notation we developed in
Section 3 corresponds to taking Zi = Xi . The assumption we use is now precisely (6)
in that discussion, repeated here for emphasis:

                  fV |W Z (v|w, z) = fV |W Z (v|w, z 0 )      for all z, z 0 , w, and v.                 (31)
                  |                             {z                                     }
       within a coarse bin (Wi = w), valuations are locally invariant to age and income (Zi = z, z 0 )


In Section 4.6, we relax assumption (6)/(31) to a strictly weaker “imperfect instrument”
assumption that allows for some local variation with age and income.
   The other assumption we maintain is the support condition (7), which we use to
exploit the vertical ordering of plans in terms of actuarial generosity. We specify the
sets V • (w) as follows:
          
          
          
          {v   ∈ R4 : v2 ≥ v4 ≥ v3 ≥ v1 }                       if w has income below 150% FPL
          
          
          {v   ∈ R4 : v2 ≥ v1 , v4 ≥ v3 ≥ v1 }                  if w has income in 150–200% FPL
          
V • (w) =
          
          
          {v   ∈ R4 : v4 ≥ v2 ≥ v1 , v4 ≥ v3 ≥ v1 }, if w has income in 200–250% FPL
          
          
                ∈ R4 : v4 ≥ v3 ≥ v2 ≥ v1 }
          
          {v                                                    if w has income above 250% FPL

This specification requires consumers to always prefer a plan that dominates on all
actuarial characteristics. The different cases are needed to account for the CSRs,


                                                    26
       which change at 150, 200 and 250% of the FPL (see Table 1). Note that in no case do
       we assume that any of the plans are preferred to the outside option, that is, we allow
       for some or all of the components of v to be smaller than v0 = 0.

       4.3     Counterfactual Prices
       Our focus is on measuring the effects of a change in post-subsidy premiums on demand,
       consumer surplus, and government subsidy expenditure. We do not model supply,
       so all of the results should be interpreted as holding supply fixed. Integrating our
       nonparametric methodology with a model of supply-side behavior is an interesting
       avenue for future research, but beyond the scope of the current paper.
          We consider counterfactual premium vectors of the form π(Mi , Xi ) + δ, for various
       choices of δ. That is, the counterfactuals we consider can be represented as the impact
       of shifting every individual’s premium from the observed premium, Pi ≡ π(Mi , Xi ), to
       a counterfactual premium, Pi? ≡ π(Mi , Xi ) + δ. For each coarse bin (value of Wi ), we
       construct an MRP using the set of premiums formed from all Pi and Pi? within that
       bin.
          Figure 3 illustrates by plotting observed and counterfactual Bronze and Silver pre-
       miums for three counterfactuals. In Figure 3b, the counterfactual is a $10 increase in
       the premium of the Bronze plan for all consumers, while Figure 3c illustrates a $10
       increase for the Silver plan. The former corresponds to δ = (10, 0, 0, 0), while the
       latter corresponds to δ = (0, 10, 0, 0). In Figure 3d, both the Bronze and Silver plan
       premiums increase by $10, which corresponds to δ = (10, 10, 0, 0).

       4.4     Demand Responses
       The first type of target parameter we consider is the change in choice shares. For
       market m, consumer characteristics x, and good j, this can be written as
                                     Z                                 Z
              ∆Sharej (m, x; f ) ≡                   f (v|m, x) dv −                 f (v|m, x) dv,   (32)
                                     Vj (π(m,x)+δ)                     Vj (π(m,x))


       where Vj (p) was defined in (9).31 In order to aggregate (32) into a single measure, we
       average it over markets and demographics:
                                         X
                        ∆Sharej (f ) ≡         ∆Sharej (m, x; f ) P[Mi = m, Xi = x].                  (33)
                                         m,x

  31
     Note that on the left-hand side of (32) we have omitted the dependence on the premium change, δ,
since this will be clear from the way we present the results.



                                                        27
                                                       Figure 3: Observed and Counterfactual Premiums

                                               (a) Observed prices                                                (b) Increase Bronze premiums by $10

                                     250                                                                        250
         Silver premiums ($/month)




                                                                                    Silver premiums ($/month)
                                     200                                                                        200


                                     150                                                                        150


                                     100                                                                        100

                                                                                                                                          Pi → Pi?
                                      50                                                                         50


                                       0                                                                          0
                                           0   50     100         150   200   250                                     0      50     100        150       200   250
                                               Bronze premiums ($/month)                                                     Bronze premiums ($/month)


                                       (c) Increase Silver premiums by $10                                            (d) Increase both premiums by $10

                                     250                                                                        250
         Silver premiums ($/month)




                                                                                    Silver premiums ($/month)




                                     200                                                                        200


                                     150                                                                        150

                                                            Pi?
                                     100                                                                        100                                Pi?
                                                            ↑                                                                                  %
                                                            Pi                                                                            Pi
                                      50                                                                         50


                                       0                                                                          0
                                           0   50     100         150   200   250                                     0      50     100        150       200   250
                                               Bronze premiums ($/month)                                                     Bronze premiums ($/month)


Note: The figure shows observed and counterfactual premiums of Bronze and Silver plans. Panel (a) plots the prices observed in
the data in grey, where each observation is a unique region-age-income combination (N=30,027). Panel (b) overlays in red the
counterfactual prices representing an increase in $10 per person, per month for Bronze premiums. Panel (c) is like Panel (b), but
the price increases are for Silver premiums. Panel (d) is like Panels (b) and (c) with price increases of $10 for both Silver and
Bronze premiums.




                                                                                    28
                    Table 3: Substitution Patterns, Upper and Lower Bounds


                                                   Change in probability of choosing
$10/month premium       Bronze               Silver              Gold                Platinum       Any plan
    increase for      LB      UB          LB        UB        LB        UB          LB      UB      LB    UB

                                   Panel (a): Full sample (140 - 400% FPL)
     Bronze          -0.051   -0.006    +0.002    +0.048    +0.000    +0.031    +0.000    +0.026   -0.013   -0.001
     Silver         +0.000    +0.128     -0.170   -0.013    +0.000    +0.126    +0.000    +0.100   -0.052   -0.003
      Gold          +0.000    +0.007    +0.000    +0.013     -0.016   -0.001    +0.000    +0.014   -0.004   -0.000
    Platinum        +0.000    +0.005    +0.000    +0.008    +0.000    +0.012     -0.012   -0.001   -0.003   -0.000
    All plans        -0.014   -0.003     -0.053   -0.010     -0.005   -0.001     -0.004   -0.000   -0.070   -0.016

                                  Panel (b): Lower income (140 - 250% FPL)
     Bronze          -0.049   -0.006    +0.002    +0.047    +0.000    +0.030    +0.000    +0.025   -0.011   -0.001
     Silver         +0.001    +0.184     -0.243   -0.017    +0.000    +0.178    +0.000    +0.144   -0.078   -0.004
      Gold          +0.000    +0.006    +0.000    +0.011     -0.013   -0.001    +0.000    +0.012   -0.003   -0.000
    Platinum        +0.000    +0.005    +0.000    +0.008    +0.000    +0.012     -0.012   -0.001   -0.003   -0.000
    All plans        -0.012   -0.002     -0.080   -0.014     -0.004   -0.000     -0.004   -0.000   -0.093   -0.018

                                 Panel (c): Higher income (250 - 400% FPL)
     Bronze          -0.053   -0.006    +0.001    +0.049    +0.000    +0.032    +0.000    +0.027   -0.015   -0.002
     Silver         +0.000    +0.058     -0.077   -0.008    +0.000    +0.059    +0.000    +0.044   -0.019   -0.001
      Gold          +0.000    +0.009    +0.000    +0.015     -0.019   -0.002    +0.000    +0.016   -0.005   -0.000
    Platinum        +0.000    +0.005    +0.000    +0.008    +0.000    +0.012     -0.012   -0.001   -0.003   -0.000
    All plans        -0.016   -0.004     -0.020   -0.005     -0.006   -0.001     -0.004   -0.000   -0.040   -0.014




     In the notation of Section 3, ∆Sharej (either averaged or conditional) is an example of
     a target parameter, θ.
         Table 3 reports estimated bounds for ∆Sharej across the four metal tiers together
     with bounds on overall participation, i.e. on 1 − ∆Share0 . The rows of Table 3 reflect
     different types of premium increases, δ. The nominal premium increase is taken to
     be $10 per person, per month, which represents a moderate to large price increase for
     many consumers (see Table 2).
         Our estimated bounds are quite informative. For example, with the full sample
     in panel (a), we estimate that a simultaneous $10 increase in all premiums reduces
     the proportion of individuals who purchase coverage by between 1.6 and 7.0%. Panel
     (b) shows that these estimates are larger in magnitude for lower income individuals,

                                                     29
            Figure 4: Effect of Increasing Bronze Premiums by $10 on Bronze and Silver Choice Shares

                                                                          0.05




                               Change in probability of choosing Silver
                                                                          0.04


                                                                          0.03


                                                                          0.02


                                                                          0.01


                                                                            0
                                                                                  -0.05   -0.04    -0.03   -0.02   -0.01    0
                                                                                 Change in probability of choosing Bronze
Note: The figure shows the joint identified set for the effect of a $10 increase in Bronze monthly premiums on the choice
probabilities of Bronze and Silver plans. To construct the set, we take a grid of equidistant points between the estimated upper
and lower bounds for the change in Bronze choice shares. At each point in the grid, we find bounds on the change in Silver, while
fixing the change in Bronze to be the value at the grid point.


                 at between 1.8 and 9.3%, and panel (c) shows that they are smaller in magnitude
                 for higher income individuals, who we estimate would reduce participation in Covered
                 California by between 1.4 and 4.0%. Comparing panels (b) and (c) more generally, we
                 find a pattern of higher price sensitivity for lower income enrollees.
                    The other columns of Table 3 measure substitution patterns within and between
                 coverage tiers. For example, panel (a) shows that an increase in Bronze premiums
                 by $10 per person, per month would lead to a decrease of between 0.6 and 5.1%
                 in the share of consumers choosing Bronze coverage, and an increase in the share
                 choosing Silver of between 0.2 and 4.8%. The increase in the share choosing Gold or
                 Platinum is significantly smaller, reflecting the closer substitutability of the Bronze
                 and Silver plans. The extensive margin change in participation for a Bronze premium
                 increase is between 0.1 and 1.3%, which is naturally both smaller and tighter than the
                 change when all premiums are increased together. In contrast, increasing Platinum
                 premiums by the same amount would lead to a much smaller decline in the proportion
                 of buyers not purchasing coverage, which we measure to be at most 0.3%. Overall,
                 Table 3 indicates substitution patterns inconsistent with the independence of irrelevant
                 alternatives property of the logit model.


                                                                                                  30
          Table 3 reports estimated bounds obtained by considering ∆Sharej separately for
       each plan. However, changes in choice shares for different plans are tightly related
       to one another. For example, if the decrease in the share of Bronze in response to a
       Bronze premium increase is smaller, the increase in the share of other alternatives is
       likely to also be smaller, and vice versa. We can describe these patterns by plotting
       a joint identified set for the change in multiple choice shares in response to a given
       premium change, as in Figure 4. The shape of this set shows that among the range
       of responses that could result from an increase in Bronze premiums, larger decreases
       in the probability of choosing Bronze would be associated with larger increases in the
       probability of choosing Silver. For example, if the probability of choosing Bronze were
       to decrease by 5%, then the probability of choosing Silver would increase by at least
       2%, implying that at least 40% of the individuals leaving Bronze would substitute to
       Silver.
          In a partial identification framework, the width of the bounds reflects the amount
       of information that the data and assumptions yield about a specific counterfactual.
       The bounds for more ambitious counterfactuals will be wider than the bounds for
       more modest counterfactuals that are closer to what was observed in the data. This
       situation is evident in Figure 5, which plots the average extensive margin (enrollment)
       response as a function of a given increase or decrease in all premiums. The bounds are
       relatively tight for small changes in premiums, and then widen as the premiums get
       farther from what was observed in the data. We consider this an attractive feature of
       the approach, since it reflects the increased difficulty of drawing inference about objects
       that involve larger departures from the observed data, and so captures an important
       dimension of model uncertainty. In contrast, a fully parametric model point identifies
       any counterfactual quantity regardless of how distant the extrapolation involved.32

       4.5       Consumer Surplus and Subsidy Expenditure
       The second set of parameters we consider measure the effects of changing premium
       subsidies on consumer surplus and government spending. From the individual’s per-
       spective, a decrease in premium subsidies—which in terms of policy can be thought of
       as an increase in the ACA’s “maximum affordable amount”—is the same as an increase
       in premiums faced.33 Such a subsidy change generates an average change in consumer
  32
     Note that confidence intervals on point estimates from a parametric model will tend to widen as one
extrapolates further. However, for the parametric models we consider in Section 5, the width of these
confidence intervals is effectively zero even for distant extrapolations.
  33
     Our analysis here requires maintaining a partial equilibrium framework in which there are no other
supply-side responses in base premiums due to an adjustment in subsidy schemes. As noted above, integrating
our approach with a model of insurance supply is an interesting avenue for future research.


                                                    31
         Figure 5: Extensive Margin Demand for Different Counterfactuals

                                                   1




             Probability of purchasing coverage
                                                  0.8


                                                  0.6


                                                  0.4


                                                  0.2


                                                   0
                                                    −20 −15 −10                   −5      0         5   10      15     20
                                                        Change in premium for all plans ($/month)


surplus for an individual in market m with characteristics x of
                                                   Z                                                     
 ∆CS(m, x; f ) ≡                                         max {vj − πj (m, x) − δj } − max {vj − πj (m, x)} f (v|m, x)dv,
                                                         j∈J                                   j∈J


which we aggregate by averaging over markets and demographics into
                                                                     X
                                                   ∆CS(f ) ≡               ∆CS(m, x; f ) P[Mi = m, Xi = x].
                                                                     m,x


We will contrast the change in consumer surplus to the change in government spending
on premium subsidies. This is given by
                                                                                               "Z                               #
                                                            X
         ∆GS(m, x; f ) ≡                                             (Subj (m, x) − δj ) ×                      f (v|m, x) dv
                                                               j>0                              Vj (π(m,x)+δ)
                                                                                               "Z                           #
                                                                          X
                                                                      −         Subj (m, x)×                  f (v|m, x) dv ,
                                                                          j>0                   Vj (π(m,x))




                                                                                     32
       where Subj (m, x) denotes the baseline premium subsidy for purchasing plan j. We
       denote the aggregated change in government spending as
                                       X
                           ∆GS(f ) ≡         ∆GS(m, x; f ) P[Mi = m, Xi = x].
                                       m,x


       Both ∆CS and ∆GS are examples of target parameters θ. Constructing bounds on
       ∆CS involves a two-step construction where we first determine bounds on the change
       in consumer surplus within each set in the MRP. We discuss this in detail in Appendix
       F.
            Figure 6a depicts the bounds on ∆CS for a $10 decrease in subsidies as the shaded
       areas to the left of the two demand curves. The lower bound on the decline in consumer
       surplus is the area to the left of the flatter demand curve, while the upper bound also
       includes the entire area to the left of the steeper demand curve. Intuitively, the smallest
       decrease in consumer surplus is attained when price sensitivity is highest, while the
       largest decrease is attained when price sensitivity is lowest.34 Figure 6b plots the
       joint identified set of the change in consumer surplus and the change in government
       spending for this same counterfactual of a $10 decrease in subsidies. The fact that the
       joint set is not rectangular reflects the mutual dependence of the two parameters on
       the underlying price sensitivity; relatively large consumer surplus decreases will only
       happen under relatively small decreases in spending, and vice versa.
            Table 4 summarizes the estimates illustrated in Figure 6. The first column shows
       estimated bounds using the entire sample, while the second and third columns split
       the estimates on income. In the fourth column of Table 4, we report estimated bounds
       on the corresponding reduction in government spending.
            Our estimates imply that a $10 decrease in monthly subsidies would lead to a reduc-
       tion in average monthly consumer surplus of between $1.99 and $2.45 per person. The
       impacts for the lower-income sample ($2.55–$3.16) are estimated to be approximately
       twice as large as the impacts for the higher-income sample ($1.27–$1.55). This reflects
       the fact that individuals with income lower than 250% of the FPL have a higher uptake
       of insurance and are covered under more generous plans due to the CSRs.
            Our estimates of changes in consumer surplus are dwarfed by the corresponding
       change in government expenditure on premium subsidies, which we estimate to be
       between -$7.50 and -$19.03 per consumer, per month. The large magnitude of the
       expenditure savings is due to the marginal buyers who exit the market. When these
  34
    Note that while the bounds on ∆CS shown here are sharp, the demand curves we have plotted are not
unique, since there are many ways to draw a demand curve up to a $10 premium increase that can yield the
same area to the left, while still respecting the data and assumptions.


                                                    33
                                                 Figure 6: Changes in Consumer Surplus and Government Spending




                                                                                                  Change in government spending ($/person-month)
                                    30
                                                                                UB ∆CS                                                             −8
Change in subsidized premium ($)




                                    25                                          LB ∆CS
                                                                                                                                                   −10
                                    20

                                    15                                                                                                             −12

                                    10
                                                                                                                                                   −14
                                     5
                                                                                                                                                   −16
                                     0

                                   −5                                                                                                              −18

                                   −10                                                                                                                      −2.4       −2.3       −2.2     −2.1     −2
                                         0     250    500    750       1,000     1,250   1,500
                                               Enrolled individuals (thousands)                                                                      Change in consumer surplus ($/person-month)
                                    (a) Bounds on the change in consumer                                                                           (b) The joint identified set of consumer
                                    surplus.                                                                                                       surplus and government spending.


                                               Table 4: The Impacts of Reducing Premium Subsidies by $10 per Month

                                                               140 - 400% FPL             140 - 250% FPL                                                      250 - 400% FPL              140 - 400% FPL
                                                                  Change in                  Change in                                                           Change in               Associated change
                                                              consumer surplus           consumer surplus                                                    consumer surplus            in subsidy outlays
                                                                LB        UB               LB        UB                                                        LB        UB                LB         UB
Average ($/person-month)                                       -2.45            -1.99     -3.16                                                     -2.55      -1.55           -1.27      -19.03       -7.50
Aggregate ($ million/year)                                    -77.82           -62.99    -57.59                                                    -46.48    -22.48           -18.33     -603.89     -237.80




                                     buyers exit, they relinquish their entire premium subsidy, which in most cases is sig-
                                     nificantly greater than $10.
                                             The bottom row of Table 4 shows the aggregate yearly impact of a $10 reduction of
                                     subsidies in Covered California. The total consumer surplus impact would be between
                                     $63 and $78 million, with the majority of the losses concentrated among individuals
                                     with income below 250% of the FPL. At the same time, government subsidy outlays
                                     would decline by between $238 and $604 million per year.
                                             Overall, our findings suggest that consumers value health insurance significantly
                                     less than it would cost in premium subsidies to induce them to purchase a plan. This
                                     is consistent with a growing number of empirical analyses, see e.g. Finkelstein et al.



                                                                                             34
       (2019). One caveat is that our estimates do not account for potential sampling error.
       In Appendix H, we provide suggestive evidence that sampling error is unlikely to have
       a large impact on our bounds due to the large sample sizes we are considering. A more
       important caveat when interpreting our welfare estimates is that they do not account for
       the existence of potentially large externalities such as the cost of uncompensated care,
       debt delinquency, or bankruptcy (Finkelstein et al., 2012; Mahoney, 2015; Garthwaite
       et al., 2018).

       4.6    Relaxing the Instrumental Variable Assumptions
       The assumption that drives our results is (31), which requires valuations to be indepen-
       dent of age and income within 5 year and 50% FPL bins. We view this local invariance
       assumption as reasonable for the relatively homogenous groups of individuals within
       these bins. However, it is unlikely to hold exactly. Local invariance to age will fail if
       valuations change with risk factors and risk factors change with age.35 Local invariance
       to income gives the additive separability in (1) the interpretation of quasilinearity, but
       this will of course fail if there are general income effects.
          In this section, we consider a strictly weaker version of (31) that allows for devia-
       tions away from perfect local invariance. We do this by relaxing (31) from an equality to
       two inequalities controlled by a slackness parameter. For age, the relaxed assumption
       is that

          (1 − κage (z, z 0 ))fV |W Z (v|w, z 0 ) ≤ fV |W Z (v|w, z) ≤ (1 + κage (z, z 0 ))fV |W Z (v|w, z 0 )
                     for all z, z 0 , w, and v,                                                             (34)

       where κage (z, z 0 ) is a function specified as
                            
                            κage , if z and z 0 differ only in age, and only by a single bin
                       0
             κage (z, z ) =
                            +∞, otherwise


       and κage ≥ 0 is the slackness parameter. For income, we impose the analog of (34)
       with the roles of age and income swapped and a slackness parameter κinc ≥ 0. We use
       these weaker forms to conduct a sensitivity analysis by varying κage and κinc , similar in
       spirit to Conley et al. (2010), Nevo and Rosen (2012), and Manski and Pepper (2017).
          In words, (34) requires that within any coarse bin (i.e., conditional on Wi = w), the
       pointwise difference in conditional valuation densities for any two adjacent one-year age
  35
    Indeed, the importance of age heterogeneity in health insurance demand has been emphasized in existing
work, see e.g. Ericson and Starc (2015), Geruso (2017), and Tebaldi (2017).


                                                          35
             Table 5: Allowing for Valuations to Vary Within Coarse Age and Income Bins

                         Change in probability         Change in consumer         Change in government
  Allowed variation     of purchasing coverage      surplus ($/person-month)    spending ($/person-month)
     in preference   if all per-person premiums       if per-person subsidies     if per-person subsidies
 with age and income    increase by $10/month        decrease by $10/month        decrease by $10/month
   κage      κinc            LB        UB                 LB        UB                LB        UB

       0        0            -0.070   -0.016              -2.45   -1.99             -19.03    -7.50

   0.2          0            -0.072   -0.017              -2.46   -1.98             -19.47    -7.48
   0.6          0            -0.076   -0.019              -2.47   -1.96             -20.43    -7.70
   +∞           0            -0.089   -0.015              -2.51   -1.80             -23.92    -6.52

       0        0.2          -0.075   -0.019              -2.47   -1.98             -20.22    -8.00
       0        0.6          -0.089   -0.022              -2.48   -1.92             -23.36    -8.72
       0       +∞            -0.147   -0.021              -2.53   -1.44             -39.01    -8.26

   0.2          0.2          -0.098   -0.023              -2.52   -1.92             -25.90    -9.35
   0.6          0.6          -0.154   -0.015              -2.66   -1.65             -40.50    -7.71
   +∞          +∞            -0.280   -0.000              -2.80   -0.00             -72.56    -2.70



           bins (with identical income) can be no greater than (κage ×100)%. Taking κage = κinc =
           0 corresponds to the previous assumption of (31). Alternatively, taking κage = +∞
           and κinc = 0 completely relaxes the age invariance restriction while retaining income
           invariance.
              Table 5 reports bounds on some key target parameters for different values of κage
           and κinc .36 The top row with κage = 0 and κinc = 0 is the same as the estimates
           reported in the previous section. At the opposite extremes, the row with κage = +∞
           uses only variation in income, the row with κinc = +∞ uses only variation in age, and
           the row with κage = κinc = +∞ uses neither. Values of κage and κinc in between limit
           the amount by which adjacent bins can differ, with larger values of these parameters
           representing strictly weaker identifying assumptions.37
  36
      Note that it is straightforward to modify the sharp characterization in Proposition 1 to allow for an
assumption like (34) instead of (31)/(6). The difference in implementation just amounts to replacing (25)
with two appropriate inequalities.
  37
      The bounds tend to widen with increases in κage and κinc , since larger values correspond to weaker
assumptions. However, this is not always the case, due to the fact that we are estimating these bounds using
the procedure in Section 3.10. That procedure works by restricting attention to densities that come closest
to fitting the observed choice shares. This fit mechanically improves as κage or κinc increases, because a


                                                     36
               Figure 7: Extensive Margin Demand Relaxing Exclusion Restrictions

                                                           1
                                                                                             κage   = 0,   κinc   =0




                     Probability of purchasing coverage
                                                                                             κage   = 1,   κinc   =0
                                                                                             κage   = 0,   κinc   =1
                                                          0.8                                κage   = ∞,   κinc   =∞




                                                          0.6


                                                          0.4


                                                          0.2


                                                           0
                                                            −20 −15 −10       −5     0   5          10     15      20
                                                                Change in premium for all plans ($/month)


          Overall, Table 5 suggests the estimated bounds in the previous section are quite
      robust to violations in either the age or income invariance assumption. If we completely
      drop age invariance, we obtain bounds that are not much wider. If we completely drop
      income invariance, the bounds widen significantly, but only at the upper end of the
      price sensitivity. As we will see in the next section, comparable parametric models
      produce estimates of price sensitivity that tend to be small in magnitude. Overall,
      our estimates of the impacts of a $10 decrease in subsidies remain qualitatively similar
      if we drop either age or income invariance separately. Figure 7 shows that extensive
      margin changes also remain similar under these specifications for different changes in
      subsidies.
          The bounds widen more quickly when we relax both age and income invariance
      together in the third panel of Table 5. When both assumptions are completely removed,
      our bounds become completely uninformative: We cannot rule out that a $10 increase
      in monthly premiums causes all 28% of the population currently enrolled to exit the
      market. Setting κage = κinc = .6 allows for the density of valuations in adjacent age

larger class of valuation densities are considered. Densities that fit well for smaller values of the slackness
parameters might be deemed to no longer fit well for larger values, since the best fit has improved. As a
consequence, the best-fitting set of densities need not weakly increase, which can lead to non-monotonicity
in the estimated bounds, even though monotonicity must hold for the population bounds.


                                                                                37
Figure 8: Extensive Margin: Nonparametric Bounds vs. Parametric Point Estimates




             Change in probability of purchasing coverage
                                                                0


                                                            −0.02


                                                            −0.04

                                                                                                            Nonparametric bounds
                                                            −0.06                                           Simple logit

                                                                                                            Mixed logit,
                                                                                                            random constant
                                                            −0.08                                           Mixed logit,
                                                                                                            random price coefficient

                                                                                                            Mixed logit,
                                                                                                            random constant
                                                            −0.1                                            & price coefficient

                                                                                                            Probit

                                                            −0.12
                                                                           10                 20
                                                                    Change in premium for all plans ($/month)

and/or income bins to increase or decrease by 60%. This seems extremely conservative,
and our bounds do widen significantly, yet they remain qualitatively similar to our
estimates from the main specification. For a more modest relaxation, like κage =
κinc = .2, our bounds are, for practical purposes, essentially unmoved from our baseline
estimates.


5    Comparison to Estimates from Parametric Models
The motivation of this paper has been to construct estimates of key demand-side policy
parameters using a model that does not impose parametric distributional assumptions.
In this section, we compare the estimates of the nonparametric model to estimates
from some fully parametric logit and probit models.
    The models we consider all follow a specification similar to (2):

                                                             Yi = arg max 1[j ≥ 1] (γi + βi AVij − αi Pij + ξj ) + ij ,               (35)
                                                                     j∈J


where γi is an individual-specific intercept, AVij is the actuarial value of tier j for
individual i (see Table 1), αi and βi are individual slope coefficients, and ξj are unob-
servable preference shifters for each tier. The indicator sets the contribution of these

                                                                                         38
Figure 9: Consumer Surplus and Government Expenditure Changes from a $10 Decrease in Pre-
mium Subsidies: Nonparametric Bounds vs. Parametric Point Estimates




                   Change in government spending ($/person-month)   −8

                                                                    −10

                                                                    −12
                                                                                                    Nonparametric
                                                                                                    joint identified set

                                                                    −14                             Simple logit

                                                                                                    Mixed logit,
                                                                                                    random constant

                                                                    −16                             Mixed logit,
                                                                                                    random price coefficient

                                                                                                    Mixed logit,
                                                                                                    random constant
                                                                    −18                             & price coefficient

                                                                                                    Probit

                                                                          −2.6   −2.4   −2.2   −2   −1.8           −1.6
                                                                      Change in consumer surplus ($/person-month)


       terms to 0 for the outside option (j = 0). We consider logit models in which ij is as-
       sumed to follow a type I extreme value distribution, independently across j, as well as
       a probit model in which this unobservable is assumed to follow a normal distribution.
       We always estimate (35) market-by-market, so that all parameters vary by market in
       an unrestricted way.
          The first model we estimate is a logit in which the price parameter, αi , is constant
       within markets, but both γi and βi vary with observables in a rich way.38 The second
       model is a probit with the same specification.39 We then consider three mixed logit
       models. In each of these models, γi and βi vary with observables in the same way
       as in the baseline model. The three models differ in whether γi , αi , or both have an
       additional unobservable component that is normally distributed with unknown vari-
  38
      In particular, the specification allows βi to vary freely by market with a different value in each of the
following four age bins: {27–34, 35–44, 45–54, 54–64}. It allows γi to vary freely by market, and within each
market restricts γi = γiInc + γiAge , where γiInc varies in three FPL income bins {140–200, 200–250, 250–400},
and γiAge varies in the same four age bins as βi .
   39
      The probit still has ij independent across j. We had difficulty allowing for correlation across j because
the likelihood is very flat.


                                                                                         39
       ance. In the latter case, we also assume that the two unobservable components are
       uncorrelated.
           Figure 8 illustrates how the nonparametric bounds for the extensive margin compare
       to the estimates one obtains from these five parametric models. The estimates shown
       are for $10 and $20 increases in monthly premiums. All of the point estimates are
       clustered together within the nonparametric bounds. For a $10 increase, the estimates
       are towards the upper bound, where price sensitivity is the lowest, while for a $20
       increase they are more towards the center of the bounds. Our bounds are constructed
       so that any value within the upper and lower bound can be obtained by a distribution
       of valuations that fits the observed data equally well. Thus, one implication of Figure
       8 is that distributional assumptions on ij do in fact matter here, since substantially
       different conclusions could be obtained while fitting the data equally well.40
           Figure 9 shows that the parametric models also make substantially different pre-
       dictions for the consumer surplus and government spending impacts of a $10 decrease
       in premium subsidies. Only the richest parametric model we consider (the mixed logit
       with random coefficients on the constant and price) falls within the nonparametric joint
       identified set. All of the parametric models estimate changes in government expenditure
       contained within the marginal nonparametric bounds.41 However, only the two mixed
       logits with random price coefficients yield estimated consumer surplus changes within
       the marginal bounds, suggesting that non-random price coefficients lead to attenuated
       demand responses. Of these two models, the one without the random constant term
       (shown as a square in Figure 9) predicts a combination of changes in consumer surplus
       and government expenditure that is inconsistent with the nonparametric model.


       6    Conclusion
       We estimated the demand for health insurance in California’s ACA marketplace using
       a new nonparametric methodology. While we designed our methodology with health
       insurance in mind, it should be applicable to other discrete choice problems as well.
       The central idea of the method is to divide realizations of a consumer’s valuations into
       sets for which behavior remains constant. We showed how to define the collection of
       such sets, which we referred to as the minimal relevant partition (MRP) of valuations.
       Using the MRP, we developed a computationally reliable linear programming procedure
       for consistently estimating sharp identified sets for policy-relevant target parameters.
  40
     This conclusion appears to be quite robust to potential sampling error; see Appendix H.
  41
     The marginal bounds can be seen by projecting the set in Figure 9 against the vertical axis. Alternatively,
these bounds are reported in Table 4.



                                                      40
   Our nonparametric estimates of demand point to the possibility of substantially
greater price sensitivity than would be recognized using comparable parametric models.
This is consistent with the folklore that logits are “flat” models. We showed that this
has potentially important policy implications for the impact of decreasing subsidies
on consumer surplus and government expenditure. More broadly, our results provide
a clear example in which functional form assumptions are far from innocuous, and
actually play a leading role in driving empirical conclusions.




                                          41
       A     Methodology Literature Review
       In this section, we discuss the relationship of our methodology to the existing literature.
       We focus our attention first on semi- and non-parametric approaches to unordered
       discrete choice analysis. This literature can be traced back to Manski (1975). The
       focus of Manski’s work, as well as most of the subsequent literature, has been on
       relaxing parameterizations on the distribution of unobservables, while the observable
       component of utility is usually assumed to be linear-in-parameters.42 The motivation of
       our approach is also to avoid the need to parameterize distributions of latent variables,
       however we have chosen to keep the entire analysis nonparametric.43
           Our approach has three key properties that, when taken together, make it distinct
       in the literature on semi- and nonparametric discrete choice.
           First, much of the literature has focused on identification of the observable compo-
       nents of indirect utility, while treating the distribution of unobservables as an infinite-
       dimensional nuisance parameter. For example, in (2), this would correspond to identi-
       fying αi and βi when these random coefficients are restricted to be constant. Examples
       of work with this focus include Manski (1975), Matzkin (1993), Lewbel (2000), Fox
       (2007), Pakes (2010), Ho and Pakes (2014), Pakes et al. (2006, 2015), Pakes and Porter
       (2016), Shi et al. (2016), and Khan et al. (2019). Identification of the relative im-
       portance of observable factors for explaining choices is insufficient for our purposes,
       because the policy counterfactuals we are interested in, such as choice probabilities
       and consumer surplus, also depend on the distribution of unobservables. Treating this
       distribution as a nuisance parameter would not allow us to make sharp statements
       about quantities relevant to these counterfactuals.
           Second, we allow for prices (premiums in our context) to be endogenous in the
       sense of being correlated with the unobservable determinants of utility. This differen-
       tiates our paper from work that focuses on identification of counterfactuals, but which
       assumes exogenous explanatory variables. Examples of such work include Thompson
       (1989), Manski (2007, 2014), Briesch et al. (2010), Chiong et al. (2017), and Allen and
       Rehbeck (2017). The importance of allowing for endogenous explanatory variables in
       discrete choice demand analysis was emphasized by Berry (1994) and Hausman et al.
  42
      Matzkin (1991) considered the opposite case in which the distribution of the unobservable component
is parameterized, but the observable component is treated nonparametrically. See also Briesch et al. (2002).
   43
      Extending our methodology to a semiparametric model is an interesting avenue for future work, but
not well-suited to our application since there is no variation in choice (plan) characteristics in Covered
California. Conceptually though, one could use our strategy with a semiparametric model by fixing the
parametric component and then repeatedly applying our characterization argument, similar to the strategy
in Torgovitsky (2018). See also the discussion in Appendix C.



                                                    42
      (1994), and motivated the influential work of Berry et al. (1995, 2004a). In our ap-
      plication, it is essential that we can make statements about demand counterfactuals
      while still recognizing that premiums could be correlated with unobserved components
      of a consumer’s valuations.
          Third, we do not place strong demands on the available exogenous variation in the
      data. In particular, we do not require the existence of a certain number of instruments,
      or that such instruments satisfy strong support or rank conditions. For example, Lew-
      bel (2000) and Fox and Gandhi (2016) require exogenous “special regressors” with large
      support, which are not available in our data. Alternatively, Chiappori and Komunjer
      (2009) and Berry and Haile (2014) provide identification results that require a suffi-
      cient number of continuous instruments that satisfy certain “completeness” conditions,
      which can be viewed as high-level analogs to traditional rank conditions. Compiani
      (2019) uses these results to develop a nonparametric estimator and applies it to study
      the demand for strawberries in California supermarkets. Besides the difficulty of find-
      ing a sufficient number of continuous instruments, one might also be concerned with the
      interpretability and/or testability of the completeness condition (Canay et al., 2013).
      Not maintaining these types of support and completeness conditions leads naturally to
      a partial identification framework (Santos, 2012).
          Other authors have also considered taking a partial identification approach to un-
      ordered discrete choice models. Pakes (2010), Ho and Pakes (2014), Pakes et al. (2006,
      2015), Pakes and Porter (2016) developed moment inequality approaches that can be
      used to bound coefficients on observables in specifications like (2) without parametric
      assumptions on the unobservables. As noted, this is insufficient for our purposes, since
      we are concerned with demand counterfactuals. Manski (2007), Chiong et al. (2017)
      and Allen and Rehbeck (2017) bound counterfactuals, but assume that all explanatory
      variables are exogenous. In parametric contexts, Nevo and Rosen (2012) have consid-
      ered partial identification arising from allowing instruments to be partially endogenous,
      and Gandhi et al. (2017) analyzed the problem of non-purchases in scanner data as
      one of partial identification.
          Chesher et al. (2013) provide a general framework for deriving moment inequalities
      in partially identified discrete choice models.44 They use random set theory to char-
      acterize identification, which leads to the concept of a core-determining class of sets.
      For the quasilinear utility models that we consider in this paper, the core-determining
      class is strictly larger than the collection of sets we call the minimal relevant parti-
      tion (see footnote 17). However, the analysis of Chesher et al. (2013) also applies to
44
     Chesher and Rosen (2017) generalize this framework to an even broader class of models.



                                                   43
       models that are not quasilinear in utility. Our methodology also differs from theirs
       in terms of computation. Whereas Chesher et al. (2013) provide moment inequalities
       that must be checked for each candidate distribution of valuations (f ), our approach
       effectively profiles out this distribution in search of bounds on the finite-dimensional
       target parameter (θ). As a consequence, our approach can be implemented nonpara-
       metrically, whereas feasibly implementing the Chesher et al. (2013) approach requires
       parameterizing the distribution of valuations (see their Section 4.2).
           More generally, our work is related to a literature on computational approaches to
       characterizing identified sets in the presence of partial identification.45 In particular,
       linear programming has been used by many other authors in different contexts, see e.g.
       Balke and Pearl (1994, 1997) and Hansen et al. (1995) for early examples. Previous
       work that has used linear programming to characterize sharp identified sets includes
       Honoré and Tamer (2006), Honoré and Lleras-Muney (2006), Manski (2007, 2014),
       Lafférs (2013), Freyberger and Horowitz (2015), Demuynck (2015), Kline and Tartari
       (2016), Torgovitsky (2016, 2018), Kamat (2017), and Mogstad et al. (2018). Of this
       work, ours is closest to Manski (2007), who also considered discrete choice problems.
       Methodologically, our work differs from Manski’s because we maintain and exploit more
       structure on preferences (via (1)), and in addition we do not assume that explanatory
       variables (or choice sets in Manski’s framework) are exogenous.


       B     A Model of Insurance Choice
       In this section, we provide a model of choice under uncertainty that leads to (1). The
       model is quite similar to those discussed in Handel (2013, pp. 2660–2662) and Handel
       et al. (2015, pp. 1280–281). Throughout, we suppress observable factors other than
       premiums (components of Xi ) that could affect a consumer’s decision. All quantities
       can be viewed as conditional on these observed factors, which is consistent with the
       nonparametric implementation we use in the main text.
           Suppose that each consumer i chooses a plan j to maximize their expected utility
       taken over uncertain medical expenditures, so that
                                                   Z
                                    Yi = arg max       Uij (e) dGij (e),                       (36)
                                            j∈J


       where Uij (e) is consumer i’s ex-post utility from choosing plan j given realized expen-
       ditures of e, and Gij is the distribution of these expenditures, which varies both by
  45
     In addition to the series of papers by Chesher and Rosen (2013, 2014, 2017) and Chesher et al. (2013),
this also includes work by Beresteanu et al. (2011), Galichon and Henry (2011), and Schennach (2014).


                                                    44
      consumer i (due to risk factors) and by plan j (due to coverage levels). Assume that
      Uij takes the constant absolute risk aversion (CARA) form

                                                  1
                                    Uij (e) = −      exp(−Ai Cij (e)),                   (37)
                                                  Ai

      where Ai is consumer i’s risk aversion, and Cij (e) is their ex-post consumption when
      choosing plan j and realizing expenditures e. We assume that ex-post consumption
      takes the additively separable form

                                     Cij (e) = Inci − Pij − e + Veij ,                   (38)

      where Inci is consumer i’s income, Pij is the premium they paid for plan j, and Veij is
      an idiosyncratic preference parameter.
          Substituting (38) into (37) and then into (36), we obtain
                                                                                  
                                1
                                                                Z
                 Yi = arg max −      exp(Ai (Pij − Inci − Vij )) exp(Ai e) dGij (e)
                                                          e
                        j∈J     Ai

      Transforming the objective using u 7→ − log(−u), which is strictly increasing for u < 0,
      we obtain an equivalent problem
                                                                               
                              1
                                                              Z
          Yi = arg max − log       exp(Ai (Pij − Inci − Vij )) exp(Ai e) dGij (e)
                                                        e
                 j∈J          Ai
                                                               Z                   
                              1                          
             = arg max − log        + Ai Inci − Pij + Vij + log
                                                       e            exp(Ai e) dGij (e) .
                 j∈J          Ai

      Eliminating additive terms that do not depend on plan choice yields
                                                            Z                    
                     Yi = arg max −Ai Pij + Ai Veij + log        exp(Ai e) dGij (e) .
                             j∈J


      Suppose that Ai > 0, so that all consumers are risk averse.46 Then we can express the
      consumer’s choice as
                                                Z                   
                                          1
                      Yi = arg max Veij +    log    exp(Ai e) dGij (e) − Pij ,
                             j∈J          Ai
46
     Showing that (1) would arise from risk neutral consumers is immediate.




                                                    45
which takes the form of (1) with
                                            Z                       
                                    1
                       Vij ≡ Veij +    log          exp(Ai e) dGij (e) .
                                    Ai

    Examining the components of Vij reveals the factors that contribute to heteroge-
neous valuations in this model. Heterogeneity across i can come from variation in risk
aversion (Ai ), from differences in risk factors or beliefs (Gij ), and from idiosyncratic
differences in the valuation of health insurance (Veij ). Differences in valuations across
j arise from the interaction between risk factors and the corresponding distribution of
expenditures (Gij ), as well as from idiosyncratic differences in valuations across plans
(Veij ). The main restrictions in this model are the assumption of CARA preferences
in (37) and the quasilinearity of ex-post consumption in (38). However, as noted in
the main text, these restrictions do not have empirical content until they are combined
with an assumption about the dependence between income (here called Inci ) and the
preference parameters, Ai and Veij .


C     Modifications for More or Less Price Variation
In Covered California, post-subsidy premiums are a deterministic function of the mar-
ket (rating region) and consumer demographics. Our discussion in the main text was
tailored to this case. In this section, we discuss how to modify our approach to settings
in which prices vary either more or less.
    The more straightforward (and probably less interesting) case is when Pi still varies
conditional on (Mi , Xi ). This could occur if prices vary at the individual level due to
factors that the researcher does not observe. In this case, our methodology can be
applied with little more than notational changes. In addition to (Mi , Xi ), one would
also need to condition on Pi when defining the primitive distribution of valuations,
f . Demand and consumer surplus parameters like (3) and (4) would be defined as
before, but there would be an additional integration step to construct the density of
Vi given (Mi , Xi ) from that of Vi given (Pi , Mi , Xi ). A similar comment applies to the
assumptions in Section 3.5. Condition (11) would be modified so that it is defined for
all (p, m, x) in the support of (Pi , Mi , Xi ).
    The less straightforward (and more interesting) case is when one observes only a
single price for each market, as in Berry et al. (1995) and Berry and Haile (2014).
Notationally, this means Pi = π(Mi ) depends on Mi only, and not Xi . As a technical
matter, our methodology applies exactly as before to this case. However, since there
is only a single price per market, and since we are not assuming anything about how


                                               46
       demand varies across markets, the resulting bounds will be uninformative. Here, we
       suggest two additional assumptions that could potentially be used to compensate for
       limited price variation.
          The first assumption is that there is another observable variable that varies within
       markets and can be made comparable to prices.47 This is implicit in standard discrete
       choice models like (2). Consider modifying (1) to

                                    Yi = arg max Vij + Xi0 βj − Pij ,                        (39)
                                           j∈J


       where β ≡ (β1 , . . . , βJ ) are unknown parameter vectors. For each fixed β, this model
       is like (1) but with “prices” given by P̃ij (βj ) ≡ Pij − Xi0 βj . While Pij does not vary
       within markets, P̃ij (βj ) can if a component of Xi does. In order to make use of this
       variation, that component of Xi needs to be independent of Vi , which is a common
       assumption in empirical implementations of (2). In our framework, this independence
       can be incorporated by modifying the instrumental variable assumptions in Section
       3.5.1.
          The second assumption is that the unobservables that vary across markets can be
       made comparable to prices. In (2), these unobservables are called ξjm . In our notation,
       we can incorporate these by replacing (1) with

                                   Yi = arg max Vij + ξj (Mi ) − Pij ,                       (40)
                                           j∈J


       where ξj is an unknown function of the consumer’s market. For each fixed ξ, this
       model is like (1) but with valuations given by Ṽij (ξ) ≡ Vij + ξj (Mi ). After incorporat-
       ing unobserved product-market effects in this way, one may be willing to assume that
       Vij is independent of Pi = π(Mi ), as is common in implementations of (2). This can
       be incorporated by modifying the instrumental variable assumptions in Section 3.5.1.
       While there is still only a single price per market, (40) together with such an indepen-
       dence assumption enables aggregation across markets by requiring the distribution of
       valuations to be the same up to a location shift.
          Implementing either (39) or (40) requires looping over possible parameter values
       β or ξ. However, for each candidate β and ξ, one can characterize and compute
       the identified set exactly as before. This suggests that such a procedure will still be
       sharp. Developing a feasible computational strategy appears more challenging, but not
       impossible. Since neither (39) or (40) are needed for our application, we leave fuller
  47
    Berry and Haile (2010) show how such variables can be used to relax assumptions used in the nonpara-
metric point identification arguments in Berry and Haile (2014).


                                                   47
       investigations of these extensions to future work.


       D      Construction of the Minimal Relevant Partition
       We first observe that any price (premium) vector p ∈ RJ divides RJ into the sets
       {Vj (p)}Jj=0 , as shown in Figures 1a and 1b. Intuitively, we view such a division as a
       partition, although formally this is not correct, since these sets can overlap on subsets
       like {v ∈ RJ : vj − pj = vk − pk } where ties occurs. These regions of overlap have
       Lebesgue measure zero in RJ , so this caveat is unimportant given our focus on con-
       tinuously distributed valuations. To avoid confusion, we refer to a collection of sets
       that would be a partition if not for regions of Lebesgue measure zero as an almost sure
       (a.s.) partition.

       Definition ASP. Let {At }Tt=1 be a collection of Lebesgue measurable subsets of RJ .
       Then {At }Tt=1 is an almost sure (a.s.) partition of RJ if
        a) Tt=1 At = RJ ; and
           S

         b) λ(At ∩ At0 ) = 0 for any t 6= t0 , where λ denotes Lebesgue measure on RJ .

           Next, we enumerate the price vectors in P as P = {p1 , . . . , pL } for some integer
       L. Let Y ≡ J L denote the collection of all L–tuples from the set of choices J ≡
       {0, 1, . . . , J}. Then, since {Vj (pl )}Jj=0 is an a.s. partition of RJ for every pl , it follows
       that

                                   n            o                            L
                                                                             \
                                    Vey : y ∈ Y          where       V
                                                                     ey ≡         Vyl (pl )              (41)
                                                                            l=1


       also constitutes an a.s. partition of RJ .48 Intuitively, each vector y ≡ (y1 , . . . , yL ) is a
       profile of L choices made under the price vectors (p1 , . . . , pL ) that comprise P. Each
           ey in the a.s. partition (41) corresponds to the subset of valuations in RJ for which
       set V
       a consumer would make choices y when faced with prices P.
          The collection V ≡ {V  ey : y ∈ Y} is the MRP, since it satisfies Definition MRP by
       construction. To see this, note that if v, v 0 ∈ V
                                                        ey for some y, then by (41), v, v 0 ∈ Vy (pl )
                                                                                                         l

       for all l = 1, . . . , L, at least up to collections of v, v 0 that have Lebesgue measure zero.
       Recalling (9) and the notation of Definition MRP, this implies that Y (v, p) = Y (v 0 , p)
       for all p ∈ P. Conversely, if Y (v, p) = Y (v 0 , p) for all p ∈ P, then taking

                        y ≡ (Y (v, p1 ), . . . , Y (v, pL )) = (Y (v 0 , p1 ), . . . , Y (v 0 , pL )),   (42)
  48
      Note that these sets are Lebesgue measurable, since Vj (p) is a finite intersection of half-spaces and V
                                                                                                             ey
is a finite intersection of sets like Vj (p).

                                                             48
       yields an L–tuple y ∈ Y such that v, v 0 ∈ Vyl (pl ) for every l, again barring ambiguities
       that occur with Lebesgue measure zero.
          From a practical perspective, this is an inadequate representation of the MRP,
       because if choices are determined by the quasilinear model (1), then many of the sets
       V
       ey must have Lebesgue measure zero. This makes indexing the partition by y ∈ Y
       excessive; for computation we would prefer an indexing scheme that only includes sets
       that are not already known to have measure zero. For this purpose, we use an algorithm
       that starts with the set of prices P and returns the collection of choice sequences Y
       that are not required to have Lebesgue measure zero under (1). We use this set Y in
       our computational implementation. Note that since V
                                                         ey has Lebesgue measure zero for
       any y ∈ Y \ Y, the collection V ≡ {V
                                          ey : y ∈ Y} still constitutes an a.s. partition of RJ
       and still satisfies the key property (17) of Definition MRP.
          The algorithm works as follows.49 We begin by partitioning P into T sets (or
       blocks) of prices {Pt }Tt=1 that each contain (give or take) ψ prices. For each t, we
       then construct the set of all choice sequences Y t ⊆ J |Pt | that are compatible with the
       quasilinear choice model in the sense that y t ∈ Y t if and only if the set
                       n                                                      o
                        v ∈ RJ : vyt − pyt ≥ vj − pj for all j ∈ J and p ∈ Pt                   (43)
                                     l     l



       is non-empty. In practice, we do this by sequentially checking the feasibility of a linear
       program with (43) as the constraint set. The sense in which we do this sequentially
       is that instead of checking (43) for all y t ∈ J |Pt | —which could be a large set even for
       moderate ψ—we first check whether it is nonempty when the constraint is imposed
       for only 2 prices in Pt , then 3 prices, etc. Finding that (43) is empty when restricting
       attention to one of these shorter choice sequences implies that it must also be infeasible
       for all other sequences that share the short component. This observation helps speed
       up the algorithm substantially.
          One we have found Y t for all t, we combine blocks of prices into pairs, then repeat
       the process with these larger, paired blocks. For example, if we let P12 ≡ P1 ∪ P2 —i.e.
       we pair the first two blocks of prices—then we know that the set of y 12 ∈ J |P1 |+|P2 |
       that satisfy (43) must be a subset of {(y1 , y2 ) : y1 ∈ Y 1 , y2 ∈ Y 2 }. We sequentially
       check the non-emptyness of (43) for all y 12 in this set, eventually obtaining a set Y 12 .
       Once we have done this for all pairs of price blocks, we then combine pairs of pairs of
       blocks (e.g. P12 ∪ P34 ) and repeat the process. Continuing in this way, we eventually
  49
     We expect that this algorithm leaves room for significant computational improvements, but we leave
more sophisticated developments for future work. In practice, we also use some additional heuristics based
on sorting the price vectors. These have useful but second-order speed improvements that are specific to our
application, so for brevity we do not describe them here.

                                                    49
end up with the original set of price vectors, P, as well as the set of all surviving choice
sequences, Y ⊆ Y.
    The key input to this algorithm is the number of prices in the initial price blocks,
which we have denoted by ψ. The optimal value of ψ should be something larger than
2, but smaller than L. With small ψ, the sequential checking of (43) yields less payoff,
since each detection of infeasibility eliminates fewer partial choice sequences. On the
other hand, large ψ makes the strategy of combining pairs of smaller blocks of prices
into larger blocks less fruitful. For our application, we use ψ = 8–10, which seems to
be fairly efficient, although it is likely specific to our setting.


E      Proofs for Propositions 1 and 2
E.1     Proposition 1
If t ∈ Θ? , then by definition there exists an f ∈ F ? such that θ(f ) = t. Let φ(f ) be
defined as in (20), which we reproduce here for convenience:
                                                    Z
                                  φ(f )(V|m, x) ≡           f (v|m, x) dv.                          (20)
                                                        V


Note that φ(f ) ∈ Φ, because the MRP V is (almost surely) a partition of RJ , and f
is a conditional probability density function on RJ . Due to the assumed properties of
θ, we also know that θ(φ(f )) = θ(f ) = t, so that (23) is satisfied. To see that φ(f )
satisfies (24), observe that
        X                                 X         Z
                    φ(f )(V|m, x) ≡                         f (v|m, x) dv = sj (m, x; f ) = sj (m, x),
    V∈Vj (π(m,x))                     V∈Vj (π(m,x)) V


where the first equality follows by definition (20), the second follows from (10) and (18),
and the third follows from the definition of F ? . Similarly, φ(f ) satisfies (25) because
                            h                                  i
    φ(f )V|W Z (V|w, z) ≡ E φ(f )(V|Mi , Xi )|Wi = w, Zi = z
                            Z                                    
                        =E       f (v|Mi , Xi ) dv Wi = w, Zi = z
                              V
                          Z    h                              i
                        =    E f (v|Mi , Xi )|Wi = w, Zi = z dv
                          ZV h                                 i
                        =    E f (v|Mi , Xi )|Wi = w, Zi = z 0 dv = φ(f )V|W Z (V|w, z 0 )
                              V

where the third equality follows by Tonelli’s Theorem (e.g. Shorack, 2000, pg. 82),
the fourth uses (6), which holds (by definition) for all f ∈ F ? , and the final equality

                                                 50
reverses the steps of the first three. That φ(f ) also satisfies (26) follows using a similar
argument since f ∈ F ? satisfies (7), i.e.
          X                                    X         Z    h                             i
                 φ(f )V|W Z (V|w, z) =                       E f (v|Mi , Xi )|Wi = w, Zi = z dv
      V∈V• (w)                             V∈V• (w) V
                                           Z
                                       =                        fV |W Z (v|w, z) dv
                                            ∪{V:V∈V• (w)}
                                           Z
                                       ≥                fV |W Z (v|w, z) dv = 1.                        (44)
                                            V • (w)


The inequality in (44) follows because the definition of V• (w), together with the fact
that V is an a.s. partition of RJ , implies that V • (w) is contained in the union of sets
in V• (w). This inequality implies that φ(f ) satisfies (26), because
           X                               X
                 φ(f )V|W Z (V|w, z) ≤             φ(f )V|W Z (V|w, z)
      V∈V• (w)                             V∈V
                                               "                                             #
                                                   X
                                       =E                φ(f )(V|Mi , Xi ) Wi = w, Zi = z = 1,
                                                   V∈V


as a result of φ(f ) being an element of Φ. We have now established that if t ∈ Θ? ,
then there exists a φ ∈ Φ satisfying (23)–(26) for which θ(φ) = t.
   Conversely, suppose that such a φ ∈ Φ exists for some t. Recall that Wi was
assumed to be a subvector (or more generally, a function) of (Mi , Xi ), and denote this
function by ω, so that Wi = ω(Mi , Xi ). Then define

                                      X             1 [v ∈ V ∩ V • (ω(m, x))]
               f (φ)(v|m, x) ≡                                                φ(V|m, x),
                                                      λ (V ∩ V • (ω(m, x)))
                                 V∈V• (ω(m,x))


noting that the definition of V• (w) ensures that the summands are well-defined. The
function f (φ)(·|m, x) places total mass of φ(V|m, x) on sets V ∈ V• (ω(m, x)), and dis-
tributes this mass uniformly across each set. We will show that t ∈ Θ? by establishing
that f (φ) ∈ F ? and θ(f (φ)) = t.
   First observe that for any V ∈ V,

                                                          1 [v ∈ V 0 ∩ V • (ω(m, x))]
      Z                               X             Z
           f (φ)(v|m, x) dv ≡                                                         φ(V 0 |m, x) dv
       V                                                    λ (V 0 ∩ V • (ω(m, x)))
                                 V 0 ∈V• (ω(m,x)) V

                            = 1[V ∈ V• (ω(m, x))]φ(V|m, x),                                             (45)

since the sets in V and thus V• (ω(m, x)) are disjoint (almost surely). Using (45), we


                                                        51
have that
   Z                      XZ                                                    X
       f (φ)(v|m, x) dv =    f (φ)(v|m, x) dv =                                             φ(V|m, x) = 1,       (46)
     RJ                            V∈V V                                    V∈V• (ω(m,x))


where the first equality uses the fact that V is an (a.s.) partition of RJ , and the final
equality is implied by the hypothesis that φ satisfies (26), since
                                                                                                            
              X                                           X
    1=                 φV|W Z (V|w, z) = E                                 φ(V|Mi , Xi ) Wi = w, Zi = z  ,
           V∈V• (w)                                  V∈V• (ω(M   i ,Xi ))



and every φ ∈ Φ satisfies
                                  X                           X
                                             φ(V|m, x) ≤               φ(V|m, x) = 1.
                             V∈V• (ω(m,x))                    V∈V


Thus, from (46), and since f (φ) inherits non-negativity from φ ∈ Φ, we conclude that
f (φ) is a conditional density, i.e. f (φ) ∈ F.
   To see that f (φ) satisfies (6), notice that
                         h                                 i
 f (φ)V |W Z (v|w, z) ≡ E f (φ)(v|Mi , Xi )|Wi = w, Zi = z
                                                                                  
                             X 1 [v ∈ V ∩ V • (w)]
                      ≡ E                            φ(V|Mi , Xi ) Wi = w, Zi = z 
                               •
                                     λ (V ∩ V • (w))
                                  V∈V (w)
                                 X        1 [v ∈ V ∩ V • (w)]
                           =                                  φ   (V|w, z)
                                            λ (V ∩ V • (w)) V|W Z
                               V∈V• (w)
                                 X        1 [v ∈ V ∩ V • (w)]
                           =                                  φ   (V|w, z 0 ) = f (φ)V |W Z (v|w, z 0 ),
                                            λ (V ∩ V • (w)) V|W Z
                               V∈V• (w)


where the fourth equality uses (25), and the final equality reverses the steps of the first
three. The satisfaction of the support condition, (7), follows in a similar way from (26)
and Tonelli’s Theorem, since
      Z                                          Z       h                                i
                    f (φ)V |W Z (v|w, z) dv ≡           E f (φ)(v|Mi , Xi )|Wi = w, Zi = z dv
          V • (w)                               V • (w)
                                                                                        
                                                      X
                                             = E           φ(V|Mi , Xi ) Wi = w, Zi = z 
                                                      V∈V• (w)
                                                     X
                                             =              φV|W Z (V|w, z) = 1.
                                                 V∈V• (w)



                                                         52
That f (φ) satisfies (11) follows from (10), (18), (45), and (24) via
                           X           Z
  sj (m, x; f (φ)) ≡                       f (φ)(v|m, x) dv
                       V∈Vj (π(m,x)) V
                           X
                  =                    1[V ∈ V• (ω(m, x))]φ(V|m, x)
                       V∈Vj (π(m,x))
                           X                             X
                  =                    φ(V|m, x) −                       / V• (ω(m, x))]φ(V|m, x)
                                                                     1[V ∈
                       V∈Vj (π(m,x))                 V∈Vj (π(m,x))

                  = sj (m, x),

for all j ∈ J and (p, x) ∈ supp(Pi , Xi ). The last equality here uses the implication of
                                  / V• (ω(m, x)).
(46) that φ(V|m, x) = 0 for any V ∈
    Finally, note that in the notation of (20), (45) says

                   (φ ◦ f (φ))(V|m, x) = 1[V ∈ V• (ω(m, x))]φ(V|m, x).

This equality implies that (φ ◦ f (φ))(V|m, x) = φ(V|m, x) for all V, since (46) implies
                         / V• (ω(m, x)). Thus,
that φ(V|m, x) = 0 for V ∈

                               θ(f (φ)) = θ(φ ◦ f (φ)) = θ(φ) = t,

and therefore t ∈ Θ? .                                                                     Q.E.D.

E.2    Proof of Proposition 2
Observe that Φ is a compact and connected subset of Rdφ . Since (24)–(26) are linear
equalities, the subset of Φ that satisfies them is also compact and connected. Thus,
if θ is continuous on this subset, it follows that its image over it—which Proposition
1 established to be Θ? —is compact and connected as well. If dθ = 1, then Θ? is a
compact interval, so by definition its endpoints must be given by t?lb and t?ub .          Q.E.D.


F     Implementing Bounds on Consumer Surplus
In this section, we show how sharp bounds on changes in average consumer surplus can
be found using Propositions 1 and 2 by constructing appropriate concentrated target
parameter functions, θ. The function used for the upper bound is different from that
used to find the lower bound. Both functions are linear in φ.
    For shorthand, we denote average consumer surplus at premium p? , conditional on



                                                   53
(Mi , Xi ) = (m, x) under valuation density f as
                                               Z                         
                            p?
                    CS (m, x; f ) ≡                  max vj −       p?j       f (v|m, x) dv.
                                                     j∈J


   Suppose that V is the MRP constructed from a set of premiums P that contains
the two premiums, p and p? , at which average consumer surplus is to be contrasted.
Then
                                 XZ             
                       p?                      ?
                 CS (m, x; f ) =     max vj − pj f (v|m, x) dv,                                  (47)
                                                        j∈J
                                           V∈V V


since the MRP is an (almost sure) partition of RJ . By definition of the MRP, the
optimal choice of plan is constant as a function of v within any MRP set V. That
is, using the notation in Definition MRP, arg maxj∈J vj − pj ≡ Y (v, p) = Y (v 0 , p) ≡
Y (V, p) for all v, v 0 ∈ V and any p ∈ P. Consequently, we can write (47) as
                                                                Z
                   ?
                                         X
                CSp (m, x; f ) =               −p?Y (V,p? ) +         vY (V,p? ) f (v|m, x) dv
                                         V∈V                    V


Replacing p? by p, it follows that the change in average consumer surplus resulting
from a shift in premiums from p to p? can be written as

           ?                      ?
  ∆CSp→p (m, x; f ) ≡ CSp (m, x; f ) − CSp (m, x; f )
                      X                           Z
                         pY (V,p) − p?Y (V,p? ) +
                                                                          
                    =                                vY (V,p? ) − vY (V,p) f (v|m, x) dv.
                             V∈V                                V


   Now define the smallest and largest possible change in valuations within any parti-
tion set V as

                                           ?
                                      v p→p
                                        lb  (V) ≡ min vY (V,p? ) − vY (V,p) ,
                                                      v∈V
                                        p→p?
                            and       v ub   (V)   ≡ max vY (V,p? ) − vY (V,p) .
                                                      v∈V

These quantities can be computed in an initial step with linear programming. Since
we do not restrict the distribution of valuations within each MRP set, the sharp lower
bound on a change in average consumer surplus is attained when this distribution




                                                      54
                                                    ?
      concentrates all of its mass on v p→p
                                        lb  (V) in every V ∈ V. That is,
                                                                                             Z
                     p→p?                                                         p→p?
                                           X
               ∆CS          (m, x; f ) ≥         pY (V,p) −   p?Y (V,p? )   +   v lb   (V)       f (v|m, x) dv
                                           V∈V                                               V
                                                                            p→p?
                                           X
                                                 pY (V,p) − p?Y (V,p? ) + v lb
                                                                                                  
                                      =                                          (V) φ(f )(V|m, x)
                                           V∈V
                                                        ?
                                      ≡ ∆CSp→p
                                           lb  (m, x; f ).                                                       (48)

      Similarly, the sharp upper bound for any f is given by

                        ?                                                   p→p?
               ∆CSp→p
                                           X
                                                 pY (V,p) − p?Y (V,p? ) + v ub
                                                                                                 
                  ub  (m, x; f ) ≡                                               (V) φ(f )(V|m, x) .
                                           V∈V

      Therefore, a sharp lower bound on the change in consumer surplus can be found by
                                 ?
      taking θ(f ) ≡ ∆CSp→p
                        lb  (m, x; f ), setting

                                                                                ?
                                           pY (V,p) − p?Y (V,p? ) + v p→p
                                     X
                            θ(φ) ≡                                    lb  (V)φ(V|m, x),                          (49)
                                     V∈V


      and applying Propositions 1 or 2. The requirement that θ(f ) = θ(φ(f )) can be seen
      to be satisfied here by comparing (48) and (49). The sharp upper bound is found
      analogously.


      G      Estimation of Potential Buyers
      In this section, we describe how we use the American Community Survey (ACS) to
      estimate the number of potential buyers in each market × age × income bin, that is,
      each value of (Mi , Xi ) = (m, x).
          As is often the case in empirical demand analysis, our administrative data only
      contains observations of individuals who buy health insurance in Covered California,
      but not those who were eligible yet chose the outside option. That is, we do not have
      data on the quantity who chose choice 0.50 Instead, we construct conditional choice
      probability (market shares) by estimating the number of potential buyers and dividing
      the quantity purchased of the inside choices (j ≥ 1) by this estimate. This gives
      us estimated choice shares for the inside choices; the estimated choice share for the
      outside choice (j = 0) is just the difference between 1 and the sum of the estimated
      inside shares.
          The key step here is estimating the number of potential buyers (market size) for
50
     This is common in discrete choice contexts, see e.g. Berry (1994, pg. 247).


                                                            55
       each (Mi , Xi ) = (m, x). We do this using the California 2013 3-year subsample of
       the American Community Survey (ACS) public use file, downloaded from IPUMS
       (Ruggles et al., 2015).51 We define an individual as a potential buyer, denoted by the
       indicator Ii = 1, if they report being either uninsured or privately insured. Individuals
       with Ii = 0 include those who are covered by employer-sponsored plans, Medi-Cal
       (Medicaid), Medicare, or other types of public insurance.
           Our estimator is constructed using a flexible linear regression. The outcome variable
       is the indicator Ii . The main regressors are the Xi bins, that is, age in years and income
       in FPL (taken at the lower endpoint of the bin). We include a full set of interactions
       between these variables and indicators for the coarse age and income bins described
       in Section 4.2 (called Wi there). We also include a full set of market indicators (Mi ),
       and interactions between these indicators and both age and income. This regression
       yields estimated potential buyer probabilities for each (m, x) pair. We convert these
       probabilities into an estimate of the total number of buyers in each (m, x) pair by using
       the individual sampling weights provided in the ACS.
           An adjustment to this procedure is needed to account for the fact that the PUMA
       (public use micro area) geographic identifier in the ACS can be split across multiple
       counties, and so in some cases also multiple ACA rating regions. For a PUMA that is
       split in such a way, we allocate individuals to each rating region it overlaps using the
       population of the zipcodes in the PUMA as weights. This is the same adjustment factor
       used in the PUMA-to-county crosswalk.52 Since the definition of a PUMA changed
       after 2011, we also use this adjustment scheme to convert the 2011 PUMA definitions
       to 2012–2013 definitions.


       H     Statistical Uncertainty
       One concern in interpreting our estimated bounds is that they may be estimated with
       statistical uncertainty due to noise in the estimated choice shares. In this section,
       we examine the extent to which this might be the case through a simulation exercise.
       For each consumer, we redraw their plan choice from a multinomial distribution with
       probabilities given by the estimated choice shares in their fine bin. We use these new
       choices to form new choice shares, and then we run these new choice shares through
  51
      The 3 year sample includes information from 2011 to 2013. We use the entire 3 year sample to increase
our sample size.
   52
      For example, suppose that an individual is in a PUMA that spans counties A and B, and that this
individual has a total sampling weight of 10, so that they represent 10 observationally identical individuals.
If the adjustment factor is 0.3 in county A and 0.7 in county B, we assume there are 3 identical individuals
in county A and 7 in county B.


                                                     56
                          Table 6: Simulated Distributions of Bounds and Point Estimates

                                           Change in probability         Change in consumer         Change in government
                                          of purchasing coverage      surplus ($/person-month)    spending ($/person-month)
                                       if all per-person premiums       if per-person subsidies     if per-person subsidies
                                          increase by $10/month        decrease by $10/month        decrease by $10/month

      Nonparametric bounds                   LB           UB                LB           UB             LB            UB
            th
           5        percentile             -0.0705     -0.0176            -2.4231    -1.9539          -19.2117       -7.8223
               th
          95         percentile            -0.0700     -0.0171            -2.4094    -1.9419          -19.0483       -7.6602

               Simple logit                 Point estimate                 Point estimate              Point estimate
           5th percentile                       -0.0317                        -2.6418                     -9.5548
           95th percentile                      -0.0315                        -2.6339                     -9.5140

            Mixed logit                     Point estimate                 Point estimate              Point estimate
         random constant
           5th percentile                       -0.0306                        -2.7216                     -9.3041
           95th percentile                      -0.0302                        -2.7121                     -9.1439

           Mixed logit                      Point estimate                 Point estimate              Point estimate
     random price coefficient
           5th percentile                       -0.0340                        -1.9859                    -11.0390
                th
           95        percentile                 -0.0305                        -1.6172                    -10.1852

           Mixed logit                      Point estimate                 Point estimate              Point estimate
random constant & price coefficient
           5th percentile                       -0.0264                        -2.2268                     -9.0732
                th
           95        percentile                 -0.0219                        -1.7602                     -7.9383

                     Probit                 Point estimate                 Point estimate              Point estimate
           5th percentile                       -0.0288                        -2.7176                    -13.7916
           95th percentile                      -0.0286                        -2.5284                    -13.7642




       the same estimators that we used for the actual data, obtaining a new set of bounds
       (for our procedure) and point estimates (for the parametric models in Section 5). We
       repeat this procedure 100 times and then look at the distribution of the simulated
       bounds across these 100 replications.
           Table 6 reports the 5th and 95th percentile of both the upper and lower bounds for
       our primary target parameters under a $10 increase in all premiums. The distribution
       suggests that neither our bounds nor the point estimates would be very different if the
       data were realized again under the same distribution. While reassuring, we emphasize
       that this is a simulation exercise that redraws from an estimated distribution; these are


                                                                 57
       not confidence regions. Unfortunately, constructing uniformly valid confidence regions
       for estimators defined by large-scale linear programs remains both theoretically and
       computationally challenging, especially in problems the size of ours.53 However, the
       results of the simulation do suggest that our sample size is large enough such that valid
       confidence regions both for our model and the parametric models would be quite tight.




  53
    Of course, we can construct confidence intervals for the parametric models, but to make a fair comparison
we use the same exercise.


                                                     58
References
Abraham, J., C. Drake, D. W. Sacks, and K. Simon (2017): “Demand for health in-
  surance marketplace plans was highly elastic in 2014–2015,” Economics Letters, 159, 69–73.
  3

Allen, R. and J. Rehbeck (2017): “Identification with Additively Separable Heterogeneity,”
  Working paper. 42, 43

Armstrong, T. B. (2016): “Large Market Asymptotics for Differentiated Product Demand
  Estimators With Economic Models of Supply,” Econometrica, 84, 1961–1980. 8

Balke, A. and J. Pearl (1994): “Counterfactual Probabilities: Computational Methods,
  Bounds, and Applications,” in Proceedings of the Conference on Uncertainty in Artificial
  Intelligence (UAI-94), ed. by R. Lopez de Mantras and D. Poole, 46–54. 44

——— (1997): “Bounds on Treatment Effects From Studies With Imperfect Compliance,”
 Journal of the American Statistical Association, 92, 1171–1176. 44

Beresteanu, A., I. Molchanov, and F. Molinari (2011): “Sharp Identification Regions
  in Models With Convex Moment Predictions,” Econometrica, 79, 1785–1821. 44

Berry, S. and P. Haile (2015): “Identification in Differentiated Products Markets,” Annu.
  Rev. Econ., –. 7, 9

Berry, S., J. Levinsohn, and A. Pakes (1995): “Automobile Prices in Market Equilib-
  rium,” Econometrica, 63, 841–890. 1, 7, 8, 43, 46

——— (2004a): “Differentiated Products Demand Systems from a Combination of Micro and
 Macro Data: The New Car Market,” Journal of Political Economy, 112, 68–105. 8, 43

Berry, S., O. B. Linton, and A. Pakes (2004b): “Limit Theorems for Estimating the
  Parameters of Differentiated Product Demand Systems,” Review of Economic Studies, 71,
  613–654. 8

Berry, S. T. (1994): “Estimating Discrete-Choice Models of Product Differentiation,” The
  RAND Journal of Economics, 25, 242–262. 1, 8, 42, 55

Berry, S. T. and P. A. Haile (2010): “Nonparametric Identification of Multinomial Choice
  Demand Models with Heterogeneous Consumers,” Cowles Foundation Discussion Paper
  1718. 2, 7, 8, 47

——— (2014): “Identification in Differentiated Products Markets Using Market Level Data,”
 Econometrica, 82, 1749–1797. 2, 3, 8, 9, 13, 43, 46, 47

Bertsimas, D. and J. N. Tsitsiklis (1997): Introduction to linear optimization, vol. 6,
  Athena Scientific Belmont, MA. 22

Briesch, R. A., P. K. Chintagunta, and R. L. Matzkin (2002): “Semiparametric Es-
  timation of Brand Choice Behavior,” Journal of the American Statistical Association, 97,
  973–982. 42

——— (2010): “Nonparametric Discrete Choice Models With Unobserved Heterogeneity,”
 Journal of Business & Economic Statistics, 28, 291–307. 42


                                            59
Bundorf, M. K., J. Levin, and N. Mahoney (2012): “Pricing and Welfare in Health Plan
  Choice,” American Economic Review, 102, 3214–3248. 6

Canay, I. A., A. Santos, and A. M. Shaikh (2013): “On the Testability of Identification
  in Some Nonparametric Models With Endogeneity,” Econometrica, 81, 2535–2559. 43

Chan, D. and J. Gruber (2010): “How Sensitive are Low Income Families to Health Plan
  Prices?” American Economic Review, 100, 292–296. 1

Chesher, A. and A. Rosen (2014): “An Instrumental Variable Random Coefficients Model
  for Binary Outcomes,” Econometrics Journal. 44

Chesher, A. and A. M. Rosen (2013): “What Do Instrumental Variable Models Deliver
  with Discrete Dependent Variables?” American Economic Review, 103, 557–62. 44

——— (2017): “Generalized Instrumental Variable Models,” Econometrica, 85, 959–989. 43,
 44

Chesher, A., A. M. Rosen, and K. Smolinski (2013): “An instrumental variable model
  of multiple discrete choice,” Quantitative Economics, 4, 157–196. 3, 13, 43, 44

Chiappori, P.-A. and I. Komunjer (2009): “On the Nonparametric Identification of Mul-
  tiple Choice Models,” Working paper. 2, 43

Chiong, K. X., Y.-W. Hsieh, and M. Shum (2017): “Counterfactual Estimation in Semi-
  parametric Multinomial Choice Models,” SSRN Electronic Journal. 42, 43

Compiani, G. (2019): “Market Counterfactuals and the Specification of Multi-Product De-
  mand: A Nonparametric Approach,” Working paper. 3, 43

Congressional Budget Office (2017): “Federal Subsidies Under the Affordable
  Care Act for Health Insurance Coverage,” https://www.cbo.gov/sites/default/files/
  recurringdata/51298-2017-01-healthinsurance.pdf, accessed: January 25, 2019. 1

Conley, T. G., C. B. Hansen, and P. E. Rossi (2010): “Plausibly Exogenous,” Review of
  Economics and Statistics, 94, 260–272. 35

Demuynck, T. (2015): “Bounding average treatment effects: A linear programming ap-
  proach,” Economics Letters, 137, 75–77. 44

Einav, L., A. Finkelstein, and M. R. Cullen (2010a): “Estimating Welfare in Insurance
  Markets Using Variation in Prices,” Quarterly Journal of Economics, 125, 877–921. 6

Einav, L., A. Finkelstein, and J. Levin (2010b): “Beyond Testing: Empirical Models of
  Insurance Markets,” Annual Review of Economics, 2, 311–336. 6

Ericson, K. M. and A. Starc (2015): “Pricing Regulation and Imperfect Competition on
  the Massachusetts Health Insurance Exchange,” The Review of Economics and Statistics,
  forthcoming, 97, 667–682. 1, 35

Finkelstein, A., N. Hendren, and M. Shepard (2019): “Subsidizing Health Insurance
  for Low-Income Adults: Evidence from Massachusetts,” American Economic Review, forth-
  coming. 3, 24, 34



                                          60
Finkelstein, A., S. Taubman, B. Wright, M. Bernstein, J. Gruber, J. P. Newhouse,
  H. Allen, K. Baicker, and O. H. S. Group (2012): “The Oregon health insurance
  experiment: evidence from the first year,” The Quarterly journal of economics, 127, 1057–
  1106. 35

Fourer, R., D. M. Gay, and B. W. Kernighan (2002): AMPL: A Modeling Language for
  Mathematical Programming, Cengage Learning. 17

Fox, J. T. (2007): “Semiparametric estimation of multinomial discrete-choice models using a
  subset of choices,” The RAND Journal of Economics, 38, 1002–1019. 42

Fox, J. T. and A. Gandhi (2016): “Nonparametric identification and estimation of random
  coefficients in multinomial choice models,” The RAND Journal of Economics, 47, 118–139.
  11, 43

Fox, J. T., K. i. Kim, S. P. Ryan, and P. Bajari (2011): “A simple estimator for the
  distribution of random coefficients,” Quantitative Economics, 2, 381–418. 7

——— (2012): “The random coefficients logit model is identified,” Journal of Econometrics,
 166, 204–212. 7

Freyberger, J. and J. L. Horowitz (2015): “Identification and shape restrictions in non-
  parametric instrumental variables estimation,” Journal of Econometrics, 189, 41–53. 44

Galichon, A. and M. Henry (2011): “Set Identification in Models with Multiple Equilibria,”
  The Review of Economic Studies, 78, 1264–1298. 44

Gandhi, A., Z. Lu, and X. Shi (2017): “Estimating Demand for Differentiated Products
  with Zeroes in Market Share Data,” Working paper. 43

Garthwaite, C., T. Gross, and M. J. Notowidigdo (2018): “Hospitals as Insurers of
  Last Resort,” American Economic Journal: Applied Economics, 10, 1–39. 35

Geruso, M. (2017): “Demand Heterogeneity in Insurance Markets: Implications for Equity
  and Efficiency,” Quantitative Economics, 8, 929–975. 35

Goldberg, P. K. (1995): “Product Differentiation and Oligopoly in International Markets:
  The Case of the U.S. Automobile Industry,” Econometrica, 63, 891–951. 1, 8

Gurobi Optimization, I. (2015): “Gurobi Optimizer Reference Manual,” . 17

Handel, B., I. Hendel, and M. D. Whinston (2015): “Equilibria in Health Exchanges:
  Adverse Selection versus Reclassification Risk,” Econometrica, 83, 1261–1313. 6, 44

Handel, B. R. (2013): “Adverse Selection and Inertia in Health Insurance Markets: When
  Nudging Hurts,” American Economic Review, 103, 2643–82. 6, 44

Hansen, L. P., J. Heaton, and E. G. J. Luttmer (1995): “Econometric Evaluation of
  Asset Pricing Models,” The Review of Financial Studies, 8, 237–274. 44

Hausman, Leonard, and Zona (1994): “Competitive Analysis with Differenciated Prod-
  ucts,” Annales d’Économie et de Statistique, 159. 42

Hausman, J. A. (1996): Valuation of New Goods under Perfect and Imperfect Competition,
  University of Chicago Press, 207–248. 1

                                            61
Hausman, J. A. and D. A. Wise (1978): “A Conditional Probit Model for Qualitative
  Choice: Discrete Decisions Recognizing Interdependence and Heterogeneous Preferences,”
  Econometrica, 46, 403–426. 8

Heckman, J. J. and B. E. Honoré (1990): “The Empirical Content of the Roy Model,”
  Econometrica, 58, 1121–1149. 11

Heckman, J. J. and S. Navarro (2007): “Dynamic discrete choice and dynamic treatment
  effects,” Journal of Econometrics, 136, 341–396. 11

Ho, K. and A. Pakes (2014): “Hospital Choices, Hospital Prices, and Financial Incentives
  to Physicians,” American Economic Review, 104, 3841–84. 3, 42, 43

Ho, K. and A. M. Rosen (2017): “Partial Identification in Applied Research: Benefits and
  Challenges,” in Advances in Economics and Econometrics, ed. by B. Honore, A. Pakes,
  M. Piazzesi, and L. Samuelson, Cambridge University Press, 307–359. 2

Honoré, B. E. and A. Lleras-Muney (2006): “Bounds in Competing Risks Models and
  the War on Cancer,” Econometrica, 74, 1675–1698. 44

Honoré, B. E. and E. Tamer (2006): “Bounds on Parameters in Panel Dynamic Discrete
  Choice Models,” Econometrica, 74, 611–629. 44

IBM (2010): IBM ILOG AMPL Version 12.2, International Business Machines Corporation.
  17

Kamat, V. (2017): “Identification with Latent Choice Sets: The Case of the Head Start
  Impact Study,” Working paper. 44

Khan, S., F. Ouyang, and E. Tamer (2019): “Inference on Semiparametric Multinomial
  Response Models,” Working paper. 42

Kline, P. and M. Tartari (2016): “Bounding the Labor Supply Responses to a Randomized
  Welfare Experiment: A Revealed Preference Approach,” American Economic Review, 106,
  972–1014. 44

Lafférs, L. (2013): “A note on bounding average treatment effects,” Economics Letters, 120,
  424–428. 44

Lewbel, A. (2000): “Semiparametric qualitative response model estimation with unknown
  heteroscedasticity or instrumental variables,” Journal of Econometrics, 97, 145–177. 11, 42,
  43

Mahoney, N. (2015): “Bankruptcy as Implicit Health Insurance,” American Economic Re-
 view, 105, 710–46. 35

Manski, C. F. (1975): “Maximum score estimation of the stochastic utility model of choice,”
 Journal of Econometrics, 3, 205–228. 42

——— (1985): “Semiparametric analysis of discrete response: Asymptotic properties of the
 maximum score estimator,” Journal of Econometrics, 27, 313–333. 11

——— (2007): “Partial Indentification of Counterfactual Choice Probabilities,” International
 Economic Review, 48, 1393–1410. 42, 43, 44


                                             62
——— (2014): “Identification of income-leisure preferences and evaluation of income tax pol-
 icy,” Quantitative Economics, 5, 145–174. 42, 44

Manski, C. F. and J. V. Pepper (2017): “How Do Right-to-Carry Laws Affect Crime Rates?
 Coping with Ambiguity Using Bounded-Variation Assumptions,” The Review of Economics
 and Statistics. 35

Matzkin, R. L. (1991): “Semiparametric Estimation of Monotone and Concave Utility Func-
 tions for Polychotomous Choice Models,” Econometrica, 59, 1315–1327. 42

——— (1993): “Nonparametric identification and estimation of polychotomous choice models,”
 Journal of Econometrics, 58, 137–168. 2, 42

McFadden, D. (1974): “Conditional logit analysis of qualitative choice behavior,” in Frontiers
 of Econometrics, ed. by P. Zarembka, Academic Press: New York, 105–142. 1

McFadden, D. and K. Train (2000): “Mixed MNL Models for Discrete Response,” Journal
 of Applied Econometrics, 15, 447–470. 1, 8

Miller, T. P. (2017): “Examining the Effectiveness of the Individual Mandate under the
  Affordable Care Act,” American Enterprise Institute, statement before the House Committee
  on Ways and Means Subcommittee on Oversight. 6

Mogstad, M., A. Santos, and A. Torgovitsky (2018): “Using Instrumental Variables
 for Inference About Policy Relevant Treatment Parameters,” Econometrica, 86, 1589–1619.
 22, 44

Nevo, A. (2001): “Measuring Market Power in the Ready-to-Eat Cereal Industry,” Econo-
  metrica, 69, 307–342. 7, 8

——— (2011): “Empirical Models of Consumer Behavior,” Annual Review of Economics, 3,
 51–75. 7

Nevo, A. and A. M. Rosen (2012): “Identification With Imperfect Instruments,” Review of
  Economics and Statistics, 94, 659–671. 35, 43

Orsini, J. and P. Tebaldi (2017): “Regulated Age-based Pricing in Subsidized Health
  Insurance: Evidence from the Affordable Care Act,” Available at SSRN 2464725. 4

Pakes, A. (2010): “Alternative Models for Moment Inequalities,” Econometrica, 78, 1783–
  1822. 42, 43

Pakes, A. and J. Porter (2016): “Moment Inequalities for Multinomial Choice with Fixed
  Effects,” Tech. rep. 42, 43

Pakes, A., J. Porter, K. Ho, and J. Ishii (2006): “Moment Inequalities and Their Appli-
  cation,” Working paper. 42, 43

——— (2015): “Moment Inequalities and Their Application,” Econometrica, 83, 315–334. 42,
 43

Ruggles, S., K. Genadek, R. Goeken, J. Grover, and M. Sobek (2015): “Integrated
  Public Use Microdata Series: Version 6.0 [dataset],” Minneapolis: University of Minnesota.
  23, 56


                                             63
Saltzman, E. (2019): “Demand for health insurance: Evidence from the California and Wash-
  ington ACA exchanges,” Journal of Health Economics, 63, 197 – 222. 1

Santos, A. (2012): “Inference in Nonparametric Instrumental Variables With Partial Identi-
  fication,” Econometrica, 80, 213–275. 43

Schennach, S. M. (2014): “Entropic Latent Variable Integration via Simulation,” Economet-
  rica, 82, 345–385. 44

Shi, X., M. Shum, and W. Song (2016): “Estimating Semi-Parametric Panel Multinomial
  Choice Models Using Cyclic Monotonicity,” SSRN Electronic Journal. 42

Shorack, G. R. (2000): Probability for Statisticians, Springer-Verlag. 50

Tebaldi, P. (2017): “Estimating Equilibrium in Health Insurance Exchanges: Price Compe-
  tition and Subsidy Design under the ACA,” Working paper. 1, 3, 24, 35

Thompson, T. S. (1989): “Identification of Semiparametric Discrete Choice Models,” Dis-
  cussion paper 249, Center for Economics Research, Department of Economics, University
  of Minnesota. 2, 11, 13, 42

Torgovitsky, A. (2016): “Nonparametric Inference on State Dependence with Applications
  to Employment Dynamics,” SSRN Working Paper 2564305. 44

——— (2018): “Partial Identification by Extending Subdistributions,” Quantitative Eco-
 nomics, Forthcoming. 42, 44




                                            64
