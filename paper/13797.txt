                                NBER WORKING PAPER SERIES




          OPTIMAL PROVISION OF MULTIPLE EXCLUDABLE PUBLIC GOODS

                                            Hanming Fang
                                            Peter Norman

                                        Working Paper 13797
                                http://www.nber.org/papers/w13797


                      NATIONAL BUREAU OF ECONOMIC RESEARCH
                               1050 Massachusetts Avenue
                                 Cambridge, MA 02138
                                     February 2008




This paper substantially generalizes and supersedes Fang and Norman (2003), a manuscript that was
circulated under the title "An Efficiency Rationale for Bundling of Public Goods." We thank Mark
Armstrong, Ted Bergstrom, Martin Hellwig, Larry Samuelson, Stephen Morris and seminar participants
at many seminars and conferences for comments and helpful discussions. The usual disclaimer applies.
The views expressed herein are those of the author(s) and do not necessarily reflect the views of the
National Bureau of Economic Research.

NBER working papers are circulated for discussion and comment purposes. They have not been peer-
reviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.

© 2008 by Hanming Fang and Peter Norman. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including © notice,
is given to the source.
Optimal Provision of Multiple Excludable Public Goods
Hanming Fang and Peter Norman
NBER Working Paper No. 13797
February 2008
JEL No. H41

                                               ABSTRACT

This paper studies the optimal provision mechanism for multiple excludable public goods when agents'
valuations are private information. For a parametric class of problems with binary valuations, we demonstrate
that the optimal mechanism involves bundling if a regularity condition, akin to a hazard rate condition,
on the distribution of valuations is satisfied. Bundling alleviates the free riding problem in large economies
in two ways: first, it may increase the asymptotic provision probability of socially efficient public
goods from zero to one; second, it decreases the extent of use exclusions. If the regularity condition
is violated, then the optimal solution replicates the separate provision outcome.


Hanming Fang
Department of Economics
Duke University
213 Social Sciences Building
Box 90097
Durham, NC 27708-0097
and NBER
hanming.fang@duke.edu

Peter Norman
Department of Economics
University of North Carolina at Chapel Hill
107 Gardner Hall
Chapel Hill, NC 27599-3305
normanp@email.unc.edu
1    Introduction
    This paper studies the optimal provision mechanism for multiple excludable public goods. We
brie‡y consider a somewhat more general setup where we obtain some characterization results, but
most of the paper focuses on a parametric version of the model where valuations are binary. In the
binary valuation case, we demonstrate that there is a considerable degree of bundling in the optimal
solution if a regularity condition, akin to a hazard rate condition, on the distribution of valuations
is satis…ed. If the regularity condition is violated, which happens when valuations are too strongly
positively correlated across goods, the optimal solution replicates the separate provision outcome.
    To motivate the importance of a better understanding of bundling of non-rival goods, we note
that many goods that are provided in bundles are close to fully non-rival. The most striking example
is the access to electronic libraries, for which the typical contractual arrangement is a site license
that allows access to every issue of every journal in the electronic library. Another example is
cable TV, where the basic pricing scheme consists of a limited number of available packages. Other
examples include computer software and digital music …les. For several of these cases, the pros and
cons of bundling for the consumer have been frequently debated by the media, legal scholars, and
in the courtroom. Still, there is no normative benchmark that explicitly considers the non-rival
nature of these goods in the economics literature.
    We consider a model with M excludable public goods, meaning that all goods are fully non-rival,
but consumers can be excluded from usage. Each consumer is characterized by a valuation for each
good, and the willingness to pay for a subset of goods is the sum of the individual good valuations.
In addition, the cost of provision for each good is independent of which other goods are provided.
Under these separability assumptions, the …rst best benchmark is to provide good j if and only
if the sum of valuations for good j over all consumers exceeds its provision cost and to exclude
no consumer from usage. Under perfect information, there is thus no role for either bundling
or use exclusions. However, when preferences are private information, consumers must be given
appropriate incentives to truthfully reveal their willingness to pay. Together with self-…nancing and
participation constraints, it is then impossible to implement the (non-bundling) perfect information
social optimum. Bundling is then potentially useful because it improves possibilities to extract
surplus from the consumers, which will then relax a binding constraint on the problem.
    The …rst part of the paper considers a relatively general setup, and characterizes the form
of optimal provision mechanisms in symmetric environments. We then apply these results in the
special case with binary valuations for which we obtain an exact characterization of the constrained
e¢ cient mechanism. To make the problem tractable, we impose symmetry conditions on costs and
type distributions in addition to the restriction that valuations take on only two values for each of
the M excludable public goods.
    The solution to the problem is rather striking. When the economy is large in the sense that



                                                  1
the number of consumers goes to in…nity, the optimal mechanism will either provide all goods
with probability close to one, or provide all goods with probability close to zero. Which of the
two scenarios applies depends on whether or not a monopolist pro…t maximizer that provides the
goods for sure could break even. If a regularity condition, akin to a hazard rate condition, on
the distribution of valuations is satis…ed, the optimal mechanism also prescribes a very simple rule
for user access to the public goods once they are provided. All consumers will fall into one of
three groups: the …rst group, consisting of those whose numbers of goods for which they have
high valuations strictly exceed a threshold, will be given access to the grand bundle consisting of
all goods; the second group, consisting of those whose number of goods for which they have high
valuations are strictly lower than the threshold, will be given access to only those goods for which
they have a high valuation; the third group, consisting of those with exactly the threshold-level
number of high valuation goods, will always be given access to their high valuation goods, and will
also be given access to their low valuation goods with some probability. Note that the third group
of consumers for which some randomization is applied will be quite rare when there are many public
goods, i.e., as M gets large.
      For the special case with two goods we solve the problem also for the case where the regularity
condition discussed above is violated. With two goods, the regularity condition is violated when the
valuations are too positively correlated. This invalidates the standard approach to solve screening
problems using only downwards adjacent constraint, as there are simply too few “mixed types”
(those with one high and one low valuation) to justify giving them a better treatment than the type
with two low valuations. We show that the optimal solution in fact is identical to the solution when
both goods must be provided separately. It is interesting to relate this to the seminal contribution
by Adams and Yellen [1]. Their explanation of bundling was that the monopolist seller knows
more about the willingness to pay for the bundle than for the components provided that there is
negative correlation. It has been shown that the relevant comparison is the willingness to pay for
the components versus the willingness to pay for the average, implying that essentially the same
explanation also works when valuations are independent.1 Our result here shows that this logic
falls apart when valuations are too positively correlated.
      The analytical tractability for the multidimensional mechanism design problem in our paper
comes from exploiting some important similarities to unidimensional problems. In particular, in the
unidimensional case, it is known that maximizing social surplus subject to budget and participa-
tion constraints leads to a Lagrangian characterization which can be interpreted as a compromise
between pro…t and welfare maximization (see Hellwig [10] and Norman [17]). In our model we
cannot collapse the constraints to a single integral constraint, but we are able to use the optimal-
ity conditions to link the values of the multipliers associated with various constraints so that the
optimal solution can be understood analogously.
  1
      See, e.g., McAfee, McMillan and Whinston [15] and Fang and Norman [9].



                                                        2
        The remainder of the paper is structured as follows. Section 2 presents the model and some
characterization results. Section 3 introduces the special case when valuations are binary and
derives the optimal mechanism in the regular case. In Section 4 we use some special cases to better
interpret the characterization in Section 3, in particular, we characterize the optimal mechanism for
the two good case when the regularity condition is violated. Section 5 contains a brief discussion
of the relevance of our analysis with respect to concrete anti-trust issues. Appendix A contains all
the proofs of results in Section 3.2


2        The Model
        This section lays out a fairly general model (Section 2.1). The set of randomized direct mech-
anisms is represented in a somewhat nonstandard (but useful) way (Section 2.2), before we set up
the mechanism design problem (Section 2.3). We then gradually show, sometimes with additional
restrictions on the environment, that it is without loss of generality to consider a smaller and more
tractable class of simple, anonymous and symmetric mechanisms (Sections 2.4 and 2.5). The main
results of this section are Propositions 1 and 2, which are used in later Sections to reduce the
dimensionality of the design problem.


2.1        The Environment

        There are M excludable public goods, labeled by j 2 J = f1; :::; M g and n consumers, indexed
by i 2 I = f1; :::; ng. Each public good is indivisible, and the cost of providing good j, denoted
C j (n), is independent of which of the other goods are provided. Since n is the number of consumers
in the economy, not the number of user s, all goods are fully non-rival. The rationale for indexing
cost by n is to be able to analyze large economies without making the public goods a “free lunch”
in the limit. We therefore allow for the existence of cj > 0 such that limn!1 C j (n) =n = cj > 0.
There is no need to give this assumption any economic interpretation. It is best viewed as a way
to ensure that the provision problem remains “signi…cant” with a large number of agents.
        Consumer i is described by a valuation for each good j 2 J ; so that her type is given by a
                     1        M
vector       i   =   i ; :::; i   2     RM : Agent i has preferences represented by the utility function,
                                                   X j j
                                                       Ii i t i ;                                         (1)
                                                      j2J

where Iji is a dummy variable taking value 1 when i consumes good j and 0 otherwise, and ti is
the quantity of the numeraire good transferred from i to the mechanism designer. Preferences over
lotteries are of expected utility form.
        The type     i   is private information to the agent. While we allow valuations across goods to be
correlated for the individual, it is essential that we assume independence across agents. We denote
    2
        An appendix available at the authors’websites contains the proofs for the more technical results in Section 2.


                                                             3
by F the joint cumulative distribution over                                                                                                    n;
                                                         i.   For brevity of notation, we let                           ( 1 ; :::;   n)   2
which will be referred to as a type pro…le. In the usual fashion, we let                              i   = ( 1 ; ::;    i 1 ; i+1 ; ::: n ) :


2.2     Randomized Direct Mechanisms

    An outcome in our environment has three components: (1). Which goods, if any, should be
provided; (2). Who are to be given access to the goods that are provided; and (3). How to share
the costs. The set of feasible pure outcomes is thus

                       A=             f0; 1gM                     f0; 1gM      n
                                                                                                 | R
                                                                                                     n
                                                                                                   {z } :                                     (2)
                                  |      {z }                 |        {z          }
                             provision/no provision      inclusion/no inclusion               “taxes” for each
                                                                                                  agent i
                                for each goods j      for each agent i and good j



By the revelation principle, we restrict attention to direct mechanisms for which truth-telling is
a Bayesian Nash equilibrium. A pure direct mechanism is a map from                                            n   to A: We represent
a randomized mechanism in analogy with the representation of mixed strategies in Aumann [5].
That is, let          [0; 1] ; and think of # 2        as the outcome of a …ctitious lottery, where, without
loss of generality, # is uniformly distributed and independent of : A random direct mechanism
is then a measurable mapping G :                n      ! A. A conceptual advantage of this representation
is that it allows for a useful decomposition. That is, we may write G as a (2M + 1)-tuple, G =
    j
(       j2J
              ; !j   j2J
                           ; ) where,

                                                                      j       n
                                       Provision Rule:                    :            ! f0; 1g
                                       Inclusion Rule:            !j      :   n
                                                                                       ! f0; 1gn                                              (3)
                                                                              n
                                  Cost-sharing Rule:                      :        ! Rn :

                 j                                                                                j
We refer to          as the provision rule for good j, and interpret E                                ( ; #) as the probability of
provision for good j given announcements : The rule                           !j   =   ! j1 ; :::; ! jn    is the inclusion rule for
good j; and E ! ji ( ; #) is interpreted as the probability that agent i gets access to good j when
announcements are ; conditional on good j being provided. Finally,                                        = ( 1 ; :::;     n)   is the cost-
sharing rule, where         i(   ) is the transfer from agent i to the mechanism designer given announced
valuation pro…le . In principle, transfers could also be random, but the pure cost-sharing rule in
(3) is without loss of generality due to risk neutrality.




                                                                  4
2.3       The Design Problem

       Let E   i   denote the expectation operator with respect to (                               i ; #) :   A mechanism is incentive
compatible if truth-telling is a Bayesian Nash equilibrium in the revelation game induced by G;
     2                                   3    2                                                 3
       X                                        X
                                                     j b
  E i4       j
               ( ; #)! ji ( ; #) ji i ( )5 E i4       ( i ; i ; #)! ji (bi ; i ; #) ji   b
                                                                                       i( i; i )5 ;
           j2J                                                   j2J

                                                                                                          8i 2 I; 2    n
                                                                                                                           ; bi 2   : (IC)

We also require that the project be self-…nancing. For simplicity, this is imposed as an ex ante
balanced-budget constraint: 3
                                       0                                                   1
                                        X                      X
                                      E@          i(   )               j
                                                                           ( ; #) C j (n)A           0:                              (BB)
                                            i2I                j2J

Finally, we require that a voluntary participation, or individual rationality, condition is satis…ed.
Agents are assumed to know their own type, but not the realized types of the other agents, when
deciding on whether to participate. Individual rationality is thus imposed at the interim stage as,
                      2                                  3
                        X
                  E i4       j
                               ( ; #)! ji ( ; #) ji i ( )5 0;     8i 2 I; i 2 :               (IR)
                                j2J

A mechanism is incentive feasible if it satis…es (IC), (BB) and (IR). Utility is transferable, implying
that constrained ex ante Pareto e¢ cient allocations may be characterized by solving a utilitarian
planning problem, where a …ctitious social planner seeks to maximize total surplus in the economy,
subject to the constraints (IC), (BB) and (IR).4 Thus a mechanism is thus constrained e¢ cient if
it maximizes                                               "                                       #
                                      X                        X
                                            E j ( ; #)               ! ji ( ; #)   j
                                                                                   i   C j (n) ;                                       (4)
                                      j2J                      i2I

over all incentive feasible mechanisms.5
                                                                                       P       j
       It is ex post e¢ cient to provide good j if and only if                         i2I     i        C j (n), and to never exclude
any agent from usage, which is the same rule as the …rst best rule for a single public good. This is
implementable if and only if a non-excludable public good can be e¢ ciently provided under (IC),
(BB) and (IR). (See Mailath and Postlewaite [17].) Our setup is thus a second best problem.
   3
       As shown in Borgers and Norman [9] it is without loss of generality to consider a resource constraint in ex ante
form. Given independence and two or more agents, transfers can be adjusted so as to satisfy ex post budget balance
without changing the interim expected payo¤ for any individual.
   4
     The quali…er ex ante is crucial for the equivalence. See Ledyard and Palfrey [18] for a characterization of interim
e¢ ciency.
   5
     All these constraints are noncontroversial if the design problem is interpreted as a private bargaining agreement.
If the goods are government provided, the participation constraints (IR) may seem questionable. One defense in this
context is that the participation constraint is a reduced form of an environment where agents may vote with their
feet. Another defense is to view this as a reduced form for inequality aversion of the planner. See Hellwig [15].


                                                                      5
2.4       Simple Anonymous Mechanisms

       To simplify the analysis, we …rst exploit the symmetry, as well as the linearity, of the constraints
and the objective function. This allows us to reduce the dimensionality of the problem:

De…nition 1 A mechanism is called a simple mechanism if it can be expressed as (2M + 1)-tuple
g=(        j          ;   j         ; t) such that for each good j 2 J ;
                j2J           j2J

                                                                        j       n
                                            Provision Rule:                 :       ! [0; 1]
                                                                        j
                                             Inclusion Rule:                :    ! [0; 1]                                    (5)
                                         Cost-sharing Rule:            t:       ! R;

where       j   is the provision rule for good j,         j   is the inclusion rule for good j (same for all agents),
and t is the transfer rule (also same for all agents).

       There are a number of simpli…cations in (5) relative to (3). First, inclusion and transfer rules
are the same for all agents; second, conditional on ; the provision probability                         j   ( ) is stochasti-
cally independent from all other provision probabilities, and all inclusion probabilities; third, the
inclusion and transfer rules for any agent i are independent of the realization of                            i;   and fourth,
all agents are treated symmetrically in terms of the transfer and inclusion rules. But (5) allows
provision rules to treat agents asymmetrically. We therefore need a de…nition to express what it
means for the name of an agent to be irrelevant:

                                                                                                    j                j   0
De…nition 2 A simple mechanism is called anonymous if for every j 2 J ;                                 ( ) =                for
                0         n     n               0
every       ;       2               such that       can be obtained from        by permuting the indices of the agents.

       We now show that focusing on simple anonymous mechanisms is without loss of generality:

Proposition 1 For any incentive feasible mechanism G of the form (3), there exists a simple
anonymous incentive feasible mechanism g of the form (5) that generates the same social surplus.

       The idea is roughly that risk neutral agents care only about the perceived probability of con-
suming each good and the expected transfer. Therefore, there is nothing to gain from conditioning
transfers and inclusion probabilities on                 i,   or by making inclusion and provision rules condition-
ally dependent. Mechanisms of the form (5) are therefore su¢ cient. Moreover, given an incentive
feasible mechanism, permuting the roles of the agents leaves the surplus unchanged and all con-
straints satis…ed. An anonymous incentive feasible mechanism that generates the same surplus as
the initial mechanism can therefore be obtained by averaging over the n! permuted mechanisms.6
   6
       The actual proof is a bit more complex than simply randomizing with equal probabilities over the n! permutations.
The reason is that inclusion and provision probabilities are potentially correlated.



                                                                 6
2.5            Symmetric Treatment of the Goods

          Our next result, on which we rely heavily in Sections 3 and 4, identi…es conditions under which
it is without loss of generality to treat goods symmetrically. Obviously, the underlying environment
                                                                                                             1         M
must be symmetric, and we formalize this by assuming that                                        i   =       i;   ;    i     is an exchangeable
                                                                    0              0
random variable, that is F ( i ) = F                                i   whenever   i   is a permutation of            i;   and that there exists
C (n) such that                   Cj      (n) = C (n) for all j:
          Given valuation pro…le                     and a one-to-one permutation mapping P : J ! J of the set of goods,
           P
let        i   denote the permutation of agent i0 s type by changing the role of the goods in accordance to
                           P              P 1 (1) P 1 (2)      P 1 (M )                   1
P : that is,               i    =         i      ; i      :::; i        ;     where P         denote the inverse of P . For simplicity,
               P               P            P
write                          1 ; :::;     n as the valuation pro…le         obtained when the role of the goods is changed in
accordance to P for every i 2 I.

De…nition 3 Mechanism g is symmetric if for every                                        and every permutation P : J ! J :

               P   1 (j)         P          j
      1.                              =         ( ) for every j 2 J ;

               P   1 (j)         P          j
      2.                         i    =         ( i ) for every j 2 J ;

                   P
      3. t         i    = t ( i) :

          In de…ning a symmetric mechanism, the same permutation of goods must be applied for all
agents. As an example, suppose that there are two agents and two goods, and that the valuation
for each good is either h or l: In this case                              = f(h; h) ; (h; l) ; (l; h) ; (l; l)g. Consider the type pro…le
  = ( 1;                                                    2:
                   2)   = ((h; l) ; (l; h)) 2                    Applying the only non-identity permutation of the goods, i.e.,
                                                                                                         P        P P
P (1) = 2 and P (2) = 1; to all agents generates a type pro…le                                                =   1; 2         = ((l; h) ; (h; l)) :
De…nition 3 requires that the allocations for type pro…le ((l; h) ; (h; l)) is the same as the allocation
for ((h; l) ; (l; h)) with goods relabeled, and that transfers are unchanged.7 The result is:

Proposition 2 Suppose that                              i   is an exchangeable random variable and that there exists C (n) such
that       Cj   (n) = C (n) for all j 2 J : Then, for any simple anonymous incentive feasible mechanism
g; there exists a simple anonymous and symmetric incentive feasible mechanism that generates the
same surplus as g:

          The idea is similar to that of Proposition 1, except that it is the identities of the goods that
are permuted. Consider the case with two goods, and suppose that the two goods are treated
      7
          If we were to apply di¤erent permutations for the two agents, e.g., applying the identity permutation for agent
1 and the non-identiy permutation for agent 2, then we would obtain a pro…le ((h; l) ; (h; l)), which is a qualitatively
di¤erent from either ((h; l) ; (l; h)) or ((l; h) ; (h; l)) : In the pro…le ((h; l) ; (h; l)) ; both agents have low valuations for
good 2 and high valuations for good 1, whereas, in the pro…les ((h; l) ; (l; h)) or ((l; h) ; (h; l)) ; one and only one agent
has high valuation for both goods.



                                                                               7
asymmetrically. Reversing the role of the goods, an alternative mechanism that generates the same
surplus is obtained. Averaging over the original and the reversed mechanism creates a symmetric
mechanism where surplus is unchanged.8 Incentive feasibility of the new mechanism follows from
incentive feasibility of the original mechanism. Proposition 2 generalizes this procedure by per-
muting the goods (M ! possibilities) and creating a symmetric mechanism by averaging over these
permuted mechanisms.


3         The Case with Binary Valuations
         In the remainder of the paper we assume that the valuation for each good j is either high or
                       j
low, so that           i   2 fl; hg for each i 2 I and j 2 J : The probability of any type                                i   2           fl; hgM is
denoted                                                                       n
                  i ( i) ;     and using independence                ( )=     i=1 i ( i ) and           i(       i)   =   i0 6=i i0 ( i0 ) denote
the probabilities of type pro…le                 and            i   respectively:9 Moreover,          suppose that        C j (n) = cn for all
j2       J :10
                                                                                                                                              j
         For any      i    2     = fl; hgM ; write m ( i ) 2 f0; :::; M g as the number of goods for which                                    i   = h;
i.e.,
                                                               n                               o
                                                                                         j
                                                     m ( i) = # j 2 J :                  i   =h :
                                                            M!                                               j
Given any m 2 f0; :::; M g there are                     m!(M m)!      types of      i   2       such that   i   = h for exactly m goods.
Maintaining the assumption that                      i   is an exchangeable random variable, we therefore have that the
probability that an agent has a high valuation for exactly m goods, denoted by                                                m;   is given by
                                                                        M!
                                                          m   =                          i ( i) ;                                                  (6)
                                                                    m! (M m)!

where        i   is any type with m high valuations. This formulation allows the willingness to pay between
goods to be correlated. In the simplest case where valuations for di¤erent goods are i.i.d., for any
 i   such that m ( i ) = m,             i ( i)   =       m (1         )M   m
                                                                               and       m   =      M!
                                                                                                 m!(M m)!
                                                                                                             m (1         )M       m
                                                                                                                                       ; where      is
                                   j
the probability that    = h:       i
    Appealing to Proposition 1, we only consider mechanisms in the form of (5), implying that it
is without loss of generality to consider:11
     8
         Provision probabilities and taxes are given by straightforward averaging, but since inclusion and provision prob-
abilities may be correlated the procedure is somewhat more involved for the inclusion rules.
   9
     Note that the probability of type i ; i ( i ) does not depend on i: The subscript i is used in                                i   so that we can
use      to denote the probability of the valuation pro…le = ( 1 ; :::; n ) :
     10
        Keeping the per capita costs constant simpli…es notation, but is not necessary.
     11
        Note that the dimensionality of the problem could be reduced further by using Propositions 1 and 2, but it is
notationally convenient to impose these additional symmetry restrictions at a later stage. As such, we are indexing
 j
 i   and ti by i; even though we know from Propositions 1 and 2 that they do not need to depend on i in the optimal
mechanism.




                                                                           8
                                                                               " n                                       #
                                X                       X
                                                        M
                                                                   j
                                                                                X          j                j
                      max                   ( )                        ( )                 i   ( i)         i     cn                                                                                                  (7)
                     f ; ;tg
                                2 n                     j=1                      i=1
                                                                                                                             2                                                                                       3
                        X                                    X
                                                             M                                                                       X                         X
                                                                                                                                                               M
       0                                i   (           i)
                                                                       j
                                                                           ( )       j
                                                                                     i   ( i)    j
                                                                                                 i          ti ( i )         4                    i   (   i)
                                                                                                                                                                     j
                                                                                                                                                                              i;
                                                                                                                                                                                   0
                                                                                                                                                                                   i
                                                                                                                                                                                         j
                                                                                                                                                                                         i
                                                                                                                                                                                               0
                                                                                                                                                                                               i
                                                                                                                                                                                                   j
                                                                                                                                                                                                   i       ti    0
                                                                                                                                                                                                                 i
                                                                                                                                                                                                                     5
                        i2      i                            j=1                                                                     i2      i                 j=1
                                                0
                     for every       i;         i   2                                                                                                                                                                 (8)
                        X                                    X
                                                             M
                                                                       j                   j
       0                                i   (           i)                 (     i ; l)    i    (l) l           ti (l)                                                                                                (9)
                        i2      i                            j=1

                     X
                     n X                                                   X                    X
                                                                                                M
                                                                                                            j
       0                            i ( i ) ti ( i )                                     ( )                    ( ) cn                                                                                               (10)
                     i=1 i 2                                               2     n              j=1
  j                                 j
      ( )    2       [0; 1] ;       i   ( i ) 2 [0; 1] ;

where            i   denotes the set of possible pro…les for all agents except i: In words, the planner maximizes
the social surplus subject to the incentive compatibility constraints (8), the participation constraint
for type l = (l; ::::; l) (9), and the resource constraint (10).
      To simplify our discussions in the analysis below, we use the following terminology:

De…nition 4 An incentive constraint (8) is referred to as:

                                                                                                        j             0j
  1. a downwards incentive constraint if                                                                i             i    for all j 2 J ;
                                                                                                  j              0j
  2. an upwards incentive constraint if                                                           i              i     for all j 2 J ;
                                                                                                                                                                j        0j              k         0k
  3. a diagonal incentive constraint if there exists j; k 2 J so that                                                                                           i    >   i    and        i   <     i :


      Incentive constraints that rule out deviations where a single coordinate is misrepresented are
henceforth called adjacent. If the jth coordinate in                                                                             i    is changed from h to l we write                                  i jlj    and if
the kth coordinate in                           i       is changed from l to h we write                                                     i jhk .


3.1         The Relaxed Optimization Problem

      Guided by intuition based on unidimensional mechanism design problems, we will now formulate
a relaxed problem where all incentive constraints in (8) except the downwards adjacent incentive
constraints are removed. The relaxed problem is fully described below in (11). Analogous to the
standard approach in unidimensional problems, we will show in Lemma 12 below that this provides
a valid solution to the full problem when the solution to the relaxed problem is monotonic in the
following sense:

                                                                                                                                 j                    j   0               j                            j            0
De…nition 5 Mechanism ( ; ; t) is monotonic if                                                                                   i   ( i)             i   i     and           (        i; i)                     i; i
                                                    0                      j             0j
whenever m ( i )                    m               i        and           i             i :




                                                                                                                      9
      In Lemma 13 below we will provide su¢ cient conditions in terms of primitives for the solution
to the relaxed problem to be monotonic.
    The relaxed optimization problem where the full set of incentive constraints is replaced with
the downwards adjacent incentive constraints may be written as:
                                                                   " n                                     #
                            X                X
                                             M
                                                       j
                                                                    X            j            j
                  max                 ( )                  ( )                   i   ( i)     i     cn                                                                                               (11)
                 f ; ;tg
                            2 n              j=1                       i=1
                                                                                                               2                                                                                       3
                    X                            X
                                                 M                                                                 X                     X
                                                                                                                                         M
s.t. 0                            i   (     i)
                                                           j
                                                               ( )         j
                                                                           i   ( i)       j
                                                                                          i   ti ( i )         4            i   (   i)
                                                                                                                                               j
                                                                                                                                                    (   i;   i jlk )
                                                                                                                                                                       j
                                                                                                                                                                       i   ( i jlk )   j
                                                                                                                                                                                       i     ti ( i jlk )5
                    i2      i                    j=1                                                               i2   i                j=1

                                                           k
                 for every k such that                     i       = h                    [m ( i ) constraints for every i and                 i]                                                    (12)
                    X                            X
                                                 M
                                                           j                     j
      0                           i   (     i)                 (       i ; l)    i    (l) l       ti (l)                                                                                             (13)
                    i2      i                    j=1

                 X
                 n X                                           X                      X
                                                                                      M
                                                                                              j
      0                         i ( i ) ti ( i )                               ( )                ( ) cn                                                                                             (14)
                 i=1 i 2                                       2       n              j=1
 j                                    j
     ( )    2    [0; 1] ;             i   ( i ) 2 [0; 1] :

We will next state a sequence of intermediate results that will be used to characterize the solution
to (11) and, eventually, the full problem in (7).


3.2         Relating the Multipliers

      First, a standard argument based on compactifying the constraint set assures that there are
solutions to the relaxed optimization problem:

Lemma 1 There exists at least one optimal solution to (11).

      Next, we use the general symmetry result in Proposition 2 to show that the value of a multiplier
for any of the downwards adjacent incentive constraint (12) depends only on the number of goods
for which the consumer has a high valuation.

Lemma 2 It is without loss of generality to assume that for every m 2 f1; :::; M g there exists some
     (m)        0 such that               (m) is the multiplier associated with every constraint (12) applicable for every
 i   2      with m ( i ) = m:

      Hence,         (m) denotes the multiplier for all downwards adjacent incentive constraints for types
with m           1 high valuations. We also let (0) denote the participation constraint for type l = (l; :::; l)
and let          denote the value of the multiplier for the resource constraint (14).
      We now show that the multipliers                                                    (m) ; m 2 f0; :::; M g and                      are closely linked. Let                           i   be a
type for which agent i has a high valuation for m 2 f0; ::::; M                                                                      1g goods. There are m di¤erent
ways to replace a coordinate in                                    i   that corresponds to a high valuation. Also, there are M                                                             m types
       0
of     i   that can be “turned into” type                                             i   by replacing a single high valuation with a low valuation.


                                                                                                         10
As a result of these observations, we have that the optimality conditions to the program (11) with
respect to ti ( i ) are given by

                                                  (m) m + (m + 1) (M                        m) +          i ( i)   = 0;                             (15)

whereas the optimality condition for                               i   = h = (h; ::::; h) is

                                                                        (M ) +          i (h)   =0                                                  (16)

                                           M!
Using the identity            m    =    m!(M m)! i ( i ) ;                  and the di¤erence equation de…ned by (15) and (16), we
obtain:

Lemma 3 For every m 2 f0; :::; M g the value of                                          (m) is related to           in accordance with
                                                                                                M
                                                                                                X
                                                                       m! (M m)!
                                         m (m) =                                                      j                                             (17)
                                                                           M!
                                                                                                j=m
                                                                       m! (M m)!
                                                             =                   Pr [m ( i )                   m] ;
                                                                           M!
where         j   is de…ned in (6).

          A rough intuition for Lemma 3 is that if the designer could extract an extra unit of surplus
from types with m high valuations without upsetting any constraints, then an extra unit could be
obtained from all higher types as well because only the di¤erence in the transfers are relevant for
the (adjacent downwards) incentive constraints. This explains why the value of the multipliers are
proportional to the probability that the number of valuations exceeds m:


3.3          Inclusion Rules

          Next, we will show that the solution has the intuitively plausible (but non-obvious) property
that exclusions are only used for goods for which the agent has low valuations.

                                                                               j                          P                         j
Lemma 4 Suppose that                     i    2         such that              i   = h and that               i2      i   i(   i)       ( i;   i)   > 0:
              j
Then,         i   ( i ) = 1 in any optimal solution to                        (11):12

          At …rst blush, Lemma 4 may appear like a “no distortion at the top result.” However, this is
not the case because it says that a consumer should be given access to her high valuation goods
irrespective of her total number of goods with high valuations. Instead, the result is best understood
in terms of the relationship between the multipliers in (15). Providing a high valuation good to a
type with m high valuations relaxes the downwards adjacent incentive constraints (12) for every
     12                   P                             j
          The condition       i2    i     i   (    i)       ( i;       i)   > 0 is needed because the inclusion rule has no e¤ect on either the
objective function or the constraints when the conditional probability of provision is zero, but, one may of course set
 j
 i   ( i ) = 1 also in this case.


                                                                                   11
type with exactly m high valuations. There are m such incentive constraints, so the increased
utility from truth-telling for these types is            (m) mh: However, giving access to the high valuation
good j does make it more tempting for a type with m + 1 high valuations to announce only m high
valuations. There are M         m ways to change one coordinate into a lie with m high valuations,
so the decreased utility from announcing a type with one of the other coordinates changed from h
to l is   (m + 1) (M     m) h: It is then immediate from (15) that the positive e¤ect from making
truth-telling more appealing always dominates, thus all consumers always get access to the high
valuation goods.
                                                                                                              j
    In order to simplify the discussion of the inclusion rules for good j with                                i   = l; it is useful to
de…ne                                                            2                                                     3
                                                                                                         M
                                                                                                         X
             Gm ( ) = (1         ) (M       m) l     m   +       4    m (M     m) l     (h         l)              j
                                                                                                                       5:        (18)
                                                                                                        j=m+1

The inclusion rule for low valuation goods is characterized by:

                                                                                        j
Lemma 5 Suppose that        i   2      with m ( i ) = m: Suppose that                   i   = l for some j 2 J and that
P               j( ;
   i2 i  i(  i)    i            i)   > 0: Then,
                                                     8
                                                     >
                                                     >            0          if Gm ( ) < 0
                                                     <
                            j
                            i   ( i ) = (m)               z 2 [0; 1]         if Gm ( ) = 0                                       (19)
                                                     >
                                                     >
                                                     :            1       if Gm ( ) > 0;

in any optimal solution to (11) where            =   1+      :

    To interpret (18) and Lemma 5, we …rst notice that (M                             m) l     m   is the (positive) e¤ect on
social welfare if the inclusion rule changes so as to give access to the low valuation goods for all
consumers with exactly m high valuations. To understand the second term in (18), consider the
expected revenue for the provider if she gives consumers with m or more high valuations full access
to all the goods, and the remaining consumers access to only their high valuation goods. Under
the above access policy, the provider can charge mh + (M                          m) l to the group of consumers who
consume all goods; and charge h per good to the remaining consumers who only obtain access
to their high valuation goods. Assuming that all goods would be provided for sure, the expected
revenue under the above access and pricing policy is then be given by
                                                                                               m
                                                                                               X1
                     R (m) = Pr [m ( i )                 m] [mh + (M            m) l] + h                jj                      (20)
                                                                                               j=1
                                       M
                                       X                                          m
                                                                                  X1
                                =           j   [mh + (M              m) l] + h         j j:
                                      j=m                                         j=1




                                                                 12
In the absence of a provision decision, a pro…t maximizer would thus simply pick m to maximize
R (m) : We note that
                                   (                                      m
                                                                                         )   (                                                                      )
                                       X
                                       M                                  X1                      X
                                                                                                  M                                                    X
                                                                                                                                                       m
R (m)          R (m + 1)       =             j   [mh + (M    m) l] + h              jj                     j   [(m + 1) h + (M       m     1) l] + h           jj
                                    j=m                                   j=1                    j=m+1                                                 j=1

                                                                   X
                                                                   M                                           X
                                                                                                               M
                               =   m [mh + (M           m) l] +           j [mh + (M             m) l]               j   [(m + 1) h + (M       m       1) l]    h       mm
                                                                  j=m+1                                    j=m+1

                                                                   X
                                                                   M
                               =   m    (M       m) l   (h   l)           j:
                                                                  j=m+1


Thus the second term in (18) is the (positive or negative) e¤ect on pro…ts from allowing a consumer
with m high valuations to consume also her low valuation goods. We conclude that we may interpret
the constrained welfare optimization as maximizing a weighted average of welfare and pro…ts, with
weights on pro…ts increasing with the multiplier                                    associated with the resource constraint (14).
This property has been shown in unidimensional settings (see Hellwig [14] and Norman [23]), where
incentive feasibility can be characterized by a single constraint using methods from Myerson [21],
but to the best of our knowledge, no analogous result directly applicable for our multidimensional
setting has been shown in the literature.


3.4            Provision Rules

          We are now in a position to characterize the optimal provision rule. To do this transparently,
it is useful to …rst denote H j ( ; m) as the number of agents with a high valuation for good j and
m high valuations in total under the type pro…le                                    = ( 1 ; :::;    n ).   Symmetrically, we let Lj ( ; m)
denote the the number of agents with a low valuation for good j and m high valuations in total
under type pro…le : The solution to the relaxed problem can now be characterized rather sharply
in terms of the multiplier of the resource constraint only:

Lemma 6 The provision rule for good j in the optimal solution to (11) satis…es
                 8                      PM                          PM
                 >         0       if         j
                                         m=1 H (         ; m) h +              Lj ( ; m)           1
                 >
                 <                                                     m=0                         m) max f0; Gm (
                                                                                                 m (M
                                                                                                                                )g       cn < 0
      j                                 PM    j
                                                                    PM          j                1
          ( )=       z 2 [0; 1]    if    m=1 H (         ; m) h +      m=0     L ( ; m)               max f0; Gm (              )g       cn = 0        (21)
                 >
                 >                      PM                          PM                       m (M m)
                 :         1       if         j                                 j               1
                                         m=1 H (        ; m) h +       m=0     L ( ; m)
                                                                                             m (M m)
                                                                                                      max f0; Gm (              )g   cn > 0:

          Just like the optimal inclusion rule, (21) may be understood as a compromise between welfare
maximization and pro…t maximization. To see this, …rst note the fact that all high valuation agents
                                                                 P
consume the good for sure conditional on provision implies that M          j
                                                                    m=1 H ( ; m) h is the surplus
from all consumers with a high valuation for good j: Next, recall that Gm ( ) had the interpretation
as the e¤ect from giving an agent with m high valuations access to all the goods for which the
agent has a low valuation. However, in order to get the surplus from the low valuation agents in
                  P
the same units as M        j
                    m=1 H ( ; m) h in (21), we need to rescale Gm ( ) by
                                                                              1
                                                                             (M m) : The reason                             m
           1
for            is as follows. The inclusion rules involves a trade-o¤ between the possibility that an agent
           m



                                                                          13
has exactly m high valuations (with probability       m)   and the probability that the number of high
                                      P
valuations exceed m (with probability M j=m+1      j ).    In contrast, the natural unit for the welfare
                                                                                                  1
created by providing good j is for a …xed ; implying that we need to scale up Gm ( ) by               . In
                                                                                                  m
addition, as all goods are treated symmetrically, the marginal e¤ect of changing the inclusion rule
is to provide access to M    m goods. In contrast, providing a good only gives the agents a single
                                                                                           1
extra good on the margin. This di¤erence is what accounts for the scaling factor          M m   in (21).
Hence, the …rst two terms may be thought of as the e¤ect from provision on a combination of social
welfare and revenue, whereas the …nal term obviously is the associated cost of provision.


3.5   Su¢ cient Conditions for the Solution to the Relaxed Problem (11) To Solve
      the Full Problem (7)

   We will now discuss when the solution to the relaxed problem (11) also solves the full problem
(7). Many steps in this analysis are similar to Matthews and Moore [19], but the multidimensional
nature of our environment leads to some important di¤erences.
   If the mechanism is monotonic in the sense of De…nition 5, we show that, the diagonal con-
straints are irrelevant (Lemma 7) and that all downwards (upwards) constraints are implied by the
downwards adjacent (upwards adjacent) constraints (Lemma 8 and 9 respectively):

Lemma 7 Suppose that ( ; ; t) is monotonic and that all downwards and upwards incentive con-
straints hold. Then, all incentive constraints in (7) are satis…ed.

Lemma 8 Suppose that ( ; ; t) is monotonic and that all downwards adjacent incentive constraints
hold. Then, all downwards constraints in (7) are satis…ed.

Lemma 9 Suppose that ( ; ; t) is monotonic and that all upwards adjacent incentive constraints
hold. Then, all upwards constraints in (7) are satis…ed.

   A qualitative di¤erence in the way downwards and upwards adjacent constraints are dealt with
is that the latter may possibly be violated at the optimal solution to (11). However, should the
downwards adjacent constraint bind, then it follows that the upwards adjacent constraints are all
satis…ed:

Lemma 10 Suppose that ( ; ; t) is such that the downwards adjacent constraints in (11) bind.
Then all upwards adjacent incentive constraints in (7) are satis…ed.

   Combing the results above, we have that the solution to the relaxed problem is also a solution
to the full problem provided that the downwards adjacent incentive constraints bind and that the
solution to the relaxed problem is monotonic. We therefore need conditions for when this is true
in the optimal solution to the relaxed problem (11). As a …rst step we establish that monotonicity
guarantees that the constraints bind.

                                                 14
Lemma 11 Let ( ; ; t) be an optimal solution to (11). If ( ; ; t) is monotonic and is not ex post
e¢ cient, then every downwards adjacent incentive constraint and the participation constraint for
type l = (l; :::; l) bind.

    The basic idea behind Lemma 11 is obvious: if there is slack in a constraint, one can increase
inclusions or the probability of provision. However, the actual proof is a little bit more subtle
because the inclusion and provision probabilities may already be at their upper bound for the
particular         i   where there is slack. To deal with this possibility we instead extract some additional
cash from type            i:   An inductive argument shows that this additional cash can be used to improve
the allocation unless the solution is already ex post e¢ cient.
    We can now combine these preliminary results and provide a characterization of when the
solution to the relaxed problem solves the full problem.

Lemma 12 Let ( ; ; t) be an optimal solution to (11). If ( ; ; t) is monotonic and is not ex post
e¢ cient, then ( ; ; t) is also an optimal solution to the full problem (7).

    Finally, we derive useful su¢ cient conditions for the conditions in Lemma 12 to be ful…lled:

Lemma 13 Let ( ; ; t) be a solution to (11). Then,
                                                       PM
                                                  1     j=m+1    j
       ( ; ; t) is monotonic if                  M m                 is strictly decreasing in m on f0; :::; M       1g;
                                                            m
                                                                      PM
                                                                 1     j=m+1    j
       Moreover, a su¢ cient condition for                      M m                 to be strictly decreasing in m on f0; :::; M     1g
                                                                            m
       is that the valuations for any goods j and                      j0   6= j are independent.

    The condition is almost, but not quite, a hazard rate condition, where the term M                                   m makes
the condition diverge from a simple hazard rate condition. Intuitively, the explanation of the
“almost hazard rate condition” is that we are either providing access to all goods or only to the
goods for which the agent has high valuations. Allowing access to all goods is better in terms of
social surplus, but may reduce the revenue raised. More precisely, with probability                              m   a consumers
has exactly m high valuations, and such a consumer will be willing to pay (M   m) l more if he
                                                                               PM
is given access to the low valuation goods. On the other hand, with probability j=m+1 j the
number of highPvaluations exceed m, and for such a consumer the revenue is reduced by (h                                   l) : In
                         M
               1         j=m+1         j
general,   M m                             may be non-monotonic, because there are no restrictions on the behavior of
                               m

 m (M      m) : Independence is one way to rule out too extreme ‡uctuations in this term, essentially
because it makes the tails of the distribution over m very thin.
    If the solution
              P
                    to the relaxed problem (11) is monotonic (which, from Lemma 13, will be the
                        M
           1            j=m+1      j
case if   M m                              is strictly decreasing in m); we can show that the inclusion rule for low
                           m
valuation goods as characterized in Lemma 5 can take a sharp threshold rule:


                                                                       15
                                                                                                  PM
                                                                                             1     j=m+1   j
Lemma 14 Let ( ; ; t) be a solution to (11) and suppose that                                M m                is strictly decreasing
                                                                                                       m
in m on f0; :::; M                                    e such that:
                         1g : Then, there exists some m

        j                                                  j
  1.    i   ( i ) = (m) = 0 for every       i   with       i                    e
                                                               = l if m ( i ) < m;
        j                                                  j
  2.    i   ( i ) = (m) = 1 for every       i   with       i                    e
                                                               = l if m ( i ) > m.


3.6    The Main Result

   Now we provide our main result regarding the limit of the sequences of optimal solutions to
(11) as the number of agents n goes out of bounds. We will henceforth index mechanisms by the
number of agents n when needed.
   The rationale for considering such sequences is that it allows us to take limits of exact solutions
to our optimization problems, to obtain a more easily interpretable characterization of the solutions
when n is large. The key advantage of considering a large population limit is that it allows us to
use a version of the “Paradox of Voting”–for large n; it is almost as if the provision rule is constant
in type announcements –which tremendously simpli…es the description of the optimal mechanism.
Formally, we can use the Central Limit Theorem to establish:
                                                                                                                          h                 i
                                                                                                                              j         0
Lemma 15 Let ( n ; n ; tn ) be a solution to the constrained welfare problem (11). Then, E                                    n(   )j   i
 h            i
E jn ( ) j 00i ! 0 as n ! 1 for any j and any pair 0i ; 00i 2 :
                                                       h                  i        h         i
                                                           j          0                j
   Lemma 15 immediately implies that E                     n(    )j   i        E       n(   ) ! 0: Hence, all conditional prob-
abilities appearing in the incentive constraints may be approximated by the ex ante probability of
provision, which greatly simpli…es the analysis. Our main result is about the provision probabilities
and inclusion rules in the limit as n goes to in…nity is given as follows:
                                           PM
                                       1        j=m+1      j
Proposition 3 Suppose that           M m                       is strictly decreasing on f0; :::; M               1g and let R (m)
                                                  m
be de…ned as in (20). Then,

                    j
  1. limn!1 E       n(   ) = 0 for every j if maxm R (m)                      cM < 0 in any sequence of feasible solutions
       to the full problem (7);
                    j
  2. limn!1 E       n(   ) = 1 for every j if maxm R (m)                      cM > 0 in any sequence of optimal solutions
       to the full problem (7);

  3. When maxm R (m)           cM > 0; let m be the smallest m such that R (m)                                 cM > 0: Then there
       exists N < 1 such that if n          N;

                                                                 j
       (a) for every type      i   with m ( i )        m ;       n ( i)       = 1 for every good j;



                                                                 16
                                                                       j                                                j
       (b) for every type     i   with m ( i ) = m               1;    n ( i)   = 1 for every good j such that          i   = h;
           and
                                                  j                 R (m ) cM
                                                  n ( i)   !
                                                                 R (m ) R (m  1)
                                       j
           for ever good j such        i   = l;
                                                                      j                                         j
       (c) for every type     i   with m ( i )     m        2;        n ( i)   = 1 for every good j such that   i   = h and
            j                                                     j
            n ( i)   = 0 for every good j such that               i   = l.

    The proof of Proposition 3 requires quite a bit of technical work. Still, the key idea is rather
simple. Once we have established that the solution must have a threshold characterization (Lemma
14), and that the in‡uence of any individual agent’s announcement vanishes as the number of agents
goes to in…nity, it is quite clear that we want to set the threshold as low as possible, subject to
the constraint that provision must be self-…nancing. The condition on whether maxm R (m)                                    cM
is positive thus will dictate whether there will be su¢ cient budget to provide all the public goods.
Most work in the proof goes into establishing that a large economy is approximately like an economy
where the provision decisions are made ex ante, not conditioning on : The intuition for this is that
the larger the economy is, the more certain we can be that the economy is close to the expected.


4     Special Cases and Implications

4.1   One Good or Independent Provision

    When there are no complementarities in preferences and production costs, it is clear that the
analysis of providing a single excludable public good is the same as the analysis of the case where
M goods are provided by independent agencies. Also, the case when valuations for di¤erent goods
are perfectly correlated is also equivalent to the case with a single good.
             P
    Let = M         m
               m=1 M m denote the (marginal) probability that a consumer has a high willingness             PM
                                                                                                        1       j=m+1       j
to pay for any particular good. With only a single good, the condition that                           M m                       is
                                                                                                                    m
decreasing in m is satis…ed by default, thus Proposition 3 is always applicable. Furthermore,
                                             (
                                                 l   if m = 0
                                    R (m) =
                                                  h if m = 1:
Hence, Proposition 3 says that limn!1 E             n(     ) = 0 if max fl; hg            c < 0; and limn!1 E       n(      )=1
if max fl; hg    c < 0:
    The case with l       c is trivial: if the low valuation exceeds the cost of provision, it is …rst best
e¢ cient to always provide and never exclude any consumers from usage, which can be implemented
by a uniform user fee of c: When l < c < h; we know from Proposition 3 that the probability for
access for type l goods converges to
                                             R (1) c                  h      c
                                                       =                       2 (0; 1)                                     (22)
                                           R (1) R (0)                h      l

                                                             17
as n goes to in…nity. Moreover, G1 ( ) as de…ned in (18) is equal to zero, thus the provision rule
characterized in (21) simpli…es to
                                                          8
                                                          >
                                                          >            0           if H j ( ; 1) h          cn < 0
                                                          <
                                             j
                                                 ( )=         z 2 [0; 1]           if H j ( ; 1) h          cn = 0                       (23)
                                                          >
                                                          >
                                                          :            1           if   Hj      ( ; 1) h    cn > 0;
which interestingly is exactly the same provision rule as the one that would be optimal for a pro…t-
maximizing monopolist; thus for the one good case, the welfare loss associated with a for-pro…t
monopolist relative to the constrained social optimum is only due to over-exclusion, not in under-
provision. With more than one good, there is typically under-provision by a for-pro…t monopolistic
provider for …nite n:

4.2     Two Goods

   Here we describe the results for the two-good case, which was the focus of Fang and Norman [12].
The two-good case is also interesting because we can also characterize the optimal mechanism
when the regularity condition is violated (the characterization for that case is provided in the next
subsection).                                                  PM
                                                      1        j=m+1       j
   Note that with two goods,                       M m                         is strictly decreasing in m on f0; 1g if and only if
                                                                   m

                                             2       1    1   +    2       11               0           1           0 2
                                                 <                     =                        ()          >             :              (24)
                                             1       2        0            2            0              2        1     0
Furthermore,                                                  8
                                                              >
                                                              >                2l                     for m = 0
                                                              <
                                             R (m) =               (   1   +    2 ) (h      + l)      for m = 1
                                                              >
                                                              >
                                                              :                2 h                    for m = 2;
where    =       1
                 2    +       2:   Ruling out the trivial case of l                             c; we see from Proposition 3 that there are
three possibilities (see also Proposition 5 in Fang and Norman [12]):
                                                                                                       j
  1. If max f(          1   +      2 ) (h   + l) ; 2 hg < 2c; then limn!1 E                            n(   ) = 0 for j 2 f1; 2g ;
                                                                           j
  2. (   1   +       2 ) (h   + l) > 2c; then limn!1 E                     n(      ) = 1 for j 2 f1; 2g ; all consumers with at least 1
      high valuation good get access to both goods, and those with only low valuations get access
      to each good with probability
                                                  R (1) 2c     (               1 +          2 ) (h + l)         2c
                                                             =                                                     2 (0; 1) ;
                                                 R (1) R (0)   (                1+          2 ) (h + l)         2l
                                                                                                j
  3. 2 h > 2c > (                  1   +    2 ) (h   + l) ; then limn!1 E                       n(   ) = 1 for j 2 f1; 2g ; all consumers get
      access to their high valuation goods, and those with 2 low valuations do not get any access at
      all, but those with one high valuation get access to their low valuation good with probability
                                              R (2) 2c                                  2 h 2c
                                                         =                                                2 (0; 1) :                     (25)
                                             R (2) R (1)   2 h                          ( 1 + 2 ) (h + l)

                                                                                18
      It is worth emphasizing that in the optimal joint provision mechanism, both goods will be
provided with probability one asymptotically if max f(                                  1   +   2 ) (h   + l) ; 2 hg > c; in stark con-
trast to the optimal separate provision mechanism characterized in Subsection 4.1 where a good
is provided asymptotically if                h > c: It is clear that there exits a non-empty parameter region
where (       1   +   2 ) (h   + l) > 2c > 2 h where we get asymptotic non-provision if goods are provided
separately, but the optimal bundling mechanism provides both goods for sure.
      The increased provision probability for e¢ cient public goods under a bundling mechanism rela-
tive to the separate provision mechanism is only one channel through which bundling may increase
e¢ ciency. The optimal bundling mechanism also leads to strict e¢ ciency gains relative the non-
bundling mechanism by increasing the probability of inclusion for low-valuation agents, even in cases
when the goods can also be provided without bundling. To see this, suppose that                                                       h > c so that
both public goods will be asymptotically provided with probability one with or without bundling.
From (22), we know that under the best separate provision mechanism, the probability for access to
a low valuation agent is ( h                 c) = ( h           l) : In contrast, (25) implies that the ex ante probability
for access conditional on a low valuation for the case where 2c > (                                      1   +     2 ) (h   + l) is

                                                        1                      2 h 2c
                                                                                                 :                                                (26)
                                                     +              2 h        ( 1 + 2 ) (h + l)
                                                 | 0 {z 1}          |              {z          }
                                           prob of mixed type                     from (25)
                                           given low valuation

                                                                         h c
Some algebra shows that (26) is larger than                              h l      whenever       1
                                                                                                 2    >      1
                                                                                                                 0 2
                                                                                                                       ; which is precisely the
                                                                                                                   0
condition under which Proposition 3 is applicable. Fewer consumers are thus excluded in the
optimal bundling mechanism. A similar calculation applies to the case with (                                                1   +   2 ) (h   + l) > 2c:


4.3      The Case with a Binding Monotonicity Constraint

      The case with two goods
                           P
                              also provides a useful setup for investigating the case when the reg-
                                           M
                                   1       j=m+1   j
ularity condition on             M m                     fails. As shown in (24) this reduces to the condition that
                                             m
 1
 2      1
            0 2
                  ; which may be interpreted as saying that the valuations are (su¢ ciently strongly) pos-
              0
itively correlated. In the Appendix we prove that the asymptotic characterization for this case
is:

Proposition 4 Assume that                   2
                                             1
                                                    1
                                                        0 2
                                                                and l < c. Then:
                                                            0

                         j
      1. limn!1 E        n(    ) = 0 for every j if h < c for any sequence f                         n ; n ; tn g      of feasible mechanisms.
                         j
      2. limn!1 E        n(    ) = 1 for every j if h > c for any sequence f                         n ; n ; tn g      of optimal mechanisms.
        Moreover, all consumers get access to the high valuation goods and
                                                                j             h      c
                                                                n ( i)   !             2 (0; 1)
                                                                              h      l
                                                   j
        as n ! 1 for every             i   with    i    = l:

                                                                         19
        The interesting aspect of Proposition 4 is that the solution is identical to the case when
bundling is not allowed. To understand why, recall that asymptotic provision or non-provision
is related to whether the maximal revenue for a monopolistic provider of the goods – if provided
– exceeds the costs. The revenue maximizing selling strategy for a monopolist, if both public
goods are provided, is either to sell goods separately at price h; or sell the goods as a bundle
at price h + l, or to charge l for each good. These selling strategies generate a revenue of 2 h;
(   1   +    2 ) (h   + l) ; and 2l respectively. Since we are already assuming l < c; the question is thus
whether max f(              1   +       2 ) (h   + l) ; 2 hg exceeds 2c. For the …rst part of Proposition 4, if h < c and
l < c are both satis…ed, we have that

                                                                                                                             1
                                (   1   +   2 ) (h   + l) < (       1   +       2 ) (h   + c) < (       1   +       2)            +1 c
                                                            "                                                                #
                                                                                               1
                                                                            (1        0)         +
                                                                                               2 1          2            2
                                                          =         2+                     1                                     c < 2c
                                                                                           2   1+ 2

            1
when        2 1       1
                          0 2
                                : This calculation shows that it is impossible to provide the goods with probability
                            0
                                                                                                j
1 if     h < c; and the idea for why this translates into E                                     n(    ) ! 0 is the same as for the previous
analysis.
        For the second part of Proposition 4, consider the case when either separate provision or
bundling provide su¢ cient revenue to cover the cost of provision. In the solution characterized
by Proposition 4, the asymptotic ex ante probability of getting access to low valuation good j is

                                                                            1            h      c
                                                                    0   +        1                :
                                                                            2            h      l

If, instead, the mechanism which is optimal for the case with                                                   1
                                                                                                                2    >       1
                                                                                                                                 0 2
                                                                                                                                       is used, the ex ante
                                                                                                                                   0
probability of getting access to low valuation good is

                                                                (   1+       2 ) (h + l)         2c
                                                            0                                       :
                                                                (   1+       2 ) (h + l)         2l

Some algebra along the lines discussed in connection with (26) shows that the ex ante probability of
getting access and therefore also the social surplus is actually smaller using the bundling mechanism
in this case.


5        Conclusion and Discussion
        This paper studies the optimal provision mechanism for multiple excludable public goods when
agents’valuations are private information. For a parametric class of problems with M goods whose
valuations take binary values, we fully characterize the optimal mechanism and demonstrate that
it involves bundling if a regularity condition, akin to a hazard rate condition, on the distribution of
valuations is satis…ed. Bundling alleviates the free riding problem in large economies in two ways:

                                                                                 20
…rst, it may increase the asymptotic provision probability of socially e¢ cient public goods from
zero to one; second, it decreases the extent of use exclusions. For the case of two goods, we also
show that if the regularity condition is violated, then the optimal solution replicates the separate
provision outcome.


Our Model as a Positive Theory of Bundling.                        Bundled discounts are common in many
markets. In fact, some have argued that almost any commodity is best viewed as a bundle of
characteristics.13 However, once we take a narrower perspective of only considering bundles of
commodities that are viable “stand-alone goods” in the sense that a consumer has a substantial
willingness to pay for each component even if no other goods in the bundle are consumed, it is
arguable that commonly bundled commodities mostly have non-rival properties, or, more generally,
goods with a substantial …xed costs. Software, music, electronic libraries, and TV programming
are obvious examples, and these kinds of goods are growing more important. As such, our paper
may be interpreted as a positive theory of bundling of goods with no-rival properties.
       It is worth noting that in this paper we focused on the harder problem of maximizing social
welfare instead of maximizing pro…ts; but the pro…t-maximizing selling strategy is a by-product of
our analysis. It is easy to see that the only change in the asymptotic characterization of the pro…t-
maximizing selling mechanism is that the threshold number of high valuation goods a consumer
needs in order to get access to her low valuation goods will increase. Or, put di¤erently, the price
of the grand bundle will be higher than in Proposition 3 because a pro…t-maximizing monopolist
will seek as high a pro…t as possible rather than to only break even. The rest of Proposition 3 is
unchanged for the pro…t-maximization problem.
       The key di¤erence between our model of bundling for non-rival goods and the standard bundling
model for private goods with constant unit costs is that the decision for whether to provide a good
becomes non-trivial. This in turn makes it necessary to go beyond the standard setup with a single
consumer. As a result the characterization of the optimal selling mechanism in our setup is more
complicated when there is a …nite number of consumers.


A Regulatory Benchmark for Bundling of Goods with Large Fixed Costs.                                    Bundling
may under some circumstances violate current U.S. anti-trust legislation; indeed the legality and
desirability of bundling of software (a non-rival good) have been a critical point of debate in several
recent cases. While economists have been involved in this discussion, to the best of our knowledge
there is not yet a clear-cut normative benchmark in the economics literature. The analysis in this
paper is a small step towards the development of a useful normative benchmark for bundling in
natural monopoly situations.
  13
       For example, a car can be considered as a “bundle” consisting of a chassis, an engine, cup holders, a stereo
system, air conditioning etc.




                                                         21
       Though our model is highly stylized, it has enough ‡exibility to generate a non-trivial trade-o¤.
On the one side, it is a possible that bundling is required for the monopolist to break even. In
this case the pro…t-maximizing outcome with bundling is better for the consumer than the welfare
maximizing outcome without bundling; thus a requirement to “unbundle” is strictly worse for the
consumers, regardless of other budget-balancing remedies that may be combined with the decision
to unbundle.14 On the other side, the fact that bundling makes it easier for the monopolist to
extract consumer surplus can make consumers worse o¤ for the obvious reasons.
       Our model still makes many restrictive assumptions on the cost and preference side. In par-
ticular, while the assumption that preferences exhibit no complementarities highlights the role of
bundling as a screening instrument, it is counter-factual in many cases. Moreover, arguments based
on alleged complementarities are often used to justify bundling. However, it should be rather clear
that in itself, complementarities are not su¢ cient to provide a rationale for bundling: if many
consumers like to consume a particular computer program jointly with their computer, they may
choose to do so regardless of whether the computer program is bundled with the computer.15 Even
though the argument that “bundling is good for the customer because the customers like the goods
together”is suspect, complementarities in preferences may matter if combined with some other po-
tential justi…cation for bundling, such as the considerations about …xed costs of the current paper.
We intend to study this question in future research.


References
 [1] Adams, W.J. and Janet L. Yellen (1976). “Commodity Bundling and the Burden of Monopoly.”
        Quarterly Journal of Economics, Vol. 90, 475 –98.

 [2] Armstrong, Mark (1996). “Multiproduct Non-Linear Pricing.” Econometrica, Vol. 64, 51-76.

 [3] Armstrong, Mark (1999). “Price Discrimination by a Many-Product Firm.” Review of Eco-
        nomic Studies, Vol. 66,151-168.

 [4] Armstrong, Mark and Jean-Charles Rochet (1999). “Multi-dimensional screening: A User’s
        Guide.” European Economic Review, Vol. 43, No. 4, 959-979.

 [5] Aumann, Robert J. (1964). “Mixed and Behavioral Strategies in In…nite Extensive Games.”
        Annals of Mathematical Studies, Vol. 52, 627-650.
  14
       This line of reasoning was an important part of the motivation in the decision by the O¢ ce of Fair Trading [24]
in the U.K. on alleged anti-competitive mixed bundling by the British Sky Broadcasting Limited.
  15
     Indeed, for computers bought on the internet, the buyer already has a long array of options on how to customize
the computer, and it would be easy to allow the consumer to opt out of the standard software bundle (a choice which
is usually not available).




                                                           22
 [6] Bakos, Yannis and Erik Brynjolfsson (1999). “Bundling Information Goods: Pricing, Pro…ts
    and E¢ ciency.” Management Science, Vol. 45, 1613-1630.

 [7] Bergstrom, Carl T and Theodore C. Bergstrom (2004). “The Costs and Bene…ts of Library
    Site Licenses to Academic Journals.” Proceedings of the National Academy of Sciences in the
    United States of America, Vol. 101, 897-902.

 [8] Bolton, Patrick and Mathias Dewatripont (2005). Contract Theory, MIT Press: Cambridge,
    MA.

 [9] Borgers, Tilman and Peter Norman (2007). “A Note on Budget Balance under Interim Par-
    ticipation Constraints: The Case of Independent Types.” manuscript, University of Michigan
    and University of North Carolina.

[10] Cremer, Jacques and Richard P. McLean (1988). “Full Extraction of the Surplus in Bayesian
    and Dominant Strategy Auctions.” Econometrica, Vol. 56, 1247-1257.

[11] Dana, James D. (1993). “The Organization and Scope of Agents: Regulating Multiproduct
    Industries.” Journal of Economic Theory, Vol. 59, 288-309.

[12] Fang, Hanming and Peter Norman (2003). “An E¢ ciency Rationale for Bundling of Public
    Goods.” Cowles Foundation Discussion Paper No. 1441.

[13] Fang, Hanming and Peter Norman (2006). “To Bundle or Not to Bundle.” RAND Journal of
    Economics, Vol. 37, No. 4, 946-963.

[14] Hellwig, Martin F. (2003). “Public Good Provision with Many Participants.” Review of Eco-
    nomic Studies, Vol. 70, 589-614.

[15] Hellwig, Martin F. (2005). “A Utilitarian Approach to the Provision and Pricing of Excludable
    Public Goods.” Journal of Public Economics, Vol. 89, 1981-2003.

[16] Jackson, Matthew O. and Hugo F. Sonnenschein (2007). “Overcoming Incentive Constraints
    by Linking Decisions.” Econometrica, Vol. 75, No. 1, 241-258.

[17] Mailath, George and Andrew Postlewaite (1990). “Asymmetric Information Bargaining Prob-
    lems with Many Agents.” Review of Economic Studies, Vol. 57, 351-368.

[18] John O. Ledyard and Thomas R. Palfrey (2007). “A General Characterization of Interim
    E¢ cient Mechanisms for Independent Linear Environments.” Journal of Economic Theory,
    Vol. 133, No. 1, 441-466.

[19] Matthews, Steven, and John Moore (1987). “Monopoly Provision of Quality and Warranties:
    An Exploration in the Theory of Multidimensional Screening.” Econometrica, Vol. 55, No. 2,
    441-467.

                                               23
[20] McAfee, R. Preston, John McMillan and Michael D. Whinston (1989). “Multiproduct
         Monopoly, Commodity Bundling, and Correlation of Values.”Quarterly Journal of Economics,
         Vol. 104, 371–84.

[21] Myerson, Roger (1981). “Optimal Auction Design.”Mathematics of Operations Research, Vol.
         6, 58-73.

[22] Myerson, Roger and Mark A. Satterthwaite (1983). “E¢ cient Mechanisms for Bilateral Trad-
         ing.” Journal of Economic Theory, Vol. 29, 265-281.

[23] Norman, Peter (2004). “E¢ cient Mechanisms for Public Goods with Use Exclusion.” Review
         of Economic Studies, Vol. 71, 1163-1188.

[24] O¢ ce of Fair Trading (2003). BSkyB decision dated 17 December 2002: rejection of applications
         under section 47 of the Competition Act 1998 by ITV Digital in Liquidation and NTL, London,
         UK. Available at: http://www.oft.gov.uk/business/competition+act/decisions/bskyb.htm


A         Appendix: Proofs of Results in Section 3
Proof of Lemma 1.
Proof. The only variables that are not automatically in a compact set are the transfers. However,
ti (l)       M l < M h and ti ( i )                       ti ( i jlk )           m ( i ) h + [M                       m ( i )] l < M h. Recursive application
of (12) therefore implies that we may bound ti ( i ) from above by M 2 h: Since this is also an upper
bound for the di¤erence between ti ( i ) and ti ( i jlk ) ; it follows from (14) that we may bound ti ( i )
from below by                 M 2 h: Hence, existence of a solution to (11) follows from Weierstrass maximum
theorem.

Proof of Lemma 2.
Proof. Let m ( i ) = m bi = m, let                                i
                                                                            0
                                                                         i; i         denote the multiplier associated with one of the m 1
downwards adjacent constraints for type                        bi ; b0 denote the multiplier associated with
                                                                             i   and let           i
                                                                     i

one of the m                                                         b
                         1 downwards adjacent constraints for type i . Proposition 2 ensures that provision
and inclusion rules are symmetric and by use of strong duality in linear programming we …nd that
                                                     0
it is without loss to assume that i i ; 0 = i bi ; b .                   i                             i


Proof of Lemma 3.
Proof. Fix m and let                      i    2      with m ( i ) = m: Consider the incentive compatibility conditions
involving i :

         X                    M
                              X                                                   X                             M
                                                                                                                X
                                     j         j            j                                                          j                   j               j
  0              i   (   i)              ( )   i   ( i)     i    ti ( i )                      i   (       i)              (   i ; i jlk ) i   ( i jlk )   i   ti ( i jlk ) (A1)
             i                j=1                                                     i                         j=1
         |                               {z                              }        |                                               {z                                   }
                                    Term A                                                                                     Term B



                                                                                          24
We note that ti ( i ) enters in Term A for m conditions: there are m ways to manipulate a single
coordinate so as to announce a pro…le with one h replaced with a l: From Lemma 2, the multiplier
associated with each of these conditions is (m) : In addition, ti ( i ) enters in Term B for M m
downwards incentive constraints for types with m + 1 high valuations. Finally, it also enters the
resource constraint (14). The …rst order condition with respect to ti ( i ) can thus be written as
                                                                                                                                           m! (M m)!
     m (m) + (M             m) (m + 1) +                i   ( i) =               m (m) + (M               m) (m + 1) +                                  m   = 0; (A2)
                                                                                                                                               M!

where we used (6) for the …rst equality.
   For m = M; condition (A2) reads M (M ) =         M , implying that Lemma 3 is also true for
m = M: Now suppose that (m) is given by the expression in (17) for some m           M . The
                                             0            0
optimality condition (A2) with respect to ti i where m i = m 1 then reads:

                                                                                                 (m
                                                                                     1)! (M m + 1)!
       0    =       (m      1) (m         1) + (M                   m + 1) (m) +                     m 1
                                                                                          M!
                                                  (M                m + 1)         (m 1)! (M m + 1)!
            =       (m      1) (m         1) +                             m (m) +                      m 1
                                                                    m                      M!
                                                                                       M
                                                  (M                m + 1) m! (M m)! X          (m 1)! (M m + 1)!
            =       (m      1) (m         1) +                                              j +                                                             m 1
                                                                    m          M!     j=m
                                                                                                        M!
                                                                                                          M
                                                                                                          X
                                                  (m                1)! (M m + 1)!
            =       (m      1) (m         1) +                                                                j;
                                                                         M!                           j=m 1


where the third equality follows from induction hypothesis. Thus, (17) holds also for m                                                                       1: The
result follows from induction.

Proof of Lemma 4.
                                                                         j
Proof. Let j be some good for which                                      i       = h: The optimality conditions for problem (11) with
respect to ji ( i ) may be written as
                                     X                                                               X
                                                                j                                                             j
                                                   ( )              ( ) h + (m) m                             i   (      i)       ( )h                            (A3)
                                     i2       i                                                      i2   i
                                                                    X                                         j                   j
                                                                                                 j
                             (m + 1) (M            m)                              i   (    i)       ( )h +   i   ( i)            i   ( i)     =   0
                                                                    i2       i

                                              j              j                                   j                j
                                              i   ( i)       i      ( i ) = 0 and                i   ( i) 1       i   ( i)        = 0;

            j                j
where       i   ( i ) and   ( i ) are respectively the multipliers for the constraints ji ( i )
                             i                                                                                                                          0 and 1
 j                                              P                    j( ;
 i   ( i)       0. Since we are assuming that        i2 i    i(   i)     i   i ) > 0 and since

                                    X                                                                X
                                                            j                                                                 j
                                                  ( )            ( )h =                i ( i)                 i(         i)           ( ) h;                      (A4)
                                    i2    i                                                          i2   i


we may simplify the …rst equality in (A3) and write

                                                                                                                  j                    j
                         i ( i) h   + (m) mh                             (m + 1) (M                  m) h +       i   ( i)             i   ( i ) = 0;             (A5)




                                                                                           25
which, by the use of the complementary slackness conditions in (A3), implies that
                       8
                       >
                       >     1      if i ( i ) + (m) m     (m + 1) (M m) > 0
                       <
                      j
                      i   ( i) =       x 2 [0; 1]               if        i ( i)    + (m) m                   (m + 1) (M                             m) = 0
                                   >
                                   >
                                   :            0               if        i ( i)    + (m) m                   (m + 1) (M                             m) < 0:
But, from (15) we have that                      (m) m                    (m + 1) (M                m) =                  i ( i) ;         implying that

                             i ( i)    + (m) m                            (m + 1) (M               m) = (1 + )                          i ( i)       > 0:



Proof of Lemma 5.
                                                                          j
Proof. Let j be some good for which                                       i    = l: The optimality conditions for problem (11) with
respect to ji ( i ) are:
                                       X                                                           X
                                                                j                                                                      j
                                                       ( )          ( ) l + (m) m                                 i   (       i)           ( )l                                (A6)
                                       i2        i                                                 i2     i
                                       X                                                                                       j                     j
                                                                           j
                          (m + 1)                       i   (        i)        ( ) [(M         m        1) l + h] +            i       ( i)          i   ( i) = 0
                                       i2        i

                                            j           j                                  j                  j
                                            i   ( i)    i   ( i ) = 0 and                  i   ( i) 1         i   ( i ) = 0;
           j                 j                                                                                                 j                                    j
where      i   ( i ) and     i   ( i ) are the multipliers for the constraints                                                 i       ( i)          0 and 1        i   ( i)      0
respectively. Using (A4) as in the proof of Lemma 4, we may rearrange the …rst inequality in (A6)
as:
                                                                                                                          j                      j
                                                                                                                          i   ( i)               i   ( i)
        i ( i) l   + (m) ml                 (m + 1) [(M                        m     1) l + h] + P                                                        j( )
                                                                                                                                                               = 0:            (A7)
                                                                                                                      i2           i        i(        i)

Using the relations between the multipliers we …nd that

                                            i   ( i ) l + (m) ml                      (m + 1) [(M                 m           1) l + h]
                      /(15)/       =        i   ( i ) l (1 + )                     (m + 1) (h           l)
                                                                                                                                           M
                                                                                                                                           X
                                                                                           m! (M          (m + 1))!
                /Lemma 3/          =        i ( i ) l (1 + )                   (h     l)                                                                 j
                                                                                                         M!                            j=m+1

                                                                                           XM
                                           m! (M m)!                     m! (M (m + 1))!
                          /(6)/    =     m           l (1 +  )   (h  l)                          j;
                                               M!                              M!         j=m+1
                                                         2                                      3
                                                                                         XM
                                        m! (M (m + 1))! 4                                       5
                                   =                        m (M    m)l (1 + ) (h l)          j
                                               M!                                       j=m+1

                                        m! (M            (m + 1))!
                                   =                               (1 + ) Gm ( )
                                                        M!
for    =   1+      : Substituting into (A7) and using the complementary slackness conditions in (A6), we
have                                                                           8
                                                                               >
                                                                               >           0             if Gm ( ) < 0
                                                                               <
                                       j
                                       i    ( i ) = (m) =                           z 2 [0; 1]           if Gm ( ) = 0
                                                                               >
                                                                               >
                                                                               :           1            if Gm ( ) > 0;

                                                                                     26
as asserted.

Proof of Lemma 6.
Proof. The optimality conditions for                                               j   ( ) associated with the problem (11) may (with somewhat
ambiguous notation) be written as

                    "   n
                                                           #           M
                        X      j              j
                                                                       X
              ( )              i   ( i)       i        cn +                      (m) m H j ( ; m)                 i   (    i) h   + Lj ( ; m)           i   (   i)    (m) l
                        i=1                                            m=0
              M
              X1
                         (m + 1) H j ( ; m)                              i   (     i ) (M      m) h + Lj ( ; m)                   i   (   i)   (m) f(M          m) l + (h       l)g
              m=0
                                     j                  j
                    ( ) cn +             ( )                ( ) = 0;

together with the complementary slackness conditions.16 Recall that H j ( ; m) (respectively, Lj ( ; m))
is the number of agents that has a high (respectively, low) valuation for good j and m high valua-
tions in total, whereas                           (m) denotes the probability that an agent gets access to his low valuation
                                                                                                                                                    j                   j
goods when having m high valuations (as characterized in Lemma 5), and                                                                                  ( ) and             ( ) are the
multipliers for the boundary constraints. After using (A4) and the fact that
                                          n
                                          X                                      M
                                                                                 X                                M
                                                                                                                  X
                                                       j                j
                                                       i   ( i)         i    =           H j ( ; m) h +                    Lj ( ; m) (m) l;
                                          i=1                                    m=0                              m=0

we can write the condition as
           M
           X                                      M
                                                  X                                          M
                                                                                             X                                          m                             m
                    H j ( ; m) h +                     Lj ( ; m) (m) l +                                (m) H j ( ; m)                        h + Lj ( ; m)                 (m) l
          m=0                                 m=0                                            m=0                                      i ( i )                        i ( i)
              M
              X1                                                       (M        m)                                1
                          (m + 1) H j ( ; m)                                        h + Lj ( ; m)                       (m) ((M                m) l + (h        l))
              m=0                                                            i ( i)                              i ( i)
                                          j                    j
                                              ( )                  ( )
              (1 + ) cn +                                                    = 0:
                                                       ( )

Collecting terms, we get:
                              M
                              X                                                h
                                    H j ( ; m) h +                                  [ (m) m                 (m + 1) (M                m)]
                              m=0                                            i ( i)
                              M
                              X                                                         (m)
                                    Lj ( ; m)                      (m) l +                    [ (m) ml                (m + 1) f(M              m) l + (h         l)g]
                              m=0                                                      i ( i)
                                                                   j               j
                                                                       ( )             ( )
                               (1 + ) cn +                                                   = 0:
                                                                             ( )
  16
       The notation is somewhat unsatisfactory in that                                              i   (   i)   would be more appropriately denoted by                          i   ( j i)
where     i   would describe a type that would enter in the particular term (and therefore change with each term).
                                                                                                                                  j
Concretely, H j ( ; m)                i   (       i)   would correspond to                      i   ( j i ) for       i   with    i   = h and a total of m high valuations.




                                                                                                    27
Using the di¤erence equation for the multipliers in (15), which implies that (m) m                                                                                 (m + 1) (M                 m) =
   i ( i ) ; we can simplify this further [after using (15)] to:

                      M
                      X                                                M
                                                                       X                                                             (m + 1)
                            H j ( ; m) fh + hg +                              Lj ( ; m)               (m) l + (m)            l               (h                    l)                  (A8)
                   m=0                                                 m=0                                                            i ( i)
                                                 j                 j
                                                     ( )               ( )
                       (1 + ) cn +                                            = 0:
                                                           ( )
                                                                                               m!(M m 1)!              PM
But using (17) and (6), we have that                                      (m + 1) =                M!                       j=m+1        j;      thus

                                                                                                                                  M
                                                                                                                                  X
                                   (m + 1)                                            1 m! (M m                        1)!
                                           /(17)/ =                                                                                              j                                     (A9)
                                    i ( i)                                          i ( i)   M!
                                                                                                                                 j=m+1
                                                                                                                            M
                                                                                                                            X
                                                                                      1 m! (M               m)!
                                                                          =                                                          j
                                                                                    i ( i ) M ! (M          m)
                                                                                                                        j=m+1
                                                                                                             M
                                                                                                             X
                                                                                        1
                                                       /(6)/ =                                                              j:
                                                                                    m (M              m)
                                                                                                            j=m+1

Hence,
                                                                                                                        2                                                                      3
                                                                                                                                                                        M
                                                                                                                                                                        X
                                                           (m + 1)                                                                          1
                   (m) l + (m)               l                     (h               l)        =       (m) l + (m) 4 l                                                              j   (h     l)5
                                                            i ( i)                                                                      m (M                 m)     j=m+1
                                  8                                        9
                                  >            2                          3>
                                  >
                                  <                          M             >
                                                                           =
                                                     1       X
         =       (1 + )        (m) l           4                   (h  l) 5
                                  >
                                  >    1+        m (M   m) j=m+1 j         >
                                                                           >
                                  :    | {z }                              ;
                                         =
                                  8              2                             39
                                  <                        1      XM            =
         =       (1 + )        (m) (1     ) l + 4l                      j (h l)5
                                  :                    m (M   m) j=m+1          ;
                                   8                         2                                                                                             39
                               (m) <                                                                                                                        =
                                                                             XM
                  (1 + )
         =                          (1     ) m (M m) l + 4 m (M m) l                                                                     j   (h          l)5
                    m (M        m) :                                                                                         j=m+1
                                                                                                                                                            ;

                    (1 + )
/(18)/   =                   max f0; Gm ( )g :
                   m (M   m)

Substituting this back into (A8) gives us
             "   M                           M
                                                                                                                                             #
                 X                           X                                     1                                                                     j
                                                                                                                                                             ( )         j
                                                                                                                                                                             ( )
                        j                                  j
  (1 + )               H ( ; m) h +                   L ( ; m)                                        max f0; Gm ( )g                cn +                                          = 0;
                 m=0                         m=0                               m (M           m)                                                                   ( )

which, together with the complementary slackness conditions, gives the result.

Proof of Lemma 7.
                                                                                                                                                                0
Proof. The solution to (11) violates an incentive constraint in (7) if there exists                                                                          i; i       such that

   X                         M
                             X                                                           X                       M
                                                                                                                 X
                                   j         j                 j                                                        j           0        j       0       j               0
                 i(     i)             ( )   i   ( i)          i       ti ( i ) <                      i(   i)                   i; i        i       i       i     ti        i   : (A10)
   i2    i                   j=1                                                         i2       i              j=1



                                                                                          28
Since        i    is exchangeable and costs are identical for all goods, we can apply Proposition 2 (in
conjunction with Lemma 4) to conclude that it is without loss of generality to assume that there
                                                                                               M
exists            (m) ; P h (                        i ; m) ; P
                                                                      l   (     i ; m) ; t (m) m=0 ;             such that:

         j                                                                                                j
   1.    i       ( i ) = (m) for every ( i ; j) such that                                                 i    = l for good j and m ( i ) = m;

         j                0                                                                                                   j
   2.                  i; i                = Ph (                  i ; m)     for every ( i ; j) such that                    i   = h for good j and m ( i ) = k;

         j                0                                                                                                j
   3.                  i; i                = Pl (              i ; m)         for every ( i ; j) such that                 i      = l for good j and m ( i ) = k;

                                                                                                  k
   4. ti ( i ) = t (m) for every                                          i    such that          i   = h and m ( i ) = k:

    Consider an arbitrary announcement 0i with m 0i = m0 . Let r min fm0 ; mg be the number
of coordinates such that ji = 0j i = h; and let s     min fM m0 ; M mg be the number of
coordinates such that ji = 0ji = l: We can then express the failure of an incentive constraint for
the full problem in (A10) as
                 X
                                       i   (     i)       Ph (        i ; m) mh         + Pl (        i ; m)    (m) (M            m) l          t (m)                                      (A11)
                 i2        i
                 X
  <                                    i   (     i)       Ph (         i; m
                                                                                0
                                                                                    ) [rh + (m0       r) l] + P l (       i; m
                                                                                                                                   0
                                                                                                                                       ) (m0 ) [sl + (M             m0     s) h]         t (m0 ) :
                 i2        i



We note that if r < m0 and s < M m0 ; then it is possible to announce a type 00i (that di¤ers
from 0i ) with m 00i = m 0i = m0 , but there are r + 1 coordinates with 0j  00j
                                                                        i = i = h and s + 1
coordinates with 0j    00j                                       0                 00
                  i = i = l: The utility for agent i with type i from announcing i is, using
the mechanism described above,
             X                                       n                                                                                                                                                    o
                                                                         0
                                   i   (        i)       Ph          i; m           (r + 1) h + m0        r      1 l + Pl               i; m
                                                                                                                                            0
                                                                                                                                                   m0    (s + 1) l + M              m0          s   1 h       t m0
             i2        i
             X                                       n                                                                                                                     o
                                                                         0
  =                                i(           i)       Ph          i; m           rh + m0       r l + Pl            i; m
                                                                                                                          0
                                                                                                                                       m0   sl + M        m0         s h           t m0
             i2        i
                  X                                       h                                                      i
                                                                           0                      0
         +                                 i(        i)       Ph       i; m            Pl     i; m         m0        (h   l)
                  i2           i
             X                                       n                                                                                                                     o
                                                                         0
                                   i(           i)       Ph          i; m           rh + m0       r l + Pl            i; m
                                                                                                                          0
                                                                                                                                       m0   sl + M        m0         s h           t m0
             i2        i



where the inequality follows from the assumed monotonicity [i.e. P h (                                                                                  i; m
                                                                                                                                                               0)        Pl (   i; m
                                                                                                                                                                                         0 )]   and
 (m0 )           1: This is a violation of the upwards incentive constraints, a contradiction to the postulate
of the Lemma that all upwards incentive constraints hold. Thus, we conclude that a failure of an
incentive constraint implies that either r = m < m0 and s = M                                                                                   m0 ; in which case an upwards
incentive constraint fails or r = m0 < m and s = M                                                                        m in which case a downwards incentive
constraint fails.

Proof of Lemma 8.
Proof. The proof is by induction. Pick an arbitrary m. Assume that there is some K < m such that
a type with m high valuations has no incentives to pretend to be of any type with k 2 fm 1; :::; Kg


                                                                                                         29
high valuations. It follows that
                                          X
    U (m; m)            =                                        i   (        i)      Ph (              i ; m) mh               + Pl (        i ; m)    (m) (M       m) l           t (m)               (A12)
                                          i2        i
                                          X
                                                                 i   (        i)      Ph (              i ; k) Kh               + Pl (       i ; K)     (K) (M       m) l + (m            K) h       t (K)
                                          i2        i

                        = U (m; K)

is satis…ed by hypothesis. By assumption the downwards adjacent incentive constraint for type K
holds, implying that
                                 X
U (K; K)            =                                   i   (        i)       Ph (              i ; K) Kh                  + Pl (          i ; K)   (K) (M         K) l        t (K)                              (A13)
                                 i2        i
                                 X
                                                        i   (        i)       Ph (              i; K               1) (K             1) h + P l (        i; K      1) (K           1) (M     K) l + h        t (K   1)
                                 i2        i

                    = U (K; K                           1)

But, the payo¤ of announcing type K                                                                        1 for type m is
 X
                i   (       i)   Ph (               i; K                 1) (K                  1) h + P l (                    i ; K)      (K        1) (M      m) l + (m          K + 1) h         t (K    1)
  i2   i
               X
       =                         i    (        i)   Ph (                  i; K                 1) (K               1) h + P l (              i ; K)    (K       1) (M        K) l + h        t (K     1)
               i2       i
           |                                                                                                                      {z                                                                   }
                                                                                                                           RHS in (A13)
                                                            X
                                                                                                           l
                                               +                                      i   (         i) P       (           i; K        1) (K          1) (m      K) (h        l)
                                                            i2            i
                                                    X
                    /(A13)/                                                   i   (        i)       Ph (               i ; K) Kh       + Pl (         i ; K)    (K) (M        K) l         t (K)
                                                    i2           i
                                                            X
                                                                                                           l
                                               +                                      i   (         i) P       (           i; K        1) (K          1) (m      K) (h        l)
                                                            i2            i
                        X
               =                           i    (           i)       Ph (                 i ; K) Kh            + Pl (              i ; K)      (K) (M          m) l + (m           K) h      t (K)
                        i2        i
                                                                         X
                                                                                                                       l
                                                                                                i   (      i) P            (      i ; K)     (K) (m         K) (h       l)
                                                                         i2           i
                                                            X
                                                                                                           l
                                               +                                      i   (         i) P       (           i; K        1) (K          1) (m      K) (h        l)
                                                            i2            i

,               (A12) and                                        ,
                                                                                      X
    P l(       i; K          1) (K                  1)                                                         i   (       i)     Ph (       i ; m) mh    + Pl (     i ; m)        (m) (M     m) l      t (m) ;
                l                                                                         i2
               P (          i ; K)        (K)                                                       i




implying that m has no incentive to mimic K                                                                                          1: By induction it follows that all downwards
constraints are satis…ed.




                                                                                                                                30
Proof of Lemma 9.
Proof. The proof is by induction. Let K > m and assume that
                                             X
      U (m; m)               =                                         i   (       i)    Ph (          i ; m) mh     + Pl (          i ; m)   (m) (M            m) l         t (m)
                                              i2       i
                                             X
                                                                       i   (       i)    Ph (          i ; k) [mh   + (k        m) l] + P l (          i ; k)     (k) (M       k) l              t (k)
                                              i2       i

                             = U (m; k)

for all k 2 fm + 1; :::; Kg : If K = M; all upwards constraint hold by assumption. If K < M; the
upwards adjacent constraint for type K implies that
                              X
                                                                                h
U (K; K)        =                                      i   (           i) P         (      i ; K) Kh        + Pl (      i ; K)        (K) (M       K) l           t (K)                                      (A14)
                              i2              i
                              X
                                                                                h
                                                       i   (           i) P         (      i; K   + 1) [Kh + l] + P l (                 i; K    + 1) (K + 1) (M                K        1) l          t (K + 1)
                              i2              i

                = U (K; K + 1) :

We then note that
       U (m; m)                  U (m; K + 1)                                       U (m; K)               U (m; K + 1)
         X
  =                          i   (           i)    Ph (                    i ; K) [mh           + (K        m) l] + P l (            i ; K)    (K) (M            K) l        t (K)
           i2        i
                X
                                                           h
                                     i   (        i) P             (       i; K         + 1) [mh + (K + 1                  m) l] + P l (         i; K   + 1) (K + 1) (M                      K        1) l     t (K + 1)
                i2       i
           X
  =                          i   (           i)    Ph (                    i ; K) Kh        + Pl (          i ; K)    (K) (M             K) l          t (K)
           i2        i
                X
       +                             i   (        i)       Ph (                i ; K) (K           m) (l         h)
                i2       i
                X
                                                           h
                                     i   (        i) P             (       i; K         + 1) [Kh + l] + P l (                i; K    + 1) (K + 1) (M                   K     1) l      t (K + 1)
                i2       i
                X
                                                           h
       +                             i   (        i) P             (       i; K         + 1) (K            m) (h      l)
                i2       i
                                                                                    X
  = U (K; K)                     U (K; K + 1) +                                                    i   (    i)   Ph (        i; K    + 1)       Ph (      i ; K)    (K        m) (h          l);
    |                            {z         }
                                                                                    i2      i
                         0 by (A14)                                            |                                                        {z                                                       }
                                                                                                                           0 by m onotonicity of P h

implying that type m has no incentive to mis-report as type K + 1:

Proof of Lemma 10.
Proof. Consider types i and 0i with m ( i ) = m and m 0i = m + 1: For ease of notation, de…ne
U (m; m) and U (m + 1; m + 1) as the payo¤ of truth-telling for type m and m + 1; and denote
the payo¤ from a type with m + 1 high valuations to announce a type with m high valuations as
U (m + 1; m) ; and the payo¤ from a type with m high valuations to announce m+1 high valuations
as U (m; m + 1) : U (m + 1; m) and U (m; m + 1) are respectively given as:
                                         X                                      n                                                                                        o
U (m + 1; m)             =                                     i   (       i)       Ph (        i ; m) mh    + Pl (         i ; m)     (m) [(M      m           1) l + h]      t (m) ;
                                         i2        i
                                         X                                      h                                                                                                            i
U (m; m + 1)             =                                     i   (       i)       Ph (        i; m   + 1) (mh + l) + P l (             i; m   + 1) (m + 1) (M               m       1) l           t (m + 1) :
                                         i2        i




                                                                                                                 31
We then have that

      U (m; m)                    U (m; m + 1)
        X
                                                       h
  =                           i   (           i) P         (       i ; m) mh   + Pl (          i ; m)          (m) (M         m) l         t (m)
           i2        i
                X
                                      i   (       i)       Ph (       i; m   + 1) [mh + l] + P l (                    i; m    + 1) (m + 1) (M                  m        1) l    t (m + 1)
                i2       i
           X
                                                       h
  =                           i   (           i) P         (       i ; m) mh   + Pl (          i ; m)          (m) f(M         m         1) l + hg           t (m)
           i2        i
      |                                                                                   {z                                                                     }
                                                                                 =U (m+1;m)
                X
                                                           l
      +                               i   (       i) P         (    i ; m)    (m) (l       h)
                i2       i
              X
                                  i       (       i)   Ph (          i; m    + 1) (m + 1) h + P l (                    i; m   + 1) (m + 1) (M                    m       1) l   t (m + 1)
              i2         i
          |                                                                                                     {z                                                                        }
                                                                                                   =U (m+1;m+1)
                X
      +                               i   (       i)       Ph (       i; m   + 1) [h       l]
                i2       i
                                                                                     X
  = U (m + 1; m)                              U (m + 1; m + 1) +                                       i   (    i)    Ph (        i; m   + 1)         Pl (     i ; m)     (m) [h     l]
    |                                         {z             }
                                                                                     i2        i
                             =0 by Lem m a 11                                    |                                                       {z                                          }
                                                                                                                 0 as P h (    i ;m+1)         P l(   i ;m)   (m) 0
      0:




Proof of Lemma 11.
Proof. We …rst prove a useful claim:

                                                                                j
                                                                                                           Pn          j           j
Claim A1 In any solution to (11),                                                   ( ) = 0 if                  i=1    i   ( i)    i       cn         0.

Proof of Claim A1: From Lemma 6, we know that                                                                   j    ( ) > 0 only if
                         M
                         X                                            M
                                                                      X
                                              j                                                        1
                                  H ( ; m) h +                                Lj ( ; m)                                    max f0; Gm ( )g                     cn       0:
                                                                                                   m (M               m)
                         m=1                                          m=0

The lemma follows from the fact that
                                              n
                                              X                                      M
                                                                                     X                                      M
                                                                                                                            X
                                                       j              j                            j
                                                       i    ( i)      i      cn =              H ( ; m) h +                        Lj ( ; m) l             cn;
                                              i=1                                    m=1                                   m=0

and                                                                                                     2                                  3
                                                                                                                            M
                                                                                                                            X
                                                      1                                                 4(h                                5 < l:
                                                                          Gm ( ) = l                                  l)               j
                                                  m (M              m)
                                                                                                                           j=m+1

(Proof of Lemma 11, continued:) Since we assume that ( ; ; t) is not ex post e¢ cient, it must be
the case that (n 1)h > nc. Otherwise, the ex post optimal mechanism is either to implement
if and only if ji = h for all i (when (n 1) h < nc < nh), or to never provide any good (when

                                                                                                       32
nh    nc). In each of these two cases, the ex post optimal mechanism is trivially implementable
under the constraints in (11). We therefore assume that (n 1)h > nc in the remainder of the
proof. If a downwards adjacent incentive constraint does not bind, there exists some i such that
         X                                 M
                                           X                                                           X                                   M
                                                                                                                                           X
                                                 j           j              j                                                                    j                       j               j
                              i   (   i)             ( )     i   ( i)       i        ti ( i ) >                           i   (       i)             (       i ; i jlk ) i   ( i jlk )   i    ti ( i jlk )
         i2          i                     j=1                                                         i2       i                          j=1

         j                                                                      j
If  ( i jlk ) < 1; we can increase
         i                                                                      i    ( i jlk ) slightly without violating the constraint. Since (n
                            P                                                                          j
1)h > nc; it follows that       i2                                               i       i(       i)        (       i ; i jlk )           > 0 for every j: Hence, the value of
the objective function increases, which contradicts the assumption that ( ; ; t) is an optimum
in the …rst place. Suppose instead that ji ( i jlk ) = 1: Then, we can …nd some " > 0 and raise
the tax to e
           ti ( i ) = ti ( i ) + " for i and every 0i with m 0i = m ( i ) : This raises some extra
revenue, implying that the taxes can be lowered slightly for some other types without upsetting
                                                                                                                                                                                                             0
the resource constraint. We can therefore proceed inductively as follows. First consider types                                                                                                               i
                         0                                       j      0                                                                                                         j      0          0
with m                   i    = m ( i)               2: If       i      i       < 1 we can increase the surplus by increasing                                                     i      i   for    i   with
             0                                                                                                        0                                          0
m            i   = m ( i)                  2 and simultaneously decrease ti                                           i       for types with                     i   = m ( i)            1 in order to
                                                                                                                                  0
keep the downwards incentive constraint for types with                                                                            i   = m ( i)                1 satis…ed (as we have slack
                                                                                                  j     0
in resource constraint this can be done). If                                                      i     i       = 1 and m ( i )                          2       1 repeat the argument for
                 0                         0
types            i       with m            i     = m ( i)               3: By Claim A1, it follows that the associated increased access is
always desirable from the social welfare viewpoint, so by induction, we conclude that either there
                                                                                                                                      j
exists a feasible allocation with a higher surplus or that                                                                            i   ( i ) = 1 for all            i   and j; meaning that
there are no active use of exclusions in the solution. However, as we have slack in the resource
constraint we can also gain surplus by increasing                                                               j   ( ) for some                     unless the solution to (11) is the
ex post optimal rule.

Proof of Lemma 12.
Proof. By Lemma 7, all “diagonal” incentive constraints hold, and by Lemma 8 all downwards
constraints hold. By Lemma 11 we have that all downwards adjacent incentive constraints bind,
which, by use of Lemma 10 assures that the upwards adjacent incentive constraints hold. Finally,
Lemma 9 guarantees that all upwards incentive constraints hold. Taken together, we have then
veri…ed that all incentive constraints in (7) hold if the solution to the relaxed problem is monotonic
and di¤erent from the …rst best.

Proof of Lemma 13.
Proof. (1). First note that (19) is irrelevant when m = M; and it is immediate from (21) that
the probability of provision given (h;                                                     i)   is always weakly higher than under ( i ;                                                     i)    for any
     i   2               i:   Next, from (19) and (21), we know that a su¢ cient condition for monotonicity is that
    1
                         max f0; Gm ( )g is increasing in m on f0; ::::M 1g : But,
 m (M m)
                                                              2                                                                                                  3
                                                                              M
                                                                              X
                                           Gm ( )             4    (h l)                                                                                         5
                                                      =l                                                                                                     j                                      (A15)
                                          m (M     m)            m (M    m)
                                                                                                                                             j=m+1


                                                                                                        33
which proves the …rst part of the Lemma.
     (2). If valuations are independent across goods, say the probability that an agent has a high
valuation for any good j is ; then the probability that an agent has m high valuations is given by
 m   =      M!
         m!(M m)!
                    m (1    )M   m
                                     : This implies that

                                   M!                                                          (M m)
               m+1   =                                m+1
                                                              (1         )M    m 1
                                                                                        =                          m:                    (A16)
                         (m + 1)! (M m         1)!                                           (m + 1) (1        )

Using (A16), we have that
                                 M
                                 X                                                M
                                                                                  X1
                  1                                    1
                                       j   =                                                j+1                                          (A17)
            m+1 (M  m       1) j=m+2             m+1 (M  m                1) j=m+1
                                                                                              M
                                                                                              X1
                                                          (m + 1) (1 )                                (M j)
                                           =                                                                                j
                                                (M        m) (M m 1)                     m   j=m+1
                                                                                                   (j + 1) (1           )
                                                                       M
                                                                       X1
                                                          1                     (m + 1) (M j)
                                           =                                                               j
                                                (M        m)       m   j=m+1
                                                                             (j  + 1) (M m 1)
                                                                        M
                                                                        X
                                                          1
              /j    m + 1 and    M   > 0/ <                                       j:
                                                (M        m)       m j=m+1


                                                      1        PM
Since m was arbitrary, we conclude that                                j=m+1      j    is strictly decreasing in m:
                                                 m (M     m)


Proof of Lemma 14.
Proof. All we need to check is that Gm+1 ( ) > 0 is implied by Gm ( )                              0; and that Gm               1(       )<0
is implied by Gm ( )       0: Both are immediate from (A15).

Proof of Lemma 15.
Proof. To prove this lemma, it turns out to be useful to consider a related auxiliary problem which
aims to maximize the average probability of provision (instead of social welfare) under the same
constraints as the relaxed problem (11):

                                                      X                M
                                                                       X
                                                                              j
                                               max             ( )                ( )                                                    (A18)
                                            f ; ;tg       n
                                                      2                 j=1
                                            s.t. (12), (13), (14).

We …rst show in Claim A2 below that the characterization of the solution to (A18) is qualitatively
similar to the constrained welfare problem (11):
                                                                                                  P                                  j
Claim A2 Let ( ; ; t) be an optimal solution to (A18) and assume that                                 i2   i       i(       i)           ( i;    i)   >
0. Then,




                                                          34
  1. conditional on provision, all consumers get access to all their high valuation goods and the
     inclusion rule for low valuation goods is given by:
                                               8
                                               >
                                               >      0      if Gm (1) < 0
                                               <
                              j
                              i ( i ) = (m)    >
                                                  z 2 [0; 1] if Gm (1) = 0                                                                         (A19)
                                               >
                                               :      1      if Gm (1) > 0;

  2. there exists some       0 such that the provision rule for good j satis…es
                  8                      PM h j                                                                                            i
                  >
                  >      0      if 1 +                           j       maxf0;Gm (1)g
                  >
                  <                        m=0 H ( ; m) h + L ( ; m)        m (M m)
                                                                                                                                         cn < 0
                                         PM     h                                                                                          i
          j                                        j             j       maxf0;Gm (1)g
            ( )=     z 2 [0; 1] if 1 +     m=0 H ( ; m) h + L ( ; m)                                                                     cn = 0
                  >                             h                           m (M m)                                                        i
                  >
                  >                      P
                  :      1      if 1 +     M       j             j       maxf0;Gm (1)g
                                           m=0 H ( ; m) h + L ( ; m)          (M m)                                 m
                                                                                                                                         cn > 0
                                                                                                                                              (A20)

Proof of Claim A2: The derivation of the inclusion rules follow the analysis of the constrained
welfare problem step by step and is omitted.
   To derive the provision rule, note that the optimality conditions for                                             j   ( ) associated with the
problem (A18) may be written as
               M
               X
        ( )+          (m) m H j ( ; m)                           i   (    i) h   + Lj ( ; m) (m) l
               m=0
        M
        X1
               (m + 1) H j ( ; m)                        i   (       i ) (M       m) h + Lj ( ; m)   i   (   i)    (m) [(M           m) l + (h     l)]
        m=0
                        j                 j
           ( ) cn +         ( )               ( ) = 0;

                                                                                                                         i(     i)        1
together with the complementary slackness conditions. By noting that                                                      ( )        =           ; we can
                                                                                                                                         i( i)
write the condition as
                M
                X                                              m                            m
           1+           (m) H j ( ; m)                               h + Lj ( ; m)                (m) l
                m=0                                          i ( i )                       i ( i)
               M
               X1                                                (M          m)                    1
                       (m + 1) H j ( ; m)                                       h + Lj ( ; m)           (m) [(M          m) l + (h        l)]
               m=0                                                       i ( i)                  i ( i)
                            j                 j
                                ( )               ( )
                cn +                                    = 0:
                                      ( )

Collecting terms, we get
                                M
                                X                                  h
                   1+                 H j ( ; m)                        [ (m) m            (m + 1) (M        m)]
                                m=0                              i ( i)
                                    M
                                    X                             (m)
                                +         Lj ( ; m)                     f (m) ml            (m + 1) [(M       m) l + (h          l)]g
                                    m=0                          i ( i)
                                                   j                 j
                                                       ( )               ( )
                                    cn +                                       = 0:
                                                             ( )


                                                                                    35
Using the di¤erence equation for the multipliers in (15), we can simplify this further to:
         M
         X                                       M
                                                 X                                                                                                         j                   j
                                                                                               (m)                                                             ( )                 ( )
 1+            H j ( ; m) h +                         Lj ( ; m)                  (m) l               (m + 1) (h                 l)            cn +                                       = 0:
         m=0                                    m=0                                           i ( i)                                                                     ( )

Using (A9), we can eliminate                                   (m + 1) and get
                                                                    8                                                                9
      M
      X                                      M
                                             X                      <                         (m) (h l)
                                                                                                                    M
                                                                                                                    X                =                         j
                                                                                                                                                                   ( )         j
                                                                                                                                                                                   ( )
1+           H j ( ; m) h +                           Lj ( ; m)              (m) l                                               j             cn +                                         = 0:
                                                                    :                         m (M   m)                              ;                                   ( )
      m=0                                    m=0                                                                   j=m+1

Furthermore,
                                                                              2                                                                        3
                                                 M
                                                 X                                                                                       M
                                                                                                                                         X
                    (m) (h l)                                           (m)   4                                                                        5=
     (m) l                                                 j   =                               m     (M     m) l       (h       l)                 j                                        max f0; Gm (1)g ;
                    m (M   m)                  j=m+1                m (M   m)                                                        j=m+1                          m    (M            m)

where Gm ( ) is de…ned in (18). Substituting this back into (A8) gives
                                M
                                X                                                                                                        j                 j
                                                                                          max f0; Gm (1)g                                    ( )               ( )
                1+                          H j ( ; m) h + Lj ( ; m)                                                    cn +                                             = 0:
                                m=0                                                         m (M    m)                                             ( )

which, by combining with the complementary slackness conditions, gives the result.
     Before getting into the details of the proof, it is also useful to observe that (A20) can be rewritten
as                                                         8                                          Pn
                                                           >            0              if 1 +                j
                                                           >
                                                           <                                            i=1 Z ( i )              cn < 0
                                             j                                                        Pn     j
                                                 ( )=           z 2 [0; 1]             if 1 +           i=1 Z ( i )              cn = 0
                                                           >
                                                           >                                          Pn
                                                           :            1              if 1 +                j
                                                                                                       i=1 Z ( i )               cn > 0;
where                                       (                                                                      j
                        j       i                        h                                                   if    i   =h
                    Z               =            maxf0;Gm (1)g                    j                   k
                                                                            if    i   = l and         i   = h for exactly m goods k 2 J :
                                                   m (M m)
                                                                                               i      n
The point with this formulation is that                                                Zj             i=1
                                                                                                            is a sequence of i.i.d. random variables.
                                        i
Observe that                Zj               is bounded below by 0 and above by h, so the variance is bounded. This
allows us to use the central limit theorem to establish a “generalized paradox of voting”, which
simply states the intuitively obvious fact that the in‡uence of a single agent approaches zero as the
number of agents goes out of bounds. To state this, we will now need to be careful about the fact
that the solution depends on the number of agents in the economy, and a mechanism with n agents
will therefore now be denoted by (                                      n ; n ; tn )       and the multiplier on the resource constraint will be
denoted by              n:

                                                                                                                                                                                   i
(Proof of Lemma 15, continued): Consider a mechanism that solves (A18) …rst. As Z j                                                                                                    2 [0; h]
for every i 2 ; it follows that for any pair 0i ; 00i we have
                                                                    2                 0                      1                   3             2                   0                               1        3
                                                                                              X                                                                                X
E    j
     n   ( )j   0
                i           E       j
                                    n   ( )j     00
                                                 i             Pr 41 +           n
                                                                                      @h +           Z j ( k )A        cn       05           Pr 41 +           n
                                                                                                                                                                   @0 +                Z j ( k )A      cn > 05
                                                                                              k6=i                                                                             k6=i
                                                                    2                                                          3
                                                                                              X
                                                       =       Pr   41       cn
                                                                                          h          Zj ( k)
                                                                                                                   1        cn 5
                                                                                                                                     :
                                                                             n                                              n
                                                                                              k6=i


                                                                                              36
                           i
Let     = VAR Z j                 : We can then rewrite the probability statement as
                                    "     P                                        #
                                                   j      EZ j ( i )
                                             k6=i Z ( k )                     h
                                 Pr kn               p                kn + p         ;
                                                       n 1                    n 1

                 1 pcn                        EZ j ( i )                                                                                 i   n
where kn                             ph        p         :   As        is …nite, E Z j ( k )           EZ j ( i ) = 0; and Z j
                 n   n 1              n 1        n 1                                                                      P                  i=1
                                                                                                                                  j        j
                                                                                                                            k6=i Z ( k ) EZ ( i )
is an i.i.d. sequence, we know that the central limit theorem is applicable, thus                                                   p
                                                                                                                                      n 1
                                                                                                                           h
is asymptotically distributed as a standard normal distribution. Moreover,                                                p
                                                                                                                            n 1
                                                                                                                                  !    0; which
together with the convergence in distribution implies that for every real number k and any " > 0;
there exists N < 1 such that
            "    P                                                                       #                Z
                        j      EZ j ( i )                                                                     k+"
                  k6=i Z ( k )                                          h                         1                       y2
         Pr k             p                                        k+ p                          p                  exp        dy + "
                            n 1                                         n            1             2      k               2

for n    N: But, the standard normal is symmetric and single-peaked, so for n N;
        "     P                                       #           Z kn +"
                        j( )     j( )
                 k6=i Z    k  EZ    i            h             1                y2
      Pr kn              p               kn + p               p           exp       dy + "
                           n 1                   n 1            2 kn            2
                                                                  Z "
                                                               1     2       y2
                                                              p         exp       dy + " ! 0
                                                                2     "       2
                                                                                                               2

as " ! 0: The result follows.
                                                      1
      For the case in which f             n ; n ; tn gn=1     is a sequence from the solution to (11), we replace Z j ( i )
above with
                                     (                                                           j
                                                 h                                        if     i   =h
                     Znj ( i )   =        maxf0;Gm ( n )g                j                   k
                                                                  if     i   = l and if      i   = h and m ( i ) = m:
                                             m (M m)

                                                                                                                          maxf0;Gm ( n )g
By choice of subsequences such that Gm (                               n)    ! Gm ; we can approximate                                       with
                                                                                                                             m (M m)
maxf0;Gm g
           :   The rest of the argument follows the one above step by step.
 m (M m)


Proof of Proposition 3.
Proof. [PART 1] For contradiction, let there be a subsequence of feasible mechanisms with
         h     i
limn!1 E jn ( ) =  and limn!1 n (m) e = ; where m   e is the threshold number of high goods
in the sense of Lemma 14, which without loss is taken to be constant along the sequence by choice
of converging subsequence. We use the following notations below:
        h                i
      E jn ( ) jm; ji = h denotes the conditional provision probability for good j perceived by
                                      j                 k
        agent i given that            i   = h and       i    = h for exactly m goods k 2 J (including j). Notice that
        this probability is the same for all goods by Proposition 2.
          h                  i
        E jn ( ) j m; ji = l denotes the conditional provision probability for good j perceived by
                                      j                k
        agent i given that            i   = l and      i     = h for exactly m goods k 2 J. Again, this probability is
        the same for all goods by Proposition 2.

                                                                             37
       Note that Propositions 1 and 2 jointly imply that for every m 2 f0; ::; M g ; there exists some
tn (m) such that the transfer tn (m) is paid by every agent i with m high valuations. The utility
(from truth-telling) is,
                                 h                 i
                             mhE jn ( ) jm; ji = h     tn (m)                         e
                                                                               if m < m
               h               i                     h               i
                 j         j                            j       j
           e
           mhE          e i = h + (M m)
                 n ( ) jm;               e n (m)e E n ( ) jm; e i = l l tn (m)
                                                                            e         e
                                                                               if m = m
                   h              i              h                i
             mhE jn ( ) jm; ji = h + (M m)E jn ( ) jm; ji = l l tn (m)                e
                                                                               if m > m:

Hence,
                                                                          h                             i
                                                                              j                  j
                                              tn (m)         mhE              n(   ) jm;         i   = h for            i            e
                                                                                                                            with m < m;                                            (A21)

since otherwise these agents would be better o¤ not to participate.17 . Similarly,
                              h                               i                                          h                             i
                                      j                j                                                      j                 j
           e
       tn (m)           e
                        mhE           n        e
                                          ( ) jm;      i   = h + (M                e
                                                                                   m)    n    e E
                                                                                             (m)              n        e
                                                                                                                  ( ) jm;       i   = l l for         i            e
                                                                                                                                                          with m = m;              (A22)

again immediately from the participation constraint (or the downwards adjacent incentive con-
straint combined with (A21)). Using (A22), we …nd
                        h                         i                      h                    i
             e + 1)hE jn ( ) jm
            (m                     e + 1; ji = h + (M (m                        e + 1; ji = l l tn (m
                                                               e + 1))E jn ( ) jm                      e + 1)
                  h                     i              h                 i
            e
            mhE     j
                            e 0j
                    n ( ) jm;    i = h + n (m)   e E jn ( ) jm;  e 0j
                                                                    i = l ([M   (me + 1)] l + h) tn (m) e
                      h                     i                                            h                   i
                        j            0j                                                     j         j
  /(A22)/    n ( e
                m)  E   n  ( ) j e
                                m;   i  = l   ([M   (  e
                                                       m + 1)] l + h)  (M    e
                                                                             m)  n ( e
                                                                                    m) E    n ( ) j e
                                                                                                   m; i  = l   l
                      h                     i
          =      e E jn ( ) jm;
             n (m)               e 0ji = l (h     l) :

Hence,
                                                                 h                             i                                          h                              i
                                                                     j                       j                                                 j                   j
               e + 1)
           tn (m                               e + 1)hE
                                              (m                     n        e + 1;
                                                                         ( ) jm             = h + (M
                                                                                             i                          e
                                                                                                                        m           1)E        n        e + 1;
                                                                                                                                                   ( ) jm          i   =l l        (A23)
                                                                 h                          i
                                                                     j              0j
                                                   n    e E
                                                       (m)           n        e
                                                                         ( ) jm;    i    = l (h l) :

                                 e + 1; (A23) implies that
Finally, for every for every m > m
                    h           i             h                i
         mhE      ( ) jm; ji = h + (M m)E jn ( ) jm; ji = l l tn (m)
                        j
                        n
                    h                     i    h                    i
          e + 1)hE jn ( ) jm
         (m                  e + 1; ji = h + E jn ( ) jm
                                                       e + 1; ji = l [(M m) l + (m me 1) h]                                                                                        e + 1)
                                                                                                                                                                               tn (m
           h                    i                                 h             i
                   e + 1; ji = l [(m m
         E jn ( ) jm                     e 1) (h l)] + n (m)            e 0j
                                                            e E jn ( ) jm; i = l (h l) ;

hence,
                                          h                  i                                       h                        i
                                              j              j                                           j              j
        tn (m)              mhE               n   ( ) jm;
                                                        = h + (M
                                                             i                           m)E             n   ( ) jm;    i   =l l                                                   (A24)
                               h                               i                                                                          h                            i
                             E             j
                                                  e + 1; ji = l [(m
                                           n ( ) jm                                      e
                                                                                         m           1) (h        l)]       n    e E
                                                                                                                                (m)            j
                                                                                                                                               n        e
                                                                                                                                                   ( ) jm;   0j
                                                                                                                                                             i    = l (h         l) :

From from Lemma 15, we have
           h                             i        h                                         i        h                                            i
                j                 j                                  j               j                                  j                 0j                               j
  lim E         n   ( ) jm;       i   = h = lim E                    n    ( ) jm;    i   = l = lim E                    n        e
                                                                                                                            ( ) jm;       i    = l = lim E                 n   ( ) =    :
 n!1                                                   n!1                                               n!1                                               n!1
                                                                                                                                                                                   (A25)
  17
       Strictly speaking, we only impose the participation constraint on type l: However, the downwards adjacent
incentive constraint together with the participation constraint for type l imply that all participation constraints hold.


                                                                                             38
Combining (A25) with (A21), (A22), (A23) and (A24), it follows that, for every " > 0 there is some
N such that, whenever n                        N;

  1. tn (m)                            e
                         mh + " if m < m

         e
  2. tn (m)                e + (M
                          [mh                    e
                                                 m) l] + "

         e + 1)
  3. tn (m                        e + 1)h + (M
                                [(m                                e
                                                                   m         1)l            (h        l)] + "

  4. tn (m)                 e + 1)h + (M
                          [(m                                e
                                                             m         1)l           (h                    e + 1:
                                                                                            l)] + " if m > m

   Summing over m, we …nd that the expected per capita transfer revenue satis…es:
      M
                                           "         M
                                                                   !                                                       e
                                                                                                                           m
                                                                                                                                          #
      X                                              X                                                                     X
               m tn   (m)                                     m          e + 1)h + (M
                                                                       f(m                            e
                                                                                                      m         1)lg + h             mm                           (A26)
     m=0                                          e
                                                m=m+1                                                                      m=0
                                                 "                                   M
                                                                                                     !            #
                                                                                     X
                                       +             e (M
                                                     m             e
                                                                   m)l                           m       (h     l) + "
                                                                                   e
                                                                                 m=m+1
                                                         "       M
                                                                                 !                                                     e
                                                                                                                                       m
                                                                                                                                                       #
                                                                 X                                                                     X
                              =            (1        )                       m         e + 1)h + (M
                                                                                     f(m                           e
                                                                                                                   m       1)lg + h               mm
                                                                e
                                                              m=m+1                                                                   m=0
                                                 "                                   M
                                                                                                     !                                    e
                                                                                                                                          m
                                                                                                                                                         #
                                                                                     X                                                    X
                                       +             e (M
                                                     m             e +
                                                                   m)l                           m        e + (M
                                                                                                         (mh               e +h
                                                                                                                           m)l)                    mm        +"
                                                                                   e
                                                                                 m=m+1                                                    m=0
                                                         "       M
                                                                                 !                                                     e
                                                                                                                                       m
                                                                                                                                                       #
                                                                 X                                                                     X
                              =            (1        )                       m         e + 1)h + (M
                                                                                     f(m                           e
                                                                                                                   m       1)lg + h               mm
                                                                e
                                                              m=m+1                                                                   m=0
                                                 "    M
                                                                       !                                        e
                                                                                                                m
                                                                                                                            #
                                                      X                                                         X1
                                       +                           m        e + (M
                                                                           (mh               e +h
                                                                                             m)l)                      mm       +"
                                                       e
                                                     m=m                                                        m=0
                              =            f(1                e + 1) +
                                                         ) R (m                         e + ":
                                                                                     R (m)g
                                                                                        P                        j
Moreover, for any "; we can …nd N such that M                                               2    n       ( )     n(   )c         Mc           "; which in con-
junction with (A26) means that
    n X
    X                                      X                 M
                                                             X                               X                              X
                                                                   j                                                                          j
                 i   ( i ) tin ( i )                 ( )           n   ( ) cn = n                        m tn   (m)    M              ( )     n   ( )c            (A27)
    i=1                                          n           j=1                                m                                n
          i2                               2                                                                                2
                                                                                                f(1                e + 1) +
                                                                                                              ) R (m                    e
                                                                                                                                     R (m)         M cg + 2":
                                                                                                |                      {z                             }
                                                                                                                   <0 by hyp othesis


   We conclude that corresponding to any                                     > 0; there exists " > 0 such that the right hand side of
(A27) is negative. Hence, the budget constraint (14) is violated for large n along any sequence with
                                                                     h      i
non-vanishing provision probability. It thus follows that limn!1 E jn ( ) = 0 for any convergent
subsequence.
   [PARTS 2 and 3] Consider the sequence of mechanisms bn ; bn ; b
                                                                 tn where bjn ( ) = 1 for every
n and ; where all agents get to consume all high valuation goods and the inclusion rule for low




                                                                                   39
valuation goods is                                                    8
                                                                      >
                                                                      >              0                  if m < m
                                                                      <
                                                                           R(m +1) cM
                                           bn (m) =                                                     if m = m
                                                                      >
                                                                      >
                                                                          R(m +1) R(m )
                                                                      :              1                 if m > m ;
and where the transfer tule is
                         8
                         >
                         >                 mh                                                                                  if m < m
                         <
               b
               tn (m) =             m h + (M m ) l                                                                             if m = m
                         >
                         >
                         : (m + 1) h + (M m   1)l                                                              (h     l) if m > m ;
for
                                            R (m + 1) cM
                                                              :       =                     (A28)
                                           R (m + 1) R (m )
It is easy to check that truth-telling is incentive compatible and individually rational. The per
capita expected transfer under the above mechanism is
        M
        X                                m
                                         X1
                 b
               m tn (m)        = h                    mm          +   m    [m h + (M              m )          l]                                               (A29)
        m=0                               m=0
                                                  M
                                                                      !
                                                  X
                                     +                            m       [(m + 1) h + (M                  m        1)l             (h    l)]
                                           m=m +1
                                                      (       m                           M
                                                                                                           !                                                )
                                                              X                           X
                               =     (1               ) h                 mm   +                       m       [(m + 1) h + (M                  m       1)l]
                                                              m=0                    m=m +1
                                              "       m
                                                                                                  !                                  #
                                                      X1                           M
                                                                                   X
                                     +            h               mm       +                  m       [m h + (M            m )l]
                                                      m=0                      m=m
                               =     (1      ) R (m + 1) + R (m )
                                            cM R (m )                   R (m + 1) cM
               /(A28)/         =                           R (m + 1) +                  R (m ) = cM:
                                         R (m + 1) R (m )              R (m + 1) R (m )

The feasibility constraint thus holds exactly. Thus we conclude that bn ; bn ; b
                                                                               tn is incentive feasible
for every n: The associated social surplus with the above mechanism is
                 M
                    ( M                    "                M
                                                                          #)
                 X      X                                  X
        Sn ( ) =      h     H j ( ; m) + l    Lj ( ; m ) +       Lj ( ; m)                                                                      cM;             (A30)
                         j=1        m=1                                                                m=m +1

where the notations H j ( ; m) and Lj ( ; m) were explained earlier. By Lemma 14, we know that
the surplus maximizing mechanism is also characterized by some threshold m and some inclusion
probability given m = m denoted by ; so that the associated social surplus is given by
                         M
                                     "        M
                                                                               (                                    M
                                                                                                                                           )        #
                         X                    X                                                                     X
                               j                          j                               j                                     j
            Sn ( ) =               ( ) h              H ( ; m) + l                       L ( ;m ) +                            L ( ; m)             c :         (A31)
                         j=1               m=1                                                                 m=m        +1

                     j                                                                                          Lj ( ;m)
Notice that H (n ;m) converges in probability to                                             m
                                                                                             M    m    and          n          converges in probability to
M m
 M    m : These immediately imply that
               "                   M
                                                              "                                       M
                                                                                                                                     #                  #
                   Sn ( )          X                                                                  X
      lim Pr                   h          m   m        l              (M       m )       m    +                 (M        m)     m       + cM > " = 0           (A32)
      n!1            n             m=0                                                            m=m +1


                                                                                     40
for any " > 0: Next, note that
                     M
                     X                                     M
                                                           X
                                   j                                                     1
                              H ( ; m) h +                       Lj ( ; m)                                     max f0; Gm ( )g                   cn                   (A33)
                                                                                     m (M             m)
                     m=1                                   m=0
converges in probability to
                XM                     M
                                       X
                    m                    M            m               1
                             mh +                           m                        max f0; Gm ( )g                      cn                                           (A34)
                m=1
                    M                  m=0
                                                 M                m (M          m)
                XM n                                o
                     m
       =                      mh   + max f0; Gm ( )g                       cn
                m=0
                     M
                                                                                                  2                                                          3
         XM                              M
                                         X                                                                                                       M
                                                                                                                                                 X
             m                                                                                    4                                                          5
       =                     mh   +                   (1         ) (M      m) l      m    +               m   (M      m) l        (h       l)            j           cn:
         m=1
             M                         m=m       +1                                                                                             j=m+1

Recalling the form of the surplus maximizing provision rule in (21), we see that good j is provided
is and only if the expression in (A33) is positive. Now:

  1. Suppose that m       > m : Then, R (m )                                         cM < 0 and an argument identical with part 1
                                h     i
      establishes that limn!1 E jn ( ) ! 0.

  2. Suppose that m       < m and R (m ) cM < 0: Then an argument identical with part 1
                               h      i
      establishes that limn!1 E jn ( ) ! 0.

  3. Suppose that m     < m and R (m ) cM         0: Then, the expression in (A34) is strictly
                           h     i
                             j
      positive and limn!1 E n ( ) ! 1: The social surplus must therefore converge towards the
      same expression as in (A32), but with m replaced by m : But, if m                                                                            < m surplus is
      smaller because there are more exclusions.

  4. Suppose that m = m : If bn (m ) !      <  an argument identical with part 1 establishes
                   h     i                                                h      i
     that limn!1 E jn ( ) ! 0. If bn (m ) !   >    we have that limn!1 E jn ( ) ! 1 and,
      again, social surplus converges towards the same expression as in (A32), but with                                                                          replaced
      by         : Again, surplus is smaller if                            >         since exclusions are higher.

Proof of Proposition 4.
Proof. To prove Proposition 4, we add the (non-adjacent) constraint that the highest type should
not have an incentive to pretend to be the lowest type:
                                                                                2                                                                                3
           X                       M
                                   X                                                 X                              M
                                                                                                                    X
  0                  i   (    i)
                                         j
                                             (    i ; h) h        ti (h)        4                     i   (    i)
                                                                                                                          j
                                                                                                                              (   i ; l)
                                                                                                                                           j
                                                                                                                                           i   (l) h    ti (l)5        (A35)
           i2    i                 j=1                                               i2       i                     j=1

to program (11). Let                   denote the multiplier on constraint (A35). The optimality conditions with
respect to t are then

                                                                   2 (2)                 +        2           = 0
                                                                                              1
                                                                 (2)        (1) +                 1           = 0
                                                                                              2
                                                      2 (1) +                   (0) +             0           = 0;

                                                                                    41
which are obtained just like (A2) by considering types with 2, 1 and 0 high types respectively in the
special case with two high valuations and the additional constraint (A35). It follows immediately
that:

Lemma A1 Consider m = 2: Then, there are three possibilities in the solution to the program
where (A35) has been added to (11):

     1. The only binding constraints are the adjacent constraints in (11). In this case the solution is
                                                                                            1                             1
        unchanged relative to program (11) and                              (2) =           2        2;        (1) =      2     (       1   +   2)   and         (0) =

     2. The only binding constraints are (A35) and the downwards adjacent constraints for types with
                                                                      1
        m = 1: In this case               =       2;        (1) =     2 1      and              (0) =
                                                                                                                                            1        1
     3. All constraints bind, in which case 2 (2)                                           =             2;        (1) 2                   2 1;     2   (   1   +   2)    and
            (0) = :

      We now consider these possibilities in turn:

Claim A3 Suppose that                 1
                                      2   <   1
                                                  0 2
                                                        . Then (A35) binds.
                                                    0


Proof of Claim A3: If (A35) does not bind, Lemma A1 implies that the solution is unchanged from
(11). Simplifying the inclusion rule (19) for the special case with M = 2; we have that
                                         8
                                         >
                                         >      0       if G1 ( ) < 0
                                         <
                                (1)         z 2 [0; 1] if G1 ( ) = 0
                                         >
                                         >
                                         :      1      if G1 ( ) > 0;
                                         8
                                         >
                                         >      0       if G0 ( ) < 0
                                         <
                                              (0)                   z 2 [0; 1]              if G0 ( ) = 0
                                                              >
                                                              >
                                                              :           1             if G0 ( ) > 0;
where

                                              G1 ( ) =               1l            (h           l)    2

                                              G0 ( ) =               0 2l              (h        l) (      1   +     2)

and the provision rule (21) simpli…es to
            8
            >                                                         Lj ( ;0)                                                Lj ( ;1)
            >
            <       0        if H j ( ; 1) + H j ( ; 2) h +             2 0 max f0; G0 (                            )g +                     max f0; G1 ( )g              cn < 0
                                                                                                                                    1
 j                                j                     j             Lj ( ;0)                                                Lj ( ;1)
     ( )=       z 2 [0; 1]   if H ( ; 1) + H ( ; 2)                 h+ 2       max f0; G0 (                         )g +                     max f0; G1 ( )g              cn = 0
            >
            >                                                              0                                                        1
            :       1             j
                             if H ( ; 1) + H ( ; 2)     j             Lj ( ;0)
                                                                    h+ 2       max f0; G0 (                         )g +      Lj ( ;1)
                                                                                                                                            max f0; G1 ( )g               cn > 0:
                                                                           0                                                        1


Notice that
                                  G1 ( )                             (h           l)    2                      (h      l)      2
                                                    = l                                     <l
                                          1                                   1                                 21   0 2
                                                                                                                          0

                                                                     (h           l) ( 1 +            2)           G0 ( )
                                                    = l                                                    =              ;
                                                                                   2 0                              2 0

                                                                              42
                                                              j         k
implying that (1)        (0) and j ( i ; i )  j(
                                                   i ; ll) if i = l and i = h for k 6= j: Let t (0) ; t (1)
and t (2) denote transfers from types with zero, one and two high valuations respectively. Because
the downwards adjacent incentive constraint for type hh and the types with one high valuation are
binding, it follows that
                                                                      X
                                                                                                                   1                                2
                                                                                        i   (           i)             (       i ; hh)        +         (       1 ; hh)            h        t (2)
                                                                      i2        i
                                                                  |                                                              {z                                                             }
                                                                                                    utility from truth-telling for hh
                                                                      X
                                                                                                                   1                                    2
       /binding DAIC for hh/                            =                               i   (           i)             (       i ; hl) h      +             (       1 ; hl)          (1) h              t (1)
                                                                      i2        i
                                                                      X
                                                                                                                   1                                    2
                                                        =                               i   (           i)             (       i ; hl) h      +             (       1 ; hl)          (1) l          t (1)
                                                                      i2        i
                                                                           X
                                                                                                                       2
                                                                  +                             i   (         i)           (     1 ; hl)           (1) (h               l)
                                                                           i2       i
                                                                      X
                                                                                                                   1                                             2
           /binding DAIC for hl/                        =                               i   (           i)             (       i ; ll)        (0) h +                (           1 ; ll)    (0) l           t (0)
                                                                      i2        i
                                                                           X
                                                                                                                       2
                                                                  +                             i   (         i)           (     1 ; hl)           (1) (h               l)
                                                                           i2       i
                                                                      X
                                                                                                                   1                                             2
                                                        =                               i   (           i)             (       i ; ll)        (0) h +                (           1 ; ll)    (0) h           t (0)
                                                                      i2        i
                                                                  |                                                                           {z                                                                 }
                                                                                                                       utility if hh announces ll
                                                                          X
                                                                                                                       2                                             2
                                                                  +                          i      (        i)            (      1 ; hl)          (1)                   (        1 ; ll)     (0) (h            l);
                                                                          i2        i
                                                                      |                                                                       {z                                                                }
                                                                                        0 as            (1)        (0) and           j(                     j(                   for every
                                                                                                                                              i ;hl)                    i ;ll)                      i



implying that (A35) binds or is violated, a contradiction.

Claim A4 Suppose that                       2
                                                1
                                                    <     1
                                                              0 2
                                                                      . Then the downwards adjacent constraints for type hh binds.
                                                                  0


Proof of Claim A4: For contradiction, assume that
  X                                                                                                                    X
                              1                          2                                                                                                      1                                   2
             i   (   i)           (   i ; hh)       +         (       1 ; hh)       h t (2) >                                             i   (      i)             (        i ; hl) h      +           (   1 ; hl)   (1) h   t (1) :
  i2   i                                                                                                               i2        i

                                                                                                                                                                                                                      (A36)
With slack in the downwards adjacent constraints for hh and a binding (A35) the optimality
conditions with respect to 2i (hl) my be written as
             X                                                                              X
                                            2                                                                                        2                                       2                  2
                          (       i ; hl)       (       i ; hl) l     + (1)                                        i   (       i)         (        i ; hl) l     +           i   (hl)           i   (hl) = 0:
             i2      i                                                                      i2           i



This implies that 2i (hl) = 1i (lh) = (1) = 1 because a small increase in the low valuation
usage probability for the types with one high valuation has no e¤ect on incentives for hh if the
downwards adjacent constraints for type hh are nonbinding. After a simpli…cation (that removes
the awkwardness of the notation mentioned in footnote 16), the optimality conditions with respect




                                                                                                        43
to   1(   ) are given by the complementary slackness conditions together with

                             h H 1 ( ; 1) + H 1 ( ; 2) + l L1 ( ; 1) + (0) L1 ( ; 0)    cn                                                                                                                 (A37)
                                   2                                     1
                            + (1)       H 1 ( ; 1) h + L1 ( ; 1) (0) l +   H 1 ( ; 2) h
                                           1                                                                                       2
                                   1                                                                                    (0)
                                               i   (         i)       (0) H 1 ( ; 2)                      (1)                  H 1 ( ; 1) h + L1 ( ; 1) l
                                   0                                                                                     0
                                                                                                1                    1
                                           1                                                         ( )                 ( )
                            + (0)              L1 ( ; 0) l                         cn +                                            = 0;
                                           0                                                                  ( )
          1(                                                                                              1(                                        1
where          ) is for the constraint the multiplier                                                               )          0 and                     ( ) is the multiplier for the
constraint 1       1(   )      0: It is easy to see from (A37) that                                                                1(                                  1(
                                                                                                                                                i ; lh)                         i ; ll)   for every                  i

as increasing    L1 (   ; 1) by a unit and decreasing                                                L1 (          ; 1) by a unit: Together with the fact that
 (1)       (0) ; it follows that
                        X                                                                                     X
                                                             1                                                                                  1
                               (                   i)            (        i ; lh)        (1)                                   (       i)           (       i ; ll)      (0) ;
                        i2     i                                                                              i2         i

which means that the perceived probability to consume a low valuation good is weakly higher for
a consumer with a high valuation for the other good. Hence,
                                       X
                                                                                    1                                2
                                                                  i   (    i)           (    i ; hh)          +          (     1 ; hh)          h         t (2)
                                       i2              i
                                   |                                                             {z                                                               }
                                                                          utility from truth-telling for hh
                                                   X
                                                                                            1                                           2
           /(A35)binds/                =                                   i   (    i)          (        i ; ll)        (0) h +             (           1 ; ll)       (0) h           t (0)
                                                    i2            i
                                               |                                                                        {z                                                                }
                                                                                                 utility if hh announces ll
                                                   X
                                                                                            1                                           2
                                       =                                   i   (    i)          (        i ; ll)        (0) l +             (       1 ; ll)           (0) h       t (0)
                                                    i2            i
                                               |                                                                        {z                                                                }
                                                                                                 utility if lh announces ll
                                                                  X
                                                                                                      1
                                   + (h                 l)                          i   (       i)        (        i ; ll)     (0)
                                                                     i2        i
                                                   X
                                                                                            1                                           2
/binding DAIC for lh/                  =                                   i   (    i)          (        i ; lh)         (1) l +            (           1 ; lh) h             t (1)
                                                    i2            i
                                               |                                                                   {z                                                            }
                                                                                        utility from truth-telling for lh
                                                                  X
                                                                                                      1
                                   + (h                 l)                          i   (       i)        (        i ; ll)     (0)
                                                                     i2        i
                                                   X
                                                                                            1                                               2
                                       =                                   i   (    i)          (        i ; lh)         (1) h +                (       1 ; lh) h             t (1)
                                                    i2            i
                                               |                                                                   {z                                                             }
                                                                                            utility if hh announces lh
                                                                  X                                                                                               X
                                                                                                     1                                                                                             1
                                   +(h                 l)                           i   (   i)            (        i ; ll)     (0)          (h           l)                      i    (       i)       (   i ; lh)       (1);
                                                                  i2           i                                                                                  i2      i
                                       |                                                                                               {z                                                                                  }
                                                                                                                                        0

which contradicts (A36).

(Proof of Proposition 4, continued): We conclude that all constraints must bind. This immediately
implies that (1) = (0) : Assuming that l < c < h it is easy to check that 0 < (1) = (0) < 1

                                                                                                44
for su¢ ciently large n; which can only hold if G1 ( ) = G0 ( ) = 0: That means that the provision
rule for good j becomes
                                  8
                                  >
                                  >       0        if H j ( ; 1) + H j ( ; 2) h   cn < 0
                                  <
                       j                                j            j
                           ( )=       z 2 [0; 1]   if H ( ; 1) + H ( ; 2) h       cn = 0
                                  >
                                  >
                                  :       1             j           j
                                                   if H ( ; 1) + H ( ; 2) h       cn > 0;

which coincides with the provision rule if good j is provided as a stand alone good. Since the
inclusion rule is also the same as that when only good is provided, the result follows.




                                                         45
B        Appendix: Proofs for Results in Section 2
Proof of Proposition 1.

Claim B1 For any incentive feasible mechanism G of the form (3), there exist an incentive feasible
mechanism
                                                                                       j           j        j
                                                                     G=                    ;       1 ; :::; n              ; (ti )i2I ;                                          (B1)
                                                                                                                    j2J

 that generates the same social surplus, where                                                              j   :      n   ! [0; 1] is the provision rule for good j;
 j
 i   :           ! [0; 1] is the inclusion rule for agent i and good j;and ti :                                                                    ! R is the transfer rule for
agent i:

Proof. Consider an incentive feasible mechanism G. Pick k 2 [0; 1] arbitrarily and de…ne,
                              Z 1
    j
      ( ) = E j ( ; #) =               j
                                         ( ; #) d#                                                               (B2)
                                 0
             8                             R     R1 j
                                                        ( ;#)! ji ( ;#)d#dF( i )    R    R1 j
             >
             < E  i
                    j
                      ( ;#)! j
                               (  ;#)        n
                                               i
                                                  0
                         j
                             i
                                       =      R       R 1 j                      if   n       ( ; #) d#dF ( i ) > 0
  j                E i ( ;#)                                ( ;#)d#dF( i )              i 0
  i  ( i ) =                                      n
                                                    i
                                                       0
             >
             :                                                                      R    R1 j
                                                k                                if   n       ( ; #) d#dF ( i ) = 0
                                                                                        i 0
                           Z
 ti ( i ) = E i ( ) =                 ( ) dF ( i ) ;
                                                            n
                                                                i

for each               2       n; j    2 J and i 2 I: This is a mechanism of the form in (B1), and we will call it
G. Use of the law of iterated expectations on                                                          j   ( ) and ti ( i ) shows that (BB) is una¤ected when
switching from G to G: It remains to show that the surplus is unchanged, and that (IC) and (IR)
continue to hold under G: The utility of agent i of type i 2 who announces ^i 2 is
                   hP                                                    i
                           j ^               j ^                  ^i ; i
               E i   j2J      i  ; i ; #   ! i   i ; i ; # i               in mechanism G  (B3)
                   hP                                        i
                           j ^ ;         j ^
               E i   j2J       i   i     i     i   i ti ^i     in mechanism G:             (B4)
     R           R1
If       n
                       j   ^i ;        i; #         d#dF (               i)   = 0; we trivially have that the payo¤s in (B3) and (B4) are
             i    0
                                        R            R1 j
identical, whereas if                           n
                                                                     ^i ;       i; #           d#dF (           i)   > 0; we have that
                                                    i       0


                                                                                                                            E i ! ji ^i ;            i; #
                                                                                                                                                             j     ^i ;   i; #
                           j    ^i ;                    j       ^i                                 j   ^i ;
                   E   i                    i           i            i        = E              i                    i; #                                                         (B5)
                                                                                                                                        E    i
                                                                                                                                                 j    ^i ;       i; #

                                                                              = E i ! ji ^i ;                       i; #
                                                                                                                             j   ^i ;       i; #       i:

Trivially, E i ti ( i ) = ti ( i ) = E                                i       ( ) ; which combined with (B5) implies that the payo¤s in (B3)
and (B4) are identical. Since the equality between (B3) and (B4) were established for any i; i and
^i ; it follows that all incentive and participation constraints (IC) and (IR) hold for mechanism G
given that they are satis…ed in mechanism G. Moreover, [again by (B5)]
                      hP                    i       hP                         i
                  E i          j( ) j( )      = E         ! j
                                                              ( ; #) j
                                                                       ( ; #)
                          j2J       i  i  i       i   j2J i                   i ;                                                                                                (B6)

                                                                                                           1
so it follows by integration over                                    and summation over i that
                                  hP         P                                                     i            hP               P                                           i
                                                                             j
                              E        i2I         j2J
                                                               j   ( )       i   ( i)          i       =E                i2I           j2J
                                                                                                                                               j
                                                                                                                                                   ( ; #) ! ji ( ; #)    i       ;             (B7)

                                                                                     j                               j                                                           j
By construction, we also have that                                                       ( ) = E                         ( ; #) for every                 : Thus E                   ( ) C j (n) =
         j
E            ( ; #) C j (n) ; implying that
                               "                                                                #                                         "                                           #
                  X              X j                                                                     X                                    X
                        E j( )       i ( i) i                                C j (n) =                               E       j
                                                                                                                                 ( ; #)             ! ji ( ; #)   i     C j (n) :              (B8)
                     j2J                     i2I                                                         j2J                                  i2I

Hence, G and G generate the same social surplus.

Claim B2 For every incentive feasible mechanism of the form (B1), there exists an anonymous
simple incentive feasible mechanism g of the form (5) that generates the same surplus.

Proof. Consider an incentive feasible simple mechanism G on form (B1). For k 2 f1; ::::; n!g ; let
Pk : I ! I denote the k-th permutation of the set of agents I. Note that Pk 1 (i) gives the index
of the agent who takes agent i0 s position in permutation Pk : Moreover, for any given                                                                                                     2   n;   let
 PK                                                                 n
             =       Pk 1 (1) ; :::; Pk 1 (n)              2             denote the corresponding k-th permutation of                                                                .18   For each
                                                          j   j         j
k 2 f1; :::; n!g ; let Gk =                               k ; k1 ; :::; kn                               ; tk1 ; :::; tkn                be given by
                                                                                              j=1;2

                                                      j                          j           Pk                                  n
                                                      k   ( ) =                                             8        2                ; j 2 J;                                                 (B9)
                                                  j                              j
                                                  ki ( i )          =                    ( )
                                                                                 Pk 1 (i) i
                                                                                                                 8       i   2         ; j 2 J ; i 2 I;
                                               tki ( i ) = tP                            1
                                                                                             (i) ( i )          8        i   2         ; i 2 I;
                                                                                     k



and let g =                   ej ; ej1 ; :::; ejn                  ;e
                                                                    t1 ; :::; e
                                                                              tn                   be given by
                                                          j=1;2

                                                         1 Pn!       j
                                           ej ( ) =      n!P k=1 k ( )           8 2 n; j 2 J
                                                            n!         j     j
                                                            k=1 E i [ k ( )] ki ( i )
                                           eji (    i) =     Pn!          j           8 i 2 ;i 2                                                    I; j 2 J
                                                               k=1 E i [ k ( )]
                                                            P  n!
                                           e
                                           ti (          1
                                                   i ) = n!    k=1 tki ( i )     8 i 2 ; i 2 I:

We now note that: (1) for each j 2 J ; ej ( ) = ej 0 if                                                                           0
                                                                                                                                      is a permutation of : This is immediate
               n      on!                          n                                                                                  on!
since the sets   j
                   ( )    =    j (P ( )) n!    and   j                                                                            0
                                                                                                                                            = j Pk 0
                                                                                                                                                            n!
                                                                                                                                                                are the same;
                 k                 k       k=1       k                                                                                                      k=1
                                            k=1                                                                                         k=1
(2) for j 2 J and each pair i; i0 2 I; eji ( ) = eji0 ( ) : That is, the inclusion rules are the same
for all agents. To see this, consider agent i and i0 , and suppose that i = i0 : We then have
     n     h     i       on!       n    h      i         on!
that E i jk ( ) jki ( i )     and E i0 jk ( ) jki0 ( i0 )     are identical and that E i ej ( ) =
                                                      k=1                                                                              k=1
    18
         To illustrate, suppose n = 3; M = 2;                                         = ( 1;           2;       3)   = ((1; 2) ; (3; 2) ; (2; 1)) : Consider, for example, pur-
mutation k given by Pk (1) = 2; Pk (2) = 1; Pk (3) = 3: Then Pk 1 (1) = 2; Pk 1 (2) = 1; Pk 1 (3) = 3 and
 Pk
         =       Pk 1 (1)
                          ;   Pk 1 (2)
                                       ;   Pk 1 (3)
                                                          = ( 2;        1;       3)   = ((3; 2) ; (1; 2) ; (2; 1)) :



                                                                                                            2
E    i0   ej ( ) ; and (3) for each pair i; i0 2 I; e        ti0 ( ) ; which is obvious since the sets ftki ( i )gn!
                                                    ti ( ) = e                                                    k=1
                       0       n!
and tki                i       k=1
                                             are identical. Together, (1), (2) and (3) establishes that g is anonymous and
simple.
      Now we show that g is incentive feasible and generates the same expected surplus as G. First,
since G and Gk are identical except for the permutation of the agents, we have, for k = 1; :::; n!;
          (      "                        #)         (        "                     #)
     X      j
                   X j          j
                                               X                X j       j
                                     j                  j                      j
        E k( )         ki ( i ) i  C (n)     =     E      ( )      i ( i) i  C (n)     :      (B10)
          j2J                                    i2I                                                   j2J                          i2I

Hence,
                           (                 "                                        #)                    (                     " P                                                                       #)
              X                 j
                                              X         j             j       j
                                                                                               X                1 X
                                                                                                                   n!
                                                                                                                          j
                                                                                                                                   X n! E                       j
                                                                                                                                                              i k    ( )       j
                                                                                                                                                                                    ( i)     j       j
                                                                                                                                     k=1                                       ki
                    E e ( )                            e ( i)         i     C (n)          =            E                 k   ( )     Pn!                              j                     i    C (n)
              j2J                                i2I                                           j2J
                                                                                                                n!                  i2I                 k=1    E     i k   ( )
                                                                                                                   k=1
                                    (                    )    "             #
              XX            1 X
                                 n!
                                          j      j     j        1 X j
                                                                    n!
                                                                                j
     =                E i           E i k ( ) ki ( i ) i    E          k ( ) C (n)
              j2J i2I
                            n!                                  n!
                                k=1                                k=1
                           (        "                       #)           (        "                                                                                        #)
               1 Xn! X
                               j
                                     X      j        j   j
                                                                   X        j
                                                                                   X                                                     j              j        j
     =                   E     k( )         ki ( i ) i C (n)    =      E      ( )                                                        i   ( i)       i     C (n)                 ;
              n!     j2J              i2I                          j2J              i2I
                   k=1


where the last equality follows from (B10). Hence the surplus generated by g is identical to that
by original mechanism G: To show that g is incentive feasible we …rst note that E jk ( ) = E j ( )
      P                P
and E i2I tki ( i ) = E i2I ti ( i ) for all k, since the agents’valuations are drawn from identical
distributions and Gk and G only di¤er in the index of the agents. Thus
     P                                  P                                                              P             Pn!                            P                          Pn!          j
 E            e
          i2I ti ( i )                        j2J      Eej ( ) C j (n)                   =         E            1
                                                                                                            i2I n!        k=1 tki ( i )                     j2J
                                                                                                                                                                       1
                                                                                                                                                                     E n!               k=1 k     ( ) C j (n)
                                                                                                       P                        P                   j
                                                                                         =         E        i2I ti ( i )            j2J       E         ( ) C j (n) ;

so g satis…es (BB) if G does. Second, (IC) holds for any permuted mechanism, that is,
                   P                                                                               P             j b               j b
          E    i     j2J
                                     j
                                     k(      )    j        j
                                                  ki ( i ) i                tki ( i )      E   i       j2J       k ( i;        i ) ki ( i ;
                                                                                                                                                           j
                                                                                                                                                        i) i         tki (bi ;               i)       (B11)

for all i 2 I; and                           i; i
                                                 b 2             . Hence,
                                                                                               "              # Pn!
                               X                                                           X      1 X j
                                                                                                      n!                                      j             j
                                                                                                                                                                                        1 X
                                                                                                                                                                                            n!
                                         j         j              j       e                                       k=1 E i                     k   ( )       ki   ( i)      j
                   E       i            e ( )e ( i )              i       t( i ) = E     i               k( )      Pn!                              j                      i                    tki ( i )
                               j2J                                                         j2J
                                                                                                  n!                 k=1 E                    i     k   ( )                             n!
                                                                                                     k=1                                                                                   k=1
                                    "                                                            #          "                                                                                          #
                    1      X
                           n!                    X                                                     1 X
                                                                                                         n!      X j
              =                      E                      j
                                                                ( )   j
                                                                           ( i)   j
                                                                                        tki ( i )            E i        b                             j b                   j                 b
                                             i              k         ki          i                                   k( i;                       i ) ki ( i ;           i) i            tki ( i ; i )
                    n!                           j2J
                                                                                                      n!         j2J
                           k=1                                                                               k=1

                       X 1 X  n!
                                                       j b                j b                  1 X
                                                                                                  n!                               X
              =    E i                                 k( i;          i ) ki ( i ;
                                                                                           j
                                                                                        i) i         tki (bi ;            i)   =         E i ej (bi ;                j
                                                                                                                                                                 i )ei
                                                                                                                                                                           bi            j
                                                                                                                                                                                         i    t(bi ); (B12)
                                                                                                                                                                                              e
                       j2J
                           n!                                                                  n!                                  j2J
                                             k=1                                                       k=1


where the inequality follows from (B11). Hence g is satis…es (IC). Finally, g also satis…es the (IR)
because (see the second line in (B12)) all the permuted mechanisms satisfy participation constraints.
Proposition 1 follows by combining Claims B1 and B2.

Proof of Proposition 2.


                                                                                                        3
Notation:             This proof requires us to be explicit about the coordinates of the vector                                                                                 when per-
muting J . We therefore need some extra notation for this proof (only). We will, with some abuse
of notation, write F ( )                                  i2I F ( i ) and F (      i)     k2Ini F                                ( k ) as the joint distribution of                        and
                                                              j       1        j 1    j+1
   i    respectively. We write                              i   =     i ; :::; i   ; i ; :::; M
                                                                                              i                                       for a type vector where good j has
                                                                  j                    j                j
been removed. Analogously,                                            =            1       ; :::;   n       stands for the type pro…le with good j coordinate
                                                              j                j        j
removed for all agents and                                        =            1 ; :::; n           is the vector collecting the valuations for good j for
                                                          j                    j                j     j          j                        j               j        j     j        j
all agents. Furthermore,                                  i   =            1       ; :::;     i 1 ; i+1 ; :::; n               and            i   =       1 ; :::; i 1 ; i+1 :::; n        are
                                                                                                        j         j
used for the vectors obtained respectively from                                                                 and           by removing agent i: These conventions
                                                                                                                          j
are used also on the distributions, so, for example, F                                                                    i   denotes the cumulative distribution of
   j                                                                                                                                                            j          j
   i:      Conditional distributions are denoted in the natural way: for example F                                                                              i      j   i   denotes the
                                                j                                            j
joint distribution of                               conditional on                           i:
                                            Since no integrals are taken over subsets of the range
                                                i
                                                R                          R
of integration, we also conserve space and write h ( ) dF ( ) rather than 2 n h ( ) dF ( ) when
integrating a function h over                                      and similarly for integrals over various components of :
Proof. Consider a simple anonymous incentive feasible mechanism g. For k 2 f1; :::; M !g let
                                                                                                                 Pk              Pk 1 (1)        P 1 (M )
Pk : J ! J                    be the k-th permutation of J and                                                   i       =       i        ; :::; i k                   2       be the per-
                                                                                                                                                       Pk             Pk       Pk            n
mutation of               i    when the goods are permuted according to Pk : Let                                                                            =         1 ; :::; n      2
denote the corresponding permutation of :19 For each k 2 f1; :::; M !g de…ne mechanism gk =
 n o      n o
( jk     ; jk      ; tk ), where for every 2 n ;
            j2J                 j2J

             j                Pk 1 (j)          Pk
      1.     k   ( )=                                    for every j 2 J ;20
             j                 Pk 1 (j)             Pk
      2.     k   ( i) =                             i         for every j 2 J ;21

                                   Pk
      3. tk ( i ) = t              i        :

   By construction, each gk is simple. Each gk is also anonymous by the anonymity of g: Using
the de…nition of gk and manipulating the result by observing that the labeling of the variables is
  19
       To illustrate, suppose n = 2; M = 3; and                                                     = ( 1;      2)    = ((1; 2; 0) ; (3; 2; 1)) : Consider, for example, pur-
mutation k given by Pk (1) = 2; Pk (2) = 1; Pk (3) = 3: Then Pk 1 (1) = 2; Pk 1 (2) = 1; Pk 1 (3) = 3 and
 Pk              Pk 1 (1)      Pk 1 (2)     Pk 1 (3)                                         Pk             Pk 1 (1)     Pk 1 (2)     Pk 1 (3)                        Pk        Pk    Pk
 1     =         1        ;    1        ;   1                     = (2; 1; 0) ;              2      =       2        ;   2        ;   2               = (2; 3; 1) ;        =    1 ;   2     =
((2; 1; 0) ; (2; 3; 1)) :
  20                                 Pk 1 (j)            Pk           j
       This implies that             k                            =       ( ) for every j 2 J :
  21                                 Pk 1 (j)            Pk            j
       This implies that             k                   i        =        ( i ) for every j 2 J .




                                                                                                            4
irrelevant, we get:22
                                   Z                                                                         Z
    j           j     j                     j                 j       j                                                    Pk 1 (j)     Pk             Pk 1 (j)       Pk       j
E   k    ( )    k( i) i       =             k   ( )           k ( i ) i dF (       ) /def of gk / =                                                                   i        i dF (     )
                                                                                                                 2 n
                                   Z            Z
                                                               Pk 1 (j)       Pk       Pk 1 (j)      Pk          j    j           j    j
                              =                                                                      i           i dF                           dFj             j
                                                                                                                                                                                                           (B13)
                                        j                 j
                                                          2                                                                                0                                             13
                                   Z                          Z
                                                                               Pk 1 (j)           Pk 1 (j)            Pk 1 (j)                                 Pk
                                                                                                                                                                          Pk 1 (j)                       Pk 1 (j)
           /relabel/          =                           4                               ( )                ( i)              dF j        @               j                             A5 dFj
                                        P
                                                1
                                                    (j)               j Pk
                                                                                                                      i                                                | {z }
                                            k                     (    )                                                                                            j-th a rg u m e nt


where we recall,
                                                     j Pk                    Pk 1 (1)             Pk 1 (j 1)           Pk 1 (j+1)                      Pk 1 (n)
                                                                                        ; :::;                    ;                    ; :::;                         :                              (B14)

By exchangeability, we have
              0                                                                                  1
                          j   @             j Pk                           Pk 1 (j)              A
                     dF                                                 | {z }                                                                                                                       (B15)
                                                              j-th (vector) argument
                          j       Pk 1 (1)                        Pk 1 (j 1)          Pk 1 (j+1)                 Pk 1 (n)                                                                 Pk 1 (j)
               = dF                                 ; :::;                      ;                    ; :::;                  jj-th (vector) argument =
                          j         j                                                                 Pk 1 (j)
               = dF                     jj-th (vector) argument =
                          Pk 1 (j)                   Pk 1 (j)                                                                               Pk 1 (j)
               = dF                                                   jPk 1 (j) -th (vector) argument =                                                        ;

and
                                                                                                              P 1 (j)
                                                                                Pk 1 (j)                                      Pk 1 (j)
                                                                      dFj                        = dF          k
                                                                                                                                               :                                                     (B16)

Using (B13), (B15) and (B16), we have that

                j      j     j
           E    k   ( )k( i) i                                                                                                                                                                            (B17)
                       2                                                  0                             13
           Z             Z                                     1                  Pk
                                      1            1        P    (j)                          1                           1
    =                  4           Pk (j)
                                          ( ) Pk (j) ( i ) i k       dF j @     j          Pk (j) A5
                                                                                                           dFj Pk (j)
             P
                 1
                   (j)         P                                                         |  {z    }
               k          ( j)   k
                                                                                     j-th a rg u m e nt
                       2                                                       0                                      13
           Z             Z                                     1                                                             1
                       6              1
                                   Pk (j)          1        P    (j)       1   B      1                  1            C7 Pk (j)                                                                      Pk 1 (j)
    =            1     4                  ( ) Pk (j) ( i ) i k       dF Pk (j) @ Pk (j) j            Pk (j)
                                                                                                   | {z }             A 5 dF
             P
               k
                   (j)
                          ( j )Pk
                                                                                            Pk 1 (j)-th a rg u m e nt
           Z
                Pk 1 (j)         1        P 1 (j)                 1          1       P 1 (j)
    =                    ( ) Pk (j) ( i ) i k     dF ( ) = E Pk (j) ( ) Pk (j) ( i ) i k      :

                                                                                                                      Pk
Moreover, exchangeability implies that Etk ( i ) = Et                                                                 i        = Et ( i ) : The ex ante utility,

               h P                             i     PM
                  M           j             j      j                                                                   Pk 1 (j)                Pk 1 (j)                   Pk 1 (j)
         E       j=1          k   ( ) t k ( k ( i) i
                                            i )  =     j=1
                                                           E                                                                          ( )                      ( i)       i                   Et ( i )
               ,                            ,
                 Same elements in J and            h P                                                                                                 i
                                                      M                                                                j          j                j
                     1             1
                                                 =    j=1
                                                           E                                                               ( )        ( i)         i           Et ( i ) ;                            (B18)
                   Pk (1) ; :::; Pk (M )
    22
         It is important to point out that, in reaching the fourth equality in (B13), we can relabel the integrating varibles
(since they are dummies) but not the integrating functions.




                                                                                                      5
is thus unchanged when changing from g to gk . The same steps as in (B13) through (B17) (only
                                                                                       j                          Pk 1 (j)
somewhat simpler) establishes that E                                                   k    ( )=E                                 for every j, implying that
              h P                                                                P        i   h         PM                                                                                       P             i
                      j                                                                                        j
            E    M
                 j=1 k
                         ( ) C j (n)                                           i
                                                                                 t k ( i )  =   C (n) E  j=1 k
                                                                                                                 ( )                                                                              i
                                                                                                                                                                                                    Et k (  i )  (B19)
             h       PM                                                      P            i      h PM                                                                                            P         i
                              j                                                                          j
           = C (n) E    j=1
                                 ( )                                          i
                                                                                 Et ( i ) = E        j=1
                                                                                                           ( ) C (n)                                                                              i
                                                                                                                                                                                                    t ( i) ;

so the feasibility constraint is una¤ected when changing from g to gk : Next, write Write U ( i ; 0i ; g)
and U ( i ; 0i ; gk ) for the expected utility from announcing                                                                         0
                                                                                                                                       i       when the true type is                                   i    in mechanisms
g and gk respectively. Next, by a calculation in the same spirit as (B13) through (B17):

                                Z                                                                                                  Z
          j           0                         j                      0                                                                               Pk 1 (j)                          0 Pk
    E   i k      i;   i   =                     k                 i;   i     dF         i   (    i ) /def          of gk / =                                                    i;       i       dF     i   (    i)
                                        i                                                                                                      i
                                Z           "Z                                                                                                             #
                                                                   Pk 1 (j)                          0 Pk                     j        j           j
                          =                                                                     i;   i             dF         i        i               i       dFj      i
                                                                                                                                                                                j
                                                                                                                                                                                     i                                        (B20)
                                    j                     j
                                        i                 i
                                Z                     "Z                                                                                                                                     #
                                                                                                                                                                   Pk       Pk 1 (j)                            Pk 1 (j)
                                                                                           Pk 1 (j)                     0Pk                j               j
            /relabel/     =         P
                                            1
                                                (j)                    P
                                                                             1
                                                                                 (j)                              i;    i         dF       i               i                 i                   dFj   i         i
                                        k                                k
                                        i                              i
                                Z                     "Z                                                                                                                                              #
                                                                                           Pk 1 (j)                     0Pk                Pk 1 (j)                 Pk 1 (j)              Pk 1 (j)                       Pk 1 (j)
 /exchangeability/        =         P
                                            1
                                                (j)                    P
                                                                             1
                                                                                 (j)                              i;    i         dF       i                        i                      i               dFj   i        i
                                        k                                k
                                        i                              i
                                Z
                                                Pk 1 (j)                               0Pk                                             Pk 1 (j)                         0Pk
                          =                                                  i;        i        dF        i   (        i)   =E     i                               i;   i
                                        i

                                                                                                                                                               0
That is, the perceived probability of getting j when announcing                                                                                                i   in mechanism gk is the same as
                                                                                                      1                                                                     0 Pk
the perceived probability of getting good Pk (j) when announcing                                                                                                            i            ; so that
                                                                   PM                       j                               j 0 j
              U ( i ; 0i ; gk ) = E                           i            j=1              k
                                                                                                         0
                                                                                                      i; i                  k ( i) i               tk          0
                                                                                                                                                               i                                                             (B21)
                                                      PM                         Pk (j) 1
                                                                                                      0 Pk j        1                                                 0Pk                              0 Pk
                                    =                         j=1                k      (             i   ) i E i Pk (j)                                           i; i                      t         i             ;

whereas
                          M
                          X
            0                       j 0 j        j                                            0                         0
  U ( i;    i ; g)    =             k ( i) i E i k                                         i; i               t         i    )                                                                                               (B22)
                          j=1
                                                                                            PM                j
                                                                                                                                    1
                                                                                                                            0 Pk Pk (j)                                                                              0 Pk
                          U ( i ; 0i ; g)                               Pk         =            j=1           k(            i   ) i     E i jk                                          0Pk
                                                                                                                                                                                     i; i                  t         i
                                                              i=        i
                                                           0           0Pk
                                                           i=          i
                                PM                        Pk 1 (j)                     0 Pk j      P 1 (j)                                        0Pk                                    0 Pk
                           =         j=1                  k                  (         i   ) i E i kk                                          i; i                         t            i            = U ( i ; 0i ; gk );

                                                                                                              0                                                                                                                     Pk
which establishes that type                           i    who announces                                      i   in mechanism gk gets the same utility as type                                                                     i
                          0 Pk
who announces             i         in mechanism g: Hence incentive compatibility and individual rationality
of gk follows from incentive compatibility and individual rationality of g: Now, construct a new




                                                                                                                  6
mechanism ge = ( ej              j2J
                                       ; ej j2J ; e t) by letting

               ej ( ) =                 1 PM !    j          1 PM !    Pk 1 (j)   Pk                                                                                                              (B23)
                                      M!     k=1 k ( ) = M !      k=1
                                      PM ! j                       PM ! P 1 (j)                                                            Pk                    Pk 1 (j)            Pk
                                               ( i ) E  i
                                                          j
                                                            ( )       k=1
                                                                              k
                                                                                                                                           i        E        i
               j                         k=1 k            k
              e ( i) =                    PM !                  =          P
                                                      j                        M!                                                              Pk 1 (j)            Pk
                                            k=1 E i k ( )                      k=1 E                                                       i

               e                          1                      1                  Pk
               t ( i) =                   M ! tk      ( i) =     M! t               i

let P : J ! J be an arbitrary perturbation of the set of goods. Then,
          1           P ! P 1 (P 1 (j))     P Pk         P ! P 1 (j)
      eP (j) P = M1 ! M k=1
                              k                    = M1 ! Mk=1
                                                                 k
                                                                                                                                                                 Pk
                                                                                                                                                                        = ej ( ) ;                (B24)
                   n        1
                                                                    oM !                      n                                       oM !
                       Pk       (P    1 (j)
                                              )         P Pk                                          Pk 1 (j)              Pk
since the sets                                                                   and                                                             are identical. Furthermore
                                                                        k=1                                                            k=1
                                                          PM !          P 1 P   (        1 (j)
                                                                                                 )                Pk            P 1 P     (      1 (j)
                                                                                                                                                         )            Pk
                                                                         k                                                        k
                            P    1 (j)
                                              P                k=1      k                             ( Pi )              E   i k                            ( P)
                        e                     i       =                          PM !                 P 1 (P 1 (j))                            Pk
                                                                                        k=1      E  i k
                                                                                                        k
                                                                                                                                       ( P)                                                       (B25)
                                                      PM !      P       1 (j)       Pk               P 1 (j) P
                                                                    k                        E    i   k        k      (       )
                                                                                                                                  = ej ( i )
                                                          k=1                       i
                                                  =             PM !                    P 1 (j)           Pk
                                                                     k=1 E          i    k            (           )
for the same reason. It is obvious that e
                                        t                                                P
                                                                                         i           = e
                                                                                                       t ( i ) ; which together with (B24) and (B25)
establishes that ge is symmetric. To complete the proof we need to show that ge is incentive feasible
and generates the same surplus as g: We note that
                                                   PM ! j
                                   P !                                 j
                                                     k=1 k ( i )E i k ( ) j
        Eej ( ) ej ( i ) ji = M1 ! M         j
                                     k=1 E k ( )      PM !          j        i
                                                         k=1 E i k ( )
                  P !                  PM ! j           j                    h PM ! j                                                                                                     i
                                 j      k=1 k ( i )E i k ( ) j                                                                                                          j             j
        = M1 ! E i Mk=1 E i k ( )        PM !       j         i     = M1 ! E     k=1 k ( i )                                                                            k      ( )    i
                                                 E    ( )
              PM h j
                                            k=1 i i k                 hP                                                                                                                 i
                                                          P
        ) E j=1 e ( ) ej ( i ) ji e       t ( i ) = M1 ! M      !
                                                             k=1 E
                                                                           M    j
                                                                                  ( i ) jk ( )                                                                             j
                                                                                                                                                                                 tk ( i )
                                   hP                                    i j=1 k                                                                                           i

        /(B17) & (B18)/ = E           M     j( ) j( ) j           t ( i) ;
                                      j=1        i         i

which establishes that the ex ante utility from ge and g are the same for all agents. Moreover,
    hP                        Pn            i      h        PM 1 PM ! j               Pn PM ! 1               i
        M    j       j (n)          e
  E     j=1 e  ( ) C            i=1 t ( i )   =  E   C (n)    j=1 M !  k=1 k   (  )    i=1   k=1 M ! k t ( i )
    PM ! h            PM j             Pn              i
  = k=1 E C (n) j=1 k ( )                  i=1 tk ( i ) / (B19)/
        P        hP                         Pn            i     hP                     Pn           i
  = M1 ! M   !
           k=1 E      M
                      j=1
                           j ( ) C (n)
                                               i=1 t ( i )  = E    M
                                                                   j=1
                                                                        j ( ) C j (n)
                                                                                         i=1 t ( i )  ;
so the budget balance constraint is una¤ected. All incentive compatibility constraints hold since,
                                M
                                X
     U ( i ; 0i ; ge) =                ej ( 0i ) ji E iej                          0
                                                                                i; i                 e
                                                                                                     t        0
                                                                                                              i
                                j=1
                                 PM !      j  0        j        0                             h           PM !                                      i              PM !
                                      k=1 k ( i )E i k (     i; i)                                1                   j                      0               1                                0
                       =               PM !        j        0                       E     i       M!              k=1 k                   i; i               M!         k=1 tk                i
                                         k=1 E   i k (    ;
                                                         i i  )
                                     1    PM ! h           j     0                j                       0                       0
                                                                                                                                      i
                       =             M!           k=1      k     i       E      i k                  i;   i            tk         i

                                     1    PM !                0                                                                           1      PM !
       / (B21)/ =                    M!           k=1 U ( i ; i ; gk )
                                                                                             / IC for each k/                             M!            k=1 U (        ; gk ) = U ( ; ge):
                                                                1       PM !
By the same calculation, U ( ; ge) =                            M!              k=1 U (           ; gk )               0; since all participation constraints hold
for each k: This completes the proof.

                                                                                                 7
